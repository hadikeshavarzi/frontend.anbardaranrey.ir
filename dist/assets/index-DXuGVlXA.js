var pge=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Vbt=pge((wl,xl)=>{function PH(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var fl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ho(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Qp(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var DH={exports:{}},VC={},LH={exports:{}},nr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0=Symbol.for("react.element"),gge=Symbol.for("react.portal"),yge=Symbol.for("react.fragment"),vge=Symbol.for("react.strict_mode"),bge=Symbol.for("react.profiler"),_ge=Symbol.for("react.provider"),wge=Symbol.for("react.context"),xge=Symbol.for("react.forward_ref"),Ege=Symbol.for("react.suspense"),Sge=Symbol.for("react.memo"),jge=Symbol.for("react.lazy"),cB=Symbol.iterator;function Tge(t){return t===null||typeof t!="object"?null:(t=cB&&t[cB]||t["@@iterator"],typeof t=="function"?t:null)}var MH={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$H=Object.assign,FH={};function rb(t,e,n){this.props=t,this.context=e,this.refs=FH,this.updater=n||MH}rb.prototype.isReactComponent={};rb.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rb.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function VH(){}VH.prototype=rb.prototype;function RM(t,e,n){this.props=t,this.context=e,this.refs=FH,this.updater=n||MH}var PM=RM.prototype=new VH;PM.constructor=RM;$H(PM,rb.prototype);PM.isPureReactComponent=!0;var uB=Array.isArray,UH=Object.prototype.hasOwnProperty,DM={current:null},BH={key:!0,ref:!0,__self:!0,__source:!0};function zH(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)UH.call(e,r)&&!BH.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:c0,type:t,key:i,ref:o,props:s,_owner:DM.current}}function Cge(t,e){return{$$typeof:c0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function LM(t){return typeof t=="object"&&t!==null&&t.$$typeof===c0}function Age(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dB=/\/+/g;function Zk(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Age(""+t.key):e.toString(36)}function jj(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case c0:case gge:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Zk(o,0):r,uB(s)?(n="",t!=null&&(n=t.replace(dB,"$&/")+"/"),jj(s,e,n,"",function(u){return u})):s!=null&&(LM(s)&&(s=Cge(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(dB,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",uB(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Zk(i,l);o+=jj(i,e,n,c,s)}else if(c=Tge(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Zk(i,l++),o+=jj(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function cS(t,e,n){if(t==null)return t;var r=[],s=0;return jj(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Nge(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var so={current:null},Tj={transition:null},Ige={ReactCurrentDispatcher:so,ReactCurrentBatchConfig:Tj,ReactCurrentOwner:DM};function WH(){throw Error("act(...) is not supported in production builds of React.")}nr.Children={map:cS,forEach:function(t,e,n){cS(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cS(t,function(){e++}),e},toArray:function(t){return cS(t,function(e){return e})||[]},only:function(t){if(!LM(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};nr.Component=rb;nr.Fragment=yge;nr.Profiler=bge;nr.PureComponent=RM;nr.StrictMode=vge;nr.Suspense=Ege;nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ige;nr.act=WH;nr.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=$H({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=DM.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)UH.call(e,c)&&!BH.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:c0,type:t.type,key:s,ref:i,props:r,_owner:o}};nr.createContext=function(t){return t={$$typeof:wge,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_ge,_context:t},t.Consumer=t};nr.createElement=zH;nr.createFactory=function(t){var e=zH.bind(null,t);return e.type=t,e};nr.createRef=function(){return{current:null}};nr.forwardRef=function(t){return{$$typeof:xge,render:t}};nr.isValidElement=LM;nr.lazy=function(t){return{$$typeof:jge,_payload:{_status:-1,_result:t},_init:Nge}};nr.memo=function(t,e){return{$$typeof:Sge,type:t,compare:e===void 0?null:e}};nr.startTransition=function(t){var e=Tj.transition;Tj.transition={};try{t()}finally{Tj.transition=e}};nr.unstable_act=WH;nr.useCallback=function(t,e){return so.current.useCallback(t,e)};nr.useContext=function(t){return so.current.useContext(t)};nr.useDebugValue=function(){};nr.useDeferredValue=function(t){return so.current.useDeferredValue(t)};nr.useEffect=function(t,e){return so.current.useEffect(t,e)};nr.useId=function(){return so.current.useId()};nr.useImperativeHandle=function(t,e,n){return so.current.useImperativeHandle(t,e,n)};nr.useInsertionEffect=function(t,e){return so.current.useInsertionEffect(t,e)};nr.useLayoutEffect=function(t,e){return so.current.useLayoutEffect(t,e)};nr.useMemo=function(t,e){return so.current.useMemo(t,e)};nr.useReducer=function(t,e,n){return so.current.useReducer(t,e,n)};nr.useRef=function(t){return so.current.useRef(t)};nr.useState=function(t){return so.current.useState(t)};nr.useSyncExternalStore=function(t,e,n){return so.current.useSyncExternalStore(t,e,n)};nr.useTransition=function(){return so.current.useTransition()};nr.version="18.3.1";LH.exports=nr;var C=LH.exports;const ae=Ho(C),sP=PH({__proto__:null,default:ae},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kge=C,Oge=Symbol.for("react.element"),Rge=Symbol.for("react.fragment"),Pge=Object.prototype.hasOwnProperty,Dge=kge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lge={key:!0,ref:!0,__self:!0,__source:!0};function GH(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Pge.call(e,r)&&!Lge.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Oge,type:t,key:i,ref:o,props:s,_owner:Dge.current}}VC.Fragment=Rge;VC.jsx=GH;VC.jsxs=GH;DH.exports=VC;var a=DH.exports,iP={},HH={exports:{}},Ol={},qH={exports:{}},YH={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ne,le){var ge=ne.length;ne.push(le);e:for(;0<ge;){var Ue=ge-1>>>1,Ie=ne[Ue];if(0<s(Ie,le))ne[Ue]=le,ne[ge]=Ie,ge=Ue;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var le=ne[0],ge=ne.pop();if(ge!==le){ne[0]=ge;e:for(var Ue=0,Ie=ne.length,ot=Ie>>>1;Ue<ot;){var it=2*(Ue+1)-1,Te=ne[it],St=it+1,ut=ne[St];if(0>s(Te,ge))St<Ie&&0>s(ut,Te)?(ne[Ue]=ut,ne[St]=ge,Ue=St):(ne[Ue]=Te,ne[it]=ge,Ue=it);else if(St<Ie&&0>s(ut,ge))ne[Ue]=ut,ne[St]=ge,Ue=St;else break e}}return le}function s(ne,le){var ge=ne.sortIndex-le.sortIndex;return ge!==0?ge:ne.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,p=!1,y=!1,_=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(ne){for(var le=n(u);le!==null;){if(le.callback===null)r(u);else if(le.startTime<=ne)r(u),le.sortIndex=le.expirationTime,e(c,le);else break;le=n(u)}}function T(ne){if(_=!1,E(ne),!y)if(n(c)!==null)y=!0,Z(N);else{var le=n(u);le!==null&&X(T,le.startTime-ne)}}function N(ne,le){y=!1,_&&(_=!1,x(F),F=-1),p=!0;var ge=m;try{for(E(le),f=n(c);f!==null&&(!(f.expirationTime>le)||ne&&!B());){var Ue=f.callback;if(typeof Ue=="function"){f.callback=null,m=f.priorityLevel;var Ie=Ue(f.expirationTime<=le);le=t.unstable_now(),typeof Ie=="function"?f.callback=Ie:f===n(c)&&r(c),E(le)}else r(c);f=n(c)}if(f!==null)var ot=!0;else{var it=n(u);it!==null&&X(T,it.startTime-le),ot=!1}return ot}finally{f=null,m=ge,p=!1}}var P=!1,D=null,F=-1,Y=5,q=-1;function B(){return!(t.unstable_now()-q<Y)}function G(){if(D!==null){var ne=t.unstable_now();q=ne;var le=!0;try{le=D(!0,ne)}finally{le?J():(P=!1,D=null)}}else P=!1}var J;if(typeof w=="function")J=function(){w(G)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,z=W.port2;W.port1.onmessage=G,J=function(){z.postMessage(null)}}else J=function(){b(G,0)};function Z(ne){D=ne,P||(P=!0,J())}function X(ne,le){F=b(function(){ne(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,Z(N))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(ne){switch(m){case 1:case 2:case 3:var le=3;break;default:le=m}var ge=m;m=le;try{return ne()}finally{m=ge}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,le){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ge=m;m=ne;try{return le()}finally{m=ge}},t.unstable_scheduleCallback=function(ne,le,ge){var Ue=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ue+ge:Ue):ge=Ue,ne){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=ge+Ie,ne={id:d++,callback:le,priorityLevel:ne,startTime:ge,expirationTime:Ie,sortIndex:-1},ge>Ue?(ne.sortIndex=ge,e(u,ne),n(c)===null&&ne===n(u)&&(_?(x(F),F=-1):_=!0,X(T,ge-Ue))):(ne.sortIndex=Ie,e(c,ne),y||p||(y=!0,Z(N))),ne},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(ne){var le=m;return function(){var ge=m;m=le;try{return ne.apply(this,arguments)}finally{m=ge}}}})(YH);qH.exports=YH;var Mge=qH.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $ge=C,jl=Mge;function et(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var KH=new Set,Vw={};function Zp(t,e){wv(t,e),wv(t+"Capture",e)}function wv(t,e){for(Vw[t]=e,t=0;t<e.length;t++)KH.add(e[t])}var Gd=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aP=Object.prototype.hasOwnProperty,Fge=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hB={},fB={};function Vge(t){return aP.call(fB,t)?!0:aP.call(hB,t)?!1:Fge.test(t)?fB[t]=!0:(hB[t]=!0,!1)}function Uge(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Bge(t,e,n,r){if(e===null||typeof e>"u"||Uge(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function io(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var fa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fa[t]=new io(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fa[e]=new io(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fa[t]=new io(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fa[t]=new io(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fa[t]=new io(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fa[t]=new io(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fa[t]=new io(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fa[t]=new io(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fa[t]=new io(t,5,!1,t.toLowerCase(),null,!1,!1)});var MM=/[\-:]([a-z])/g;function $M(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(MM,$M);fa[e]=new io(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(MM,$M);fa[e]=new io(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(MM,$M);fa[e]=new io(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fa[t]=new io(t,1,!1,t.toLowerCase(),null,!1,!1)});fa.xlinkHref=new io("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fa[t]=new io(t,1,!1,t.toLowerCase(),null,!0,!0)});function FM(t,e,n,r){var s=fa.hasOwnProperty(e)?fa[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Bge(e,n,s,r)&&(n=null),r||s===null?Vge(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var rh=$ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uS=Symbol.for("react.element"),Ny=Symbol.for("react.portal"),Iy=Symbol.for("react.fragment"),VM=Symbol.for("react.strict_mode"),oP=Symbol.for("react.profiler"),JH=Symbol.for("react.provider"),QH=Symbol.for("react.context"),UM=Symbol.for("react.forward_ref"),lP=Symbol.for("react.suspense"),cP=Symbol.for("react.suspense_list"),BM=Symbol.for("react.memo"),Wh=Symbol.for("react.lazy"),ZH=Symbol.for("react.offscreen"),mB=Symbol.iterator;function c_(t){return t===null||typeof t!="object"?null:(t=mB&&t[mB]||t["@@iterator"],typeof t=="function"?t:null)}var Ns=Object.assign,Xk;function V_(t){if(Xk===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xk=e&&e[1]||""}return`
`+Xk+t}var eO=!1;function tO(t,e){if(!t||eO)return"";eO=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{eO=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?V_(t):""}function zge(t){switch(t.tag){case 5:return V_(t.type);case 16:return V_("Lazy");case 13:return V_("Suspense");case 19:return V_("SuspenseList");case 0:case 2:case 15:return t=tO(t.type,!1),t;case 11:return t=tO(t.type.render,!1),t;case 1:return t=tO(t.type,!0),t;default:return""}}function uP(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Iy:return"Fragment";case Ny:return"Portal";case oP:return"Profiler";case VM:return"StrictMode";case lP:return"Suspense";case cP:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case QH:return(t.displayName||"Context")+".Consumer";case JH:return(t._context.displayName||"Context")+".Provider";case UM:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case BM:return e=t.displayName||null,e!==null?e:uP(t.type)||"Memo";case Wh:e=t._payload,t=t._init;try{return uP(t(e))}catch{}}return null}function Wge(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uP(e);case 8:return e===VM?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Cf(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function XH(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Gge(t){var e=XH(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function dS(t){t._valueTracker||(t._valueTracker=Gge(t))}function eq(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=XH(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function g1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dP(t,e){var n=e.checked;return Ns({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function pB(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Cf(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tq(t,e){e=e.checked,e!=null&&FM(t,"checked",e,!1)}function hP(t,e){tq(t,e);var n=Cf(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fP(t,e.type,n):e.hasOwnProperty("defaultValue")&&fP(t,e.type,Cf(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gB(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fP(t,e,n){(e!=="number"||g1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var U_=Array.isArray;function Yy(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Cf(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function mP(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(et(91));return Ns({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yB(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(et(92));if(U_(n)){if(1<n.length)throw Error(et(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Cf(n)}}function nq(t,e){var n=Cf(e.value),r=Cf(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function vB(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rq(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pP(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rq(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hS,sq=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hS=hS||document.createElement("div"),hS.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hS.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Uw(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var lw={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hge=["Webkit","ms","Moz","O"];Object.keys(lw).forEach(function(t){Hge.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),lw[e]=lw[t]})});function iq(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||lw.hasOwnProperty(t)&&lw[t]?(""+e).trim():e+"px"}function aq(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=iq(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var qge=Ns({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gP(t,e){if(e){if(qge[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(et(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(et(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(et(61))}if(e.style!=null&&typeof e.style!="object")throw Error(et(62))}}function yP(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vP=null;function zM(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bP=null,Ky=null,Jy=null;function bB(t){if(t=h0(t)){if(typeof bP!="function")throw Error(et(280));var e=t.stateNode;e&&(e=GC(e),bP(t.stateNode,t.type,e))}}function oq(t){Ky?Jy?Jy.push(t):Jy=[t]:Ky=t}function lq(){if(Ky){var t=Ky,e=Jy;if(Jy=Ky=null,bB(t),e)for(t=0;t<e.length;t++)bB(e[t])}}function cq(t,e){return t(e)}function uq(){}var nO=!1;function dq(t,e,n){if(nO)return t(e,n);nO=!0;try{return cq(t,e,n)}finally{nO=!1,(Ky!==null||Jy!==null)&&(uq(),lq())}}function Bw(t,e){var n=t.stateNode;if(n===null)return null;var r=GC(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(et(231,e,typeof n));return n}var _P=!1;if(Gd)try{var u_={};Object.defineProperty(u_,"passive",{get:function(){_P=!0}}),window.addEventListener("test",u_,u_),window.removeEventListener("test",u_,u_)}catch{_P=!1}function Yge(t,e,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var cw=!1,y1=null,v1=!1,wP=null,Kge={onError:function(t){cw=!0,y1=t}};function Jge(t,e,n,r,s,i,o,l,c){cw=!1,y1=null,Yge.apply(Kge,arguments)}function Qge(t,e,n,r,s,i,o,l,c){if(Jge.apply(this,arguments),cw){if(cw){var u=y1;cw=!1,y1=null}else throw Error(et(198));v1||(v1=!0,wP=u)}}function Xp(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hq(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _B(t){if(Xp(t)!==t)throw Error(et(188))}function Zge(t){var e=t.alternate;if(!e){if(e=Xp(t),e===null)throw Error(et(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return _B(s),t;if(i===r)return _B(s),e;i=i.sibling}throw Error(et(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(et(189))}}if(n.alternate!==r)throw Error(et(190))}if(n.tag!==3)throw Error(et(188));return n.stateNode.current===n?t:e}function fq(t){return t=Zge(t),t!==null?mq(t):null}function mq(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mq(t);if(e!==null)return e;t=t.sibling}return null}var pq=jl.unstable_scheduleCallback,wB=jl.unstable_cancelCallback,Xge=jl.unstable_shouldYield,eye=jl.unstable_requestPaint,ti=jl.unstable_now,tye=jl.unstable_getCurrentPriorityLevel,WM=jl.unstable_ImmediatePriority,gq=jl.unstable_UserBlockingPriority,b1=jl.unstable_NormalPriority,nye=jl.unstable_LowPriority,yq=jl.unstable_IdlePriority,UC=null,Gu=null;function rye(t){if(Gu&&typeof Gu.onCommitFiberRoot=="function")try{Gu.onCommitFiberRoot(UC,t,void 0,(t.current.flags&128)===128)}catch{}}var Yc=Math.clz32?Math.clz32:aye,sye=Math.log,iye=Math.LN2;function aye(t){return t>>>=0,t===0?32:31-(sye(t)/iye|0)|0}var fS=64,mS=4194304;function B_(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _1(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=B_(l):(i&=o,i!==0&&(r=B_(i)))}else o=n&~s,o!==0?r=B_(o):i!==0&&(r=B_(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yc(e),s=1<<n,r|=t[n],e&=~s;return r}function oye(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lye(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Yc(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=oye(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function xP(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vq(){var t=fS;return fS<<=1,!(fS&4194240)&&(fS=64),t}function rO(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function u0(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yc(e),t[e]=n}function cye(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Yc(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function GM(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yc(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Rr=0;function bq(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _q,HM,wq,xq,Eq,EP=!1,pS=[],df=null,hf=null,ff=null,zw=new Map,Ww=new Map,qh=[],uye="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xB(t,e){switch(t){case"focusin":case"focusout":df=null;break;case"dragenter":case"dragleave":hf=null;break;case"mouseover":case"mouseout":ff=null;break;case"pointerover":case"pointerout":zw.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ww.delete(e.pointerId)}}function d_(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=h0(e),e!==null&&HM(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function dye(t,e,n,r,s){switch(e){case"focusin":return df=d_(df,t,e,n,r,s),!0;case"dragenter":return hf=d_(hf,t,e,n,r,s),!0;case"mouseover":return ff=d_(ff,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return zw.set(i,d_(zw.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ww.set(i,d_(Ww.get(i)||null,t,e,n,r,s)),!0}return!1}function Sq(t){var e=rp(t.target);if(e!==null){var n=Xp(e);if(n!==null){if(e=n.tag,e===13){if(e=hq(n),e!==null){t.blockedOn=e,Eq(t.priority,function(){wq(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cj(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=SP(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vP=r,n.target.dispatchEvent(r),vP=null}else return e=h0(n),e!==null&&HM(e),t.blockedOn=n,!1;e.shift()}return!0}function EB(t,e,n){Cj(t)&&n.delete(e)}function hye(){EP=!1,df!==null&&Cj(df)&&(df=null),hf!==null&&Cj(hf)&&(hf=null),ff!==null&&Cj(ff)&&(ff=null),zw.forEach(EB),Ww.forEach(EB)}function h_(t,e){t.blockedOn===e&&(t.blockedOn=null,EP||(EP=!0,jl.unstable_scheduleCallback(jl.unstable_NormalPriority,hye)))}function Gw(t){function e(s){return h_(s,t)}if(0<pS.length){h_(pS[0],t);for(var n=1;n<pS.length;n++){var r=pS[n];r.blockedOn===t&&(r.blockedOn=null)}}for(df!==null&&h_(df,t),hf!==null&&h_(hf,t),ff!==null&&h_(ff,t),zw.forEach(e),Ww.forEach(e),n=0;n<qh.length;n++)r=qh[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<qh.length&&(n=qh[0],n.blockedOn===null);)Sq(n),n.blockedOn===null&&qh.shift()}var Qy=rh.ReactCurrentBatchConfig,w1=!0;function fye(t,e,n,r){var s=Rr,i=Qy.transition;Qy.transition=null;try{Rr=1,qM(t,e,n,r)}finally{Rr=s,Qy.transition=i}}function mye(t,e,n,r){var s=Rr,i=Qy.transition;Qy.transition=null;try{Rr=4,qM(t,e,n,r)}finally{Rr=s,Qy.transition=i}}function qM(t,e,n,r){if(w1){var s=SP(t,e,n,r);if(s===null)fO(t,e,r,x1,n),xB(t,r);else if(dye(s,t,e,n,r))r.stopPropagation();else if(xB(t,r),e&4&&-1<uye.indexOf(t)){for(;s!==null;){var i=h0(s);if(i!==null&&_q(i),i=SP(t,e,n,r),i===null&&fO(t,e,r,x1,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else fO(t,e,r,null,n)}}var x1=null;function SP(t,e,n,r){if(x1=null,t=zM(r),t=rp(t),t!==null)if(e=Xp(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hq(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return x1=t,null}function jq(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tye()){case WM:return 1;case gq:return 4;case b1:case nye:return 16;case yq:return 536870912;default:return 16}default:return 16}}var Xh=null,YM=null,Aj=null;function Tq(){if(Aj)return Aj;var t,e=YM,n=e.length,r,s="value"in Xh?Xh.value:Xh.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Aj=s.slice(t,1<r?1-r:void 0)}function Nj(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function gS(){return!0}function SB(){return!1}function Rl(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?gS:SB,this.isPropagationStopped=SB,this}return Ns(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gS)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gS)},persist:function(){},isPersistent:gS}),e}var sb={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},KM=Rl(sb),d0=Ns({},sb,{view:0,detail:0}),pye=Rl(d0),sO,iO,f_,BC=Ns({},d0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:JM,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==f_&&(f_&&t.type==="mousemove"?(sO=t.screenX-f_.screenX,iO=t.screenY-f_.screenY):iO=sO=0,f_=t),sO)},movementY:function(t){return"movementY"in t?t.movementY:iO}}),jB=Rl(BC),gye=Ns({},BC,{dataTransfer:0}),yye=Rl(gye),vye=Ns({},d0,{relatedTarget:0}),aO=Rl(vye),bye=Ns({},sb,{animationName:0,elapsedTime:0,pseudoElement:0}),_ye=Rl(bye),wye=Ns({},sb,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xye=Rl(wye),Eye=Ns({},sb,{data:0}),TB=Rl(Eye),Sye={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jye={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tye={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cye(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Tye[t])?!!e[t]:!1}function JM(){return Cye}var Aye=Ns({},d0,{key:function(t){if(t.key){var e=Sye[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nj(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jye[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:JM,charCode:function(t){return t.type==="keypress"?Nj(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nj(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nye=Rl(Aye),Iye=Ns({},BC,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),CB=Rl(Iye),kye=Ns({},d0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:JM}),Oye=Rl(kye),Rye=Ns({},sb,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pye=Rl(Rye),Dye=Ns({},BC,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Lye=Rl(Dye),Mye=[9,13,27,32],QM=Gd&&"CompositionEvent"in window,uw=null;Gd&&"documentMode"in document&&(uw=document.documentMode);var $ye=Gd&&"TextEvent"in window&&!uw,Cq=Gd&&(!QM||uw&&8<uw&&11>=uw),AB=" ",NB=!1;function Aq(t,e){switch(t){case"keyup":return Mye.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nq(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ky=!1;function Fye(t,e){switch(t){case"compositionend":return Nq(e);case"keypress":return e.which!==32?null:(NB=!0,AB);case"textInput":return t=e.data,t===AB&&NB?null:t;default:return null}}function Vye(t,e){if(ky)return t==="compositionend"||!QM&&Aq(t,e)?(t=Tq(),Aj=YM=Xh=null,ky=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Cq&&e.locale!=="ko"?null:e.data;default:return null}}var Uye={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function IB(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Uye[t.type]:e==="textarea"}function Iq(t,e,n,r){oq(r),e=E1(e,"onChange"),0<e.length&&(n=new KM("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var dw=null,Hw=null;function Bye(t){Uq(t,0)}function zC(t){var e=Py(t);if(eq(e))return t}function zye(t,e){if(t==="change")return e}var kq=!1;if(Gd){var oO;if(Gd){var lO="oninput"in document;if(!lO){var kB=document.createElement("div");kB.setAttribute("oninput","return;"),lO=typeof kB.oninput=="function"}oO=lO}else oO=!1;kq=oO&&(!document.documentMode||9<document.documentMode)}function OB(){dw&&(dw.detachEvent("onpropertychange",Oq),Hw=dw=null)}function Oq(t){if(t.propertyName==="value"&&zC(Hw)){var e=[];Iq(e,Hw,t,zM(t)),dq(Bye,e)}}function Wye(t,e,n){t==="focusin"?(OB(),dw=e,Hw=n,dw.attachEvent("onpropertychange",Oq)):t==="focusout"&&OB()}function Gye(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zC(Hw)}function Hye(t,e){if(t==="click")return zC(e)}function qye(t,e){if(t==="input"||t==="change")return zC(e)}function Yye(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qc=typeof Object.is=="function"?Object.is:Yye;function qw(t,e){if(Qc(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!aP.call(e,s)||!Qc(t[s],e[s]))return!1}return!0}function RB(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function PB(t,e){var n=RB(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=RB(n)}}function Rq(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Rq(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Pq(){for(var t=window,e=g1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=g1(t.document)}return e}function ZM(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Kye(t){var e=Pq(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Rq(n.ownerDocument.documentElement,n)){if(r!==null&&ZM(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=PB(n,i);var o=PB(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Jye=Gd&&"documentMode"in document&&11>=document.documentMode,Oy=null,jP=null,hw=null,TP=!1;function DB(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;TP||Oy==null||Oy!==g1(r)||(r=Oy,"selectionStart"in r&&ZM(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hw&&qw(hw,r)||(hw=r,r=E1(jP,"onSelect"),0<r.length&&(e=new KM("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Oy)))}function yS(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ry={animationend:yS("Animation","AnimationEnd"),animationiteration:yS("Animation","AnimationIteration"),animationstart:yS("Animation","AnimationStart"),transitionend:yS("Transition","TransitionEnd")},cO={},Dq={};Gd&&(Dq=document.createElement("div").style,"AnimationEvent"in window||(delete Ry.animationend.animation,delete Ry.animationiteration.animation,delete Ry.animationstart.animation),"TransitionEvent"in window||delete Ry.transitionend.transition);function WC(t){if(cO[t])return cO[t];if(!Ry[t])return t;var e=Ry[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Dq)return cO[t]=e[n];return t}var Lq=WC("animationend"),Mq=WC("animationiteration"),$q=WC("animationstart"),Fq=WC("transitionend"),Vq=new Map,LB="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gf(t,e){Vq.set(t,e),Zp(e,[t])}for(var uO=0;uO<LB.length;uO++){var dO=LB[uO],Qye=dO.toLowerCase(),Zye=dO[0].toUpperCase()+dO.slice(1);Gf(Qye,"on"+Zye)}Gf(Lq,"onAnimationEnd");Gf(Mq,"onAnimationIteration");Gf($q,"onAnimationStart");Gf("dblclick","onDoubleClick");Gf("focusin","onFocus");Gf("focusout","onBlur");Gf(Fq,"onTransitionEnd");wv("onMouseEnter",["mouseout","mouseover"]);wv("onMouseLeave",["mouseout","mouseover"]);wv("onPointerEnter",["pointerout","pointerover"]);wv("onPointerLeave",["pointerout","pointerover"]);Zp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zp("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var z_="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xye=new Set("cancel close invalid load scroll toggle".split(" ").concat(z_));function MB(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Qge(r,e,void 0,t),t.currentTarget=null}function Uq(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;MB(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;MB(s,l,u),i=c}}}if(v1)throw t=wP,v1=!1,wP=null,t}function Zr(t,e){var n=e[kP];n===void 0&&(n=e[kP]=new Set);var r=t+"__bubble";n.has(r)||(Bq(e,t,2,!1),n.add(r))}function hO(t,e,n){var r=0;e&&(r|=4),Bq(n,t,r,e)}var vS="_reactListening"+Math.random().toString(36).slice(2);function Yw(t){if(!t[vS]){t[vS]=!0,KH.forEach(function(n){n!=="selectionchange"&&(Xye.has(n)||hO(n,!1,t),hO(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vS]||(e[vS]=!0,hO("selectionchange",!1,e))}}function Bq(t,e,n,r){switch(jq(e)){case 1:var s=fye;break;case 4:s=mye;break;default:s=qM}n=s.bind(null,e,n,t),s=void 0,!_P||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function fO(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=rp(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}dq(function(){var u=i,d=zM(n),f=[];e:{var m=Vq.get(t);if(m!==void 0){var p=KM,y=t;switch(t){case"keypress":if(Nj(n)===0)break e;case"keydown":case"keyup":p=Nye;break;case"focusin":y="focus",p=aO;break;case"focusout":y="blur",p=aO;break;case"beforeblur":case"afterblur":p=aO;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=jB;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=yye;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Oye;break;case Lq:case Mq:case $q:p=_ye;break;case Fq:p=Pye;break;case"scroll":p=pye;break;case"wheel":p=Lye;break;case"copy":case"cut":case"paste":p=xye;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=CB}var _=(e&4)!==0,b=!_&&t==="scroll",x=_?m!==null?m+"Capture":null:m;_=[];for(var w=u,E;w!==null;){E=w;var T=E.stateNode;if(E.tag===5&&T!==null&&(E=T,x!==null&&(T=Bw(w,x),T!=null&&_.push(Kw(w,T,E)))),b)break;w=w.return}0<_.length&&(m=new p(m,y,null,n,d),f.push({event:m,listeners:_}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==vP&&(y=n.relatedTarget||n.fromElement)&&(rp(y)||y[Hd]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?rp(y):null,y!==null&&(b=Xp(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(_=jB,T="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(_=CB,T="onPointerLeave",x="onPointerEnter",w="pointer"),b=p==null?m:Py(p),E=y==null?m:Py(y),m=new _(T,w+"leave",p,n,d),m.target=b,m.relatedTarget=E,T=null,rp(d)===u&&(_=new _(x,w+"enter",y,n,d),_.target=E,_.relatedTarget=b,T=_),b=T,p&&y)t:{for(_=p,x=y,w=0,E=_;E;E=Hg(E))w++;for(E=0,T=x;T;T=Hg(T))E++;for(;0<w-E;)_=Hg(_),w--;for(;0<E-w;)x=Hg(x),E--;for(;w--;){if(_===x||x!==null&&_===x.alternate)break t;_=Hg(_),x=Hg(x)}_=null}else _=null;p!==null&&$B(f,m,p,_,!1),y!==null&&b!==null&&$B(f,b,y,_,!0)}}e:{if(m=u?Py(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var N=zye;else if(IB(m))if(kq)N=qye;else{N=Gye;var P=Wye}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=Hye);if(N&&(N=N(t,u))){Iq(f,N,n,d);break e}P&&P(t,m,u),t==="focusout"&&(P=m._wrapperState)&&P.controlled&&m.type==="number"&&fP(m,"number",m.value)}switch(P=u?Py(u):window,t){case"focusin":(IB(P)||P.contentEditable==="true")&&(Oy=P,jP=u,hw=null);break;case"focusout":hw=jP=Oy=null;break;case"mousedown":TP=!0;break;case"contextmenu":case"mouseup":case"dragend":TP=!1,DB(f,n,d);break;case"selectionchange":if(Jye)break;case"keydown":case"keyup":DB(f,n,d)}var D;if(QM)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else ky?Aq(t,n)&&(F="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(Cq&&n.locale!=="ko"&&(ky||F!=="onCompositionStart"?F==="onCompositionEnd"&&ky&&(D=Tq()):(Xh=d,YM="value"in Xh?Xh.value:Xh.textContent,ky=!0)),P=E1(u,F),0<P.length&&(F=new TB(F,t,null,n,d),f.push({event:F,listeners:P}),D?F.data=D:(D=Nq(n),D!==null&&(F.data=D)))),(D=$ye?Fye(t,n):Vye(t,n))&&(u=E1(u,"onBeforeInput"),0<u.length&&(d=new TB("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=D))}Uq(f,e)})}function Kw(t,e,n){return{instance:t,listener:e,currentTarget:n}}function E1(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Bw(t,n),i!=null&&r.unshift(Kw(t,i,s)),i=Bw(t,e),i!=null&&r.push(Kw(t,i,s))),t=t.return}return r}function Hg(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $B(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Bw(n,i),c!=null&&o.unshift(Kw(n,c,l))):s||(c=Bw(n,i),c!=null&&o.push(Kw(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var eve=/\r\n?/g,tve=/\u0000|\uFFFD/g;function FB(t){return(typeof t=="string"?t:""+t).replace(eve,`
`).replace(tve,"")}function bS(t,e,n){if(e=FB(e),FB(t)!==e&&n)throw Error(et(425))}function S1(){}var CP=null,AP=null;function NP(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var IP=typeof setTimeout=="function"?setTimeout:void 0,nve=typeof clearTimeout=="function"?clearTimeout:void 0,VB=typeof Promise=="function"?Promise:void 0,rve=typeof queueMicrotask=="function"?queueMicrotask:typeof VB<"u"?function(t){return VB.resolve(null).then(t).catch(sve)}:IP;function sve(t){setTimeout(function(){throw t})}function mO(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Gw(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Gw(e)}function mf(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function UB(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ib=Math.random().toString(36).slice(2),Ou="__reactFiber$"+ib,Jw="__reactProps$"+ib,Hd="__reactContainer$"+ib,kP="__reactEvents$"+ib,ive="__reactListeners$"+ib,ave="__reactHandles$"+ib;function rp(t){var e=t[Ou];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hd]||n[Ou]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=UB(t);t!==null;){if(n=t[Ou])return n;t=UB(t)}return e}t=n,n=t.parentNode}return null}function h0(t){return t=t[Ou]||t[Hd],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Py(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(et(33))}function GC(t){return t[Jw]||null}var OP=[],Dy=-1;function Hf(t){return{current:t}}function rs(t){0>Dy||(t.current=OP[Dy],OP[Dy]=null,Dy--)}function qr(t,e){Dy++,OP[Dy]=t.current,t.current=e}var Af={},Oa=Hf(Af),Lo=Hf(!1),jp=Af;function xv(t,e){var n=t.type.contextTypes;if(!n)return Af;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Mo(t){return t=t.childContextTypes,t!=null}function j1(){rs(Lo),rs(Oa)}function BB(t,e,n){if(Oa.current!==Af)throw Error(et(168));qr(Oa,e),qr(Lo,n)}function zq(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(et(108,Wge(t)||"Unknown",s));return Ns({},n,r)}function T1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Af,jp=Oa.current,qr(Oa,t),qr(Lo,Lo.current),!0}function zB(t,e,n){var r=t.stateNode;if(!r)throw Error(et(169));n?(t=zq(t,e,jp),r.__reactInternalMemoizedMergedChildContext=t,rs(Lo),rs(Oa),qr(Oa,t)):rs(Lo),qr(Lo,n)}var Cd=null,HC=!1,pO=!1;function Wq(t){Cd===null?Cd=[t]:Cd.push(t)}function ove(t){HC=!0,Wq(t)}function qf(){if(!pO&&Cd!==null){pO=!0;var t=0,e=Rr;try{var n=Cd;for(Rr=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Cd=null,HC=!1}catch(s){throw Cd!==null&&(Cd=Cd.slice(t+1)),pq(WM,qf),s}finally{Rr=e,pO=!1}}return null}var Ly=[],My=0,C1=null,A1=0,rc=[],sc=0,Tp=null,kd=1,Od="";function Pm(t,e){Ly[My++]=A1,Ly[My++]=C1,C1=t,A1=e}function Gq(t,e,n){rc[sc++]=kd,rc[sc++]=Od,rc[sc++]=Tp,Tp=t;var r=kd;t=Od;var s=32-Yc(r)-1;r&=~(1<<s),n+=1;var i=32-Yc(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,kd=1<<32-Yc(e)+s|n<<s|r,Od=i+t}else kd=1<<i|n<<s|r,Od=t}function XM(t){t.return!==null&&(Pm(t,1),Gq(t,1,0))}function e$(t){for(;t===C1;)C1=Ly[--My],Ly[My]=null,A1=Ly[--My],Ly[My]=null;for(;t===Tp;)Tp=rc[--sc],rc[sc]=null,Od=rc[--sc],rc[sc]=null,kd=rc[--sc],rc[sc]=null}var El=null,bl=null,hs=!1,Bc=null;function Hq(t,e){var n=cc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function WB(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,El=t,bl=mf(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,El=t,bl=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Tp!==null?{id:kd,overflow:Od}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cc(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,El=t,bl=null,!0):!1;default:return!1}}function RP(t){return(t.mode&1)!==0&&(t.flags&128)===0}function PP(t){if(hs){var e=bl;if(e){var n=e;if(!WB(t,e)){if(RP(t))throw Error(et(418));e=mf(n.nextSibling);var r=El;e&&WB(t,e)?Hq(r,n):(t.flags=t.flags&-4097|2,hs=!1,El=t)}}else{if(RP(t))throw Error(et(418));t.flags=t.flags&-4097|2,hs=!1,El=t}}}function GB(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;El=t}function _S(t){if(t!==El)return!1;if(!hs)return GB(t),hs=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!NP(t.type,t.memoizedProps)),e&&(e=bl)){if(RP(t))throw qq(),Error(et(418));for(;e;)Hq(t,e),e=mf(e.nextSibling)}if(GB(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(et(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){bl=mf(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}bl=null}}else bl=El?mf(t.stateNode.nextSibling):null;return!0}function qq(){for(var t=bl;t;)t=mf(t.nextSibling)}function Ev(){bl=El=null,hs=!1}function t$(t){Bc===null?Bc=[t]:Bc.push(t)}var lve=rh.ReactCurrentBatchConfig;function m_(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(et(309));var r=n.stateNode}if(!r)throw Error(et(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(et(284));if(!n._owner)throw Error(et(290,t))}return t}function wS(t,e){throw t=Object.prototype.toString.call(e),Error(et(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function HB(t){var e=t._init;return e(t._payload)}function Yq(t){function e(x,w){if(t){var E=x.deletions;E===null?(x.deletions=[w],x.flags|=16):E.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function s(x,w){return x=vf(x,w),x.index=0,x.sibling=null,x}function i(x,w,E){return x.index=E,t?(E=x.alternate,E!==null?(E=E.index,E<w?(x.flags|=2,w):E):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,w,E,T){return w===null||w.tag!==6?(w=xO(E,x.mode,T),w.return=x,w):(w=s(w,E),w.return=x,w)}function c(x,w,E,T){var N=E.type;return N===Iy?d(x,w,E.props.children,T,E.key):w!==null&&(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Wh&&HB(N)===w.type)?(T=s(w,E.props),T.ref=m_(x,w,E),T.return=x,T):(T=Lj(E.type,E.key,E.props,null,x.mode,T),T.ref=m_(x,w,E),T.return=x,T)}function u(x,w,E,T){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=EO(E,x.mode,T),w.return=x,w):(w=s(w,E.children||[]),w.return=x,w)}function d(x,w,E,T,N){return w===null||w.tag!==7?(w=pp(E,x.mode,T,N),w.return=x,w):(w=s(w,E),w.return=x,w)}function f(x,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=xO(""+w,x.mode,E),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case uS:return E=Lj(w.type,w.key,w.props,null,x.mode,E),E.ref=m_(x,null,w),E.return=x,E;case Ny:return w=EO(w,x.mode,E),w.return=x,w;case Wh:var T=w._init;return f(x,T(w._payload),E)}if(U_(w)||c_(w))return w=pp(w,x.mode,E,null),w.return=x,w;wS(x,w)}return null}function m(x,w,E,T){var N=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return N!==null?null:l(x,w,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case uS:return E.key===N?c(x,w,E,T):null;case Ny:return E.key===N?u(x,w,E,T):null;case Wh:return N=E._init,m(x,w,N(E._payload),T)}if(U_(E)||c_(E))return N!==null?null:d(x,w,E,T,null);wS(x,E)}return null}function p(x,w,E,T,N){if(typeof T=="string"&&T!==""||typeof T=="number")return x=x.get(E)||null,l(w,x,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case uS:return x=x.get(T.key===null?E:T.key)||null,c(w,x,T,N);case Ny:return x=x.get(T.key===null?E:T.key)||null,u(w,x,T,N);case Wh:var P=T._init;return p(x,w,E,P(T._payload),N)}if(U_(T)||c_(T))return x=x.get(E)||null,d(w,x,T,N,null);wS(w,T)}return null}function y(x,w,E,T){for(var N=null,P=null,D=w,F=w=0,Y=null;D!==null&&F<E.length;F++){D.index>F?(Y=D,D=null):Y=D.sibling;var q=m(x,D,E[F],T);if(q===null){D===null&&(D=Y);break}t&&D&&q.alternate===null&&e(x,D),w=i(q,w,F),P===null?N=q:P.sibling=q,P=q,D=Y}if(F===E.length)return n(x,D),hs&&Pm(x,F),N;if(D===null){for(;F<E.length;F++)D=f(x,E[F],T),D!==null&&(w=i(D,w,F),P===null?N=D:P.sibling=D,P=D);return hs&&Pm(x,F),N}for(D=r(x,D);F<E.length;F++)Y=p(D,x,F,E[F],T),Y!==null&&(t&&Y.alternate!==null&&D.delete(Y.key===null?F:Y.key),w=i(Y,w,F),P===null?N=Y:P.sibling=Y,P=Y);return t&&D.forEach(function(B){return e(x,B)}),hs&&Pm(x,F),N}function _(x,w,E,T){var N=c_(E);if(typeof N!="function")throw Error(et(150));if(E=N.call(E),E==null)throw Error(et(151));for(var P=N=null,D=w,F=w=0,Y=null,q=E.next();D!==null&&!q.done;F++,q=E.next()){D.index>F?(Y=D,D=null):Y=D.sibling;var B=m(x,D,q.value,T);if(B===null){D===null&&(D=Y);break}t&&D&&B.alternate===null&&e(x,D),w=i(B,w,F),P===null?N=B:P.sibling=B,P=B,D=Y}if(q.done)return n(x,D),hs&&Pm(x,F),N;if(D===null){for(;!q.done;F++,q=E.next())q=f(x,q.value,T),q!==null&&(w=i(q,w,F),P===null?N=q:P.sibling=q,P=q);return hs&&Pm(x,F),N}for(D=r(x,D);!q.done;F++,q=E.next())q=p(D,x,F,q.value,T),q!==null&&(t&&q.alternate!==null&&D.delete(q.key===null?F:q.key),w=i(q,w,F),P===null?N=q:P.sibling=q,P=q);return t&&D.forEach(function(G){return e(x,G)}),hs&&Pm(x,F),N}function b(x,w,E,T){if(typeof E=="object"&&E!==null&&E.type===Iy&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case uS:e:{for(var N=E.key,P=w;P!==null;){if(P.key===N){if(N=E.type,N===Iy){if(P.tag===7){n(x,P.sibling),w=s(P,E.props.children),w.return=x,x=w;break e}}else if(P.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Wh&&HB(N)===P.type){n(x,P.sibling),w=s(P,E.props),w.ref=m_(x,P,E),w.return=x,x=w;break e}n(x,P);break}else e(x,P);P=P.sibling}E.type===Iy?(w=pp(E.props.children,x.mode,T,E.key),w.return=x,x=w):(T=Lj(E.type,E.key,E.props,null,x.mode,T),T.ref=m_(x,w,E),T.return=x,x=T)}return o(x);case Ny:e:{for(P=E.key;w!==null;){if(w.key===P)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){n(x,w.sibling),w=s(w,E.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=EO(E,x.mode,T),w.return=x,x=w}return o(x);case Wh:return P=E._init,b(x,w,P(E._payload),T)}if(U_(E))return y(x,w,E,T);if(c_(E))return _(x,w,E,T);wS(x,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(n(x,w.sibling),w=s(w,E),w.return=x,x=w):(n(x,w),w=xO(E,x.mode,T),w.return=x,x=w),o(x)):n(x,w)}return b}var Sv=Yq(!0),Kq=Yq(!1),N1=Hf(null),I1=null,$y=null,n$=null;function r$(){n$=$y=I1=null}function s$(t){var e=N1.current;rs(N1),t._currentValue=e}function DP(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Zy(t,e){I1=t,n$=$y=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(No=!0),t.firstContext=null)}function pc(t){var e=t._currentValue;if(n$!==t)if(t={context:t,memoizedValue:e,next:null},$y===null){if(I1===null)throw Error(et(308));$y=t,I1.dependencies={lanes:0,firstContext:t}}else $y=$y.next=t;return e}var sp=null;function i$(t){sp===null?sp=[t]:sp.push(t)}function Jq(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,i$(e)):(n.next=s.next,s.next=n),e.interleaved=n,qd(t,r)}function qd(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gh=!1;function a$(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qq(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fd(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pf(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,yr&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,qd(t,n)}return s=r.interleaved,s===null?(e.next=e,i$(r)):(e.next=s.next,s.next=e),r.interleaved=e,qd(t,n)}function Ij(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,GM(t,n)}}function qB(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function k1(t,e,n,r){var s=t.updateQueue;Gh=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var m=l.lane,p=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,_=l;switch(m=e,p=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){f=y.call(p,f,m);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,m=typeof y=="function"?y.call(p,f,m):y,m==null)break e;f=Ns({},f,m);break e;case 2:Gh=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ap|=o,t.lanes=o,t.memoizedState=f}}function YB(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(et(191,s));s.call(r)}}}var f0={},Hu=Hf(f0),Qw=Hf(f0),Zw=Hf(f0);function ip(t){if(t===f0)throw Error(et(174));return t}function o$(t,e){switch(qr(Zw,e),qr(Qw,t),qr(Hu,f0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pP(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pP(e,t)}rs(Hu),qr(Hu,e)}function jv(){rs(Hu),rs(Qw),rs(Zw)}function Zq(t){ip(Zw.current);var e=ip(Hu.current),n=pP(e,t.type);e!==n&&(qr(Qw,t),qr(Hu,n))}function l$(t){Qw.current===t&&(rs(Hu),rs(Qw))}var js=Hf(0);function O1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gO=[];function c$(){for(var t=0;t<gO.length;t++)gO[t]._workInProgressVersionPrimary=null;gO.length=0}var kj=rh.ReactCurrentDispatcher,yO=rh.ReactCurrentBatchConfig,Cp=0,Ts=null,Ei=null,Pi=null,R1=!1,fw=!1,Xw=0,cve=0;function xa(){throw Error(et(321))}function u$(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qc(t[n],e[n]))return!1;return!0}function d$(t,e,n,r,s,i){if(Cp=i,Ts=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,kj.current=t===null||t.memoizedState===null?fve:mve,t=n(r,s),fw){i=0;do{if(fw=!1,Xw=0,25<=i)throw Error(et(301));i+=1,Pi=Ei=null,e.updateQueue=null,kj.current=pve,t=n(r,s)}while(fw)}if(kj.current=P1,e=Ei!==null&&Ei.next!==null,Cp=0,Pi=Ei=Ts=null,R1=!1,e)throw Error(et(300));return t}function h$(){var t=Xw!==0;return Xw=0,t}function ju(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pi===null?Ts.memoizedState=Pi=t:Pi=Pi.next=t,Pi}function gc(){if(Ei===null){var t=Ts.alternate;t=t!==null?t.memoizedState:null}else t=Ei.next;var e=Pi===null?Ts.memoizedState:Pi.next;if(e!==null)Pi=e,Ei=t;else{if(t===null)throw Error(et(310));Ei=t,t={memoizedState:Ei.memoizedState,baseState:Ei.baseState,baseQueue:Ei.baseQueue,queue:Ei.queue,next:null},Pi===null?Ts.memoizedState=Pi=t:Pi=Pi.next=t}return Pi}function ex(t,e){return typeof e=="function"?e(t):e}function vO(t){var e=gc(),n=e.queue;if(n===null)throw Error(et(311));n.lastRenderedReducer=t;var r=Ei,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Cp&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,Ts.lanes|=d,Ap|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,Qc(r,e.memoizedState)||(No=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ts.lanes|=i,Ap|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function bO(t){var e=gc(),n=e.queue;if(n===null)throw Error(et(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Qc(i,e.memoizedState)||(No=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Xq(){}function e7(t,e){var n=Ts,r=gc(),s=e(),i=!Qc(r.memoizedState,s);if(i&&(r.memoizedState=s,No=!0),r=r.queue,f$(r7.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Pi!==null&&Pi.memoizedState.tag&1){if(n.flags|=2048,tx(9,n7.bind(null,n,r,s,e),void 0,null),Li===null)throw Error(et(349));Cp&30||t7(n,e,s)}return s}function t7(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ts.updateQueue,e===null?(e={lastEffect:null,stores:null},Ts.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function n7(t,e,n,r){e.value=n,e.getSnapshot=r,s7(e)&&i7(t)}function r7(t,e,n){return n(function(){s7(e)&&i7(t)})}function s7(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qc(t,n)}catch{return!0}}function i7(t){var e=qd(t,1);e!==null&&Kc(e,t,1,-1)}function KB(t){var e=ju();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ex,lastRenderedState:t},e.queue=t,t=t.dispatch=hve.bind(null,Ts,t),[e.memoizedState,t]}function tx(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ts.updateQueue,e===null?(e={lastEffect:null,stores:null},Ts.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function a7(){return gc().memoizedState}function Oj(t,e,n,r){var s=ju();Ts.flags|=t,s.memoizedState=tx(1|e,n,void 0,r===void 0?null:r)}function qC(t,e,n,r){var s=gc();r=r===void 0?null:r;var i=void 0;if(Ei!==null){var o=Ei.memoizedState;if(i=o.destroy,r!==null&&u$(r,o.deps)){s.memoizedState=tx(e,n,i,r);return}}Ts.flags|=t,s.memoizedState=tx(1|e,n,i,r)}function JB(t,e){return Oj(8390656,8,t,e)}function f$(t,e){return qC(2048,8,t,e)}function o7(t,e){return qC(4,2,t,e)}function l7(t,e){return qC(4,4,t,e)}function c7(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function u7(t,e,n){return n=n!=null?n.concat([t]):null,qC(4,4,c7.bind(null,e,t),n)}function m$(){}function d7(t,e){var n=gc();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&u$(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function h7(t,e){var n=gc();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&u$(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function f7(t,e,n){return Cp&21?(Qc(n,e)||(n=vq(),Ts.lanes|=n,Ap|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,No=!0),t.memoizedState=n)}function uve(t,e){var n=Rr;Rr=n!==0&&4>n?n:4,t(!0);var r=yO.transition;yO.transition={};try{t(!1),e()}finally{Rr=n,yO.transition=r}}function m7(){return gc().memoizedState}function dve(t,e,n){var r=yf(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},p7(t))g7(e,n);else if(n=Jq(t,e,n,r),n!==null){var s=Ja();Kc(n,t,r,s),y7(n,e,r)}}function hve(t,e,n){var r=yf(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(p7(t))g7(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Qc(l,o)){var c=e.interleaved;c===null?(s.next=s,i$(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Jq(t,e,s,r),n!==null&&(s=Ja(),Kc(n,t,r,s),y7(n,e,r))}}function p7(t){var e=t.alternate;return t===Ts||e!==null&&e===Ts}function g7(t,e){fw=R1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function y7(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,GM(t,n)}}var P1={readContext:pc,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},fve={readContext:pc,useCallback:function(t,e){return ju().memoizedState=[t,e===void 0?null:e],t},useContext:pc,useEffect:JB,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Oj(4194308,4,c7.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Oj(4194308,4,t,e)},useInsertionEffect:function(t,e){return Oj(4,2,t,e)},useMemo:function(t,e){var n=ju();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ju();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=dve.bind(null,Ts,t),[r.memoizedState,t]},useRef:function(t){var e=ju();return t={current:t},e.memoizedState=t},useState:KB,useDebugValue:m$,useDeferredValue:function(t){return ju().memoizedState=t},useTransition:function(){var t=KB(!1),e=t[0];return t=uve.bind(null,t[1]),ju().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ts,s=ju();if(hs){if(n===void 0)throw Error(et(407));n=n()}else{if(n=e(),Li===null)throw Error(et(349));Cp&30||t7(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,JB(r7.bind(null,r,i,t),[t]),r.flags|=2048,tx(9,n7.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ju(),e=Li.identifierPrefix;if(hs){var n=Od,r=kd;n=(r&~(1<<32-Yc(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xw++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cve++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mve={readContext:pc,useCallback:d7,useContext:pc,useEffect:f$,useImperativeHandle:u7,useInsertionEffect:o7,useLayoutEffect:l7,useMemo:h7,useReducer:vO,useRef:a7,useState:function(){return vO(ex)},useDebugValue:m$,useDeferredValue:function(t){var e=gc();return f7(e,Ei.memoizedState,t)},useTransition:function(){var t=vO(ex)[0],e=gc().memoizedState;return[t,e]},useMutableSource:Xq,useSyncExternalStore:e7,useId:m7,unstable_isNewReconciler:!1},pve={readContext:pc,useCallback:d7,useContext:pc,useEffect:f$,useImperativeHandle:u7,useInsertionEffect:o7,useLayoutEffect:l7,useMemo:h7,useReducer:bO,useRef:a7,useState:function(){return bO(ex)},useDebugValue:m$,useDeferredValue:function(t){var e=gc();return Ei===null?e.memoizedState=t:f7(e,Ei.memoizedState,t)},useTransition:function(){var t=bO(ex)[0],e=gc().memoizedState;return[t,e]},useMutableSource:Xq,useSyncExternalStore:e7,useId:m7,unstable_isNewReconciler:!1};function $c(t,e){if(t&&t.defaultProps){e=Ns({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function LP(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ns({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var YC={isMounted:function(t){return(t=t._reactInternals)?Xp(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ja(),s=yf(t),i=Fd(r,s);i.payload=e,n!=null&&(i.callback=n),e=pf(t,i,s),e!==null&&(Kc(e,t,s,r),Ij(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ja(),s=yf(t),i=Fd(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=pf(t,i,s),e!==null&&(Kc(e,t,s,r),Ij(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ja(),r=yf(t),s=Fd(n,r);s.tag=2,e!=null&&(s.callback=e),e=pf(t,s,r),e!==null&&(Kc(e,t,r,n),Ij(e,t,r))}};function QB(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!qw(n,r)||!qw(s,i):!0}function v7(t,e,n){var r=!1,s=Af,i=e.contextType;return typeof i=="object"&&i!==null?i=pc(i):(s=Mo(e)?jp:Oa.current,r=e.contextTypes,i=(r=r!=null)?xv(t,s):Af),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=YC,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ZB(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&YC.enqueueReplaceState(e,e.state,null)}function MP(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},a$(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=pc(i):(i=Mo(e)?jp:Oa.current,s.context=xv(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(LP(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&YC.enqueueReplaceState(s,s.state,null),k1(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Tv(t,e){try{var n="",r=e;do n+=zge(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function _O(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $P(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gve=typeof WeakMap=="function"?WeakMap:Map;function b7(t,e,n){n=Fd(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){L1||(L1=!0,YP=r),$P(t,e)},n}function _7(t,e,n){n=Fd(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){$P(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){$P(t,e),typeof r!="function"&&(gf===null?gf=new Set([this]):gf.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function XB(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gve;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Ive.bind(null,t,e,n),e.then(t,t))}function e5(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function t5(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Fd(-1,1),e.tag=2,pf(n,e,1))),n.lanes|=1),t)}var yve=rh.ReactCurrentOwner,No=!1;function Wa(t,e,n,r){e.child=t===null?Kq(e,null,n,r):Sv(e,t.child,n,r)}function n5(t,e,n,r,s){n=n.render;var i=e.ref;return Zy(e,s),r=d$(t,e,n,r,i,s),n=h$(),t!==null&&!No?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Yd(t,e,s)):(hs&&n&&XM(e),e.flags|=1,Wa(t,e,r,s),e.child)}function r5(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!x$(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,w7(t,e,i,r,s)):(t=Lj(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:qw,n(o,r)&&t.ref===e.ref)return Yd(t,e,s)}return e.flags|=1,t=vf(i,r),t.ref=e.ref,t.return=e,e.child=t}function w7(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(qw(i,r)&&t.ref===e.ref)if(No=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(No=!0);else return e.lanes=t.lanes,Yd(t,e,s)}return FP(t,e,n,r,s)}function x7(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qr(Vy,ul),ul|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qr(Vy,ul),ul|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,qr(Vy,ul),ul|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,qr(Vy,ul),ul|=r;return Wa(t,e,s,n),e.child}function E7(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function FP(t,e,n,r,s){var i=Mo(n)?jp:Oa.current;return i=xv(e,i),Zy(e,s),n=d$(t,e,n,r,i,s),r=h$(),t!==null&&!No?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Yd(t,e,s)):(hs&&r&&XM(e),e.flags|=1,Wa(t,e,n,s),e.child)}function s5(t,e,n,r,s){if(Mo(n)){var i=!0;T1(e)}else i=!1;if(Zy(e,s),e.stateNode===null)Rj(t,e),v7(e,n,r),MP(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=pc(u):(u=Mo(n)?jp:Oa.current,u=xv(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&ZB(e,o,r,u),Gh=!1;var m=e.memoizedState;o.state=m,k1(e,r,o,s),c=e.memoizedState,l!==r||m!==c||Lo.current||Gh?(typeof d=="function"&&(LP(e,n,d,r),c=e.memoizedState),(l=Gh||QB(e,n,l,r,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Qq(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:$c(e.type,l),o.props=u,f=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=pc(c):(c=Mo(n)?jp:Oa.current,c=xv(e,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&ZB(e,o,r,c),Gh=!1,m=e.memoizedState,o.state=m,k1(e,r,o,s);var y=e.memoizedState;l!==f||m!==y||Lo.current||Gh?(typeof p=="function"&&(LP(e,n,p,r),y=e.memoizedState),(u=Gh||QB(e,n,u,r,m,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return VP(t,e,n,r,i,s)}function VP(t,e,n,r,s,i){E7(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&zB(e,n,!1),Yd(t,e,i);r=e.stateNode,yve.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Sv(e,t.child,null,i),e.child=Sv(e,null,l,i)):Wa(t,e,l,i),e.memoizedState=r.state,s&&zB(e,n,!0),e.child}function S7(t){var e=t.stateNode;e.pendingContext?BB(t,e.pendingContext,e.pendingContext!==e.context):e.context&&BB(t,e.context,!1),o$(t,e.containerInfo)}function i5(t,e,n,r,s){return Ev(),t$(s),e.flags|=256,Wa(t,e,n,r),e.child}var UP={dehydrated:null,treeContext:null,retryLane:0};function BP(t){return{baseLanes:t,cachePool:null,transitions:null}}function j7(t,e,n){var r=e.pendingProps,s=js.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),qr(js,s&1),t===null)return PP(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=QC(o,r,0,null),t=pp(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=BP(n),e.memoizedState=UP,t):p$(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return vve(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=vf(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=vf(l,i):(i=pp(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?BP(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=UP,r}return i=t.child,t=i.sibling,r=vf(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function p$(t,e){return e=QC({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xS(t,e,n,r){return r!==null&&t$(r),Sv(e,t.child,null,n),t=p$(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vve(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=_O(Error(et(422))),xS(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=QC({mode:"visible",children:r.children},s,0,null),i=pp(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Sv(e,t.child,null,o),e.child.memoizedState=BP(o),e.memoizedState=UP,i);if(!(e.mode&1))return xS(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(et(419)),r=_O(i,r,void 0),xS(t,e,o,r)}if(l=(o&t.childLanes)!==0,No||l){if(r=Li,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,qd(t,s),Kc(r,t,s,-1))}return w$(),r=_O(Error(et(421))),xS(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=kve.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,bl=mf(s.nextSibling),El=e,hs=!0,Bc=null,t!==null&&(rc[sc++]=kd,rc[sc++]=Od,rc[sc++]=Tp,kd=t.id,Od=t.overflow,Tp=e),e=p$(e,r.children),e.flags|=4096,e)}function a5(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),DP(t.return,e,n)}function wO(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function T7(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Wa(t,e,r.children,n),r=js.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&a5(t,n,e);else if(t.tag===19)a5(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qr(js,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&O1(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),wO(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&O1(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}wO(e,!0,n,null,i);break;case"together":wO(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rj(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yd(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ap|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(et(153));if(e.child!==null){for(t=e.child,n=vf(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vf(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bve(t,e,n){switch(e.tag){case 3:S7(e),Ev();break;case 5:Zq(e);break;case 1:Mo(e.type)&&T1(e);break;case 4:o$(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;qr(N1,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qr(js,js.current&1),e.flags|=128,null):n&e.child.childLanes?j7(t,e,n):(qr(js,js.current&1),t=Yd(t,e,n),t!==null?t.sibling:null);qr(js,js.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return T7(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qr(js,js.current),r)break;return null;case 22:case 23:return e.lanes=0,x7(t,e,n)}return Yd(t,e,n)}var C7,zP,A7,N7;C7=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zP=function(){};A7=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ip(Hu.current);var i=null;switch(n){case"input":s=dP(t,s),r=dP(t,r),i=[];break;case"select":s=Ns({},s,{value:void 0}),r=Ns({},r,{value:void 0}),i=[];break;case"textarea":s=mP(t,s),r=mP(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=S1)}gP(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vw.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vw.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Zr("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};N7=function(t,e,n,r){n!==r&&(e.flags|=4)};function p_(t,e){if(!hs)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ea(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function _ve(t,e,n){var r=e.pendingProps;switch(e$(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ea(e),null;case 1:return Mo(e.type)&&j1(),Ea(e),null;case 3:return r=e.stateNode,jv(),rs(Lo),rs(Oa),c$(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_S(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bc!==null&&(QP(Bc),Bc=null))),zP(t,e),Ea(e),null;case 5:l$(e);var s=ip(Zw.current);if(n=e.type,t!==null&&e.stateNode!=null)A7(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(et(166));return Ea(e),null}if(t=ip(Hu.current),_S(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ou]=e,r[Jw]=i,t=(e.mode&1)!==0,n){case"dialog":Zr("cancel",r),Zr("close",r);break;case"iframe":case"object":case"embed":Zr("load",r);break;case"video":case"audio":for(s=0;s<z_.length;s++)Zr(z_[s],r);break;case"source":Zr("error",r);break;case"img":case"image":case"link":Zr("error",r),Zr("load",r);break;case"details":Zr("toggle",r);break;case"input":pB(r,i),Zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Zr("invalid",r);break;case"textarea":yB(r,i),Zr("invalid",r)}gP(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&bS(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&bS(r.textContent,l,t),s=["children",""+l]):Vw.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Zr("scroll",r)}switch(n){case"input":dS(r),gB(r,i,!0);break;case"textarea":dS(r),vB(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=S1)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rq(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ou]=e,t[Jw]=r,C7(t,e,!1,!1),e.stateNode=t;e:{switch(o=yP(n,r),n){case"dialog":Zr("cancel",t),Zr("close",t),s=r;break;case"iframe":case"object":case"embed":Zr("load",t),s=r;break;case"video":case"audio":for(s=0;s<z_.length;s++)Zr(z_[s],t);s=r;break;case"source":Zr("error",t),s=r;break;case"img":case"image":case"link":Zr("error",t),Zr("load",t),s=r;break;case"details":Zr("toggle",t),s=r;break;case"input":pB(t,r),s=dP(t,r),Zr("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ns({},r,{value:void 0}),Zr("invalid",t);break;case"textarea":yB(t,r),s=mP(t,r),Zr("invalid",t);break;default:s=r}gP(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?aq(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&sq(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Uw(t,c):typeof c=="number"&&Uw(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Vw.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Zr("scroll",t):c!=null&&FM(t,i,c,o))}switch(n){case"input":dS(t),gB(t,r,!1);break;case"textarea":dS(t),vB(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Cf(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Yy(t,!!r.multiple,i,!1):r.defaultValue!=null&&Yy(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=S1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ea(e),null;case 6:if(t&&e.stateNode!=null)N7(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(et(166));if(n=ip(Zw.current),ip(Hu.current),_S(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ou]=e,(i=r.nodeValue!==n)&&(t=El,t!==null))switch(t.tag){case 3:bS(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bS(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ou]=e,e.stateNode=r}return Ea(e),null;case 13:if(rs(js),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(hs&&bl!==null&&e.mode&1&&!(e.flags&128))qq(),Ev(),e.flags|=98560,i=!1;else if(i=_S(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(et(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(et(317));i[Ou]=e}else Ev(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ea(e),i=!1}else Bc!==null&&(QP(Bc),Bc=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||js.current&1?ji===0&&(ji=3):w$())),e.updateQueue!==null&&(e.flags|=4),Ea(e),null);case 4:return jv(),zP(t,e),t===null&&Yw(e.stateNode.containerInfo),Ea(e),null;case 10:return s$(e.type._context),Ea(e),null;case 17:return Mo(e.type)&&j1(),Ea(e),null;case 19:if(rs(js),i=e.memoizedState,i===null)return Ea(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)p_(i,!1);else{if(ji!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=O1(t),o!==null){for(e.flags|=128,p_(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qr(js,js.current&1|2),e.child}t=t.sibling}i.tail!==null&&ti()>Cv&&(e.flags|=128,r=!0,p_(i,!1),e.lanes=4194304)}else{if(!r)if(t=O1(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),p_(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!hs)return Ea(e),null}else 2*ti()-i.renderingStartTime>Cv&&n!==1073741824&&(e.flags|=128,r=!0,p_(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ti(),e.sibling=null,n=js.current,qr(js,r?n&1|2:n&1),e):(Ea(e),null);case 22:case 23:return _$(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ul&1073741824&&(Ea(e),e.subtreeFlags&6&&(e.flags|=8192)):Ea(e),null;case 24:return null;case 25:return null}throw Error(et(156,e.tag))}function wve(t,e){switch(e$(e),e.tag){case 1:return Mo(e.type)&&j1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jv(),rs(Lo),rs(Oa),c$(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return l$(e),null;case 13:if(rs(js),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(et(340));Ev()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return rs(js),null;case 4:return jv(),null;case 10:return s$(e.type._context),null;case 22:case 23:return _$(),null;case 24:return null;default:return null}}var ES=!1,Aa=!1,xve=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function Fy(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fs(t,e,r)}else n.current=null}function WP(t,e,n){try{n()}catch(r){Fs(t,e,r)}}var o5=!1;function Eve(t,e){if(CP=w1,t=Pq(),ZM(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=t,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===t)break t;if(m===n&&++u===s&&(l=o),m===i&&++d===r&&(c=o),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(AP={focusedElem:t,selectionRange:n},w1=!1,Ot=e;Ot!==null;)if(e=Ot,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ot=t;else for(;Ot!==null;){e=Ot;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,b=y.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?_:$c(e.type,_),b);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(et(163))}}catch(T){Fs(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,Ot=t;break}Ot=e.return}return y=o5,o5=!1,y}function mw(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&WP(e,n,i)}s=s.next}while(s!==r)}}function KC(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function GP(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function I7(t){var e=t.alternate;e!==null&&(t.alternate=null,I7(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ou],delete e[Jw],delete e[kP],delete e[ive],delete e[ave])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function k7(t){return t.tag===5||t.tag===3||t.tag===4}function l5(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||k7(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function HP(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=S1));else if(r!==4&&(t=t.child,t!==null))for(HP(t,e,n),t=t.sibling;t!==null;)HP(t,e,n),t=t.sibling}function qP(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(qP(t,e,n),t=t.sibling;t!==null;)qP(t,e,n),t=t.sibling}var ia=null,Vc=!1;function Ih(t,e,n){for(n=n.child;n!==null;)O7(t,e,n),n=n.sibling}function O7(t,e,n){if(Gu&&typeof Gu.onCommitFiberUnmount=="function")try{Gu.onCommitFiberUnmount(UC,n)}catch{}switch(n.tag){case 5:Aa||Fy(n,e);case 6:var r=ia,s=Vc;ia=null,Ih(t,e,n),ia=r,Vc=s,ia!==null&&(Vc?(t=ia,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ia.removeChild(n.stateNode));break;case 18:ia!==null&&(Vc?(t=ia,n=n.stateNode,t.nodeType===8?mO(t.parentNode,n):t.nodeType===1&&mO(t,n),Gw(t)):mO(ia,n.stateNode));break;case 4:r=ia,s=Vc,ia=n.stateNode.containerInfo,Vc=!0,Ih(t,e,n),ia=r,Vc=s;break;case 0:case 11:case 14:case 15:if(!Aa&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&WP(n,e,o),s=s.next}while(s!==r)}Ih(t,e,n);break;case 1:if(!Aa&&(Fy(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Fs(n,e,l)}Ih(t,e,n);break;case 21:Ih(t,e,n);break;case 22:n.mode&1?(Aa=(r=Aa)||n.memoizedState!==null,Ih(t,e,n),Aa=r):Ih(t,e,n);break;default:Ih(t,e,n)}}function c5(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new xve),e.forEach(function(r){var s=Ove.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Rc(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ia=l.stateNode,Vc=!1;break e;case 3:ia=l.stateNode.containerInfo,Vc=!0;break e;case 4:ia=l.stateNode.containerInfo,Vc=!0;break e}l=l.return}if(ia===null)throw Error(et(160));O7(i,o,s),ia=null,Vc=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Fs(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)R7(e,t),e=e.sibling}function R7(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rc(e,t),Su(t),r&4){try{mw(3,t,t.return),KC(3,t)}catch(_){Fs(t,t.return,_)}try{mw(5,t,t.return)}catch(_){Fs(t,t.return,_)}}break;case 1:Rc(e,t),Su(t),r&512&&n!==null&&Fy(n,n.return);break;case 5:if(Rc(e,t),Su(t),r&512&&n!==null&&Fy(n,n.return),t.flags&32){var s=t.stateNode;try{Uw(s,"")}catch(_){Fs(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&tq(s,i),yP(l,o);var u=yP(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?aq(s,f):d==="dangerouslySetInnerHTML"?sq(s,f):d==="children"?Uw(s,f):FM(s,d,f,u)}switch(l){case"input":hP(s,i);break;case"textarea":nq(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Yy(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?Yy(s,!!i.multiple,i.defaultValue,!0):Yy(s,!!i.multiple,i.multiple?[]:"",!1))}s[Jw]=i}catch(_){Fs(t,t.return,_)}}break;case 6:if(Rc(e,t),Su(t),r&4){if(t.stateNode===null)throw Error(et(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){Fs(t,t.return,_)}}break;case 3:if(Rc(e,t),Su(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gw(e.containerInfo)}catch(_){Fs(t,t.return,_)}break;case 4:Rc(e,t),Su(t);break;case 13:Rc(e,t),Su(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(v$=ti())),r&4&&c5(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Aa=(u=Aa)||d,Rc(e,t),Aa=u):Rc(e,t),Su(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Ot=t,d=t.child;d!==null;){for(f=Ot=d;Ot!==null;){switch(m=Ot,p=m.child,m.tag){case 0:case 11:case 14:case 15:mw(4,m,m.return);break;case 1:Fy(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(_){Fs(r,n,_)}}break;case 5:Fy(m,m.return);break;case 22:if(m.memoizedState!==null){d5(f);continue}}p!==null?(p.return=m,Ot=p):d5(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=iq("display",o))}catch(_){Fs(t,t.return,_)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){Fs(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Rc(e,t),Su(t),r&4&&c5(t);break;case 21:break;default:Rc(e,t),Su(t)}}function Su(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(k7(n)){var r=n;break e}n=n.return}throw Error(et(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Uw(s,""),r.flags&=-33);var i=l5(t);qP(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=l5(t);HP(t,l,o);break;default:throw Error(et(161))}}catch(c){Fs(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Sve(t,e,n){Ot=t,P7(t)}function P7(t,e,n){for(var r=(t.mode&1)!==0;Ot!==null;){var s=Ot,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ES;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Aa;l=ES;var u=Aa;if(ES=o,(Aa=c)&&!u)for(Ot=s;Ot!==null;)o=Ot,c=o.child,o.tag===22&&o.memoizedState!==null?h5(s):c!==null?(c.return=o,Ot=c):h5(s);for(;i!==null;)Ot=i,P7(i),i=i.sibling;Ot=s,ES=l,Aa=u}u5(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ot=i):u5(t)}}function u5(t){for(;Ot!==null;){var e=Ot;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Aa||KC(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Aa)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:$c(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&YB(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}YB(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Gw(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(et(163))}Aa||e.flags&512&&GP(e)}catch(m){Fs(e,e.return,m)}}if(e===t){Ot=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ot=n;break}Ot=e.return}}function d5(t){for(;Ot!==null;){var e=Ot;if(e===t){Ot=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ot=n;break}Ot=e.return}}function h5(t){for(;Ot!==null;){var e=Ot;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{KC(4,e)}catch(c){Fs(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Fs(e,s,c)}}var i=e.return;try{GP(e)}catch(c){Fs(e,i,c)}break;case 5:var o=e.return;try{GP(e)}catch(c){Fs(e,o,c)}}}catch(c){Fs(e,e.return,c)}if(e===t){Ot=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ot=l;break}Ot=e.return}}var jve=Math.ceil,D1=rh.ReactCurrentDispatcher,g$=rh.ReactCurrentOwner,dc=rh.ReactCurrentBatchConfig,yr=0,Li=null,fi=null,ua=0,ul=0,Vy=Hf(0),ji=0,nx=null,Ap=0,JC=0,y$=0,pw=null,To=null,v$=0,Cv=1/0,jd=null,L1=!1,YP=null,gf=null,SS=!1,ef=null,M1=0,gw=0,KP=null,Pj=-1,Dj=0;function Ja(){return yr&6?ti():Pj!==-1?Pj:Pj=ti()}function yf(t){return t.mode&1?yr&2&&ua!==0?ua&-ua:lve.transition!==null?(Dj===0&&(Dj=vq()),Dj):(t=Rr,t!==0||(t=window.event,t=t===void 0?16:jq(t.type)),t):1}function Kc(t,e,n,r){if(50<gw)throw gw=0,KP=null,Error(et(185));u0(t,n,r),(!(yr&2)||t!==Li)&&(t===Li&&(!(yr&2)&&(JC|=n),ji===4&&Yh(t,ua)),$o(t,r),n===1&&yr===0&&!(e.mode&1)&&(Cv=ti()+500,HC&&qf()))}function $o(t,e){var n=t.callbackNode;lye(t,e);var r=_1(t,t===Li?ua:0);if(r===0)n!==null&&wB(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&wB(n),e===1)t.tag===0?ove(f5.bind(null,t)):Wq(f5.bind(null,t)),rve(function(){!(yr&6)&&qf()}),n=null;else{switch(bq(r)){case 1:n=WM;break;case 4:n=gq;break;case 16:n=b1;break;case 536870912:n=yq;break;default:n=b1}n=B7(n,D7.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function D7(t,e){if(Pj=-1,Dj=0,yr&6)throw Error(et(327));var n=t.callbackNode;if(Xy()&&t.callbackNode!==n)return null;var r=_1(t,t===Li?ua:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=$1(t,r);else{e=r;var s=yr;yr|=2;var i=M7();(Li!==t||ua!==e)&&(jd=null,Cv=ti()+500,mp(t,e));do try{Ave();break}catch(l){L7(t,l)}while(!0);r$(),D1.current=i,yr=s,fi!==null?e=0:(Li=null,ua=0,e=ji)}if(e!==0){if(e===2&&(s=xP(t),s!==0&&(r=s,e=JP(t,s))),e===1)throw n=nx,mp(t,0),Yh(t,r),$o(t,ti()),n;if(e===6)Yh(t,r);else{if(s=t.current.alternate,!(r&30)&&!Tve(s)&&(e=$1(t,r),e===2&&(i=xP(t),i!==0&&(r=i,e=JP(t,i))),e===1))throw n=nx,mp(t,0),Yh(t,r),$o(t,ti()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(et(345));case 2:Dm(t,To,jd);break;case 3:if(Yh(t,r),(r&130023424)===r&&(e=v$+500-ti(),10<e)){if(_1(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ja(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=IP(Dm.bind(null,t,To,jd),e);break}Dm(t,To,jd);break;case 4:if(Yh(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Yc(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ti()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jve(r/1960))-r,10<r){t.timeoutHandle=IP(Dm.bind(null,t,To,jd),r);break}Dm(t,To,jd);break;case 5:Dm(t,To,jd);break;default:throw Error(et(329))}}}return $o(t,ti()),t.callbackNode===n?D7.bind(null,t):null}function JP(t,e){var n=pw;return t.current.memoizedState.isDehydrated&&(mp(t,e).flags|=256),t=$1(t,e),t!==2&&(e=To,To=n,e!==null&&QP(e)),t}function QP(t){To===null?To=t:To.push.apply(To,t)}function Tve(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Qc(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yh(t,e){for(e&=~y$,e&=~JC,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yc(e),r=1<<n;t[n]=-1,e&=~r}}function f5(t){if(yr&6)throw Error(et(327));Xy();var e=_1(t,0);if(!(e&1))return $o(t,ti()),null;var n=$1(t,e);if(t.tag!==0&&n===2){var r=xP(t);r!==0&&(e=r,n=JP(t,r))}if(n===1)throw n=nx,mp(t,0),Yh(t,e),$o(t,ti()),n;if(n===6)throw Error(et(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Dm(t,To,jd),$o(t,ti()),null}function b$(t,e){var n=yr;yr|=1;try{return t(e)}finally{yr=n,yr===0&&(Cv=ti()+500,HC&&qf())}}function Np(t){ef!==null&&ef.tag===0&&!(yr&6)&&Xy();var e=yr;yr|=1;var n=dc.transition,r=Rr;try{if(dc.transition=null,Rr=1,t)return t()}finally{Rr=r,dc.transition=n,yr=e,!(yr&6)&&qf()}}function _$(){ul=Vy.current,rs(Vy)}function mp(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nve(n)),fi!==null)for(n=fi.return;n!==null;){var r=n;switch(e$(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&j1();break;case 3:jv(),rs(Lo),rs(Oa),c$();break;case 5:l$(r);break;case 4:jv();break;case 13:rs(js);break;case 19:rs(js);break;case 10:s$(r.type._context);break;case 22:case 23:_$()}n=n.return}if(Li=t,fi=t=vf(t.current,null),ua=ul=e,ji=0,nx=null,y$=JC=Ap=0,To=pw=null,sp!==null){for(e=0;e<sp.length;e++)if(n=sp[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}sp=null}return t}function L7(t,e){do{var n=fi;try{if(r$(),kj.current=P1,R1){for(var r=Ts.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}R1=!1}if(Cp=0,Pi=Ei=Ts=null,fw=!1,Xw=0,g$.current=null,n===null||n.return===null){ji=1,nx=e,fi=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=ua,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=e5(o);if(p!==null){p.flags&=-257,t5(p,o,l,i,e),p.mode&1&&XB(i,u,e),e=p,c=u;var y=e.updateQueue;if(y===null){var _=new Set;_.add(c),e.updateQueue=_}else y.add(c);break e}else{if(!(e&1)){XB(i,u,e),w$();break e}c=Error(et(426))}}else if(hs&&l.mode&1){var b=e5(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),t5(b,o,l,i,e),t$(Tv(c,l));break e}}i=c=Tv(c,l),ji!==4&&(ji=2),pw===null?pw=[i]:pw.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=b7(i,c,e);qB(i,x);break e;case 1:l=c;var w=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(gf===null||!gf.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var T=_7(i,l,e);qB(i,T);break e}}i=i.return}while(i!==null)}F7(n)}catch(N){e=N,fi===n&&n!==null&&(fi=n=n.return);continue}break}while(!0)}function M7(){var t=D1.current;return D1.current=P1,t===null?P1:t}function w$(){(ji===0||ji===3||ji===2)&&(ji=4),Li===null||!(Ap&268435455)&&!(JC&268435455)||Yh(Li,ua)}function $1(t,e){var n=yr;yr|=2;var r=M7();(Li!==t||ua!==e)&&(jd=null,mp(t,e));do try{Cve();break}catch(s){L7(t,s)}while(!0);if(r$(),yr=n,D1.current=r,fi!==null)throw Error(et(261));return Li=null,ua=0,ji}function Cve(){for(;fi!==null;)$7(fi)}function Ave(){for(;fi!==null&&!Xge();)$7(fi)}function $7(t){var e=U7(t.alternate,t,ul);t.memoizedProps=t.pendingProps,e===null?F7(t):fi=e,g$.current=null}function F7(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=wve(n,e),n!==null){n.flags&=32767,fi=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ji=6,fi=null;return}}else if(n=_ve(n,e,ul),n!==null){fi=n;return}if(e=e.sibling,e!==null){fi=e;return}fi=e=t}while(e!==null);ji===0&&(ji=5)}function Dm(t,e,n){var r=Rr,s=dc.transition;try{dc.transition=null,Rr=1,Nve(t,e,n,r)}finally{dc.transition=s,Rr=r}return null}function Nve(t,e,n,r){do Xy();while(ef!==null);if(yr&6)throw Error(et(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(et(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(cye(t,i),t===Li&&(fi=Li=null,ua=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||SS||(SS=!0,B7(b1,function(){return Xy(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=dc.transition,dc.transition=null;var o=Rr;Rr=1;var l=yr;yr|=4,g$.current=null,Eve(t,n),R7(n,t),Kye(AP),w1=!!CP,AP=CP=null,t.current=n,Sve(n),eye(),yr=l,Rr=o,dc.transition=i}else t.current=n;if(SS&&(SS=!1,ef=t,M1=s),i=t.pendingLanes,i===0&&(gf=null),rye(n.stateNode),$o(t,ti()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(L1)throw L1=!1,t=YP,YP=null,t;return M1&1&&t.tag!==0&&Xy(),i=t.pendingLanes,i&1?t===KP?gw++:(gw=0,KP=t):gw=0,qf(),null}function Xy(){if(ef!==null){var t=bq(M1),e=dc.transition,n=Rr;try{if(dc.transition=null,Rr=16>t?16:t,ef===null)var r=!1;else{if(t=ef,ef=null,M1=0,yr&6)throw Error(et(331));var s=yr;for(yr|=4,Ot=t.current;Ot!==null;){var i=Ot,o=i.child;if(Ot.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ot=u;Ot!==null;){var d=Ot;switch(d.tag){case 0:case 11:case 15:mw(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ot=f;else for(;Ot!==null;){d=Ot;var m=d.sibling,p=d.return;if(I7(d),d===u){Ot=null;break}if(m!==null){m.return=p,Ot=m;break}Ot=p}}}var y=i.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var b=_.sibling;_.sibling=null,_=b}while(_!==null)}}Ot=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ot=o;else e:for(;Ot!==null;){if(i=Ot,i.flags&2048)switch(i.tag){case 0:case 11:case 15:mw(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Ot=x;break e}Ot=i.return}}var w=t.current;for(Ot=w;Ot!==null;){o=Ot;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,Ot=E;else e:for(o=w;Ot!==null;){if(l=Ot,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:KC(9,l)}}catch(N){Fs(l,l.return,N)}if(l===o){Ot=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,Ot=T;break e}Ot=l.return}}if(yr=s,qf(),Gu&&typeof Gu.onPostCommitFiberRoot=="function")try{Gu.onPostCommitFiberRoot(UC,t)}catch{}r=!0}return r}finally{Rr=n,dc.transition=e}}return!1}function m5(t,e,n){e=Tv(n,e),e=b7(t,e,1),t=pf(t,e,1),e=Ja(),t!==null&&(u0(t,1,e),$o(t,e))}function Fs(t,e,n){if(t.tag===3)m5(t,t,n);else for(;e!==null;){if(e.tag===3){m5(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gf===null||!gf.has(r))){t=Tv(n,t),t=_7(e,t,1),e=pf(e,t,1),t=Ja(),e!==null&&(u0(e,1,t),$o(e,t));break}}e=e.return}}function Ive(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ja(),t.pingedLanes|=t.suspendedLanes&n,Li===t&&(ua&n)===n&&(ji===4||ji===3&&(ua&130023424)===ua&&500>ti()-v$?mp(t,0):y$|=n),$o(t,e)}function V7(t,e){e===0&&(t.mode&1?(e=mS,mS<<=1,!(mS&130023424)&&(mS=4194304)):e=1);var n=Ja();t=qd(t,e),t!==null&&(u0(t,e,n),$o(t,n))}function kve(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),V7(t,n)}function Ove(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(et(314))}r!==null&&r.delete(e),V7(t,n)}var U7;U7=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Lo.current)No=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return No=!1,bve(t,e,n);No=!!(t.flags&131072)}else No=!1,hs&&e.flags&1048576&&Gq(e,A1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Rj(t,e),t=e.pendingProps;var s=xv(e,Oa.current);Zy(e,n),s=d$(null,e,r,t,s,n);var i=h$();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mo(r)?(i=!0,T1(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,a$(e),s.updater=YC,e.stateNode=s,s._reactInternals=e,MP(e,r,t,n),e=VP(null,e,r,!0,i,n)):(e.tag=0,hs&&i&&XM(e),Wa(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Rj(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Pve(r),t=$c(r,t),s){case 0:e=FP(null,e,r,t,n);break e;case 1:e=s5(null,e,r,t,n);break e;case 11:e=n5(null,e,r,t,n);break e;case 14:e=r5(null,e,r,$c(r.type,t),n);break e}throw Error(et(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$c(r,s),FP(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$c(r,s),s5(t,e,r,s,n);case 3:e:{if(S7(e),t===null)throw Error(et(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Qq(t,e),k1(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Tv(Error(et(423)),e),e=i5(t,e,r,n,s);break e}else if(r!==s){s=Tv(Error(et(424)),e),e=i5(t,e,r,n,s);break e}else for(bl=mf(e.stateNode.containerInfo.firstChild),El=e,hs=!0,Bc=null,n=Kq(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ev(),r===s){e=Yd(t,e,n);break e}Wa(t,e,r,n)}e=e.child}return e;case 5:return Zq(e),t===null&&PP(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,NP(r,s)?o=null:i!==null&&NP(r,i)&&(e.flags|=32),E7(t,e),Wa(t,e,o,n),e.child;case 6:return t===null&&PP(e),null;case 13:return j7(t,e,n);case 4:return o$(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Sv(e,null,r,n):Wa(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$c(r,s),n5(t,e,r,s,n);case 7:return Wa(t,e,e.pendingProps,n),e.child;case 8:return Wa(t,e,e.pendingProps.children,n),e.child;case 12:return Wa(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,qr(N1,r._currentValue),r._currentValue=o,i!==null)if(Qc(i.value,o)){if(i.children===s.children&&!Lo.current){e=Yd(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Fd(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),DP(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(et(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),DP(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Wa(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Zy(e,n),s=pc(s),r=r(s),e.flags|=1,Wa(t,e,r,n),e.child;case 14:return r=e.type,s=$c(r,e.pendingProps),s=$c(r.type,s),r5(t,e,r,s,n);case 15:return w7(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$c(r,s),Rj(t,e),e.tag=1,Mo(r)?(t=!0,T1(e)):t=!1,Zy(e,n),v7(e,r,s),MP(e,r,s,n),VP(null,e,r,!0,t,n);case 19:return T7(t,e,n);case 22:return x7(t,e,n)}throw Error(et(156,e.tag))};function B7(t,e){return pq(t,e)}function Rve(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cc(t,e,n,r){return new Rve(t,e,n,r)}function x$(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pve(t){if(typeof t=="function")return x$(t)?1:0;if(t!=null){if(t=t.$$typeof,t===UM)return 11;if(t===BM)return 14}return 2}function vf(t,e){var n=t.alternate;return n===null?(n=cc(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Lj(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")x$(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Iy:return pp(n.children,s,i,e);case VM:o=8,s|=8;break;case oP:return t=cc(12,n,e,s|2),t.elementType=oP,t.lanes=i,t;case lP:return t=cc(13,n,e,s),t.elementType=lP,t.lanes=i,t;case cP:return t=cc(19,n,e,s),t.elementType=cP,t.lanes=i,t;case ZH:return QC(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case JH:o=10;break e;case QH:o=9;break e;case UM:o=11;break e;case BM:o=14;break e;case Wh:o=16,r=null;break e}throw Error(et(130,t==null?t:typeof t,""))}return e=cc(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function pp(t,e,n,r){return t=cc(7,t,r,e),t.lanes=n,t}function QC(t,e,n,r){return t=cc(22,t,r,e),t.elementType=ZH,t.lanes=n,t.stateNode={isHidden:!1},t}function xO(t,e,n){return t=cc(6,t,null,e),t.lanes=n,t}function EO(t,e,n){return e=cc(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Dve(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rO(0),this.expirationTimes=rO(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rO(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function E$(t,e,n,r,s,i,o,l,c){return t=new Dve(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=cc(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},a$(i),t}function Lve(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ny,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function z7(t){if(!t)return Af;t=t._reactInternals;e:{if(Xp(t)!==t||t.tag!==1)throw Error(et(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(et(171))}if(t.tag===1){var n=t.type;if(Mo(n))return zq(t,n,e)}return e}function W7(t,e,n,r,s,i,o,l,c){return t=E$(n,r,!0,t,s,i,o,l,c),t.context=z7(null),n=t.current,r=Ja(),s=yf(n),i=Fd(r,s),i.callback=e??null,pf(n,i,s),t.current.lanes=s,u0(t,s,r),$o(t,r),t}function ZC(t,e,n,r){var s=e.current,i=Ja(),o=yf(s);return n=z7(n),e.context===null?e.context=n:e.pendingContext=n,e=Fd(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=pf(s,e,o),t!==null&&(Kc(t,s,o,i),Ij(t,s,o)),o}function F1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function p5(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function S$(t,e){p5(t,e),(t=t.alternate)&&p5(t,e)}function Mve(){return null}var G7=typeof reportError=="function"?reportError:function(t){console.error(t)};function j$(t){this._internalRoot=t}XC.prototype.render=j$.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(et(409));ZC(t,e,null,null)};XC.prototype.unmount=j$.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Np(function(){ZC(null,t,null,null)}),e[Hd]=null}};function XC(t){this._internalRoot=t}XC.prototype.unstable_scheduleHydration=function(t){if(t){var e=xq();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qh.length&&e!==0&&e<qh[n].priority;n++);qh.splice(n,0,t),n===0&&Sq(t)}};function T$(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function eA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function g5(){}function $ve(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=F1(o);i.call(u)}}var o=W7(e,r,t,0,null,!1,!1,"",g5);return t._reactRootContainer=o,t[Hd]=o.current,Yw(t.nodeType===8?t.parentNode:t),Np(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=F1(c);l.call(u)}}var c=E$(t,0,!1,null,null,!1,!1,"",g5);return t._reactRootContainer=c,t[Hd]=c.current,Yw(t.nodeType===8?t.parentNode:t),Np(function(){ZC(e,c,n,r)}),c}function tA(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=F1(o);l.call(c)}}ZC(e,o,t,s)}else o=$ve(n,e,t,s,r);return F1(o)}_q=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=B_(e.pendingLanes);n!==0&&(GM(e,n|1),$o(e,ti()),!(yr&6)&&(Cv=ti()+500,qf()))}break;case 13:Np(function(){var r=qd(t,1);if(r!==null){var s=Ja();Kc(r,t,1,s)}}),S$(t,1)}};HM=function(t){if(t.tag===13){var e=qd(t,134217728);if(e!==null){var n=Ja();Kc(e,t,134217728,n)}S$(t,134217728)}};wq=function(t){if(t.tag===13){var e=yf(t),n=qd(t,e);if(n!==null){var r=Ja();Kc(n,t,e,r)}S$(t,e)}};xq=function(){return Rr};Eq=function(t,e){var n=Rr;try{return Rr=t,e()}finally{Rr=n}};bP=function(t,e,n){switch(e){case"input":if(hP(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=GC(r);if(!s)throw Error(et(90));eq(r),hP(r,s)}}}break;case"textarea":nq(t,n);break;case"select":e=n.value,e!=null&&Yy(t,!!n.multiple,e,!1)}};cq=b$;uq=Np;var Fve={usingClientEntryPoint:!1,Events:[h0,Py,GC,oq,lq,b$]},g_={findFiberByHostInstance:rp,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vve={bundleType:g_.bundleType,version:g_.version,rendererPackageName:g_.rendererPackageName,rendererConfig:g_.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rh.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fq(t),t===null?null:t.stateNode},findFiberByHostInstance:g_.findFiberByHostInstance||Mve,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jS.isDisabled&&jS.supportsFiber)try{UC=jS.inject(Vve),Gu=jS}catch{}}Ol.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fve;Ol.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T$(e))throw Error(et(200));return Lve(t,e,null,n)};Ol.createRoot=function(t,e){if(!T$(t))throw Error(et(299));var n=!1,r="",s=G7;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=E$(t,1,!1,null,null,n,!1,r,s),t[Hd]=e.current,Yw(t.nodeType===8?t.parentNode:t),new j$(e)};Ol.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(et(188)):(t=Object.keys(t).join(","),Error(et(268,t)));return t=fq(e),t=t===null?null:t.stateNode,t};Ol.flushSync=function(t){return Np(t)};Ol.hydrate=function(t,e,n){if(!eA(e))throw Error(et(200));return tA(null,t,e,!0,n)};Ol.hydrateRoot=function(t,e,n){if(!T$(t))throw Error(et(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=G7;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=W7(e,null,t,1,n??null,s,!1,i,o),t[Hd]=e.current,Yw(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new XC(e)};Ol.render=function(t,e,n){if(!eA(e))throw Error(et(200));return tA(null,t,e,!1,n)};Ol.unmountComponentAtNode=function(t){if(!eA(t))throw Error(et(40));return t._reactRootContainer?(Np(function(){tA(null,null,t,!1,function(){t._reactRootContainer=null,t[Hd]=null})}),!0):!1};Ol.unstable_batchedUpdates=b$;Ol.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!eA(n))throw Error(et(200));if(t==null||t._reactInternals===void 0)throw Error(et(38));return tA(t,e,n,!1,r)};Ol.version="18.3.1-next-f1338f8080-20240426";function H7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(H7)}catch(t){console.error(t)}}H7(),HH.exports=Ol;var m0=HH.exports;const ap=Ho(m0);var y5=m0;iP.createRoot=y5.createRoot,iP.hydrateRoot=y5.hydrateRoot;var q7={exports:{}},Uve="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Bve=Uve,zve=Bve;function Y7(){}function K7(){}K7.resetWarningCache=Y7;var Wve=function(){function t(r,s,i,o,l,c){if(c!==zve){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:K7,resetWarningCache:Y7};return n.PropTypes=n,n};q7.exports=Wve();var Gve=q7.exports;const R=Ho(Gve);/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rx(){return rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rx.apply(this,arguments)}var tf;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(tf||(tf={}));const v5="popstate";function Hve(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return ZP("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:V1(s)}return Yve(e,n,null,t)}function ri(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function C$(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qve(){return Math.random().toString(36).substr(2,8)}function b5(t,e){return{usr:t.state,key:t.key,idx:e}}function ZP(t,e,n,r){return n===void 0&&(n=null),rx({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ab(e):e,{state:n,key:e&&e.key||r||qve()})}function V1(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ab(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Yve(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=tf.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(rx({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=tf.Pop;let b=d(),x=b==null?null:b-u;u=b,c&&c({action:l,location:_.location,delta:x})}function m(b,x){l=tf.Push;let w=ZP(_.location,b,x);u=d()+1;let E=b5(w,u),T=_.createHref(w);try{o.pushState(E,"",T)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(T)}i&&c&&c({action:l,location:_.location,delta:1})}function p(b,x){l=tf.Replace;let w=ZP(_.location,b,x);u=d();let E=b5(w,u),T=_.createHref(w);o.replaceState(E,"",T),i&&c&&c({action:l,location:_.location,delta:0})}function y(b){let x=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof b=="string"?b:V1(b);return ri(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let _={get action(){return l},get location(){return t(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(v5,f),c=b,()=>{s.removeEventListener(v5,f),c=null}},createHref(b){return e(s,b)},createURL:y,encodeLocation(b){let x=y(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:p,go(b){return o.go(b)}};return _}var _5;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(_5||(_5={}));function Kve(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ab(e):e,s=A$(r.pathname||"/",n);if(s==null)return null;let i=J7(t);Jve(i);let o=null;for(let l=0;o==null&&l<i.length;++l)o=ibe(i[l],lbe(s));return o}function J7(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ri(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=bf([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(ri(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),J7(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:rbe(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of Q7(i.path))s(i,o,c)}),e}function Q7(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Q7(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Jve(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sbe(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Qve=/^:\w+$/,Zve=3,Xve=2,ebe=1,tbe=10,nbe=-2,w5=t=>t==="*";function rbe(t,e){let n=t.split("/"),r=n.length;return n.some(w5)&&(r+=nbe),e&&(r+=Xve),n.filter(s=>!w5(s)).reduce((s,i)=>s+(Qve.test(i)?Zve:i===""?ebe:tbe),r)}function sbe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function ibe(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=abe({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u);if(!d)return null;Object.assign(r,d.params);let f=l.route;i.push({params:r,pathname:bf([s,d.pathname]),pathnameBase:hbe(bf([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=bf([s,d.pathnameBase]))}return i}function abe(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=obe(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let _=l[f]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const y=l[f];return p&&!y?u[m]=void 0:u[m]=cbe(y||"",m),u},{}),pathname:i,pathnameBase:o,pattern:t}}function obe(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),C$(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function lbe(t){try{return decodeURI(t)}catch(e){return C$(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function cbe(t,e){try{return decodeURIComponent(t)}catch(n){return C$(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function A$(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ube(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ab(t):t;return{pathname:n?n.startsWith("/")?n:dbe(n,e):e,search:fbe(r),hash:mbe(s)}}function dbe(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function SO(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function N$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function I$(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ab(t):(s=rx({},t),ri(!s.pathname||!s.pathname.includes("?"),SO("?","pathname","search",s)),ri(!s.pathname||!s.pathname.includes("#"),SO("#","pathname","hash",s)),ri(!s.search||!s.search.includes("#"),SO("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else if(r){let f=e[e.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f.pop();s.pathname=m.join("/")}l="/"+f.join("/")}else{let f=e.length-1;if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=ube(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const bf=t=>t.join("/").replace(/\/\/+/g,"/"),hbe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fbe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mbe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function pbe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Z7=["post","put","patch","delete"];new Set(Z7);const gbe=["get",...Z7];new Set(gbe);/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function U1(){return U1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U1.apply(this,arguments)}const k$=C.createContext(null),ybe=C.createContext(null),ob=C.createContext(null),nA=C.createContext(null),sh=C.createContext({outlet:null,matches:[],isDataRoute:!1}),X7=C.createContext(null);function vbe(t,e){let{relative:n}=e===void 0?{}:e;lb()||ri(!1);let{basename:r,navigator:s}=C.useContext(ob),{hash:i,pathname:o,search:l}=tY(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:bf([r,o])),s.createHref({pathname:c,search:l,hash:i})}function lb(){return C.useContext(nA)!=null}function ih(){return lb()||ri(!1),C.useContext(nA).location}function eY(t){C.useContext(ob).static||C.useLayoutEffect(t)}function is(){let{isDataRoute:t}=C.useContext(sh);return t?kbe():bbe()}function bbe(){lb()||ri(!1);let t=C.useContext(k$),{basename:e,navigator:n}=C.useContext(ob),{matches:r}=C.useContext(sh),{pathname:s}=ih(),i=JSON.stringify(N$(r).map(c=>c.pathnameBase)),o=C.useRef(!1);return eY(()=>{o.current=!0}),C.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=I$(c,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:bf([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,i,s,t])}function su(){let{matches:t}=C.useContext(sh),e=t[t.length-1];return e?e.params:{}}function tY(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=C.useContext(sh),{pathname:s}=ih(),i=JSON.stringify(N$(r).map(o=>o.pathnameBase));return C.useMemo(()=>I$(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function _be(t,e){return wbe(t,e)}function wbe(t,e,n){lb()||ri(!1);let{navigator:r}=C.useContext(ob),{matches:s}=C.useContext(sh),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c=ih(),u;if(e){var d;let _=typeof e=="string"?ab(e):e;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||ri(!1),u=_}else u=c;let f=u.pathname||"/",m=l==="/"?f:f.slice(l.length)||"/",p=Kve(t,{pathname:m}),y=Tbe(p&&p.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:bf([l,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:bf([l,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n);return e&&y?C.createElement(nA.Provider,{value:{location:U1({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:tf.Pop}},y):y}function xbe(){let t=Ibe(),e=pbe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:s},n):null,null)}const Ebe=C.createElement(xbe,null);class Sbe extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?C.createElement(sh.Provider,{value:this.props.routeContext},C.createElement(X7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jbe(t){let{routeContext:e,match:n,children:r}=t,s=C.useContext(k$);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(sh.Provider,{value:e},r)}function Tbe(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let i=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let l=i.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id]));l>=0||ri(!1),i=i.slice(0,Math.min(i.length,l+1))}return i.reduceRight((l,c,u)=>{let d=c.route.id?o==null?void 0:o[c.route.id]:null,f=null;n&&(f=c.route.errorElement||Ebe);let m=e.concat(i.slice(0,u+1)),p=()=>{let y;return d?y=f:c.route.Component?y=C.createElement(c.route.Component,null):c.route.element?y=c.route.element:y=l,C.createElement(jbe,{match:c,routeContext:{outlet:l,matches:m,isDataRoute:n!=null},children:y})};return n&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?C.createElement(Sbe,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var nY=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(nY||{}),rY=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(rY||{});function Cbe(t){let e=C.useContext(k$);return e||ri(!1),e}function Abe(t){let e=C.useContext(ybe);return e||ri(!1),e}function Nbe(t){let e=C.useContext(sh);return e||ri(!1),e}function sY(t){let e=Nbe(),n=e.matches[e.matches.length-1];return n.route.id||ri(!1),n.route.id}function Ibe(){var t;let e=C.useContext(X7),n=Abe(),r=sY();return e||((t=n.errors)==null?void 0:t[r])}function kbe(){let{router:t}=Cbe(nY.UseNavigateStable),e=sY(rY.UseNavigateStable),n=C.useRef(!1);return eY(()=>{n.current=!0}),C.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,U1({fromRouteId:e},i)))},[t,e])}function XP(t){let{to:e,replace:n,state:r,relative:s}=t;lb()||ri(!1);let{matches:i}=C.useContext(sh),{pathname:o}=ih(),l=is(),c=I$(e,N$(i).map(d=>d.pathnameBase),o,s==="path"),u=JSON.stringify(c);return C.useEffect(()=>l(JSON.parse(u),{replace:n,state:r,relative:s}),[l,u,s,n,r]),null}function e2(t){ri(!1)}function Obe(t){let{basename:e="/",children:n=null,location:r,navigationType:s=tf.Pop,navigator:i,static:o=!1}=t;lb()&&ri(!1);let l=e.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:l,navigator:i,static:o}),[l,i,o]);typeof r=="string"&&(r=ab(r));let{pathname:u="/",search:d="",hash:f="",state:m=null,key:p="default"}=r,y=C.useMemo(()=>{let _=A$(u,l);return _==null?null:{location:{pathname:_,search:d,hash:f,state:m,key:p},navigationType:s}},[l,u,d,f,m,p,s]);return y==null?null:C.createElement(ob.Provider,{value:c},C.createElement(nA.Provider,{children:n,value:y}))}function Rbe(t){let{children:e,location:n}=t;return _be(t2(e),n)}new Promise(()=>{});function t2(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,s)=>{if(!C.isValidElement(r))return;let i=[...e,s];if(r.type===C.Fragment){n.push.apply(n,t2(r.props.children,i));return}r.type!==e2&&ri(!1),!r.props.index||!r.props.children||ri(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=t2(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function n2(){return n2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n2.apply(this,arguments)}function Pbe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Dbe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Lbe(t,e){return t.button===0&&(!e||e==="_self")&&!Dbe(t)}function r2(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function Mbe(t,e){let n=r2(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const $be=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Fbe="startTransition",x5=sP[Fbe];function Vbe(t){let{basename:e,children:n,future:r,window:s}=t,i=C.useRef();i.current==null&&(i.current=Hve({window:s,v5Compat:!0}));let o=i.current,[l,c]=C.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=C.useCallback(f=>{u&&x5?x5(()=>c(f)):c(f)},[c,u]);return C.useLayoutEffect(()=>o.listen(d),[o,d]),C.createElement(Obe,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o})}const Ube=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bbe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=C.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,unstable_viewTransition:f}=e,m=Pbe(e,$be),{basename:p}=C.useContext(ob),y,_=!1;if(typeof u=="string"&&Bbe.test(u)&&(y=u,Ube))try{let E=new URL(window.location.href),T=u.startsWith("//")?new URL(E.protocol+u):new URL(u),N=A$(T.pathname,p);T.origin===E.origin&&N!=null?u=N+T.search+T.hash:_=!0}catch{}let b=vbe(u,{relative:s}),x=zbe(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,unstable_viewTransition:f});function w(E){r&&r(E),E.defaultPrevented||x(E)}return C.createElement("a",n2({},m,{href:y||b,onClick:_||i?r:w,ref:n,target:c}))});var E5;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(E5||(E5={}));var S5;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(S5||(S5={}));function zbe(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,c=is(),u=ih(),d=tY(t,{relative:o});return C.useCallback(f=>{if(Lbe(f,n)){f.preventDefault();let m=r!==void 0?r:V1(u)===V1(d);c(t,{replace:m,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:l})}},[u,c,d,r,s,n,t,i,o,l])}function Wbe(t){let e=C.useRef(r2(t)),n=C.useRef(!1),r=ih(),s=C.useMemo(()=>Mbe(r.search,n.current?null:e.current),[r.search]),i=is(),o=C.useCallback((l,c)=>{const u=r2(typeof l=="function"?l(s):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,o]}var iY={exports:{}},aY={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0=C;function Gbe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hbe=typeof Object.is=="function"?Object.is:Gbe,qbe=p0.useSyncExternalStore,Ybe=p0.useRef,Kbe=p0.useEffect,Jbe=p0.useMemo,Qbe=p0.useDebugValue;aY.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=Ybe(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Jbe(function(){function c(p){if(!u){if(u=!0,d=p,p=r(p),s!==void 0&&o.hasValue){var y=o.value;if(s(y,p))return f=y}return f=p}if(y=f,Hbe(d,p))return y;var _=r(p);return s!==void 0&&s(y,_)?(d=p,y):(d=p,f=_)}var u=!1,d,f,m=n===void 0?null:n;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,n,r,s]);var l=qbe(t,i[0],i[1]);return Kbe(function(){o.hasValue=!0,o.value=l},[l]),Qbe(l),l};iY.exports=aY;var Zbe=iY.exports,or=ae,j5=Symbol.for("react-redux-context"),T5=typeof globalThis<"u"?globalThis:{};function Xbe(){if(!or.createContext)return{};const t=T5[j5]??(T5[j5]=new Map);let e=t.get(or.createContext);return e||(e=or.createContext(null),t.set(or.createContext,e)),e}var Kd=Xbe(),oY=()=>{throw new Error("uSES not initialized!")};function O$(t=Kd){return function(){return or.useContext(t)}}var lY=O$(),cY=oY,e_e=t=>{cY=t},t_e=(t,e)=>t===e;function n_e(t=Kd){const e=t===Kd?lY:O$(t);return function(r,s={}){const{equalityFn:i=t_e,devModeChecks:o={}}=typeof s=="function"?{equalityFn:s}:s,{store:l,subscription:c,getServerState:u,stabilityCheck:d,identityFunctionCheck:f}=e();or.useRef(!0);const m=or.useCallback({[r.name](y){return r(y)}}[r.name],[r,d,o.stabilityCheck]),p=cY(c.addNestedSub,l.getState,u||l.getState,m,i);return or.useDebugValue(p),p}}var g0=n_e(),r_e=Symbol.for("react.element"),s_e=Symbol.for("react.portal"),i_e=Symbol.for("react.fragment"),a_e=Symbol.for("react.strict_mode"),o_e=Symbol.for("react.profiler"),l_e=Symbol.for("react.provider"),c_e=Symbol.for("react.context"),u_e=Symbol.for("react.server_context"),uY=Symbol.for("react.forward_ref"),d_e=Symbol.for("react.suspense"),h_e=Symbol.for("react.suspense_list"),R$=Symbol.for("react.memo"),f_e=Symbol.for("react.lazy"),m_e=uY,p_e=R$;function g_e(t){if(typeof t=="object"&&t!==null){const e=t.$$typeof;switch(e){case r_e:{const n=t.type;switch(n){case i_e:case o_e:case a_e:case d_e:case h_e:return n;default:{const r=n&&n.$$typeof;switch(r){case u_e:case c_e:case uY:case f_e:case R$:case l_e:return r;default:return e}}}}case s_e:return e}}}function y_e(t){return g_e(t)===R$}function v_e(t,e,n,r,{areStatesEqual:s,areOwnPropsEqual:i,areStatePropsEqual:o}){let l=!1,c,u,d,f,m;function p(w,E){return c=w,u=E,d=t(c,u),f=e(r,u),m=n(d,f,u),l=!0,m}function y(){return d=t(c,u),e.dependsOnOwnProps&&(f=e(r,u)),m=n(d,f,u),m}function _(){return t.dependsOnOwnProps&&(d=t(c,u)),e.dependsOnOwnProps&&(f=e(r,u)),m=n(d,f,u),m}function b(){const w=t(c,u),E=!o(w,d);return d=w,E&&(m=n(d,f,u)),m}function x(w,E){const T=!i(E,u),N=!s(w,c,E,u);return c=w,u=E,T&&N?y():T?_():N?b():m}return function(E,T){return l?x(E,T):p(E,T)}}function b_e(t,{initMapStateToProps:e,initMapDispatchToProps:n,initMergeProps:r,...s}){const i=e(t,s),o=n(t,s),l=r(t,s);return v_e(i,o,l,t,s)}function __e(t,e){const n={};for(const r in t){const s=t[r];typeof s=="function"&&(n[r]=(...i)=>e(s(...i)))}return n}function s2(t){return function(n){const r=t(n);function s(){return r}return s.dependsOnOwnProps=!1,s}}function C5(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function dY(t,e){return function(r,{displayName:s}){const i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=t,i.dependsOnOwnProps=C5(t);let u=i(l,c);return typeof u=="function"&&(i.mapToProps=u,i.dependsOnOwnProps=C5(u),u=i(l,c)),u},i}}function P$(t,e){return(n,r)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function w_e(t){return t&&typeof t=="object"?s2(e=>__e(t,e)):t?typeof t=="function"?dY(t):P$(t,"mapDispatchToProps"):s2(e=>({dispatch:e}))}function x_e(t){return t?typeof t=="function"?dY(t):P$(t,"mapStateToProps"):s2(()=>({}))}function E_e(t,e,n){return{...n,...t,...e}}function S_e(t){return function(n,{displayName:r,areMergedPropsEqual:s}){let i=!1,o;return function(c,u,d){const f=t(c,u,d);return i?s(f,o)||(o=f):(i=!0,o=f),o}}}function j_e(t){return t?typeof t=="function"?S_e(t):P$(t,"mergeProps"):()=>E_e}function T_e(t){t()}function C_e(){let t=null,e=null;return{clear(){t=null,e=null},notify(){T_e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0,s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!r||t===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var A5={notify(){},get:()=>[]};function hY(t,e){let n,r=A5,s=0,i=!1;function o(_){d();const b=r.subscribe(_);let x=!1;return()=>{x||(x=!0,b(),f())}}function l(){r.notify()}function c(){y.onStateChange&&y.onStateChange()}function u(){return i}function d(){s++,n||(n=e?e.addNestedSub(c):t.subscribe(c),r=C_e())}function f(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=A5)}function m(){i||(i=!0,d())}function p(){i&&(i=!1,f())}const y={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:p,getListeners:()=>r};return y}var A_e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",B1=A_e?or.useLayoutEffect:or.useEffect;function N5(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function jO(t,e){if(N5(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(e,n[s])||!N5(t[n[s]],e[n[s]]))return!1;return!0}var N_e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},I_e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},k_e={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},fY={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},O_e={[m_e]:k_e,[p_e]:fY};function I5(t){return y_e(t)?fY:O_e[t.$$typeof]||N_e}var R_e=Object.defineProperty,P_e=Object.getOwnPropertyNames,k5=Object.getOwnPropertySymbols,D_e=Object.getOwnPropertyDescriptor,L_e=Object.getPrototypeOf,O5=Object.prototype;function i2(t,e){if(typeof e!="string"){if(O5){const i=L_e(e);i&&i!==O5&&i2(t,i)}let n=P_e(e);k5&&(n=n.concat(k5(e)));const r=I5(t),s=I5(e);for(let i=0;i<n.length;++i){const o=n[i];if(!I_e[o]&&!(s&&s[o])&&!(r&&r[o])){const l=D_e(e,o);try{R_e(t,o,l)}catch{}}}}return t}var mY=oY,M_e=t=>{mY=t},$_e=[null,null];function F_e(t,e,n){B1(()=>t(...e),n)}function V_e(t,e,n,r,s,i){t.current=r,n.current=!1,s.current&&(s.current=null,i())}function U_e(t,e,n,r,s,i,o,l,c,u,d){if(!t)return()=>{};let f=!1,m=null;const p=()=>{if(f||!l.current)return;const _=e.getState();let b,x;try{b=r(_,s.current)}catch(w){x=w,m=w}x||(m=null),b===i.current?o.current||u():(i.current=b,c.current=b,o.current=!0,d())};return n.onStateChange=p,n.trySubscribe(),p(),()=>{if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,m)throw m}}function B_e(t,e){return t===e}function z_e(t,e,n,{pure:r,areStatesEqual:s=B_e,areOwnPropsEqual:i=jO,areStatePropsEqual:o=jO,areMergedPropsEqual:l=jO,forwardRef:c=!1,context:u=Kd}={}){const d=u,f=x_e(t),m=w_e(e),p=j_e(n),y=!!t;return b=>{const x=b.displayName||b.name||"Component",w=`Connect(${x})`,E={shouldHandleStateChanges:y,displayName:w,wrappedComponentName:x,WrappedComponent:b,initMapStateToProps:f,initMapDispatchToProps:m,initMergeProps:p,areStatesEqual:s,areStatePropsEqual:o,areOwnPropsEqual:i,areMergedPropsEqual:l};function T(D){const[F,Y,q]=or.useMemo(()=>{const{reactReduxForwardedRef:zt,...en}=D;return[D.context,zt,en]},[D]),B=or.useMemo(()=>{let zt=d;return F!=null&&F.Consumer,zt},[F,d]),G=or.useContext(B),J=!!D.store&&!!D.store.getState&&!!D.store.dispatch,W=!!G&&!!G.store,z=J?D.store:G.store,Z=W?G.getServerState:z.getState,X=or.useMemo(()=>b_e(z.dispatch,E),[z]),[ne,le]=or.useMemo(()=>{if(!y)return $_e;const zt=hY(z,J?void 0:G.subscription),en=zt.notifyNestedSubs.bind(zt);return[zt,en]},[z,J,G]),ge=or.useMemo(()=>J?G:{...G,subscription:ne},[J,G,ne]),Ue=or.useRef(),Ie=or.useRef(q),ot=or.useRef(),it=or.useRef(!1);or.useRef(!1);const Te=or.useRef(!1),St=or.useRef();B1(()=>(Te.current=!0,()=>{Te.current=!1}),[]);const ut=or.useMemo(()=>()=>ot.current&&q===Ie.current?ot.current:X(z.getState(),q),[z,q]),ft=or.useMemo(()=>en=>ne?U_e(y,z,ne,X,Ie,Ue,it,Te,ot,le,en):()=>{},[ne]);F_e(V_e,[Ie,Ue,it,q,ot,le]);let gt;try{gt=mY(ft,ut,Z?()=>X(Z(),q):ut)}catch(zt){throw St.current&&(zt.message+=`
The error may be correlated with this previous error:
${St.current.stack}

`),zt}B1(()=>{St.current=void 0,ot.current=void 0,Ue.current=gt});const qt=or.useMemo(()=>or.createElement(b,{...gt,ref:Y}),[Y,b,gt]);return or.useMemo(()=>y?or.createElement(B.Provider,{value:ge},qt):qt,[B,qt,ge])}const P=or.memo(T);if(P.WrappedComponent=b,P.displayName=T.displayName=w,c){const F=or.forwardRef(function(q,B){return or.createElement(P,{...q,reactReduxForwardedRef:B})});return F.displayName=w,F.WrappedComponent=b,i2(F,b)}return i2(P,b)}}var cb=z_e;function W_e({store:t,context:e,children:n,serverState:r,stabilityCheck:s="once",identityFunctionCheck:i="once"}){const o=or.useMemo(()=>{const u=hY(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:s,identityFunctionCheck:i}},[t,r,s,i]),l=or.useMemo(()=>t.getState(),[t]);B1(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,l]);const c=e||Kd;return or.createElement(c.Provider,{value:o},n)}var G_e=W_e;function pY(t=Kd){const e=t===Kd?lY:O$(t);return function(){const{store:r}=e();return r}}var H_e=pY();function q_e(t=Kd){const e=t===Kd?H_e:pY(t);return function(){return e().dispatch}}var ub=q_e();e_e(Zbe.useSyncExternalStoreWithSelector);M_e(C.useSyncExternalStore);function Y_e(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function K_e(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function J_e(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var R5=t=>Array.isArray(t)?t:[t];function Q_e(t){const e=Array.isArray(t[0])?t[0]:t;return J_e(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Z_e(t,e){const n=[],{length:r}=t;for(let s=0;s<r;s++)n.push(t[s].apply(null,e));return n}var X_e=class{constructor(t){this.value=t}deref(){return this.value}},ewe=typeof WeakRef<"u"?WeakRef:X_e,twe=0,P5=1;function TS(){return{s:twe,v:void 0,o:null,p:null}}function gY(t,e={}){let n=TS();const{resultEqualityCheck:r}=e;let s,i=0;function o(){var f;let l=n;const{length:c}=arguments;for(let m=0,p=c;m<p;m++){const y=arguments[m];if(typeof y=="function"||typeof y=="object"&&y!==null){let _=l.o;_===null&&(l.o=_=new WeakMap);const b=_.get(y);b===void 0?(l=TS(),_.set(y,l)):l=b}else{let _=l.p;_===null&&(l.p=_=new Map);const b=_.get(y);b===void 0?(l=TS(),_.set(y,l)):l=b}}const u=l;let d;if(l.s===P5)d=l.v;else if(d=t.apply(null,arguments),i++,r){const m=((f=s==null?void 0:s.deref)==null?void 0:f.call(s))??s;m!=null&&r(m,d)&&(d=m,i!==0&&i--),s=typeof d=="object"&&d!==null||typeof d=="function"?new ewe(d):d}return u.s=P5,u.v=d,d}return o.clearCache=()=>{n=TS(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function nwe(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...s)=>{let i=0,o=0,l,c={},u=s.pop();typeof u=="object"&&(c=u,u=s.pop()),Y_e(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...c},{memoize:f,memoizeOptions:m=[],argsMemoize:p=gY,argsMemoizeOptions:y=[]}=d,_=R5(m),b=R5(y),x=Q_e(s),w=f(function(){return i++,u.apply(null,arguments)},..._),E=p(function(){o++;const N=Z_e(x,arguments);return l=w.apply(null,N),l},...b);return Object.assign(E,{resultFunc:u,memoizedResultFunc:w,dependencies:x,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var db=nwe(gY),rwe=Object.assign((t,e=db)=>{K_e(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(i=>t[i]);return e(r,(...i)=>i.reduce((o,l,c)=>(o[n[c]]=l,o),{}))},{withTypes:()=>rwe}),yY={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var i="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(i=s(i,r(l)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var l in i)e.call(i,l)&&i[l]&&(o=s(o,l));return o}function s(i,o){return o?i?i+" "+o:i+o:i}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(yY);var swe=yY.exports;const Rt=Ho(swe);function sx(t){"@babel/helpers - typeof";return sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sx(t)}function iwe(){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}function vY(t){document.body.style.paddingRight=t>0?"".concat(t,"px"):null}function awe(){return document.body.clientWidth<window.innerWidth}function owe(){var t=window.getComputedStyle(document.body,null);return parseInt(t&&t.getPropertyValue("padding-right")||0,10)}function lwe(){var t=iwe(),e=document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")[0],n=e?parseInt(e.style.paddingRight||0,10):0;awe()&&vY(n+t)}var cwe;function Kt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cwe;return e?t.split(" ").map(function(n){return e[n]||n}).join(" "):t}function ah(t,e){var n={};return Object.keys(t).forEach(function(r){e.indexOf(r)===-1&&(n[r]=t[r])}),n}function bY(t,e){for(var n=Array.isArray(e)?e:[e],r=n.length,s,i={};r>0;)r-=1,s=n[r],i[s]=t[s];return i}var D5={};function a2(t){D5[t]||(typeof console<"u"&&console.error(t),D5[t]=!0)}function _Y(t,e){return function(r,s,i){r[s]!==null&&typeof r[s]<"u"&&a2('"'.concat(s,'" property of "').concat(i,`" has been deprecated.
`).concat(e));for(var o=arguments.length,l=new Array(o>3?o-3:0),c=3;c<o;c++)l[c-3]=arguments[c];return t.apply(void 0,[r,s,i].concat(l))}}var uwe=(typeof window>"u"?"undefined":sx(window))==="object"&&window.Element||function(){};function D$(t,e,n){if(!(t[e]instanceof uwe))return new Error("Invalid prop `"+e+"` supplied to `"+n+"`. Expected prop to be an instance of Element. Validation failed.")}var Av=R.oneOfType([R.string,R.func,D$,R.shape({current:R.any})]),Kn=R.oneOfType([R.func,R.string,R.shape({$$typeof:R.symbol,render:R.func}),R.arrayOf(R.oneOfType([R.func,R.string,R.shape({$$typeof:R.symbol,render:R.func})]))]),z1={Fade:150,Collapse:350,Modal:300},W1=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],CS={ENTERING:"entering",ENTERED:"entered",EXITING:"exiting",EXITED:"exited"},Ir={esc:27,space:32,enter:13,tab:9,up:38,down:40,home:36,end:35,n:78,p:80},dwe=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],L$=!!(typeof window<"u"&&window.document&&window.document.createElement);function hwe(t){return t&&sx(t)==="object"?"current"in t:!1}function fwe(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function M$(t){var e=sx(t);return t!=null&&(e==="object"||e==="function")}function mwe(t){if(!M$(t))return!1;var e=fwe(t);return e==="[object Function]"||e==="[object AsyncFunction]"||e==="[object GeneratorFunction]"||e==="[object Proxy]"}function pwe(t){if(hwe(t))return t.current;if(mwe(t))return t();if(typeof t=="string"&&L$){var e=document.querySelectorAll(t);if(e.length||(e=document.querySelectorAll("#".concat(t))),!e.length)throw new Error("The target '".concat(t,"' could not be identified in the dom, tip: check spelling"));return e}return t}function L5(t){return t===null?!1:Array.isArray(t)||L$&&typeof t.length=="number"}function ix(t,e){var n=pwe(t);return e?L5(n)?n:n===null?[]:[n]:L5(n)?n[0]:n}var gwe=["a[href]","area[href]","input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","object","embed","[tabindex]:not(.modal):not(.offcanvas)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],ywe=["className","cssModule","fluid","tag"];function o2(){return o2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o2.apply(this,arguments)}function vwe(t,e){if(t==null)return{};var n=bwe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bwe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var _we={tag:Kn,fluid:R.oneOfType([R.bool,R.string]),className:R.string,cssModule:R.object};function An(t){var e=t.className,n=t.cssModule,r=t.fluid,s=t.tag,i=s===void 0?"div":s,o=vwe(t,ywe),l="container";r===!0?l="container-fluid":r&&(l="container-".concat(r));var c=Kt(Rt(e,l),n);return ae.createElement(i,o2({},o,{className:c}))}An.propTypes=_we;var wwe=["className","cssModule","noGutters","tag","widths"];function l2(){return l2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l2.apply(this,arguments)}function xwe(t,e){if(t==null)return{};var n=Ewe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ewe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var Swe=["xs","sm","md","lg","xl","xxl"],qg=R.oneOfType([R.number,R.string]),jwe={tag:Kn,noGutters:_Y(R.bool,"Please use Bootstrap 5 gutter utility classes. https://getbootstrap.com/docs/5.0/layout/gutters/"),className:R.string,cssModule:R.object,xs:qg,sm:qg,md:qg,lg:qg,xl:qg,xxl:qg,widths:R.array};function pe(t){var e=t.className,n=t.cssModule,r=t.noGutters,s=t.tag,i=s===void 0?"div":s,o=t.widths,l=o===void 0?Swe:o,c=xwe(t,wwe),u=[];l.forEach(function(f,m){var p=t[f];if(delete c[f],!!p){var y=!m;u.push(y?"row-cols-".concat(p):"row-cols-".concat(f,"-").concat(p))}});var d=Kt(Rt(e,r?"gx-0":null,"row",u),n);return ae.createElement(i,l2({},c,{className:d}))}pe.propTypes=jwe;var Twe=["className","cssModule","widths","tag"];function c2(){return c2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c2.apply(this,arguments)}function Cwe(t,e){if(t==null)return{};var n=Awe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Awe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function TO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wY=["xs","sm","md","lg","xl","xxl"],M5=R.oneOfType([R.number,R.string]),Yg=R.oneOfType([R.bool,R.number,R.string,R.shape({size:R.oneOfType([R.bool,R.number,R.string]),order:M5,offset:M5})]),Nwe={tag:Kn,xs:Yg,sm:Yg,md:Yg,lg:Yg,xl:Yg,xxl:Yg,className:R.string,cssModule:R.object,widths:R.array},$5=function(e,n,r){return r===!0||r===""?e?"col":"col-".concat(n):r==="auto"?e?"col-auto":"col-".concat(n,"-auto"):e?"col-".concat(r):"col-".concat(n,"-").concat(r)},Iwe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:wY,s=e,i=[];return r.forEach(function(o,l){var c=s[o];if(delete s[o],!(!c&&c!=="")){var u=!l;if(M$(c)){var d,f=u?"-":"-".concat(o,"-"),m=$5(u,o,c.size);i.push(Kt(Rt((d={},TO(d,m,c.size||c.size===""),TO(d,"order".concat(f).concat(c.order),c.order||c.order===0),TO(d,"offset".concat(f).concat(c.offset),c.offset||c.offset===0),d)),n))}else{var p=$5(u,o,c);i.push(p)}}}),{colClasses:i,modifiedAttributes:s}};function M(t){var e=t.className,n=t.cssModule,r=t.widths,s=r===void 0?wY:r,i=t.tag,o=i===void 0?"div":i,l=Cwe(t,Twe),c=Iwe(l,n,s),u=c.modifiedAttributes,d=c.colClasses;d.length||d.push("col");var f=Kt(Rt(e,d),n);return ae.createElement(o,c2({},u,{className:f}))}M.propTypes=Nwe;var kwe=["className","cssModule","tabs","pills","vertical","horizontal","justified","fill","navbar","card","tag"];function u2(){return u2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u2.apply(this,arguments)}function Owe(t,e){if(t==null)return{};var n=Rwe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rwe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var Pwe={card:R.bool,className:R.string,cssModule:R.object,fill:R.bool,horizontal:R.oneOf(["center","end"]),justified:R.bool,navbar:R.bool,pills:R.bool,tabs:R.bool,tag:Kn,vertical:R.oneOfType([R.bool,R.string])},Dwe=function(e){return e===!1?!1:e===!0||e==="xs"?"flex-column":"flex-".concat(e,"-column")};function hb(t){var e=t.className,n=t.cssModule,r=t.tabs,s=t.pills,i=t.vertical,o=i===void 0?!1:i,l=t.horizontal,c=t.justified,u=t.fill,d=t.navbar,f=t.card,m=t.tag,p=m===void 0?"ul":m,y=Owe(t,kwe),_=Kt(Rt(e,d?"navbar-nav":"nav",l?"justify-content-".concat(l):!1,Dwe(o),{"nav-tabs":r,"card-header-tabs":f&&r,"nav-pills":s,"card-header-pills":f&&s,"nav-justified":c,"nav-fill":u}),n);return ae.createElement(p,u2({},y,{className:_}))}hb.propTypes=Pwe;var Lwe=["className","cssModule","active","tag"];function d2(){return d2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d2.apply(this,arguments)}function Mwe(t,e){if(t==null)return{};var n=$we(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $we(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var Fwe={active:R.bool,className:R.string,cssModule:R.object,tag:Kn};function Io(t){var e=t.className,n=t.cssModule,r=t.active,s=t.tag,i=s===void 0?"li":s,o=Mwe(t,Lwe),l=Kt(Rt(e,"nav-item",r?"active":!1),n);return ae.createElement(i,d2({},o,{className:l}))}Io.propTypes=Fwe;function h2(t){"@babel/helpers - typeof";return h2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h2(t)}var Vwe=["className","cssModule","active","tag","innerRef"];function f2(){return f2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f2.apply(this,arguments)}function Uwe(t,e){if(t==null)return{};var n=Bwe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bwe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function zwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gwe(t,e,n){return e&&Wwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m2(t,e)}function m2(t,e){return m2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},m2(t,e)}function qwe(t){var e=Kwe();return function(){var r=G1(t),s;if(e){var i=G1(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return Ywe(this,s)}}function Ywe(t,e){if(e&&(h2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xY(t)}function xY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kwe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function G1(t){return G1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},G1(t)}var Jwe={active:R.bool,className:R.string,cssModule:R.object,disabled:R.bool,href:R.any,innerRef:R.oneOfType([R.object,R.func,R.string]),onClick:R.func,tag:Kn},ko=function(t){Hwe(n,t);var e=qwe(n);function n(r){var s;return zwe(this,n),s=e.call(this,r),s.onClick=s.onClick.bind(xY(s)),s}return Gwe(n,[{key:"onClick",value:function(s){if(this.props.disabled){s.preventDefault();return}this.props.href==="#"&&s.preventDefault(),this.props.onClick&&this.props.onClick(s)}},{key:"render",value:function(){var s=this.props,i=s.className,o=s.cssModule,l=s.active,c=s.tag,u=c===void 0?"a":c,d=s.innerRef,f=Uwe(s,Vwe),m=Kt(Rt(i,"nav-link",{disabled:f.disabled,active:l}),o);return ae.createElement(u,f2({},f,{ref:d,onClick:this.onClick,className:m}))}}]),n}(ae.Component);ko.propTypes=Jwe;var Qwe=["className","cssModule","active","tag"];function p2(){return p2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p2.apply(this,arguments)}function Zwe(t,e){if(t==null)return{};var n=Xwe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xwe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var exe={active:R.bool,className:R.string,cssModule:R.object,tag:Kn};function g2(t){var e=t.className,n=t.cssModule,r=t.active,s=t.tag,i=s===void 0?"li":s,o=Zwe(t,Qwe),l=Kt(Rt(e,r?"active":!1,"breadcrumb-item"),n);return ae.createElement(i,p2({},o,{className:l,"aria-current":r?"page":void 0}))}g2.propTypes=exe;var txe=["className","cssModule","variant","innerRef"];function y2(){return y2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y2.apply(this,arguments)}function F5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function nxe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F5(Object(n),!0).forEach(function(r){rxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rxe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sxe(t,e){if(t==null)return{};var n=ixe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ixe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var axe={active:R.bool,"aria-label":R.string,onClick:R.func,variant:R.oneOf(["white"]),className:R.string,cssModule:R.object,innerRef:R.oneOfType([R.object,R.string,R.func])};function EY(t){var e=t.className;t.cssModule;var n=t.variant,r=t.innerRef,s=sxe(t,txe),i=Kt(Rt(e,"btn-close",n&&"btn-close-".concat(n)));return ae.createElement("button",y2({ref:r,type:"button",className:i},nxe({"aria-label":"close"},s)))}EY.propTypes=axe;var oxe=["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"];function v2(){return v2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v2.apply(this,arguments)}function lxe(t,e){if(t==null)return{};var n=cxe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cxe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var uxe={active:R.bool,"aria-label":R.string,block:R.bool,children:R.node,className:R.string,cssModule:R.object,close:R.bool,color:R.string,disabled:R.bool,innerRef:R.oneOfType([R.object,R.func,R.string]),onClick:R.func,outline:R.bool,size:R.string,tag:Kn};function _e(t){var e=C.useCallback(function(w){if(t.disabled){w.preventDefault();return}if(t.onClick)return t.onClick(w)},[t.onClick,t.disabled]),n=t.active,r=t["aria-label"],s=t.block,i=t.className,o=t.close,l=t.cssModule,c=t.color,u=c===void 0?"secondary":c,d=t.outline,f=t.size,m=t.tag,p=m===void 0?"button":m,y=t.innerRef,_=lxe(t,oxe);if(o)return ae.createElement(EY,_);var b="btn".concat(d?"-outline":"","-").concat(u),x=Kt(Rt(i,"btn",b,f?"btn-".concat(f):!1,s?"d-block w-100":!1,{active:n,disabled:t.disabled}),l);return _.href&&p==="button"&&(p="a"),ae.createElement(p,v2({type:p==="button"&&_.onClick?"button":void 0},_,{className:x,ref:y,onClick:e,"aria-label":r}))}_e.propTypes=uxe;var SY=C.createContext(),jY=C.createContext();function V5(t){var e=t.children,n=C.useState(null),r=n[0],s=n[1],i=C.useRef(!1);C.useEffect(function(){return function(){i.current=!0}},[]);var o=C.useCallback(function(l){i.current||s(l)},[]);return C.createElement(SY.Provider,{value:r},C.createElement(jY.Provider,{value:o},e))}var TY=function(e){return Array.isArray(e)?e[0]:e},CY=function(e){if(typeof e=="function"){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return e.apply(void 0,r)}},b2=function(e,n){if(typeof e=="function")return CY(e,n);e!=null&&(e.current=n)},U5=function(e){return e.reduce(function(n,r){var s=r[0],i=r[1];return n[s]=i,n},{})},B5=typeof window<"u"&&window.document&&window.document.createElement?C.useLayoutEffect:C.useEffect,Fo="top",yc="bottom",vc="right",Vo="left",$$="auto",y0=[Fo,yc,vc,Vo],Nv="start",ax="end",dxe="clippingParents",AY="viewport",y_="popper",hxe="reference",z5=y0.reduce(function(t,e){return t.concat([e+"-"+Nv,e+"-"+ax])},[]),NY=[].concat(y0,[$$]).reduce(function(t,e){return t.concat([e,e+"-"+Nv,e+"-"+ax])},[]),fxe="beforeRead",mxe="read",pxe="afterRead",gxe="beforeMain",yxe="main",vxe="afterMain",bxe="beforeWrite",_xe="write",wxe="afterWrite",xxe=[fxe,mxe,pxe,gxe,yxe,vxe,bxe,_xe,wxe];function Qu(t){return t?(t.nodeName||"").toLowerCase():null}function Tl(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ip(t){var e=Tl(t).Element;return t instanceof e||t instanceof Element}function hc(t){var e=Tl(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function F$(t){if(typeof ShadowRoot>"u")return!1;var e=Tl(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Exe(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},i=e.elements[n];!hc(i)||!Qu(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(o){var l=s[o];l===!1?i.removeAttribute(o):i.setAttribute(o,l===!0?"":l)}))})}function Sxe(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],i=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),l=o.reduce(function(c,u){return c[u]="",c},{});!hc(s)||!Qu(s)||(Object.assign(s.style,l),Object.keys(i).forEach(function(c){s.removeAttribute(c)}))})}}const jxe={name:"applyStyles",enabled:!0,phase:"write",fn:Exe,effect:Sxe,requires:["computeStyles"]};function qu(t){return t.split("-")[0]}var gp=Math.max,H1=Math.min,Iv=Math.round;function _2(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function IY(){return!/^((?!chrome|android).)*safari/i.test(_2())}function kv(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),s=1,i=1;e&&hc(t)&&(s=t.offsetWidth>0&&Iv(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&Iv(r.height)/t.offsetHeight||1);var o=Ip(t)?Tl(t):window,l=o.visualViewport,c=!IY()&&n,u=(r.left+(c&&l?l.offsetLeft:0))/s,d=(r.top+(c&&l?l.offsetTop:0))/i,f=r.width/s,m=r.height/i;return{width:f,height:m,top:d,right:u+f,bottom:d+m,left:u,x:u,y:d}}function V$(t){var e=kv(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function kY(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&F$(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Jd(t){return Tl(t).getComputedStyle(t)}function Txe(t){return["table","td","th"].indexOf(Qu(t))>=0}function Yf(t){return((Ip(t)?t.ownerDocument:t.document)||window.document).documentElement}function rA(t){return Qu(t)==="html"?t:t.assignedSlot||t.parentNode||(F$(t)?t.host:null)||Yf(t)}function W5(t){return!hc(t)||Jd(t).position==="fixed"?null:t.offsetParent}function Cxe(t){var e=/firefox/i.test(_2()),n=/Trident/i.test(_2());if(n&&hc(t)){var r=Jd(t);if(r.position==="fixed")return null}var s=rA(t);for(F$(s)&&(s=s.host);hc(s)&&["html","body"].indexOf(Qu(s))<0;){var i=Jd(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function v0(t){for(var e=Tl(t),n=W5(t);n&&Txe(n)&&Jd(n).position==="static";)n=W5(n);return n&&(Qu(n)==="html"||Qu(n)==="body"&&Jd(n).position==="static")?e:n||Cxe(t)||e}function U$(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function yw(t,e,n){return gp(t,H1(e,n))}function Axe(t,e,n){var r=yw(t,e,n);return r>n?n:r}function OY(){return{top:0,right:0,bottom:0,left:0}}function RY(t){return Object.assign({},OY(),t)}function PY(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Nxe=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,RY(typeof e!="number"?e:PY(e,y0))};function Ixe(t){var e,n=t.state,r=t.name,s=t.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,l=qu(n.placement),c=U$(l),u=[Vo,vc].indexOf(l)>=0,d=u?"height":"width";if(!(!i||!o)){var f=Nxe(s.padding,n),m=V$(i),p=c==="y"?Fo:Vo,y=c==="y"?yc:vc,_=n.rects.reference[d]+n.rects.reference[c]-o[c]-n.rects.popper[d],b=o[c]-n.rects.reference[c],x=v0(i),w=x?c==="y"?x.clientHeight||0:x.clientWidth||0:0,E=_/2-b/2,T=f[p],N=w-m[d]-f[y],P=w/2-m[d]/2+E,D=yw(T,P,N),F=c;n.modifiersData[r]=(e={},e[F]=D,e.centerOffset=D-P,e)}}function kxe(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||kY(e.elements.popper,s)&&(e.elements.arrow=s))}const Oxe={name:"arrow",enabled:!0,phase:"main",fn:Ixe,effect:kxe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ov(t){return t.split("-")[1]}var Rxe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Pxe(t,e){var n=t.x,r=t.y,s=e.devicePixelRatio||1;return{x:Iv(n*s)/s||0,y:Iv(r*s)/s||0}}function G5(t){var e,n=t.popper,r=t.popperRect,s=t.placement,i=t.variation,o=t.offsets,l=t.position,c=t.gpuAcceleration,u=t.adaptive,d=t.roundOffsets,f=t.isFixed,m=o.x,p=m===void 0?0:m,y=o.y,_=y===void 0?0:y,b=typeof d=="function"?d({x:p,y:_}):{x:p,y:_};p=b.x,_=b.y;var x=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),E=Vo,T=Fo,N=window;if(u){var P=v0(n),D="clientHeight",F="clientWidth";if(P===Tl(n)&&(P=Yf(n),Jd(P).position!=="static"&&l==="absolute"&&(D="scrollHeight",F="scrollWidth")),P=P,s===Fo||(s===Vo||s===vc)&&i===ax){T=yc;var Y=f&&P===N&&N.visualViewport?N.visualViewport.height:P[D];_-=Y-r.height,_*=c?1:-1}if(s===Vo||(s===Fo||s===yc)&&i===ax){E=vc;var q=f&&P===N&&N.visualViewport?N.visualViewport.width:P[F];p-=q-r.width,p*=c?1:-1}}var B=Object.assign({position:l},u&&Rxe),G=d===!0?Pxe({x:p,y:_},Tl(n)):{x:p,y:_};if(p=G.x,_=G.y,c){var J;return Object.assign({},B,(J={},J[T]=w?"0":"",J[E]=x?"0":"",J.transform=(N.devicePixelRatio||1)<=1?"translate("+p+"px, "+_+"px)":"translate3d("+p+"px, "+_+"px, 0)",J))}return Object.assign({},B,(e={},e[T]=w?_+"px":"",e[E]=x?p+"px":"",e.transform="",e))}function Dxe(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,l=n.roundOffsets,c=l===void 0?!0:l,u={placement:qu(e.placement),variation:Ov(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,G5(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,G5(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Lxe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Dxe,data:{}};var AS={passive:!0};function Mxe(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,i=s===void 0?!0:s,o=r.resize,l=o===void 0?!0:o,c=Tl(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&u.forEach(function(d){d.addEventListener("scroll",n.update,AS)}),l&&c.addEventListener("resize",n.update,AS),function(){i&&u.forEach(function(d){d.removeEventListener("scroll",n.update,AS)}),l&&c.removeEventListener("resize",n.update,AS)}}const $xe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Mxe,data:{}};var Fxe={left:"right",right:"left",bottom:"top",top:"bottom"};function Mj(t){return t.replace(/left|right|bottom|top/g,function(e){return Fxe[e]})}var Vxe={start:"end",end:"start"};function H5(t){return t.replace(/start|end/g,function(e){return Vxe[e]})}function B$(t){var e=Tl(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function z$(t){return kv(Yf(t)).left+B$(t).scrollLeft}function Uxe(t,e){var n=Tl(t),r=Yf(t),s=n.visualViewport,i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;var u=IY();(u||!u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l+z$(t),y:c}}function Bxe(t){var e,n=Yf(t),r=B$(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=gp(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=gp(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-r.scrollLeft+z$(t),c=-r.scrollTop;return Jd(s||n).direction==="rtl"&&(l+=gp(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:l,y:c}}function W$(t){var e=Jd(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function DY(t){return["html","body","#document"].indexOf(Qu(t))>=0?t.ownerDocument.body:hc(t)&&W$(t)?t:DY(rA(t))}function vw(t,e){var n;e===void 0&&(e=[]);var r=DY(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=Tl(r),o=s?[i].concat(i.visualViewport||[],W$(r)?r:[]):r,l=e.concat(o);return s?l:l.concat(vw(rA(o)))}function w2(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function zxe(t,e){var n=kv(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function q5(t,e,n){return e===AY?w2(Uxe(t,n)):Ip(e)?zxe(e,n):w2(Bxe(Yf(t)))}function Wxe(t){var e=vw(rA(t)),n=["absolute","fixed"].indexOf(Jd(t).position)>=0,r=n&&hc(t)?v0(t):t;return Ip(r)?e.filter(function(s){return Ip(s)&&kY(s,r)&&Qu(s)!=="body"}):[]}function Gxe(t,e,n,r){var s=e==="clippingParents"?Wxe(t):[].concat(e),i=[].concat(s,[n]),o=i[0],l=i.reduce(function(c,u){var d=q5(t,u,r);return c.top=gp(d.top,c.top),c.right=H1(d.right,c.right),c.bottom=H1(d.bottom,c.bottom),c.left=gp(d.left,c.left),c},q5(t,o,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function LY(t){var e=t.reference,n=t.element,r=t.placement,s=r?qu(r):null,i=r?Ov(r):null,o=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,c;switch(s){case Fo:c={x:o,y:e.y-n.height};break;case yc:c={x:o,y:e.y+e.height};break;case vc:c={x:e.x+e.width,y:l};break;case Vo:c={x:e.x-n.width,y:l};break;default:c={x:e.x,y:e.y}}var u=s?U$(s):null;if(u!=null){var d=u==="y"?"height":"width";switch(i){case Nv:c[u]=c[u]-(e[d]/2-n[d]/2);break;case ax:c[u]=c[u]+(e[d]/2-n[d]/2);break}}return c}function ox(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,i=n.strategy,o=i===void 0?t.strategy:i,l=n.boundary,c=l===void 0?dxe:l,u=n.rootBoundary,d=u===void 0?AY:u,f=n.elementContext,m=f===void 0?y_:f,p=n.altBoundary,y=p===void 0?!1:p,_=n.padding,b=_===void 0?0:_,x=RY(typeof b!="number"?b:PY(b,y0)),w=m===y_?hxe:y_,E=t.rects.popper,T=t.elements[y?w:m],N=Gxe(Ip(T)?T:T.contextElement||Yf(t.elements.popper),c,d,o),P=kv(t.elements.reference),D=LY({reference:P,element:E,placement:s}),F=w2(Object.assign({},E,D)),Y=m===y_?F:P,q={top:N.top-Y.top+x.top,bottom:Y.bottom-N.bottom+x.bottom,left:N.left-Y.left+x.left,right:Y.right-N.right+x.right},B=t.modifiersData.offset;if(m===y_&&B){var G=B[s];Object.keys(q).forEach(function(J){var W=[vc,yc].indexOf(J)>=0?1:-1,z=[Fo,yc].indexOf(J)>=0?"y":"x";q[J]+=G[z]*W})}return q}function Hxe(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,i=n.rootBoundary,o=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,u=c===void 0?NY:c,d=Ov(r),f=d?l?z5:z5.filter(function(y){return Ov(y)===d}):y0,m=f.filter(function(y){return u.indexOf(y)>=0});m.length===0&&(m=f);var p=m.reduce(function(y,_){return y[_]=ox(t,{placement:_,boundary:s,rootBoundary:i,padding:o})[qu(_)],y},{});return Object.keys(p).sort(function(y,_){return p[y]-p[_]})}function qxe(t){if(qu(t)===$$)return[];var e=Mj(t);return[H5(t),e,H5(e)]}function Yxe(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,l=o===void 0?!0:o,c=n.fallbackPlacements,u=n.padding,d=n.boundary,f=n.rootBoundary,m=n.altBoundary,p=n.flipVariations,y=p===void 0?!0:p,_=n.allowedAutoPlacements,b=e.options.placement,x=qu(b),w=x===b,E=c||(w||!y?[Mj(b)]:qxe(b)),T=[b].concat(E).reduce(function(it,Te){return it.concat(qu(Te)===$$?Hxe(e,{placement:Te,boundary:d,rootBoundary:f,padding:u,flipVariations:y,allowedAutoPlacements:_}):Te)},[]),N=e.rects.reference,P=e.rects.popper,D=new Map,F=!0,Y=T[0],q=0;q<T.length;q++){var B=T[q],G=qu(B),J=Ov(B)===Nv,W=[Fo,yc].indexOf(G)>=0,z=W?"width":"height",Z=ox(e,{placement:B,boundary:d,rootBoundary:f,altBoundary:m,padding:u}),X=W?J?vc:Vo:J?yc:Fo;N[z]>P[z]&&(X=Mj(X));var ne=Mj(X),le=[];if(i&&le.push(Z[G]<=0),l&&le.push(Z[X]<=0,Z[ne]<=0),le.every(function(it){return it})){Y=B,F=!1;break}D.set(B,le)}if(F)for(var ge=y?3:1,Ue=function(Te){var St=T.find(function(ut){var ft=D.get(ut);if(ft)return ft.slice(0,Te).every(function(gt){return gt})});if(St)return Y=St,"break"},Ie=ge;Ie>0;Ie--){var ot=Ue(Ie);if(ot==="break")break}e.placement!==Y&&(e.modifiersData[r]._skip=!0,e.placement=Y,e.reset=!0)}}const Kxe={name:"flip",enabled:!0,phase:"main",fn:Yxe,requiresIfExists:["offset"],data:{_skip:!1}};function Y5(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function K5(t){return[Fo,vc,yc,Vo].some(function(e){return t[e]>=0})}function Jxe(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,o=ox(e,{elementContext:"reference"}),l=ox(e,{altBoundary:!0}),c=Y5(o,r),u=Y5(l,s,i),d=K5(c),f=K5(u);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const Qxe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Jxe};function Zxe(t,e,n){var r=qu(t),s=[Vo,Fo].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],l=i[1];return o=o||0,l=(l||0)*s,[Vo,vc].indexOf(r)>=0?{x:l,y:o}:{x:o,y:l}}function Xxe(t){var e=t.state,n=t.options,r=t.name,s=n.offset,i=s===void 0?[0,0]:s,o=NY.reduce(function(d,f){return d[f]=Zxe(f,e.rects,i),d},{}),l=o[e.placement],c=l.x,u=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const e0e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Xxe};function t0e(t){var e=t.state,n=t.name;e.modifiersData[n]=LY({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const n0e={name:"popperOffsets",enabled:!0,phase:"read",fn:t0e,data:{}};function r0e(t){return t==="x"?"y":"x"}function s0e(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,l=o===void 0?!1:o,c=n.boundary,u=n.rootBoundary,d=n.altBoundary,f=n.padding,m=n.tether,p=m===void 0?!0:m,y=n.tetherOffset,_=y===void 0?0:y,b=ox(e,{boundary:c,rootBoundary:u,padding:f,altBoundary:d}),x=qu(e.placement),w=Ov(e.placement),E=!w,T=U$(x),N=r0e(T),P=e.modifiersData.popperOffsets,D=e.rects.reference,F=e.rects.popper,Y=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,q=typeof Y=="number"?{mainAxis:Y,altAxis:Y}:Object.assign({mainAxis:0,altAxis:0},Y),B=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,G={x:0,y:0};if(P){if(i){var J,W=T==="y"?Fo:Vo,z=T==="y"?yc:vc,Z=T==="y"?"height":"width",X=P[T],ne=X+b[W],le=X-b[z],ge=p?-F[Z]/2:0,Ue=w===Nv?D[Z]:F[Z],Ie=w===Nv?-F[Z]:-D[Z],ot=e.elements.arrow,it=p&&ot?V$(ot):{width:0,height:0},Te=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:OY(),St=Te[W],ut=Te[z],ft=yw(0,D[Z],it[Z]),gt=E?D[Z]/2-ge-ft-St-q.mainAxis:Ue-ft-St-q.mainAxis,qt=E?-D[Z]/2+ge+ft+ut+q.mainAxis:Ie+ft+ut+q.mainAxis,It=e.elements.arrow&&v0(e.elements.arrow),zt=It?T==="y"?It.clientTop||0:It.clientLeft||0:0,en=(J=B==null?void 0:B[T])!=null?J:0,xe=X+gt-en-zt,We=X+qt-en,Qt=yw(p?H1(ne,xe):ne,X,p?gp(le,We):le);P[T]=Qt,G[T]=Qt-X}if(l){var Oe,lt=T==="x"?Fo:Vo,ve=T==="x"?yc:vc,K=P[N],te=N==="y"?"height":"width",Q=K+b[lt],me=K-b[ve],ye=[Fo,Vo].indexOf(x)!==-1,A=(Oe=B==null?void 0:B[N])!=null?Oe:0,$=ye?Q:K-D[te]-F[te]-A+q.altAxis,re=ye?K+D[te]+F[te]-A-q.altAxis:me,ue=p&&ye?Axe($,K,re):yw(p?$:Q,K,p?re:me);P[N]=ue,G[N]=ue-K}e.modifiersData[r]=G}}const i0e={name:"preventOverflow",enabled:!0,phase:"main",fn:s0e,requiresIfExists:["offset"]};function a0e(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function o0e(t){return t===Tl(t)||!hc(t)?B$(t):a0e(t)}function l0e(t){var e=t.getBoundingClientRect(),n=Iv(e.width)/t.offsetWidth||1,r=Iv(e.height)/t.offsetHeight||1;return n!==1||r!==1}function c0e(t,e,n){n===void 0&&(n=!1);var r=hc(e),s=hc(e)&&l0e(e),i=Yf(e),o=kv(t,s,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((Qu(e)!=="body"||W$(i))&&(l=o0e(e)),hc(e)?(c=kv(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):i&&(c.x=z$(i))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function u0e(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function s(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var c=e.get(l);c&&s(c)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||s(i)}),r}function d0e(t){var e=u0e(t);return xxe.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function h0e(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function f0e(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var J5={placement:"bottom",modifiers:[],strategy:"absolute"};function Q5(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function m0e(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,i=s===void 0?J5:s;return function(l,c,u){u===void 0&&(u=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},J5,i),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},f=[],m=!1,p={state:d,setOptions:function(x){var w=typeof x=="function"?x(d.options):x;_(),d.options=Object.assign({},i,d.options,w),d.scrollParents={reference:Ip(l)?vw(l):l.contextElement?vw(l.contextElement):[],popper:vw(c)};var E=d0e(f0e([].concat(r,d.options.modifiers)));return d.orderedModifiers=E.filter(function(T){return T.enabled}),y(),p.update()},forceUpdate:function(){if(!m){var x=d.elements,w=x.reference,E=x.popper;if(Q5(w,E)){d.rects={reference:c0e(w,v0(E),d.options.strategy==="fixed"),popper:V$(E)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(q){return d.modifiersData[q.name]=Object.assign({},q.data)});for(var T=0;T<d.orderedModifiers.length;T++){if(d.reset===!0){d.reset=!1,T=-1;continue}var N=d.orderedModifiers[T],P=N.fn,D=N.options,F=D===void 0?{}:D,Y=N.name;typeof P=="function"&&(d=P({state:d,options:F,name:Y,instance:p})||d)}}}},update:h0e(function(){return new Promise(function(b){p.forceUpdate(),b(d)})}),destroy:function(){_(),m=!0}};if(!Q5(l,c))return p;p.setOptions(u).then(function(b){!m&&u.onFirstUpdate&&u.onFirstUpdate(b)});function y(){d.orderedModifiers.forEach(function(b){var x=b.name,w=b.options,E=w===void 0?{}:w,T=b.effect;if(typeof T=="function"){var N=T({state:d,name:x,instance:p,options:E}),P=function(){};f.push(N||P)}})}function _(){f.forEach(function(b){return b()}),f=[]}return p}}var p0e=[$xe,n0e,Lxe,jxe,e0e,Kxe,i0e,Oxe,Qxe],g0e=m0e({defaultModifiers:p0e}),y0e=typeof Element<"u",v0e=typeof Map=="function",b0e=typeof Set=="function",_0e=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function $j(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!$j(t[r],e[r]))return!1;return!0}var i;if(v0e&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;for(i=t.entries();!(r=i.next()).done;)if(!$j(r.value[1],e.get(r.value[0])))return!1;return!0}if(b0e&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(_0e&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(y0e&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&t.$$typeof)&&!$j(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}var w0e=function(e,n){try{return $j(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const x0e=Ho(w0e);var E0e=[],S0e=function(e,n,r){r===void 0&&(r={});var s=C.useRef(null),i={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||E0e},o=C.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),l=o[0],c=o[1],u=C.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(p){var y=p.state,_=Object.keys(y.elements);m0.flushSync(function(){c({styles:U5(_.map(function(b){return[b,y.styles[b]||{}]})),attributes:U5(_.map(function(b){return[b,y.attributes[b]]}))})})},requires:["computeStyles"]}},[]),d=C.useMemo(function(){var m={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[u,{name:"applyStyles",enabled:!1}])};return x0e(s.current,m)?s.current||m:(s.current=m,m)},[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,u]),f=C.useRef();return B5(function(){f.current&&f.current.setOptions(d)},[d]),B5(function(){if(!(e==null||n==null)){var m=r.createPopper||g0e,p=m(e,n,d);return f.current=p,function(){p.destroy(),f.current=null}}},[e,n,r.createPopper]),{state:f.current?f.current.state:null,styles:l.styles,attributes:l.attributes,update:f.current?f.current.update:null,forceUpdate:f.current?f.current.forceUpdate:null}},j0e=function(){},T0e=function(){return Promise.resolve(null)},C0e=[];function MY(t){var e=t.placement,n=e===void 0?"bottom":e,r=t.strategy,s=r===void 0?"absolute":r,i=t.modifiers,o=i===void 0?C0e:i,l=t.referenceElement,c=t.onFirstUpdate,u=t.innerRef,d=t.children,f=C.useContext(SY),m=C.useState(null),p=m[0],y=m[1],_=C.useState(null),b=_[0],x=_[1];C.useEffect(function(){b2(u,p)},[u,p]);var w=C.useMemo(function(){return{placement:n,strategy:s,onFirstUpdate:c,modifiers:[].concat(o,[{name:"arrow",enabled:b!=null,options:{element:b}}])}},[n,s,c,o,b]),E=S0e(l||f,p,w),T=E.state,N=E.styles,P=E.forceUpdate,D=E.update,F=C.useMemo(function(){return{ref:y,style:N.popper,placement:T?T.placement:n,hasPopperEscaped:T&&T.modifiersData.hide?T.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:T&&T.modifiersData.hide?T.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:N.arrow,ref:x},forceUpdate:P||j0e,update:D||T0e}},[y,x,n,T,N,D,P]);return TY(d)(F)}var A0e=function(){},N0e=A0e;const I0e=Ho(N0e);function k0e(t){var e=t.children,n=t.innerRef,r=C.useContext(jY),s=C.useCallback(function(i){b2(n,i),CY(r,i)},[n,r]);return C.useEffect(function(){return function(){return b2(n,null)}},[]),C.useEffect(function(){I0e(!!r,"`Reference` should not be used outside of a `Manager` component.")},[r]),TY(e)({ref:s})}var lx=ae.createContext({}),$Y=ae.createContext({});function x2(t){"@babel/helpers - typeof";return x2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x2(t)}var O0e=["className","cssModule","direction","isOpen","group","size","nav","setActiveFromChild","active","tag","menuRole"];function E2(){return E2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E2.apply(this,arguments)}function kh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R0e(t,e){if(t==null)return{};var n=P0e(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function P0e(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function D0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function M0e(t,e,n){return e&&L0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S2(t,e)}function S2(t,e){return S2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},S2(t,e)}function F0e(t){var e=U0e();return function(){var r=q1(t),s;if(e){var i=q1(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return V0e(this,s)}}function V0e(t,e){if(e&&(x2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bh(t)}function Bh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U0e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function q1(t){return q1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},q1(t)}var B0e={a11y:R.bool,disabled:R.bool,direction:R.oneOf(["up","down","start","end","left","right"]),group:R.bool,isOpen:R.bool,nav:R.bool,active:R.bool,size:R.string,tag:Kn,toggle:R.func,children:R.node,className:R.string,cssModule:R.object,dropup:R.bool,inNavbar:R.bool,setActiveFromChild:R.bool,menuRole:R.oneOf(["listbox","menu"])},z0e={a11y:!0,isOpen:!1,direction:"down",nav:!1,active:!1,inNavbar:!1,setActiveFromChild:!1},W0e=[Ir.space,Ir.enter,Ir.up,Ir.down,Ir.end,Ir.home],Zc=function(t){$0e(n,t);var e=F0e(n);function n(r){var s;return D0e(this,n),s=e.call(this,r),s.addEvents=s.addEvents.bind(Bh(s)),s.handleDocumentClick=s.handleDocumentClick.bind(Bh(s)),s.handleKeyDown=s.handleKeyDown.bind(Bh(s)),s.removeEvents=s.removeEvents.bind(Bh(s)),s.toggle=s.toggle.bind(Bh(s)),s.handleMenuRef=s.handleMenuRef.bind(Bh(s)),s.handleToggleRef=s.handleToggleRef.bind(Bh(s)),s.containerRef=ae.createRef(),s.menuRef=ae.createRef(),s.toggleRef=ae.createRef(),s}return M0e(n,[{key:"componentDidMount",value:function(){this.handleProps()}},{key:"componentDidUpdate",value:function(s){this.props.isOpen!==s.isOpen&&this.handleProps()}},{key:"componentWillUnmount",value:function(){this.removeEvents()}},{key:"handleMenuRef",value:function(s){this.menuRef.current=s}},{key:"handleToggleRef",value:function(s){this.toggleRef.current=s}},{key:"handleDocumentClick",value:function(s){if(!(s&&(s.which===3||s.type==="keyup"&&s.which!==Ir.tab))){var i=this.getContainer(),o=this.getMenu(),l=this.getToggle(),c=l.contains(s.target),u=o&&o.contains(s.target)&&o!==s.target,d=!1;i&&(d=i.classList.contains("input-group")&&i.classList.contains("dropdown")&&s.target.tagName==="INPUT"),!((c&&!d||u)&&(s.type!=="keyup"||s.which===Ir.tab))&&this.toggle(s)}}},{key:"handleKeyDown",value:function(s){var i=this,o=s.target.getAttribute("role")==="menuitem"||s.target.getAttribute("role")==="option",l=this.getMenuCtrl()===s.target,c=Ir.tab===s.which;if(!(/input|textarea/i.test(s.target.tagName)||c&&!this.props.a11y||c&&!(o||l))&&((W0e.indexOf(s.which)!==-1||s.which>=48&&s.which<=90)&&s.preventDefault(),!this.props.disabled)){if(l)if([Ir.space,Ir.enter,Ir.up,Ir.down].indexOf(s.which)>-1)this.props.isOpen||this.toggle(s),setTimeout(function(){var w;return(w=i.getMenuItems()[0])===null||w===void 0?void 0:w.focus()});else if(this.props.isOpen&&c){var u;s.preventDefault(),(u=this.getMenuItems()[0])===null||u===void 0||u.focus()}else this.props.isOpen&&s.which===Ir.esc&&this.toggle(s);if(this.props.isOpen&&o){if([Ir.tab,Ir.esc].indexOf(s.which)>-1)this.toggle(s),this.getMenuCtrl().focus();else if([Ir.space,Ir.enter].indexOf(s.which)>-1)s.target.click(),this.getMenuCtrl().focus();else if([Ir.down,Ir.up].indexOf(s.which)>-1||[Ir.n,Ir.p].indexOf(s.which)>-1&&s.ctrlKey){var d=this.getMenuItems(),f=d.indexOf(s.target);Ir.up===s.which||Ir.p===s.which&&s.ctrlKey?f=f!==0?f-1:d.length-1:(Ir.down===s.which||Ir.n===s.which&&s.ctrlKey)&&(f=f===d.length-1?0:f+1),d[f].focus()}else if(Ir.end===s.which){var m=this.getMenuItems();m[m.length-1].focus()}else if(Ir.home===s.which){var p=this.getMenuItems();p[0].focus()}else if(s.which>=48&&s.which<=90)for(var y=this.getMenuItems(),_=String.fromCharCode(s.which).toLowerCase(),b=0;b<y.length;b+=1){var x=y[b].textContent&&y[b].textContent[0].toLowerCase();if(x===_){y[b].focus();break}}}}}},{key:"handleProps",value:function(){this.props.isOpen?this.addEvents():this.removeEvents()}},{key:"getContextValue",value:function(){return{toggle:this.toggle,isOpen:this.props.isOpen,direction:this.props.direction==="down"&&this.props.dropup?"up":this.props.direction,inNavbar:this.props.inNavbar,disabled:this.props.disabled,onMenuRef:this.handleMenuRef,onToggleRef:this.handleToggleRef,menuRole:this.props.menuRole}}},{key:"getContainer",value:function(){return this.containerRef.current}},{key:"getMenu",value:function(){return this.menuRef.current}},{key:"getToggle",value:function(){return this.toggleRef.current}},{key:"getMenuCtrl",value:function(){return this._$menuCtrl?this._$menuCtrl:(this._$menuCtrl=this.getToggle(),this._$menuCtrl)}},{key:"getItemType",value:function(){return this.props.menuRole==="listbox"?"option":"menuitem"}},{key:"getMenuItems",value:function(){var s=this.getMenu()||this.getContainer();return[].slice.call(s.querySelectorAll('[role="'.concat(this.getItemType(),'"]')))}},{key:"addEvents",value:function(){var s=this;["click","touchstart","keyup"].forEach(function(i){return document.addEventListener(i,s.handleDocumentClick,!0)})}},{key:"removeEvents",value:function(){var s=this;["click","touchstart","keyup"].forEach(function(i){return document.removeEventListener(i,s.handleDocumentClick,!0)})}},{key:"toggle",value:function(s){return this.props.disabled?s&&s.preventDefault():this.props.toggle(s)}},{key:"render",value:function(){var s,i=this,o=ah(this.props,["toggle","disabled","inNavbar","a11y"]),l=o.className,c=o.cssModule,u=o.direction,d=o.isOpen,f=o.group,m=o.size,p=o.nav,y=o.setActiveFromChild,_=o.active,b=o.tag;o.menuRole;var x=R0e(o,O0e),w=b||(p?"li":"div"),E=!1;y&&ae.Children.map(this.props.children[1].props.children,function(N){N&&N.props.active&&(E=!0)});var T=Kt(Rt(l,p&&_?"active":!1,y&&E?"active":!1,(s={"btn-group":f},kh(s,"btn-group-".concat(m),!!m),kh(s,"dropdown",!f),kh(s,"dropup",u==="up"),kh(s,"dropstart",u==="start"||u==="left"),kh(s,"dropend",u==="end"||u==="right"),kh(s,"show",d),kh(s,"nav-item",p),s)),c);return this.context.insideInputGroup?ae.createElement(lx.Provider,{value:this.getContextValue()},ae.createElement(V5,null,ae.Children.map(this.props.children,function(N){return ae.cloneElement(N,{onKeyDown:i.handleKeyDown})}))):ae.createElement(lx.Provider,{value:this.getContextValue()},ae.createElement(V5,null,ae.createElement(w,E2({},x,kh({},typeof w=="string"?"ref":"innerRef",this.containerRef),{onKeyDown:this.handleKeyDown,className:T}))))}}]),n}(ae.Component);Zc.propTypes=B0e;Zc.defaultProps=z0e;Zc.contextType=$Y;var G0e=["className","cssModule","size","vertical","tag"];function j2(){return j2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j2.apply(this,arguments)}function Z5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function H0e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z5(Object(n),!0).forEach(function(r){q0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q0e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y0e(t,e){if(t==null)return{};var n=K0e(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function K0e(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var J0e={"aria-label":R.string,className:R.string,cssModule:R.object,role:R.string,size:R.string,tag:Kn,vertical:R.bool};function FY(t){var e=t.className,n=t.cssModule,r=t.size,s=t.vertical,i=t.tag,o=i===void 0?"div":i,l=Y0e(t,G0e),c=Kt(Rt(e,r?"btn-group-"+r:!1,s?"btn-group-vertical":"btn-group"),n);return ae.createElement(o,j2({},H0e({role:"group"},l),{className:c}))}FY.propTypes=J0e;function T2(t){"@babel/helpers - typeof";return T2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T2(t)}var Q0e=["className","cssModule","divider","tag","header","active","text"];function C2(){return C2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C2.apply(this,arguments)}function Z0e(t,e){if(t==null)return{};var n=X0e(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function X0e(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function eEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nEe(t,e,n){return e&&tEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A2(t,e)}function A2(t,e){return A2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},A2(t,e)}function sEe(t){var e=aEe();return function(){var r=Y1(t),s;if(e){var i=Y1(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return iEe(this,s)}}function iEe(t,e){if(e&&(T2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N2(t)}function N2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aEe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Y1(t){return Y1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Y1(t)}var oEe={children:R.node,active:R.bool,disabled:R.bool,divider:R.bool,tag:Kn,header:R.bool,onClick:R.func,className:R.string,cssModule:R.object,toggle:R.bool,text:R.bool},nf=function(t){rEe(n,t);var e=sEe(n);function n(r){var s;return eEe(this,n),s=e.call(this,r),s.onClick=s.onClick.bind(N2(s)),s.getTabIndex=s.getTabIndex.bind(N2(s)),s}return nEe(n,[{key:"onClick",value:function(s){var i,o=this.props,l=o.disabled,c=o.header,u=o.divider,d=o.text;if(l||c||u||d){s.preventDefault();return}this.props.onClick&&this.props.onClick(s),(!((i=this.props.toggle)!==null&&i!==void 0)||i)&&this.context.toggle(s)}},{key:"getRole",value:function(){return this.context.menuRole==="listbox"?"option":"menuitem"}},{key:"getTabIndex",value:function(){var s=this.props,i=s.disabled,o=s.header,l=s.divider,c=s.text;return i||o||l||c?"-1":"0"}},{key:"render",value:function(){var s=this.getTabIndex(),i=s>-1?this.getRole():void 0,o=ah(this.props,["toggle"]),l=o.className,c=o.cssModule,u=o.divider,d=o.tag,f=d===void 0?"button":d,m=o.header,p=o.active,y=o.text,_=Z0e(o,Q0e),b=Kt(Rt(l,{disabled:_.disabled,"dropdown-item":!u&&!m&&!y,active:p,"dropdown-header":m,"dropdown-divider":u,"dropdown-item-text":y}),c);return f==="button"&&(m?f="h6":u?f="div":_.href?f="a":y&&(f="span")),ae.createElement(f,C2({type:f==="button"&&(_.onClick||this.props.toggle)?"button":void 0},_,{tabIndex:s,role:i,className:b,onClick:this.onClick}))}}]),n}(ae.Component);nf.propTypes=oEe;nf.contextType=lx;function I2(t){"@babel/helpers - typeof";return I2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I2(t)}var lEe=["className","cssModule","dark","end","right","tag","flip","modifiers","persist","strategy","container","updateOnSelect"];function K1(){return K1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K1.apply(this,arguments)}function X5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function CO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X5(Object(n),!0).forEach(function(r){cEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cEe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uEe(t){return mEe(t)||fEe(t)||hEe(t)||dEe()}function dEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hEe(t,e){if(t){if(typeof t=="string")return k2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k2(t,e)}}function fEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mEe(t){if(Array.isArray(t))return k2(t)}function k2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pEe(t,e){if(t==null)return{};var n=gEe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gEe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function yEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bEe(t,e,n){return e&&vEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Ee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O2(t,e)}function O2(t,e){return O2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},O2(t,e)}function wEe(t){var e=SEe();return function(){var r=J1(t),s;if(e){var i=J1(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return xEe(this,s)}}function xEe(t,e){if(e&&(I2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EEe(t)}function EEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SEe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function J1(t){return J1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J1(t)}var jEe={tag:Kn,children:R.node.isRequired,dark:R.bool,end:R.bool,flip:R.bool,modifiers:R.array,className:R.string,cssModule:R.object,style:R.object,persist:R.bool,strategy:R.string,container:Av,updateOnSelect:R.bool,right:_Y(R.bool,'Please use "end" instead.')},TEe={up:"top",left:"left",right:"right",start:"left",end:"right",down:"bottom"},Nf=function(t){_Ee(n,t);var e=wEe(n);function n(){return yEe(this,n),e.apply(this,arguments)}return bEe(n,[{key:"getRole",value:function(){return this.context.menuRole==="listbox"?"listbox":"menu"}},{key:"render",value:function(){var s=this,i=this.props,o=i.className,l=i.cssModule,c=i.dark,u=i.end,d=i.right,f=i.tag,m=f===void 0?"div":f,p=i.flip,y=p===void 0?!0:p,_=i.modifiers,b=_===void 0?[]:_,x=i.persist,w=i.strategy,E=i.container,T=i.updateOnSelect,N=pEe(i,lEe),P=Kt(Rt(o,"dropdown-menu",{"dropdown-menu-dark":c,"dropdown-menu-end":u||d,show:this.context.isOpen}),l),D=m;if(x||this.context.isOpen&&!this.context.inNavbar){var F=TEe[this.context.direction]||"bottom",Y=u||d?"end":"start",q="".concat(F,"-").concat(Y),B=[].concat(uEe(b),[{name:"flip",enabled:!!y}]),G={};x&&(G.display="block",G.visibility=this.context.isOpen?"visible":"hidden");var J=ae.createElement(MY,{placement:q,modifiers:B,strategy:w},function(z){var Z=z.ref,X=z.style,ne=z.placement,le=z.update,ge=CO(CO(CO({},s.props.style),G),X),Ue=function(ot){Z(ot);var it=s.context.onMenuRef;it&&it(ot)};return ae.createElement(D,K1({tabIndex:"-1",role:s.getRole(),ref:Ue},N,{style:ge,"aria-hidden":!s.context.isOpen,className:P,"data-popper-placement":ne,onClick:function(){return T&&le()}}))});return E?ap.createPortal(J,ix(E)):J}var W=this.context.onMenuRef;return ae.createElement(D,K1({tabIndex:"-1",role:this.getRole()},N,{ref:W,"aria-hidden":!this.context.isOpen,className:P,"data-popper-placement":N.placement,"data-bs-popper":"static"}))}}]),n}(ae.Component);Nf.propTypes=jEe;Nf.contextType=lx;function R2(t){"@babel/helpers - typeof";return R2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R2(t)}var CEe=["className","color","cssModule","caret","split","nav","tag","innerRef"];function AEe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q1(){return Q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q1.apply(this,arguments)}function NEe(t,e){if(t==null)return{};var n=IEe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IEe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function kEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function REe(t,e,n){return e&&OEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function PEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P2(t,e)}function P2(t,e){return P2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},P2(t,e)}function DEe(t){var e=MEe();return function(){var r=Z1(t),s;if(e){var i=Z1(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return LEe(this,s)}}function LEe(t,e){if(e&&(R2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VY(t)}function VY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MEe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Z1(t){return Z1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z1(t)}var $Ee={caret:R.bool,color:R.string,children:R.node,className:R.string,cssModule:R.object,disabled:R.bool,onClick:R.func,"aria-haspopup":R.bool,split:R.bool,tag:Kn,nav:R.bool,innerRef:R.oneOfType([R.object,R.string,R.func])},FEe={color:"secondary","aria-haspopup":!0},Qd=function(t){PEe(n,t);var e=DEe(n);function n(r){var s;return kEe(this,n),s=e.call(this,r),s.onClick=s.onClick.bind(VY(s)),s}return REe(n,[{key:"onClick",value:function(s){if(this.props.disabled||this.context.disabled){s.preventDefault();return}this.props.nav&&!this.props.tag&&s.preventDefault(),this.props.onClick&&this.props.onClick(s),this.context.toggle(s)}},{key:"getRole",value:function(){return this.context.menuRole||this.props["aria-haspopup"]}},{key:"render",value:function(){var s=this,i=this.props,o=i.className,l=i.color,c=i.cssModule,u=i.caret,d=i.split,f=i.nav,m=i.tag,p=i.innerRef,y=NEe(i,CEe),_=y["aria-label"]||"Toggle Dropdown",b=Kt(Rt(o,{"dropdown-toggle":u||d,"dropdown-toggle-split":d,"nav-link":f}),c),x=typeof y.children<"u"?y.children:ae.createElement("span",{className:"visually-hidden"},_),w;return f&&!m?(w="a",y.href="#"):m?w=m:(w=_e,y.color=l,y.cssModule=c),this.context.inNavbar?ae.createElement(w,Q1({},y,{className:b,onClick:this.onClick,ref:this.context.onToggleRef,"aria-expanded":this.context.isOpen,"aria-haspopup":this.getRole(),children:x})):ae.createElement(k0e,{innerRef:p},function(E){var T=E.ref,N=function(D){T(D);var F=s.context.onToggleRef;F&&F(D)};return ae.createElement(w,Q1({},y,AEe({},typeof w=="string"?"ref":"innerRef",N),{className:b,onClick:s.onClick,"aria-expanded":s.context.isOpen,"aria-haspopup":s.getRole(),children:x}))})}}]),n}(ae.Component);Qd.propTypes=$Ee;Qd.defaultProps=FEe;Qd.contextType=lx;function mn(){return mn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mn.apply(this,arguments)}function UY(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function X1(t,e){return X1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},X1(t,e)}function VEe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,X1(t,e)}const ez={disabled:!1},BY=ae.createContext(null);var UEe=function(e){return e.scrollTop},W_="unmounted",Lm="exited",Mm="entering",vy="entered",D2="exiting",qo=function(t){VEe(e,t);function e(r,s){var i;i=t.call(this,r,s)||this;var o=s,l=o&&!o.isMounting?r.enter:r.appear,c;return i.appearStatus=null,r.in?l?(c=Lm,i.appearStatus=Mm):c=vy:r.unmountOnExit||r.mountOnEnter?c=W_:c=Lm,i.state={status:c},i.nextCallback=null,i}e.getDerivedStateFromProps=function(s,i){var o=s.in;return o&&i.status===W_?{status:Lm}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var i=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==Mm&&o!==vy&&(i=Mm):(o===Mm||o===vy)&&(i=D2)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,i,o,l;return i=o=l=s,s!=null&&typeof s!="number"&&(i=s.exit,o=s.enter,l=s.appear!==void 0?s.appear:o),{exit:i,enter:o,appear:l}},n.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===Mm){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:ap.findDOMNode(this);o&&UEe(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Lm&&this.setState({status:W_})},n.performEnter=function(s){var i=this,o=this.props.enter,l=this.context?this.context.isMounting:s,c=this.props.nodeRef?[l]:[ap.findDOMNode(this),l],u=c[0],d=c[1],f=this.getTimeouts(),m=l?f.appear:f.enter;if(!s&&!o||ez.disabled){this.safeSetState({status:vy},function(){i.props.onEntered(u)});return}this.props.onEnter(u,d),this.safeSetState({status:Mm},function(){i.props.onEntering(u,d),i.onTransitionEnd(m,function(){i.safeSetState({status:vy},function(){i.props.onEntered(u,d)})})})},n.performExit=function(){var s=this,i=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:ap.findDOMNode(this);if(!i||ez.disabled){this.safeSetState({status:Lm},function(){s.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:D2},function(){s.props.onExiting(l),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:Lm},function(){s.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},n.setNextCallback=function(s){var i=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,i.nextCallback=null,s(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(s,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:ap.findDOMNode(this),l=s==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=c[0],d=c[1];this.props.addEndListener(u,d)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===W_)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var l=UY(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ae.createElement(BY.Provider,{value:null},typeof o=="function"?o(s,l):ae.cloneElement(ae.Children.only(o),l))},e}(ae.Component);qo.contextType=BY;qo.propTypes={};function Kg(){}qo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Kg,onEntering:Kg,onEntered:Kg,onExit:Kg,onExiting:Kg,onExited:Kg};qo.UNMOUNTED=W_;qo.EXITED=Lm;qo.ENTERING=Mm;qo.ENTERED=vy;qo.EXITING=D2;function BEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var zEe=["tag","baseClass","baseClassActive","className","cssModule","children","innerRef"];function eT(){return eT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eT.apply(this,arguments)}function WEe(t,e){if(t==null)return{};var n=GEe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GEe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function tz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function cx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tz(Object(n),!0).forEach(function(r){HEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HEe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qEe=cx(cx({},qo.propTypes),{},{children:R.oneOfType([R.arrayOf(R.node),R.node]),tag:Kn,baseClass:R.string,baseClassActive:R.string,className:R.string,cssModule:R.object,innerRef:R.oneOfType([R.object,R.string,R.func])}),zY=cx(cx({},qo.defaultProps),{},{timeout:z1.Fade,appear:!0,enter:!0,exit:!0,in:!0});function Ya(t){var e=C.useRef(null),n=t.tag,r=n===void 0?"div":n,s=t.baseClass,i=s===void 0?"fade":s,o=t.baseClassActive,l=o===void 0?"show":o,c=t.className,u=t.cssModule,d=t.children,f=t.innerRef,m=f===void 0?e:f,p=WEe(t,zEe),y=bY(cx({defaultProps:zY},p),W1),_=ah(p,W1);return ae.createElement(qo,eT({nodeRef:m},y),function(b){var x=b==="entered",w=Kt(Rt(c,i,x&&l),u);return ae.createElement(r,eT({className:w},_,{ref:m}),d)})}Ya.propTypes=qEe;Ya.defaultProps=zY;function L2(t){"@babel/helpers - typeof";return L2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L2(t)}var YEe=["tag","horizontal","isOpen","className","navbar","cssModule","children","innerRef"],Jg;function tT(){return tT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tT.apply(this,arguments)}function KEe(t,e){if(t==null)return{};var n=JEe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JEe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function QEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function XEe(t,e,n){return e&&ZEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M2(t,e)}function M2(t,e){return M2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},M2(t,e)}function tSe(t){var e=rSe();return function(){var r=nT(t),s;if(e){var i=nT(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return nSe(this,s)}}function nSe(t,e){if(e&&(L2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WY(t)}function WY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rSe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nT(t){return nT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nT(t)}function nz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Rv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nz(Object(n),!0).forEach(function(r){Uy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var sSe=Rv(Rv({},qo.propTypes),{},{horizontal:R.bool,isOpen:R.bool,children:R.oneOfType([R.arrayOf(R.node),R.node]),tag:Kn,className:R.node,navbar:R.bool,cssModule:R.object,innerRef:R.shape({current:R.object})}),iSe=Rv(Rv({},qo.defaultProps),{},{horizontal:!1,isOpen:!1,appear:!1,enter:!0,exit:!0,tag:"div",timeout:z1.Collapse}),aSe=(Jg={},Uy(Jg,CS.ENTERING,"collapsing"),Uy(Jg,CS.ENTERED,"collapse show"),Uy(Jg,CS.EXITING,"collapsing"),Uy(Jg,CS.EXITED,"collapse"),Jg);function oSe(t){return aSe[t]||"collapse"}var b0=function(t){eSe(n,t);var e=tSe(n);function n(r){var s;return QEe(this,n),s=e.call(this,r),s.state={dimension:null},s.nodeRef=r.innerRef||ae.createRef(),["onEntering","onEntered","onExit","onExiting","onExited"].forEach(function(i){s[i]=s[i].bind(WY(s))}),s}return XEe(n,[{key:"onEntering",value:function(s,i){var o=this.getNode();this.setState({dimension:this.getDimension(o)}),this.props.onEntering(o,i)}},{key:"onEntered",value:function(s,i){var o=this.getNode();this.setState({dimension:null}),this.props.onEntered(o,i)}},{key:"onExit",value:function(){var s=this.getNode();this.setState({dimension:this.getDimension(s)}),this.props.onExit(s)}},{key:"onExiting",value:function(){var s=this.getNode();this.getDimension(s),this.setState({dimension:0}),this.props.onExiting(s)}},{key:"onExited",value:function(){var s=this.getNode();this.setState({dimension:null}),this.props.onExited(s)}},{key:"getNode",value:function(){return this.nodeRef.current}},{key:"getDimension",value:function(s){return this.props.horizontal?s.scrollWidth:s.scrollHeight}},{key:"render",value:function(){var s=this,i=this.props,o=i.tag,l=i.horizontal,c=i.isOpen,u=i.className,d=i.navbar,f=i.cssModule,m=i.children;i.innerRef;var p=KEe(i,YEe),y=this.state.dimension,_=bY(p,W1),b=ah(p,W1);return ae.createElement(qo,tT({},_,{in:c,nodeRef:this.nodeRef,onEntering:this.onEntering,onEntered:this.onEntered,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),function(x){var w=oSe(x),E=Kt(Rt(u,l&&"collapse-horizontal",w,d&&"navbar-collapse"),f),T=y===null?null:Uy({},l?"width":"height",y);return ae.createElement(o,tT({},b,{style:Rv(Rv({},b.style),T),className:E,ref:s.nodeRef}),m)})}}]),n}(C.Component);b0.propTypes=sSe;b0.defaultProps=iSe;var lSe=["className","cssModule","color","innerRef","pill","tag"];function $2(){return $2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$2.apply(this,arguments)}function cSe(t,e){if(t==null)return{};var n=uSe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uSe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var dSe={children:R.node,className:R.string,color:R.string,cssModule:R.object,innerRef:R.oneOfType([R.object,R.func,R.string]),pill:R.bool,tag:Kn};function ct(t){var e=t.className,n=t.cssModule,r=t.color,s=r===void 0?"secondary":r,i=t.innerRef,o=t.pill,l=o===void 0?!1:o,c=t.tag,u=c===void 0?"span":c,d=cSe(t,lSe),f=Kt(Rt(e,"badge","bg-"+s,l?"rounded-pill":!1),n);return d.href&&u==="span"&&(u="a"),ae.createElement(u,$2({},d,{className:f,ref:i}))}ct.propTypes=dSe;var hSe=["className","cssModule","color","body","inverse","outline","tag","innerRef"];function F2(){return F2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F2.apply(this,arguments)}function fSe(t,e){if(t==null)return{};var n=mSe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mSe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var pSe={body:R.bool,className:R.string,color:R.string,cssModule:R.object,innerRef:R.oneOfType([R.object,R.string,R.func]),inverse:R.bool,outline:R.bool,tag:Kn};function Ct(t){var e=t.className,n=t.cssModule,r=t.color,s=t.body,i=t.inverse,o=t.outline,l=t.tag,c=l===void 0?"div":l,u=t.innerRef,d=fSe(t,hSe),f=Kt(Rt(e,"card",i?"text-white":!1,s?"card-body":!1,r?"".concat(o?"border":"bg","-").concat(r):!1),n);return ae.createElement(c,F2({},d,{className:f,ref:u}))}Ct.propTypes=pSe;var gSe=["className","cssModule","innerRef","tag"];function V2(){return V2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V2.apply(this,arguments)}function ySe(t,e){if(t==null)return{};var n=vSe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vSe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var bSe={className:R.string,cssModule:R.object,innerRef:R.oneOfType([R.object,R.string,R.func]),tag:Kn};function At(t){var e=t.className,n=t.cssModule,r=t.innerRef,s=t.tag,i=s===void 0?"div":s,o=ySe(t,gSe),l=Kt(Rt(e,"card-body"),n);return ae.createElement(i,V2({},o,{className:l,ref:r}))}At.propTypes=bSe;var _Se=["className","cssModule","tag"];function U2(){return U2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U2.apply(this,arguments)}function wSe(t,e){if(t==null)return{};var n=xSe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xSe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var ESe={className:R.string,cssModule:R.object,tag:Kn};function G$(t){var e=t.className,n=t.cssModule,r=t.tag,s=r===void 0?"div":r,i=wSe(t,_Se),o=Kt(Rt(e,"card-header"),n);return ae.createElement(s,U2({},i,{className:o}))}G$.propTypes=ESe;var SSe=["className","cssModule","tag"];function B2(){return B2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B2.apply(this,arguments)}function jSe(t,e){if(t==null)return{};var n=TSe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TSe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var CSe={className:R.string,cssModule:R.object,tag:Kn};function Rd(t){var e=t.className,n=t.cssModule,r=t.tag,s=r===void 0?"div":r,i=jSe(t,SSe),o=Kt(Rt(e,"card-title"),n);return ae.createElement(s,B2({},i,{className:o}))}Rd.propTypes=CSe;function z2(t){"@babel/helpers - typeof";return z2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z2(t)}var ASe=["cssModule","children","isOpen","flip","target","offset","fallbackPlacements","placementPrefix","arrowClassName","hideArrow","popperClassName","tag","container","modifiers","strategy","boundariesElement","onClosed","fade","transition","placement"];function W2(){return W2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W2.apply(this,arguments)}function rz(t){return OSe(t)||kSe(t)||ISe(t)||NSe()}function NSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ISe(t,e){if(t){if(typeof t=="string")return G2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G2(t,e)}}function kSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OSe(t){if(Array.isArray(t))return G2(t)}function G2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RSe(t,e){if(t==null)return{};var n=PSe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PSe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function DSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function LSe(t,e,n){return e&&sz(t.prototype,e),n&&sz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function MSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H2(t,e)}function H2(t,e){return H2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},H2(t,e)}function $Se(t){var e=VSe();return function(){var r=rT(t),s;if(e){var i=rT(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return FSe(this,s)}}function FSe(t,e){if(e&&(z2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G_(t)}function G_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VSe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rT(t){return rT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rT(t)}function iz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Fj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iz(Object(n),!0).forEach(function(r){USe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function USe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BSe(){}var zSe={children:R.oneOfType([R.node,R.func]).isRequired,popperClassName:R.string,placement:R.string,placementPrefix:R.string,arrowClassName:R.string,hideArrow:R.bool,tag:Kn,isOpen:R.bool,cssModule:R.object,offset:R.arrayOf(R.number),fallbackPlacements:R.array,flip:R.bool,container:Av,target:Av.isRequired,modifiers:R.array,strategy:R.string,boundariesElement:R.oneOfType([R.string,D$]),onClosed:R.func,fade:R.bool,transition:R.shape(Ya.propTypes)},WSe={boundariesElement:"scrollParent",placement:"auto",hideArrow:!1,isOpen:!1,offset:[0,0],flip:!0,container:"body",modifiers:[],onClosed:BSe,fade:!0,transition:Fj({},Ya.defaultProps)},H$=function(t){MSe(n,t);var e=$Se(n);function n(r){var s;return DSe(this,n),s=e.call(this,r),s.setTargetNode=s.setTargetNode.bind(G_(s)),s.getTargetNode=s.getTargetNode.bind(G_(s)),s.getRef=s.getRef.bind(G_(s)),s.onClosed=s.onClosed.bind(G_(s)),s.state={isOpen:r.isOpen},s}return LSe(n,[{key:"componentDidUpdate",value:function(){this._element&&this._element.childNodes&&this._element.childNodes[0]&&this._element.childNodes[0].focus&&this._element.childNodes[0].focus()}},{key:"onClosed",value:function(){this.props.onClosed(),this.setState({isOpen:!1})}},{key:"getTargetNode",value:function(){return this.targetNode}},{key:"getContainerNode",value:function(){return ix(this.props.container)}},{key:"getRef",value:function(s){this._element=s}},{key:"setTargetNode",value:function(s){this.targetNode=typeof s=="string"?ix(s):s}},{key:"renderChildren",value:function(){var s=this.props,i=s.cssModule,o=s.children,l=s.isOpen,c=s.flip;s.target;var u=s.offset,d=s.fallbackPlacements,f=s.placementPrefix,m=s.arrowClassName,p=s.hideArrow,y=s.popperClassName,_=s.tag;s.container;var b=s.modifiers,x=s.strategy,w=s.boundariesElement;s.onClosed;var E=s.fade,T=s.transition,N=s.placement,P=RSe(s,ASe),D=Kt(Rt("arrow",m),i),F=Kt(Rt(y,f?"".concat(f,"-auto"):""),this.props.cssModule),Y=b.map(function(J){return J.name}),q=[{name:"offset",options:{offset:u}},{name:"flip",enabled:c,options:{fallbackPlacements:d}},{name:"preventOverflow",options:{boundary:w}}].filter(function(J){return!Y.includes(J.name)}),B=[].concat(rz(q),rz(b)),G=Fj(Fj(Fj({},Ya.defaultProps),T),{},{baseClass:E?T.baseClass:"",timeout:E?T.timeout:0});return ae.createElement(Ya,W2({},G,P,{in:l,onExited:this.onClosed,tag:_}),ae.createElement(MY,{referenceElement:this.targetNode,modifiers:B,placement:N,strategy:x},function(J){var W=J.ref,z=J.style,Z=J.placement,X=J.isReferenceHidden,ne=J.arrowProps,le=J.update;return ae.createElement("div",{ref:W,style:z,className:F,"data-popper-placement":Z,"data-popper-reference-hidden":X?"true":void 0},typeof o=="function"?o({update:le}):o,!p&&ae.createElement("span",{ref:ne.ref,className:D,style:ne.style}))}))}},{key:"render",value:function(){return this.setTargetNode(this.props.target),this.state.isOpen?this.props.container==="inline"?this.renderChildren():ap.createPortal(ae.createElement("div",{ref:this.getRef},this.renderChildren()),this.getContainerNode()):null}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.isOpen&&!i.isOpen?{isOpen:s.isOpen}:null}}]),n}(ae.Component);H$.propTypes=zSe;H$.defaultProps=WSe;function q2(){return q2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q2.apply(this,arguments)}function ux(t){"@babel/helpers - typeof";return ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ux(t)}function GSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function az(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function HSe(t,e,n){return e&&az(t.prototype,e),n&&az(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y2(t,e)}function Y2(t,e){return Y2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Y2(t,e)}function YSe(t){var e=JSe();return function(){var r=sT(t),s;if(e){var i=sT(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return KSe(this,s)}}function KSe(t,e){if(e&&(ux(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return al(t)}function al(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JSe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sT(t){return sT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sT(t)}var q$={children:R.oneOfType([R.node,R.func]),placement:R.oneOf(dwe),target:Av.isRequired,container:Av,isOpen:R.bool,disabled:R.bool,hideArrow:R.bool,boundariesElement:R.oneOfType([R.string,D$]),className:R.string,innerClassName:R.string,arrowClassName:R.string,popperClassName:R.string,cssModule:R.object,toggle:R.func,autohide:R.bool,placementPrefix:R.string,delay:R.oneOfType([R.shape({show:R.number,hide:R.number}),R.number]),modifiers:R.array,strategy:R.string,offset:R.arrayOf(R.number),innerRef:R.oneOfType([R.func,R.string,R.object]),trigger:R.string,fade:R.bool,flip:R.bool},GY={show:0,hide:50},QSe={isOpen:!1,hideArrow:!1,autohide:!1,delay:GY,toggle:function(){},trigger:"click",fade:!0};function HY(t,e){return e&&(t===e||e.contains(t))}function oz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e&&e.length&&e.filter(function(n){return HY(t,n)})[0]}var Y$=function(t){qSe(n,t);var e=YSe(n);function n(r){var s;return GSe(this,n),s=e.call(this,r),s._targets=[],s.currentTargetElement=null,s.addTargetEvents=s.addTargetEvents.bind(al(s)),s.handleDocumentClick=s.handleDocumentClick.bind(al(s)),s.removeTargetEvents=s.removeTargetEvents.bind(al(s)),s.toggle=s.toggle.bind(al(s)),s.showWithDelay=s.showWithDelay.bind(al(s)),s.hideWithDelay=s.hideWithDelay.bind(al(s)),s.onMouseOverTooltipContent=s.onMouseOverTooltipContent.bind(al(s)),s.onMouseLeaveTooltipContent=s.onMouseLeaveTooltipContent.bind(al(s)),s.show=s.show.bind(al(s)),s.hide=s.hide.bind(al(s)),s.onEscKeyDown=s.onEscKeyDown.bind(al(s)),s.getRef=s.getRef.bind(al(s)),s.state={isOpen:r.isOpen},s._isMounted=!1,s}return HSe(n,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.updateTarget()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.removeTargetEvents(),this._targets=null,this.clearShowTimeout(),this.clearHideTimeout()}},{key:"handleDocumentClick",value:function(s){var i=this.props.trigger.split(" ");i.indexOf("legacy")>-1&&(this.props.isOpen||oz(s.target,this._targets))?(this._hideTimeout&&this.clearHideTimeout(),this.props.isOpen&&!HY(s.target,this._popover)?this.hideWithDelay(s):this.props.isOpen||this.showWithDelay(s)):i.indexOf("click")>-1&&oz(s.target,this._targets)&&(this._hideTimeout&&this.clearHideTimeout(),this.props.isOpen?this.hideWithDelay(s):this.showWithDelay(s))}},{key:"onMouseOverTooltipContent",value:function(){this.props.trigger.indexOf("hover")>-1&&!this.props.autohide&&(this._hideTimeout&&this.clearHideTimeout(),this.state.isOpen&&!this.props.isOpen&&this.toggle())}},{key:"onMouseLeaveTooltipContent",value:function(s){this.props.trigger.indexOf("hover")>-1&&!this.props.autohide&&(this._showTimeout&&this.clearShowTimeout(),s.persist(),this._hideTimeout=setTimeout(this.hide.bind(this,s),this.getDelay("hide")))}},{key:"onEscKeyDown",value:function(s){s.key==="Escape"&&this.hide(s)}},{key:"getRef",value:function(s){var i=this.props.innerRef;i&&(typeof i=="function"?i(s):ux(i)==="object"&&(i.current=s)),this._popover=s}},{key:"getDelay",value:function(s){var i=this.props.delay;return ux(i)==="object"?isNaN(i[s])?GY[s]:i[s]:i}},{key:"getCurrentTarget",value:function(s){if(!s)return null;var i=this._targets.indexOf(s);return i>=0?this._targets[i]:this.getCurrentTarget(s.parentElement)}},{key:"show",value:function(s){if(!this.props.isOpen){if(this.clearShowTimeout(),this.currentTargetElement=s?s.currentTarget||this.getCurrentTarget(s.target):null,s&&s.composedPath&&typeof s.composedPath=="function"){var i=s.composedPath();this.currentTargetElement=i&&i[0]||this.currentTargetElement}this.toggle(s)}}},{key:"showWithDelay",value:function(s){this._hideTimeout&&this.clearHideTimeout(),this._showTimeout=setTimeout(this.show.bind(this,s),this.getDelay("show"))}},{key:"hide",value:function(s){this.props.isOpen&&(this.clearHideTimeout(),this.currentTargetElement=null,this.toggle(s))}},{key:"hideWithDelay",value:function(s){this._showTimeout&&this.clearShowTimeout(),this._hideTimeout=setTimeout(this.hide.bind(this,s),this.getDelay("hide"))}},{key:"clearShowTimeout",value:function(){clearTimeout(this._showTimeout),this._showTimeout=void 0}},{key:"clearHideTimeout",value:function(){clearTimeout(this._hideTimeout),this._hideTimeout=void 0}},{key:"addEventOnTargets",value:function(s,i,o){this._targets.forEach(function(l){l.addEventListener(s,i,o)})}},{key:"removeEventOnTargets",value:function(s,i,o){this._targets.forEach(function(l){l.removeEventListener(s,i,o)})}},{key:"addTargetEvents",value:function(){if(this.props.trigger){var s=this.props.trigger.split(" ");s.indexOf("manual")===-1&&((s.indexOf("click")>-1||s.indexOf("legacy")>-1)&&document.addEventListener("click",this.handleDocumentClick,!0),this._targets&&this._targets.length&&(s.indexOf("hover")>-1&&(this.addEventOnTargets("mouseover",this.showWithDelay,!0),this.addEventOnTargets("mouseout",this.hideWithDelay,!0)),s.indexOf("focus")>-1&&(this.addEventOnTargets("focusin",this.show,!0),this.addEventOnTargets("focusout",this.hide,!0)),this.addEventOnTargets("keydown",this.onEscKeyDown,!0)))}}},{key:"removeTargetEvents",value:function(){this._targets&&(this.removeEventOnTargets("mouseover",this.showWithDelay,!0),this.removeEventOnTargets("mouseout",this.hideWithDelay,!0),this.removeEventOnTargets("keydown",this.onEscKeyDown,!0),this.removeEventOnTargets("focusin",this.show,!0),this.removeEventOnTargets("focusout",this.hide,!0)),document.removeEventListener("click",this.handleDocumentClick,!0)}},{key:"updateTarget",value:function(){var s=ix(this.props.target,!0);s!==this._targets&&(this.removeTargetEvents(),this._targets=s?Array.from(s):[],this.currentTargetElement=this.currentTargetElement||this._targets[0],this.addTargetEvents())}},{key:"toggle",value:function(s){return this.props.disabled||!this._isMounted?s&&s.preventDefault():this.props.toggle(s)}},{key:"render",value:function(){var s=this;this.props.isOpen&&this.updateTarget();var i=this.currentTargetElement||this._targets[0];if(!i)return null;var o=this.props,l=o.className,c=o.cssModule,u=o.innerClassName,d=o.isOpen,f=o.hideArrow,m=o.boundariesElement,p=o.placement,y=o.placementPrefix,_=o.arrowClassName,b=o.popperClassName,x=o.container,w=o.modifiers,E=o.strategy,T=o.offset,N=o.fade,P=o.flip,D=o.children,F=ah(this.props,Object.keys(q$)),Y=Kt(b,c),q=Kt(u,c);return ae.createElement(H$,{className:l,target:i,isOpen:d,hideArrow:f,boundariesElement:m,placement:p,placementPrefix:y,arrowClassName:_,popperClassName:Y,container:x,modifiers:w,strategy:E,offset:T,cssModule:c,fade:N,flip:P},function(B){var G=B.update;return ae.createElement("div",q2({},F,{ref:s.getRef,className:q,role:"tooltip",onMouseOver:s.onMouseOverTooltipContent,onMouseLeave:s.onMouseLeaveTooltipContent,onKeyDown:s.onEscKeyDown}),typeof D=="function"?D({update:G}):D)})}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.isOpen&&!i.isOpen?{isOpen:s.isOpen}:null}}]),n}(ae.Component);Y$.propTypes=q$;Y$.defaultProps=QSe;function K2(t){"@babel/helpers - typeof";return K2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K2(t)}function ZSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eje(t,e,n){return e&&XSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J2(t,e)}function J2(t,e){return J2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},J2(t,e)}function nje(t){var e=ije();return function(){var r=iT(t),s;if(e){var i=iT(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return rje(this,s)}}function rje(t,e){if(e&&(K2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sje(t)}function sje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ije(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function iT(t){return iT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iT(t)}var aje={children:R.node.isRequired,node:R.any},qY=function(t){tje(n,t);var e=nje(n);function n(){return ZSe(this,n),e.apply(this,arguments)}return eje(n,[{key:"componentWillUnmount",value:function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"render",value:function(){return L$?(!this.props.node&&!this.defaultNode&&(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),ap.createPortal(this.props.children,this.props.node||this.defaultNode)):null}}]),n}(ae.Component);qY.propTypes=aje;function Q2(t){"@babel/helpers - typeof";return Q2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q2(t)}function lz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Qg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lz(Object(n),!0).forEach(function(r){by(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bw(){return bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bw.apply(this,arguments)}function by(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lje(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cje(t,e,n){return e&&lje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z2(t,e)}function Z2(t,e){return Z2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Z2(t,e)}function dje(t){var e=fje();return function(){var r=aT(t),s;if(e){var i=aT(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return hje(this,s)}}function hje(t,e){if(e&&(Q2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tc(t)}function tc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fje(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function aT(t){return aT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},aT(t)}function oT(){}var cz=R.shape(Ya.propTypes),YY={autoFocus:R.bool,backdrop:R.oneOfType([R.bool,R.oneOf(["static"])]),backdropClassName:R.string,backdropTransition:cz,centered:R.bool,children:R.node,contentClassName:R.string,className:R.string,container:Av,cssModule:R.object,external:R.node,fade:R.bool,fullscreen:R.oneOfType([R.bool,R.oneOf(["sm","md","lg","xl"])]),innerRef:R.oneOfType([R.object,R.string,R.func]),isOpen:R.bool,keyboard:R.bool,labelledBy:R.string,modalClassName:R.string,modalTransition:cz,onClosed:R.func,onEnter:R.func,onExit:R.func,onOpened:R.func,returnFocusAfterClose:R.bool,role:R.string,scrollable:R.bool,size:R.string,toggle:R.func,trapFocus:R.bool,unmountOnClose:R.bool,wrapClassName:R.string,zIndex:R.oneOfType([R.number,R.string])},mje=Object.keys(YY),pje={isOpen:!1,autoFocus:!0,centered:!1,scrollable:!1,role:"dialog",backdrop:!0,keyboard:!0,zIndex:1050,fade:!0,onOpened:oT,onClosed:oT,modalTransition:{timeout:z1.Modal},backdropTransition:{mountOnEnter:!0,timeout:z1.Fade},unmountOnClose:!0,returnFocusAfterClose:!0,container:"body",trapFocus:!1},Mi=function(t){uje(n,t);var e=dje(n);function n(r){var s;return oje(this,n),s=e.call(this,r),s._element=null,s._originalBodyPadding=null,s.getFocusableChildren=s.getFocusableChildren.bind(tc(s)),s.handleBackdropClick=s.handleBackdropClick.bind(tc(s)),s.handleBackdropMouseDown=s.handleBackdropMouseDown.bind(tc(s)),s.handleEscape=s.handleEscape.bind(tc(s)),s.handleStaticBackdropAnimation=s.handleStaticBackdropAnimation.bind(tc(s)),s.handleTab=s.handleTab.bind(tc(s)),s.onOpened=s.onOpened.bind(tc(s)),s.onClosed=s.onClosed.bind(tc(s)),s.manageFocusAfterClose=s.manageFocusAfterClose.bind(tc(s)),s.clearBackdropAnimationTimeout=s.clearBackdropAnimationTimeout.bind(tc(s)),s.trapFocus=s.trapFocus.bind(tc(s)),s.state={isOpen:!1,showStaticBackdropAnimation:!1},s}return cje(n,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isOpen,o=s.autoFocus,l=s.onEnter;i&&(this.init(),this.setState({isOpen:!0}),o&&this.setFocus()),l&&l(),document.addEventListener("focus",this.trapFocus,!0),this._isMounted=!0}},{key:"componentDidUpdate",value:function(s,i){if(this.props.isOpen&&!s.isOpen){this.init(),this.setState({isOpen:!0});return}this.props.autoFocus&&this.state.isOpen&&!i.isOpen&&this.setFocus(),this._element&&s.zIndex!==this.props.zIndex&&(this._element.style.zIndex=this.props.zIndex)}},{key:"componentWillUnmount",value:function(){this.clearBackdropAnimationTimeout(),this.props.onExit&&this.props.onExit(),this._element&&(this.destroy(),(this.props.isOpen||this.state.isOpen)&&this.close()),document.removeEventListener("focus",this.trapFocus,!0),this._isMounted=!1}},{key:"handleBackdropClick",value:function(s){if(s.target===this._mouseDownElement){s.stopPropagation();var i=this._dialog?this._dialog.parentNode:null;if(i&&s.target===i&&this.props.backdrop==="static"&&this.handleStaticBackdropAnimation(),!this.props.isOpen||this.props.backdrop!==!0)return;i&&s.target===i&&this.props.toggle&&this.props.toggle(s)}}},{key:"handleTab",value:function(s){if(s.which===9&&!(this.modalIndex<n.openCount-1)){var i=this.getFocusableChildren(),o=i.length;if(o!==0){for(var l=this.getFocusedChild(),c=0,u=0;u<o;u+=1)if(i[u]===l){c=u;break}s.shiftKey&&c===0?(s.preventDefault(),i[o-1].focus()):!s.shiftKey&&c===o-1&&(s.preventDefault(),i[0].focus())}}}},{key:"handleBackdropMouseDown",value:function(s){this._mouseDownElement=s.target}},{key:"handleEscape",value:function(s){this.props.isOpen&&s.keyCode===Ir.esc&&this.props.toggle&&(this.props.keyboard?(s.preventDefault(),s.stopPropagation(),this.props.toggle(s)):this.props.backdrop==="static"&&(s.preventDefault(),s.stopPropagation(),this.handleStaticBackdropAnimation()))}},{key:"handleStaticBackdropAnimation",value:function(){var s=this;this.clearBackdropAnimationTimeout(),this.setState({showStaticBackdropAnimation:!0}),this._backdropAnimationTimeout=setTimeout(function(){s.setState({showStaticBackdropAnimation:!1})},100)}},{key:"onOpened",value:function(s,i){this.props.onOpened(),(this.props.modalTransition.onEntered||oT)(s,i)}},{key:"onClosed",value:function(s){var i=this.props.unmountOnClose;this.props.onClosed(),(this.props.modalTransition.onExited||oT)(s),i&&this.destroy(),this.close(),this._isMounted&&this.setState({isOpen:!1})}},{key:"setFocus",value:function(){this._dialog&&this._dialog.parentNode&&typeof this._dialog.parentNode.focus=="function"&&this._dialog.parentNode.focus()}},{key:"getFocusableChildren",value:function(){return this._element.querySelectorAll(gwe.join(", "))}},{key:"getFocusedChild",value:function(){var s,i=this.getFocusableChildren();try{s=document.activeElement}catch{s=i[0]}return s}},{key:"trapFocus",value:function(s){if(this.props.trapFocus&&this._element&&!(this._dialog&&this._dialog.parentNode===s.target)&&!(this.modalIndex<n.openCount-1)){for(var i=this.getFocusableChildren(),o=0;o<i.length;o+=1)if(i[o]===s.target)return;i.length>0&&(s.preventDefault(),s.stopPropagation(),i[0].focus())}}},{key:"init",value:function(){try{this._triggeringElement=document.activeElement}catch{this._triggeringElement=null}this._element||(this._element=document.createElement("div"),this._element.setAttribute("tabindex","-1"),this._element.style.position="relative",this._element.style.zIndex=this.props.zIndex,this._mountContainer=ix(this.props.container),this._mountContainer.appendChild(this._element)),this._originalBodyPadding=owe(),n.openCount<1&&(n.originalBodyOverflow=window.getComputedStyle(document.body).overflow),lwe(),n.openCount===0&&(document.body.className=Rt(document.body.className,Kt("modal-open",this.props.cssModule)),document.body.style.overflow="hidden"),this.modalIndex=n.openCount,n.openCount+=1}},{key:"destroy",value:function(){this._element&&(this._mountContainer.removeChild(this._element),this._element=null),this.manageFocusAfterClose()}},{key:"manageFocusAfterClose",value:function(){if(this._triggeringElement){var s=this.props.returnFocusAfterClose;this._triggeringElement.focus&&s&&this._triggeringElement.focus(),this._triggeringElement=null}}},{key:"close",value:function(){if(n.openCount<=1){var s=Kt("modal-open",this.props.cssModule),i=new RegExp("(^| )".concat(s,"( |$)"));document.body.className=document.body.className.replace(i," ").trim(),document.body.style.overflow=n.originalBodyOverflow}this.manageFocusAfterClose(),n.openCount=Math.max(0,n.openCount-1),vY(this._originalBodyPadding)}},{key:"clearBackdropAnimationTimeout",value:function(){this._backdropAnimationTimeout&&(clearTimeout(this._backdropAnimationTimeout),this._backdropAnimationTimeout=void 0)}},{key:"renderModalDialog",value:function(){var s,i=this,o=ah(this.props,mje),l="modal-dialog";return ae.createElement("div",bw({},o,{className:Kt(Rt(l,this.props.className,(s={},by(s,"modal-".concat(this.props.size),this.props.size),by(s,"".concat(l,"-centered"),this.props.centered),by(s,"".concat(l,"-scrollable"),this.props.scrollable),by(s,"modal-fullscreen",this.props.fullscreen===!0),by(s,"modal-fullscreen-".concat(this.props.fullscreen,"-down"),typeof this.props.fullscreen=="string"),s)),this.props.cssModule),role:"document",ref:function(u){i._dialog=u}}),ae.createElement("div",{className:Kt(Rt("modal-content",this.props.contentClassName),this.props.cssModule)},this.props.children))}},{key:"render",value:function(){var s=this.props.unmountOnClose;if(this._element&&(this.state.isOpen||!s)){var i=!!this._element&&!this.state.isOpen&&!s;this._element.style.display=i?"none":"block";var o=this.props,l=o.wrapClassName,c=o.modalClassName,u=o.backdropClassName,d=o.cssModule,f=o.isOpen,m=o.backdrop,p=o.role,y=o.labelledBy,_=o.external,b=o.innerRef,x={onClick:this.handleBackdropClick,onMouseDown:this.handleBackdropMouseDown,onKeyUp:this.handleEscape,onKeyDown:this.handleTab,style:{display:"block"},"aria-labelledby":y,"aria-modal":!0,role:p,tabIndex:"-1"},w=this.props.fade,E=Qg(Qg(Qg({},Ya.defaultProps),this.props.modalTransition),{},{baseClass:w?this.props.modalTransition.baseClass:"",timeout:w?this.props.modalTransition.timeout:0}),T=Qg(Qg(Qg({},Ya.defaultProps),this.props.backdropTransition),{},{baseClass:w?this.props.backdropTransition.baseClass:"",timeout:w?this.props.backdropTransition.timeout:0}),N=m&&(w?ae.createElement(Ya,bw({},T,{in:f&&!!m,cssModule:d,className:Kt(Rt("modal-backdrop",u),d)})):ae.createElement("div",{className:Kt(Rt("modal-backdrop","show",u),d)}));return ae.createElement(qY,{node:this._element},ae.createElement("div",{className:Kt(l)},ae.createElement(Ya,bw({},x,E,{in:f,onEntered:this.onOpened,onExited:this.onClosed,cssModule:d,className:Kt(Rt("modal",c,this.state.showStaticBackdropAnimation&&"modal-static"),d),innerRef:b}),_,this.renderModalDialog()),N))}return null}}]),n}(ae.Component);Mi.propTypes=YY;Mi.defaultProps=pje;Mi.openCount=0;Mi.originalBodyOverflow=null;var gje=["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","close"];function X2(){return X2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X2.apply(this,arguments)}function yje(t,e){if(t==null)return{};var n=vje(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vje(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var bje={children:R.node,className:R.string,close:R.object,closeAriaLabel:R.string,cssModule:R.object,tag:Kn,toggle:R.func,wrapTag:Kn};function Bo(t){var e,n=t.className,r=t.cssModule,s=t.children,i=t.toggle,o=t.tag,l=o===void 0?"h5":o,c=t.wrapTag,u=c===void 0?"div":c,d=t.closeAriaLabel,f=d===void 0?"Close":d,m=t.close,p=yje(t,gje),y=Kt(Rt(n,"modal-header"),r);return!m&&i&&(e=ae.createElement("button",{type:"button",onClick:i,className:Kt("btn-close",r),"aria-label":f})),ae.createElement(u,X2({},p,{className:y}),ae.createElement(l,{className:Kt("modal-title",r)},s),m||e)}Bo.propTypes=bje;var _je=["className","cssModule","tag"];function eD(){return eD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eD.apply(this,arguments)}function wje(t,e){if(t==null)return{};var n=xje(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xje(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var Eje={className:R.string,cssModule:R.object,tag:Kn};function Qa(t){var e=t.className,n=t.cssModule,r=t.tag,s=r===void 0?"div":r,i=wje(t,_je),o=Kt(Rt(e,"modal-body"),n);return ae.createElement(s,eD({},i,{className:o}))}Qa.propTypes=Eje;var Sje=["className","cssModule","tag"];function tD(){return tD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tD.apply(this,arguments)}function jje(t,e){if(t==null)return{};var n=Tje(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tje(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var Cje={className:R.string,cssModule:R.object,tag:Kn};function bc(t){var e=t.className,n=t.cssModule,r=t.tag,s=r===void 0?"div":r,i=jje(t,Sje),o=Kt(Rt(e,"modal-footer"),n);return ae.createElement(s,tD({},i,{className:o}))}bc.propTypes=Cje;function nD(){return nD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nD.apply(this,arguments)}var Aje={placement:"top",autohide:!0,placementPrefix:"bs-tooltip",trigger:"hover focus"};function sA(t){var e=Rt("tooltip-arrow",t.arrowClassName),n=Rt("tooltip","show",t.popperClassName),r=Rt("tooltip-inner",t.innerClassName);return ae.createElement(Y$,nD({},t,{arrowClassName:e,popperClassName:n,innerClassName:r}))}sA.propTypes=q$;sA.defaultProps=Aje;var Nje=["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"];function rD(){return rD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rD.apply(this,arguments)}function Ije(t,e){if(t==null)return{};var n=kje(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kje(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var Oje={bordered:R.bool,borderless:R.bool,className:R.string,cssModule:R.object,dark:R.bool,hover:R.bool,innerRef:R.oneOfType([R.func,R.string,R.object]),responsive:R.oneOfType([R.bool,R.string]),responsiveTag:Kn,size:R.string,striped:R.bool,tag:Kn};function Yn(t){var e=t.className,n=t.cssModule,r=t.size,s=t.bordered,i=t.borderless,o=t.striped,l=t.dark,c=t.hover,u=t.responsive,d=t.tag,f=d===void 0?"table":d,m=t.responsiveTag,p=m===void 0?"div":m,y=t.innerRef,_=Ije(t,Nje),b=Kt(Rt(e,"table",r?"table-"+r:!1,s?"table-bordered":!1,i?"table-borderless":!1,o?"table-striped":!1,l?"table-dark":!1,c?"table-hover":!1),n),x=ae.createElement(f,rD({},_,{ref:y,className:b}));if(u){var w=Kt(u===!0?"table-responsive":"table-responsive-".concat(u),n);return ae.createElement(p,{className:w},x)}return x}Yn.propTypes=Oje;function sD(t){"@babel/helpers - typeof";return sD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sD(t)}var Rje=["className","cssModule","tag","innerRef"];function iD(){return iD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iD.apply(this,arguments)}function Pje(t,e){if(t==null)return{};var n=Dje(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dje(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Lje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mje(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $je(t,e,n){return e&&Mje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aD(t,e)}function aD(t,e){return aD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},aD(t,e)}function Vje(t){var e=Bje();return function(){var r=lT(t),s;if(e){var i=lT(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return Uje(this,s)}}function Uje(t,e){if(e&&(sD(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oD(t)}function oD(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bje(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lT(t){return lT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lT(t)}var zje={children:R.node,tag:Kn,innerRef:R.oneOfType([R.object,R.func,R.string]),className:R.string,cssModule:R.object},zo=function(t){Fje(n,t);var e=Vje(n);function n(r){var s;return Lje(this,n),s=e.call(this,r),s.getRef=s.getRef.bind(oD(s)),s.submit=s.submit.bind(oD(s)),s}return $je(n,[{key:"getRef",value:function(s){this.props.innerRef&&this.props.innerRef(s),this.ref=s}},{key:"submit",value:function(){this.ref&&this.ref.submit()}},{key:"render",value:function(){var s=this.props,i=s.className,o=s.cssModule,l=s.tag,c=l===void 0?"form":l,u=s.innerRef,d=Pje(s,Rje),f=Kt(i,o);return ae.createElement(c,iD({},d,{ref:u,className:f}))}}]),n}(C.Component);zo.propTypes=zje;var Wje=["className","cssModule","valid","tooltip","tag"];function lD(){return lD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lD.apply(this,arguments)}function Gje(t,e){if(t==null)return{};var n=Hje(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hje(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var qje={children:R.node,tag:Kn,className:R.string,cssModule:R.object,valid:R.bool,tooltip:R.bool};function Dt(t){var e=t.className,n=t.cssModule,r=t.valid,s=r===void 0?void 0:r,i=t.tooltip,o=t.tag,l=o===void 0?"div":o,c=Gje(t,Wje),u=i?"tooltip":"feedback",d=Kt(Rt(e,s?"valid-".concat(u):"invalid-".concat(u)),n);return ae.createElement(l,lD({},c,{className:d}))}Dt.propTypes=qje;var Yje=["className","cssModule","row","disabled","check","inline","floating","noMargin","tag","switch"];function cD(){return cD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cD.apply(this,arguments)}function Kje(t,e){if(t==null)return{};var n=Jje(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jje(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var Qje={children:R.node,row:R.bool,check:R.bool,switch:R.bool,inline:R.bool,floating:R.bool,noMargin:R.bool,disabled:R.bool,tag:Kn,className:R.string,cssModule:R.object};function KY(t){var e=t.className,n=t.cssModule,r=t.row,s=t.disabled,i=t.check,o=t.inline,l=t.floating,c=t.noMargin,u=t.tag,d=u===void 0?"div":u,f=t.switch,m=Kje(t,Yje),p=i||f,y=Kt(Rt(e,r?"row":!1,p?"form-check":!1,f?"form-switch":!1,p||c?!1:"mb-3",p&&o?"form-check-inline":!1,p&&s?"disabled":!1,l&&"form-floating"),n);return d==="fieldset"&&(m.disabled=s),ae.createElement(d,cD({},m,{className:y}))}KY.propTypes=Qje;function uD(t){"@babel/helpers - typeof";return uD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uD(t)}var Zje=["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"];function dD(){return dD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dD.apply(this,arguments)}function Xje(t,e){if(t==null)return{};var n=e1e(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function e1e(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function t1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r1e(t,e,n){return e&&n1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function s1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hD(t,e)}function hD(t,e){return hD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},hD(t,e)}function i1e(t){var e=o1e();return function(){var r=cT(t),s;if(e){var i=cT(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return a1e(this,s)}}function a1e(t,e){if(e&&(uD(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fD(t)}function fD(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o1e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cT(t){return cT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cT(t)}var l1e={children:R.node,type:R.string,size:R.oneOfType([R.number,R.string]),bsSize:R.string,valid:R.bool,invalid:R.bool,tag:Kn,innerRef:R.oneOfType([R.object,R.func,R.string]),plaintext:R.bool,addon:R.bool,className:R.string,cssModule:R.object},ie=function(t){s1e(n,t);var e=i1e(n);function n(r){var s;return t1e(this,n),s=e.call(this,r),s.getRef=s.getRef.bind(fD(s)),s.focus=s.focus.bind(fD(s)),s}return r1e(n,[{key:"getRef",value:function(s){this.props.innerRef&&this.props.innerRef(s),this.ref=s}},{key:"focus",value:function(){this.ref&&this.ref.focus()}},{key:"render",value:function(){var s=this.props,i=s.className,o=s.cssModule,l=s.type,c=l===void 0?"text":l,u=s.bsSize,d=s.valid,f=s.invalid,m=s.tag,p=s.addon,y=s.plaintext,_=s.innerRef,b=Xje(s,Zje),x=["switch","radio","checkbox"].indexOf(c)>-1,w=/\D/g,E=c==="textarea",T=c==="select",N=c==="range",P=m||(T||E?c:"input"),D="form-control";y?(D="".concat(D,"-plaintext"),P=m||"input"):N?D="form-range":T?D="form-select":x&&(p?D=null:D="form-check-input"),b.size&&w.test(b.size)&&(a2(`Please use the prop "bsSize" instead of the "size" to bootstrap's input sizing.`),u=b.size,delete b.size);var F=Kt(Rt(i,f&&"is-invalid",d&&"is-valid",u?T?"form-select-".concat(u):"form-control-".concat(u):!1,D),o);return(P==="input"||m&&typeof m=="function")&&(b.type=c==="switch"?"checkbox":c),b.children&&!(y||c==="select"||typeof P!="string"||P==="select")&&(a2('Input with a type of "'.concat(c,'" cannot have children. Please use "value"/"defaultValue" instead.')),delete b.children),ae.createElement(P,dD({},b,{ref:_,className:F,"aria-invalid":f}))}}]),n}(ae.Component);ie.propTypes=l1e;var c1e=["className","cssModule","tag","type","size"];function uT(){return uT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uT.apply(this,arguments)}function u1e(t,e){if(t==null)return{};var n=d1e(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function d1e(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var h1e={className:R.string,cssModule:R.object,size:R.string,tag:Kn,type:R.string};function Pv(t){var e=t.className,n=t.cssModule,r=t.tag,s=r===void 0?"div":r;t.type;var i=t.size,o=u1e(t,c1e),l=Kt(Rt(e,"input-group",i?"input-group-".concat(i):null),n);return t.type==="dropdown"?ae.createElement(Zc,uT({},o,{className:l})):ae.createElement($Y.Provider,{value:{insideInputGroup:!0}},ae.createElement(s,uT({},o,{className:l})))}Pv.propTypes=h1e;var f1e=["className","cssModule","tag"];function mD(){return mD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mD.apply(this,arguments)}function m1e(t,e){if(t==null)return{};var n=p1e(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p1e(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var g1e={className:R.string,cssModule:R.object,tag:Kn};function dx(t){var e=t.className,n=t.cssModule,r=t.tag,s=r===void 0?"span":r,i=m1e(t,f1e),o=Kt(Rt(e,"input-group-text"),n);return ae.createElement(s,mD({},i,{className:o}))}dx.propTypes=g1e;var y1e=["className","cssModule","hidden","widths","tag","check","size","for"];function pD(){return pD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pD.apply(this,arguments)}function AO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v1e(t,e){if(t==null)return{};var n=b1e(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function b1e(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var _1e=["xs","sm","md","lg","xl","xxl"],NO=R.oneOfType([R.number,R.string]),Zg=R.oneOfType([R.bool,R.string,R.number,R.shape({size:NO,order:NO,offset:NO})]),w1e={children:R.node,hidden:R.bool,check:R.bool,size:R.string,for:R.string,tag:Kn,className:R.string,cssModule:R.object,xs:Zg,sm:Zg,md:Zg,lg:Zg,xl:Zg,xxl:Zg,widths:R.array},uz=function(e,n,r){return r===!0||r===""?e?"col":"col-".concat(n):r==="auto"?e?"col-auto":"col-".concat(n,"-auto"):e?"col-".concat(r):"col-".concat(n,"-").concat(r)};function ee(t){var e=t.className,n=t.cssModule,r=t.hidden,s=t.widths,i=s===void 0?_1e:s,o=t.tag,l=o===void 0?"label":o,c=t.check,u=t.size,d=t.for,f=v1e(t,y1e),m=[];i.forEach(function(b,x){var w=t[b];if(delete f[b],!(!w&&w!=="")){var E=!x,T;if(M$(w)){var N,P=E?"-":"-".concat(b,"-");T=uz(E,b,w.size),m.push(Kt(Rt((N={},AO(N,T,w.size||w.size===""),AO(N,"order".concat(P).concat(w.order),w.order||w.order===0),AO(N,"offset".concat(P).concat(w.offset),w.offset||w.offset===0),N))),n)}else T=uz(E,b,w),m.push(T)}});var p=u||m.length,y=!(c||p),_=Kt(Rt(e,r?"visually-hidden":!1,c?"form-check-label":!1,u?"col-form-label-".concat(u):!1,m,p?"col-form-label":!1,y?"form-label":!1),n);return ae.createElement(l,pD({htmlFor:d},f,{className:_}))}ee.propTypes=w1e;var JY=ae.createContext({});function gD(t){"@babel/helpers - typeof";return gD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gD(t)}function yD(){return yD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yD.apply(this,arguments)}function x1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E1e(t,e,n){return e&&dz(t.prototype,e),n&&dz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function S1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vD(t,e)}function vD(t,e){return vD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},vD(t,e)}function j1e(t){var e=A1e();return function(){var r=dT(t),s;if(e){var i=dT(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return T1e(this,s)}}function T1e(t,e){if(e&&(gD(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C1e(t)}function C1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A1e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function dT(t){return dT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dT(t)}var QY={tag:Kn,activeTab:R.any,className:R.string,cssModule:R.object},K$=function(t){S1e(n,t);var e=j1e(n);function n(r){var s;return x1e(this,n),s=e.call(this,r),s.state={activeTab:s.props.activeTab},s}return E1e(n,[{key:"render",value:function(){var s=this.props,i=s.className,o=s.cssModule,l=s.tag,c=l===void 0?"div":l,u=ah(this.props,Object.keys(QY)),d=Kt(Rt("tab-content",i),o);return ae.createElement(JY.Provider,{value:{activeTabId:this.state.activeTab}},ae.createElement(c,yD({},u,{className:d})))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return i.activeTab!==s.activeTab?{activeTab:s.activeTab}:null}}]),n}(C.Component);K$.propTypes=QY;var N1e=["className","cssModule","tabId","tag"];function bD(){return bD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bD.apply(this,arguments)}function I1e(t,e){if(t==null)return{};var n=k1e(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function k1e(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var O1e={tag:Kn,className:R.string,cssModule:R.object,tabId:R.any};function Pd(t){var e=t.className,n=t.cssModule,r=t.tabId,s=t.tag,i=s===void 0?"div":s,o=I1e(t,N1e),l=function(u){return Kt(Rt("tab-pane",e,{active:r===u}),n)};return ae.createElement(JY.Consumer,null,function(c){var u=c.activeTabId;return ae.createElement(i,bD({},o,{className:l(u)}))})}Pd.propTypes=O1e;var R1e=["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"];function _D(){return _D=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_D.apply(this,arguments)}function hz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function v_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hz(Object(n),!0).forEach(function(r){P1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P1e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D1e(t,e){if(t==null)return{};var n=L1e(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function L1e(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var M1e={children:R.node,className:R.string,closeClassName:R.string,closeAriaLabel:R.string,color:R.string,cssModule:R.object,fade:R.bool,innerRef:R.oneOfType([R.object,R.string,R.func]),isOpen:R.bool,tag:Kn,toggle:R.func,transition:R.shape(Ya.propTypes)};function tr(t){var e=t.className,n=t.closeClassName,r=t.closeAriaLabel,s=r===void 0?"Close":r,i=t.cssModule,o=t.tag,l=o===void 0?"div":o,c=t.color,u=c===void 0?"success":c,d=t.isOpen,f=d===void 0?!0:d,m=t.toggle,p=t.children,y=t.transition,_=y===void 0?v_(v_({},Ya.defaultProps),{},{unmountOnExit:!0}):y,b=t.fade,x=b===void 0?!0:b,w=t.innerRef,E=D1e(t,R1e),T=Kt(Rt(e,"alert","alert-".concat(u),{"alert-dismissible":m}),i),N=Kt(Rt("btn-close",n),i),P=v_(v_(v_({},Ya.defaultProps),_),{},{baseClass:x?_.baseClass:"",timeout:x?_.timeout:0});return ae.createElement(Ya,_D({},E,P,{tag:l,className:T,in:f,role:"alert",innerRef:w}),m?ae.createElement("button",{type:"button",className:N,"aria-label":s,onClick:m}):null,p)}tr.propTypes=M1e;function wD(t){"@babel/helpers - typeof";return wD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wD(t)}function fz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function $1e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fz(Object(n),!0).forEach(function(r){F1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F1e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xD(){return xD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xD.apply(this,arguments)}function V1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function B1e(t,e,n){return e&&U1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function z1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ED(t,e)}function ED(t,e){return ED=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},ED(t,e)}function W1e(t){var e=H1e();return function(){var r=hT(t),s;if(e){var i=hT(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return G1e(this,s)}}function G1e(t,e){if(e&&(wD(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZY(t)}function ZY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H1e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hT(t){return hT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hT(t)}var q1e=["defaultOpen"],XY=function(t){z1e(n,t);var e=W1e(n);function n(r){var s;return V1e(this,n),s=e.call(this,r),s.state={isOpen:r.defaultOpen||!1},s.toggle=s.toggle.bind(ZY(s)),s}return B1e(n,[{key:"toggle",value:function(s){var i=this;this.setState(function(o){return{isOpen:!o.isOpen}},function(){i.props.onToggle&&i.props.onToggle(s,i.state.isOpen)})}},{key:"render",value:function(){return ae.createElement(Zc,xD({isOpen:this.state.isOpen,toggle:this.toggle},ah(this.props,q1e)))}}]),n}(C.Component);XY.propTypes=$1e({defaultOpen:R.bool,onToggle:R.func},Zc.propTypes);function SD(t){"@babel/helpers - typeof";return SD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SD(t)}function mz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Y1e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mz(Object(n),!0).forEach(function(r){K1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K1e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jD(){return jD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jD.apply(this,arguments)}function J1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z1e(t,e,n){return e&&Q1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function X1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TD(t,e)}function TD(t,e){return TD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},TD(t,e)}function eTe(t){var e=nTe();return function(){var r=fT(t),s;if(e){var i=fT(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return tTe(this,s)}}function tTe(t,e){if(e&&(SD(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eK(t)}function eK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nTe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fT(t){return fT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fT(t)}var rTe=["defaultOpen"],_f=function(t){X1e(n,t);var e=eTe(n);function n(r){var s;return J1e(this,n),s=e.call(this,r),s.state={isOpen:r.defaultOpen||!1},s.toggle=s.toggle.bind(eK(s)),s}return Z1e(n,[{key:"toggle",value:function(){this.setState(function(s){return{isOpen:!s.isOpen}})}},{key:"render",value:function(){return ae.createElement(sA,jD({isOpen:this.state.isOpen,toggle:this.toggle},ah(this.props,rTe)))}}]),n}(C.Component);_f.propTypes=Y1e({defaultOpen:R.bool},sA.propTypes);var sTe=["className","cssModule","type","size","color","children","tag"];function CD(){return CD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CD.apply(this,arguments)}function iTe(t,e){if(t==null)return{};var n=aTe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aTe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var oTe={tag:Kn,type:R.oneOf(["border","grow"]),size:R.oneOf(["sm"]),color:R.oneOf(["primary","secondary","success","danger","warning","info","light","dark"]),className:R.string,cssModule:R.object,children:R.string};function Wn(t){var e=t.className,n=t.cssModule,r=t.type,s=r===void 0?"border":r,i=t.size,o=t.color,l=t.children,c=l===void 0?"Loading...":l,u=t.tag,d=u===void 0?"div":u,f=iTe(t,sTe),m=Kt(Rt(e,i?"spinner-".concat(s,"-").concat(i):!1,"spinner-".concat(s),o?"text-".concat(o):!1),n);return ae.createElement(d,CD({role:"status"},f,{className:m}),c&&ae.createElement("span",{className:Kt("visually-hidden",n)},c))}Wn.propTypes=oTe;const tK=t=>a.jsx(pe,{children:a.jsx(M,{xs:"12",children:a.jsxs("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:[a.jsx("h4",{className:"mb-0 font-size-18",children:t.breadcrumbItem}),a.jsx("div",{className:"page-title-right",children:a.jsxs("ol",{className:"breadcrumb m-0",children:[a.jsx(g2,{children:a.jsx(Ce,{to:"#",children:t.title})}),a.jsx(g2,{active:!0,children:t.breadcrumbItem})]})})]})})});tK.propTypes={breadcrumbItem:R.string,title:R.string};const lTe=({member:t,loading:e})=>{var o;if(e||!t)return console.log(" MemberCard: Still loading or no member data"),a.jsx(Ct,{children:a.jsx(At,{children:a.jsx("p",{className:"text-center",children:"  ..."})})});const r=(l=>{if(!l)return null;const c=new Date,d=new Date(l)-c;return Math.ceil(d/(1e3*60*60*24))})(t.license_expire_date),i=(l=>l?l<0?"danger":l<=30?"warning":"success":"secondary")(r);return a.jsx(Ct,{children:a.jsxs(At,{children:[a.jsxs("div",{className:"d-flex",children:[a.jsx("div",{className:"flex-shrink-0 me-3",children:a.jsx("img",{src:((o=t.member_image)==null?void 0:o.url)||"/default-avatar.png",alt:t.full_name,className:"avatar-md rounded-circle"})}),a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h5",{className:"font-size-16 mb-1",children:t.full_name}),a.jsxs("p",{className:"text-muted mb-2",children:[" : ",t.member_code]}),a.jsxs("p",{className:"text-muted mb-0",children:[": ",t.mobile]})]})]}),a.jsx("hr",{}),a.jsxs(pe,{children:[a.jsx(M,{xs:"6",children:a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"text-muted mb-1",children:"   "}),a.jsx("h6",{className:"font-size-14",children:t.business_name||" "})]})}),a.jsx(M,{xs:"6",children:a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"text-muted mb-1",children:" "}),a.jsx("h6",{className:"font-size-14",children:t.license_number||""})]})})]}),a.jsxs(pe,{children:[a.jsx(M,{xs:"6",children:a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"text-muted mb-1",children:"  "}),a.jsx("h6",{className:"font-size-14",children:t.license_issue_date?new Date(t.license_issue_date).toLocaleDateString("fa-IR"):""})]})}),a.jsx(M,{xs:"6",children:a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"text-muted mb-1",children:" "}),a.jsx("h6",{className:"font-size-14",children:t.license_expire_date?new Date(t.license_expire_date).toLocaleDateString("fa-IR"):""})]})})]}),r!==null&&a.jsx("div",{className:"mt-3",children:a.jsx("div",{className:`alert alert-${i} mb-0`,role:"alert",children:a.jsx("strong",{children:r<0?`   (${Math.abs(r)}  )`:`${r}    `})})}),a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"text-muted mb-1",children:""}),a.jsx("p",{className:"font-size-14",children:t.address||" "})]})]})})},cTe=({requests:t})=>{const e=t.length,n=t.filter(i=>i.status==="pending").length,r=t.filter(i=>i.status==="approved").length,s=t.filter(i=>i.status==="rejected").length;return a.jsx(Ct,{children:a.jsxs(At,{children:[a.jsx("h4",{className:"mb-4",children:"  "}),a.jsxs(pe,{children:[a.jsx(M,{md:"4",children:a.jsxs("div",{className:"mini-stats-wid",children:[a.jsx("p",{className:"text-muted mb-2",children:" "}),a.jsx("h4",{children:e})]})}),a.jsx(M,{md:"4",children:a.jsxs("div",{className:"mini-stats-wid",children:[a.jsx("p",{className:"text-muted mb-2",children:"  "}),a.jsx("h4",{className:"text-warning",children:n})]})}),a.jsx(M,{md:"4",children:a.jsxs("div",{className:"mini-stats-wid",children:[a.jsx("p",{className:"text-muted mb-2",children:" "}),a.jsx("h4",{className:"text-success",children:r})]})}),a.jsx(M,{md:"4",className:"mt-3",children:a.jsxs("div",{className:"mini-stats-wid",children:[a.jsx("p",{className:"text-muted mb-2",children:" "}),a.jsx("h4",{className:"text-danger",children:s})]})})]})]})})},uTe={fuel:" ",license:" ",dispute:"  ",other:" "},dTe={pending:"  ",approved:" ",rejected:" "},hTe=({requests:t})=>a.jsx(Ct,{children:a.jsxs(At,{children:[a.jsx("h4",{className:"mb-4",children:"  "}),a.jsxs(Yn,{className:"table table-striped",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsxs("tbody",{children:[t==null?void 0:t.map((e,n)=>a.jsxs("tr",{children:[a.jsx("td",{children:uTe[e.type]}),a.jsx("td",{children:e.description||"-"}),a.jsx("td",{children:dTe[e.status]}),a.jsx("td",{children:new Date(e.createdAt).toLocaleDateString("fa-IR")})]},n)),(!t||t.length===0)&&a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"text-center",children:"     "})})]})]})]})});function nK(t,e){return function(){return t.apply(e,arguments)}}const{toString:fTe}=Object.prototype,{getPrototypeOf:J$}=Object,iA=(t=>e=>{const n=fTe.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),rd=t=>(t=t.toLowerCase(),e=>iA(e)===t),aA=t=>e=>typeof e===t,{isArray:fb}=Array,hx=aA("undefined");function mTe(t){return t!==null&&!hx(t)&&t.constructor!==null&&!hx(t.constructor)&&fc(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const rK=rd("ArrayBuffer");function pTe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&rK(t.buffer),e}const gTe=aA("string"),fc=aA("function"),sK=aA("number"),oA=t=>t!==null&&typeof t=="object",yTe=t=>t===!0||t===!1,Vj=t=>{if(iA(t)!=="object")return!1;const e=J$(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},vTe=rd("Date"),bTe=rd("File"),_Te=rd("Blob"),wTe=rd("FileList"),xTe=t=>oA(t)&&fc(t.pipe),ETe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||fc(t.append)&&((e=iA(t))==="formdata"||e==="object"&&fc(t.toString)&&t.toString()==="[object FormData]"))},STe=rd("URLSearchParams"),jTe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _0(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),fb(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(r=0;r<o;r++)l=i[r],e.call(null,t[l],l,t)}}function iK(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const aK=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,oK=t=>!hx(t)&&t!==aK;function AD(){const{caseless:t}=oK(this)&&this||{},e={},n=(r,s)=>{const i=t&&iK(e,s)||s;Vj(e[i])&&Vj(r)?e[i]=AD(e[i],r):Vj(r)?e[i]=AD({},r):fb(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&_0(arguments[r],n);return e}const TTe=(t,e,n,{allOwnKeys:r}={})=>(_0(e,(s,i)=>{n&&fc(s)?t[i]=nK(s,n):t[i]=s},{allOwnKeys:r}),t),CTe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),ATe=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},NTe=(t,e,n,r)=>{let s,i,o;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&J$(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},ITe=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},kTe=t=>{if(!t)return null;if(fb(t))return t;let e=t.length;if(!sK(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},OTe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&J$(Uint8Array)),RTe=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},PTe=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},DTe=rd("HTMLFormElement"),LTe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),pz=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),MTe=rd("RegExp"),lK=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};_0(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},$Te=t=>{lK(t,(e,n)=>{if(fc(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(fc(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},FTe=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return fb(t)?r(t):r(String(t).split(e)),n},VTe=()=>{},UTe=(t,e)=>(t=+t,Number.isFinite(t)?t:e),IO="abcdefghijklmnopqrstuvwxyz",gz="0123456789",cK={DIGIT:gz,ALPHA:IO,ALPHA_DIGIT:IO+IO.toUpperCase()+gz},BTe=(t=16,e=cK.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function zTe(t){return!!(t&&fc(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const WTe=t=>{const e=new Array(10),n=(r,s)=>{if(oA(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=fb(r)?[]:{};return _0(r,(o,l)=>{const c=n(o,s+1);!hx(c)&&(i[l]=c)}),e[s]=void 0,i}}return r};return n(t,0)},GTe=rd("AsyncFunction"),HTe=t=>t&&(oA(t)||fc(t))&&fc(t.then)&&fc(t.catch),Ve={isArray:fb,isArrayBuffer:rK,isBuffer:mTe,isFormData:ETe,isArrayBufferView:pTe,isString:gTe,isNumber:sK,isBoolean:yTe,isObject:oA,isPlainObject:Vj,isUndefined:hx,isDate:vTe,isFile:bTe,isBlob:_Te,isRegExp:MTe,isFunction:fc,isStream:xTe,isURLSearchParams:STe,isTypedArray:OTe,isFileList:wTe,forEach:_0,merge:AD,extend:TTe,trim:jTe,stripBOM:CTe,inherits:ATe,toFlatObject:NTe,kindOf:iA,kindOfTest:rd,endsWith:ITe,toArray:kTe,forEachEntry:RTe,matchAll:PTe,isHTMLForm:DTe,hasOwnProperty:pz,hasOwnProp:pz,reduceDescriptors:lK,freezeMethods:$Te,toObjectSet:FTe,toCamelCase:LTe,noop:VTe,toFiniteNumber:UTe,findKey:iK,global:aK,isContextDefined:oK,ALPHABET:cK,generateString:BTe,isSpecCompliantForm:zTe,toJSONObject:WTe,isAsyncFn:GTe,isThenable:HTe};function dr(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}Ve.inherits(dr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ve.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const uK=dr.prototype,dK={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{dK[t]={value:t}});Object.defineProperties(dr,dK);Object.defineProperty(uK,"isAxiosError",{value:!0});dr.from=(t,e,n,r,s,i)=>{const o=Object.create(uK);return Ve.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),dr.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const qTe=null;function ND(t){return Ve.isPlainObject(t)||Ve.isArray(t)}function hK(t){return Ve.endsWith(t,"[]")?t.slice(0,-2):t}function yz(t,e,n){return t?t.concat(e).map(function(s,i){return s=hK(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function YTe(t){return Ve.isArray(t)&&!t.some(ND)}const KTe=Ve.toFlatObject(Ve,{},null,function(e){return/^is[A-Z]/.test(e)});function lA(t,e,n){if(!Ve.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Ve.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,b){return!Ve.isUndefined(b[_])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&Ve.isSpecCompliantForm(e);if(!Ve.isFunction(s))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(Ve.isDate(y))return y.toISOString();if(!c&&Ve.isBlob(y))throw new dr("Blob is not supported. Use a Buffer instead.");return Ve.isArrayBuffer(y)||Ve.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,_,b){let x=y;if(y&&!b&&typeof y=="object"){if(Ve.endsWith(_,"{}"))_=r?_:_.slice(0,-2),y=JSON.stringify(y);else if(Ve.isArray(y)&&YTe(y)||(Ve.isFileList(y)||Ve.endsWith(_,"[]"))&&(x=Ve.toArray(y)))return _=hK(_),x.forEach(function(E,T){!(Ve.isUndefined(E)||E===null)&&e.append(o===!0?yz([_],T,i):o===null?_:_+"[]",u(E))}),!1}return ND(y)?!0:(e.append(yz(b,_,i),u(y)),!1)}const f=[],m=Object.assign(KTe,{defaultVisitor:d,convertValue:u,isVisitable:ND});function p(y,_){if(!Ve.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+_.join("."));f.push(y),Ve.forEach(y,function(x,w){(!(Ve.isUndefined(x)||x===null)&&s.call(e,x,Ve.isString(w)?w.trim():w,_,m))===!0&&p(x,_?_.concat(w):[w])}),f.pop()}}if(!Ve.isObject(t))throw new TypeError("data must be an object");return p(t),e}function vz(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Q$(t,e){this._pairs=[],t&&lA(t,this,e)}const fK=Q$.prototype;fK.append=function(e,n){this._pairs.push([e,n])};fK.toString=function(e){const n=e?function(r){return e.call(this,r,vz)}:vz;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function JTe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mK(t,e,n){if(!e)return t;const r=n&&n.encode||JTe,s=n&&n.serialize;let i;if(s?i=s(e,n):i=Ve.isURLSearchParams(e)?e.toString():new Q$(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class bz{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ve.forEach(this.handlers,function(r){r!==null&&e(r)})}}const pK={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},QTe=typeof URLSearchParams<"u"?URLSearchParams:Q$,ZTe=typeof FormData<"u"?FormData:null,XTe=typeof Blob<"u"?Blob:null,eCe={isBrowser:!0,classes:{URLSearchParams:QTe,FormData:ZTe,Blob:XTe},protocols:["http","https","file","blob","url","data"]},gK=typeof window<"u"&&typeof document<"u",tCe=(t=>gK&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),nCe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rCe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:gK,hasStandardBrowserEnv:tCe,hasStandardBrowserWebWorkerEnv:nCe},Symbol.toStringTag,{value:"Module"})),$u={...rCe,...eCe};function sCe(t,e){return lA(t,new $u.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return $u.isNode&&Ve.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function iCe(t){return Ve.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function aCe(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function yK(t){function e(n,r,s,i){let o=n[i++];const l=Number.isFinite(+o),c=i>=n.length;return o=!o&&Ve.isArray(s)?s.length:o,c?(Ve.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!l):((!s[o]||!Ve.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&Ve.isArray(s[o])&&(s[o]=aCe(s[o])),!l)}if(Ve.isFormData(t)&&Ve.isFunction(t.entries)){const n={};return Ve.forEachEntry(t,(r,s)=>{e(iCe(r),s,n,0)}),n}return null}function oCe(t,e,n){if(Ve.isString(t))try{return(e||JSON.parse)(t),Ve.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const w0={transitional:pK,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=Ve.isObject(e);if(i&&Ve.isHTMLForm(e)&&(e=new FormData(e)),Ve.isFormData(e))return s&&s?JSON.stringify(yK(e)):e;if(Ve.isArrayBuffer(e)||Ve.isBuffer(e)||Ve.isStream(e)||Ve.isFile(e)||Ve.isBlob(e))return e;if(Ve.isArrayBufferView(e))return e.buffer;if(Ve.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return sCe(e,this.formSerializer).toString();if((l=Ve.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return lA(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),oCe(e)):e}],transformResponse:[function(e){const n=this.transitional||w0.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&Ve.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?dr.from(l,dr.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$u.classes.FormData,Blob:$u.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ve.forEach(["delete","get","head","post","put","patch"],t=>{w0.headers[t]={}});const lCe=Ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cCe=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&lCe[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},_z=Symbol("internals");function b_(t){return t&&String(t).trim().toLowerCase()}function Uj(t){return t===!1||t==null?t:Ve.isArray(t)?t.map(Uj):String(t)}function uCe(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const dCe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function kO(t,e,n,r,s){if(Ve.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!Ve.isString(e)){if(Ve.isString(r))return e.indexOf(r)!==-1;if(Ve.isRegExp(r))return r.test(e)}}function hCe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function fCe(t,e){const n=Ve.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}let mc=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(l,c,u){const d=b_(c);if(!d)throw new Error("header name must be a non-empty string");const f=Ve.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=Uj(l))}const o=(l,c)=>Ve.forEach(l,(u,d)=>i(u,d,c));return Ve.isPlainObject(e)||e instanceof this.constructor?o(e,n):Ve.isString(e)&&(e=e.trim())&&!dCe(e)?o(cCe(e),n):e!=null&&i(n,e,r),this}get(e,n){if(e=b_(e),e){const r=Ve.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return uCe(s);if(Ve.isFunction(n))return n.call(this,s,r);if(Ve.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=b_(e),e){const r=Ve.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||kO(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=b_(o),o){const l=Ve.findKey(r,o);l&&(!n||kO(r,r[l],l,n))&&(delete r[l],s=!0)}}return Ve.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||kO(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return Ve.forEach(this,(s,i)=>{const o=Ve.findKey(r,i);if(o){n[o]=Uj(s),delete n[i];return}const l=e?hCe(i):String(i).trim();l!==i&&delete n[i],n[l]=Uj(s),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Ve.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&Ve.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[_z]=this[_z]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=b_(o);r[l]||(fCe(s,o),r[l]=!0)}return Ve.isArray(e)?e.forEach(i):i(e),this}};mc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ve.reduceDescriptors(mc.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Ve.freezeMethods(mc);function OO(t,e){const n=this||w0,r=e||n,s=mc.from(r.headers);let i=r.data;return Ve.forEach(t,function(l){i=l.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function vK(t){return!!(t&&t.__CANCEL__)}function x0(t,e,n){dr.call(this,t??"canceled",dr.ERR_CANCELED,e,n),this.name="CanceledError"}Ve.inherits(x0,dr,{__CANCEL__:!0});function mCe(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new dr("Request failed with status code "+n.status,[dr.ERR_BAD_REQUEST,dr.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const pCe=$u.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const o=[t+"="+encodeURIComponent(e)];Ve.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ve.isString(r)&&o.push("path="+r),Ve.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gCe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function yCe(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function bK(t,e){return t&&!gCe(e)?yCe(t,e):e}const vCe=$u.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const l=Ve.isString(o)?s(o):o;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function bCe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function _Ce(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=r[i];o||(o=u),n[s]=c,r[s]=u;let f=i,m=0;for(;f!==s;)m+=n[f++],f=f%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-o<e)return;const p=d&&u-d;return p?Math.round(m*1e3/p):void 0}}function wz(t,e){let n=0;const r=_Ce(50,250);return s=>{const i=s.loaded,o=s.lengthComputable?s.total:void 0,l=i-n,c=r(l),u=i<=o;n=i;const d={loaded:i,total:o,progress:o?i/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&u?(o-i)/c:void 0,event:s};d[e?"download":"upload"]=!0,t(d)}}const wCe=typeof XMLHttpRequest<"u",xCe=wCe&&function(t){return new Promise(function(n,r){let s=t.data;const i=mc.from(t.headers).normalize();let{responseType:o,withXSRFToken:l}=t,c;function u(){t.cancelToken&&t.cancelToken.unsubscribe(c),t.signal&&t.signal.removeEventListener("abort",c)}let d;if(Ve.isFormData(s)){if($u.hasStandardBrowserEnv||$u.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if((d=i.getContentType())!==!1){const[_,...b]=d?d.split(";").map(x=>x.trim()).filter(Boolean):[];i.setContentType([_||"multipart/form-data",...b].join("; "))}}let f=new XMLHttpRequest;if(t.auth){const _=t.auth.username||"",b=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(_+":"+b))}const m=bK(t.baseURL,t.url);f.open(t.method.toUpperCase(),mK(m,t.params,t.paramsSerializer),!0),f.timeout=t.timeout;function p(){if(!f)return;const _=mc.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),x={data:!o||o==="text"||o==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:_,config:t,request:f};mCe(function(E){n(E),u()},function(E){r(E),u()},x),f=null}if("onloadend"in f?f.onloadend=p:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(p)},f.onabort=function(){f&&(r(new dr("Request aborted",dr.ECONNABORTED,t,f)),f=null)},f.onerror=function(){r(new dr("Network Error",dr.ERR_NETWORK,t,f)),f=null},f.ontimeout=function(){let b=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const x=t.transitional||pK;t.timeoutErrorMessage&&(b=t.timeoutErrorMessage),r(new dr(b,x.clarifyTimeoutError?dr.ETIMEDOUT:dr.ECONNABORTED,t,f)),f=null},$u.hasStandardBrowserEnv&&(l&&Ve.isFunction(l)&&(l=l(t)),l||l!==!1&&vCe(m))){const _=t.xsrfHeaderName&&t.xsrfCookieName&&pCe.read(t.xsrfCookieName);_&&i.set(t.xsrfHeaderName,_)}s===void 0&&i.setContentType(null),"setRequestHeader"in f&&Ve.forEach(i.toJSON(),function(b,x){f.setRequestHeader(x,b)}),Ve.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),o&&o!=="json"&&(f.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&f.addEventListener("progress",wz(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",wz(t.onUploadProgress)),(t.cancelToken||t.signal)&&(c=_=>{f&&(r(!_||_.type?new x0(null,t,f):_),f.abort(),f=null)},t.cancelToken&&t.cancelToken.subscribe(c),t.signal&&(t.signal.aborted?c():t.signal.addEventListener("abort",c)));const y=bCe(m);if(y&&$u.protocols.indexOf(y)===-1){r(new dr("Unsupported protocol "+y+":",dr.ERR_BAD_REQUEST,t));return}f.send(s||null)})},ID={http:qTe,xhr:xCe};Ve.forEach(ID,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const xz=t=>`- ${t}`,ECe=t=>Ve.isFunction(t)||t===null||t===!1,_K={getAdapter:t=>{t=Ve.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let o;if(r=n,!ECe(n)&&(r=ID[(o=String(n)).toLowerCase()],r===void 0))throw new dr(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(xz).join(`
`):" "+xz(i[0]):"as no adapter specified";throw new dr("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:ID};function RO(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new x0(null,t)}function Ez(t){return RO(t),t.headers=mc.from(t.headers),t.data=OO.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),_K.getAdapter(t.adapter||w0.adapter)(t).then(function(r){return RO(t),r.data=OO.call(t,t.transformResponse,r),r.headers=mc.from(r.headers),r},function(r){return vK(r)||(RO(t),r&&r.response&&(r.response.data=OO.call(t,t.transformResponse,r.response),r.response.headers=mc.from(r.response.headers))),Promise.reject(r)})}const Sz=t=>t instanceof mc?t.toJSON():t;function Dv(t,e){e=e||{};const n={};function r(u,d,f){return Ve.isPlainObject(u)&&Ve.isPlainObject(d)?Ve.merge.call({caseless:f},u,d):Ve.isPlainObject(d)?Ve.merge({},d):Ve.isArray(d)?d.slice():d}function s(u,d,f){if(Ve.isUndefined(d)){if(!Ve.isUndefined(u))return r(void 0,u,f)}else return r(u,d,f)}function i(u,d){if(!Ve.isUndefined(d))return r(void 0,d)}function o(u,d){if(Ve.isUndefined(d)){if(!Ve.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,f){if(f in e)return r(u,d);if(f in t)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d)=>s(Sz(u),Sz(d),!0)};return Ve.forEach(Object.keys(Object.assign({},t,e)),function(d){const f=c[d]||s,m=f(t[d],e[d],d);Ve.isUndefined(m)&&f!==l||(n[d]=m)}),n}const wK="1.6.2",Z$={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Z$[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const jz={};Z$.transitional=function(e,n,r){function s(i,o){return"[Axios v"+wK+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(e===!1)throw new dr(s(o," has been removed"+(n?" in "+n:"")),dr.ERR_DEPRECATED);return n&&!jz[o]&&(jz[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,l):!0}};function SCe(t,e,n){if(typeof t!="object")throw new dr("options must be an object",dr.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const l=t[i],c=l===void 0||o(l,i,t);if(c!==!0)throw new dr("option "+i+" must be "+c,dr.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new dr("Unknown option "+i,dr.ERR_BAD_OPTION)}}const kD={assertOptions:SCe,validators:Z$},Oh=kD.validators;let yp=class{constructor(e){this.defaults=e,this.interceptors={request:new bz,response:new bz}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Dv(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&kD.assertOptions(r,{silentJSONParsing:Oh.transitional(Oh.boolean),forcedJSONParsing:Oh.transitional(Oh.boolean),clarifyTimeoutError:Oh.transitional(Oh.boolean)},!1),s!=null&&(Ve.isFunction(s)?n.paramsSerializer={serialize:s}:kD.assertOptions(s,{encode:Oh.function,serialize:Oh.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&Ve.merge(i.common,i[n.method]);i&&Ve.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),n.headers=mc.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(c=c&&_.synchronous,l.unshift(_.fulfilled,_.rejected))});const u=[];this.interceptors.response.forEach(function(_){u.push(_.fulfilled,_.rejected)});let d,f=0,m;if(!c){const y=[Ez.bind(this),void 0];for(y.unshift.apply(y,l),y.push.apply(y,u),m=y.length,d=Promise.resolve(n);f<m;)d=d.then(y[f++],y[f++]);return d}m=l.length;let p=n;for(f=0;f<m;){const y=l[f++],_=l[f++];try{p=y(p)}catch(b){_.call(this,b);break}}try{d=Ez.call(this,p)}catch(y){return Promise.reject(y)}for(f=0,m=u.length;f<m;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=Dv(this.defaults,e);const n=bK(e.baseURL,e.url);return mK(n,e.params,e.paramsSerializer)}};Ve.forEach(["delete","get","head","options"],function(e){yp.prototype[e]=function(n,r){return this.request(Dv(r||{},{method:e,url:n,data:(r||{}).data}))}});Ve.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,l){return this.request(Dv(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}yp.prototype[e]=n(),yp.prototype[e+"Form"]=n(!0)});let jCe=class xK{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,l){r.reason||(r.reason=new x0(i,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new xK(function(s){e=s}),cancel:e}}};function TCe(t){return function(n){return t.apply(null,n)}}function CCe(t){return Ve.isObject(t)&&t.isAxiosError===!0}const OD={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(OD).forEach(([t,e])=>{OD[e]=t});function EK(t){const e=new yp(t),n=nK(yp.prototype.request,e);return Ve.extend(n,yp.prototype,e,{allOwnKeys:!0}),Ve.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return EK(Dv(t,s))},n}const ss=EK(w0);ss.Axios=yp;ss.CanceledError=x0;ss.CancelToken=jCe;ss.isCancel=vK;ss.VERSION=wK;ss.toFormData=lA;ss.AxiosError=dr;ss.Cancel=ss.CanceledError;ss.all=function(e){return Promise.all(e)};ss.spread=TCe;ss.isAxiosError=CCe;ss.mergeConfig=Dv;ss.AxiosHeaders=mc;ss.formToJSON=t=>yK(Ve.isHTMLForm(t)?new FormData(t):t);ss.getAdapter=_K.getAdapter;ss.HttpStatusCode=OD;ss.default=ss;const{Axios:ACe,AxiosError:NCe,CanceledError:ICe,isCancel:kCe,CancelToken:OCe,VERSION:RCe,all:PCe,Cancel:DCe,isAxiosError:LCe,spread:MCe,toFormData:$Ce,AxiosHeaders:FCe,HttpStatusCode:VCe,formToJSON:UCe,getAdapter:BCe,mergeConfig:zCe}=ss,WCe=Object.freeze(Object.defineProperty({__proto__:null,Axios:ACe,AxiosError:NCe,AxiosHeaders:FCe,Cancel:DCe,CancelToken:OCe,CanceledError:ICe,HttpStatusCode:VCe,VERSION:RCe,all:PCe,default:ss,formToJSON:UCe,getAdapter:BCe,isAxiosError:LCe,isCancel:kCe,mergeConfig:zCe,spread:MCe,toFormData:$Ce},Symbol.toStringTag,{value:"Module"})),RD="https://api.anbardaranrey.ir/api",GCe="https://api.anbardaranrey.ir",eg=ss.create({baseURL:RD,timeout:3e4});eg.interceptors.request.use(t=>{var s;const e=localStorage.getItem("authToken");e&&(t.headers.Authorization=`Bearer ${e}`);const n=(s=t.method)==null?void 0:s.toUpperCase(),r=t.url;return console.log(` ${n} ${r}`),n==="PUT"&&(r!=null&&r.includes("/receipts/"))&&(console.group(" DETECTED PUT /receipts "),console.log("URL:",r),console.log("DATA:",t.data),console.trace(" CALL STACK (WHO CALLED THIS PUT?)"),console.groupEnd()),t},t=>Promise.reject(t));eg.interceptors.response.use(t=>{var r;const e=(r=t.config.method)==null?void 0:r.toUpperCase(),n=t.config.url;return console.log(` ${e} ${n}`,t.status),t},t=>{var s,i,o,l,c;const e=(s=t.response)==null?void 0:s.status,n=(i=t.config)==null?void 0:i.url,r=(l=(o=t.config)==null?void 0:o.method)==null?void 0:l.toUpperCase();return console.group(" API RESPONSE ERROR"),console.error("METHOD:",r),console.error("URL:",n),console.error("STATUS:",e),console.error("DATA:",(c=t.response)==null?void 0:c.data),console.groupEnd(),e===401&&(localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(t)});const Bt=(t,e={})=>eg.get(t,e).then(n=>n.data),Br=(t,e={},n={})=>eg.post(t,e,n).then(r=>r.data),oh=(t,e={},n={})=>eg.put(t,e,n).then(r=>r.data),fx=(t,e={},n={})=>eg.patch(t,e,n).then(r=>r.data),pa=(t,e={})=>eg.delete(t,e).then(n=>n.data),HCe=()=>{const[t,e]=C.useState(null),[n,r]=C.useState([]),[s,i]=C.useState(!0),o=`${RD}/api`;C.useEffect(()=>{const c=localStorage.getItem("member"),u=localStorage.getItem("token");if(!c||!u)return;const d=JSON.parse(c);fetch(`${o}/members/${d.id}`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}}).then(f=>{if(!f.ok)throw new Error(`HTTP ${f.status}`);return f.json()}).then(f=>{e(f)}).catch(f=>{e(d)}).finally(()=>{l(d.id,u)})},[RD,o]);const l=(c,u)=>{fetch(`${o}/requests?where[member][equals]=${c}`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}}).then(d=>{if(!d.ok){if(d.status===404)return{docs:[]};throw new Error(`HTTP ${d.status}`)}return d.json()}).then(d=>{r(d.docs||[])}).catch(d=>{r([])}).finally(()=>{i(!1)})};return a.jsx("div",{className:"page-content",children:a.jsxs(An,{fluid:!0,children:[a.jsx(tK,{title:"",breadcrumbItem:" "}),a.jsxs(pe,{children:[a.jsx(M,{xl:"4",children:a.jsx(lTe,{member:t,loading:s})}),a.jsx(M,{xl:"8",children:a.jsx(cTe,{requests:n})})]}),a.jsx(pe,{children:a.jsx(M,{xl:"12",children:a.jsx(hTe,{requests:n})})})]})})},qCe=()=>{const[t,e]=C.useState([]),[n,r]=C.useState([]),[s,i]=C.useState(!0),[o,l]=C.useState(""),[c,u]=C.useState(""),[d,f]=C.useState(""),m=async()=>{i(!0),l("");try{const y=await Bt("/product-units"),_=Array.isArray(y)?y:(y==null?void 0:y.data)||[];e(_),r(_)}catch(y){console.error("Error loading units:",y),l("    ")}i(!1)};C.useEffect(()=>{m()},[]),C.useEffect(()=>{if(d.trim()==="")r(t);else{const y=t.filter(_=>_.name.toLowerCase().includes(d.toLowerCase())||_.symbol.toLowerCase().includes(d.toLowerCase()));r(y)}},[d,t]);const p=async(y,_)=>{if(window.confirm(`    "${_}"  `))try{const b=await pa(`/product-units/${y}`);e(x=>x.filter(w=>w.id!==y)),r(x=>x.filter(w=>w.id!==y)),u(` "${_}"    `),setTimeout(()=>u(""),3e3)}catch(b){console.error("Delete error:",b),l("   ")}};return a.jsx(ae.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsxs(An,{fluid:!0,children:[a.jsxs("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:[a.jsx("h4",{className:"mb-sm-0 font-size-18",children:" "}),a.jsx("div",{className:"page-title-right",children:a.jsxs("ol",{className:"breadcrumb m-0",children:[a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Ce,{to:"/dashboard",children:""})}),a.jsx("li",{className:"breadcrumb-item active",children:" "})]})})]}),a.jsx(pe,{children:a.jsx(M,{lg:12,children:a.jsx(Ct,{children:a.jsxs(At,{children:[a.jsxs("div",{className:"d-flex flex-wrap align-items-center justify-content-between mb-4",children:[a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx("div",{className:"avatar-sm me-3",children:a.jsx("div",{className:"avatar-title rounded-circle bg-soft-primary text-primary font-size-20",children:a.jsx("i",{className:"bx bx-layer"})})}),a.jsxs("div",{children:[a.jsx("h5",{className:"card-title mb-1",children:"  "}),a.jsx("p",{className:"text-muted mb-0",children:"   "})]})]}),a.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[a.jsxs(_e,{color:"light",className:"btn-label",onClick:m,disabled:s,children:[a.jsx("i",{className:"bx bx-refresh label-icon"}),""]}),a.jsxs(Ce,{to:"/inventory/add-unit",className:"btn btn-success btn-label",children:[a.jsx("i",{className:"bx bx-plus-circle label-icon"}),"  "]})]})]}),o&&a.jsxs(tr,{color:"danger",className:"alert-dismissible fade show",role:"alert",children:[a.jsx("i",{className:"mdi mdi-block-helper me-2"}),o,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>l("")})]}),c&&a.jsxs(tr,{color:"success",className:"alert-dismissible fade show",role:"alert",children:[a.jsx("i",{className:"mdi mdi-check-all me-2"}),c,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>u("")})]}),!s&&t.length>0&&a.jsxs(pe,{className:"mb-3",children:[a.jsx(M,{md:6,children:a.jsx("div",{className:"search-box",children:a.jsxs("div",{className:"position-relative",children:[a.jsx(ie,{type:"text",className:"form-control",placeholder:"     ...",value:d,onChange:y=>f(y.target.value)}),a.jsx("i",{className:"bx bx-search-alt search-icon"})]})})}),a.jsx(M,{md:6,className:"text-end",children:a.jsxs("div",{className:"text-muted",children:[" : ",a.jsx("strong",{children:t.length})," ",d&&a.jsxs(a.Fragment,{children:[" ","|  :"," ",a.jsx("strong",{children:n.length})]})]})})]}),s?a.jsxs("div",{className:"text-center py-5",children:[a.jsx(Wn,{color:"primary"}),a.jsx("div",{className:"mt-3",children:a.jsx("h5",{className:"text-muted",children:"  ..."})})]}):t.length===0?a.jsxs("div",{className:"text-center py-5",children:[a.jsx("div",{className:"avatar-lg mx-auto mb-4",children:a.jsx("div",{className:"avatar-title bg-soft-warning text-warning rounded-circle font-size-24",children:a.jsx("i",{className:"bx bx-info-circle"})})}),a.jsx("h5",{className:"text-muted",children:"    "}),a.jsx("p",{className:"text-muted",children:"     "}),a.jsxs(Ce,{to:"/inventory/add-unit",className:"btn btn-success mt-2",children:[a.jsx("i",{className:"bx bx-plus-circle me-1"}),"  "]})]}):n.length===0?a.jsxs("div",{className:"text-center py-5",children:[a.jsx("div",{className:"avatar-lg mx-auto mb-4",children:a.jsx("div",{className:"avatar-title bg-soft-info text-info rounded-circle font-size-24",children:a.jsx("i",{className:"bx bx-search"})})}),a.jsx("h5",{className:"text-muted",children:"  "}),a.jsx("p",{className:"text-muted",children:"     "}),a.jsx(_e,{color:"light",onClick:()=>f(""),children:"  "})]}):a.jsx("div",{className:"table-responsive",children:a.jsxs(Yn,{className:"table table-hover table-nowrap align-middle mb-0",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"60px"},children:"#"}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{style:{width:"100px"},children:""}),a.jsx("th",{style:{width:"120px"},className:"text-center",children:""})]})}),a.jsx("tbody",{children:n.map((y,_)=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("div",{className:"avatar-xs",children:a.jsx("span",{className:"avatar-title rounded-circle bg-soft-primary text-primary",children:_+1})})}),a.jsx("td",{children:a.jsx("h5",{className:"font-size-14 mb-0",children:y.name})}),a.jsx("td",{children:a.jsx(ct,{color:"info",className:"badge-soft-info font-size-12",pill:!0,children:y.symbol})}),a.jsx("td",{children:y.description?a.jsx("span",{className:"text-muted",children:y.description.length>50?y.description.substring(0,50)+"...":y.description}):a.jsx("span",{className:"text-muted",children:"-"})}),a.jsx("td",{children:y.is_active?a.jsxs(ct,{color:"success",className:"badge-soft-success",children:[a.jsx("i",{className:"bx bx-check-circle me-1"}),""]}):a.jsxs(ct,{color:"secondary",className:"badge-soft-secondary",children:[a.jsx("i",{className:"bx bx-x-circle me-1"}),""]})}),a.jsx("td",{className:"text-center",children:a.jsxs("div",{className:"d-flex gap-2 justify-content-center",children:[a.jsx(Ce,{to:`/inventory/edit-unit/${y.id}`,className:"btn btn-sm btn-soft-primary",children:a.jsx("i",{className:"bx bx-edit-alt"})}),a.jsx(_e,{size:"sm",color:"soft-danger",onClick:()=>p(y.id,y.name),children:a.jsx("i",{className:"bx bx-trash"})})]})})]},y.id))})]})})]})})})})]})})})};var YCe=function(e){return KCe(e)&&!JCe(e)};function KCe(t){return!!t&&typeof t=="object"}function JCe(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||XCe(t)}var QCe=typeof Symbol=="function"&&Symbol.for,ZCe=QCe?Symbol.for("react.element"):60103;function XCe(t){return t.$$typeof===ZCe}function eAe(t){return Array.isArray(t)?[]:{}}function mT(t,e){return e.clone!==!1&&e.isMergeableObject(t)?mx(eAe(t),t,e):t}function tAe(t,e,n){return t.concat(e).map(function(r){return mT(r,n)})}function nAe(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(s){r[s]=mT(t[s],n)}),Object.keys(e).forEach(function(s){!n.isMergeableObject(e[s])||!t[s]?r[s]=mT(e[s],n):r[s]=mx(t[s],e[s],n)}),r}function mx(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||tAe,n.isMergeableObject=n.isMergeableObject||YCe;var r=Array.isArray(e),s=Array.isArray(t),i=r===s;return i?r?n.arrayMerge(t,e,n):nAe(t,e,n):mT(e,n)}mx.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,s){return mx(r,s,n)},{})};var PD=mx,SK=typeof global=="object"&&global&&global.Object===Object&&global,rAe=typeof self=="object"&&self&&self.Object===Object&&self,iu=SK||rAe||Function("return this")(),If=iu.Symbol,jK=Object.prototype,sAe=jK.hasOwnProperty,iAe=jK.toString,__=If?If.toStringTag:void 0;function aAe(t){var e=sAe.call(t,__),n=t[__];try{t[__]=void 0;var r=!0}catch{}var s=iAe.call(t);return r&&(e?t[__]=n:delete t[__]),s}var oAe=Object.prototype,lAe=oAe.toString;function cAe(t){return lAe.call(t)}var uAe="[object Null]",dAe="[object Undefined]",Tz=If?If.toStringTag:void 0;function tg(t){return t==null?t===void 0?dAe:uAe:Tz&&Tz in Object(t)?aAe(t):cAe(t)}function TK(t,e){return function(n){return t(e(n))}}var X$=TK(Object.getPrototypeOf,Object);function ng(t){return t!=null&&typeof t=="object"}var hAe="[object Object]",fAe=Function.prototype,mAe=Object.prototype,CK=fAe.toString,pAe=mAe.hasOwnProperty,gAe=CK.call(Object);function Cz(t){if(!ng(t)||tg(t)!=hAe)return!1;var e=X$(t);if(e===null)return!0;var n=pAe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&CK.call(n)==gAe}var Az=Array.isArray,Nz=Object.keys,yAe=Object.prototype.hasOwnProperty,vAe=typeof Element<"u";function DD(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=Az(t),r=Az(e),s,i,o;if(n&&r){if(i=t.length,i!=e.length)return!1;for(s=i;s--!==0;)if(!DD(t[s],e[s]))return!1;return!0}if(n!=r)return!1;var l=t instanceof Date,c=e instanceof Date;if(l!=c)return!1;if(l&&c)return t.getTime()==e.getTime();var u=t instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==e.toString();var f=Nz(t);if(i=f.length,i!==Nz(e).length)return!1;for(s=i;s--!==0;)if(!yAe.call(e,f[s]))return!1;if(vAe&&t instanceof Element&&e instanceof Element)return t===e;for(s=i;s--!==0;)if(o=f[s],!(o==="_owner"&&t.$$typeof)&&!DD(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var bAe=function(e,n){try{return DD(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const $m=Ho(bAe);function _Ae(){this.__data__=[],this.size=0}function AK(t,e){return t===e||t!==t&&e!==e}function cA(t,e){for(var n=t.length;n--;)if(AK(t[n][0],e))return n;return-1}var wAe=Array.prototype,xAe=wAe.splice;function EAe(t){var e=this.__data__,n=cA(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():xAe.call(e,n,1),--this.size,!0}function SAe(t){var e=this.__data__,n=cA(e,t);return n<0?void 0:e[n][1]}function jAe(t){return cA(this.__data__,t)>-1}function TAe(t,e){var n=this.__data__,r=cA(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function lh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}lh.prototype.clear=_Ae;lh.prototype.delete=EAe;lh.prototype.get=SAe;lh.prototype.has=jAe;lh.prototype.set=TAe;function CAe(){this.__data__=new lh,this.size=0}function AAe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function NAe(t){return this.__data__.get(t)}function IAe(t){return this.__data__.has(t)}function Zd(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var kAe="[object AsyncFunction]",OAe="[object Function]",RAe="[object GeneratorFunction]",PAe="[object Proxy]";function NK(t){if(!Zd(t))return!1;var e=tg(t);return e==OAe||e==RAe||e==kAe||e==PAe}var PO=iu["__core-js_shared__"],Iz=function(){var t=/[^.]+$/.exec(PO&&PO.keys&&PO.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function DAe(t){return!!Iz&&Iz in t}var LAe=Function.prototype,MAe=LAe.toString;function rg(t){if(t!=null){try{return MAe.call(t)}catch{}try{return t+""}catch{}}return""}var $Ae=/[\\^$.*+?()[\]{}|]/g,FAe=/^\[object .+?Constructor\]$/,VAe=Function.prototype,UAe=Object.prototype,BAe=VAe.toString,zAe=UAe.hasOwnProperty,WAe=RegExp("^"+BAe.call(zAe).replace($Ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function GAe(t){if(!Zd(t)||DAe(t))return!1;var e=NK(t)?WAe:FAe;return e.test(rg(t))}function HAe(t,e){return t==null?void 0:t[e]}function sg(t,e){var n=HAe(t,e);return GAe(n)?n:void 0}var px=sg(iu,"Map"),gx=sg(Object,"create");function qAe(){this.__data__=gx?gx(null):{},this.size=0}function YAe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var KAe="__lodash_hash_undefined__",JAe=Object.prototype,QAe=JAe.hasOwnProperty;function ZAe(t){var e=this.__data__;if(gx){var n=e[t];return n===KAe?void 0:n}return QAe.call(e,t)?e[t]:void 0}var XAe=Object.prototype,eNe=XAe.hasOwnProperty;function tNe(t){var e=this.__data__;return gx?e[t]!==void 0:eNe.call(e,t)}var nNe="__lodash_hash_undefined__";function rNe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=gx&&e===void 0?nNe:e,this}function kp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}kp.prototype.clear=qAe;kp.prototype.delete=YAe;kp.prototype.get=ZAe;kp.prototype.has=tNe;kp.prototype.set=rNe;function sNe(){this.size=0,this.__data__={hash:new kp,map:new(px||lh),string:new kp}}function iNe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function uA(t,e){var n=t.__data__;return iNe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function aNe(t){var e=uA(this,t).delete(t);return this.size-=e?1:0,e}function oNe(t){return uA(this,t).get(t)}function lNe(t){return uA(this,t).has(t)}function cNe(t,e){var n=uA(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Kf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Kf.prototype.clear=sNe;Kf.prototype.delete=aNe;Kf.prototype.get=oNe;Kf.prototype.has=lNe;Kf.prototype.set=cNe;var uNe=200;function dNe(t,e){var n=this.__data__;if(n instanceof lh){var r=n.__data__;if(!px||r.length<uNe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Kf(r)}return n.set(t,e),this.size=n.size,this}function mb(t){var e=this.__data__=new lh(t);this.size=e.size}mb.prototype.clear=CAe;mb.prototype.delete=AAe;mb.prototype.get=NAe;mb.prototype.has=IAe;mb.prototype.set=dNe;function hNe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var kz=function(){try{var t=sg(Object,"defineProperty");return t({},"",{}),t}catch{}}();function IK(t,e,n){e=="__proto__"&&kz?kz(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var fNe=Object.prototype,mNe=fNe.hasOwnProperty;function kK(t,e,n){var r=t[e];(!(mNe.call(t,e)&&AK(r,n))||n===void 0&&!(e in t))&&IK(t,e,n)}function dA(t,e,n,r){var s=!n;n||(n={});for(var i=-1,o=e.length;++i<o;){var l=e[i],c=void 0;c===void 0&&(c=t[l]),s?IK(n,l,c):kK(n,l,c)}return n}function pNe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var gNe="[object Arguments]";function Oz(t){return ng(t)&&tg(t)==gNe}var OK=Object.prototype,yNe=OK.hasOwnProperty,vNe=OK.propertyIsEnumerable,bNe=Oz(function(){return arguments}())?Oz:function(t){return ng(t)&&yNe.call(t,"callee")&&!vNe.call(t,"callee")},E0=Array.isArray;function _Ne(){return!1}var RK=typeof wl=="object"&&wl&&!wl.nodeType&&wl,Rz=RK&&typeof xl=="object"&&xl&&!xl.nodeType&&xl,wNe=Rz&&Rz.exports===RK,Pz=wNe?iu.Buffer:void 0,xNe=Pz?Pz.isBuffer:void 0,PK=xNe||_Ne,ENe=9007199254740991,SNe=/^(?:0|[1-9]\d*)$/;function jNe(t,e){var n=typeof t;return e=e??ENe,!!e&&(n=="number"||n!="symbol"&&SNe.test(t))&&t>-1&&t%1==0&&t<e}var TNe=9007199254740991;function DK(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=TNe}var CNe="[object Arguments]",ANe="[object Array]",NNe="[object Boolean]",INe="[object Date]",kNe="[object Error]",ONe="[object Function]",RNe="[object Map]",PNe="[object Number]",DNe="[object Object]",LNe="[object RegExp]",MNe="[object Set]",$Ne="[object String]",FNe="[object WeakMap]",VNe="[object ArrayBuffer]",UNe="[object DataView]",BNe="[object Float32Array]",zNe="[object Float64Array]",WNe="[object Int8Array]",GNe="[object Int16Array]",HNe="[object Int32Array]",qNe="[object Uint8Array]",YNe="[object Uint8ClampedArray]",KNe="[object Uint16Array]",JNe="[object Uint32Array]",Xr={};Xr[BNe]=Xr[zNe]=Xr[WNe]=Xr[GNe]=Xr[HNe]=Xr[qNe]=Xr[YNe]=Xr[KNe]=Xr[JNe]=!0;Xr[CNe]=Xr[ANe]=Xr[VNe]=Xr[NNe]=Xr[UNe]=Xr[INe]=Xr[kNe]=Xr[ONe]=Xr[RNe]=Xr[PNe]=Xr[DNe]=Xr[LNe]=Xr[MNe]=Xr[$Ne]=Xr[FNe]=!1;function QNe(t){return ng(t)&&DK(t.length)&&!!Xr[tg(t)]}function eF(t){return function(e){return t(e)}}var LK=typeof wl=="object"&&wl&&!wl.nodeType&&wl,_w=LK&&typeof xl=="object"&&xl&&!xl.nodeType&&xl,ZNe=_w&&_w.exports===LK,DO=ZNe&&SK.process,Lv=function(){try{var t=_w&&_w.require&&_w.require("util").types;return t||DO&&DO.binding&&DO.binding("util")}catch{}}(),Dz=Lv&&Lv.isTypedArray,XNe=Dz?eF(Dz):QNe,eIe=Object.prototype,tIe=eIe.hasOwnProperty;function MK(t,e){var n=E0(t),r=!n&&bNe(t),s=!n&&!r&&PK(t),i=!n&&!r&&!s&&XNe(t),o=n||r||s||i,l=o?pNe(t.length,String):[],c=l.length;for(var u in t)(e||tIe.call(t,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||jNe(u,c)))&&l.push(u);return l}var nIe=Object.prototype;function tF(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||nIe;return t===n}var rIe=TK(Object.keys,Object),sIe=Object.prototype,iIe=sIe.hasOwnProperty;function aIe(t){if(!tF(t))return rIe(t);var e=[];for(var n in Object(t))iIe.call(t,n)&&n!="constructor"&&e.push(n);return e}function $K(t){return t!=null&&DK(t.length)&&!NK(t)}function FK(t){return $K(t)?MK(t):aIe(t)}function oIe(t,e){return t&&dA(e,FK(e),t)}function lIe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var cIe=Object.prototype,uIe=cIe.hasOwnProperty;function dIe(t){if(!Zd(t))return lIe(t);var e=tF(t),n=[];for(var r in t)r=="constructor"&&(e||!uIe.call(t,r))||n.push(r);return n}function hIe(t){return $K(t)?MK(t,!0):dIe(t)}function fIe(t,e){return t&&dA(e,hIe(e),t)}var VK=typeof wl=="object"&&wl&&!wl.nodeType&&wl,Lz=VK&&typeof xl=="object"&&xl&&!xl.nodeType&&xl,mIe=Lz&&Lz.exports===VK,Mz=mIe?iu.Buffer:void 0,$z=Mz?Mz.allocUnsafe:void 0;function pIe(t,e){var n=t.length,r=$z?$z(n):new t.constructor(n);return t.copy(r),r}function UK(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function gIe(t,e){for(var n=-1,r=t==null?0:t.length,s=0,i=[];++n<r;){var o=t[n];e(o,n,t)&&(i[s++]=o)}return i}function BK(){return[]}var yIe=Object.prototype,vIe=yIe.propertyIsEnumerable,Fz=Object.getOwnPropertySymbols,nF=Fz?function(t){return t==null?[]:(t=Object(t),gIe(Fz(t),function(e){return vIe.call(t,e)}))}:BK;function bIe(t,e){return dA(t,nF(t),e)}function zK(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var _Ie=Object.getOwnPropertySymbols,wIe=_Ie?function(t){for(var e=[];t;)zK(e,nF(t)),t=X$(t);return e}:BK;function xIe(t,e){return dA(t,wIe(t),e)}function EIe(t,e,n){var r=e(t);return E0(t)?r:zK(r,n(t))}function SIe(t){return EIe(t,FK,nF)}var LD=sg(iu,"DataView"),MD=sg(iu,"Promise"),$D=sg(iu,"Set"),FD=sg(iu,"WeakMap"),Vz="[object Map]",jIe="[object Object]",Uz="[object Promise]",Bz="[object Set]",zz="[object WeakMap]",Wz="[object DataView]",TIe=rg(LD),CIe=rg(px),AIe=rg(MD),NIe=rg($D),IIe=rg(FD),Ad=tg;(LD&&Ad(new LD(new ArrayBuffer(1)))!=Wz||px&&Ad(new px)!=Vz||MD&&Ad(MD.resolve())!=Uz||$D&&Ad(new $D)!=Bz||FD&&Ad(new FD)!=zz)&&(Ad=function(t){var e=tg(t),n=e==jIe?t.constructor:void 0,r=n?rg(n):"";if(r)switch(r){case TIe:return Wz;case CIe:return Vz;case AIe:return Uz;case NIe:return Bz;case IIe:return zz}return e});var kIe=Object.prototype,OIe=kIe.hasOwnProperty;function RIe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&OIe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Gz=iu.Uint8Array;function PIe(t){var e=new t.constructor(t.byteLength);return new Gz(e).set(new Gz(t)),e}function DIe(t,e){var n=t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var LIe=/\w*$/;function MIe(t){var e=new t.constructor(t.source,LIe.exec(t));return e.lastIndex=t.lastIndex,e}var Hz=If?If.prototype:void 0,qz=Hz?Hz.valueOf:void 0;function $Ie(t){return qz?Object(qz.call(t)):{}}function FIe(t,e){var n=t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var VIe="[object Boolean]",UIe="[object Date]",BIe="[object Map]",zIe="[object Number]",WIe="[object RegExp]",GIe="[object Set]",HIe="[object String]",qIe="[object Symbol]",YIe="[object ArrayBuffer]",KIe="[object DataView]",JIe="[object Float32Array]",QIe="[object Float64Array]",ZIe="[object Int8Array]",XIe="[object Int16Array]",eke="[object Int32Array]",tke="[object Uint8Array]",nke="[object Uint8ClampedArray]",rke="[object Uint16Array]",ske="[object Uint32Array]";function ike(t,e,n){var r=t.constructor;switch(e){case YIe:return PIe(t);case VIe:case UIe:return new r(+t);case KIe:return DIe(t);case JIe:case QIe:case ZIe:case XIe:case eke:case tke:case nke:case rke:case ske:return FIe(t);case BIe:return new r;case zIe:case HIe:return new r(t);case WIe:return MIe(t);case GIe:return new r;case qIe:return $Ie(t)}}var Yz=Object.create,ake=function(){function t(){}return function(e){if(!Zd(e))return{};if(Yz)return Yz(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function oke(t){return typeof t.constructor=="function"&&!tF(t)?ake(X$(t)):{}}var lke="[object Map]";function cke(t){return ng(t)&&Ad(t)==lke}var Kz=Lv&&Lv.isMap,uke=Kz?eF(Kz):cke,dke="[object Set]";function hke(t){return ng(t)&&Ad(t)==dke}var Jz=Lv&&Lv.isSet,fke=Jz?eF(Jz):hke,mke=2,WK="[object Arguments]",pke="[object Array]",gke="[object Boolean]",yke="[object Date]",vke="[object Error]",GK="[object Function]",bke="[object GeneratorFunction]",_ke="[object Map]",wke="[object Number]",HK="[object Object]",xke="[object RegExp]",Eke="[object Set]",Ske="[object String]",jke="[object Symbol]",Tke="[object WeakMap]",Cke="[object ArrayBuffer]",Ake="[object DataView]",Nke="[object Float32Array]",Ike="[object Float64Array]",kke="[object Int8Array]",Oke="[object Int16Array]",Rke="[object Int32Array]",Pke="[object Uint8Array]",Dke="[object Uint8ClampedArray]",Lke="[object Uint16Array]",Mke="[object Uint32Array]",Hr={};Hr[WK]=Hr[pke]=Hr[Cke]=Hr[Ake]=Hr[gke]=Hr[yke]=Hr[Nke]=Hr[Ike]=Hr[kke]=Hr[Oke]=Hr[Rke]=Hr[_ke]=Hr[wke]=Hr[HK]=Hr[xke]=Hr[Eke]=Hr[Ske]=Hr[jke]=Hr[Pke]=Hr[Dke]=Hr[Lke]=Hr[Mke]=!0;Hr[vke]=Hr[GK]=Hr[Tke]=!1;function Bj(t,e,n,r,s,i){var o,l=e&mke;if(o!==void 0)return o;if(!Zd(t))return t;var c=E0(t);if(c)return o=RIe(t),UK(t,o);var u=Ad(t),d=u==GK||u==bke;if(PK(t))return pIe(t);if(u==HK||u==WK||d&&!s)return o=d?{}:oke(t),l?xIe(t,fIe(o,t)):bIe(t,oIe(o,t));if(!Hr[u])return s?t:{};o=ike(t,u),i||(i=new mb);var f=i.get(t);if(f)return f;i.set(t,o),fke(t)?t.forEach(function(y){o.add(Bj(y,e,n,y,t,i))}):uke(t)&&t.forEach(function(y,_){o.set(_,Bj(y,e,n,_,t,i))});var m=SIe,p=c?void 0:m(t);return hNe(p||t,function(y,_){p&&(_=y,y=t[_]),kK(o,_,Bj(y,e,n,_,t,i))}),o}var $ke=4;function Qz(t){return Bj(t,$ke)}function qK(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}var Fke="[object Symbol]";function hA(t){return typeof t=="symbol"||ng(t)&&tg(t)==Fke}var Vke="Expected a function";function rF(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Vke);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var o=t.apply(this,r);return n.cache=i.set(s,o)||i,o};return n.cache=new(rF.Cache||Kf),n}rF.Cache=Kf;var Uke=500;function Bke(t){var e=rF(t,function(r){return n.size===Uke&&n.clear(),r}),n=e.cache;return e}var zke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wke=/\\(\\)?/g,Gke=Bke(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(zke,function(n,r,s,i){e.push(s?i.replace(Wke,"$1"):r||n)}),e});function Hke(t){if(typeof t=="string"||hA(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Zz=If?If.prototype:void 0,Xz=Zz?Zz.toString:void 0;function YK(t){if(typeof t=="string")return t;if(E0(t))return qK(t,YK)+"";if(hA(t))return Xz?Xz.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function qke(t){return t==null?"":YK(t)}function KK(t){return E0(t)?qK(t,Hke):hA(t)?[t]:UK(Gke(qke(t)))}var JK={exports:{}},Dr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ui=typeof Symbol=="function"&&Symbol.for,sF=Ui?Symbol.for("react.element"):60103,iF=Ui?Symbol.for("react.portal"):60106,fA=Ui?Symbol.for("react.fragment"):60107,mA=Ui?Symbol.for("react.strict_mode"):60108,pA=Ui?Symbol.for("react.profiler"):60114,gA=Ui?Symbol.for("react.provider"):60109,yA=Ui?Symbol.for("react.context"):60110,aF=Ui?Symbol.for("react.async_mode"):60111,vA=Ui?Symbol.for("react.concurrent_mode"):60111,bA=Ui?Symbol.for("react.forward_ref"):60112,_A=Ui?Symbol.for("react.suspense"):60113,Yke=Ui?Symbol.for("react.suspense_list"):60120,wA=Ui?Symbol.for("react.memo"):60115,xA=Ui?Symbol.for("react.lazy"):60116,Kke=Ui?Symbol.for("react.block"):60121,Jke=Ui?Symbol.for("react.fundamental"):60117,Qke=Ui?Symbol.for("react.responder"):60118,Zke=Ui?Symbol.for("react.scope"):60119;function Pl(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case sF:switch(t=t.type,t){case aF:case vA:case fA:case pA:case mA:case _A:return t;default:switch(t=t&&t.$$typeof,t){case yA:case bA:case xA:case wA:case gA:return t;default:return e}}case iF:return e}}}function QK(t){return Pl(t)===vA}Dr.AsyncMode=aF;Dr.ConcurrentMode=vA;Dr.ContextConsumer=yA;Dr.ContextProvider=gA;Dr.Element=sF;Dr.ForwardRef=bA;Dr.Fragment=fA;Dr.Lazy=xA;Dr.Memo=wA;Dr.Portal=iF;Dr.Profiler=pA;Dr.StrictMode=mA;Dr.Suspense=_A;Dr.isAsyncMode=function(t){return QK(t)||Pl(t)===aF};Dr.isConcurrentMode=QK;Dr.isContextConsumer=function(t){return Pl(t)===yA};Dr.isContextProvider=function(t){return Pl(t)===gA};Dr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===sF};Dr.isForwardRef=function(t){return Pl(t)===bA};Dr.isFragment=function(t){return Pl(t)===fA};Dr.isLazy=function(t){return Pl(t)===xA};Dr.isMemo=function(t){return Pl(t)===wA};Dr.isPortal=function(t){return Pl(t)===iF};Dr.isProfiler=function(t){return Pl(t)===pA};Dr.isStrictMode=function(t){return Pl(t)===mA};Dr.isSuspense=function(t){return Pl(t)===_A};Dr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===fA||t===vA||t===pA||t===mA||t===_A||t===Yke||typeof t=="object"&&t!==null&&(t.$$typeof===xA||t.$$typeof===wA||t.$$typeof===gA||t.$$typeof===yA||t.$$typeof===bA||t.$$typeof===Jke||t.$$typeof===Qke||t.$$typeof===Zke||t.$$typeof===Kke)};Dr.typeOf=Pl;JK.exports=Dr;var Xke=JK.exports,ZK=Xke,eOe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},tOe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},XK={};XK[ZK.ForwardRef]=eOe;XK[ZK.Memo]=tOe;function Oi(){return Oi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oi.apply(this,arguments)}function eJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var EA=C.createContext(void 0);EA.displayName="FormikContext";EA.Provider;EA.Consumer;function nOe(){var t=C.useContext(EA);return t}var Pc=function(e){return typeof e=="function"},SA=function(e){return e!==null&&typeof e=="object"},rOe=function(e){return String(Math.floor(Number(e)))===e},LO=function(e){return Object.prototype.toString.call(e)==="[object String]"},MO=function(e){return SA(e)&&Pc(e.then)};function ll(t,e,n,r){r===void 0&&(r=0);for(var s=KK(e);t&&r<s.length;)t=t[s[r++]];return r!==s.length&&!t||t===void 0?n:t}function vp(t,e,n){for(var r=Qz(t),s=r,i=0,o=KK(e);i<o.length-1;i++){var l=o[i],c=ll(t,o.slice(0,i+1));if(c&&(SA(c)||Array.isArray(c)))s=s[l]=Qz(c);else{var u=o[i+1];s=s[l]=rOe(u)&&Number(u)>=0?[]:{}}}return(i===0?t:s)[o[i]]===n?t:(n===void 0?delete s[o[i]]:s[o[i]]=n,i===0&&n===void 0&&delete r[o[i]],r)}function tJ(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var s=0,i=Object.keys(t);s<i.length;s++){var o=i[s],l=t[o];SA(l)?n.get(l)||(n.set(l,!0),r[o]=Array.isArray(l)?[]:{},tJ(l,e,n,r[o])):r[o]=e}return r}function sOe(t,e){switch(e.type){case"SET_VALUES":return Oi({},t,{values:e.payload});case"SET_TOUCHED":return Oi({},t,{touched:e.payload});case"SET_ERRORS":return $m(t.errors,e.payload)?t:Oi({},t,{errors:e.payload});case"SET_STATUS":return Oi({},t,{status:e.payload});case"SET_ISSUBMITTING":return Oi({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Oi({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Oi({},t,{values:vp(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Oi({},t,{touched:vp(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Oi({},t,{errors:vp(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Oi({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Oi({},t,{touched:tJ(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Oi({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Oi({},t,{isSubmitting:!1});default:return t}}var Tm={},NS={};function Cl(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,s=r===void 0?!0:r,i=t.validateOnMount,o=i===void 0?!1:i,l=t.isInitialValid,c=t.enableReinitialize,u=c===void 0?!1:c,d=t.onSubmit,f=eJ(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),m=Oi({validateOnChange:n,validateOnBlur:s,validateOnMount:o,onSubmit:d},f),p=C.useRef(m.initialValues),y=C.useRef(m.initialErrors||Tm),_=C.useRef(m.initialTouched||NS),b=C.useRef(m.initialStatus),x=C.useRef(!1),w=C.useRef({});C.useEffect(function(){return x.current=!0,function(){x.current=!1}},[]);var E=C.useState(0),T=E[1],N=C.useRef({values:m.initialValues,errors:m.initialErrors||Tm,touched:m.initialTouched||NS,status:m.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),P=N.current,D=C.useCallback(function(Q){var me=N.current;N.current=sOe(me,Q),me!==N.current&&T(function(ye){return ye+1})},[]),F=C.useCallback(function(Q,me){return new Promise(function(ye,A){var $=m.validate(Q,me);$==null?ye(Tm):MO($)?$.then(function(re){ye(re||Tm)},function(re){A(re)}):ye($)})},[m.validate]),Y=C.useCallback(function(Q,me){var ye=m.validationSchema,A=Pc(ye)?ye(me):ye,$=me&&A.validateAt?A.validateAt(me,Q):aOe(Q,A);return new Promise(function(re,ue){$.then(function(){re(Tm)},function(Ee){Ee.name==="ValidationError"?re(iOe(Ee)):ue(Ee)})})},[m.validationSchema]),q=C.useCallback(function(Q,me){return new Promise(function(ye){return ye(w.current[Q].validate(me))})},[]),B=C.useCallback(function(Q){var me=Object.keys(w.current).filter(function(A){return Pc(w.current[A].validate)}),ye=me.length>0?me.map(function(A){return q(A,ll(Q,A))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(ye).then(function(A){return A.reduce(function($,re,ue){return re==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||re&&($=vp($,me[ue],re)),$},{})})},[q]),G=C.useCallback(function(Q){return Promise.all([B(Q),m.validationSchema?Y(Q):{},m.validate?F(Q):{}]).then(function(me){var ye=me[0],A=me[1],$=me[2],re=PD.all([ye,A,$],{arrayMerge:oOe});return re})},[m.validate,m.validationSchema,B,F,Y]),J=Kl(function(Q){return Q===void 0&&(Q=P.values),D({type:"SET_ISVALIDATING",payload:!0}),G(Q).then(function(me){return x.current&&(D({type:"SET_ISVALIDATING",payload:!1}),D({type:"SET_ERRORS",payload:me})),me})});C.useEffect(function(){o&&x.current===!0&&$m(p.current,m.initialValues)&&J(p.current)},[o,J]);var W=C.useCallback(function(Q){var me=Q&&Q.values?Q.values:p.current,ye=Q&&Q.errors?Q.errors:y.current?y.current:m.initialErrors||{},A=Q&&Q.touched?Q.touched:_.current?_.current:m.initialTouched||{},$=Q&&Q.status?Q.status:b.current?b.current:m.initialStatus;p.current=me,y.current=ye,_.current=A,b.current=$;var re=function(){D({type:"RESET_FORM",payload:{isSubmitting:!!Q&&!!Q.isSubmitting,errors:ye,touched:A,status:$,values:me,isValidating:!!Q&&!!Q.isValidating,submitCount:Q&&Q.submitCount&&typeof Q.submitCount=="number"?Q.submitCount:0}})};if(m.onReset){var ue=m.onReset(P.values,en);MO(ue)?ue.then(re):re()}else re()},[m.initialErrors,m.initialStatus,m.initialTouched,m.onReset]);C.useEffect(function(){x.current===!0&&!$m(p.current,m.initialValues)&&u&&(p.current=m.initialValues,W(),o&&J(p.current))},[u,m.initialValues,W,o,J]),C.useEffect(function(){u&&x.current===!0&&!$m(y.current,m.initialErrors)&&(y.current=m.initialErrors||Tm,D({type:"SET_ERRORS",payload:m.initialErrors||Tm}))},[u,m.initialErrors]),C.useEffect(function(){u&&x.current===!0&&!$m(_.current,m.initialTouched)&&(_.current=m.initialTouched||NS,D({type:"SET_TOUCHED",payload:m.initialTouched||NS}))},[u,m.initialTouched]),C.useEffect(function(){u&&x.current===!0&&!$m(b.current,m.initialStatus)&&(b.current=m.initialStatus,D({type:"SET_STATUS",payload:m.initialStatus}))},[u,m.initialStatus,m.initialTouched]);var z=Kl(function(Q){if(w.current[Q]&&Pc(w.current[Q].validate)){var me=ll(P.values,Q),ye=w.current[Q].validate(me);return MO(ye)?(D({type:"SET_ISVALIDATING",payload:!0}),ye.then(function(A){return A}).then(function(A){D({type:"SET_FIELD_ERROR",payload:{field:Q,value:A}}),D({type:"SET_ISVALIDATING",payload:!1})})):(D({type:"SET_FIELD_ERROR",payload:{field:Q,value:ye}}),Promise.resolve(ye))}else if(m.validationSchema)return D({type:"SET_ISVALIDATING",payload:!0}),Y(P.values,Q).then(function(A){return A}).then(function(A){D({type:"SET_FIELD_ERROR",payload:{field:Q,value:ll(A,Q)}}),D({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Z=C.useCallback(function(Q,me){var ye=me.validate;w.current[Q]={validate:ye}},[]),X=C.useCallback(function(Q){delete w.current[Q]},[]),ne=Kl(function(Q,me){D({type:"SET_TOUCHED",payload:Q});var ye=me===void 0?s:me;return ye?J(P.values):Promise.resolve()}),le=C.useCallback(function(Q){D({type:"SET_ERRORS",payload:Q})},[]),ge=Kl(function(Q,me){var ye=Pc(Q)?Q(P.values):Q;D({type:"SET_VALUES",payload:ye});var A=me===void 0?n:me;return A?J(ye):Promise.resolve()}),Ue=C.useCallback(function(Q,me){D({type:"SET_FIELD_ERROR",payload:{field:Q,value:me}})},[]),Ie=Kl(function(Q,me,ye){D({type:"SET_FIELD_VALUE",payload:{field:Q,value:me}});var A=ye===void 0?n:ye;return A?J(vp(P.values,Q,me)):Promise.resolve()}),ot=C.useCallback(function(Q,me){var ye=me,A=Q,$;if(!LO(Q)){Q.persist&&Q.persist();var re=Q.target?Q.target:Q.currentTarget,ue=re.type,Ee=re.name,be=re.id,Me=re.value,tt=re.checked;re.outerHTML;var Pe=re.options,qe=re.multiple;ye=me||Ee||be,A=/number|range/.test(ue)?($=parseFloat(Me),isNaN($)?"":$):/checkbox/.test(ue)?cOe(ll(P.values,ye),tt,Me):Pe&&qe?lOe(Pe):Me}ye&&Ie(ye,A)},[Ie,P.values]),it=Kl(function(Q){if(LO(Q))return function(me){return ot(me,Q)};ot(Q)}),Te=Kl(function(Q,me,ye){me===void 0&&(me=!0),D({type:"SET_FIELD_TOUCHED",payload:{field:Q,value:me}});var A=ye===void 0?s:ye;return A?J(P.values):Promise.resolve()}),St=C.useCallback(function(Q,me){Q.persist&&Q.persist();var ye=Q.target,A=ye.name,$=ye.id;ye.outerHTML;var re=me||A||$;Te(re,!0)},[Te]),ut=Kl(function(Q){if(LO(Q))return function(me){return St(me,Q)};St(Q)}),ft=C.useCallback(function(Q){Pc(Q)?D({type:"SET_FORMIK_STATE",payload:Q}):D({type:"SET_FORMIK_STATE",payload:function(){return Q}})},[]),gt=C.useCallback(function(Q){D({type:"SET_STATUS",payload:Q})},[]),qt=C.useCallback(function(Q){D({type:"SET_ISSUBMITTING",payload:Q})},[]),It=Kl(function(){return D({type:"SUBMIT_ATTEMPT"}),J().then(function(Q){var me=Q instanceof Error,ye=!me&&Object.keys(Q).length===0;if(ye){var A;try{if(A=xe(),A===void 0)return}catch($){throw $}return Promise.resolve(A).then(function($){return x.current&&D({type:"SUBMIT_SUCCESS"}),$}).catch(function($){if(x.current)throw D({type:"SUBMIT_FAILURE"}),$})}else if(x.current&&(D({type:"SUBMIT_FAILURE"}),me))throw Q})}),zt=Kl(function(Q){Q&&Q.preventDefault&&Pc(Q.preventDefault)&&Q.preventDefault(),Q&&Q.stopPropagation&&Pc(Q.stopPropagation)&&Q.stopPropagation(),It().catch(function(me){console.warn("Warning: An unhandled error was caught from submitForm()",me)})}),en={resetForm:W,validateForm:J,validateField:z,setErrors:le,setFieldError:Ue,setFieldTouched:Te,setFieldValue:Ie,setStatus:gt,setSubmitting:qt,setTouched:ne,setValues:ge,setFormikState:ft,submitForm:It},xe=Kl(function(){return d(P.values,en)}),We=Kl(function(Q){Q&&Q.preventDefault&&Pc(Q.preventDefault)&&Q.preventDefault(),Q&&Q.stopPropagation&&Pc(Q.stopPropagation)&&Q.stopPropagation(),W()}),Qt=C.useCallback(function(Q){return{value:ll(P.values,Q),error:ll(P.errors,Q),touched:!!ll(P.touched,Q),initialValue:ll(p.current,Q),initialTouched:!!ll(_.current,Q),initialError:ll(y.current,Q)}},[P.errors,P.touched,P.values]),Oe=C.useCallback(function(Q){return{setValue:function(ye,A){return Ie(Q,ye,A)},setTouched:function(ye,A){return Te(Q,ye,A)},setError:function(ye){return Ue(Q,ye)}}},[Ie,Te,Ue]),lt=C.useCallback(function(Q){var me=SA(Q),ye=me?Q.name:Q,A=ll(P.values,ye),$={name:ye,value:A,onChange:it,onBlur:ut};if(me){var re=Q.type,ue=Q.value,Ee=Q.as,be=Q.multiple;re==="checkbox"?ue===void 0?$.checked=!!A:($.checked=!!(Array.isArray(A)&&~A.indexOf(ue)),$.value=ue):re==="radio"?($.checked=A===ue,$.value=ue):Ee==="select"&&be&&($.value=$.value||[],$.multiple=!0)}return $},[ut,it,P.values]),ve=C.useMemo(function(){return!$m(p.current,P.values)},[p.current,P.values]),K=C.useMemo(function(){return typeof l<"u"?ve?P.errors&&Object.keys(P.errors).length===0:l!==!1&&Pc(l)?l(m):l:P.errors&&Object.keys(P.errors).length===0},[l,ve,P.errors,m]),te=Oi({},P,{initialValues:p.current,initialErrors:y.current,initialTouched:_.current,initialStatus:b.current,handleBlur:ut,handleChange:it,handleReset:We,handleSubmit:zt,resetForm:W,setErrors:le,setFormikState:ft,setFieldTouched:Te,setFieldValue:Ie,setFieldError:Ue,setStatus:gt,setSubmitting:qt,setTouched:ne,setValues:ge,submitForm:It,validateForm:J,validateField:z,isValid:K,dirty:ve,unregisterField:X,registerField:Z,getFieldProps:lt,getFieldMeta:Qt,getFieldHelpers:Oe,validateOnBlur:s,validateOnChange:n,validateOnMount:o});return te}function iOe(t){var e={};if(t.inner){if(t.inner.length===0)return vp(e,t.path,t.message);for(var s=t.inner,n=Array.isArray(s),r=0,s=n?s:s[Symbol.iterator]();;){var i;if(n){if(r>=s.length)break;i=s[r++]}else{if(r=s.next(),r.done)break;i=r.value}var o=i;ll(e,o.path)||(e=vp(e,o.path,o.message))}}return e}function aOe(t,e,n,r){n===void 0&&(n=!1);var s=VD(t);return e[n?"validateSync":"validate"](s,{abortEarly:!1,context:s})}function VD(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(s){return Array.isArray(s)===!0||Cz(s)?VD(s):s!==""?s:void 0}):Cz(t[r])?e[r]=VD(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function oOe(t,e,n){var r=t.slice();return e.forEach(function(i,o){if(typeof r[o]>"u"){var l=n.clone!==!1,c=l&&n.isMergeableObject(i);r[o]=c?PD(Array.isArray(i)?[]:{},i,n):i}else n.isMergeableObject(i)?r[o]=PD(t[o],i,n):t.indexOf(i)===-1&&r.push(i)}),r}function lOe(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function cOe(t,e,n){if(typeof t=="boolean")return!!e;var r=[],s=!1,i=-1;if(Array.isArray(t))r=t,i=t.indexOf(n),s=i>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!s?r.concat(n):s?r.slice(0,i).concat(r.slice(i+1)):r}var uOe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?C.useLayoutEffect:C.useEffect;function Kl(t){var e=C.useRef(t);return uOe(function(){e.current=t}),C.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current.apply(void 0,r)},[])}var dOe=C.forwardRef(function(t,e){var n=t.action,r=eJ(t,["action"]),s=n??"#",i=nOe(),o=i.handleReset,l=i.handleSubmit;return C.createElement("form",Oi({onSubmit:l,ref:e,onReset:o,action:s},r))});dOe.displayName="Form";function ig(t){this._maxSize=t,this.clear()}ig.prototype.clear=function(){this._size=0,this._values=Object.create(null)};ig.prototype.get=function(t){return this._values[t]};ig.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var hOe=/[^.^\]^[]+|(?=\[\]|\.\.)/g,nJ=/^\d+$/,fOe=/^\d/,mOe=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,pOe=/^\s*(['"]?)(.*?)(\1)\s*$/,oF=512,e6=new ig(oF),t6=new ig(oF),n6=new ig(oF),bp={Cache:ig,split:UD,normalizePath:$O,setter:function(t){var e=$O(t);return t6.get(t)||t6.set(t,function(r,s){for(var i=0,o=e.length,l=r;i<o-1;){var c=e[i];if(c==="__proto__"||c==="constructor"||c==="prototype")return r;l=l[e[i++]]}l[e[i]]=s})},getter:function(t,e){var n=$O(t);return n6.get(t)||n6.set(t,function(s){for(var i=0,o=n.length;i<o;)if(s!=null||!e)s=s[n[i++]];else return;return s})},join:function(t){return t.reduce(function(e,n){return e+(lF(n)||nJ.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){gOe(Array.isArray(t)?t:UD(t),e,n)}};function $O(t){return e6.get(t)||e6.set(t,UD(t).map(function(e){return e.replace(pOe,"$2")}))}function UD(t){return t.match(hOe)||[""]}function gOe(t,e,n){var r=t.length,s,i,o,l;for(i=0;i<r;i++)s=t[i],s&&(bOe(s)&&(s='"'+s+'"'),l=lF(s),o=!l&&/^\d+$/.test(s),e.call(n,s,l,o,i,t))}function lF(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function yOe(t){return t.match(fOe)&&!t.match(nJ)}function vOe(t){return mOe.test(t)}function bOe(t){return!lF(t)&&(yOe(t)||vOe(t))}const _Oe=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,jA=t=>t.match(_Oe)||[],TA=t=>t[0].toUpperCase()+t.slice(1),cF=(t,e)=>jA(t).join(e).toLowerCase(),rJ=t=>jA(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),wOe=t=>TA(rJ(t)),xOe=t=>cF(t,"_"),EOe=t=>cF(t,"-"),SOe=t=>TA(cF(t," ")),jOe=t=>jA(t).map(TA).join(" ");var FO={words:jA,upperFirst:TA,camelCase:rJ,pascalCase:wOe,snakeCase:xOe,kebabCase:EOe,sentenceCase:SOe,titleCase:jOe},uF={exports:{}};uF.exports=function(t){return sJ(TOe(t),t)};uF.exports.array=sJ;function sJ(t,e){var n=t.length,r=new Array(n),s={},i=n,o=COe(e),l=AOe(t);for(e.forEach(function(u){if(!l.has(u[0])||!l.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});i--;)s[i]||c(t[i],i,new Set);return r;function c(u,d,f){if(f.has(u)){var m;try{m=", node was:"+JSON.stringify(u)}catch{m=""}throw new Error("Cyclic dependency"+m)}if(!l.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!s[d]){s[d]=!0;var p=o.get(u)||new Set;if(p=Array.from(p),d=p.length){f.add(u);do{var y=p[--d];c(y,l.get(y),f)}while(d);f.delete(u)}r[--n]=u}}}function TOe(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var s=t[n];e.add(s[0]),e.add(s[1])}return Array.from(e)}function COe(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var s=t[n];e.has(s[0])||e.set(s[0],new Set),e.has(s[1])||e.set(s[1],new Set),e.get(s[0]).add(s[1])}return e}function AOe(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var NOe=uF.exports;const IOe=Ho(NOe),kOe=Object.prototype.toString,OOe=Error.prototype.toString,ROe=RegExp.prototype.toString,POe=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",DOe=/^Symbol\((.*)\)(.*)$/;function LOe(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function r6(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return LOe(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return POe.call(t).replace(DOe,"Symbol($1)");const r=kOe.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+OOe.call(t)+"]":r==="RegExp"?ROe.call(t):null}function wf(t,e){let n=r6(t,e);return n!==null?n:JSON.stringify(t,function(r,s){let i=r6(this[r],e);return i!==null?i:s},2)}function iJ(t){return t==null?[]:[].concat(t)}let aJ,MOe=/\$\{\s*(\w+)\s*\}/g;aJ=Symbol.toStringTag;class Co extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(MOe,(s,i)=>wf(n[i])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,s,i){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this[aJ]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=s,this.errors=[],this.inner=[],iJ(e).forEach(o=>{if(Co.isError(o)){this.errors.push(...o.errors);const l=o.inner.length?o.inner:[o];this.inner.push(...l)}else this.errors.push(o)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],!i&&Error.captureStackTrace&&Error.captureStackTrace(this,Co)}}let Tu={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const s=r!=null&&r!==n?` (cast from the value \`${wf(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${wf(n,!0)}\``+s:`${t} must match the configured type. The validated value was: \`${wf(n,!0)}\``+s}},Dc={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},zh={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},BD={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},$Oe={isValue:"${path} field must be ${value}"},zD={noUnknown:"${path} field has unspecified keys: ${unknown}"},FOe={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},VOe={notType:t=>{const{path:e,value:n,spec:r}=t,s=r.types.length;if(Array.isArray(n)){if(n.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${n.length} for value: \`${wf(n,!0)}\``;if(n.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${n.length} for value: \`${wf(n,!0)}\``}return Co.formatError(Tu.notType,t)}};Object.assign(Object.create(null),{mixed:Tu,string:Dc,number:zh,date:BD,object:zD,array:FOe,boolean:$Oe,tuple:VOe});const dF=t=>t&&t.__isYupSchema__;class pT{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:s,otherwise:i}=n,o=typeof r=="function"?r:(...l)=>l.every(c=>c===r);return new pT(e,(l,c)=>{var u;let d=o(...l)?s:i;return(u=d==null?void 0:d(c))!=null?u:c})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(i=>i.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),s=this.fn(r,e,n);if(s===void 0||s===e)return e;if(!dF(s))throw new TypeError("conditions must return a schema object");return s.resolve(n)}}const IS={context:"$",value:"."};class ag{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===IS.context,this.isValue=this.key[0]===IS.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?IS.context:this.isValue?IS.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&bp.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let s=this.isContext?r:this.isValue?e:n;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}ag.prototype.__isYupRef=!0;const Dd=t=>t==null;function Xg(t){function e({value:n,path:r="",options:s,originalValue:i,schema:o},l,c){const{name:u,test:d,params:f,message:m,skipAbsent:p}=t;let{parent:y,context:_,abortEarly:b=o.spec.abortEarly,disableStackTrace:x=o.spec.disableStackTrace}=s;function w(B){return ag.isRef(B)?B.getValue(n,y,_):B}function E(B={}){var G;const J=Object.assign({value:n,originalValue:i,label:o.spec.label,path:B.path||r,spec:o.spec},f,B.params);for(const z of Object.keys(J))J[z]=w(J[z]);const W=new Co(Co.formatError(B.message||m,J),n,J.path,B.type||u,(G=B.disableStackTrace)!=null?G:x);return W.params=J,W}const T=b?l:c;let N={path:r,parent:y,type:u,from:s.from,createError:E,resolve:w,options:s,originalValue:i,schema:o};const P=B=>{Co.isError(B)?T(B):B?c(null):T(E())},D=B=>{Co.isError(B)?T(B):l(B)};if(p&&Dd(n))return P(!0);let Y;try{var q;if(Y=d.call(N,n,N),typeof((q=Y)==null?void 0:q.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${N.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(Y).then(P,D)}}catch(B){D(B);return}P(Y)}return e.OPTIONS=t,e}function UOe(t,e,n,r=n){let s,i,o;return e?(bp.forEach(e,(l,c,u)=>{let d=c?l.slice(1,l.length-1):l;t=t.resolve({context:r,parent:s,value:n});let f=t.type==="tuple",m=u?parseInt(d,10):0;if(t.innerType||f){if(f&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&m>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);s=n,n=n&&n[m],t=f?t.spec.types[m]:t.innerType}if(!u){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);s=n,n=n&&n[d],t=t.fields[d]}i=d,o=c?"["+l+"]":"."+l}),{schema:t,parent:s,parentPath:i}):{parent:s,parentPath:e,schema:t}}class gT extends Set{describe(){const e=[];for(const n of this.values())e.push(ag.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new gT(this.values())}merge(e,n){const r=this.clone();return e.forEach(s=>r.add(s)),n.forEach(s=>r.delete(s)),r}}function By(t,e=new Map){if(dF(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=By(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,s]of t.entries())n.set(r,By(s,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(By(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,s]of Object.entries(t))n[r]=By(s,e)}else throw Error(`Unable to clone ${t}`);return n}class Xc{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new gT,this._blacklist=new gT,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Tu.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=By(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const s=Object.assign({},n.spec,r.spec);return r.spec=s,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(i=>{e.tests.forEach(o=>{i.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((s,i)=>i.resolve(s,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,s,i;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(i=e.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),s=n.assert==="ignore-optionality",i=r._cast(e,n);if(n.assert!==!1&&!r.isType(i)){if(s&&Dd(i))return i;let o=wf(e),l=wf(i);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(l!==o?`result of cast: ${l}`:""))}return i}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((s,i)=>i.call(this,s,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,s){let{path:i,originalValue:o=e,strict:l=this.spec.strict}=n,c=e;l||(c=this._cast(c,Object.assign({assert:!1},n)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:i,value:c,originalValue:o,options:n,tests:u},r,d=>{if(d.length)return s(d,c);this.runTests({path:i,value:c,originalValue:o,options:n,tests:this.tests},r,s)})}runTests(e,n,r){let s=!1,{tests:i,value:o,originalValue:l,path:c,options:u}=e,d=_=>{s||(s=!0,n(_,o))},f=_=>{s||(s=!0,r(_,o))},m=i.length,p=[];if(!m)return f([]);let y={value:o,originalValue:l,path:c,options:u,schema:this};for(let _=0;_<i.length;_++){const b=i[_];b(y,d,function(w){w&&(Array.isArray(w)?p.push(...w):p.push(w)),--m<=0&&f(p)})}}asNestedTest({key:e,index:n,parent:r,parentPath:s,originalParent:i,options:o}){const l=e??n;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof l=="number";let u=r[l];const d=Object.assign({},o,{strict:!0,parent:r,value:u,originalValue:i[l],key:void 0,[c?"index":"key"]:l,path:c||l.includes(".")?`${s||""}[${u?l:`"${l}"`}]`:(s?`${s}.`:"")+e});return(f,m,p)=>this.resolve(d)._validate(u,d,m,p)}validate(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i=(r=n==null?void 0:n.disableStackTrace)!=null?r:s.spec.disableStackTrace;return new Promise((o,l)=>s._validate(e,n,(c,u)=>{Co.isError(c)&&(c.value=u),l(c)},(c,u)=>{c.length?l(new Co(c,u,void 0,void 0,i)):o(u)}))}validateSync(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:s.spec.disableStackTrace;return s._validate(e,Object.assign({},n,{sync:!0}),(l,c)=>{throw Co.isError(l)&&(l.value=c),l},(l,c)=>{if(l.length)throw new Co(l,e,void 0,void 0,o);i=c}),i}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Co.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Co.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):By(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=Xg({message:n,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=Xg({message:n,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Tu.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Tu.notNull){return this.nullability(!1,e)}required(e=Tu.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Tu.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),s=Xg(n),i=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(i||o.OPTIONS.test===s.OPTIONS.test))),r.tests.push(s),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),s=iJ(e).map(i=>new ag(i));return s.forEach(i=>{i.isSibling&&r.deps.push(i.key)}),r.conditions.push(typeof n=="function"?new pT(s,n):pT.fromOptions(s,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=Xg({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Tu.oneOf){let r=this.clone();return e.forEach(s=>{r._whitelist.add(s),r._blacklist.delete(s)}),r.internalTests.whiteList=Xg({message:n,name:"oneOf",skipAbsent:!0,test(s){let i=this.schema._whitelist,o=i.resolveAll(this.resolve);return o.includes(s)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:o}})}}),r}notOneOf(e,n=Tu.notOneOf){let r=this.clone();return e.forEach(s=>{r._blacklist.add(s),r._whitelist.delete(s)}),r.internalTests.blacklist=Xg({message:n,name:"notOneOf",test(s){let i=this.schema._blacklist,o=i.resolveAll(this.resolve);return o.includes(s)?this.createError({params:{values:Array.from(i).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:s,optional:i,nullable:o}=n.spec;return{meta:s,label:r,optional:i,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(c=>({name:c.OPTIONS.name,params:c.OPTIONS.params})).filter((c,u,d)=>d.findIndex(f=>f.name===c.name)===u)}}}Xc.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Xc.prototype[`${t}At`]=function(e,n,r={}){const{parent:s,parentPath:i,schema:o}=UOe(this,e,n,r.context);return o[t](s&&s[i],Object.assign({},r,{parent:s,path:e}))};for(const t of["equals","is"])Xc.prototype[t]=Xc.prototype.oneOf;for(const t of["not","nope"])Xc.prototype[t]=Xc.prototype.notOneOf;let BOe=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,zOe=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,WOe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,GOe=t=>Dd(t)||t===t.trim(),HOe={}.toString();function jn(){return new oJ}class oJ extends Xc{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const s=e!=null&&e.toString?e.toString():e;return s===HOe?e:s})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Tu.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Dc.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=Dc.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=Dc.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,s,i;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:s,name:i}=n:s=n),this.test({name:i||"matches",message:s||Dc.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=Dc.email){return this.matches(BOe,{name:"email",message:e,excludeEmptyString:!0})}url(e=Dc.url){return this.matches(zOe,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Dc.uuid){return this.matches(WOe,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Dc.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:GOe})}lowercase(e=Dc.lowercase){return this.transform(n=>Dd(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Dd(n)||n===n.toLowerCase()})}uppercase(e=Dc.uppercase){return this.transform(n=>Dd(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Dd(n)||n===n.toUpperCase()})}}jn.prototype=oJ.prototype;let qOe=t=>t!=+t;function Hc(){return new lJ}class lJ extends Xc{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!qOe(e)}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce)return e;let s=e;if(typeof s=="string"){if(s=s.replace(/\s/g,""),s==="")return NaN;s=+s}return r.isType(s)||s===null?s:parseFloat(s)})})}min(e,n=zh.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=zh.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=zh.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=zh.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=zh.positive){return this.moreThan(0,e)}negative(e=zh.negative){return this.lessThan(0,e)}integer(e=zh.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>Dd(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(s=>Dd(s)?s:Math[e](s))}}Hc.prototype=lJ.prototype;const YOe=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function vd(t,e=0){return Number(t)||e}function KOe(t){const e=YOe.exec(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;const n={year:vd(e[1]),month:vd(e[2],1)-1,day:vd(e[3],1),hour:vd(e[4]),minute:vd(e[5]),second:vd(e[6]),millisecond:e[7]?vd(e[7].substring(0,3)):0,z:e[8]||void 0,plusMinus:e[9]||void 0,hourOffset:vd(e[10]),minuteOffset:vd(e[11])};if(n.z===void 0&&n.plusMinus===void 0)return new Date(n.year,n.month,n.day,n.hour,n.minute,n.second,n.millisecond).valueOf();let r=0;return n.z!=="Z"&&n.plusMinus!==void 0&&(r=n.hourOffset*60+n.minuteOffset,n.plusMinus==="+"&&(r=0-r)),Date.UTC(n.year,n.month,n.day,n.hour,n.minute+r,n.second,n.millisecond)}let JOe=new Date(""),QOe=t=>Object.prototype.toString.call(t)==="[object Date]";class hF extends Xc{constructor(){super({type:"date",check(e){return QOe(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=KOe(e),isNaN(e)?hF.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(ag.isRef(e))r=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=s}return r}min(e,n=BD.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(r)}})}max(e,n=BD.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(r)}})}}hF.INVALID_DATE=JOe;function ZOe(t,e=[]){let n=[],r=new Set,s=new Set(e.map(([o,l])=>`${o}-${l}`));function i(o,l){let c=bp.split(o)[0];r.add(c),s.has(`${l}-${c}`)||n.push([l,c])}for(const o of Object.keys(t)){let l=t[o];r.add(o),ag.isRef(l)&&l.isSibling?i(l.path,o):dF(l)&&"deps"in l&&l.deps.forEach(c=>i(c,o))}return IOe.array(Array.from(r),n).reverse()}function s6(t,e){let n=1/0;return t.some((r,s)=>{var i;if((i=e.path)!=null&&i.includes(r))return n=s,!0}),n}function cJ(t){return(e,n)=>s6(t,e)-s6(t,n)}const XOe=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function zj(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=zj(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=zj(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(zj)}):"optional"in t?t.optional():t}const eRe=(t,e)=>{const n=[...bp.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),s=bp.getter(bp.join(n),!0)(t);return!!(s&&r in s)};let i6=t=>Object.prototype.toString.call(t)==="[object Object]";function tRe(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const nRe=cJ([]);function to(t){return new uJ(t)}class uJ extends Xc{constructor(e){super({type:"object",check(n){return i6(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=nRe,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let s=super._cast(e,n);if(s===void 0)return this.getDefault(n);if(!this._typeCheck(s))return s;let i=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(s).filter(f=>!this._nodes.includes(f))),c={},u=Object.assign({},n,{parent:c,__validating:n.__validating||!1}),d=!1;for(const f of l){let m=i[f],p=f in s;if(m){let y,_=s[f];u.path=(n.path?`${n.path}.`:"")+f,m=m.resolve({value:_,context:n.context,parent:c});let b=m instanceof Xc?m.spec:void 0,x=b==null?void 0:b.strict;if(b!=null&&b.strip){d=d||f in s;continue}y=!n.__validating||!x?m.cast(s[f],u):s[f],y!==void 0&&(c[f]=y)}else p&&!o&&(c[f]=s[f]);(p!==f in c||c[f]!==s[f])&&(d=!0)}return d?c:s}_validate(e,n={},r,s){let{from:i=[],originalValue:o=e,recursive:l=this.spec.recursive}=n;n.from=[{schema:this,value:o},...i],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(c,u)=>{if(!l||!i6(u)){s(c,u);return}o=o||u;let d=[];for(let f of this._nodes){let m=this.fields[f];!m||ag.isRef(m)||d.push(m.asNestedTest({options:n,key:f,parent:u,parentPath:n.path,originalParent:o}))}this.runTests({tests:d,value:u,originalValue:o,options:n},r,f=>{s(f.sort(this._sortErrors).concat(c),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[s,i]of Object.entries(this.fields)){const o=r[s];r[s]=o===void 0?i:o}return n.withMutation(s=>s.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var s;const i=this.fields[r];let o=e;(s=o)!=null&&s.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=i&&"getDefault"in i?i.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=ZOe(e,n),r._sortErrors=cJ(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let s=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),s=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),s)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return zj(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,s])=>e.includes(r)&&e.includes(s)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let s=bp.getter(e,!0);return this.transform(i=>{if(!i)return i;let o=i;return eRe(i,e)&&(o=Object.assign({},i),r||delete o[e],o[n]=s(i)),o})}json(){return this.transform(XOe)}noUnknown(e=!0,n=zD.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(s){if(s==null)return!0;const i=tRe(this.schema,s);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=zD.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const s of Object.keys(n))r[e(s)]=n[s];return r})}camelCase(){return this.transformKeys(FO.camelCase)}snakeCase(){return this.transformKeys(FO.snakeCase)}constantCase(){return this.transformKeys(e=>FO.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[i,o]of Object.entries(n.fields)){var s;let l=e;(s=l)!=null&&s.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[i]})),r.fields[i]=o.describe(l)}return r}}to.prototype=uJ.prototype;const rRe=()=>{const t=is(),[e,n]=C.useState(!1),[r,s]=C.useState(""),[i,o]=C.useState(""),l=Cl({initialValues:{name:"",symbol:"",description:"",is_active:!0},validationSchema:to({name:jn().required("   ").min(2,"    2  ").max(50,"     50  "),symbol:jn().required("  ").min(1,"   1  ").max(10,"    10  "),description:jn().max(500,"    500  ")}),onSubmit:async c=>{var u,d,f;s(""),o(""),n(!0);try{if(((await Bt("/product-units")).docs||[]).some(b=>{const x=b.name.trim().toLowerCase()===c.name.trim().toLowerCase(),w=b.symbol.trim().toLowerCase()===c.symbol.trim().toLowerCase();return x||w})){s("        ."),n(!1);return}const y={name:c.name,symbol:c.symbol,description:c.description||"",is_active:c.is_active},_=await Br("/product-units",y);_&&_.success!==!1?(o("     "),setTimeout(()=>{l.resetForm(),o("")},1500)):s("   ")}catch(m){((u=m.response)==null?void 0:u.status)===400?s(((d=m.response.data)==null?void 0:d.message)||"   ."):((f=m.response)==null?void 0:f.status)===409?s("     ."):s("   ")}n(!1)}});return a.jsx(ae.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsxs(An,{fluid:!0,children:[a.jsxs("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:[a.jsx("h4",{className:"mb-sm-0 font-size-18",children:"  "}),a.jsx("div",{className:"page-title-right",children:a.jsxs("ol",{className:"breadcrumb m-0",children:[a.jsx("li",{className:"breadcrumb-item",children:a.jsx("a",{href:"/dashboard",children:""})}),a.jsx("li",{className:"breadcrumb-item",children:a.jsx("a",{href:"/inventory/unit-list",children:" "})}),a.jsx("li",{className:"breadcrumb-item active",children:" "})]})})]}),a.jsx(pe,{children:a.jsx(M,{lg:8,className:"mx-auto",children:a.jsx(Ct,{children:a.jsxs(At,{children:[r&&a.jsx(tr,{color:"danger",toggle:()=>s(""),children:r}),i&&a.jsx(tr,{color:"success",toggle:()=>o(""),children:i}),a.jsxs(zo,{onSubmit:l.handleSubmit,children:[a.jsxs(pe,{children:[a.jsx(M,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:"  *"}),a.jsx(ie,{name:"name",value:l.values.name,onChange:l.handleChange,onBlur:l.handleBlur,invalid:l.touched.name&&!!l.errors.name,placeholder:": "}),a.jsx(Dt,{children:l.errors.name})]})}),a.jsx(M,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:" *"}),a.jsx(ie,{name:"symbol",value:l.values.symbol,onChange:l.handleChange,onBlur:l.handleBlur,invalid:l.touched.symbol&&!!l.errors.symbol,placeholder:"kg"}),a.jsx(Dt,{children:l.errors.symbol})]})})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:""}),a.jsx(ie,{type:"textarea",name:"description",rows:"3",value:l.values.description,onChange:l.handleChange,placeholder:" ..."})]}),a.jsxs("div",{className:"form-check form-switch mb-4",children:[a.jsx(ie,{type:"checkbox",name:"is_active",checked:l.values.is_active,onChange:l.handleChange}),a.jsx(ee,{className:"form-check-label",children:"  "})]}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(_e,{type:"submit",color:"primary",disabled:e,children:e?a.jsx(Wn,{size:"sm"}):" "}),a.jsx(_e,{type:"button",color:"secondary",onClick:()=>t("/inventory/unit-list"),children:""})]})]})]})})})})]})})})},sRe=()=>{const{id:t}=su(),e=is(),[n,r]=C.useState(!0),[s,i]=C.useState(!1),[o,l]=C.useState(""),[c,u]=C.useState(""),[d,f]=C.useState({name:"",symbol:"",description:"",is_active:!0}),m=async()=>{var y;r(!0),l("");try{const _=await Bt(`/product-units/${t}`);f({name:_.name||"",symbol:_.symbol||"",description:_.description||"",is_active:_.is_active===!0})}catch(_){((y=_.response)==null?void 0:y.status)===404?l("    ."):l("    .")}r(!1)};C.useEffect(()=>{t&&m()},[t]);const p=Cl({enableReinitialize:!0,initialValues:d,validationSchema:to({name:jn().required("   "),symbol:jn().required("  ")}),onSubmit:async y=>{var _;i(!0),l(""),u("");try{if((await Bt("/product-units")||[]).some(T=>{if(T.id===Number(t))return!1;const N=T.name.trim().toLowerCase()===y.name.trim().toLowerCase(),P=T.symbol.trim().toLowerCase()===y.symbol.trim().toLowerCase();return N||P})){l("        ."),i(!1);return}const w={name:y.name,symbol:y.symbol,description:y.description,is_active:y.is_active},E=await oh(`/product-units/${t}`,w);E!=null&&E.id?(u("    ."),setTimeout(()=>e("/inventory/unit-list"),1200)):l("   .")}catch(b){((_=b.response)==null?void 0:_.status)===404?l("    ."):l("   .")}i(!1)}});return n?a.jsx("div",{className:"page-content",children:a.jsx(An,{fluid:!0,children:a.jsx(pe,{children:a.jsx(M,{lg:8,className:"mx-auto",children:a.jsx(Ct,{children:a.jsxs(At,{className:"text-center py-5",children:[a.jsx(Wn,{color:"primary"}),a.jsx("div",{className:"mt-3",children:a.jsx("h5",{className:"text-muted",children:"  ..."})})]})})})})})}):a.jsx(ae.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsxs(An,{fluid:!0,children:[a.jsx("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:a.jsx("h4",{className:"mb-sm-0 font-size-18",children:"  "})}),a.jsx(pe,{children:a.jsx(M,{lg:8,className:"mx-auto",children:a.jsx(Ct,{children:a.jsxs(At,{children:[a.jsx("h4",{className:"card-title mb-4",children:" "}),o&&a.jsxs(tr,{color:"danger",className:"alert-dismissible fade show",children:[o,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>l("")})]}),c&&a.jsxs(tr,{color:"success",className:"alert-dismissible fade show",children:[c,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>u("")})]}),a.jsxs(zo,{onSubmit:y=>{y.preventDefault(),p.handleSubmit()},children:[a.jsxs(pe,{children:[a.jsx(M,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"name",children:" "}),a.jsx(ie,{id:"name",name:"name",type:"text",value:p.values.name,onChange:p.handleChange,onBlur:p.handleBlur,invalid:p.touched.name&&!!p.errors.name,disabled:s}),a.jsx(Dt,{children:p.errors.name})]})}),a.jsx(M,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"symbol",children:""}),a.jsx(ie,{id:"symbol",name:"symbol",type:"text",value:p.values.symbol,onChange:p.handleChange,onBlur:p.handleBlur,invalid:p.touched.symbol&&!!p.errors.symbol,disabled:s}),a.jsx(Dt,{children:p.errors.symbol})]})})]}),a.jsx(pe,{children:a.jsx(M,{md:12,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"description",children:""}),a.jsx(ie,{id:"description",name:"description",type:"textarea",rows:"3",value:p.values.description,onChange:p.handleChange,disabled:s})]})})}),a.jsx(pe,{children:a.jsx(M,{md:12,children:a.jsxs("div",{className:"form-check form-switch mb-4",children:[a.jsx(ie,{id:"is_active",name:"is_active",type:"checkbox",className:"form-check-input",checked:p.values.is_active,onChange:p.handleChange,disabled:s}),a.jsx(ee,{className:"form-check-label",htmlFor:"is_active",children:" "})]})})}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(_e,{type:"submit",color:"primary",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(Wn,{size:"sm",className:"me-2"}),"..."]}):" "}),a.jsx(_e,{type:"button",color:"secondary",onClick:()=>e("/inventory/unit-list"),disabled:s,children:""})]})]})]})})})})]})})})},iRe=()=>{const[t,e]=C.useState([]),[n,r]=C.useState([]),[s,i]=C.useState(!0),[o,l]=C.useState(""),[c,u]=C.useState(""),[d,f]=C.useState(""),m=async()=>{i(!0),l("");try{const _=await Bt("/product-categories"),b=(_==null?void 0:_.data)||[];e(b),r(b)}catch{l("    ")}i(!1)};C.useEffect(()=>{m()},[]),C.useEffect(()=>{if(!d.trim()){r(t);return}const _=d.toLowerCase(),b=t.filter(x=>(x.name||"").toLowerCase().includes(_)||(x.slug||"").toLowerCase().includes(_));r(b)},[d,t]);const p=async(_,b)=>{var x;if(window.confirm(`    "${b}"  `))try{await pa(`/product-categories/${_}`),e(w=>w.filter(E=>E.id!==_)),r(w=>w.filter(E=>E.id!==_)),u(` "${b}"    `),setTimeout(()=>u(""),3e3)}catch(w){const E=(x=w.response)==null?void 0:x.status;l(E===409?"         .":E===404?"    .":"   ")}},y=_=>{if(!_)return"-";const b=t.find(x=>x.id===_);return b?b.name:"-"};return a.jsx(ae.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsxs(An,{fluid:!0,children:[a.jsxs("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:[a.jsx("h4",{className:"mb-sm-0 font-size-18",children:" "}),a.jsx("div",{className:"page-title-right",children:a.jsxs("ol",{className:"breadcrumb m-0",children:[a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Ce,{to:"/dashboard",children:""})}),a.jsx("li",{className:"breadcrumb-item active",children:""})]})})]}),a.jsx(pe,{children:a.jsx(M,{lg:12,children:a.jsx(Ct,{children:a.jsxs(At,{children:[a.jsxs("div",{className:"d-flex flex-wrap align-items-center justify-content-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"card-title mb-1",children:"  "}),a.jsx("p",{className:"card-title-desc mb-0",children:"   "})]}),a.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[a.jsxs(_e,{color:"light",onClick:m,disabled:s,children:[a.jsx("i",{className:"bx bx-refresh me-1"}),""]}),a.jsxs(Ce,{to:"/inventory/add-category",className:"btn btn-success",children:[a.jsx("i",{className:"bx bx-plus-circle me-1"}),"  "]})]})]}),o&&a.jsxs(tr,{color:"danger",className:"alert-dismissible fade show",children:[o,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>l("")})]}),c&&a.jsxs(tr,{color:"success",className:"alert-dismissible fade show",children:[c,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>u("")})]}),!s&&t.length>0&&a.jsxs(pe,{className:"mb-3",children:[a.jsx(M,{md:6,children:a.jsx("div",{className:"search-box",children:a.jsxs("div",{className:"position-relative",children:[a.jsx(ie,{type:"text",className:"form-control",placeholder:"     ...",value:d,onChange:_=>f(_.target.value)}),a.jsx("i",{className:"bx bx-search-alt search-icon"})]})})}),a.jsx(M,{md:6,className:"text-end",children:a.jsxs("div",{className:"text-muted",children:[" :"," ",a.jsx("strong",{children:t.length})," ",d&&a.jsxs(a.Fragment,{children:[" ","|  :"," ",a.jsx("strong",{children:n.length})]})]})})]}),s?a.jsxs("div",{className:"text-center py-5",children:[a.jsx(Wn,{}),a.jsx("div",{className:"mt-3 text-muted",children:"  ..."})]}):t.length===0?a.jsxs("div",{className:"text-center py-5",children:[a.jsx("h5",{className:"text-muted",children:"    "}),a.jsx(Ce,{to:"/inventory/add-category",className:"btn btn-success mt-2",children:"  "})]}):n.length===0?a.jsxs("div",{className:"text-center py-5",children:[a.jsx("h5",{className:"text-muted",children:"  "}),a.jsx(_e,{color:"light",onClick:()=>f(""),children:"  "})]}):a.jsx("div",{className:"table-responsive",children:a.jsxs(Yn,{className:"table table-hover table-nowrap align-middle mb-0",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"60px"},children:"#"}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{style:{width:"150px"},children:""})]})}),a.jsx("tbody",{children:n.map((_,b)=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("div",{className:"avatar-xs",children:a.jsx("span",{className:"avatar-title rounded-circle bg-soft-primary text-primary",children:b+1})})}),a.jsx("td",{children:_.name}),a.jsx("td",{children:a.jsx(ct,{color:"info",className:"badge-soft-info",pill:!0,children:_.slug})}),a.jsx("td",{className:"text-muted",children:y(_.parent_id)}),a.jsx("td",{children:_.is_active?a.jsx(ct,{color:"success",className:"badge-soft-success",children:""}):a.jsx(ct,{color:"secondary",className:"badge-soft-secondary",children:""})}),a.jsx("td",{children:a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(Ce,{to:`/inventory/edit-category/${_.id}`,className:"btn btn-sm btn-soft-primary",children:a.jsx("i",{className:"bx bx-edit-alt"})}),a.jsx(_e,{size:"sm",color:"soft-danger",onClick:()=>p(_.id,_.name),children:a.jsx("i",{className:"bx bx-trash"})})]})})]},_.id))})]})})]})})})})]})})})},aRe=()=>{const t=is(),[e,n]=C.useState(!1),[r,s]=C.useState(!0),[i,o]=C.useState(""),[l,c]=C.useState(""),[u,d]=C.useState([]);C.useEffect(()=>{async function p(){try{const y=await Bt("/product-categories");d((y==null?void 0:y.data)||[])}catch(y){console.error(" Error loading categories:",y)}s(!1)}p()},[]);const f=Cl({initialValues:{name:"",slug:"",parent_id:"",description:"",is_active:!0,storage_cost:"",loading_cost:""},validationSchema:to({name:jn().required("   ").min(2," 2 "),slug:jn().required("  ").matches(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"           "),storage_cost:Hc().nullable().typeError("   ").min(0,"  "),loading_cost:Hc().nullable().typeError("   ").min(0,"  ")}),onSubmit:async p=>{var y,_;o(""),c(""),n(!0);try{if(((await Bt("/product-categories")).data||[]).some(N=>{const P=N.name.trim().toLowerCase()===p.name.trim().toLowerCase(),D=N.slug.trim().toLowerCase()===p.slug.trim().toLowerCase();return P||D})){o("       ."),n(!1);return}const E={name:p.name,slug:p.slug,parent_id:p.parent_id?Number(p.parent_id):null,description:p.description||"",is_active:p.is_active,storage_cost:p.storage_cost?Number(p.storage_cost):null,loading_cost:p.loading_cost?Number(p.loading_cost):null},T=await Br("/product-categories",E);T!=null&&T.success?(c("    "),setTimeout(()=>{f.resetForm(),c("")},1500)):o((T==null?void 0:T.message)||"   ")}catch(b){console.error(" Create error:",b),o(((_=(y=b.response)==null?void 0:y.data)==null?void 0:_.message)||"   ")}n(!1)}}),m=p=>p.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");return a.jsx(ae.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsxs(An,{fluid:!0,children:[a.jsxs("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:[a.jsx("h4",{className:"mb-sm-0 font-size-18",children:"  "}),a.jsx("div",{className:"page-title-right",children:a.jsxs("ol",{className:"breadcrumb m-0",children:[a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Ce,{to:"/dashboard",children:""})}),a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Ce,{to:"/inventory/category-list",children:""})}),a.jsx("li",{className:"breadcrumb-item active",children:" "})]})})]}),a.jsx(pe,{children:a.jsx(M,{lg:8,className:"mx-auto",children:a.jsx(Ct,{children:a.jsxs(At,{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"card-title",children:" "}),a.jsx("p",{className:"card-title-desc",children:"      "})]}),i&&a.jsxs(tr,{color:"danger",className:"alert-dismissible fade show",children:[i,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>o("")})]}),l&&a.jsxs(tr,{color:"success",className:"alert-dismissible fade show",children:[l,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>c("")})]}),a.jsxs(zo,{onSubmit:f.handleSubmit,children:[a.jsxs(pe,{children:[a.jsx(M,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:"  *"}),a.jsx(ie,{name:"name",type:"text",placeholder:": ",value:f.values.name,onChange:p=>{f.handleChange(p),f.setFieldValue("slug",m(p.target.value))},invalid:f.touched.name&&!!f.errors.name}),a.jsx(Dt,{children:f.errors.name})]})}),a.jsx(M,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:" (Slug) *"}),a.jsx(ie,{name:"slug",type:"text",placeholder:"steel",value:f.values.slug,onChange:f.handleChange,invalid:f.touched.slug&&!!f.errors.slug}),a.jsx(Dt,{children:f.errors.slug})]})})]}),a.jsx(pe,{children:a.jsx(M,{md:12,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:" "}),r?a.jsx(Wn,{size:"sm"}):a.jsxs(ie,{name:"parent_id",type:"select",value:f.values.parent_id,onChange:f.handleChange,children:[a.jsx("option",{value:"",children:"  ( )"}),u.map(p=>a.jsx("option",{value:p.id,children:p.name},p.id))]})]})})}),a.jsx(pe,{children:a.jsx(M,{md:12,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:""}),a.jsx(ie,{name:"description",type:"textarea",rows:"4",value:f.values.description,onChange:f.handleChange})]})})}),a.jsxs(pe,{children:[a.jsx(M,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:" "}),a.jsx(ie,{name:"storage_cost",type:"number",placeholder:" 5000",value:f.values.storage_cost,onChange:f.handleChange,invalid:f.touched.storage_cost&&!!f.errors.storage_cost}),a.jsx(Dt,{children:f.errors.storage_cost})]})}),a.jsx(M,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:" "}),a.jsx(ie,{name:"loading_cost",type:"number",placeholder:" 20000",value:f.values.loading_cost,onChange:f.handleChange,invalid:f.touched.loading_cost&&!!f.errors.loading_cost}),a.jsx(Dt,{children:f.errors.loading_cost})]})})]}),a.jsx(pe,{children:a.jsx(M,{md:12,children:a.jsxs("div",{className:"form-check form-switch mb-4",children:[a.jsx(ie,{type:"checkbox",name:"is_active",className:"form-check-input",checked:f.values.is_active,onChange:f.handleChange}),a.jsx(ee,{className:"form-check-label",children:"  "})]})})}),a.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[a.jsx(_e,{type:"submit",color:"primary",disabled:e,children:e?a.jsxs(a.Fragment,{children:[a.jsx(Wn,{size:"sm",className:"me-2"}),"  ..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bx bx-check-double me-1"})," "]})}),a.jsx(_e,{type:"button",color:"light",onClick:()=>f.resetForm(),disabled:e,children:"  "}),a.jsx(_e,{type:"button",color:"secondary",onClick:()=>t("/inventory/category-list"),children:""})]})]})]})})})})]})})})},oRe=()=>{const{id:t}=su(),e=is(),[n,r]=C.useState(!0),[s,i]=C.useState(!1),[o,l]=C.useState(!0),[c,u]=C.useState(""),[d,f]=C.useState(""),[m,p]=C.useState([]),[y,_]=C.useState({name:"",slug:"",parent_id:"",description:"",is_active:!0,storage_cost:"",loading_cost:""});C.useEffect(()=>{async function w(){try{const E=await Bt("/product-categories");p((E==null?void 0:E.data)||[])}catch(E){console.error(" Load categories error:",E)}l(!1)}w()},[]);const b=async()=>{r(!0);try{const w=await Bt(`/product-categories/${t}`);if(!(w!=null&&w.data)){u("  ."),r(!1);return}const E=w.data;_({name:E.name||"",slug:E.slug||"",parent_id:E.parent_id||"",description:E.description||"",is_active:E.is_active??!0,storage_cost:E.storage_cost??"",loading_cost:E.loading_cost??""})}catch(w){console.error(" Load category error:",w),u("    ")}r(!1)};C.useEffect(()=>{b()},[t]);const x=Cl({enableReinitialize:!0,initialValues:y,validationSchema:to({name:jn().required("   ").min(2),slug:jn().required("  ").matches(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"  ")}),onSubmit:async w=>{var E,T;u(""),f(""),i(!0);try{if(((await Bt("/product-categories")).data||[]).some(q=>q.id===Number(t)?!1:q.name.trim().toLowerCase()===w.name.trim().toLowerCase()||q.slug.trim().toLowerCase()===w.slug.trim().toLowerCase())){u("        ."),i(!1);return}const F={name:w.name,slug:w.slug,parent_id:w.parent_id?Number(w.parent_id):null,description:w.description||"",is_active:w.is_active,storage_cost:w.storage_cost?Number(w.storage_cost):null,loading_cost:w.loading_cost?Number(w.loading_cost):null},Y=await fx(`/product-categories/${t}`,F);Y!=null&&Y.success?(f("    "),setTimeout(()=>e("/inventory/category-list"),1200)):u((Y==null?void 0:Y.message)||"   ")}catch(N){console.error(" Update error:",N),u(((T=(E=N.response)==null?void 0:E.data)==null?void 0:T.message)||"   ")}i(!1)}});return n?a.jsx("div",{className:"page-content",children:a.jsx(An,{fluid:!0,children:a.jsx(pe,{children:a.jsx(M,{lg:8,className:"mx-auto",children:a.jsx(Ct,{children:a.jsxs(At,{className:"text-center py-5",children:[a.jsx(Wn,{}),a.jsx("div",{className:"mt-3 text-muted",children:"  ..."})]})})})})})}):a.jsx(ae.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsxs(An,{fluid:!0,children:[a.jsxs("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:[a.jsx("h4",{className:"mb-sm-0 font-size-18",children:" "}),a.jsx("div",{className:"page-title-right",children:a.jsxs("ol",{className:"breadcrumb m-0",children:[a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Ce,{to:"/dashboard",children:""})}),a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Ce,{to:"/inventory/category-list",children:""})}),a.jsx("li",{className:"breadcrumb-item active",children:""})]})})]}),a.jsx(pe,{children:a.jsx(M,{lg:8,className:"mx-auto",children:a.jsx(Ct,{children:a.jsxs(At,{children:[c&&a.jsx(tr,{color:"danger",toggle:()=>u(""),children:c}),d&&a.jsx(tr,{color:"success",toggle:()=>f(""),children:d}),a.jsxs(zo,{onSubmit:x.handleSubmit,children:[a.jsxs(pe,{children:[a.jsx(M,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:"*"}),a.jsx(ie,{name:"name",value:x.values.name,onChange:x.handleChange,invalid:x.touched.name&&!!x.errors.name}),a.jsx(Dt,{children:x.errors.name})]})}),a.jsx(M,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:"*"}),a.jsx(ie,{name:"slug",value:x.values.slug,onChange:x.handleChange,invalid:x.touched.slug&&!!x.errors.slug}),a.jsx(Dt,{children:x.errors.slug})]})})]}),a.jsx(pe,{children:a.jsx(M,{md:12,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:" "}),o?a.jsx(Wn,{size:"sm"}):a.jsxs(ie,{name:"parent_id",type:"select",value:x.values.parent_id,onChange:x.handleChange,children:[a.jsx("option",{value:"",children:" "}),m.filter(w=>w.id!==Number(t)).map(w=>a.jsx("option",{value:w.id,children:w.name},w.id))]})]})})}),a.jsx(pe,{children:a.jsx(M,{md:12,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:""}),a.jsx(ie,{type:"textarea",name:"description",rows:"3",value:x.values.description,onChange:x.handleChange})]})})}),a.jsxs(pe,{children:[a.jsx(M,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:" "}),a.jsx(ie,{type:"number",name:"storage_cost",value:x.values.storage_cost,onChange:x.handleChange,invalid:x.touched.storage_cost&&!!x.errors.storage_cost}),a.jsx(Dt,{children:x.errors.storage_cost})]})}),a.jsx(M,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:" "}),a.jsx(ie,{type:"number",name:"loading_cost",value:x.values.loading_cost,onChange:x.handleChange,invalid:x.touched.loading_cost&&!!x.errors.loading_cost}),a.jsx(Dt,{children:x.errors.loading_cost})]})})]}),a.jsx(pe,{children:a.jsx(M,{md:12,children:a.jsxs("div",{className:"form-check form-switch mb-4",children:[a.jsx(ie,{type:"checkbox",name:"is_active",className:"form-check-input",checked:x.values.is_active,onChange:x.handleChange}),a.jsx(ee,{className:"form-check-label",children:" "})]})})}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(_e,{type:"submit",color:"primary",disabled:s,children:s?"  ...":" "}),a.jsx(_e,{color:"secondary",disabled:s,onClick:()=>e("/inventory/category-list"),children:""})]})]})]})})})})]})})})},lRe=()=>{const[t,e]=C.useState([]),[n,r]=C.useState([]),[s,i]=C.useState(!0),[o,l]=C.useState(""),[c,u]=C.useState(""),[d,f]=C.useState(""),m=async()=>{i(!0),l("");try{const w=await Bt("/products");let T=(Array.isArray(w)?w:Array.isArray(w==null?void 0:w.data)?w.data:[]).filter(N=>!!(N.sku&&String(N.sku).trim()));T.sort((N,P)=>{const D=(N.name||"").toString(),F=(P.name||"").toString();return D.localeCompare(F,"fa")}),e(T),r(T)}catch{l("    ")}i(!1)};C.useEffect(()=>{m()},[]),C.useEffect(()=>{if(!d.trim()){r(t);return}const w=d.toLowerCase(),E=t.filter(T=>{var D,F,Y,q,B,G,J;const N=((D=T.category)==null?void 0:D.name)||((F=T.product_categories)==null?void 0:F.name)||"",P=((Y=T.unit)==null?void 0:Y.name)||((q=T.product_units)==null?void 0:q.name)||"";return((B=T.name)==null?void 0:B.toLowerCase().includes(w))||((G=T.sku)==null?void 0:G.toLowerCase().includes(w))||((J=T.barcode)==null?void 0:J.toLowerCase().includes(w))||N.toLowerCase().includes(w)||P.toLowerCase().includes(w)});r(E)},[d,t]);const p=async(w,E)=>{var T;if(window.confirm(`   "${E}"  `))try{await pa(`/products/${w}`),e(N=>N.filter(P=>P.id!==w)),r(N=>N.filter(P=>P.id!==w)),u(` "${E}"  .`),setTimeout(()=>u(""),2500)}catch(N){((T=N.response)==null?void 0:T.status)===409?l("         ."):l("   ")}},y=w=>w?new Intl.NumberFormat("fa-IR").format(w)+" ":"-",_=w=>{const E=w.min_stock||0;return a.jsxs(ct,{color:"warning",className:"badge-soft-warning",children:[" : ",E]})},b=w=>{var E,T;return((E=w.category)==null?void 0:E.name)||((T=w.product_categories)==null?void 0:T.name)||"-"},x=w=>{var E,T;return((E=w.unit)==null?void 0:E.name)||((T=w.product_units)==null?void 0:T.name)||"-"};return a.jsx(ae.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsxs(An,{fluid:!0,children:[a.jsxs("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:[a.jsx("h4",{className:"mb-sm-0 font-size-18",children:""}),a.jsx("div",{className:"page-title-right",children:a.jsxs("ol",{className:"breadcrumb m-0",children:[a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Ce,{to:"/dashboard",children:""})}),a.jsx("li",{className:"breadcrumb-item active",children:" "})]})})]}),a.jsx(pe,{children:a.jsx(M,{lg:12,children:a.jsx(Ct,{children:a.jsxs(At,{children:[a.jsxs("div",{className:"d-flex flex-wrap align-items-center justify-content-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"card-title mb-1",children:" "}),a.jsx("p",{className:"card-title-desc mb-0",children:"    "})]}),a.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[a.jsxs(_e,{color:"light",onClick:m,disabled:s,children:[a.jsx("i",{className:"bx bx-refresh me-1"}),""]}),a.jsxs(Ce,{to:"/inventory/add-product",className:"btn btn-success",children:[a.jsx("i",{className:"bx bx-plus-circle me-1"}),"  "]})]})]}),o&&a.jsxs(tr,{color:"danger",className:"alert-dismissible fade show",children:[o,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>l("")})]}),c&&a.jsxs(tr,{color:"success",className:"alert-dismissible fade show",children:[c,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>u("")})]}),!s&&t.length>0&&a.jsxs(pe,{className:"mb-3",children:[a.jsx(M,{md:6,children:a.jsx("div",{className:"search-box",children:a.jsxs("div",{className:"position-relative",children:[a.jsx(ie,{type:"text",className:"form-control",placeholder:"        ...",value:d,onChange:w=>f(w.target.value)}),a.jsx("i",{className:"bx bx-search-alt search-icon"})]})})}),a.jsx(M,{md:6,className:"text-end",children:a.jsxs("div",{className:"text-muted",children:[" : ",a.jsx("strong",{children:t.length})," ",d&&a.jsxs(a.Fragment,{children:[" ","| :"," ",a.jsx("strong",{children:n.length})]})]})})]}),s?a.jsxs("div",{className:"text-center py-5",children:[a.jsx(Wn,{}),a.jsx("h5",{className:"mt-3 text-muted",children:"  ..."})]}):n.length===0?a.jsx("div",{className:"text-center py-5",children:a.jsx("h5",{className:"text-muted",children:"  "})}):a.jsx("div",{className:"table-responsive",children:a.jsxs(Yn,{className:"table table-hover align-middle",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:"#"}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:n.map((w,E)=>a.jsxs("tr",{children:[a.jsx("td",{children:E+1}),a.jsxs("td",{children:[a.jsx("strong",{children:w.name}),a.jsx("br",{}),w.barcode&&a.jsxs("small",{className:"text-muted",children:[a.jsx("i",{className:"bx bx-barcode"})," ",w.barcode]})]}),a.jsx("td",{children:a.jsx(ct,{pill:!0,color:"info",className:"badge-soft-info",children:w.sku})}),a.jsx("td",{children:b(w)}),a.jsx("td",{children:x(w)}),a.jsx("td",{children:a.jsx(ct,{color:"warning",className:"badge-soft-warning",children:w.min_stock||0})}),a.jsx("td",{children:y(w.price)}),a.jsx("td",{children:_(w)}),a.jsx("td",{children:a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(Ce,{to:`/inventory/edit-product/${w.id}`,className:"btn btn-sm btn-soft-primary",children:a.jsx("i",{className:"bx bx-edit-alt"})}),a.jsx(_e,{size:"sm",color:"soft-danger",onClick:()=>p(w.id,w.name),children:a.jsx("i",{className:"bx bx-trash"})})]})})]},w.id))})]})})]})})})})]})})})},cRe=()=>{const t=is(),[e,n]=C.useState(!1),[r,s]=C.useState(!0),[i,o]=C.useState(""),[l,c]=C.useState(""),[u,d]=C.useState([]),[f,m]=C.useState([]);C.useEffect(()=>{async function y(){s(!0),o("");try{const[_,b]=await Promise.all([Bt("/product-units"),Bt("/product-categories")]);console.log(" Units:",_),console.log(" Categories:",b);const x=(Array.isArray(_)?_:(_==null?void 0:_.data)||[]).sort((E,T)=>E.name.localeCompare(T.name,"fa")),w=((b==null?void 0:b.data)||[]).sort((E,T)=>E.name.localeCompare(T.name,"fa"));d(x),m(w)}catch(_){console.error(" Error loading initial data:",_),o("     (  )")}s(!1)}y()},[]);const p=Cl({initialValues:{name:"",sku:"",category_id:"",unit_id:"",min_stock:"",max_stock:"",location:"",price:"",cost_price:"",barcode:"",batch_number:"",expire_date:"",description:"",specifications:"",is_active:!0,notes:""},validationSchema:to({name:jn().required("   ").min(2,"    2  "),sku:jn().required("  (SKU)  ").min(2,"    2  "),category_id:jn().required("  "),unit_id:jn().required("   "),price:Hc().nullable().typeError("   ").min(0,"   "),min_stock:Hc().nullable().typeError("    ").min(0,"    "),max_stock:Hc().nullable().typeError("    ").min(0,"    ")}),onSubmit:async y=>{var _,b;o(""),c(""),n(!0),console.log(" Creating new product with values:",y);try{const x=await Bt("/products");if(((Array.isArray(x)?x:(x==null?void 0:x.data)||[])||[]).some(D=>(D.sku||"").trim().toLowerCase()===y.sku.trim().toLowerCase())){o("     (SKU)  ."),n(!1);return}const T={name:y.name,sku:y.sku,category_id:y.category_id?Number(y.category_id):null,unit_id:y.unit_id?Number(y.unit_id):null,min_stock:y.min_stock!==""&&y.min_stock!==null?Number(y.min_stock):0,max_stock:y.max_stock!==""&&y.max_stock!==null?Number(y.max_stock):null,location:y.location||null,price:y.price!==""&&y.price!==null?Number(y.price):null,cost_price:y.cost_price!==""&&y.cost_price!==null?Number(y.cost_price):null,barcode:y.barcode||null,batch_number:y.batch_number||null,expire_date:y.expire_date||null,description:y.description||null,specifications:y.specifications||null,is_active:y.is_active,notes:y.notes||null};console.log(" Product payload:",T);const N=await Br("/products",T),P=(N==null?void 0:N.data)||N;P!=null&&P.id?(c("    "),setTimeout(()=>{p.resetForm(),c("")},2e3)):(console.warn(" Unexpected create response:",N),o("   "))}catch(x){console.error(" Create product error:",x),o(((b=(_=x.response)==null?void 0:_.data)==null?void 0:b.message)||"   ")}n(!1)}});return r?a.jsx("div",{className:"page-content",children:a.jsx(An,{fluid:!0,children:a.jsx(pe,{children:a.jsx(M,{lg:10,className:"mx-auto",children:a.jsx(Ct,{children:a.jsxs(At,{className:"text-center py-5",children:[a.jsx(Wn,{color:"primary"}),a.jsx("div",{className:"mt-3",children:a.jsx("h5",{className:"text-muted",children:"   ..."})})]})})})})})}):a.jsx(ae.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsxs(An,{fluid:!0,children:[a.jsxs("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:[a.jsx("h4",{className:"mb-sm-0 font-size-18",children:" "}),a.jsx("div",{className:"page-title-right",children:a.jsxs("ol",{className:"breadcrumb m-0",children:[a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Ce,{to:"/dashboard",children:""})}),a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Ce,{to:"/inventory/product-list",children:""})}),a.jsx("li",{className:"breadcrumb-item active",children:" "})]})})]}),a.jsx(pe,{children:a.jsx(M,{lg:10,className:"mx-auto",children:a.jsx(Ct,{children:a.jsxs(At,{children:[a.jsxs("div",{className:"mb-4 d-flex align-items-center",children:[a.jsx("div",{className:"avatar-sm me-3",children:a.jsx("div",{className:"avatar-title rounded-circle bg-soft-primary text-primary font-size-20",children:a.jsx("i",{className:"bx bx-package"})})}),a.jsxs("div",{children:[a.jsx("h4",{className:"card-title mb-1",children:" "}),a.jsx("p",{className:"card-title-desc mb-0",children:"      "})]})]}),i&&a.jsxs(tr,{color:"danger",className:"alert-dismissible fade show",children:[a.jsx("i",{className:"mdi mdi-block-helper me-2"}),i,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>o("")})]}),l&&a.jsxs(tr,{color:"success",className:"alert-dismissible fade show",children:[a.jsx("i",{className:"mdi mdi-check-all me-2"}),l,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>c("")})]}),a.jsxs(zo,{onSubmit:y=>{y.preventDefault(),p.handleSubmit()},children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("h5",{className:"font-size-14 mb-3",children:[a.jsx("i",{className:"bx bx-info-circle me-1"})," "]}),a.jsxs(pe,{children:[a.jsx(M,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsxs(ee,{htmlFor:"name",className:"form-label",children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(ie,{id:"name",name:"name",type:"text",placeholder:":    ",value:p.values.name,onChange:p.handleChange,onBlur:p.handleBlur,invalid:p.touched.name&&!!p.errors.name,disabled:e}),a.jsx(Dt,{children:p.errors.name})]})}),a.jsx(M,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsxs(ee,{htmlFor:"sku",className:"form-label",children:["  (SKU)"," ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(ie,{id:"sku",name:"sku",type:"text",placeholder:": SKU-123",value:p.values.sku,onChange:p.handleChange,onBlur:p.handleBlur,invalid:p.touched.sku&&!!p.errors.sku,disabled:e}),a.jsx(Dt,{children:p.errors.sku})]})})]}),a.jsxs(pe,{children:[a.jsx(M,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsxs(ee,{htmlFor:"category_id",className:"form-label",children:[""," ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs(ie,{id:"category_id",name:"category_id",type:"select",value:p.values.category_id,onChange:p.handleChange,onBlur:p.handleBlur,invalid:p.touched.category_id&&!!p.errors.category_id,disabled:e,children:[a.jsx("option",{value:"",children:" ..."}),f.map(y=>a.jsx("option",{value:y.id,children:y.name},y.id))]}),a.jsx(Dt,{children:p.errors.category_id})]})}),a.jsx(M,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsxs(ee,{htmlFor:"unit_id",className:"form-label",children:[" ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs(ie,{id:"unit_id",name:"unit_id",type:"select",value:p.values.unit_id,onChange:p.handleChange,onBlur:p.handleBlur,invalid:p.touched.unit_id&&!!p.errors.unit_id,disabled:e,children:[a.jsx("option",{value:"",children:" ..."}),u.map(y=>a.jsxs("option",{value:y.id,children:[y.name," ",y.symbol?`(${y.symbol})`:""]},y.id))]}),a.jsx(Dt,{children:p.errors.unit_id})]})})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h5",{className:"font-size-14 mb-3",children:[a.jsx("i",{className:"bx bx-dollar-circle me-1"}),"   "]}),a.jsxs(pe,{children:[a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"min_stock",className:"form-label",children:" "}),a.jsx(ie,{id:"min_stock",name:"min_stock",type:"number",placeholder:" 0",value:p.values.min_stock,onChange:p.handleChange,onBlur:p.handleBlur,invalid:p.touched.min_stock&&!!p.errors.min_stock,disabled:e}),a.jsx(Dt,{children:p.errors.min_stock})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"max_stock",className:"form-label",children:" "}),a.jsx(ie,{id:"max_stock",name:"max_stock",type:"number",placeholder:" 100",value:p.values.max_stock,onChange:p.handleChange,onBlur:p.handleBlur,invalid:p.touched.max_stock&&!!p.errors.max_stock,disabled:e}),a.jsx(Dt,{children:p.errors.max_stock})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"location",className:"form-label",children:"  "}),a.jsx(ie,{id:"location",name:"location",type:"text",placeholder:"  A  3",value:p.values.location,onChange:p.handleChange,disabled:e})]})})]}),a.jsxs(pe,{children:[a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"price",className:"form-label",children:"  ()"}),a.jsx(ie,{id:"price",name:"price",type:"number",placeholder:" 45000",value:p.values.price,onChange:p.handleChange,onBlur:p.handleBlur,invalid:p.touched.price&&!!p.errors.price,disabled:e}),a.jsx(Dt,{children:p.errors.price})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"cost_price",className:"form-label",children:"  ()"}),a.jsx(ie,{id:"cost_price",name:"cost_price",type:"number",placeholder:" 40000",value:p.values.cost_price,onChange:p.handleChange,disabled:e})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"expire_date",className:"form-label",children:" "}),a.jsx(ie,{id:"expire_date",name:"expire_date",type:"date",value:p.values.expire_date,onChange:p.handleChange,disabled:e})]})})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h5",{className:"font-size-14 mb-3",children:[a.jsx("i",{className:"bx bx-barcode me-1"})," "]}),a.jsxs(pe,{children:[a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"barcode",className:"form-label",children:""}),a.jsx(ie,{id:"barcode",name:"barcode",type:"text",placeholder:"123456789",value:p.values.barcode,onChange:p.handleChange,disabled:e})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"batch_number",className:"form-label",children:"  /  "}),a.jsx(ie,{id:"batch_number",name:"batch_number",type:"text",placeholder:"BATCH-2025-001",value:p.values.batch_number,onChange:p.handleChange,disabled:e})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"notes",className:"form-label",children:""}),a.jsx(ie,{id:"notes",name:"notes",type:"text",placeholder:" ...",value:p.values.notes,onChange:p.handleChange,disabled:e})]})})]}),a.jsxs(pe,{children:[a.jsx(M,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"description",className:"form-label",children:""}),a.jsx(ie,{id:"description",name:"description",type:"textarea",rows:"4",placeholder:"   ...",value:p.values.description,onChange:p.handleChange,disabled:e})]})}),a.jsx(M,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"specifications",className:"form-label",children:" "}),a.jsx(ie,{id:"specifications",name:"specifications",type:"textarea",rows:"4",placeholder:"  ...",value:p.values.specifications,onChange:p.handleChange,disabled:e})]})})]})]}),a.jsx(pe,{children:a.jsx(M,{md:12,children:a.jsxs("div",{className:"mb-4 form-check form-switch",children:[a.jsx(ie,{id:"is_active",name:"is_active",type:"checkbox",className:"form-check-input",checked:p.values.is_active,onChange:p.handleChange,disabled:e}),a.jsx(ee,{className:"form-check-label",htmlFor:"is_active",children:"  "})]})})}),a.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[a.jsx(_e,{type:"submit",color:"primary",disabled:e,children:e?a.jsxs(a.Fragment,{children:[a.jsx(Wn,{size:"sm",className:"me-2"}),"  ..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bx bx-check-double me-1"})," "]})}),a.jsxs(_e,{type:"button",color:"light",disabled:e,onClick:()=>{p.resetForm(),o(""),c("")},children:[a.jsx("i",{className:"bx bx-refresh me-1"}),"  "]}),a.jsxs(_e,{type:"button",color:"secondary",onClick:()=>t("/inventory/product-list"),disabled:e,children:[a.jsx("i",{className:"bx bx-arrow-back me-1"}),"  "]})]})]})]})})})})]})})})},uRe=()=>{const{id:t}=su(),e=is(),[n,r]=C.useState(!0),[s,i]=C.useState(!1),[o,l]=C.useState(!0),[c,u]=C.useState(""),[d,f]=C.useState(""),[m,p]=C.useState([]),[y,_]=C.useState([]),[b,x]=C.useState({name:"",sku:"",category_id:"",unit_id:"",min_stock:"",max_stock:"",location:"",price:"",cost_price:"",barcode:"",batch_number:"",expire_date:"",description:"",specifications:"",is_active:!0,notes:""});C.useEffect(()=>{async function T(){l(!0),u("");try{const[N,P]=await Promise.all([Bt("/product-units"),Bt("/product-categories")]);console.log(" Units:",N),console.log(" Categories:",P);const D=(Array.isArray(N)?N:(N==null?void 0:N.data)||[]).sort((Y,q)=>Y.name.localeCompare(q.name,"fa")),F=((P==null?void 0:P.data)||[]).sort((Y,q)=>Y.name.localeCompare(q.name,"fa"));p(D),_(F)}catch(N){console.error(" Error loading initial data:",N),u("     (  )")}l(!1)}T()},[]);const w=async()=>{r(!0),u("");try{const T=await Bt(`/products/${t}`),N=(T==null?void 0:T.data)||T;x({name:N.name||"",sku:N.sku||"",category_id:N.category_id||"",unit_id:N.unit_id||"",min_stock:N.min_stock??"",max_stock:N.max_stock??"",location:N.location??"",price:N.price??"",cost_price:N.cost_price??"",barcode:N.barcode??"",batch_number:N.batch_number??"",expire_date:N.expire_date??"",description:N.description??"",specifications:N.specifications??"",is_active:N.is_active??!0,notes:N.notes??""})}catch(T){console.error(" Error loading product:",T),u("    .")}r(!1)};C.useEffect(()=>{w()},[t]);const E=Cl({enableReinitialize:!0,initialValues:b,validationSchema:to({name:jn().required("   ").min(2,"  "),sku:jn().required("   "),category_id:jn().required("   "),unit_id:jn().required("   "),price:Hc().nullable().typeError("   ").min(0,"   ")}),onSubmit:async T=>{var N,P,D;i(!0),u(""),f("");try{const F=await Bt("/products");if((Array.isArray(F)?F:(F==null?void 0:F.data)||[]).some(J=>J.id!==Number(t)&&(J.sku||"").trim().toLowerCase()===T.sku.trim().toLowerCase())){u("     (SKU)  ."),i(!1);return}const B={name:T.name,sku:T.sku,category_id:Number(T.category_id),unit_id:Number(T.unit_id),min_stock:T.min_stock?Number(T.min_stock):0,max_stock:T.max_stock?Number(T.max_stock):null,location:T.location||null,price:T.price?Number(T.price):null,cost_price:T.cost_price?Number(T.cost_price):null,barcode:T.barcode||null,batch_number:T.batch_number||null,expire_date:T.expire_date||null,description:T.description||null,specifications:T.specifications||null,is_active:T.is_active,notes:T.notes||null},G=await fx(`/products/${t}`,B);(N=G==null?void 0:G.data)!=null&&N.id||G!=null&&G.id?(f("    ."),setTimeout(()=>e("/inventory/product-list"),1200)):u("   ")}catch(F){console.error(" Update error:",F),u(((D=(P=F==null?void 0:F.response)==null?void 0:P.data)==null?void 0:D.message)||" ")}i(!1)}});return n||o?a.jsx("div",{className:"page-content",children:a.jsx(An,{fluid:!0,children:a.jsx(Ct,{children:a.jsxs(At,{className:"text-center py-5",children:[a.jsx(Wn,{color:"primary"}),a.jsx("h5",{className:"text-muted mt-3",children:"  ..."})]})})})}):a.jsx(ae.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsxs(An,{fluid:!0,children:[a.jsxs("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:[a.jsx("h4",{className:"mb-0",children:" "}),a.jsx("div",{className:"page-title-right",children:a.jsxs("ol",{className:"breadcrumb m-0",children:[a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Ce,{to:"/dashboard",children:""})}),a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Ce,{to:"/inventory/product-list",children:""})}),a.jsx("li",{className:"breadcrumb-item active",children:""})]})})]}),a.jsx(pe,{children:a.jsx(M,{lg:10,className:"mx-auto",children:a.jsx(Ct,{children:a.jsxs(At,{children:[c&&a.jsx(tr,{color:"danger",children:c}),d&&a.jsx(tr,{color:"success",children:d}),a.jsxs(zo,{onSubmit:T=>{T.preventDefault(),E.handleSubmit()},children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("h5",{className:"font-size-14 mb-3",children:[a.jsx("i",{className:"bx bx-info-circle me-1"})," "]}),a.jsxs(pe,{children:[a.jsxs(M,{md:6,children:[a.jsx(ee,{children:"  *"}),a.jsx(ie,{id:"name",name:"name",value:E.values.name,onChange:E.handleChange,onBlur:E.handleBlur,invalid:E.touched.name&&!!E.errors.name,disabled:s}),a.jsx(Dt,{children:E.errors.name})]}),a.jsxs(M,{md:6,children:[a.jsx(ee,{children:"  (SKU) *"}),a.jsx(ie,{id:"sku",name:"sku",value:E.values.sku,onChange:E.handleChange,onBlur:E.handleBlur,invalid:E.touched.sku&&!!E.errors.sku,disabled:s}),a.jsx(Dt,{children:E.errors.sku})]})]}),a.jsxs(pe,{className:"mt-3",children:[a.jsxs(M,{md:6,children:[a.jsx(ee,{children:" *"}),a.jsxs(ie,{id:"category_id",name:"category_id",type:"select",value:E.values.category_id,onChange:E.handleChange,invalid:E.touched.category_id&&!!E.errors.category_id,disabled:s,children:[a.jsx("option",{value:"",children:" ..."}),y.map(T=>a.jsx("option",{value:T.id,children:T.name},T.id))]}),a.jsx(Dt,{children:E.errors.category_id})]}),a.jsxs(M,{md:6,children:[a.jsx(ee,{children:" *"}),a.jsxs(ie,{id:"unit_id",name:"unit_id",type:"select",value:E.values.unit_id,onChange:E.handleChange,invalid:E.touched.unit_id&&!!E.errors.unit_id,disabled:s,children:[a.jsx("option",{value:"",children:" ..."}),m.map(T=>a.jsxs("option",{value:T.id,children:[T.name," ",T.symbol?`(${T.symbol})`:""]},T.id))]}),a.jsx(Dt,{children:E.errors.unit_id})]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h5",{className:"font-size-14 mb-3",children:[a.jsx("i",{className:"bx bx-dollar-circle me-1"}),"   "]}),a.jsxs(pe,{children:[a.jsxs(M,{md:4,children:[a.jsx(ee,{children:" "}),a.jsx(ie,{id:"min_stock",name:"min_stock",type:"number",value:E.values.min_stock,onChange:E.handleChange,disabled:s})]}),a.jsxs(M,{md:4,children:[a.jsx(ee,{children:" "}),a.jsx(ie,{id:"max_stock",name:"max_stock",type:"number",value:E.values.max_stock,onChange:E.handleChange,disabled:s})]}),a.jsxs(M,{md:4,children:[a.jsx(ee,{children:" "}),a.jsx(ie,{id:"location",name:"location",type:"text",value:E.values.location,onChange:E.handleChange,disabled:s})]})]}),a.jsxs(pe,{className:"mt-3",children:[a.jsxs(M,{md:4,children:[a.jsx(ee,{children:" "}),a.jsx(ie,{id:"price",name:"price",type:"number",value:E.values.price,onChange:E.handleChange,onBlur:E.handleBlur,invalid:E.touched.price&&!!E.errors.price,disabled:s}),a.jsx(Dt,{children:E.errors.price})]}),a.jsxs(M,{md:4,children:[a.jsx(ee,{children:" "}),a.jsx(ie,{id:"cost_price",name:"cost_price",type:"number",value:E.values.cost_price,onChange:E.handleChange,disabled:s})]}),a.jsxs(M,{md:4,children:[a.jsx(ee,{children:" "}),a.jsx(ie,{id:"expire_date",name:"expire_date",type:"date",value:E.values.expire_date,onChange:E.handleChange,disabled:s})]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h5",{className:"font-size-14 mb-3",children:[a.jsx("i",{className:"bx bx-barcode me-1"})," "]}),a.jsxs(pe,{children:[a.jsxs(M,{md:4,children:[a.jsx(ee,{children:""}),a.jsx(ie,{id:"barcode",name:"barcode",value:E.values.barcode,onChange:E.handleChange,disabled:s})]}),a.jsxs(M,{md:4,children:[a.jsx(ee,{children:" "}),a.jsx(ie,{id:"batch_number",name:"batch_number",value:E.values.batch_number,onChange:E.handleChange,disabled:s})]}),a.jsxs(M,{md:4,children:[a.jsx(ee,{children:""}),a.jsx(ie,{id:"notes",name:"notes",value:E.values.notes,onChange:E.handleChange,disabled:s})]})]}),a.jsxs(pe,{className:"mt-3",children:[a.jsxs(M,{md:6,children:[a.jsx(ee,{children:""}),a.jsx(ie,{id:"description",name:"description",type:"textarea",rows:"3",value:E.values.description,onChange:E.handleChange,disabled:s})]}),a.jsxs(M,{md:6,children:[a.jsx(ee,{children:" "}),a.jsx(ie,{id:"specifications",name:"specifications",type:"textarea",rows:"3",value:E.values.specifications,onChange:E.handleChange,disabled:s})]})]})]}),a.jsxs("div",{className:"form-check form-switch mb-4",children:[a.jsx(ie,{type:"checkbox",id:"is_active",name:"is_active",className:"form-check-input",checked:E.values.is_active,onChange:E.handleChange,disabled:s}),a.jsx(ee,{className:"form-check-label",htmlFor:"is_active",children:" "})]}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(_e,{color:"primary",type:"submit",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(Wn,{size:"sm",className:"me-2"}),"  ..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bx bx-check-double me-1"})," "]})}),a.jsxs(_e,{type:"button",color:"secondary",onClick:()=>e("/inventory/product-list"),disabled:s,children:[a.jsx("i",{className:"bx bx-arrow-back me-1"}),""]})]})]})]})})})})]})})})},dRe=()=>{const[t,e]=C.useState([]),[n,r]=C.useState([]),[s,i]=C.useState(!0),[o,l]=C.useState(""),[c,u]=C.useState(""),[d,f]=C.useState(""),m=async()=>{i(!0),l("");try{const b=await Bt("/members"),x=(b==null?void 0:b.docs)||[];e(x),r(x)}catch{l("    ")}i(!1)};C.useEffect(()=>{m()},[]),C.useEffect(()=>{if(d.trim()==="")r(t);else{const b=t.filter(x=>{const w=(x.full_name||"").toLowerCase(),E=(x.member_code||"").toLowerCase(),T=(x.mobile||"").toLowerCase(),N=(x.national_id||"").toLowerCase();return w.includes(d.toLowerCase())||E.includes(d.toLowerCase())||T.includes(d.toLowerCase())||N.includes(d.toLowerCase())});r(b)}},[d,t]);const p=async(b,x)=>{if(window.confirm(`   "${x}"  `))try{await pa(`/members/${b}`),e(w=>w.filter(E=>E.id!==b)),r(w=>w.filter(E=>E.id!==b)),u(` "${x}"    `),setTimeout(()=>u(""),3e3)}catch{l("   ")}},y=b=>{switch(b){case"active":return a.jsx(ct,{color:"success",className:"badge-soft-success",children:""});case"inactive":return a.jsx(ct,{color:"secondary",className:"badge-soft-secondary",children:""});case"pending":return a.jsx(ct,{color:"warning",className:"badge-soft-warning",children:"  "});case"suspended":return a.jsx(ct,{color:"danger",className:"badge-soft-danger",children:""});default:return a.jsx(ct,{color:"light",children:""})}},_=b=>{if(!b)return"-";try{return new Date(b).toLocaleDateString("fa-IR")}catch{return"-"}};return a.jsx(ae.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsxs(An,{fluid:!0,children:[a.jsxs("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:[a.jsx("h4",{className:"mb-sm-0 font-size-18",children:" "}),a.jsx("div",{className:"page-title-right",children:a.jsxs("ol",{className:"breadcrumb m-0",children:[a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Ce,{to:"/dashboard",children:""})}),a.jsx("li",{className:"breadcrumb-item active",children:""})]})})]}),a.jsx(pe,{children:a.jsx(M,{lg:12,children:a.jsx(Ct,{children:a.jsxs(At,{children:[a.jsxs("div",{className:"d-flex flex-wrap justify-content-between align-items-center mb-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"card-title mb-1",children:" "}),a.jsx("p",{className:"card-title-desc mb-0",children:"     "})]}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsxs(_e,{color:"light",onClick:m,disabled:s,children:[a.jsx("i",{className:"bx bx-refresh me-1"}),""]}),a.jsxs(Ce,{to:"/members/add",className:"btn btn-success",children:[a.jsx("i",{className:"bx bx-plus-circle me-1"}),"  "]})]})]}),o&&a.jsxs(tr,{color:"danger",className:"alert-dismissible fade show",children:[o,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>l("")})]}),c&&a.jsxs(tr,{color:"success",className:"alert-dismissible fade show",children:[c,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>u("")})]}),!s&&t.length>0&&a.jsxs(pe,{className:"mb-3",children:[a.jsx(M,{md:6,children:a.jsx("div",{className:"search-box",children:a.jsxs("div",{className:"position-relative",children:[a.jsx(ie,{type:"text",className:"form-control",placeholder:"       ...",value:d,onChange:b=>f(b.target.value)}),a.jsx("i",{className:"bx bx-search-alt search-icon"})]})})}),a.jsx(M,{md:6,className:"text-end",children:a.jsxs("div",{className:"text-muted",children:[" : ",a.jsx("strong",{children:t.length}),d&&a.jsxs(a.Fragment,{children:[" "," | : ",a.jsx("strong",{children:n.length})]})]})})]}),s?a.jsxs("div",{className:"text-center py-5",children:[a.jsx(Wn,{color:"primary"}),a.jsx("h5",{className:"text-muted mt-3",children:"  ..."})]}):t.length===0?a.jsxs("div",{className:"text-center py-5",children:[a.jsx("h5",{className:"text-muted",children:"    "}),a.jsx(Ce,{to:"/members/add",className:"btn btn-success mt-2",children:"  "})]}):n.length===0?a.jsxs("div",{className:"text-center py-5",children:[a.jsx("h5",{className:"text-muted",children:"  "}),a.jsx(_e,{color:"light",onClick:()=>f(""),children:"  "})]}):a.jsx("div",{className:"table-responsive",children:a.jsxs(Yn,{className:"table table-hover table-nowrap align-middle mb-0",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"55px"},children:"#"}),a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{style:{width:"150px"},children:""})]})}),a.jsx("tbody",{children:n.map((b,x)=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("div",{className:"avatar-xs",children:a.jsx("span",{className:"avatar-title rounded-circle bg-soft-primary text-primary",children:x+1})})}),a.jsxs("td",{children:[a.jsx("strong",{children:b.full_name}),a.jsx("br",{}),a.jsx("small",{className:"text-muted",children:b.category})]}),a.jsx("td",{children:a.jsx(ct,{color:"info",className:"badge-soft-info",pill:!0,children:b.member_code})}),a.jsx("td",{children:b.mobile}),a.jsx("td",{children:b.national_id||"-"}),a.jsx("td",{children:y(b.member_status)}),a.jsx("td",{children:_(b.license_expire_date)}),a.jsx("td",{children:a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(Ce,{to:`/members/edit/${b.id}`,className:"btn btn-sm btn-soft-primary",children:a.jsx("i",{className:"bx bx-edit"})}),a.jsx(_e,{color:"soft-danger",size:"sm",onClick:()=>p(b.id,b.full_name),children:a.jsx("i",{className:"bx bx-trash"})})]})})]},b.id))})]})})]})})})})]})})})},hRe=()=>{const t=is(),[e,n]=C.useState(!1),[r,s]=C.useState(""),[i,o]=C.useState(""),[l,c]=C.useState(null),u=async(f,m,p)=>{var y;if(f)try{c(m);const _=new FormData;_.append("file",f);const b=await Br("/media",_),x=(b==null?void 0:b.id)||((y=b==null?void 0:b.doc)==null?void 0:y.id);x?p.setFieldValue(m,x):s("     ")}catch{s("   ")}finally{c(null)}},d=Cl({initialValues:{full_name:"",member_code:"",role:"union_user",member_status:"active",category:"warehouse",mobile:"",phone:"",email:"",father_name:"",national_id:"",address:"",business_name:"",company_name:"",registration_number:"",birth_date:"",license_number:"",license_issue_date:"",license_expire_date:"",member_image:"",national_card_image:"",id_card_image:"",license_image:"",company_license_image:""},validationSchema:to({full_name:jn().required("     ").min(2,"   "),member_code:jn().required("   "),mobile:jn().required("   ").matches(/^09[0-9]{9}$/,"   "),national_id:jn().nullable().transform(f=>f===""?null:f).matches(/^[0-9]{10}$/,"     ").optional(),role:jn().required("   "),member_status:jn().required("    "),category:jn().required("   ")}),onSubmit:async f=>{var m,p,y;s(""),o(""),n(!0);try{const _=await Bt("/members?limit=1000"),b=(_==null?void 0:_.docs)||[];if(b.some(N=>(N.member_code||"").trim().toLowerCase()===f.member_code.trim().toLowerCase())){s("        ."),n(!1);return}if(b.some(N=>(N.mobile||"").trim()===f.mobile.trim())){s("         ."),n(!1);return}if(f.national_id&&b.some(P=>(P.national_id||"").trim()===f.national_id.trim())){s("         ."),n(!1);return}const E={full_name:f.full_name,member_code:f.member_code,role:f.role,member_status:f.member_status,category:f.category,mobile:f.mobile,phone:f.phone||"",email:f.email||null,father_name:f.father_name||"",national_id:f.national_id||"",address:f.address||"",business_name:f.business_name||"",company_name:f.company_name||"",registration_number:f.registration_number||"",birth_date:f.birth_date||null,license_number:f.license_number||"",license_issue_date:f.license_issue_date||null,license_expire_date:f.license_expire_date||null,member_image:f.member_image||null,national_card_image:f.national_card_image||null,id_card_image:f.id_card_image||null,license_image:f.license_image||null,company_license_image:f.company_license_image||null},T=await Br("/members",E);T!=null&&T.id||(m=T==null?void 0:T.doc)!=null&&m.id?(o("    ."),setTimeout(()=>{d.resetForm(),o("")},2e3)):s("   ")}catch(_){s(((y=(p=_==null?void 0:_.response)==null?void 0:p.data)==null?void 0:y.message)||(_==null?void 0:_.message)||"   ")}n(!1)}});return a.jsx(ae.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsxs(An,{fluid:!0,children:[a.jsxs("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:[a.jsx("h4",{className:"mb-sm-0 font-size-18",children:"  "}),a.jsx("div",{className:"page-title-right",children:a.jsxs("ol",{className:"breadcrumb m-0",children:[a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Ce,{to:"/dashboard",children:""})}),a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Ce,{to:"/members/list",children:""})}),a.jsx("li",{className:"breadcrumb-item active",children:" "})]})})]}),a.jsx(pe,{children:a.jsx(M,{lg:10,className:"mx-auto",children:a.jsx(Ct,{children:a.jsxs(At,{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"card-title",children:" "}),a.jsx("p",{className:"card-title-desc",children:"      ."})]}),r&&a.jsxs(tr,{color:"danger",className:"alert-dismissible fade show",children:[a.jsx("i",{className:"mdi mdi-block-helper me-2"}),r,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>s("")})]}),i&&a.jsxs(tr,{color:"success",className:"alert-dismissible fade show",children:[a.jsx("i",{className:"mdi mdi-check-all me-2"}),i,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>o("")})]}),a.jsxs(zo,{onSubmit:f=>{f.preventDefault(),d.handleSubmit()},children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("h5",{className:"font-size-14 mb-3",children:[a.jsx("i",{className:"bx bx-user me-1"}),"   "]}),a.jsxs(pe,{children:[a.jsx(M,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsxs(ee,{htmlFor:"full_name",className:"form-label",children:["   "," ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(ie,{id:"full_name",name:"full_name",type:"text",placeholder:":  ",value:d.values.full_name,onChange:d.handleChange,onBlur:d.handleBlur,invalid:d.touched.full_name&&!!d.errors.full_name,disabled:e}),a.jsx(Dt,{children:d.errors.full_name})]})}),a.jsx(M,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsxs(ee,{htmlFor:"member_code",className:"form-label",children:[" "," ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(ie,{id:"member_code",name:"member_code",type:"text",placeholder:": 001  1403-001",value:d.values.member_code,onChange:d.handleChange,onBlur:d.handleBlur,invalid:d.touched.member_code&&!!d.errors.member_code,disabled:e}),a.jsx(Dt,{children:d.errors.member_code}),a.jsx("small",{className:"text-muted",children:"        ."})]})})]}),a.jsxs(pe,{children:[a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsxs(ee,{htmlFor:"role",className:"form-label",children:["  "," ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs(ie,{id:"role",name:"role",type:"select",value:d.values.role,onChange:d.handleChange,onBlur:d.handleBlur,invalid:d.touched.role&&!!d.errors.role,disabled:e,children:[a.jsx("option",{value:"admin",children:" "}),a.jsx("option",{value:"union_member",children:"  "}),a.jsx("option",{value:"union_user",children:"  "})]}),a.jsx(Dt,{children:d.errors.role})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsxs(ee,{htmlFor:"member_status",className:"form-label",children:[" "," ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs(ie,{id:"member_status",name:"member_status",type:"select",value:d.values.member_status,onChange:d.handleChange,onBlur:d.handleBlur,invalid:d.touched.member_status&&!!d.errors.member_status,disabled:e,children:[a.jsx("option",{value:"active",children:""}),a.jsx("option",{value:"inactive",children:""}),a.jsx("option",{value:"pending",children:"  "}),a.jsx("option",{value:"suspended",children:" "})]}),a.jsx(Dt,{children:d.errors.member_status})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsxs(ee,{htmlFor:"category",className:"form-label",children:[" "," ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs(ie,{id:"category",name:"category",type:"select",value:d.values.category,onChange:d.handleChange,onBlur:d.handleBlur,invalid:d.touched.category&&!!d.errors.category,disabled:e,children:[a.jsx("option",{value:"warehouse",children:""}),a.jsx("option",{value:"transport",children:""}),a.jsx("option",{value:"other",children:""})]}),a.jsx(Dt,{children:d.errors.category})]})})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h5",{className:"font-size-14 mb-3",children:[a.jsx("i",{className:"bx bx-id-card me-1"}),"   "]}),a.jsxs(pe,{children:[a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsxs(ee,{htmlFor:"mobile",className:"form-label",children:[" ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(ie,{id:"mobile",name:"mobile",type:"text",placeholder:"0912xxxxxxx",value:d.values.mobile,onChange:d.handleChange,onBlur:d.handleBlur,invalid:d.touched.mobile&&!!d.errors.mobile,disabled:e}),a.jsx(Dt,{children:d.errors.mobile})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"phone",className:"form-label",children:" "}),a.jsx(ie,{id:"phone",name:"phone",type:"text",placeholder:"021xxxxxxx",value:d.values.phone,onChange:d.handleChange,disabled:e})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"email",className:"form-label",children:" ()"}),a.jsx(ie,{id:"email",name:"email",type:"email",placeholder:"example@email.com",value:d.values.email,onChange:d.handleChange,disabled:e})]})})]}),a.jsxs(pe,{children:[a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"father_name",className:"form-label",children:" "}),a.jsx(ie,{id:"father_name",name:"father_name",type:"text",value:d.values.father_name,onChange:d.handleChange,disabled:e})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"national_id",className:"form-label",children:" "}),a.jsx(ie,{id:"national_id",name:"national_id",type:"text",value:d.values.national_id,onChange:d.handleChange,onBlur:d.handleBlur,invalid:d.touched.national_id&&!!d.errors.national_id,disabled:e}),a.jsx(Dt,{children:d.errors.national_id})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"birth_date",className:"form-label",children:" "}),a.jsx(ie,{id:"birth_date",name:"birth_date",type:"date",value:d.values.birth_date,onChange:d.handleChange,disabled:e}),a.jsx("small",{className:"text-muted",children:"         ."})]})})]}),a.jsx(pe,{children:a.jsx(M,{md:12,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"address",className:"form-label",children:""}),a.jsx(ie,{id:"address",name:"address",type:"textarea",rows:"3",placeholder:"     ...",value:d.values.address,onChange:d.handleChange,disabled:e})]})})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h5",{className:"font-size-14 mb-3",children:[a.jsx("i",{className:"bx bx-buildings me-1"}),"   "]}),a.jsxs(pe,{children:[a.jsx(M,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"business_name",className:"form-label",children:"   "}),a.jsx(ie,{id:"business_name",name:"business_name",type:"text",value:d.values.business_name,onChange:d.handleChange,disabled:e})]})}),a.jsx(M,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"company_name",className:"form-label",children:" "}),a.jsx(ie,{id:"company_name",name:"company_name",type:"text",value:d.values.company_name,onChange:d.handleChange,disabled:e})]})})]}),a.jsxs(pe,{children:[a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"registration_number",className:"form-label",children:" "}),a.jsx(ie,{id:"registration_number",name:"registration_number",type:"text",value:d.values.registration_number,onChange:d.handleChange,disabled:e})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"license_number",className:"form-label",children:" "}),a.jsx(ie,{id:"license_number",name:"license_number",type:"text",value:d.values.license_number,onChange:d.handleChange,disabled:e})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"license_issue_date",className:"form-label",children:"  "}),a.jsx(ie,{id:"license_issue_date",name:"license_issue_date",type:"date",value:d.values.license_issue_date,onChange:d.handleChange,disabled:e})]})})]}),a.jsx(pe,{children:a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"license_expire_date",className:"form-label",children:"  "}),a.jsx(ie,{id:"license_expire_date",name:"license_expire_date",type:"date",value:d.values.license_expire_date,onChange:d.handleChange,disabled:e})]})})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h5",{className:"font-size-14 mb-3",children:[a.jsx("i",{className:"bx bx-image me-1"}),"  "]}),a.jsxs(pe,{children:[a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"member_image_file",className:"form-label",children:" "}),a.jsx(ie,{id:"member_image_file",name:"member_image_file",type:"file",accept:"image/*",onChange:f=>u(f.currentTarget.files[0],"member_image",d),disabled:e||l==="member_image"}),l==="member_image"&&a.jsx("small",{className:"text-muted",children:"  ..."})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"national_card_image_file",className:"form-label",children:"  "}),a.jsx(ie,{id:"national_card_image_file",name:"national_card_image_file",type:"file",accept:"image/*",onChange:f=>u(f.currentTarget.files[0],"national_card_image",d),disabled:e||l==="national_card_image"}),l==="national_card_image"&&a.jsx("small",{className:"text-muted",children:"  ..."})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"id_card_image_file",className:"form-label",children:" "}),a.jsx(ie,{id:"id_card_image_file",name:"id_card_image_file",type:"file",accept:"image/*",onChange:f=>u(f.currentTarget.files[0],"id_card_image",d),disabled:e||l==="id_card_image"}),l==="id_card_image"&&a.jsx("small",{className:"text-muted",children:"  ..."})]})})]}),a.jsxs(pe,{children:[a.jsx(M,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"license_image_file",className:"form-label",children:" "}),a.jsx(ie,{id:"license_image_file",name:"license_image_file",type:"file",accept:"image/*",onChange:f=>u(f.currentTarget.files[0],"license_image",d),disabled:e||l==="license_image"}),l==="license_image"&&a.jsx("small",{className:"text-muted",children:"  ..."})]})}),a.jsx(M,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"company_license_image_file",className:"form-label",children:"  "}),a.jsx(ie,{id:"company_license_image_file",name:"company_license_image_file",type:"file",accept:"image/*",onChange:f=>u(f.currentTarget.files[0],"company_license_image",d),disabled:e||l==="company_license_image"}),l==="company_license_image"&&a.jsx("small",{className:"text-muted",children:"  ..."})]})})]})]}),a.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[a.jsx(_e,{type:"submit",color:"primary",disabled:e,children:e?a.jsxs(a.Fragment,{children:[a.jsx(Wn,{size:"sm",className:"me-2"}),"  ..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bx bx-check-double me-1"})," "]})}),a.jsxs(_e,{type:"button",color:"light",disabled:e,onClick:()=>{d.resetForm(),s(""),o("")},children:[a.jsx("i",{className:"bx bx-refresh me-1"}),"  "]}),a.jsxs(_e,{type:"button",color:"secondary",onClick:()=>t("/members/list"),disabled:e,children:[a.jsx("i",{className:"bx bx-arrow-back me-1"}),"  "]})]})]})]})})})})]})})})},VO=t=>{if(!t)return"";try{const e=new Date(t);if(Number.isNaN(e.getTime()))return"";const n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return`${n}-${r}-${s}`}catch{return""}},UO=t=>{if(!t)return"-";try{return new Date(t).toLocaleDateString("fa-IR")}catch{return"-"}},fRe=()=>{const t=is(),{id:e}=su(),[n,r]=C.useState(!0),[s,i]=C.useState(!1),[o,l]=C.useState(""),[c,u]=C.useState(""),[d,f]=C.useState({role:"union_member",member_code:"",full_name:"",father_name:"",national_id:"",mobile:"",phone:"",address:"",birth_date:"",business_name:"",category:"warehouse",member_status:"active",license_number:"",license_issue_date:"",license_expire_date:"",company_name:"",registration_number:""});C.useEffect(()=>{async function y(){r(!0),l("");try{const _=await Bt(`/members/${e}`);f({role:_.role||"union_member",member_code:_.member_code||"",full_name:_.full_name||"",father_name:_.father_name||"",national_id:_.national_id||"",mobile:_.mobile||"",phone:_.phone||"",address:_.address||"",birth_date:VO(_.birth_date),business_name:_.business_name||"",category:_.category||"warehouse",member_status:_.member_status||"active",license_number:_.license_number||"",license_issue_date:VO(_.license_issue_date),license_expire_date:VO(_.license_expire_date),company_name:_.company_name||"",registration_number:_.registration_number||""})}catch{l("    ")}r(!1)}e?y():(l("   "),r(!1))},[e]);const m=to({full_name:jn().required("     ").min(2,"  "),member_code:jn().required("   "),mobile:jn().required("  ").matches(/^09\d{9}$/,"   "),national_id:jn().nullable().matches(/^\d{10}$/,"     ").notRequired()}),p=Cl({enableReinitialize:!0,initialValues:d,validationSchema:m,onSubmit:async y=>{var _,b,x,w;l(""),u(""),i(!0);try{const E={role:y.role,member_code:y.member_code,full_name:y.full_name,father_name:y.father_name||"",national_id:y.national_id||"",mobile:y.mobile,phone:y.phone||"",address:y.address||"",birth_date:y.birth_date||null,business_name:y.business_name||"",category:y.category||"warehouse",member_status:y.member_status||"active",license_number:y.license_number||"",license_issue_date:y.license_issue_date||null,license_expire_date:y.license_expire_date||null,company_name:y.company_name||"",registration_number:y.registration_number||""},T=await fx(`/members/${e}`,E);u("     "),setTimeout(()=>{u(""),t("/members/list")},1500)}catch(E){const T=((b=(_=E==null?void 0:E.response)==null?void 0:_.data)==null?void 0:b.error)||((w=(x=E==null?void 0:E.response)==null?void 0:x.data)==null?void 0:w.message)||"    ";l(T)}i(!1)}});return n?a.jsx("div",{className:"page-content",children:a.jsx(An,{fluid:!0,children:a.jsx(pe,{children:a.jsx(M,{lg:10,className:"mx-auto",children:a.jsx(Ct,{children:a.jsxs(At,{className:"text-center py-5",children:[a.jsx(Wn,{color:"primary"}),a.jsx("div",{className:"mt-3",children:a.jsx("h5",{className:"text-muted",children:"    ..."})})]})})})})})}):a.jsx(ae.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsxs(An,{fluid:!0,children:[a.jsxs("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:[a.jsx("h4",{className:"mb-sm-0 font-size-18",children:" "}),a.jsx("div",{className:"page-title-right",children:a.jsxs("ol",{className:"breadcrumb m-0",children:[a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Ce,{to:"/dashboard",children:""})}),a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Ce,{to:"/members",children:""})}),a.jsx("li",{className:"breadcrumb-item active",children:" "})]})})]}),a.jsx(pe,{children:a.jsx(M,{lg:10,className:"mx-auto",children:a.jsx(Ct,{children:a.jsxs(At,{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"card-title",children:" "}),a.jsx("p",{className:"card-title-desc",children:"          ."})]}),o&&a.jsxs(tr,{color:"danger",className:"alert-dismissible fade show",children:[a.jsx("i",{className:"mdi mdi-block-helper me-2"}),o,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>l("")})]}),c&&a.jsxs(tr,{color:"success",className:"alert-dismissible fade show",children:[a.jsx("i",{className:"mdi mdi-check-all me-2"}),c,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>u("")})]}),a.jsxs(zo,{onSubmit:y=>{y.preventDefault(),p.handleSubmit()},children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("h5",{className:"font-size-14 mb-3",children:[a.jsx("i",{className:"bx bx-user-circle me-1"}),"  "]}),a.jsxs(pe,{children:[a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"role",className:"form-label",children:""}),a.jsxs(ie,{id:"role",name:"role",type:"select",value:p.values.role,onChange:p.handleChange,disabled:s,children:[a.jsx("option",{value:"admin",children:" "}),a.jsx("option",{value:"union_member",children:"  "}),a.jsx("option",{value:"union_user",children:"  "})]})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"member_status",className:"form-label",children:""}),a.jsxs(ie,{id:"member_status",name:"member_status",type:"select",value:p.values.member_status,onChange:p.handleChange,disabled:s,children:[a.jsx("option",{value:"active",children:""}),a.jsx("option",{value:"inactive",children:""}),a.jsx("option",{value:"pending",children:"  "}),a.jsx("option",{value:"suspended",children:" "})]})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"category",className:"form-label",children:""}),a.jsxs(ie,{id:"category",name:"category",type:"select",value:p.values.category,onChange:p.handleChange,disabled:s,children:[a.jsx("option",{value:"warehouse",children:""}),a.jsx("option",{value:"transport",children:""}),a.jsx("option",{value:"other",children:""})]})]})})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h5",{className:"font-size-14 mb-3",children:[a.jsx("i",{className:"bx bx-id-card me-1"})," "]}),a.jsxs(pe,{children:[a.jsx(M,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsxs(ee,{htmlFor:"full_name",className:"form-label",children:["    ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(ie,{id:"full_name",name:"full_name",type:"text",value:p.values.full_name,onChange:p.handleChange,onBlur:p.handleBlur,invalid:p.touched.full_name&&!!p.errors.full_name,disabled:s}),a.jsx(Dt,{children:p.errors.full_name})]})}),a.jsx(M,{md:3,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"father_name",className:"form-label",children:" "}),a.jsx(ie,{id:"father_name",name:"father_name",type:"text",value:p.values.father_name,onChange:p.handleChange,disabled:s})]})}),a.jsx(M,{md:3,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"national_id",className:"form-label",children:" "}),a.jsx(ie,{id:"national_id",name:"national_id",type:"text",value:p.values.national_id,onChange:p.handleChange,onBlur:p.handleBlur,invalid:p.touched.national_id&&!!p.errors.national_id,disabled:s}),a.jsx(Dt,{children:p.errors.national_id})]})})]}),a.jsxs(pe,{children:[a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsxs(ee,{htmlFor:"member_code",className:"form-label",children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(ie,{id:"member_code",name:"member_code",type:"text",value:p.values.member_code,onChange:p.handleChange,onBlur:p.handleBlur,invalid:p.touched.member_code&&!!p.errors.member_code,disabled:s}),a.jsx(Dt,{children:p.errors.member_code})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsxs(ee,{htmlFor:"mobile",className:"form-label",children:[" ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(ie,{id:"mobile",name:"mobile",type:"text",value:p.values.mobile,onChange:p.handleChange,onBlur:p.handleBlur,invalid:p.touched.mobile&&!!p.errors.mobile,disabled:s}),a.jsx(Dt,{children:p.errors.mobile})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"phone",className:"form-label",children:" "}),a.jsx(ie,{id:"phone",name:"phone",type:"text",value:p.values.phone,onChange:p.handleChange,disabled:s})]})})]}),a.jsxs(pe,{children:[a.jsx(M,{md:8,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"address",className:"form-label",children:""}),a.jsx(ie,{id:"address",name:"address",type:"textarea",rows:"3",value:p.values.address,onChange:p.handleChange,disabled:s})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"birth_date",className:"form-label",children:" "}),a.jsx(ie,{id:"birth_date",name:"birth_date",type:"date",value:p.values.birth_date,onChange:p.handleChange,disabled:s}),p.values.birth_date&&a.jsxs("small",{className:"text-muted d-block mt-1",children:[":"," ",UO(p.values.birth_date)]})]})})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h5",{className:"font-size-14 mb-3",children:[a.jsx("i",{className:"bx bx-briefcase-alt-2 me-1"}),"   "]}),a.jsxs(pe,{children:[a.jsx(M,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"business_name",className:"form-label",children:"   "}),a.jsx(ie,{id:"business_name",name:"business_name",type:"text",value:p.values.business_name,onChange:p.handleChange,disabled:s})]})}),a.jsx(M,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"company_name",className:"form-label",children:" "}),a.jsx(ie,{id:"company_name",name:"company_name",type:"text",value:p.values.company_name,onChange:p.handleChange,disabled:s})]})})]}),a.jsx(pe,{children:a.jsx(M,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"registration_number",className:"form-label",children:" "}),a.jsx(ie,{id:"registration_number",name:"registration_number",type:"text",value:p.values.registration_number,onChange:p.handleChange,disabled:s})]})})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h5",{className:"font-size-14 mb-3",children:[a.jsx("i",{className:"bx bx-file me-1"})," "]}),a.jsxs(pe,{children:[a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"license_number",className:"form-label",children:" "}),a.jsx(ie,{id:"license_number",name:"license_number",type:"text",value:p.values.license_number,onChange:p.handleChange,disabled:s})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"license_issue_date",className:"form-label",children:"  "}),a.jsx(ie,{id:"license_issue_date",name:"license_issue_date",type:"date",value:p.values.license_issue_date,onChange:p.handleChange,disabled:s}),p.values.license_issue_date&&a.jsxs("small",{className:"text-muted d-block mt-1",children:[":"," ",UO(p.values.license_issue_date)]})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{htmlFor:"license_expire_date",className:"form-label",children:"  "}),a.jsx(ie,{id:"license_expire_date",name:"license_expire_date",type:"date",value:p.values.license_expire_date,onChange:p.handleChange,disabled:s}),p.values.license_expire_date&&a.jsxs("small",{className:"text-muted d-block mt-1",children:[":"," ",UO(p.values.license_expire_date)]})]})})]})]}),a.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[a.jsx(_e,{type:"submit",color:"primary",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(Wn,{size:"sm",className:"me-2"}),"  ..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bx bx-check-double me-1"})," "]})}),a.jsxs(_e,{type:"button",color:"light",disabled:s,onClick:()=>t("/members"),children:[a.jsx("i",{className:"bx bx-arrow-back me-1"}),"  "]})]})]})]})})})})]})})})},mRe=()=>{const[t,e]=C.useState([]),[n,r]=C.useState([]),[s,i]=C.useState(!0),[o,l]=C.useState(""),[c,u]=C.useState(""),[d,f]=C.useState(""),m=async()=>{i(!0),l("");try{const y=await Bt("/customers"),_=(y==null?void 0:y.data)||[];e(_),r(_)}catch(y){console.error(" Load error:",y),l("    ")}i(!1)};C.useEffect(()=>{m()},[]),C.useEffect(()=>{if(!d.trim()){r(t);return}const y=d.toLowerCase(),_=t.filter(b=>(b.name||"").toLowerCase().includes(y)||(b.mobile||"").toLowerCase().includes(y)||(b.national_id||"").toLowerCase().includes(y));r(_)},[d,t]);const p=async(y,_)=>{var b,x;if(window.confirm(` "${_}"`))try{await pa(`/customers/${y}`),e(w=>w.filter(E=>E.id!==y)),r(w=>w.filter(E=>E.id!==y)),u(` "${_}"    `),setTimeout(()=>u(""),3e3)}catch(w){const E=((x=(b=w.response)==null?void 0:b.data)==null?void 0:x.message)||"   ";l(E),setTimeout(()=>l(""),4e3)}};return a.jsx(ae.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsxs(An,{fluid:!0,children:[a.jsxs("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:[a.jsx("h4",{className:"mb-sm-0 font-size-18",children:" "}),a.jsx("div",{className:"page-title-right",children:a.jsxs("ol",{className:"breadcrumb m-0",children:[a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Ce,{to:"/dashboard",children:""})}),a.jsx("li",{className:"breadcrumb-item active",children:""})]})})]}),a.jsx(pe,{children:a.jsx(M,{lg:12,children:a.jsx(Ct,{children:a.jsxs(At,{children:[a.jsxs("div",{className:"d-flex flex-wrap align-items-center justify-content-between mb-4",children:[a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx("div",{className:"avatar-sm me-3",children:a.jsx("div",{className:"avatar-title rounded-circle bg-soft-primary text-primary font-size-20",children:a.jsx("i",{className:"ri-user-3-line"})})}),a.jsxs("div",{children:[a.jsx("h5",{className:"card-title mb-1",children:" "}),a.jsx("p",{className:"text-muted mb-0",children:"    "})]})]}),a.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[a.jsxs(_e,{color:"light",className:"btn-label",onClick:m,disabled:s,children:[a.jsx("i",{className:"bx bx-refresh label-icon"}),""]}),a.jsxs(Ce,{to:"/customers/add",className:"btn btn-success btn-label",children:[a.jsx("i",{className:"bx bx-plus-circle label-icon"})," "]})]})]}),o&&a.jsx(tr,{color:"danger",toggle:()=>l(""),children:o}),c&&a.jsx(tr,{color:"success",toggle:()=>u(""),children:c}),!s&&t.length>0&&a.jsxs(pe,{className:"mb-3",children:[a.jsx(M,{md:6,children:a.jsx("div",{className:"search-box",children:a.jsxs("div",{className:"position-relative",children:[a.jsx(ie,{type:"text",className:"form-control",placeholder:"    ...",value:d,onChange:y=>f(y.target.value)}),a.jsx("i",{className:"bx bx-search-alt search-icon"})]})})}),a.jsx(M,{md:6,className:"text-end",children:a.jsxs("div",{className:"text-muted",children:[" : ",a.jsx("strong",{children:t.length}),d&&a.jsxs(a.Fragment,{children:[" "," | :"," ",a.jsx("strong",{children:n.length})]})]})})]}),s?a.jsxs("div",{className:"text-center py-5",children:[a.jsx(Wn,{color:"primary"}),a.jsx("div",{className:"mt-3",children:a.jsx("h5",{className:"text-muted",children:"  ..."})})]}):n.length===0?a.jsxs("div",{className:"text-center py-5",children:[a.jsx("h5",{className:"text-muted",children:"  "}),a.jsx(_e,{color:"light",onClick:()=>f(""),children:"  "})]}):a.jsx("div",{className:"table-responsive",children:a.jsxs(Yn,{className:"table table-hover table-nowrap align-middle mb-0",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:60},children:"#"}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:"  / "}),a.jsx("th",{className:"text-center",style:{width:120},children:""})]})}),a.jsx("tbody",{children:n.map((y,_)=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("div",{className:"avatar-xs",children:a.jsx("span",{className:"avatar-title rounded-circle bg-soft-primary text-primary",children:_+1})})}),a.jsxs("td",{children:[a.jsx("strong",{children:y.name}),a.jsx("div",{className:"text-muted small",children:y.address?y.address.length>40?y.address.slice(0,40)+"...":y.address:"-"})]}),a.jsx("td",{children:y.customer_type==="real"||y.customer_type==="person"?a.jsx(ct,{color:"info",className:"badge-soft-info",children:""}):a.jsx(ct,{color:"warning",className:"badge-soft-warning",children:""})}),a.jsx("td",{children:y.mobile||"-"}),a.jsx("td",{children:y.national_id||"-"}),a.jsx("td",{className:"text-center",children:a.jsxs("div",{className:"d-flex gap-2 justify-content-center",children:[a.jsx(Ce,{to:`/customers/edit/${y.id}`,className:"btn btn-sm btn-soft-primary",children:a.jsx("i",{className:"bx bx-edit-alt"})}),a.jsx(_e,{size:"sm",color:"soft-danger",onClick:()=>p(y.id,y.name),children:a.jsx("i",{className:"bx bx-trash"})})]})})]},y.id))})]})})]})})})})]})})})};function pRe(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var dJ={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(fl,function(){var n;function r(){return n.apply(null,arguments)}function s(v){n=v}function i(v){return v instanceof Array||Object.prototype.toString.call(v)==="[object Array]"}function o(v){return v!=null&&Object.prototype.toString.call(v)==="[object Object]"}function l(v,j){return Object.prototype.hasOwnProperty.call(v,j)}function c(v){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(v).length===0;var j;for(j in v)if(l(v,j))return!1;return!0}function u(v){return v===void 0}function d(v){return typeof v=="number"||Object.prototype.toString.call(v)==="[object Number]"}function f(v){return v instanceof Date||Object.prototype.toString.call(v)==="[object Date]"}function m(v,j){var k=[],O,V=v.length;for(O=0;O<V;++O)k.push(j(v[O],O));return k}function p(v,j){for(var k in j)l(j,k)&&(v[k]=j[k]);return l(j,"toString")&&(v.toString=j.toString),l(j,"valueOf")&&(v.valueOf=j.valueOf),v}function y(v,j,k,O){return yh(v,j,k,O,!0).utc()}function _(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function b(v){return v._pf==null&&(v._pf=_()),v._pf}var x;Array.prototype.some?x=Array.prototype.some:x=function(v){var j=Object(this),k=j.length>>>0,O;for(O=0;O<k;O++)if(O in j&&v.call(this,j[O],O,j))return!0;return!1};function w(v){var j=null,k=!1,O=v._d&&!isNaN(v._d.getTime());if(O&&(j=b(v),k=x.call(j.parsedDateParts,function(V){return V!=null}),O=j.overflow<0&&!j.empty&&!j.invalidEra&&!j.invalidMonth&&!j.invalidWeekday&&!j.weekdayMismatch&&!j.nullInput&&!j.invalidFormat&&!j.userInvalidated&&(!j.meridiem||j.meridiem&&k),v._strict&&(O=O&&j.charsLeftOver===0&&j.unusedTokens.length===0&&j.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(v))v._isValid=O;else return O;return v._isValid}function E(v){var j=y(NaN);return v!=null?p(b(j),v):b(j).userInvalidated=!0,j}var T=r.momentProperties=[],N=!1;function P(v,j){var k,O,V,oe=T.length;if(u(j._isAMomentObject)||(v._isAMomentObject=j._isAMomentObject),u(j._i)||(v._i=j._i),u(j._f)||(v._f=j._f),u(j._l)||(v._l=j._l),u(j._strict)||(v._strict=j._strict),u(j._tzm)||(v._tzm=j._tzm),u(j._isUTC)||(v._isUTC=j._isUTC),u(j._offset)||(v._offset=j._offset),u(j._pf)||(v._pf=b(j)),u(j._locale)||(v._locale=j._locale),oe>0)for(k=0;k<oe;k++)O=T[k],V=j[O],u(V)||(v[O]=V);return v}function D(v){P(this,v),this._d=new Date(v._d!=null?v._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),N===!1&&(N=!0,r.updateOffset(this),N=!1)}function F(v){return v instanceof D||v!=null&&v._isAMomentObject!=null}function Y(v){r.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+v)}function q(v,j){var k=!0;return p(function(){if(r.deprecationHandler!=null&&r.deprecationHandler(null,v),k){var O=[],V,oe,ke,Et=arguments.length;for(oe=0;oe<Et;oe++){if(V="",typeof arguments[oe]=="object"){V+=`
[`+oe+"] ";for(ke in arguments[0])l(arguments[0],ke)&&(V+=ke+": "+arguments[0][ke]+", ");V=V.slice(0,-2)}else V=arguments[oe];O.push(V)}Y(v+`
Arguments: `+Array.prototype.slice.call(O).join("")+`
`+new Error().stack),k=!1}return j.apply(this,arguments)},j)}var B={};function G(v,j){r.deprecationHandler!=null&&r.deprecationHandler(v,j),B[v]||(Y(j),B[v]=!0)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null;function J(v){return typeof Function<"u"&&v instanceof Function||Object.prototype.toString.call(v)==="[object Function]"}function W(v){var j,k;for(k in v)l(v,k)&&(j=v[k],J(j)?this[k]=j:this["_"+k]=j);this._config=v,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function z(v,j){var k=p({},v),O;for(O in j)l(j,O)&&(o(v[O])&&o(j[O])?(k[O]={},p(k[O],v[O]),p(k[O],j[O])):j[O]!=null?k[O]=j[O]:delete k[O]);for(O in v)l(v,O)&&!l(j,O)&&o(v[O])&&(k[O]=p({},k[O]));return k}function Z(v){v!=null&&this.set(v)}var X;Object.keys?X=Object.keys:X=function(v){var j,k=[];for(j in v)l(v,j)&&k.push(j);return k};var ne={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function le(v,j,k){var O=this._calendar[v]||this._calendar.sameElse;return J(O)?O.call(j,k):O}function ge(v,j,k){var O=""+Math.abs(v),V=j-O.length,oe=v>=0;return(oe?k?"+":"":"-")+Math.pow(10,Math.max(0,V)).toString().substr(1)+O}var Ue=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ie=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ot={},it={};function Te(v,j,k,O){var V=O;typeof O=="string"&&(V=function(){return this[O]()}),v&&(it[v]=V),j&&(it[j[0]]=function(){return ge(V.apply(this,arguments),j[1],j[2])}),k&&(it[k]=function(){return this.localeData().ordinal(V.apply(this,arguments),v)})}function St(v){return v.match(/\[[\s\S]/)?v.replace(/^\[|\]$/g,""):v.replace(/\\/g,"")}function ut(v){var j=v.match(Ue),k,O;for(k=0,O=j.length;k<O;k++)it[j[k]]?j[k]=it[j[k]]:j[k]=St(j[k]);return function(V){var oe="",ke;for(ke=0;ke<O;ke++)oe+=J(j[ke])?j[ke].call(V,v):j[ke];return oe}}function ft(v,j){return v.isValid()?(j=gt(j,v.localeData()),ot[j]=ot[j]||ut(j),ot[j](v)):v.localeData().invalidDate()}function gt(v,j){var k=5;function O(V){return j.longDateFormat(V)||V}for(Ie.lastIndex=0;k>=0&&Ie.test(v);)v=v.replace(Ie,O),Ie.lastIndex=0,k-=1;return v}var qt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function It(v){var j=this._longDateFormat[v],k=this._longDateFormat[v.toUpperCase()];return j||!k?j:(this._longDateFormat[v]=k.match(Ue).map(function(O){return O==="MMMM"||O==="MM"||O==="DD"||O==="dddd"?O.slice(1):O}).join(""),this._longDateFormat[v])}var zt="Invalid date";function en(){return this._invalidDate}var xe="%d",We=/\d{1,2}/;function Qt(v){return this._ordinal.replace("%d",v)}var Oe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function lt(v,j,k,O){var V=this._relativeTime[k];return J(V)?V(v,j,k,O):V.replace(/%d/i,v)}function ve(v,j){var k=this._relativeTime[v>0?"future":"past"];return J(k)?k(j):k.replace(/%s/i,j)}var K={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function te(v){return typeof v=="string"?K[v]||K[v.toLowerCase()]:void 0}function Q(v){var j={},k,O;for(O in v)l(v,O)&&(k=te(O),k&&(j[k]=v[O]));return j}var me={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function ye(v){var j=[],k;for(k in v)l(v,k)&&j.push({unit:k,priority:me[k]});return j.sort(function(O,V){return O.priority-V.priority}),j}var A=/\d/,$=/\d\d/,re=/\d{3}/,ue=/\d{4}/,Ee=/[+-]?\d{6}/,be=/\d\d?/,Me=/\d\d\d\d?/,tt=/\d\d\d\d\d\d?/,Pe=/\d{1,3}/,qe=/\d{1,4}/,Je=/[+-]?\d{1,6}/,nt=/\d+/,rt=/[+-]?\d+/,Lt=/Z|[+-]\d\d:?\d\d/gi,pn=/Z|[+-]\d\d(?::?\d\d)?/gi,gn=/[+-]?\d+(\.\d{1,3})?/,Yt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,nn=/^[1-9]\d?/,Jn=/^([1-9]\d|\d)/,Gn;Gn={};function Qe(v,j,k){Gn[v]=J(j)?j:function(O,V){return O&&k?k:j}}function ir(v,j){return l(Gn,v)?Gn[v](j._strict,j._locale):new RegExp(on(v))}function on(v){return $n(v.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(j,k,O,V,oe){return k||O||V||oe}))}function $n(v){return v.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ht(v){return v<0?Math.ceil(v)||0:Math.floor(v)}function Ze(v){var j=+v,k=0;return j!==0&&isFinite(j)&&(k=Ht(j)),k}var Tt={};function at(v,j){var k,O=j,V;for(typeof v=="string"&&(v=[v]),d(j)&&(O=function(oe,ke){ke[j]=Ze(oe)}),V=v.length,k=0;k<V;k++)Tt[v[k]]=O}function Pt(v,j){at(v,function(k,O,V,oe){V._w=V._w||{},j(k,V._w,V,oe)})}function vn(v,j,k){j!=null&&l(Tt,v)&&Tt[v](j,k._a,k,v)}function Zt(v){return v%4===0&&v%100!==0||v%400===0}var _t=0,xt=1,Mt=2,kt=3,Wt=4,wr=5,fr=6,ya=7,Nn=8;Te("Y",0,0,function(){var v=this.year();return v<=9999?ge(v,4):"+"+v}),Te(0,["YY",2],0,function(){return this.year()%100}),Te(0,["YYYY",4],0,"year"),Te(0,["YYYYY",5],0,"year"),Te(0,["YYYYYY",6,!0],0,"year"),Qe("Y",rt),Qe("YY",be,$),Qe("YYYY",qe,ue),Qe("YYYYY",Je,Ee),Qe("YYYYYY",Je,Ee),at(["YYYYY","YYYYYY"],_t),at("YYYY",function(v,j){j[_t]=v.length===2?r.parseTwoDigitYear(v):Ze(v)}),at("YY",function(v,j){j[_t]=r.parseTwoDigitYear(v)}),at("Y",function(v,j){j[_t]=parseInt(v,10)});function In(v){return Zt(v)?366:365}r.parseTwoDigitYear=function(v){return Ze(v)+(Ze(v)>68?1900:2e3)};var Lr=as("FullYear",!0);function Cr(){return Zt(this.year())}function as(v,j){return function(k){return k!=null?(Gi(this,v,k),r.updateOffset(this,j),this):Fn(this,v)}}function Fn(v,j){if(!v.isValid())return NaN;var k=v._d,O=v._isUTC;switch(j){case"Milliseconds":return O?k.getUTCMilliseconds():k.getMilliseconds();case"Seconds":return O?k.getUTCSeconds():k.getSeconds();case"Minutes":return O?k.getUTCMinutes():k.getMinutes();case"Hours":return O?k.getUTCHours():k.getHours();case"Date":return O?k.getUTCDate():k.getDate();case"Day":return O?k.getUTCDay():k.getDay();case"Month":return O?k.getUTCMonth():k.getMonth();case"FullYear":return O?k.getUTCFullYear():k.getFullYear();default:return NaN}}function Gi(v,j,k){var O,V,oe,ke,Et;if(!(!v.isValid()||isNaN(k))){switch(O=v._d,V=v._isUTC,j){case"Milliseconds":return void(V?O.setUTCMilliseconds(k):O.setMilliseconds(k));case"Seconds":return void(V?O.setUTCSeconds(k):O.setSeconds(k));case"Minutes":return void(V?O.setUTCMinutes(k):O.setMinutes(k));case"Hours":return void(V?O.setUTCHours(k):O.setHours(k));case"Date":return void(V?O.setUTCDate(k):O.setDate(k));case"FullYear":break;default:return}oe=k,ke=v.month(),Et=v.date(),Et=Et===29&&ke===1&&!Zt(oe)?28:Et,V?O.setUTCFullYear(oe,ke,Et):O.setFullYear(oe,ke,Et)}}function ys(v){return v=te(v),J(this[v])?this[v]():this}function Ci(v,j){if(typeof v=="object"){v=Q(v);var k=ye(v),O,V=k.length;for(O=0;O<V;O++)this[k[O].unit](v[k[O].unit])}else if(v=te(v),J(this[v]))return this[v](j);return this}function Os(v,j){return(v%j+j)%j}var Vn;Array.prototype.indexOf?Vn=Array.prototype.indexOf:Vn=function(v){var j;for(j=0;j<this.length;++j)if(this[j]===v)return j;return-1};function Vr(v,j){if(isNaN(v)||isNaN(j))return NaN;var k=Os(j,12);return v+=(j-k)/12,k===1?Zt(v)?29:28:31-k%7%2}Te("M",["MM",2],"Mo",function(){return this.month()+1}),Te("MMM",0,0,function(v){return this.localeData().monthsShort(this,v)}),Te("MMMM",0,0,function(v){return this.localeData().months(this,v)}),Qe("M",be,nn),Qe("MM",be,$),Qe("MMM",function(v,j){return j.monthsShortRegex(v)}),Qe("MMMM",function(v,j){return j.monthsRegex(v)}),at(["M","MM"],function(v,j){j[xt]=Ze(v)-1}),at(["MMM","MMMM"],function(v,j,k,O){var V=k._locale.monthsParse(v,O,k._strict);V!=null?j[xt]=V:b(k).invalidMonth=v});var lr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),mr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),zr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,vs=Yt,Qr=Yt;function Pa(v,j){return v?i(this._months)?this._months[v.month()]:this._months[(this._months.isFormat||zr).test(j)?"format":"standalone"][v.month()]:i(this._months)?this._months:this._months.standalone}function Hi(v,j){return v?i(this._monthsShort)?this._monthsShort[v.month()]:this._monthsShort[zr.test(j)?"format":"standalone"][v.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function qi(v,j,k){var O,V,oe,ke=v.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],O=0;O<12;++O)oe=y([2e3,O]),this._shortMonthsParse[O]=this.monthsShort(oe,"").toLocaleLowerCase(),this._longMonthsParse[O]=this.months(oe,"").toLocaleLowerCase();return k?j==="MMM"?(V=Vn.call(this._shortMonthsParse,ke),V!==-1?V:null):(V=Vn.call(this._longMonthsParse,ke),V!==-1?V:null):j==="MMM"?(V=Vn.call(this._shortMonthsParse,ke),V!==-1?V:(V=Vn.call(this._longMonthsParse,ke),V!==-1?V:null)):(V=Vn.call(this._longMonthsParse,ke),V!==-1?V:(V=Vn.call(this._shortMonthsParse,ke),V!==-1?V:null))}function Ai(v,j,k){var O,V,oe;if(this._monthsParseExact)return qi.call(this,v,j,k);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),O=0;O<12;O++){if(V=y([2e3,O]),k&&!this._longMonthsParse[O]&&(this._longMonthsParse[O]=new RegExp("^"+this.months(V,"").replace(".","")+"$","i"),this._shortMonthsParse[O]=new RegExp("^"+this.monthsShort(V,"").replace(".","")+"$","i")),!k&&!this._monthsParse[O]&&(oe="^"+this.months(V,"")+"|^"+this.monthsShort(V,""),this._monthsParse[O]=new RegExp(oe.replace(".",""),"i")),k&&j==="MMMM"&&this._longMonthsParse[O].test(v))return O;if(k&&j==="MMM"&&this._shortMonthsParse[O].test(v))return O;if(!k&&this._monthsParse[O].test(v))return O}}function Da(v,j){if(!v.isValid())return v;if(typeof j=="string"){if(/^\d+$/.test(j))j=Ze(j);else if(j=v.localeData().monthsParse(j),!d(j))return v}var k=j,O=v.date();return O=O<29?O:Math.min(O,Vr(v.year(),k)),v._isUTC?v._d.setUTCMonth(k,O):v._d.setMonth(k,O),v}function yi(v){return v!=null?(Da(this,v),r.updateOffset(this,!0),this):Fn(this,"Month")}function Ko(){return Vr(this.year(),this.month())}function oo(v){return this._monthsParseExact?(l(this,"_monthsRegex")||Ml.call(this),v?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=vs),this._monthsShortStrictRegex&&v?this._monthsShortStrictRegex:this._monthsShortRegex)}function ou(v){return this._monthsParseExact?(l(this,"_monthsRegex")||Ml.call(this),v?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=Qr),this._monthsStrictRegex&&v?this._monthsStrictRegex:this._monthsRegex)}function Ml(){function v(yn,Bn){return Bn.length-yn.length}var j=[],k=[],O=[],V,oe,ke,Et;for(V=0;V<12;V++)oe=y([2e3,V]),ke=$n(this.monthsShort(oe,"")),Et=$n(this.months(oe,"")),j.push(ke),k.push(Et),O.push(Et),O.push(ke);j.sort(v),k.sort(v),O.sort(v),this._monthsRegex=new RegExp("^("+O.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+k.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+j.join("|")+")","i")}function Jo(v,j,k,O,V,oe,ke){var Et;return v<100&&v>=0?(Et=new Date(v+400,j,k,O,V,oe,ke),isFinite(Et.getFullYear())&&Et.setFullYear(v)):Et=new Date(v,j,k,O,V,oe,ke),Et}function lo(v){var j,k;return v<100&&v>=0?(k=Array.prototype.slice.call(arguments),k[0]=v+400,j=new Date(Date.UTC.apply(null,k)),isFinite(j.getUTCFullYear())&&j.setUTCFullYear(v)):j=new Date(Date.UTC.apply(null,arguments)),j}function $l(v,j,k){var O=7+j-k,V=(7+lo(v,0,O).getUTCDay()-j)%7;return-V+O-1}function lu(v,j,k,O,V){var oe=(7+k-O)%7,ke=$l(v,O,V),Et=1+7*(j-1)+oe+ke,yn,Bn;return Et<=0?(yn=v-1,Bn=In(yn)+Et):Et>In(v)?(yn=v+1,Bn=Et-In(v)):(yn=v,Bn=Et),{year:yn,dayOfYear:Bn}}function co(v,j,k){var O=$l(v.year(),j,k),V=Math.floor((v.dayOfYear()-O-1)/7)+1,oe,ke;return V<1?(ke=v.year()-1,oe=V+Ys(ke,j,k)):V>Ys(v.year(),j,k)?(oe=V-Ys(v.year(),j,k),ke=v.year()+1):(ke=v.year(),oe=V),{week:oe,year:ke}}function Ys(v,j,k){var O=$l(v,j,k),V=$l(v+1,j,k);return(In(v)-O+V)/7}Te("w",["ww",2],"wo","week"),Te("W",["WW",2],"Wo","isoWeek"),Qe("w",be,nn),Qe("ww",be,$),Qe("W",be,nn),Qe("WW",be,$),Pt(["w","ww","W","WW"],function(v,j,k,O){j[O.substr(0,1)]=Ze(v)});function Ec(v){return co(v,this._week.dow,this._week.doy).week}var bs={dow:0,doy:6};function va(){return this._week.dow}function La(){return this._week.doy}function vi(v){var j=this.localeData().week(this);return v==null?j:this.add((v-j)*7,"d")}function uo(v){var j=co(this,1,4).week;return v==null?j:this.add((v-j)*7,"d")}Te("d",0,"do","day"),Te("dd",0,0,function(v){return this.localeData().weekdaysMin(this,v)}),Te("ddd",0,0,function(v){return this.localeData().weekdaysShort(this,v)}),Te("dddd",0,0,function(v){return this.localeData().weekdays(this,v)}),Te("e",0,0,"weekday"),Te("E",0,0,"isoWeekday"),Qe("d",be),Qe("e",be),Qe("E",be),Qe("dd",function(v,j){return j.weekdaysMinRegex(v)}),Qe("ddd",function(v,j){return j.weekdaysShortRegex(v)}),Qe("dddd",function(v,j){return j.weekdaysRegex(v)}),Pt(["dd","ddd","dddd"],function(v,j,k,O){var V=k._locale.weekdaysParse(v,O,k._strict);V!=null?j.d=V:b(k).invalidWeekday=v}),Pt(["d","e","E"],function(v,j,k,O){j[O]=Ze(v)});function Ni(v,j){return typeof v!="string"?v:isNaN(v)?(v=j.weekdaysParse(v),typeof v=="number"?v:null):parseInt(v,10)}function cu(v,j){return typeof v=="string"?j.weekdaysParse(v)%7||7:isNaN(v)?null:v}function Ii(v,j){return v.slice(j,7).concat(v.slice(0,j))}var uu="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),du="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),hu="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),fu=Yt,Qo=Yt,ho=Yt;function Zo(v,j){var k=i(this._weekdays)?this._weekdays:this._weekdays[v&&v!==!0&&this._weekdays.isFormat.test(j)?"format":"standalone"];return v===!0?Ii(k,this._week.dow):v?k[v.day()]:k}function Qn(v){return v===!0?Ii(this._weekdaysShort,this._week.dow):v?this._weekdaysShort[v.day()]:this._weekdaysShort}function Yi(v){return v===!0?Ii(this._weekdaysMin,this._week.dow):v?this._weekdaysMin[v.day()]:this._weekdaysMin}function sd(v,j,k){var O,V,oe,ke=v.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],O=0;O<7;++O)oe=y([2e3,1]).day(O),this._minWeekdaysParse[O]=this.weekdaysMin(oe,"").toLocaleLowerCase(),this._shortWeekdaysParse[O]=this.weekdaysShort(oe,"").toLocaleLowerCase(),this._weekdaysParse[O]=this.weekdays(oe,"").toLocaleLowerCase();return k?j==="dddd"?(V=Vn.call(this._weekdaysParse,ke),V!==-1?V:null):j==="ddd"?(V=Vn.call(this._shortWeekdaysParse,ke),V!==-1?V:null):(V=Vn.call(this._minWeekdaysParse,ke),V!==-1?V:null):j==="dddd"?(V=Vn.call(this._weekdaysParse,ke),V!==-1||(V=Vn.call(this._shortWeekdaysParse,ke),V!==-1)?V:(V=Vn.call(this._minWeekdaysParse,ke),V!==-1?V:null)):j==="ddd"?(V=Vn.call(this._shortWeekdaysParse,ke),V!==-1||(V=Vn.call(this._weekdaysParse,ke),V!==-1)?V:(V=Vn.call(this._minWeekdaysParse,ke),V!==-1?V:null)):(V=Vn.call(this._minWeekdaysParse,ke),V!==-1||(V=Vn.call(this._weekdaysParse,ke),V!==-1)?V:(V=Vn.call(this._shortWeekdaysParse,ke),V!==-1?V:null))}function mt(v,j,k){var O,V,oe;if(this._weekdaysParseExact)return sd.call(this,v,j,k);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),O=0;O<7;O++){if(V=y([2e3,1]).day(O),k&&!this._fullWeekdaysParse[O]&&(this._fullWeekdaysParse[O]=new RegExp("^"+this.weekdays(V,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[O]=new RegExp("^"+this.weekdaysShort(V,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[O]=new RegExp("^"+this.weekdaysMin(V,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[O]||(oe="^"+this.weekdays(V,"")+"|^"+this.weekdaysShort(V,"")+"|^"+this.weekdaysMin(V,""),this._weekdaysParse[O]=new RegExp(oe.replace(".",""),"i")),k&&j==="dddd"&&this._fullWeekdaysParse[O].test(v))return O;if(k&&j==="ddd"&&this._shortWeekdaysParse[O].test(v))return O;if(k&&j==="dd"&&this._minWeekdaysParse[O].test(v))return O;if(!k&&this._weekdaysParse[O].test(v))return O}}function Dn(v){if(!this.isValid())return v!=null?this:NaN;var j=Fn(this,"Day");return v!=null?(v=Ni(v,this.localeData()),this.add(v-j,"d")):j}function Tn(v){if(!this.isValid())return v!=null?this:NaN;var j=(this.day()+7-this.localeData()._week.dow)%7;return v==null?j:this.add(v-j,"d")}function En(v){if(!this.isValid())return v!=null?this:NaN;if(v!=null){var j=cu(v,this.localeData());return this.day(this.day()%7?j:j-7)}else return this.day()||7}function bn(v){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||os.call(this),v?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=fu),this._weekdaysStrictRegex&&v?this._weekdaysStrictRegex:this._weekdaysRegex)}function ln(v){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||os.call(this),v?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Qo),this._weekdaysShortStrictRegex&&v?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function xr(v){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||os.call(this),v?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ho),this._weekdaysMinStrictRegex&&v?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function os(){function v(Qi,Gl){return Gl.length-Qi.length}var j=[],k=[],O=[],V=[],oe,ke,Et,yn,Bn;for(oe=0;oe<7;oe++)ke=y([2e3,1]).day(oe),Et=$n(this.weekdaysMin(ke,"")),yn=$n(this.weekdaysShort(ke,"")),Bn=$n(this.weekdays(ke,"")),j.push(Et),k.push(yn),O.push(Bn),V.push(Et),V.push(yn),V.push(Bn);j.sort(v),k.sort(v),O.sort(v),V.sort(v),this._weekdaysRegex=new RegExp("^("+V.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+O.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+k.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+j.join("|")+")","i")}function Ks(){return this.hours()%12||12}function Ma(){return this.hours()||24}Te("H",["HH",2],0,"hour"),Te("h",["hh",2],0,Ks),Te("k",["kk",2],0,Ma),Te("hmm",0,0,function(){return""+Ks.apply(this)+ge(this.minutes(),2)}),Te("hmmss",0,0,function(){return""+Ks.apply(this)+ge(this.minutes(),2)+ge(this.seconds(),2)}),Te("Hmm",0,0,function(){return""+this.hours()+ge(this.minutes(),2)}),Te("Hmmss",0,0,function(){return""+this.hours()+ge(this.minutes(),2)+ge(this.seconds(),2)});function $a(v,j){Te(v,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),j)})}$a("a",!0),$a("A",!1);function ba(v,j){return j._meridiemParse}Qe("a",ba),Qe("A",ba),Qe("H",be,Jn),Qe("h",be,nn),Qe("k",be,nn),Qe("HH",be,$),Qe("hh",be,$),Qe("kk",be,$),Qe("hmm",Me),Qe("hmmss",tt),Qe("Hmm",Me),Qe("Hmmss",tt),at(["H","HH"],kt),at(["k","kk"],function(v,j,k){var O=Ze(v);j[kt]=O===24?0:O}),at(["a","A"],function(v,j,k){k._isPm=k._locale.isPM(v),k._meridiem=v}),at(["h","hh"],function(v,j,k){j[kt]=Ze(v),b(k).bigHour=!0}),at("hmm",function(v,j,k){var O=v.length-2;j[kt]=Ze(v.substr(0,O)),j[Wt]=Ze(v.substr(O)),b(k).bigHour=!0}),at("hmmss",function(v,j,k){var O=v.length-4,V=v.length-2;j[kt]=Ze(v.substr(0,O)),j[Wt]=Ze(v.substr(O,2)),j[wr]=Ze(v.substr(V)),b(k).bigHour=!0}),at("Hmm",function(v,j,k){var O=v.length-2;j[kt]=Ze(v.substr(0,O)),j[Wt]=Ze(v.substr(O))}),at("Hmmss",function(v,j,k){var O=v.length-4,V=v.length-2;j[kt]=Ze(v.substr(0,O)),j[Wt]=Ze(v.substr(O,2)),j[wr]=Ze(v.substr(V))});function Ge(v){return(v+"").toLowerCase().charAt(0)==="p"}var rn=/[ap]\.?m?\.?/i,un=as("Hours",!0);function Rs(v,j,k){return v>11?k?"pm":"PM":k?"am":"AM"}var ls={calendar:ne,longDateFormat:qt,invalidDate:zt,ordinal:xe,dayOfMonthOrdinalParse:We,relativeTime:Oe,months:lr,monthsShort:mr,week:bs,weekdays:uu,weekdaysMin:hu,weekdaysShort:du,meridiemParse:rn},Sn={},_s={},cs;function mu(v,j){var k,O=Math.min(v.length,j.length);for(k=0;k<O;k+=1)if(v[k]!==j[k])return k;return O}function pr(v){return v&&v.toLowerCase().replace("_","-")}function pu(v){for(var j=0,k,O,V,oe;j<v.length;){for(oe=pr(v[j]).split("-"),k=oe.length,O=pr(v[j+1]),O=O?O.split("-"):null;k>0;){if(V=id(oe.slice(0,k).join("-")),V)return V;if(O&&O.length>=k&&mu(oe,O)>=k-1)break;k--}j++}return cs}function lm(v){return!!(v&&v.match("^[^/\\\\]*$"))}function id(v){var j=null,k;if(Sn[v]===void 0&&t&&t.exports&&lm(v))try{j=cs._abbr,k=pRe,k("./locale/"+v),Xo(j)}catch{Sn[v]=null}return Sn[v]}function Xo(v,j){var k;return v&&(u(j)?k=Ps(v):k=Ki(v,j),k?cs=k:typeof console<"u"&&console.warn&&console.warn("Locale "+v+" not found. Did you forget to load it?")),cs._abbr}function Ki(v,j){if(j!==null){var k,O=ls;if(j.abbr=v,Sn[v]!=null)G("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),O=Sn[v]._config;else if(j.parentLocale!=null)if(Sn[j.parentLocale]!=null)O=Sn[j.parentLocale]._config;else if(k=id(j.parentLocale),k!=null)O=k._config;else return _s[j.parentLocale]||(_s[j.parentLocale]=[]),_s[j.parentLocale].push({name:v,config:j}),null;return Sn[v]=new Z(z(O,j)),_s[v]&&_s[v].forEach(function(V){Ki(V.name,V.config)}),Xo(v),Sn[v]}else return delete Sn[v],null}function hI(v,j){if(j!=null){var k,O,V=ls;Sn[v]!=null&&Sn[v].parentLocale!=null?Sn[v].set(z(Sn[v]._config,j)):(O=id(v),O!=null&&(V=O._config),j=z(V,j),O==null&&(j.abbr=v),k=new Z(j),k.parentLocale=Sn[v],Sn[v]=k),Xo(v)}else Sn[v]!=null&&(Sn[v].parentLocale!=null?(Sn[v]=Sn[v].parentLocale,v===Xo()&&Xo(v)):Sn[v]!=null&&delete Sn[v]);return Sn[v]}function Ps(v){var j;if(v&&v._locale&&v._locale._abbr&&(v=v._locale._abbr),!v)return cs;if(!i(v)){if(j=id(v),j)return j;v=[v]}return pu(v)}function fI(){return X(Sn)}function _g(v){var j,k=v._a;return k&&b(v).overflow===-2&&(j=k[xt]<0||k[xt]>11?xt:k[Mt]<1||k[Mt]>Vr(k[_t],k[xt])?Mt:k[kt]<0||k[kt]>24||k[kt]===24&&(k[Wt]!==0||k[wr]!==0||k[fr]!==0)?kt:k[Wt]<0||k[Wt]>59?Wt:k[wr]<0||k[wr]>59?wr:k[fr]<0||k[fr]>999?fr:-1,b(v)._overflowDayOfYear&&(j<_t||j>Mt)&&(j=Mt),b(v)._overflowWeeks&&j===-1&&(j=ya),b(v)._overflowWeekday&&j===-1&&(j=Nn),b(v).overflow=j),v}var gu=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wg=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Fb=/Z|[+-]\d\d(?::?\d\d)?/,Nr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Fl=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Vb=/^\/?Date\((-?\d+)/i,mI=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ub={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function hE(v){var j,k,O=v._i,V=gu.exec(O)||wg.exec(O),oe,ke,Et,yn,Bn=Nr.length,Qi=Fl.length;if(V){for(b(v).iso=!0,j=0,k=Bn;j<k;j++)if(Nr[j][1].exec(V[1])){ke=Nr[j][0],oe=Nr[j][2]!==!1;break}if(ke==null){v._isValid=!1;return}if(V[3]){for(j=0,k=Qi;j<k;j++)if(Fl[j][1].exec(V[3])){Et=(V[2]||" ")+Fl[j][0];break}if(Et==null){v._isValid=!1;return}}if(!oe&&Et!=null){v._isValid=!1;return}if(V[4])if(Fb.exec(V[4]))yn="Z";else{v._isValid=!1;return}v._f=ke+(Et||"")+(yn||""),zb(v)}else v._isValid=!1}function pI(v,j,k,O,V,oe){var ke=[gI(v),mr.indexOf(j),parseInt(k,10),parseInt(O,10),parseInt(V,10)];return oe&&ke.push(parseInt(oe,10)),ke}function gI(v){var j=parseInt(v,10);return j<=49?2e3+j:j<=999?1900+j:j}function fE(v){return v.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function xg(v,j,k){if(v){var O=du.indexOf(v),V=new Date(j[0],j[1],j[2]).getDay();if(O!==V)return b(k).weekdayMismatch=!0,k._isValid=!1,!1}return!0}function gh(v,j,k){if(v)return Ub[v];if(j)return 0;var O=parseInt(k,10),V=O%100,oe=(O-V)/100;return oe*60+V}function mE(v){var j=mI.exec(fE(v._i)),k;if(j){if(k=pI(j[4],j[3],j[2],j[5],j[6],j[7]),!xg(j[1],k,v))return;v._a=k,v._tzm=gh(j[8],j[9],j[10]),v._d=lo.apply(null,v._a),v._d.setUTCMinutes(v._d.getUTCMinutes()-v._tzm),b(v).rfc2822=!0}else v._isValid=!1}function pE(v){var j=Vb.exec(v._i);if(j!==null){v._d=new Date(+j[1]);return}if(hE(v),v._isValid===!1)delete v._isValid;else return;if(mE(v),v._isValid===!1)delete v._isValid;else return;v._strict?v._isValid=!1:r.createFromInputFallback(v)}r.createFromInputFallback=q("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(v){v._d=new Date(v._i+(v._useUTC?" UTC":""))});function ad(v,j,k){return v??j??k}function Bb(v){var j=new Date(r.now());return v._useUTC?[j.getUTCFullYear(),j.getUTCMonth(),j.getUTCDate()]:[j.getFullYear(),j.getMonth(),j.getDate()]}function cm(v){var j,k,O=[],V,oe,ke;if(!v._d){for(V=Bb(v),v._w&&v._a[Mt]==null&&v._a[xt]==null&&gE(v),v._dayOfYear!=null&&(ke=ad(v._a[_t],V[_t]),(v._dayOfYear>In(ke)||v._dayOfYear===0)&&(b(v)._overflowDayOfYear=!0),k=lo(ke,0,v._dayOfYear),v._a[xt]=k.getUTCMonth(),v._a[Mt]=k.getUTCDate()),j=0;j<3&&v._a[j]==null;++j)v._a[j]=O[j]=V[j];for(;j<7;j++)v._a[j]=O[j]=v._a[j]==null?j===2?1:0:v._a[j];v._a[kt]===24&&v._a[Wt]===0&&v._a[wr]===0&&v._a[fr]===0&&(v._nextDay=!0,v._a[kt]=0),v._d=(v._useUTC?lo:Jo).apply(null,O),oe=v._useUTC?v._d.getUTCDay():v._d.getDay(),v._tzm!=null&&v._d.setUTCMinutes(v._d.getUTCMinutes()-v._tzm),v._nextDay&&(v._a[kt]=24),v._w&&typeof v._w.d<"u"&&v._w.d!==oe&&(b(v).weekdayMismatch=!0)}}function gE(v){var j,k,O,V,oe,ke,Et,yn,Bn;j=v._w,j.GG!=null||j.W!=null||j.E!=null?(oe=1,ke=4,k=ad(j.GG,v._a[_t],co(Mr(),1,4).year),O=ad(j.W,1),V=ad(j.E,1),(V<1||V>7)&&(yn=!0)):(oe=v._locale._week.dow,ke=v._locale._week.doy,Bn=co(Mr(),oe,ke),k=ad(j.gg,v._a[_t],Bn.year),O=ad(j.w,Bn.week),j.d!=null?(V=j.d,(V<0||V>6)&&(yn=!0)):j.e!=null?(V=j.e+oe,(j.e<0||j.e>6)&&(yn=!0)):V=oe),O<1||O>Ys(k,oe,ke)?b(v)._overflowWeeks=!0:yn!=null?b(v)._overflowWeekday=!0:(Et=lu(k,O,V,oe,ke),v._a[_t]=Et.year,v._dayOfYear=Et.dayOfYear)}r.ISO_8601=function(){},r.RFC_2822=function(){};function zb(v){if(v._f===r.ISO_8601){hE(v);return}if(v._f===r.RFC_2822){mE(v);return}v._a=[],b(v).empty=!0;var j=""+v._i,k,O,V,oe,ke,Et=j.length,yn=0,Bn,Qi;for(V=gt(v._f,v._locale).match(Ue)||[],Qi=V.length,k=0;k<Qi;k++)oe=V[k],O=(j.match(ir(oe,v))||[])[0],O&&(ke=j.substr(0,j.indexOf(O)),ke.length>0&&b(v).unusedInput.push(ke),j=j.slice(j.indexOf(O)+O.length),yn+=O.length),it[oe]?(O?b(v).empty=!1:b(v).unusedTokens.push(oe),vn(oe,O,v)):v._strict&&!O&&b(v).unusedTokens.push(oe);b(v).charsLeftOver=Et-yn,j.length>0&&b(v).unusedInput.push(j),v._a[kt]<=12&&b(v).bigHour===!0&&v._a[kt]>0&&(b(v).bigHour=void 0),b(v).parsedDateParts=v._a.slice(0),b(v).meridiem=v._meridiem,v._a[kt]=Wb(v._locale,v._a[kt],v._meridiem),Bn=b(v).era,Bn!==null&&(v._a[_t]=v._locale.erasConvertYear(Bn,v._a[_t])),cm(v),_g(v)}function Wb(v,j,k){var O;return k==null?j:v.meridiemHour!=null?v.meridiemHour(j,k):(v.isPM!=null&&(O=v.isPM(k),O&&j<12&&(j+=12),!O&&j===12&&(j=0)),j)}function Gb(v){var j,k,O,V,oe,ke,Et=!1,yn=v._f.length;if(yn===0){b(v).invalidFormat=!0,v._d=new Date(NaN);return}for(V=0;V<yn;V++)oe=0,ke=!1,j=P({},v),v._useUTC!=null&&(j._useUTC=v._useUTC),j._f=v._f[V],zb(j),w(j)&&(ke=!0),oe+=b(j).charsLeftOver,oe+=b(j).unusedTokens.length*10,b(j).score=oe,Et?oe<O&&(O=oe,k=j):(O==null||oe<O||ke)&&(O=oe,k=j,ke&&(Et=!0));p(v,k||j)}function yI(v){if(!v._d){var j=Q(v._i),k=j.day===void 0?j.date:j.day;v._a=m([j.year,j.month,k,j.hour,j.minute,j.second,j.millisecond],function(O){return O&&parseInt(O,10)}),cm(v)}}function yE(v){var j=new D(_g(_a(v)));return j._nextDay&&(j.add(1,"d"),j._nextDay=void 0),j}function _a(v){var j=v._i,k=v._f;return v._locale=v._locale||Ps(v._l),j===null||k===void 0&&j===""?E({nullInput:!0}):(typeof j=="string"&&(v._i=j=v._locale.preparse(j)),F(j)?new D(_g(j)):(f(j)?v._d=j:i(k)?Gb(v):k?zb(v):Hb(v),w(v)||(v._d=null),v))}function Hb(v){var j=v._i;u(j)?v._d=new Date(r.now()):f(j)?v._d=new Date(j.valueOf()):typeof j=="string"?pE(v):i(j)?(v._a=m(j.slice(0),function(k){return parseInt(k,10)}),cm(v)):o(j)?yI(v):d(j)?v._d=new Date(j):r.createFromInputFallback(v)}function yh(v,j,k,O,V){var oe={};return(j===!0||j===!1)&&(O=j,j=void 0),(k===!0||k===!1)&&(O=k,k=void 0),(o(v)&&c(v)||i(v)&&v.length===0)&&(v=void 0),oe._isAMomentObject=!0,oe._useUTC=oe._isUTC=V,oe._l=k,oe._i=v,oe._f=j,oe._strict=O,yE(oe)}function Mr(v,j,k,O){return yh(v,j,k,O,!1)}var vE=q("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var v=Mr.apply(null,arguments);return this.isValid()&&v.isValid()?v<this?this:v:E()}),vI=q("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var v=Mr.apply(null,arguments);return this.isValid()&&v.isValid()?v>this?this:v:E()});function bE(v,j){var k,O;if(j.length===1&&i(j[0])&&(j=j[0]),!j.length)return Mr();for(k=j[0],O=1;O<j.length;++O)(!j[O].isValid()||j[O][v](k))&&(k=j[O]);return k}function bI(){var v=[].slice.call(arguments,0);return bE("isBefore",v)}function _I(){var v=[].slice.call(arguments,0);return bE("isAfter",v)}var wI=function(){return Date.now?Date.now():+new Date},Vl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function xI(v){var j,k=!1,O,V=Vl.length;for(j in v)if(l(v,j)&&!(Vn.call(Vl,j)!==-1&&(v[j]==null||!isNaN(v[j]))))return!1;for(O=0;O<V;++O)if(v[Vl[O]]){if(k)return!1;parseFloat(v[Vl[O]])!==Ze(v[Vl[O]])&&(k=!0)}return!0}function EI(){return this._isValid}function qb(){return Hn(NaN)}function um(v){var j=Q(v),k=j.year||0,O=j.quarter||0,V=j.month||0,oe=j.week||j.isoWeek||0,ke=j.day||0,Et=j.hour||0,yn=j.minute||0,Bn=j.second||0,Qi=j.millisecond||0;this._isValid=xI(j),this._milliseconds=+Qi+Bn*1e3+yn*6e4+Et*1e3*60*60,this._days=+ke+oe*7,this._months=+V+O*3+k*12,this._data={},this._locale=Ps(),this._bubble()}function el(v){return v instanceof um}function vh(v){return v<0?Math.round(-1*v)*-1:Math.round(v)}function SI(v,j,k){var O=Math.min(v.length,j.length),V=Math.abs(v.length-j.length),oe=0,ke;for(ke=0;ke<O;ke++)Ze(v[ke])!==Ze(j[ke])&&oe++;return oe+V}function _E(v,j){Te(v,0,0,function(){var k=this.utcOffset(),O="+";return k<0&&(k=-k,O="-"),O+ge(~~(k/60),2)+j+ge(~~k%60,2)})}_E("Z",":"),_E("ZZ",""),Qe("Z",pn),Qe("ZZ",pn),at(["Z","ZZ"],function(v,j,k){k._useUTC=!0,k._tzm=yu(pn,v)});var jI=/([\+\-]|\d\d)/gi;function yu(v,j){var k=(j||"").match(v),O,V,oe;return k===null?null:(O=k[k.length-1]||[],V=(O+"").match(jI)||["-",0,0],oe=+(V[1]*60)+Ze(V[2]),oe===0?0:V[0]==="+"?oe:-oe)}function Fa(v,j){var k,O;return j._isUTC?(k=j.clone(),O=(F(v)||f(v)?v.valueOf():Mr(v).valueOf())-k.valueOf(),k._d.setTime(k._d.valueOf()+O),r.updateOffset(k,!1),k):Mr(v).local()}function Eg(v){return-Math.round(v._d.getTimezoneOffset())}r.updateOffset=function(){};function TI(v,j,k){var O=this._offset||0,V;if(!this.isValid())return v!=null?this:NaN;if(v!=null){if(typeof v=="string"){if(v=yu(pn,v),v===null)return this}else Math.abs(v)<16&&!k&&(v=v*60);return!this._isUTC&&j&&(V=Eg(this)),this._offset=v,this._isUTC=!0,V!=null&&this.add(V,"m"),O!==v&&(!j||this._changeInProgress?xE(this,Hn(v-O,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?O:Eg(this)}function CI(v,j){return v!=null?(typeof v!="string"&&(v=-v),this.utcOffset(v,j),this):-this.utcOffset()}function AI(v){return this.utcOffset(0,v)}function NI(v){return this._isUTC&&(this.utcOffset(0,v),this._isUTC=!1,v&&this.subtract(Eg(this),"m")),this}function II(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var v=yu(Lt,this._i);v!=null?this.utcOffset(v):this.utcOffset(0,!0)}return this}function bh(v){return this.isValid()?(v=v?Mr(v).utcOffset():0,(this.utcOffset()-v)%60===0):!1}function he(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Le(){if(!u(this._isDSTShifted))return this._isDSTShifted;var v={},j;return P(v,this),v=_a(v),v._a?(j=v._isUTC?y(v._a):Mr(v._a),this._isDSTShifted=this.isValid()&&SI(v._a,j.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Ae(){return this.isValid()?!this._isUTC:!1}function jt(){return this.isValid()?this._isUTC:!1}function xn(){return this.isValid()?this._isUTC&&this._offset===0:!1}var gr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Js=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Hn(v,j){var k=v,O=null,V,oe,ke;return el(v)?k={ms:v._milliseconds,d:v._days,M:v._months}:d(v)||!isNaN(+v)?(k={},j?k[j]=+v:k.milliseconds=+v):(O=gr.exec(v))?(V=O[1]==="-"?-1:1,k={y:0,d:Ze(O[Mt])*V,h:Ze(O[kt])*V,m:Ze(O[Wt])*V,s:Ze(O[wr])*V,ms:Ze(vh(O[fr]*1e3))*V}):(O=Js.exec(v))?(V=O[1]==="-"?-1:1,k={y:Sc(O[2],V),M:Sc(O[3],V),w:Sc(O[4],V),d:Sc(O[5],V),h:Sc(O[6],V),m:Sc(O[7],V),s:Sc(O[8],V)}):k==null?k={}:typeof k=="object"&&("from"in k||"to"in k)&&(ke=fo(Mr(k.from),Mr(k.to)),k={},k.ms=ke.milliseconds,k.M=ke.months),oe=new um(k),el(v)&&l(v,"_locale")&&(oe._locale=v._locale),el(v)&&l(v,"_isValid")&&(oe._isValid=v._isValid),oe}Hn.fn=um.prototype,Hn.invalid=qb;function Sc(v,j){var k=v&&parseFloat(v.replace(",","."));return(isNaN(k)?0:k)*j}function wE(v,j){var k={};return k.months=j.month()-v.month()+(j.year()-v.year())*12,v.clone().add(k.months,"M").isAfter(j)&&--k.months,k.milliseconds=+j-+v.clone().add(k.months,"M"),k}function fo(v,j){var k;return v.isValid()&&j.isValid()?(j=Fa(j,v),v.isBefore(j)?k=wE(v,j):(k=wE(j,v),k.milliseconds=-k.milliseconds,k.months=-k.months),k):{milliseconds:0,months:0}}function dm(v,j){return function(k,O){var V,oe;return O!==null&&!isNaN(+O)&&(G(j,"moment()."+j+"(period, number) is deprecated. Please use moment()."+j+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),oe=k,k=O,O=oe),V=Hn(k,O),xE(this,V,v),this}}function xE(v,j,k,O){var V=j._milliseconds,oe=vh(j._days),ke=vh(j._months);v.isValid()&&(O=O??!0,ke&&Da(v,Fn(v,"Month")+ke*k),oe&&Gi(v,"Date",Fn(v,"Date")+oe*k),V&&v._d.setTime(v._d.valueOf()+V*k),O&&r.updateOffset(v,oe||ke))}var _h=dm(1,"add"),Sg=dm(-1,"subtract");function hm(v){return typeof v=="string"||v instanceof String}function Er(v){return F(v)||f(v)||hm(v)||d(v)||EE(v)||kI(v)||v===null||v===void 0}function kI(v){var j=o(v)&&!c(v),k=!1,O=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],V,oe,ke=O.length;for(V=0;V<ke;V+=1)oe=O[V],k=k||l(v,oe);return j&&k}function EE(v){var j=i(v),k=!1;return j&&(k=v.filter(function(O){return!d(O)&&hm(v)}).length===0),j&&k}function jg(v){var j=o(v)&&!c(v),k=!1,O=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],V,oe;for(V=0;V<O.length;V+=1)oe=O[V],k=k||l(v,oe);return j&&k}function OI(v,j){var k=v.diff(j,"days",!0);return k<-6?"sameElse":k<-1?"lastWeek":k<0?"lastDay":k<1?"sameDay":k<2?"nextDay":k<7?"nextWeek":"sameElse"}function RI(v,j){arguments.length===1&&(arguments[0]?Er(arguments[0])?(v=arguments[0],j=void 0):jg(arguments[0])&&(j=arguments[0],v=void 0):(v=void 0,j=void 0));var k=v||Mr(),O=Fa(k,this).startOf("day"),V=r.calendarFormat(this,O)||"sameElse",oe=j&&(J(j[V])?j[V].call(this,k):j[V]);return this.format(oe||this.localeData().calendar(V,this,Mr(k)))}function PI(){return new D(this)}function Tg(v,j){var k=F(v)?v:Mr(v);return this.isValid()&&k.isValid()?(j=te(j)||"millisecond",j==="millisecond"?this.valueOf()>k.valueOf():k.valueOf()<this.clone().startOf(j).valueOf()):!1}function vu(v,j){var k=F(v)?v:Mr(v);return this.isValid()&&k.isValid()?(j=te(j)||"millisecond",j==="millisecond"?this.valueOf()<k.valueOf():this.clone().endOf(j).valueOf()<k.valueOf()):!1}function Cg(v,j,k,O){var V=F(v)?v:Mr(v),oe=F(j)?j:Mr(j);return this.isValid()&&V.isValid()&&oe.isValid()?(O=O||"()",(O[0]==="("?this.isAfter(V,k):!this.isBefore(V,k))&&(O[1]===")"?this.isBefore(oe,k):!this.isAfter(oe,k))):!1}function SE(v,j){var k=F(v)?v:Mr(v),O;return this.isValid()&&k.isValid()?(j=te(j)||"millisecond",j==="millisecond"?this.valueOf()===k.valueOf():(O=k.valueOf(),this.clone().startOf(j).valueOf()<=O&&O<=this.clone().endOf(j).valueOf())):!1}function Ag(v,j){return this.isSame(v,j)||this.isAfter(v,j)}function jE(v,j){return this.isSame(v,j)||this.isBefore(v,j)}function TE(v,j,k){var O,V,oe;if(!this.isValid())return NaN;if(O=Fa(v,this),!O.isValid())return NaN;switch(V=(O.utcOffset()-this.utcOffset())*6e4,j=te(j),j){case"year":oe=od(this,O)/12;break;case"month":oe=od(this,O);break;case"quarter":oe=od(this,O)/3;break;case"second":oe=(this-O)/1e3;break;case"minute":oe=(this-O)/6e4;break;case"hour":oe=(this-O)/36e5;break;case"day":oe=(this-O-V)/864e5;break;case"week":oe=(this-O-V)/6048e5;break;default:oe=this-O}return k?oe:Ht(oe)}function od(v,j){if(v.date()<j.date())return-od(j,v);var k=(j.year()-v.year())*12+(j.month()-v.month()),O=v.clone().add(k,"months"),V,oe;return j-O<0?(V=v.clone().add(k-1,"months"),oe=(j-O)/(O-V)):(V=v.clone().add(k+1,"months"),oe=(j-O)/(V-O)),-(k+oe)||0}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function CE(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function fm(v){if(!this.isValid())return null;var j=v!==!0,k=j?this.clone().utc():this;return k.year()<0||k.year()>9999?ft(k,j?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):J(Date.prototype.toISOString)?j?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ft(k,"Z")):ft(k,j?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ld(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var v="moment",j="",k,O,V,oe;return this.isLocal()||(v=this.utcOffset()===0?"moment.utc":"moment.parseZone",j="Z"),k="["+v+'("]',O=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",V="-MM-DD[T]HH:mm:ss.SSS",oe=j+'[")]',this.format(k+O+V+oe)}function Ng(v){v||(v=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var j=ft(this,v);return this.localeData().postformat(j)}function DI(v,j){return this.isValid()&&(F(v)&&v.isValid()||Mr(v).isValid())?Hn({to:this,from:v}).locale(this.locale()).humanize(!j):this.localeData().invalidDate()}function LI(v){return this.from(Mr(),v)}function MI(v,j){return this.isValid()&&(F(v)&&v.isValid()||Mr(v).isValid())?Hn({from:this,to:v}).locale(this.locale()).humanize(!j):this.localeData().invalidDate()}function Ig(v){return this.to(Mr(),v)}function mm(v){var j;return v===void 0?this._locale._abbr:(j=Ps(v),j!=null&&(this._locale=j),this)}var kg=q("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(v){return v===void 0?this.localeData():this.locale(v)});function AE(){return this._locale}var pm=1e3,wh=60*pm,Og=60*wh,Ds=(365*400+97)*24*Og;function ws(v,j){return(v%j+j)%j}function NE(v,j,k){return v<100&&v>=0?new Date(v+400,j,k)-Ds:new Date(v,j,k).valueOf()}function IE(v,j,k){return v<100&&v>=0?Date.UTC(v+400,j,k)-Ds:Date.UTC(v,j,k)}function kE(v){var j,k;if(v=te(v),v===void 0||v==="millisecond"||!this.isValid())return this;switch(k=this._isUTC?IE:NE,v){case"year":j=k(this.year(),0,1);break;case"quarter":j=k(this.year(),this.month()-this.month()%3,1);break;case"month":j=k(this.year(),this.month(),1);break;case"week":j=k(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":j=k(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":j=k(this.year(),this.month(),this.date());break;case"hour":j=this._d.valueOf(),j-=ws(j+(this._isUTC?0:this.utcOffset()*wh),Og);break;case"minute":j=this._d.valueOf(),j-=ws(j,wh);break;case"second":j=this._d.valueOf(),j-=ws(j,pm);break}return this._d.setTime(j),r.updateOffset(this,!0),this}function $I(v){var j,k;if(v=te(v),v===void 0||v==="millisecond"||!this.isValid())return this;switch(k=this._isUTC?IE:NE,v){case"year":j=k(this.year()+1,0,1)-1;break;case"quarter":j=k(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":j=k(this.year(),this.month()+1,1)-1;break;case"week":j=k(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":j=k(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":j=k(this.year(),this.month(),this.date()+1)-1;break;case"hour":j=this._d.valueOf(),j+=Og-ws(j+(this._isUTC?0:this.utcOffset()*wh),Og)-1;break;case"minute":j=this._d.valueOf(),j+=wh-ws(j,wh)-1;break;case"second":j=this._d.valueOf(),j+=pm-ws(j,pm)-1;break}return this._d.setTime(j),r.updateOffset(this,!0),this}function Yb(){return this._d.valueOf()-(this._offset||0)*6e4}function gm(){return Math.floor(this.valueOf()/1e3)}function Kb(){return new Date(this.valueOf())}function xh(){var v=this;return[v.year(),v.month(),v.date(),v.hour(),v.minute(),v.second(),v.millisecond()]}function ym(){var v=this;return{years:v.year(),months:v.month(),date:v.date(),hours:v.hours(),minutes:v.minutes(),seconds:v.seconds(),milliseconds:v.milliseconds()}}function vm(){return this.isValid()?this.toISOString():null}function Rg(){return w(this)}function Eh(){return p({},b(this))}function FI(){return b(this).overflow}function VI(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Te("N",0,0,"eraAbbr"),Te("NN",0,0,"eraAbbr"),Te("NNN",0,0,"eraAbbr"),Te("NNNN",0,0,"eraName"),Te("NNNNN",0,0,"eraNarrow"),Te("y",["y",1],"yo","eraYear"),Te("y",["yy",2],0,"eraYear"),Te("y",["yyy",3],0,"eraYear"),Te("y",["yyyy",4],0,"eraYear"),Qe("N",Un),Qe("NN",Un),Qe("NNN",Un),Qe("NNNN",WI),Qe("NNNNN",GI),at(["N","NN","NNN","NNNN","NNNNN"],function(v,j,k,O){var V=k._locale.erasParse(v,O,k._strict);V?b(k).era=V:b(k).invalidEra=v}),Qe("y",nt),Qe("yy",nt),Qe("yyy",nt),Qe("yyyy",nt),Qe("yo",HI),at(["y","yy","yyy","yyyy"],_t),at(["yo"],function(v,j,k,O){var V;k._locale._eraYearOrdinalRegex&&(V=v.match(k._locale._eraYearOrdinalRegex)),k._locale.eraYearOrdinalParse?j[_t]=k._locale.eraYearOrdinalParse(v,V):j[_t]=parseInt(v,10)});function UI(v,j){var k,O,V,oe=this._eras||Ps("en")._eras;for(k=0,O=oe.length;k<O;++k){switch(typeof oe[k].since){case"string":V=r(oe[k].since).startOf("day"),oe[k].since=V.valueOf();break}switch(typeof oe[k].until){case"undefined":oe[k].until=1/0;break;case"string":V=r(oe[k].until).startOf("day").valueOf(),oe[k].until=V.valueOf();break}}return oe}function BI(v,j,k){var O,V,oe=this.eras(),ke,Et,yn;for(v=v.toUpperCase(),O=0,V=oe.length;O<V;++O)if(ke=oe[O].name.toUpperCase(),Et=oe[O].abbr.toUpperCase(),yn=oe[O].narrow.toUpperCase(),k)switch(j){case"N":case"NN":case"NNN":if(Et===v)return oe[O];break;case"NNNN":if(ke===v)return oe[O];break;case"NNNNN":if(yn===v)return oe[O];break}else if([ke,Et,yn].indexOf(v)>=0)return oe[O]}function zI(v,j){var k=v.since<=v.until?1:-1;return j===void 0?r(v.since).year():r(v.since).year()+(j-v.offset)*k}function Pg(){var v,j,k,O=this.localeData().eras();for(v=0,j=O.length;v<j;++v)if(k=this.clone().startOf("day").valueOf(),O[v].since<=k&&k<=O[v].until||O[v].until<=k&&k<=O[v].since)return O[v].name;return""}function bm(){var v,j,k,O=this.localeData().eras();for(v=0,j=O.length;v<j;++v)if(k=this.clone().startOf("day").valueOf(),O[v].since<=k&&k<=O[v].until||O[v].until<=k&&k<=O[v].since)return O[v].narrow;return""}function OE(){var v,j,k,O=this.localeData().eras();for(v=0,j=O.length;v<j;++v)if(k=this.clone().startOf("day").valueOf(),O[v].since<=k&&k<=O[v].until||O[v].until<=k&&k<=O[v].since)return O[v].abbr;return""}function U(){var v,j,k,O,V=this.localeData().eras();for(v=0,j=V.length;v<j;++v)if(k=V[v].since<=V[v].until?1:-1,O=this.clone().startOf("day").valueOf(),V[v].since<=O&&O<=V[v].until||V[v].until<=O&&O<=V[v].since)return(this.year()-r(V[v].since).year())*k+V[v].offset;return this.year()}function Sh(v){return l(this,"_erasNameRegex")||jc.call(this),v?this._erasNameRegex:this._erasRegex}function Dg(v){return l(this,"_erasAbbrRegex")||jc.call(this),v?this._erasAbbrRegex:this._erasRegex}function mo(v){return l(this,"_erasNarrowRegex")||jc.call(this),v?this._erasNarrowRegex:this._erasRegex}function Un(v,j){return j.erasAbbrRegex(v)}function WI(v,j){return j.erasNameRegex(v)}function GI(v,j){return j.erasNarrowRegex(v)}function HI(v,j){return j._eraYearOrdinalRegex||nt}function jc(){var v=[],j=[],k=[],O=[],V,oe,ke,Et,yn,Bn=this.eras();for(V=0,oe=Bn.length;V<oe;++V)ke=$n(Bn[V].name),Et=$n(Bn[V].abbr),yn=$n(Bn[V].narrow),j.push(ke),v.push(Et),k.push(yn),O.push(ke),O.push(Et),O.push(yn);this._erasRegex=new RegExp("^("+O.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+j.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+v.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+k.join("|")+")","i")}Te(0,["gg",2],0,function(){return this.weekYear()%100}),Te(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Lg(v,j){Te(0,[v,v.length],0,j)}Lg("gggg","weekYear"),Lg("ggggg","weekYear"),Lg("GGGG","isoWeekYear"),Lg("GGGGG","isoWeekYear"),Qe("G",rt),Qe("g",rt),Qe("GG",be,$),Qe("gg",be,$),Qe("GGGG",qe,ue),Qe("gggg",qe,ue),Qe("GGGGG",Je,Ee),Qe("ggggg",Je,Ee),Pt(["gggg","ggggg","GGGG","GGGGG"],function(v,j,k,O){j[O.substr(0,2)]=Ze(v)}),Pt(["gg","GG"],function(v,j,k,O){j[O]=r.parseTwoDigitYear(v)});function qI(v){return RE.call(this,v,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function YI(v){return RE.call(this,v,this.isoWeek(),this.isoWeekday(),1,4)}function KI(){return Ys(this.year(),1,4)}function JI(){return Ys(this.isoWeekYear(),1,4)}function Tc(){var v=this.localeData()._week;return Ys(this.year(),v.dow,v.doy)}function QI(){var v=this.localeData()._week;return Ys(this.weekYear(),v.dow,v.doy)}function RE(v,j,k,O,V){var oe;return v==null?co(this,O,V).year:(oe=Ys(v,O,V),j>oe&&(j=oe),ZI.call(this,v,j,k,O,V))}function ZI(v,j,k,O,V){var oe=lu(v,j,k,O,V),ke=lo(oe.year,0,oe.dayOfYear);return this.year(ke.getUTCFullYear()),this.month(ke.getUTCMonth()),this.date(ke.getUTCDate()),this}Te("Q",0,"Qo","quarter"),Qe("Q",A),at("Q",function(v,j){j[xt]=(Ze(v)-1)*3});function XI(v){return v==null?Math.ceil((this.month()+1)/3):this.month((v-1)*3+this.month()%3)}Te("D",["DD",2],"Do","date"),Qe("D",be,nn),Qe("DD",be,$),Qe("Do",function(v,j){return v?j._dayOfMonthOrdinalParse||j._ordinalParse:j._dayOfMonthOrdinalParseLenient}),at(["D","DD"],Mt),at("Do",function(v,j){j[Mt]=Ze(v.match(be)[0])});var PE=as("Date",!0);Te("DDD",["DDDD",3],"DDDo","dayOfYear"),Qe("DDD",Pe),Qe("DDDD",re),at(["DDD","DDDD"],function(v,j,k){k._dayOfYear=Ze(v)});function Cc(v){var j=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return v==null?j:this.add(v-j,"d")}Te("m",["mm",2],0,"minute"),Qe("m",be,Jn),Qe("mm",be,$),at(["m","mm"],Wt);var ek=as("Minutes",!1);Te("s",["ss",2],0,"second"),Qe("s",be,Jn),Qe("ss",be,$),at(["s","ss"],wr);var tk=as("Seconds",!1);Te("S",0,0,function(){return~~(this.millisecond()/100)}),Te(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Te(0,["SSS",3],0,"millisecond"),Te(0,["SSSS",4],0,function(){return this.millisecond()*10}),Te(0,["SSSSS",5],0,function(){return this.millisecond()*100}),Te(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),Te(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),Te(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),Te(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Qe("S",Pe,A),Qe("SS",Pe,$),Qe("SSS",Pe,re);var bu,DE;for(bu="SSSS";bu.length<=9;bu+="S")Qe(bu,nt);function nk(v,j){j[fr]=Ze(("0."+v)*1e3)}for(bu="S";bu.length<=9;bu+="S")at(bu,nk);DE=as("Milliseconds",!1),Te("z",0,0,"zoneAbbr"),Te("zz",0,0,"zoneName");function cd(){return this._isUTC?"UTC":""}function rk(){return this._isUTC?"Coordinated Universal Time":""}var Xe=D.prototype;Xe.add=_h,Xe.calendar=RI,Xe.clone=PI,Xe.diff=TE,Xe.endOf=$I,Xe.format=Ng,Xe.from=DI,Xe.fromNow=LI,Xe.to=MI,Xe.toNow=Ig,Xe.get=ys,Xe.invalidAt=FI,Xe.isAfter=Tg,Xe.isBefore=vu,Xe.isBetween=Cg,Xe.isSame=SE,Xe.isSameOrAfter=Ag,Xe.isSameOrBefore=jE,Xe.isValid=Rg,Xe.lang=kg,Xe.locale=mm,Xe.localeData=AE,Xe.max=vI,Xe.min=vE,Xe.parsingFlags=Eh,Xe.set=Ci,Xe.startOf=kE,Xe.subtract=Sg,Xe.toArray=xh,Xe.toObject=ym,Xe.toDate=Kb,Xe.toISOString=fm,Xe.inspect=ld,typeof Symbol<"u"&&Symbol.for!=null&&(Xe[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Xe.toJSON=vm,Xe.toString=CE,Xe.unix=gm,Xe.valueOf=Yb,Xe.creationData=VI,Xe.eraName=Pg,Xe.eraNarrow=bm,Xe.eraAbbr=OE,Xe.eraYear=U,Xe.year=Lr,Xe.isLeapYear=Cr,Xe.weekYear=qI,Xe.isoWeekYear=YI,Xe.quarter=Xe.quarters=XI,Xe.month=yi,Xe.daysInMonth=Ko,Xe.week=Xe.weeks=vi,Xe.isoWeek=Xe.isoWeeks=uo,Xe.weeksInYear=Tc,Xe.weeksInWeekYear=QI,Xe.isoWeeksInYear=KI,Xe.isoWeeksInISOWeekYear=JI,Xe.date=PE,Xe.day=Xe.days=Dn,Xe.weekday=Tn,Xe.isoWeekday=En,Xe.dayOfYear=Cc,Xe.hour=Xe.hours=un,Xe.minute=Xe.minutes=ek,Xe.second=Xe.seconds=tk,Xe.millisecond=Xe.milliseconds=DE,Xe.utcOffset=TI,Xe.utc=AI,Xe.local=NI,Xe.parseZone=II,Xe.hasAlignedHourOffset=bh,Xe.isDST=he,Xe.isLocal=Ae,Xe.isUtcOffset=jt,Xe.isUtc=xn,Xe.isUTC=xn,Xe.zoneAbbr=cd,Xe.zoneName=rk,Xe.dates=q("dates accessor is deprecated. Use date instead.",PE),Xe.months=q("months accessor is deprecated. Use month instead",yi),Xe.years=q("years accessor is deprecated. Use year instead",Lr),Xe.zone=q("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",CI),Xe.isDSTShifted=q("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Le);function tl(v){return Mr(v*1e3)}function sk(){return Mr.apply(null,arguments).parseZone()}function LE(v){return v}var cr=Z.prototype;cr.calendar=le,cr.longDateFormat=It,cr.invalidDate=en,cr.ordinal=Qt,cr.preparse=LE,cr.postformat=LE,cr.relativeTime=lt,cr.pastFuture=ve,cr.set=W,cr.eras=UI,cr.erasParse=BI,cr.erasConvertYear=zI,cr.erasAbbrRegex=Dg,cr.erasNameRegex=Sh,cr.erasNarrowRegex=mo,cr.months=Pa,cr.monthsShort=Hi,cr.monthsParse=Ai,cr.monthsRegex=ou,cr.monthsShortRegex=oo,cr.week=Ec,cr.firstDayOfYear=La,cr.firstDayOfWeek=va,cr.weekdays=Zo,cr.weekdaysMin=Yi,cr.weekdaysShort=Qn,cr.weekdaysParse=mt,cr.weekdaysRegex=bn,cr.weekdaysShortRegex=ln,cr.weekdaysMinRegex=xr,cr.isPM=Ge,cr.meridiem=Rs;function Mg(v,j,k,O){var V=Ps(),oe=y().set(O,j);return V[k](oe,v)}function ME(v,j,k){if(d(v)&&(j=v,v=void 0),v=v||"",j!=null)return Mg(v,j,k,"month");var O,V=[];for(O=0;O<12;O++)V[O]=Mg(v,O,k,"month");return V}function $g(v,j,k,O){typeof v=="boolean"?(d(j)&&(k=j,j=void 0),j=j||""):(j=v,k=j,v=!1,d(j)&&(k=j,j=void 0),j=j||"");var V=Ps(),oe=v?V._week.dow:0,ke,Et=[];if(k!=null)return Mg(j,(k+oe)%7,O,"day");for(ke=0;ke<7;ke++)Et[ke]=Mg(j,(ke+oe)%7,O,"day");return Et}function $E(v,j){return ME(v,j,"months")}function ik(v,j){return ME(v,j,"monthsShort")}function ak(v,j,k){return $g(v,j,k,"weekdays")}function Jb(v,j,k){return $g(v,j,k,"weekdaysShort")}function _m(v,j,k){return $g(v,j,k,"weekdaysMin")}Xo("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(v){var j=v%10,k=Ze(v%100/10)===1?"th":j===1?"st":j===2?"nd":j===3?"rd":"th";return v+k}}),r.lang=q("moment.lang is deprecated. Use moment.locale instead.",Xo),r.langData=q("moment.langData is deprecated. Use moment.localeData instead.",Ps);var po=Math.abs;function ok(){var v=this._data;return this._milliseconds=po(this._milliseconds),this._days=po(this._days),this._months=po(this._months),v.milliseconds=po(v.milliseconds),v.seconds=po(v.seconds),v.minutes=po(v.minutes),v.hours=po(v.hours),v.months=po(v.months),v.years=po(v.years),this}function Qb(v,j,k,O){var V=Hn(j,k);return v._milliseconds+=O*V._milliseconds,v._days+=O*V._days,v._months+=O*V._months,v._bubble()}function lk(v,j){return Qb(this,v,j,1)}function Ac(v,j){return Qb(this,v,j,-1)}function Fg(v){return v<0?Math.floor(v):Math.ceil(v)}function ud(){var v=this._milliseconds,j=this._days,k=this._months,O=this._data,V,oe,ke,Et,yn;return v>=0&&j>=0&&k>=0||v<=0&&j<=0&&k<=0||(v+=Fg(Zb(k)+j)*864e5,j=0,k=0),O.milliseconds=v%1e3,V=Ht(v/1e3),O.seconds=V%60,oe=Ht(V/60),O.minutes=oe%60,ke=Ht(oe/60),O.hours=ke%24,j+=Ht(ke/24),yn=Ht(Va(j)),k+=yn,j-=Fg(Zb(yn)),Et=Ht(k/12),k%=12,O.days=j,O.months=k,O.years=Et,this}function Va(v){return v*4800/146097}function Zb(v){return v*146097/4800}function FE(v){if(!this.isValid())return NaN;var j,k,O=this._milliseconds;if(v=te(v),v==="month"||v==="quarter"||v==="year")switch(j=this._days+O/864e5,k=this._months+Va(j),v){case"month":return k;case"quarter":return k/3;case"year":return k/12}else switch(j=this._days+Math.round(Zb(this._months)),v){case"week":return j/7+O/6048e5;case"day":return j+O/864e5;case"hour":return j*24+O/36e5;case"minute":return j*1440+O/6e4;case"second":return j*86400+O/1e3;case"millisecond":return Math.floor(j*864e5)+O;default:throw new Error("Unknown unit "+v)}}function Ul(v){return function(){return this.as(v)}}var jh=Ul("ms"),_u=Ul("s"),VE=Ul("m"),ck=Ul("h"),Vg=Ul("d"),uk=Ul("w"),UE=Ul("M"),bi=Ul("Q"),Xb=Ul("y"),BE=jh;function Bl(){return Hn(this)}function e_(v){return v=te(v),this.isValid()?this[v+"s"]():NaN}function zl(v){return function(){return this.isValid()?this._data[v]:NaN}}var dd=zl("milliseconds"),zE=zl("seconds"),Ji=zl("minutes"),t_=zl("hours"),dk=zl("days"),hk=zl("months"),fk=zl("years");function n_(){return Ht(this.days()/7)}var Nc=Math.round,Wl={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function WE(v,j,k,O,V){return V.relativeTime(j||1,!!k,v,O)}function mk(v,j,k,O){var V=Hn(v).abs(),oe=Nc(V.as("s")),ke=Nc(V.as("m")),Et=Nc(V.as("h")),yn=Nc(V.as("d")),Bn=Nc(V.as("M")),Qi=Nc(V.as("w")),Gl=Nc(V.as("y")),Ic=oe<=k.ss&&["s",oe]||oe<k.s&&["ss",oe]||ke<=1&&["m"]||ke<k.m&&["mm",ke]||Et<=1&&["h"]||Et<k.h&&["hh",Et]||yn<=1&&["d"]||yn<k.d&&["dd",yn];return k.w!=null&&(Ic=Ic||Qi<=1&&["w"]||Qi<k.w&&["ww",Qi]),Ic=Ic||Bn<=1&&["M"]||Bn<k.M&&["MM",Bn]||Gl<=1&&["y"]||["yy",Gl],Ic[2]=j,Ic[3]=+v>0,Ic[4]=O,WE.apply(null,Ic)}function pk(v){return v===void 0?Nc:typeof v=="function"?(Nc=v,!0):!1}function wm(v,j){return Wl[v]===void 0?!1:j===void 0?Wl[v]:(Wl[v]=j,v==="s"&&(Wl.ss=j-1),!0)}function gk(v,j){if(!this.isValid())return this.localeData().invalidDate();var k=!1,O=Wl,V,oe;return typeof v=="object"&&(j=v,v=!1),typeof v=="boolean"&&(k=v),typeof j=="object"&&(O=Object.assign({},Wl,j),j.s!=null&&j.ss==null&&(O.ss=j.s-1)),V=this.localeData(),oe=mk(this,!k,O,V),k&&(oe=V.pastFuture(+this,oe)),V.postformat(oe)}var r_=Math.abs;function wu(v){return(v>0)-(v<0)||+v}function xm(){if(!this.isValid())return this.localeData().invalidDate();var v=r_(this._milliseconds)/1e3,j=r_(this._days),k=r_(this._months),O,V,oe,ke,Et=this.asSeconds(),yn,Bn,Qi,Gl;return Et?(O=Ht(v/60),V=Ht(O/60),v%=60,O%=60,oe=Ht(k/12),k%=12,ke=v?v.toFixed(3).replace(/\.?0+$/,""):"",yn=Et<0?"-":"",Bn=wu(this._months)!==wu(Et)?"-":"",Qi=wu(this._days)!==wu(Et)?"-":"",Gl=wu(this._milliseconds)!==wu(Et)?"-":"",yn+"P"+(oe?Bn+oe+"Y":"")+(k?Bn+k+"M":"")+(j?Qi+j+"D":"")+(V||O||v?"T":"")+(V?Gl+V+"H":"")+(O?Gl+O+"M":"")+(v?Gl+ke+"S":"")):"P0D"}var rr=um.prototype;rr.isValid=EI,rr.abs=ok,rr.add=lk,rr.subtract=Ac,rr.as=FE,rr.asMilliseconds=jh,rr.asSeconds=_u,rr.asMinutes=VE,rr.asHours=ck,rr.asDays=Vg,rr.asWeeks=uk,rr.asMonths=UE,rr.asQuarters=bi,rr.asYears=Xb,rr.valueOf=BE,rr._bubble=ud,rr.clone=Bl,rr.get=e_,rr.milliseconds=dd,rr.seconds=zE,rr.minutes=Ji,rr.hours=t_,rr.days=dk,rr.weeks=n_,rr.months=hk,rr.years=fk,rr.humanize=gk,rr.toISOString=xm,rr.toString=xm,rr.toJSON=xm,rr.locale=mm,rr.localeData=AE,rr.toIsoString=q("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",xm),rr.lang=kg,Te("X",0,0,"unix"),Te("x",0,0,"valueOf"),Qe("x",rt),Qe("X",gn),at("X",function(v,j,k){k._d=new Date(parseFloat(v)*1e3)}),at("x",function(v,j,k){k._d=new Date(Ze(v))});//! moment.js
return r.version="2.30.1",s(Mr),r.fn=Xe,r.min=bI,r.max=_I,r.now=wI,r.utc=y,r.unix=tl,r.months=$E,r.isDate=f,r.locale=Xo,r.invalid=E,r.duration=Hn,r.isMoment=F,r.weekdays=ak,r.parseZone=sk,r.localeData=Ps,r.isDuration=el,r.monthsShort=ik,r.weekdaysMin=_m,r.defineLocale=Ki,r.updateLocale=hI,r.locales=fI,r.weekdaysShort=Jb,r.normalizeUnits=te,r.relativeTimeRounding=pk,r.relativeTimeThreshold=wm,r.calendarFormat=OI,r.prototype=Xe,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r})})(dJ);var gRe=dJ.exports,yRe={toJalaali:vRe,toGregorian:hJ,isValidJalaaliDate:bRe,isLeapJalaaliYear:fJ,jalaaliMonthLength:mJ,jalCal:fF,j2d:yT,d2j:vT,g2d:CA,d2g:mF,jalaaliToDateObject:pJ,jalaaliWeek:wRe},rf=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function vRe(t,e,n){return Object.prototype.toString.call(t)==="[object Date]"&&(n=t.getDate(),e=t.getMonth()+1,t=t.getFullYear()),vT(CA(t,e,n))}function hJ(t,e,n){return mF(yT(t,e,n))}function bRe(t,e,n){return t>=-61&&t<=3177&&e>=1&&e<=12&&n>=1&&n<=mJ(t,e)}function fJ(t){return _Re(t)===0}function mJ(t,e){return e<=6?31:e<=11||fJ(t)?30:29}function _Re(t){var e=rf.length,n=rf[0],r,s,i,o,l;if(t<n||t>=rf[e-1])throw new Error("Invalid Jalaali year "+t);for(l=1;l<e&&(r=rf[l],s=r-n,!(t<r));l+=1)n=r;return o=t-n,s-o<6&&(o=o-s+es(s+4,33)*33),i=pl(pl(o+1,33)-1,4),i===-1&&(i=4),i}function fF(t,e){var n=rf.length,r=t+621,s=-14,i=rf[0],o,l,c,u,d,f,m;if(t<i||t>=rf[n-1])throw new Error("Invalid Jalaali year "+t);for(m=1;m<n&&(o=rf[m],l=o-i,!(t<o));m+=1)s=s+es(l,33)*8+es(pl(l,33),4),i=o;return f=t-i,s=s+es(f,33)*8+es(pl(f,33)+3,4),pl(l,33)===4&&l-f===4&&(s+=1),u=es(r,4)-es((es(r,100)+1)*3,4)-150,d=20+s-u,e?{gy:r,march:d}:(l-f<6&&(f=f-l+es(l+4,33)*33),c=pl(pl(f+1,33)-1,4),c===-1&&(c=4),{leap:c,gy:r,march:d})}function yT(t,e,n){var r=fF(t,!0);return CA(r.gy,3,r.march)+(e-1)*31-es(e,7)*(e-7)+n-1}function vT(t){var e=mF(t).gy,n=e-621,r=fF(n,!1),s=CA(e,3,r.march),i,o,l;if(l=t-s,l>=0){if(l<=185)return o=1+es(l,31),i=pl(l,31)+1,{jy:n,jm:o,jd:i};l-=186}else n-=1,l+=179,r.leap===1&&(l+=1);return o=7+es(l,30),i=pl(l,30)+1,{jy:n,jm:o,jd:i}}function CA(t,e,n){var r=es((t+es(e-8,6)+100100)*1461,4)+es(153*pl(e+9,12)+2,5)+n-34840408;return r=r-es(es(t+100100+es(e-8,6),100)*3,4)+752,r}function mF(t){var e,n,r,s,i;return e=4*t+139361631,e=e+es(es(4*t+183187720,146097)*3,4)*4-3908,n=es(pl(e,1461),4)*5+308,r=es(pl(n,153),5)+1,s=pl(es(n,153),12)+1,i=es(e,1461)-100100+es(8-s,6),{gy:i,gm:s,gd:r}}function wRe(t,e,n){var r=pJ(t,e,n).getDay(),s=r==6?0:-(r+1),i=6+s;return{saturday:vT(yT(t,e,n+s)),friday:vT(yT(t,e,n+i))}}function pJ(t,e,n,r,s,i,o){var l=hJ(t,e,n);return new Date(l.gy,l.gm-1,l.gd,r||0,s||0,i||0,o||0)}function es(t,e){return~~(t/e)}function pl(t,e){return t-~~(t/e)*e}var xRe=Pn,Cs=gRe,pF=yRe,gF=/(\[[^\[]*\])|(\\)?j(Mo|MM?M?M?|Do|DDDo|DD?D?D?|w[o|w]?|YYYYY|YYYY|YY|gg(ggg?)?|)|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,a6=/(\[[^\[]*\])|(\\)?(LTS?|LL?L?L?|l{1,4})/g,o6=/\d\d?/,l6=/\d{1,3}/,c6=/\d{3}/,u6=/\d{1,4}/,d6=/[+\-]?\d{1,6}/,h6=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ERe=/Z|[\+\-]\d\d:?\d\d/i,SRe=/T/i,jRe=/[\+\-]?\d+(\.\d{1,3})?/,yF={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},vF={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},TRe={jm:"jmonth",jmonths:"jmonth",jy:"jyear",jyears:"jyear"},BO={},f6="DDD w M D".split(" "),m6="M D w".split(" "),Nu={jM:function(){return this.jMonth()+1},jMMM:function(t){return this.localeData().jMonthsShort(this,t)},jMMMM:function(t){return this.localeData().jMonths(this,t)},jD:function(){return this.jDate()},jDDD:function(){return this.jDayOfYear()},jw:function(){return this.jWeek()},jYY:function(){return Nd(this.jYear()%100,2)},jYYYY:function(){return Nd(this.jYear(),4)},jYYYYY:function(){return Nd(this.jYear(),5)},jgg:function(){return Nd(this.jWeekYear()%100,2)},jgggg:function(){return this.jWeekYear()},jggggg:function(){return Nd(this.jWeekYear(),5)}};function p6(t,e){return function(n){return Nd(t.call(this,n),e)}}function CRe(t,e){return function(n){return this.localeData().ordinal(t.call(this,n),e)}}(function(){for(var t;f6.length;)t=f6.pop(),Nu["j"+t+"o"]=CRe(Nu["j"+t],t);for(;m6.length;)t=m6.pop(),Nu["j"+t+t]=p6(Nu["j"+t],2);Nu.jDDDD=p6(Nu.jDDD,3)})();function bF(t,e){var n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Nd(t,e){for(var n=t+"";n.length<e;)n="0"+n;return n}function ARe(t){return Object.prototype.toString.call(t)==="[object Array]"}function S0(t){if(t){var e=t.toLowerCase();t=TRe[e]||e}return t}function _F(t,e,n,r){var s=t._d;isNaN(e)&&(t._isValid=!1),t._isUTC?t._d=new Date(Date.UTC(e,n,r,s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds())):t._d=new Date(e,n,r,s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds())}function gJ(t){function e(){}return e.prototype=t,new e}function NRe(t){return Object.getPrototypeOf?Object.getPrototypeOf(t):"".__proto__?t.__proto__:t.constructor.prototype}bF(NRe(Cs.localeData()),{_jMonths:["Farvardin","Ordibehesht","Khordaad","Tir","Amordaad","Shahrivar","Mehr","Aabaan","Aazar","Dey","Bahman","Esfand"],jMonths:function(t){return this._jMonths[t.jMonth()]},_jMonthsShort:["Far","Ord","Kho","Tir","Amo","Sha","Meh","Aab","Aaz","Dey","Bah","Esf"],jMonthsShort:function(t){return this._jMonthsShort[t.jMonth()]},jMonthsParse:function(t){var e,n,r;for(this._jMonthsParse||(this._jMonthsParse=[]),e=0;e<12;e+=1)if(this._jMonthsParse[e]||(n=Pn([2e3,(2+e)%12,25]),r="^"+this.jMonths(n,"")+"|^"+this.jMonthsShort(n,""),this._jMonthsParse[e]=new RegExp(r.replace(".",""),"i")),this._jMonthsParse[e].test(t))return e}});function IRe(t){var e=t.match(gF),n=e.length,r;for(r=0;r<n;r+=1)Nu[e[r]]&&(e[r]=Nu[e[r]]);return function(s){var i="";for(r=0;r<n;r+=1)i+=e[r]instanceof Function?"["+e[r].call(s,t)+"]":e[r];return i}}function yJ(t,e){switch(t){case"jDDDD":return c6;case"jYYYY":return u6;case"jYYYYY":return d6;case"jDDD":return l6;case"jMMM":case"jMMMM":return h6;case"jMM":case"jDD":case"jYY":case"jM":case"jD":return o6;case"DDDD":return c6;case"YYYY":return u6;case"YYYYY":return d6;case"S":case"SS":case"SSS":case"DDD":return l6;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return h6;case"a":case"A":return Cs.localeData(e._l)._meridiemParse;case"X":return jRe;case"Z":case"ZZ":return ERe;case"T":return SRe;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return o6;default:return new RegExp(t.replace("\\",""))}}function kRe(t,e,n){var r,s=n._a;switch(t){case"jM":case"jMM":s[1]=e==null?0:~~e-1;break;case"jMMM":case"jMMMM":r=Cs.localeData(n._l).jMonthsParse(e),r!=null?s[1]=r:n._isValid=!1;break;case"jD":case"jDD":case"jDDD":case"jDDDD":e!=null&&(s[2]=~~e);break;case"jYY":s[0]=~~e+(~~e>47?1300:1400);break;case"jYYYY":case"jYYYYY":s[0]=~~e}e==null&&(n._isValid=!1)}function ORe(t){var e,n,r=t._a[0],s=t._a[1],i=t._a[2];return r==null&&s==null&&i==null?[0,0,1]:(r=r??0,s=s??0,i=i??1,(i<1||i>Pn.jDaysInMonth(r,s)||s<0||s>11)&&(t._isValid=!1),e=j0(r,s,i),n=kf(e.gy,e.gm,e.gd),isNaN(e.gy)&&(t._isValid=!1),t._jDiff=0,~~n.jy!==r&&(t._jDiff+=1),~~n.jm!==s&&(t._jDiff+=1),~~n.jd!==i&&(t._jDiff+=1),[e.gy,e.gm,e.gd])}function RRe(t){var e=t._f.match(gF),n=t._i+"",r=e.length,s,i,o;for(t._a=[],s=0;s<r;s+=1)i=e[s],o=(yJ(i,t).exec(n)||[])[0],o&&(n=n.slice(n.indexOf(o)+o.length)),Nu[i]&&kRe(i,o,t);return n&&(t._il=n),ORe(t)}function PRe(t,e){var n=t._f.length,r,s,i,o,l,c;if(n===0)return yx(new Date(NaN));for(r=0;r<n;r+=1)s=t._f[r],l=0,i=yx(t._i,s,t._l,t._strict,e),i.isValid()&&(l+=i._jDiff,i._il&&(l+=i._il.length),(c==null||l<c)&&(c=l,o=i));return o}function DRe(t){var e=t._i+"",n="",r="",s=t._f.match(gF),i=s.length,o,l,c;for(o=0;o<i;o+=1)l=s[o],c=(yJ(l,t).exec(e)||[])[0],c&&(e=e.slice(e.indexOf(c)+c.length)),Nu[l]instanceof Function||(r+=l,c&&(n+=c));t._i=n,t._f=r}function vJ(t,e,n){var r=n-e,s=n-t.day(),i;return s>r&&(s-=7),s<r-7&&(s+=7),i=Pn(t).add(s,"d"),{week:Math.ceil(i.jDayOfYear()/7),year:i.jYear()}}var LRe=57724432199999;function yx(t,e,n,r,s){typeof n=="boolean"&&(r=n,n=void 0),e&&typeof e=="string"&&(e=bJ(e,Cs));var i={_i:t,_f:e,_l:n,_strict:r},o,l,c,u=t,d=e;if(e){if(ARe(e))return PRe(i,s);o=RRe(i),DRe(i),e="YYYY-MM-DD-"+i._f,t=Nd(o[0],4)+"-"+Nd(o[1]+1,2)+"-"+Nd(o[2],2)+"-"+i._i}return s?l=Cs.utc(t,e,n,r):l=Cs(t,e,n,r),i._isValid===!1&&(l._isValid=!1),l._jDiff=i._jDiff||0,c=gJ(Pn.fn),bF(c,l),r&&e&&c.isValid()&&(c._isValid=c.format(d)===u),l._d.getTime()>LRe&&(c._isValid=!1),c}function Pn(t,e,n,r){return yx(t,e,n,r,!1)}bF(Pn,Cs);Pn.fn=gJ(Cs.fn);Pn.utc=function(t,e,n,r){return yx(t,e,n,r,!0)};Pn.unix=function(t){return yx(t*1e3)};function bJ(t,e){for(var n=5,r=function(s){return e.localeData().longDateFormat(s)||s};n>0&&a6.test(t);)n-=1,t=t.replace(a6,r);return t}Pn.fn.format=function(t){return t&&(t=bJ(t,this),BO[t]||(BO[t]=IRe(t)),t=BO[t](this)),Cs.fn.format.call(this,t)};Pn.fn.jYear=function(t){var e,n,r;return typeof t=="number"?(n=kf(this.year(),this.month(),this.date()),e=Math.min(n.jd,Pn.jDaysInMonth(t,n.jm)),r=j0(t,n.jm,e),_F(this,r.gy,r.gm,r.gd),Cs.updateOffset(this),this):kf(this.year(),this.month(),this.date()).jy};Pn.fn.jMonth=function(t){var e,n,r;return t!=null?typeof t=="string"&&(t=this.localeData().jMonthsParse(t),typeof t!="number")?this:(n=kf(this.year(),this.month(),this.date()),e=Math.min(n.jd,Pn.jDaysInMonth(n.jy,t)),this.jYear(n.jy+_J(t,12)),t=wJ(t,12),t<0&&(t+=12,this.jYear(this.jYear()-1)),r=j0(this.jYear(),t,e),_F(this,r.gy,r.gm,r.gd),Cs.updateOffset(this),this):kf(this.year(),this.month(),this.date()).jm};Pn.fn.jDate=function(t){var e,n;return typeof t=="number"?(e=kf(this.year(),this.month(),this.date()),n=j0(e.jy,e.jm,t),_F(this,n.gy,n.gm,n.gd),Cs.updateOffset(this),this):kf(this.year(),this.month(),this.date()).jd};Pn.fn.jDayOfYear=function(t){var e=Math.round((Pn(this).startOf("day")-Pn(this).startOf("jYear"))/864e5)+1;return t==null?e:this.add(t-e,"d")};Pn.fn.jWeek=function(t){var e=vJ(this,this.localeData()._week.dow,this.localeData()._week.doy).week;return t==null?e:this.add((t-e)*7,"d")};Pn.fn.jWeekYear=function(t){var e=vJ(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return t==null?e:this.add(t-e,"y")};Pn.fn.add=function(t,e){var n;return e!==null&&!isNaN(+e)&&(n=t,t=e,e=n),e=S0(e),e==="jyear"?this.jYear(this.jYear()+t):e==="jmonth"?this.jMonth(this.jMonth()+t):(Cs.fn.add.call(this,t,e),isNaN(this.jYear())&&(this._isValid=!1)),this};Pn.fn.subtract=function(t,e){var n;return e!==null&&!isNaN(+e)&&(n=t,t=e,e=n),e=S0(e),e==="jyear"?this.jYear(this.jYear()-t):e==="jmonth"?this.jMonth(this.jMonth()-t):Cs.fn.subtract.call(this,t,e),this};Pn.fn.startOf=function(t){return t=S0(t),t==="jyear"||t==="jmonth"?(t==="jyear"&&this.jMonth(0),this.jDate(1),this.hours(0),this.minutes(0),this.seconds(0),this.milliseconds(0),this):Cs.fn.startOf.call(this,t)};Pn.fn.endOf=function(t){return t=S0(t),t===void 0||t==="milisecond"?this:this.startOf(t).add(1,t==="isoweek"?"week":t).subtract(1,"ms")};Pn.fn.isSame=function(t,e){return e=S0(e),e==="jyear"||e==="jmonth"?Cs.fn.isSame.call(this.startOf(e),t.startOf(e)):Cs.fn.isSame.call(this,t,e)};Pn.fn.clone=function(){return Pn(this)};Pn.fn.jYears=Pn.fn.jYear;Pn.fn.jMonths=Pn.fn.jMonth;Pn.fn.jDates=Pn.fn.jDate;Pn.fn.jWeeks=Pn.fn.jWeek;Pn.jDaysInMonth=function(t,e){return t+=_J(e,12),e=wJ(e,12),e<0&&(e+=12,t-=1),e<6?31:e<11||Pn.jIsLeapYear(t)?30:29};Pn.jIsLeapYear=pF.isLeapJalaaliYear;Pn.loadPersian=function(t){var e=t!==void 0&&t.hasOwnProperty("usePersianDigits")?t.usePersianDigits:!1,n=t!==void 0&&t.hasOwnProperty("dialect")?t.dialect:"persian";Cs.locale("fa"),Cs.updateLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:{persian:"______".split("_"),"persian-modern":"______".split("_")}[n],weekdaysShort:{persian:"______".split("_"),"persian-modern":"______".split("_")}[n],weekdaysMin:{persian:"______".split("_"),"persian-modern":"______".split("_")}[n],longDateFormat:{LT:"HH:mm",L:"jYYYY/jMM/jDD",LL:"jD jMMMM jYYYY",LLL:"jD jMMMM jYYYY LT",LLLL:"dddd jD jMMMM jYYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},preparse:function(r){return e?r.replace(/[-]/g,function(s){return vF[s]}).replace(//g,","):r},postformat:function(r){return e?r.replace(/\d/g,function(s){return yF[s]}).replace(/,/g,""):r},ordinal:"%d",week:{dow:6,doy:12},meridiem:function(r){return r<12?".":"."},jMonths:{persian:"___________".split("_"),"persian-modern":"___________".split("_")}[n],jMonthsShort:{persian:"___________".split("_"),"persian-modern":"___________".split("_")}[n]})};Pn.loadPersian_dari=function(t){var e=t!==void 0&&t.hasOwnProperty("usePersianDigits")?t.usePersianDigits:!1,n=t!==void 0&&t.hasOwnProperty("dialect")?t.dialect:"persian-dari";Cs.locale("fa-af"),Cs.updateLocale("fa-af",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:{persian:"______".split("_"),"persian-modern":"______".split("_")}[n],weekdaysShort:{persian:"______".split("_"),"persian-modern":"______".split("_")}[n],weekdaysMin:{persian:"______".split("_"),"persian-modern":"______".split("_")}[n],longDateFormat:{LT:"HH:mm",L:"jYYYY/jMM/jDD",LL:"jD jMMMM jYYYY",LLL:"jD jMMMM jYYYY LT",LLLL:"dddd jD jMMMM jYYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},preparse:function(r){return e?r.replace(/[-]/g,function(s){return vF[s]}).replace(//g,","):r},postformat:function(r){return e?r.replace(/\d/g,function(s){return yF[s]}).replace(/,/g,""):r},ordinal:"%d",week:{dow:6,doy:12},meridiem:function(r){return r<12?".":"."},jMonths:{"persian-dari":"___________".split("_"),"persian-modern-dari":"___________".split("_")}[n],jMonthsShort:{"persian-dari":"___________".split("_"),"persian-modern-dari":"___________".split("_")}[n]})};Pn.loadPashto=function(t){var e=t!==void 0&&t.hasOwnProperty("usePersianDigits")?t.usePersianDigits:!1,n=t!==void 0&&t.hasOwnProperty("dialect")?t.dialect:"pashto";Cs.locale("ps-af"),Cs.updateLocale("ps-af",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:{pashto:"______".split("_"),"pashto-modern":"______".split("_")}[n],weekdaysShort:{pashto:"______".split("_"),"pashto-modern":"______".split("_")}[n],weekdaysMin:{pashto:"______".split("_"),"pashto-modern":"______".split("_")}[n],longDateFormat:{LT:"HH:mm",L:"jYYYY/jMM/jDD",LL:"jD jMMMM jYYYY",LLL:"jD jMMMM jYYYY LT",LLLL:"dddd jD jMMMM jYYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},preparse:function(r){return e?r.replace(/[-]/g,function(s){return vF[s]}).replace(//g,","):r},postformat:function(r){return e?r.replace(/\d/g,function(s){return yF[s]}).replace(/,/g,""):r},ordinal:"%d",week:{dow:6,doy:12},meridiem:function(r){return r<12?".":"."},jMonths:{pashto:"___________".split("_"),"pashto-modern":"___________".split("_")}[n],jMonthsShort:{pashto:"__________".split("_"),"pashto-modern":"__________".split("_")}[n]})};Pn.jConvert={toJalaali:kf,toGregorian:j0};function kf(t,e,n){try{var r=pF.toJalaali(t,e+1,n);return r.jm-=1,r}catch{return{jy:NaN,jm:NaN,jd:NaN}}}function j0(t,e,n){try{var r=pF.toGregorian(t,e+1,n);return r.gm-=1,r}catch{return{gy:NaN,gm:NaN,gd:NaN}}}function _J(t,e){return~~(t/e)}function wJ(t,e){return t-~~(t/e)*e}const ev=Ho(xRe);var xf={},xJ={exports:{}};(function(t,e){(function(n,r){t.exports=r(m0,C)})(fl,function(n,r){function s(b){return b&&typeof b=="object"&&"default"in b?b:{default:b}}var i=s(r);function o(b,x){var w=Object.keys(b);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(b);x&&(E=E.filter(function(T){return Object.getOwnPropertyDescriptor(b,T).enumerable})),w.push.apply(w,E)}return w}function l(b){for(var x=1;x<arguments.length;x++){var w=arguments[x]!=null?arguments[x]:{};x%2?o(Object(w),!0).forEach(function(E){c(b,E,w[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(w)):o(Object(w)).forEach(function(E){Object.defineProperty(b,E,Object.getOwnPropertyDescriptor(w,E))})}return b}function c(b,x,w){return x in b?Object.defineProperty(b,x,{value:w,enumerable:!0,configurable:!0,writable:!0}):b[x]=w,b}function u(b,x){return function(w){if(Array.isArray(w))return w}(b)||function(w,E){var T=w==null?null:typeof Symbol<"u"&&w[Symbol.iterator]||w["@@iterator"];if(T!=null){var N,P,D=[],F=!0,Y=!1;try{for(T=T.call(w);!(F=(N=T.next()).done)&&(D.push(N.value),!E||D.length!==E);F=!0);}catch(q){Y=!0,P=q}finally{try{F||T.return==null||T.return()}finally{if(Y)throw P}}return D}}(b,x)||function(w,E){if(w){if(typeof w=="string")return d(w,E);var T=Object.prototype.toString.call(w).slice(8,-1);if(T==="Object"&&w.constructor&&(T=w.constructor.name),T==="Map"||T==="Set")return Array.from(w);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return d(w,E)}}(b,x)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function d(b,x){(x==null||x>b.length)&&(x=b.length);for(var w=0,E=new Array(x);w<x;w++)E[w]=b[w];return E}function f(b,x){var w=b.element,E=b.popper,T=b.position,N=T===void 0?"bottom-center":T,P=b.containerStyle,D=b.containerClassName,F=D===void 0?"":D,Y=b.arrow,q=b.arrowStyle,B=q===void 0?{}:q,G=b.arrowClassName,J=G===void 0?"":G,W=b.fixMainPosition,z=b.fixRelativePosition,Z=b.offsetY,X=b.offsetX,ne=b.animations,le=b.zIndex,ge=le===void 0?0:le,Ue=b.popperShadow,Ie=b.onChange,ot=b.active,it=ot===void 0||ot,Te=b.portal,St=b.portalTarget,ut=typeof window<"u",ft=ut&&St instanceof HTMLElement,gt=Y===!0,qt=E&&it===!0,It=r.useRef(),zt=r.useRef(),en=r.useRef(),xe=r.useRef(),We=r.useMemo(function(){return{position:N,fixMainPosition:W,fixRelativePosition:z,offsetY:Z,offsetX:X,defaultArrow:gt,animations:ne,zIndex:ge,onChange:Ie}},[N,W,z,Z,X,gt,ne,Ie,ge]),Qt=r.useCallback(function(){en.current&&(en.current.style.transition=""),zt.current&&(zt.current.parentNode.style.transition="")},[]),Oe={element:l({display:"inline-block",height:"max-content"},P),arrow:l({visibility:"hidden",left:"0",top:"0",position:"absolute"},B),popper:{position:"absolute",left:"0",top:"0",willChange:"transform",visibility:"hidden",zIndex:ge}};ut&&!xe.current&&(xe.current=document.createElement("div"),xe.current.data={portal:Te,isValidPortalTarget:ft}),r.useEffect(function(){if(Te&&!ft){var ve=xe.current;return document.body.appendChild(ve),function(){document.body.contains(ve)&&document.body.removeChild(ve)}}},[Te,ft]),r.useEffect(function(){if(!qt)return Qt(),zt.current.parentNode.style.visibility="hidden",void(en.current&&(en.current.style.visibility="hidden"));function ve(K){K&&K.type!=="resize"&&!K.target.contains(It.current)||(K&&Qt(),m(It,zt,en,We,K))}return ve(),document.addEventListener("scroll",ve,!0),window.addEventListener("resize",ve),function(){document.removeEventListener("scroll",ve,!0),window.removeEventListener("resize",ve)}},[qt,We,Qt]),r.useEffect(function(){var ve={portal:Te,isValidPortalTarget:ft},K=xe.current.data;JSON.stringify(ve)!==JSON.stringify(K)&&(xe.current.data=ve,It.current.refreshPosition())},[Te,ft]);var lt=i.default.createElement(i.default.Fragment,null,function(){if(!Y||!qt)return null;var ve=i.default.createElement("div",{ref:en,style:Oe.arrow}),K=r.isValidElement(Y)?{children:Y}:{className:"ep-arrow ".concat(Ue?"ep-shadow":""," ").concat(J)};return r.cloneElement(ve,K)}(),i.default.createElement("div",{className:Ue?"ep-popper-shadow":"",style:Oe.popper},i.default.createElement("div",{ref:zt},E)));return i.default.createElement("div",{ref:function(ve){if(ve&&(ve.removeTransition=Qt,ve.refreshPosition=function(){return setTimeout(function(){return m(It,zt,en,We,{})},10)}),It.current=ve,x instanceof Function)return x(ve);x&&(x.current=ve)},className:F,style:Oe.element},w,Te&&ut?n.createPortal(lt,ft?St:xe.current):lt)}function m(b,x,w,E,T){var N=E.position,P=E.fixMainPosition,D=E.fixRelativePosition,F=E.offsetY,Y=F===void 0?0:F,q=E.offsetX,B=q===void 0?0:q,G=E.defaultArrow,J=E.animations,W=J===void 0?[]:J,z=E.zIndex,Z=E.onChange;if(b.current&&x.current){var X,ne,le,ge,Ue=(ne=window.pageXOffset!==void 0,le=(document.compatMode||"")==="CSS1Compat",{scrollLeft:ne?window.pageXOffset:le?document.documentElement.scrollLeft:document.body.scrollLeft,scrollTop:ne?window.pageYOffset:le?document.documentElement.scrollTop:document.body.scrollTop}),Ie=Ue.scrollLeft,ot=Ue.scrollTop,it=p(b.current,Ie,ot),Te=it.top,St=it.left,ut=it.height,ft=it.width,gt=it.right,qt=it.bottom,It=p(x.current,Ie,ot),zt=It.top,en=It.left,xe=It.height,We=It.width,Qt=document.documentElement,Oe=Qt.clientHeight,lt=Qt.clientWidth,ve=x.current.parentNode,K=function(Zt){if(!Zt)return[0,0];var _t=u((Zt.style.transform.match(/translate\((.*?)px,\s(.*?)px\)/)||[]).map(function(Wt){return Number(Wt)}),3),xt=_t[1],Mt=xt===void 0?0:xt,kt=_t[2];return[Mt,kt===void 0?0:kt]}(ve),te=u(K,2),Q=te[0],me=te[1],ye=function(Zt){var _t=u(Zt.split("-"),2),xt=_t[0],Mt=xt===void 0?"bottom":xt,kt=_t[1],Wt=kt===void 0?"center":kt;Mt==="auto"&&(Mt="bottom"),Wt==="auto"&&(Wt="center");var wr=Mt==="top"||Mt==="bottom",fr=Mt==="left"||Mt==="right";return fr&&(Wt==="start"&&(Wt="top"),Wt==="end"&&(Wt="bottom")),wr&&(Wt==="start"&&(Wt="left"),Wt==="end"&&(Wt="right")),[Mt,Wt,wr,fr]}(N),A=u(ye,4),$=A[0],re=A[1],ue=A[2],Ee=A[3],be=$,Me=function(Zt,_t){return"translate(".concat(Zt,"px, ").concat(_t,"px)")},tt=ft-We,Pe=ut-xe,qe=re==="left"?0:re==="right"?tt:tt/2,Je=tt-qe,nt=re==="top"?0:re==="bottom"?Pe:Pe/2,rt=Pe-nt,Lt=St-en+Q,pn=Te-zt+me,gn=0,Yt=0,nn=y(b.current),Jn=[],Gn=w.current,Qe=p(Gn,Ie,ot)||{},ir=Qe.height,on=ir===void 0?0:ir,$n=Qe.width,Ht=$n===void 0?0:$n,Ze=Lt,Tt=pn,at={top:"bottom",bottom:"top",left:"right",right:"left"};for(ue&&(Lt+=qe,pn+=$==="top"?-xe:ut,G&&(on=11,Ht=20)),Ee&&(Lt+=$==="left"?-We:ft,pn+=nt,G&&(on=20,Ht=11));nn;)Jn.push(nn),vn(p(nn,Ie,ot)),nn=y(nn.parentNode);vn({top:ot,bottom:ot+Oe,left:Ie,right:Ie+lt,height:Oe,width:lt}),ue&&(pn+=be==="bottom"?Y:-Y),Ee&&(Lt+=be==="right"?B:-B),Lt-=gn,pn-=Yt,X=at[be],Gn&&(ue&&((ge=ft<We)?Ze+=ft/2:Ze=Lt+We/2,Ze-=Ht/2,be==="bottom"&&(Tt=pn,pn+=on),be==="top"&&(Tt=(pn-=on)+xe),gn<0&&gn-qe<0&&(ge?Ze+=(qe-gn)/2:ft-qe+gn<We&&(Ze+=(ft-qe+gn-We)/2)),gn>0&&gn+Je>0&&(ge?Ze-=(gn+Je)/2:ft-gn-Je<We&&(Ze-=(ft-gn-Je-We)/2))),Ee&&((ge=ut<xe)?Tt+=ut/2:Tt=pn+xe/2,Tt-=on/2,be==="left"&&(Ze=(Lt-=Ht)+We),be==="right"&&(Ze=Lt,Lt+=Ht),Yt<0&&Yt-nt<0&&(ge?Tt+=(nt-Yt)/2:ut-nt+Yt<xe&&(Tt+=(ut-nt+Yt-xe)/2)),Yt>0&&Yt+rt>0&&(ge?Tt-=(Yt+rt)/2:ut-Yt-rt<xe&&(Tt-=(ut-Yt-rt-xe)/2))),Gn.setAttribute("direction",X),Gn.style.height=on+"px",Gn.style.width=Ht+"px",Gn.style.transform=Me(Ze,Tt),Gn.style.visibility="visible",Gn.style.zIndex=z+1),ve.style.transform=Me(Lt,pn);var Pt={popper:{top:pn,bottom:pn+xe,left:Lt,right:Lt+We,height:xe,width:We},element:{top:Te,bottom:qt,left:St,right:gt,height:ut,width:ft},arrow:{top:Tt,bottom:Tt+on,left:Ze,right:Ze+Ht,height:on,width:Ht,direction:X},position:be+"-"+(gn!==0?"auto":re),scroll:{scrollLeft:Ie,scrollTop:ot},scrollableParents:Jn,event:T};T||W.forEach(function(Zt){Zt({popper:ve,arrow:Gn,data:l(l({},Pt),{},{getTransform:Me,mirror:at})})}),ve.style.visibility="visible",typeof Z=="function"&&Z(Pt)}function vn(Zt){var _t=Zt.top,xt=Zt.bottom,Mt=Zt.left,kt=Zt.right,Wt=Zt.height,wr=Zt.width;if(ue){var fr=Math.round(Te-_t+ut/2),ya=Math.round(Wt/2);P||(Te-(xe+Y+on)<_t&&fr<=ya&&be==="top"?(pn+=xe+ut,be="bottom"):qt+xe+Y+on>Wt+_t&&fr>=ya&&be==="bottom"&&(pn-=xe+ut,be="top")),D||(St+qe<Mt&&(gn=_(gt-Ht>Mt?St+qe-Mt:-ft+qe+Ht,gn)),gt-Je>kt&&(gn=_(St+Ht<kt?gt-Je-kt:ft-Je-Ht,gn)))}if(Ee){var Nn=Math.round(St-Mt+ft/2),In=Math.round(wr/2);P||(St-(We+B+Ht)<Mt&&Nn<In&&be==="left"?(Lt+=ft+We,be="right"):gt+We+B+Ht>kt&&Nn>In&&be==="right"&&(Lt-=ft+We,be="left")),D||(Te+nt<_t&&(Yt=_(qt-on>_t?Te+nt-_t:-ut+nt+on,Yt)),qt-rt>xt&&(Yt=_(Te+on<xt?qt-rt-xt:ut-rt-on,Yt)))}}}function p(b,x,w){if(b){var E=b.getBoundingClientRect(),T=E.top,N=E.left,P=E.width,D=E.height,F=T+w,Y=N+x;return{top:F,bottom:F+D,left:Y,right:Y+P,width:P,height:D}}}function y(b){if(b&&b.tagName!=="HTML"){var x=window.getComputedStyle(b),w=function(E){return["auto","scroll"].includes(E)};return b.clientHeight<b.scrollHeight&&w(x.overflowX)||b.clientWidth<b.scrollWidth&&w(x.overflowY)?b:y(b.parentNode)}}function _(b,x){return Math.round(Math.abs(b))>Math.round(Math.abs(x))?b:x}return r.forwardRef(f)})})(xJ);var MRe=xJ.exports;function tv(t){return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tv(t)}function $Re(t){return function(e){if(Array.isArray(e))return WD(e)}(t)||EJ(t)||AA(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function EJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function g6(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=AA(t))||e){n&&(t=n);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var c=n.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw i}}}}function y6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function v6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y6(Object(n),!0).forEach(function(r){FRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FRe(t,e,n){return(e=TJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cm(t,e){return jJ(t)||function(n,r){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var i,o,l,c,u=[],d=!0,f=!1;try{if(l=(s=s.call(n)).next,r===0){if(Object(s)!==s)return;d=!1}else for(;!(d=(i=l.call(s)).done)&&(u.push(i.value),u.length!==r);d=!0);}catch(m){f=!0,o=m}finally{try{if(!d&&s.return!=null&&(c=s.return(),Object(c)!==c))return}finally{if(f)throw o}}return u}}(t,e)||AA(t,e)||SJ()}function SJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AA(t,e){if(t){if(typeof t=="string")return WD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?WD(t,e):void 0}}function WD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jJ(t){if(Array.isArray(t))return t}function VRe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TJ(r.key),r)}}function TJ(t){var e=function(n,r){if(tv(n)!=="object"||n===null)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var i=s.call(n,r);if(tv(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(t,"string");return tv(e)==="symbol"?e:String(e)}function _i(t,e,n){(function(r,s){if(s.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function De(t,e){return function(n,r){return r.get?r.get.call(n):r.value}(t,CJ(t,e,"get"))}function wt(t,e,n){return function(r,s,i){if(s.set)s.set.call(r,i);else{if(!s.writable)throw new TypeError("attempted to set read only private field");s.value=i}}(t,CJ(t,e,"set"),n),n}function CJ(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function URe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function BRe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var b6={name:"gregorian_en",months:[["January","Jan"],["February","Feb"],["March","Mar"],["April","Apr"],["May","May"],["June","Jun"],["July","Jul"],["August","Aug"],["September","Sep"],["October","Oct"],["November","Nov"],["December","Dec"]],weekDays:[["Saturday","Sat"],["Sunday","Sun"],["Monday","Mon"],["Tuesday","Tue"],["Wednesday","Wed"],["Thursday","Thu"],["Friday","Fri"]],digits:["0","1","2","3","4","5","6","7","8","9"],meridiems:[["AM","am"],["PM","pm"]]},kS={name:"gregorian",startYear:1,yearLength:365,epoch:1721424,century:20,weekStartDayIndex:1,getMonthLengths:function(t){return[31,t?29:28,31,30,31,30,31,31,30,31,30,31]},isLeap:function(t){return t%4==0&&t%100!=0||t%400==0},getLeaps:function(t){if(t!==0){for(var e=t>0?1:-1,n=[];t>0?e<=t:t<=e;)this.isLeap(e)&&n.push(e),t>0?e++:e--;return n}},getDayOfYear:function(t){for(var e=t.year,n=t.month,r=t.day,s=this.getMonthLengths(this.isLeap(e)),i=0;i<n.index;i++)r+=s[i];return r},getAllDays:function(t){var e=t.year;return this.yearLength*(e-1)+this.leapsLength(e)+this.getDayOfYear(t)},leapsLength:function(t){return((t-1)/4|0)+(-(t-1)/100|0)+((t-1)/400|0)},guessYear:function(t,e){return~~(t/365.24)+(e>0?1:-1)}};function Rh(t){return t&&t.constructor===Object}function Jl(t){if(!isNaN(t))return parseInt(t)}function Am(t){return Array.isArray(t)}function ey(t,e,n){return t===void 0||t<e||t>n}var wi=new WeakMap,Es=new WeakMap,Wr=new WeakMap,Ql=new WeakMap,bd=new WeakMap,_d=new WeakMap,Xs=new WeakMap,wd=new WeakMap,Zi=new WeakMap,Ss=new WeakMap,ty=new WeakMap,Zl=new WeakMap,_6=new WeakMap,ny=new WeakMap,ry=new WeakMap,w6=new WeakMap,zO=new WeakMap,Xl=new WeakMap,WO=new WeakMap,zRe=function(){function t(r){var s=this;(function(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")})(this,t),_i(this,wi,{writable:!0,value:void 0}),_i(this,Es,{writable:!0,value:void 0}),_i(this,Wr,{writable:!0,value:void 0}),_i(this,Ql,{writable:!0,value:void 0}),_i(this,bd,{writable:!0,value:void 0}),_i(this,_d,{writable:!0,value:void 0}),_i(this,Xs,{writable:!0,value:void 0}),_i(this,wd,{writable:!0,value:void 0}),_i(this,Zi,{writable:!0,value:b6}),_i(this,Ss,{writable:!0,value:kS}),_i(this,ty,{writable:!0,value:!1}),_i(this,Zl,{writable:!0,value:{}}),_i(this,_6,{writable:!0,value:/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d\.\d\d\dZ$/}),_i(this,ny,{writable:!0,value:[]}),_i(this,ry,{writable:!0,value:!0}),_i(this,w6,{writable:!0,value:function(c,u){switch(c){case"YYYY":return["year",u];case"YY":return["year","".concat(De(s,Ss).century).concat(u)];case"MMMM":case"MMM":return["month",s.months.findIndex(function(f){var m=f.name,p=f.shortName;return new RegExp(u,"i").test(m+p)})+1];case"MM":case"M":return["month",u];case"DD":case"D":return["day",u];case"HH":case"H":return["hour",u];case"hh":case"h":var d=Jl(u);return["hour",d>12?d-12:d];case"mm":case"m":return["minute",u];case"ss":case"s":return["second",u];case"SSS":case"SS":case"S":return["millisecond",u];default:return[]}}}),_i(this,zO,{writable:!0,value:function(){return De(s,wi)===0&&De(s,Ss).startYear!==0}}),_i(this,Xl,{writable:!0,value:function(){if(De(s,ry)&&s.isValid){var c=Math.floor,u=function(_,b){return[(E=_,(E<0?-1:1)*Math.abs(c(_/b))),(x=_,w=b,(x<0&&c(x%w)!==-0?w:0)+c(_%b))];var x,w,E},d=function(){if(De(s,Es)<0||De(s,Es)>11){var _=De(s,Es)<0?-1:1,b=Cm(u(De(s,Es),12),2),x=b[0],w=b[1];wt(s,wi,De(s,wi)+x),wt(s,Es,w),De(s,zO).call(s)&&wt(s,wi,_)}};for(wt(s,ry,!1),[["millisecond","second",1e3],["second","minute",60],["minute","hour",60],["hour","day",24]].forEach(function(_){var b=Cm(_,3),x=b[0],w=b[1],E=b[2];if(function(D,F){return D>=F||D<0}(s[x],E)){var T=Cm(u(s[x],E),2),N=T[0],P=T[1];s[w]+=N,s[x]=P}}),wt(s,ry,!0),d();De(s,Wr)<-De(s,Ss).yearLength||De(s,Wr)>De(s,Ss).yearLength;){if(De(s,Es)>0){for(var f=De(s,Ss).getMonthLengths(s.isLeap),m=0;m<De(s,Es);m++)wt(s,Wr,De(s,Wr)+f[m]);wt(s,Es,0)}var p=s.isLeap?s.calendar.yearLength+1:s.calendar.yearLength;wt(s,Wr,De(s,Wr)+p*(De(s,Wr)<0?1:-1)),wt(s,wi,De(s,wi)+(De(s,Wr)<0?-1:1))}for(;;){var y;for(d();De(s,Wr)<1;)wt(s,Es,De(s,Es)-1),d(),wt(s,Wr,s.month.length+De(s,Wr));if(De(s,Wr)<=s.month.length||isNaN(De(s,Wr)))break;wt(s,Wr,De(s,Wr)-s.month.length),wt(s,Es,(y=De(s,Es),y++,y))}De(s,Ql)||wt(s,Ql,0),De(s,bd)||wt(s,bd,0),De(s,_d)||wt(s,_d,0),De(s,Xs)||wt(s,Xs,0)}}}),_i(this,WO,{writable:!0,value:function(){return(De(s,Zl).weekDays||De(s,Zi).weekDays).map(function(c,u){var d=Cm(c,2),f=d[0],m=d[1],p=u-s.weekStartDayIndex;return p<0&&(p+=7),{name:f,shortName:m,index:p,number:p+1,toString:function(){return this.number.toString()},valueOf:function(){return this.number}}})}});var i=Rh(r)?v6({},r):r,o=!0;if(i&&typeof i!="boolean"||(i={date:new Date}),Rh(i)||(i={date:i}),Object.keys(i).length!==0){for(var l in Rh(i.calendar)&&wt(this,Ss,i.calendar),Rh(i.locale)&&wt(this,Zi,i.locale),isNaN(i.year)&&isNaN(i.month)&&isNaN(i.day)&&!i.date&&(i.date=new Date),i.date&&(typeof i.date=="string"&&i.format&&wt(this,wd,i.format),this.setDate(i.date),i.calendar&&this.convert(i.calendar),o=!1),delete i.calendar,delete i.locale,delete i.date,i)this.set(l,i[l]);De(this,zO).call(this)&&wt(this,wi,-1),o&&De(this,Xl).call(this)}}var e,n;return e=t,n=[{key:"parse",value:function(r){if(!r)return this;var s,i,o=De(this,wd),l=De(this,Zi).digits,c=g6(l);try{for(c.s();!(s=c.n()).done;){var u=s.value;r=r.replace(new RegExp(u,"g"),l.indexOf(u))}}catch(B){c.e(B)}finally{c.f()}if(o)for(var d=o.split(/[^\w\u0600-\u06FF]/),f=r.split(/[^\w\u0600-\u06FF]/),m=0;m<d.length;m++)this.set.apply(this,$Re(De(this,w6).call(this,d[m],f[m])));else{var p=r.match(/(-?\d{2,4})?\W?([A-z]{3,9}|\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,3})?\W?(am|pm)?/),y=(jJ(i=p)||EJ(i)||AA(i)||SJ()).slice(1),_=y[1];_&&(_=/\d+/.test(_)?Jl(_)-1:this.months.findIndex(function(B){return new RegExp(_,"i").test(B.name)})),y[1]=_;var b=Cm(y.map(Jl),7),x=b[0],w=b[1],E=b[2],T=b[3],N=b[4],P=b[5],D=b[6];wt(this,wi,x),wt(this,Es,w),wt(this,Wr,E),wt(this,Ql,T),wt(this,bd,N),wt(this,_d,P),wt(this,Xs,D)}var F=Cm(De(this,Zi).meridiems[1],2),Y=F[0],q=F[1];return De(this,Ql)<12&&(r.includes(Y)||r.includes(q))&&wt(this,Ql,De(this,Ql)+12),De(this,Xl).call(this),this}},{key:"convert",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:kS,s=arguments.length>1?arguments[1]:void 0;if(Rh(s)&&wt(this,Zi,s),!Rh(r)||r.name===De(this,Ss).name)return this;var i=this.toJulianDay()-r.epoch,o=new t({calendar:r,year:r.guessYear(i,De(this,wi)),month:1,day:1});return o.day+=i-o.toDays(),wt(this,wi,o.year),wt(this,Es,o.month.index),wt(this,Wr,o.day),wt(this,Ss,r),this}},{key:"format",value:function(r,s){if(!this.isValid||r&&typeof r!="string")return"";r||(r=De(this,wd)||"YYYY/MM/DD"),Am(s)||(s=[]),s=(s=s.concat(De(this,ny))).filter(function(m){return typeof m=="string"||(console.warn("type of all items in the ignore list must be string, found",tv(m)),!1)}).map(function(m){return m.replace(/[*/+\-()[\]{}\s$^]/g,function(p){return"\\"+p})});var i,o=new RegExp("".concat(s.join("|")).concat(s.length>0?"|":"","YYYY|YY|MMMM|MMM|MM|M|WW|W|DDDD|DDD|DD|D|dddd|ddd|dd|d|HH|H|hh|h|mm|m|ss|s|SSS|SS|S|A|a|."),"g"),l="",c=g6(r.match(o)||[]);try{for(c.s();!(i=c.n()).done;){var u=i.value,d=this.getValue(u);l+=s.includes(u)?u:d===0?d:d||u}}catch(m){c.e(m)}finally{c.f()}var f=this.digits;return l.replace(/[0-9]/g,function(m){return f[m]})}},{key:"getProperty",value:function(r){return this.getValue(r)}},{key:"getValue",value:function(r){var s=function(i){return i<10?"0"+i:i};switch(r){case"YYYY":return this.year;case"YY":return this.year.toString().substring(2,4);case"MMMM":return this.month.name;case"MMM":return this.month.shortName;case"MM":return s(this.month.number);case"M":return this.month.number;case"WW":return s(this.weekOfYear);case"W":return this.weekOfYear;case"DDDD":case"DDD":return this.dayOfYear;case"DD":return s(this.day);case"D":return this.day;case"HH":return s(this.hour);case"H":return this.hour;case"dddd":return this.weekDay.name;case"ddd":return this.weekDay.shortName;case"dd":return s(this.weekDay.number);case"d":return this.weekDay.number;case"hh":return s(this.hour>12?this.hour-12:this.hour||12);case"h":return this.hour>12?this.hour-12:this.hour||12;case"mm":return s(this.minute);case"m":return this.minute;case"ss":return s(this.second);case"s":return this.second;case"SSS":return De(this,Xs)<10?"00".concat(De(this,Xs)):De(this,Xs)<100?"0".concat(De(this,Xs)):De(this,Xs);case"SS":return De(this,Xs)<10?"00":De(this,Xs)<100?("0"+De(this,Xs)).substring(2,0):De(this,Xs).toString().substring(0,2);case"S":return De(this,Xs)<10||De(this,Xs)<100?"0":De(this,Xs).toString().substring(0,1);case"a":return this.hour>=12?De(this,Zi).meridiems[1][1]:De(this,Zi).meridiems[0][1];case"A":return this.hour>=12?De(this,Zi).meridiems[1][0]:De(this,Zi).meridiems[0][0];default:return""}}},{key:"setYear",value:function(r){return this.year=r,this}},{key:"setMonths",value:function(r){return this.months=r,this}},{key:"setMonth",value:function(r){return this.month=r,this}},{key:"setWeekDays",value:function(r){return this.weekDays=r,this}},{key:"setDigits",value:function(r){return this.digits=r,this}},{key:"setDay",value:function(r){return this.day=r,this}},{key:"setHour",value:function(r){return this.hour=r,this}},{key:"setMinute",value:function(r){return this.minute=r,this}},{key:"setSecond",value:function(r){return this.second=r,this}},{key:"setMillisecond",value:function(r){return this.millisecond=r,this}},{key:"setFormat",value:function(r){return wt(this,wd,r),this}},{key:"setLocale",value:function(r){return this.locale=r,this}},{key:"setCalendar",value:function(r){return this.calendar=r,this}},{key:"setDate",value:function(r){if(typeof r=="string"){if(!De(this,_6).test(r))return this.parse(r);r=new Date(r)}return typeof r=="number"&&(r=new Date(r)),r instanceof Date&&(wt(this,Ss,kS),wt(this,wi,r.getFullYear()),wt(this,Es,r.getMonth()),wt(this,Wr,r.getDate()),wt(this,Ql,r.getHours()),wt(this,bd,r.getMinutes()),wt(this,_d,r.getSeconds()),wt(this,Xs,r.getMilliseconds()),wt(this,ty,!1)),r instanceof t&&(wt(this,wi,r.year),wt(this,Es,r.month.index),wt(this,Wr,r.day),wt(this,Ql,r.hour),wt(this,bd,r.minute),wt(this,_d,r.second),wt(this,Xs,r.millisecond),wt(this,Zi,r.locale),wt(this,wd,r._format),wt(this,Ss,r.calendar),wt(this,ty,r.isUTC),wt(this,ny,r.ignoreList),wt(this,Zl,r.custom)),this}},{key:"setIgnoreList",value:function(r){return this.ignoreList=r,this}},{key:"set",value:function(r,s){if(r==null)return this;if(Rh(r)){var i=v6({},r);for(var o in i.date&&(this.setDate(i.date),delete i.date),i.calendar&&(this.convert(i.calendar),delete i.calendar),i.locale&&(this.setLocale(i.locale),delete i.locale),wt(this,ry,!1),i)this.set(o,i[o]);return wt(this,ry,!0),De(this,Xl).call(this),this}r==="format"&&(r="_format");try{this[r]=s}catch{}return this}},{key:"add",value:function(r,s){if(!(r=Jl(r))||!s)return this;switch(s){case"years":case"y":s="year";break;case"months":case"M":s="month";break;case"days":case"d":s="day";break;case"hours":case"h":s="hour";break;case"minutes":case"m":s="minute";break;case"seconds":case"s":s="second";break;case"milliseconds":case"ms":s="millisecond"}return this[s]+=r,this}},{key:"subtract",value:function(r,s){return this.add(-r,s)}},{key:"toFirstOfYear",value:function(){return this.month=1,this.day=1,this}},{key:"toLastOfYear",value:function(){return this.day>=29&&(this.day=29),this.month=12,this.toLastOfMonth(),this}},{key:"toFirstOfMonth",value:function(){return wt(this,Wr,1),this}},{key:"toLastOfMonth",value:function(){return wt(this,Wr,0),wt(this,Es,De(this,Es)+1),De(this,Xl).call(this),this}},{key:"toFirstOfWeek",value:function(){return this.day-=this.weekDay.index,this}},{key:"toLastOfWeek",value:function(){return this.day+=6-this.weekDay.index,this}},{key:"toFirstWeekOfYear",value:function(){return this.toFirstOfYear(),this.weekDay.index===0?this:this.toLastOfWeek().setDay(this.day+1)}},{key:"toLastWeekOfYear",value:function(){return this.toLastOfYear().toFirstOfWeek()}},{key:"toString",value:function(){return this.format()}},{key:"toDate",value:function(){var r=new t(this);return De(this,Ss).name!=="gregorian"&&r.convert(kS),new Date(r.year,r.month.index,r.day,r.hour,r.minute,r.second,r.millisecond)}},{key:"toUTC",value:function(){return De(this,ty)||(this.minute+=this.toDate().getTimezoneOffset(),wt(this,ty,!0)),this}},{key:"toUnix",value:function(){return this.unix}},{key:"toJulianDay",value:function(){return this.toDays()+De(this,Ss).epoch}},{key:"toObject",value:function(){return{year:De(this,wi),month:this.month,day:De(this,Wr),weekDay:this.weekDay,hour:De(this,Ql),minute:De(this,bd),second:De(this,_d),millisecond:De(this,Xs),weekOfYear:this.weekOfYear,dayOfYear:this.dayOfYear,daysLeft:this.daysLeft,calendar:De(this,Ss),locale:De(this,Zi),format:De(this,wd)||"YYYY/MM/DD",ignoreList:De(this,ny)}}},{key:"toJSON",value:function(){return this.valueOf()}},{key:"valueOf",value:function(){return this.toDate().valueOf()}},{key:"toDays",value:function(){if(this.isValid)return De(this,Ss).getAllDays(this)}},{key:"dayOfBeginning",get:function(){return this.toDays()}},{key:"dayOfYear",get:function(){if(this.isValid)return De(this,Ss).getDayOfYear(this)}},{key:"weekOfYear",get:function(){if(this.isValid)return 1+~~(this.dayOfYear/7)}},{key:"daysLeft",get:function(){if(this.isValid){var r=De(this,Ss).yearLength;return(this.isLeap?r+1:r)-this.dayOfYear}}},{key:"year",get:function(){return De(this,wi)},set:function(r){wt(this,wi,Jl(r)),De(this,Xl).call(this)}},{key:"month",get:function(){return this.months[De(this,Es)]||{}},set:function(r){var s;r=(s=Jl(r.valueOf())-1)!==null&&s!==void 0?s:void 0,wt(this,Es,r),ey(r,0,11)&&De(this,Xl).call(this)}},{key:"monthIndex",get:function(){return De(this,Es)}},{key:"day",get:function(){return De(this,Wr)},set:function(r){r=Jl(r),wt(this,Wr,r),ey(r,1,28)&&De(this,Xl).call(this)}},{key:"weekDay",get:function(){if(!this.isValid)return{};var r=(this.toJulianDay()+3)%7;return De(this,WO).call(this)[r]}},{key:"hour",get:function(){return De(this,Ql)},set:function(r){r=Jl(r),wt(this,Ql,r),ey(r,0,23)&&De(this,Xl).call(this)}},{key:"minute",get:function(){return De(this,bd)},set:function(r){r=Jl(r),wt(this,bd,r),ey(r,0,59)&&De(this,Xl).call(this)}},{key:"second",get:function(){return De(this,_d)},set:function(r){r=Jl(r),wt(this,_d,r),ey(r,0,59)&&De(this,Xl).call(this)}},{key:"millisecond",get:function(){return De(this,Xs)},set:function(r){r=Jl(r),wt(this,Xs,r),ey(r,0,999)&&De(this,Xl).call(this)}},{key:"months",get:function(){var r=De(this,Ss).getMonthLengths(this.isLeap),s=(De(this,Zl).months||De(this,Zi).months).map(function(i,o){var l=Cm(i,2);return{name:l[0],shortName:l[1],length:r[o],index:o,number:o+1,toString:function(){return this.number.toString()},valueOf:function(){return this.number}}});return s},set:function(r){if(!r)return delete De(this,Zl).months;Am(r)&&r.length===12&&r.every(function(s){return Am(s)&&s.length===2&&s.every(function(i){return typeof i=="string"})})&&(De(this,Zl).months=r)}},{key:"weekDays",get:function(){return De(this,WO).call(this).sort(function(r,s){return r.index-s.index})},set:function(r){if(!r)return delete De(this,Zl).weekDays;Am(r)&&r.length===7&&r.every(function(s){return Am(s)&&s.length===2&&s.every(function(i){return typeof i=="string"})})&&(De(this,Zl).weekDays=r)}},{key:"leaps",get:function(){return De(this,Ss).getLeaps(De(this,wi))}},{key:"calendar",get:function(){return De(this,Ss)},set:function(r){this.convert(r)}},{key:"locale",get:function(){return De(this,Zi)},set:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b6;Rh(r)&&wt(this,Zi,r)}},{key:"custom",get:function(){return De(this,Zl)}},{key:"meridiems",get:function(){return De(this,Zi).meridiems}},{key:"digits",get:function(){return De(this,Zl).digits||De(this,Zi).digits},set:function(r){if(!r)return delete De(this,Zl).digits;Am(r)&&r.length===10&&(De(this,Zl).digits=r)}},{key:"_format",get:function(){return De(this,wd)},set:function(r){typeof r=="string"&&wt(this,wd,r)}},{key:"isLeap",get:function(){return De(this,Ss).isLeap(De(this,wi))}},{key:"isValid",get:function(){return!isNaN(De(this,wi))&&!isNaN(De(this,Es))&&!isNaN(De(this,Wr))}},{key:"isUTC",get:function(){return De(this,ty)}},{key:"unix",get:function(){return(this.valueOf()-this.millisecond)/1e3}},{key:"ignoreList",get:function(){return De(this,ny)},set:function(r){Am(r)&&wt(this,ny,r)}},{key:"weekStartDayIndex",get:function(){return De(this,Ss).weekStartDayIndex},set:function(r){(r=Jl(r))!==void 0&&(De(this,Ss).weekStartDayIndex=Math.abs(r)%7)}},{key:"date",set:function(r){this.setDate(r)}}],n&&VRe(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),WRe=URe(BRe(zRe));const GRe=Object.freeze(Object.defineProperty({__proto__:null,default:WRe},Symbol.toStringTag,{value:"Module"})),HRe=Qp(GRe);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=C,n=MRe,r=HRe;function s(A){return A&&typeof A=="object"&&"default"in A?A:{default:A}}var i=s(e),o=s(n),l=s(r);function c(A,$){var re=Object.keys(A);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(A);$&&(ue=ue.filter(function(Ee){return Object.getOwnPropertyDescriptor(A,Ee).enumerable})),re.push.apply(re,ue)}return re}function u(A){for(var $=1;$<arguments.length;$++){var re=arguments[$]!=null?arguments[$]:{};$%2?c(Object(re),!0).forEach(function(ue){d(A,ue,re[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(re)):c(Object(re)).forEach(function(ue){Object.defineProperty(A,ue,Object.getOwnPropertyDescriptor(re,ue))})}return A}function d(A,$,re){return($=function(ue){var Ee=function(be,Me){if(typeof be!="object"||be===null)return be;var tt=be[Symbol.toPrimitive];if(tt!==void 0){var Pe=tt.call(be,Me);if(typeof Pe!="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Me==="string"?String:Number)(be)}(ue,"string");return typeof Ee=="symbol"?Ee:String(Ee)}($))in A?Object.defineProperty(A,$,{value:re,enumerable:!0,configurable:!0,writable:!0}):A[$]=re,A}function f(){return f=Object.assign?Object.assign.bind():function(A){for(var $=1;$<arguments.length;$++){var re=arguments[$];for(var ue in re)Object.prototype.hasOwnProperty.call(re,ue)&&(A[ue]=re[ue])}return A},f.apply(this,arguments)}function m(A,$){if(A==null)return{};var re,ue,Ee=function(Me,tt){if(Me==null)return{};var Pe,qe,Je={},nt=Object.keys(Me);for(qe=0;qe<nt.length;qe++)Pe=nt[qe],tt.indexOf(Pe)>=0||(Je[Pe]=Me[Pe]);return Je}(A,$);if(Object.getOwnPropertySymbols){var be=Object.getOwnPropertySymbols(A);for(ue=0;ue<be.length;ue++)re=be[ue],$.indexOf(re)>=0||Object.prototype.propertyIsEnumerable.call(A,re)&&(Ee[re]=A[re])}return Ee}function p(A,$){return function(re){if(Array.isArray(re))return re}(A)||function(re,ue){var Ee=re==null?null:typeof Symbol<"u"&&re[Symbol.iterator]||re["@@iterator"];if(Ee!=null){var be,Me,tt,Pe,qe=[],Je=!0,nt=!1;try{if(tt=(Ee=Ee.call(re)).next,ue===0){if(Object(Ee)!==Ee)return;Je=!1}else for(;!(Je=(be=tt.call(Ee)).done)&&(qe.push(be.value),qe.length!==ue);Je=!0);}catch(rt){nt=!0,Me=rt}finally{try{if(!Je&&Ee.return!=null&&(Pe=Ee.return(),Object(Pe)!==Pe))return}finally{if(nt)throw Me}}return qe}}(A,$)||_(A,$)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function y(A){return function($){if(Array.isArray($))return b($)}(A)||function($){if(typeof Symbol<"u"&&$[Symbol.iterator]!=null||$["@@iterator"]!=null)return Array.from($)}(A)||_(A)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _(A,$){if(A){if(typeof A=="string")return b(A,$);var re=Object.prototype.toString.call(A).slice(8,-1);return re==="Object"&&A.constructor&&(re=A.constructor.name),re==="Map"||re==="Set"?Array.from(A):re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(re)?b(A,$):void 0}}function b(A,$){($==null||$>A.length)&&($=A.length);for(var re=0,ue=new Array($);re<$;re++)ue[re]=A[re];return ue}function x(A,$){var re=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(!re){if(Array.isArray(A)||(re=_(A))||$){re&&(A=re);var ue=0,Ee=function(){};return{s:Ee,n:function(){return ue>=A.length?{done:!0}:{done:!1,value:A[ue++]}},e:function(Pe){throw Pe},f:Ee}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var be,Me=!0,tt=!1;return{s:function(){re=re.call(A)},n:function(){var Pe=re.next();return Me=Pe.done,Pe},e:function(Pe){tt=!0,be=Pe},f:function(){try{Me||re.return==null||re.return()}finally{if(tt)throw be}}}}function w(A){return Array.isArray(A)}function E(A){var $=A.state.date,re=$.calendar,ue=$.locale,Ee=A.customWeekDays,be=A.weekStartDayIndex,Me=A.displayWeekNumbers,tt=A.weekNumber,Pe=e.useMemo(function(){var qe=Ee;return w(qe)&&qe.length>=7?(qe.length=7,qe=qe.map(function(Je){return w(Je)&Je.length>1?Je=Je[1]:w(Je)&&(Je=Je[0]),Je})):qe=new l.default({year:1,calendar:re,locale:ue}).weekDays.map(function(Je){return Je.shortName}),qe},[re,ue,Ee]);return Pe=y(Pe).slice(be).concat(y(Pe).splice(0,be)),i.default.createElement("div",{className:"rmdp-week"},Me&&i.default.createElement("div",{className:"rmdp-week-day"},tt),Pe.map(function(qe,Je){return i.default.createElement("div",{key:Je,className:"rmdp-week-day"},qe)}))}function T(A,$){var re=arguments.length>2&&arguments[2]!==void 0&&arguments[2],ue=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(!A||!$)return!1;if(A.year===$.year){if(ue)return!0;if(A.monthIndex===$.monthIndex)return!!re||A.day===$.day}}function N(A){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"YYYY/MM/DD";return A.format($)}function P(A,$,re){var ue=re.multiple,Ee=re.range,be=re.selectedDate,Me=re.onlyMonthPicker,tt=re.onlyYearPicker,Pe=re.format,qe=re.focused,Je=re.weekPicker;A.setFormat(Pe);var nt=new l.default(A);return be=ue&&Ee?function(){var rt=!0;w(be)||(be=[[be]]);var Lt=be.find(function(nn){return nn.length===1}),pn=Me?"YYYY/MM":"YYYY/MM/DD",gn=be;if(Lt){var Yt=Lt[0];gn=gn.filter(function(nn){if(nn.length===1)return!0;var Jn=p(nn,2),Gn=Jn[0],Qe=Jn[1],ir=p([Yt,nt].sort(function(Pt,vn){return Pt-vn}),2),on=[Gn,Qe,ir[0],ir[1]].map(function(Pt){return N(Pt,pn)}),$n=p(on,4),Ht=$n[0],Ze=$n[1],Tt=$n[2],at=$n[3];return!(Tt<=Ht&&at>=Ze||Tt>=Ht&&at>=Ze&&Tt<=Ze||Tt<=Ht&&at<=Ze&&at>=Ht)})}else gn=gn.filter(function(nn){if(!w(nn))return!0;if(nn.length===0)return!1;var Jn=p(nn,2),Gn=[Jn[0],Jn[1],nt].map(function(Ht){return N(Ht,pn)}),Qe=p(Gn,3),ir=Qe[0],on=Qe[1],$n=Qe[2];return!($n>=ir&&$n<=on)});return gn=gn.map(function(nn){var Jn;return w(nn)?nn.length===1?(rt=!1,Jn=nn.concat(nt)):Jn=nn:(rt=!1,Jn=[nn,nt]),Jn.sort(function(Gn,Qe){return Gn-Qe})}),rt&&(gn=[].concat(y(gn),[[nt]])),gn}():ue?function(){var rt=be.filter(function(Lt){return!T(A,Lt,Me,tt)});return rt.length===be.length?rt.push(nt):nt=rt.find(function(Lt){return T(Lt,qe)}),$&&rt.sort(function(Lt,pn){return Lt-pn}),rt}():Ee?function(){if(Je)return[new l.default(nt).toFirstOfWeek(),new l.default(nt).toLastOfWeek()];if(be.length===2||be.length===0)return[nt];if(be.length===1)return[be[0],nt].sort(function(rt,Lt){return rt-Lt})}():nt,[be,nt]}function D(A,$,re,ue){var Ee=[],be=re?"YYYY/MM":"YYYY/MM/DD",Me=N(A,be);function tt(Pe){var qe=Pe[0],Je=Pe[1];if(Pe.length===1)T(A,qe,re)&&Ee.push("rmdp-range");else if(Pe.length===2){var nt=[qe,Je].map(function(gn){return N(gn,be)}),rt=p(nt,2),Lt=rt[0],pn=rt[1];Me>=Lt&&Me<=pn&&Ee.push("rmdp-range"),Me===Lt&&Ee.push("start"),Me===pn&&Ee.push("end")}}return ue?(w($)?$:[[$]]).forEach(tt):tt($),Ee.join(" ")}function F(A,$,re,ue){var Ee=arguments.length>5?arguments[5]:void 0,be=[];if(ue&&re){var Me,tt=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:"day")==="day"?"YYYY/MM/DD":"YYYY/MM",Pe=re.format(tt),qe=A.format(tt);if(Ee||($==null?void 0:$.length)!==1){if(Ee&&w($)){var Je,nt=x($);try{for(nt.s();!(Je=nt.n()).done;){var rt=Je.value;if(w(rt)&&rt.length===1){Me=rt[0].format(tt);break}}}catch(Lt){nt.e(Lt)}finally{nt.f()}}}else Me=$[0].format(tt);(qe>Me&&qe<=Pe||qe<Me&&qe>=Pe)&&(be.push("rmdp-range-hover"),qe===Pe&&be.push(Pe>Me?"end":"start"),w($)&&$.flat().some(function(Lt){return Lt.format(tt)===qe})&&be.push("force"))}return be}function Y(A,$,re){if(A){var ue=q(A);return re?Array.from(ue.querySelectorAll($)):ue.querySelector($)}}function q(A){return A.closest(".rmdp-calendar")}var B=["selected","today","day:not(.rmdp-day-hidden):not(.rmdp-disabled)"];function G(A,$,re){var ue=re.type,Ee=ue===void 0?"day":ue,be=re.format;A.preventDefault();var Me=A.currentTarget,tt=A.key,Pe=A.code,qe=Ee==="day"?7:3,Je=q(Me),nt=Je&&Je.classList.contains("rmdp-rtl"),rt={ArrowRight:nt?-1:1,ArrowLeft:nt?1:-1,ArrowUp:-qe,ArrowDown:qe};if(Pe==="Space"||tt===" ")Me.click();else if(Object.keys(rt).includes(tt)){var Lt=function(){if(Ee==="month")return J(Je,[B[2]]);var nn=Y(Me,pn<0?".rmdp-left":".rmdp-right");nn&&(nn.click(),J(Je))},pn=rt[tt],gn=new l.default($.date).add(pn,Ee);(function(nn){if(!nn)return Lt();var Jn=nn.getAttribute("class");Jn.includes("hidden")||Jn.includes("disabled")?G(A,u(u({},$),{},{date:gn}),{type:Ee,format:be}):nn.focus()})(Y(Me,'[aria-label*="'.concat($.year?"year ".concat($.year+pn):gn.format(be),'"]')))}else{var Yt=Y(Me,".rmdp-arrow-container");Yt&&Yt.focus()}}function J(A){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:B,re=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],ue="[data-active='true']";A.querySelectorAll("".concat(ue," [tabindex='0']")).forEach(function(Ee){return Ee.setAttribute("tabindex","-1")}),setTimeout(function(){var Ee,be=x($);try{for(be.s();!(Ee=be.n()).done;){var Me=Ee.value,tt=A.querySelector("".concat(ue," .rmdp-").concat(Me));if(tt){tt.setAttribute("tabindex","0"),re&&tt.focus();break}}}catch(Pe){be.e(Pe)}finally{be.f()}},10)}var W="dddd MMMM DD of YYYY";function z(A){var $=A.state,re=A.onChange,ue=A.showOtherDays,Ee=ue!==void 0&&ue,be=A.mapDays,Me=A.onlyShowInRangeDates,tt=A.customWeekDays,Pe=A.sort,qe=A.numberOfMonths,Je=A.isRTL,nt=A.weekStartDayIndex,rt=A.handleFocusedDate,Lt=A.hideWeekDays,pn=A.fullYear,gn=p(A.monthAndYears,1)[0],Yt=A.displayWeekNumbers,nn=A.weekNumber,Jn=nn===void 0?"":nn,Gn=A.rangeHover,Qe=A.highlightToday,ir=e.useRef({}),on=e.useRef(),$n=$.today,Ht=$.minDate,Ze=$.maxDate,Tt=$.range,at=$.multiple,Pt=$.date,vn=$.selectedDate,Zt=$.onlyMonthPicker,_t=$.onlyYearPicker,xt=$.mustShowMonthPicker,Mt=$.mustShowYearPicker,kt=!Zt&&!_t,Wt=p(e.useState(),2),wr=Wt[0],fr=Wt[1];ir.current.date=Pt;var ya=e.useMemo(function(){return kt?function(In,Lr,Cr,as){if(!In)return[];for(var Fn=[],Gi=0;Gi<Cr;Gi++){var ys=(In=new l.default(In).toFirstOfMonth()).monthIndex,Ci=[];In.toFirstOfWeek().add(as,"day"),In.monthIndex===ys&&In.day>1&&In.subtract(7,"days");for(var Os=0;Os<6;Os++){for(var Vn=[],Vr=0;Vr<7;Vr++)Vn.push({date:new l.default(In),day:In.format("D"),current:In.monthIndex===ys}),In.day+=1;if(Ci.push(Vn),Os>2&&In.monthIndex!==ys)break}Fn.push(Ci)}return Fn}(ir.current.date,0,qe,nt):[]},[Pt.monthIndex,Pt.year,Pt.calendar,Pt.locale,kt,Ee,qe,nt]);return kt&&i.default.createElement("div",{ref:on,className:"rmdp-day-picker ".concat(pn?"rmdp-full-year":""),style:{display:pn?"grid":"flex"},onMouseLeave:function(){return Gn&&fr()},"data-active":kt&&!xt&&!Mt},ya.map(function(In,Lr){return i.default.createElement("div",{key:Lr,style:d({},Je?"marginLeft":"marginRight",Lr+(pn?0:1)<qe?"10px":"")},pn&&i.default.createElement("div",{className:"rmdp-month-name"},gn[Lr]),!Lt&&i.default.createElement(E,{state:$,customWeekDays:tt,weekStartDayIndex:nt,displayWeekNumbers:Yt,weekNumber:Jn}),In.map(function(Cr,as){return i.default.createElement("div",{key:as,className:"rmdp-week"},Yt&&i.default.createElement("div",{className:"rmdp-day rmdp-disabled"},i.default.createElement("span",null,Cr[0].date.format("WW"))),Cr.map(function(Fn,Gi){var ys=function(lr){if(!lr.current&&!Ee)return{};var mr={};return be.forEach(function(zr){var vs,Qr=zr({date:lr.date,today:$n,currentMonth:$.date.month,selectedDate:$.selectedDate,isSameDate:T});((vs=Qr)===null||vs===void 0?void 0:vs.constructor)!==Object&&(Qr={}),(Qr.disabled||Qr.hidden)&&(lr.disabled=!0),Qr.hidden&&(lr.hidden=!0),mr=u(u({},mr),Qr)}),delete mr.disabled,delete mr.hidden,mr}(Fn={date:Fn.date,day:Fn.day,current:Fn.current}),Ci=Nn(Fn)&&!Fn.disabled,Os="".concat(Ci?"sd":""),Vn=ys.children;Ci&&(Os="".concat(Os," ").concat(ys.className||"")),delete ys.className,delete ys.children;var Vr=function(lr,mr){var zr=["rmdp-day"],vs=lr.date,Qr=lr.hidden,Pa=lr.current;if(!Nn(lr)||Qr)zr.push("rmdp-day-hidden");else{(Ht&&vs<Ht||Ze&&vs>Ze||lr.disabled)&&(zr.push("rmdp-disabled"),lr.disabled||(lr.disabled=!0)),Pa||zr.push("rmdp-deactive");var Hi=mr>1&&Pa||mr===1;lr.disabled&&Me||(T(vs,$n)&&Qe&&zr.push("rmdp-today"),qi=vs,[].concat(vn).some(function(Ai){return T(Ai,qi)})&&Hi&&!Tt&&zr.push("rmdp-selected")),Tt&&!lr.disabled&&Hi&&(zr.push(D(vs,vn,void 0,at)),zr=zr.concat(F(vs,vn,wr,Gn,void 0,at)))}var qi;return zr.join(" ")}(Fn,qe);return(Fn.hidden||Fn.disabled)&&(Os=Os.replace("sd","")),i.default.createElement("div",{key:Gi,tabIndex:-1,"aria-label":"Choose ".concat(Fn.date.format(W)),className:Vr,onMouseEnter:function(){return Gn&&fr(Fn.date)},onKeyDown:function(lr){return G(lr,Fn,{format:W})},onClick:function(){Nn(Fn)&&!Fn.disabled&&function(lr,mr,zr){var vs,Qr,Pa,Hi=lr.date,qi=lr.current,Ai=$.selectedDate,Da=$.focused,yi=$.date,Ko=yi,oo=Ko.hour,ou=Ko.minute,Ml=Ko.second;Hi.set({hour:((vs=Ai)===null||vs===void 0?void 0:vs.hour)||oo,minute:((Qr=Ai)===null||Qr===void 0?void 0:Qr.minute)||ou,second:((Pa=Ai)===null||Pa===void 0?void 0:Pa.second)||Ml}),zr!==1||qi?zr>1&&!qi&&(mr===0&&Hi<yi&&(yi=new l.default(yi).toFirstOfMonth()),mr>0&&Hi.monthIndex>yi.monthIndex+mr&&mr+1===zr&&(yi=new l.default(yi).toFirstOfMonth().add(1,"month"))):yi=new l.default(yi).toFirstOfMonth();var Jo=p(P(Hi,Pe,$),2);Ai=Jo[0],Da=Jo[1],re(Ai,u(u({},$),{},{date:yi,focused:Da,selectedDate:Ai})),rt(Da,Hi)}(Fn,Lr,qe)}},i.default.createElement("span",f({className:Os},ys),Nn(Fn)&&!Fn.hidden?Vn??Fn.day:""))}))}))}));function Nn(In){return!!In.current||Ee}}function Z(A){var $=A.direction,re=A.onClick,ue=A.disabled,Ee=A.onKeyDown;return i.default.createElement("button",{type:"button",className:"rmdp-arrow-container ".concat($," ").concat(ue?"disabled":""),onClick:re,onKeyDown:Ee,"aria-roledescription":"button to navigate ".concat($.replace("rmdp-",""))},i.default.createElement("i",{className:"rmdp-arrow"}))}function X(A){var $=A.state,re=A.setState,ue=A.disableYearPicker,Ee=A.disableMonthPicker,be=A.buttons,Me=A.renderButton,tt=A.handleMonthChange,Pe=A.disabled,qe=A.hideMonth,Je=A.hideYear,nt=A.isRTL,rt=A.fullYear,Lt=p(A.monthAndYears,2),pn=Lt[0],gn=Lt[1],Yt=A.monthYearSeparator,nn=A.formatMonth,Jn=A.formatYear,Gn=A.headerOrder,Qe=A.onYearChange,ir={},on=$.date,$n=$.onlyMonthPicker,Ht=$.onlyYearPicker,Ze=$.mustShowYearPicker,Tt=$.minDate,at=$.maxDate,Pt=$.year,vn=$.today,Zt=Tt&&on.year<=Tt.year&&Tt.monthIndex>on.monthIndex-1,_t=at&&on.year>=at.year&&at.monthIndex<on.monthIndex+1,xt=vn.year+7;if(xt-=12*Math.floor((xt-Pt)/12),(qe||rt)&&Je&&!be)return null;if(($n||rt)&&(Tt&&Tt.year>=on.year&&(Zt=!0),at&&at.year<=on.year&&(_t=!0)),Ze||Ht){var Mt=xt-11;Zt=Tt&&Tt.year>Mt,_t=at&&at.year<xt}return Pe&&(Zt=!0,_t=!0),i.default.createElement("div",{className:"rmdp-header"},i.default.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"}},Array.from(new Set(Gn)).map(function(Nn,In){return i.default.createElement(e.Fragment,{key:In},function(Lr){switch(Lr){case"LEFT_BUTTON":return be&&wr("left");case"RIGHT_BUTTON":return be&&wr("right");case"MONTH_YEAR":case"YEAR_MONTH":if(rt)return i.default.createElement("div",{className:"rmdp-header-values",style:ir},!Je&&on.format("YYYY"));var Cr=Lr.split("_").filter(function(as){return as==="MONTH"&&!qe||as==="YEAR"&&!Je});return Cr.length>1&&(Cr=[Cr[0],Wt(),Cr[1]]),pn.map(function(as,Fn){return i.default.createElement("div",{key:Fn,className:"rmdp-header-values",style:ir},Cr.map(function(Gi,ys){return i.default.createElement(e.Fragment,{key:ys},function(Ci,Os,Vn){switch(Ci){case"MONTH":return i.default.createElement("span",{tabIndex:0,onKeyDown:kt,style:{cursor:Pe||Ee||$n?"default":"pointer"},onClick:function(Vr){return!Ee&&ya("mustShowMonthPicker",Vr)}},function(Vr,lr){return typeof nn=="function"?nn(Vr,lr):Vr}(Os,gn[Vn]));case"YEAR":return i.default.createElement("span",{tabIndex:0,onKeyDown:kt,style:{cursor:Pe||ue||Ht?"default":"pointer"},onClick:function(Vr){return!ue&&ya("mustShowYearPicker",Vr)}},function(Vr,lr){return typeof nn=="function"?Jn(Vr,lr):Vr}(gn[Vn],Os));default:return Ci}}(Gi,as,Fn))}))});default:return}}(Nn))})));function kt(Nn){var In=Nn.currentTarget,Lr=Nn.key,Cr=Nn.code;Cr==="Space"||Lr===" "?(Nn.preventDefault(),In.click()):Cr==="ArrowDown"&&(Nn.preventDefault(),J(q(Nn.target)))}function Wt(){return Yt?i.default.createElement("span",null,Yt):nt?"":","}function wr(Nn){var In=function(Cr){Cr.preventDefault(),fr(Nn==="right"?1:-1,Cr)},Lr=Nn==="left"&&Zt||Nn==="right"&&_t;return Me instanceof Function?Me(Nn,In,Lr,kt):e.isValidElement(Me)?e.cloneElement(Me,{direction:Nn,handleClick:In,disabled:Lr,onKeyDown:kt}):i.default.createElement(Z,{direction:"rmdp-".concat(Nn),onClick:In,onKeyDown:kt,disabled:Lr})}function fr(Nn,In){Pe||Nn<0&&Zt||Nn>0&&_t||(rt?(on.year+=Nn,Qe==null||Qe(new l.default(on))):Ze||Ht?(Pt+=12*Nn,Nn<0&&Tt&&Pt<Tt.year&&(Pt=Tt.year),Nn>0&&at&&Pt>at.year&&(Pt=at.year)):(on.toFirstOfMonth(),$n?on.year+=Nn:(on.month+=Nn,tt(on))),re(u(u({},$),{},{date:on,year:Pt})),J(q(In.target),void 0,!1))}function ya(Nn,In){if(!Pe){var Lr={mustShowMonthPicker:!1,mustShowYearPicker:!1};Lr[Nn]=!$[Nn],re(u(u({},$),Lr)),J(q(In.target),void 0,!1)}}}function ne(A){return w(A)||(A=[]),JSON.stringify(A)}var le="MMMM of YYYY";function ge(A){var $=A.state,re=A.onChange,ue=A.customMonths,Ee=A.sort,be=A.handleMonthChange,Me=A.handleFocusedDate,tt=A.rangeHover,Pe=A.highlightToday,qe=A.numberOfMonths,Je=$.date,nt=$.today,rt=$.minDate,Lt=$.maxDate,pn=$.calendar,gn=$.locale,Yt=$.onlyMonthPicker,nn=$.onlyYearPicker,Jn=$.range,Gn=$.onlyShowInRangeDates,Qe=($.mustShowMonthPicker||Yt)&&!nn,ir=p(e.useState(),2),on=ir[0],$n=ir[1];ue=ue&&ne(ue);var Ht=e.useMemo(function(){var at=[],Pt=Yt?qe:1,vn=ue&&JSON.parse(ue),Zt=new l.default({calendar:pn,locale:gn,format:$.date._format,year:$.date.year,month:1,day:1});w(vn)&&vn.length>=12?(vn.length=12,vn=vn.map(function(fr){return w(fr)?fr[0]:fr})):vn=Zt.locale.months.map(function(fr){return p(fr,1)[0]});for(var _t=0;_t<Pt;_t++){for(var xt=[],Mt=0,kt=0;kt<4;kt++){for(var Wt=[],wr=0;wr<3;wr++)Wt.push({date:new l.default(Zt),name:vn[Mt]}),Mt++,Zt.add(1,"month");xt.push(Wt)}at.push(xt)}return at},[pn,gn,ue,$.date.year,$.date._format,qe,Yt]);return i.default.createElement("div",{className:"".concat(Yt?"only ":"","rmdp-month-picker"),style:{display:Qe?"flex":"none"},"data-active":Qe,onMouseLeave:function(){return tt&&$n()}},Ht.map(function(at,Pt){return i.default.createElement("div",{key:Pt,style:{margin:"0 5px",flex:1}},at.map(function(vn,Zt){return i.default.createElement("div",{key:Zt,className:"rmdp-ym"},vn.map(function(_t,xt){var Mt=_t.date,kt=_t.name;return i.default.createElement("div",{key:xt,"aria-label":"Select ".concat(Mt.format(le)),tabIndex:-1,onKeyDown:function(Wt){return G(Wt,{date:Mt},{format:le,type:"month"})},className:Tt(Mt),onClick:function(Wt){return Ze(Mt,Wt)},onMouseEnter:function(){return tt&&$n(Mt)}},i.default.createElement("span",{className:Yt?"sd":""},kt))}))}))}));function Ze(at,Pt){var vn=$.selectedDate,Zt=$.focused,_t=at.year,xt=at.monthIndex;if(!(rt&&_t<=rt.year&&xt<rt.monthIndex||Lt&&_t>=Lt.year&&xt>Lt.monthIndex)){if(Je.setMonth(xt+1),Yt){var Mt=p(P(at,Ee,$),2);vn=Mt[0],Zt=Mt[1]}else be(Je),J(q(Pt.target));re(Yt?vn:void 0,u(u({},$),{},{date:Je,focused:Zt,selectedDate:vn,mustShowMonthPicker:!1})),Yt&&Me(Zt,at)}}function Tt(at){var Pt=["rmdp-day"],vn=at.year,Zt=at.monthIndex,_t=$.selectedDate,xt=$.multiple;if((rt&&(vn<rt.year||vn===rt.year&&Zt<rt.monthIndex)||Lt&&(vn>Lt.year||vn===Lt.year&&Zt>Lt.monthIndex))&&Pt.push("rmdp-disabled"),!Pt.includes("rmdp-disabled")||!Gn)return T(nt,at,!0)&&Pe&&Pt.push("rmdp-today"),Yt?Jn?(Pt.push(D(at,_t,!0,xt)),Pt=Pt.concat(F(at,_t,on,tt,"month",xt))):[].concat(_t).some(function(Mt){return T(Mt,at,!0)})&&Pt.push("rmdp-selected"):Je.monthIndex===Zt&&Pt.push("rmdp-selected"),Pt.join(" ")}}function Ue(A,$){return A.replace(/[0-9]/g,function(re){return $[re]})}var Ie="YYYY";function ot(A){var $=A.state,re=A.onChange,ue=A.sort,Ee=A.handleFocusedDate,be=A.onYearChange,Me=A.rangeHover,tt=A.highlightToday,Pe=$.date,qe=$.today,Je=$.minDate,nt=$.maxDate,rt=$.onlyYearPicker,Lt=$.range,pn=$.onlyShowInRangeDates,gn=$.year,Yt=$.mustShowYearPicker||rt,nn=Pe.digits,Jn=p(e.useState(),2),Gn=Jn[0],Qe=Jn[1],ir=qe.year-4;ir-=12*Math.ceil((ir-gn)/12);var on=e.useMemo(function(){for(var Ze=[],Tt=ir,at=0;at<4;at++){for(var Pt=[],vn=0;vn<3;vn++)Pt.push(Tt),Tt++;Ze.push(Pt)}return Ze},[ir]);return i.default.createElement("div",{className:"".concat(rt?"only ":"","rmdp-year-picker"),style:{display:Yt?"block":"none"},"data-active":Yt},on.map(function(Ze,Tt){return i.default.createElement("div",{key:Tt,className:"rmdp-ym",onMouseLeave:function(){return Me&&Qe()}},Ze.map(function(at,Pt){return i.default.createElement("div",{key:Pt,"aria-label":"Select year ".concat(at),tabIndex:-1,onKeyDown:function(vn){return G(vn,{year:at,date:Pe},{format:Ie,type:"year"})},className:$n(at),onClick:function(vn){return function(Zt,_t){if(!Ht(Zt)){var xt=new l.default($.date).setYear(Zt),Mt=$.selectedDate,kt=$.focused;if(rt){var Wt=p(P(xt,ue,$),2);Mt=Wt[0],kt=Wt[1]}else Je&&xt.monthIndex<Je.monthIndex?xt=xt.setMonth(Je.monthIndex+1):nt&&xt.monthIndex>nt.monthIndex&&(xt=xt.setMonth(nt.monthIndex+1)),be==null||be(xt),J(q(_t.target));re(rt?Mt:void 0,u(u({},$),{},{date:xt,focused:kt,selectedDate:Mt,mustShowYearPicker:!1})),rt&&Ee(kt,xt)}}(at,vn)},onMouseEnter:function(){return Me&&Qe(at)}},i.default.createElement("span",{className:rt?"sd":""},Ue(at.toString(),nn)))}))}));function $n(Ze){var Tt=["rmdp-day"],at=$.date,Pt=$.selectedDate,vn=$.multiple;if(Ht(Ze)&&Tt.push("rmdp-disabled"),!Tt.includes("rmdp-disabled")||!pn){if(qe.year===Ze&&tt&&Tt.push("rmdp-today"),rt)if(Lt){var Zt=function(_t){var xt=_t[0],Mt=_t[1];if(_t.length===1){if(Ze===xt.year&&Tt.push("rmdp-range"),Me){var kt=_t[0].year;(Ze>kt&&Ze<=Gn||Ze<kt&&Ze>=Gn)&&(Tt.push("rmdp-range-hover"),Ze===Gn&&Tt.push(Gn>kt?"end":"start"))}}else _t.length===2&&(Ze>=xt.year&&Ze<=Mt.year&&Tt.push("rmdp-range"),Ze===xt.year&&Tt.push("start"),Ze===Mt.year&&Tt.push("end"))};vn?(w(Pt)?Pt:[[Pt]]).forEach(function(_t){return Zt(_t)}):Zt(Pt)}else[].concat(Pt).some(function(_t){return _t&&_t.year===Ze})&&Tt.push("rmdp-selected");else Ze===at.year&&Tt.push("rmdp-selected");return Tt.join(" ")}}function Ht(Ze){return Je&&Ze<Je.year||nt&&Ze>nt.year}}function it(A,$,re){return re||(A?"MM/YYYY":$?"YYYY":"YYYY/MM/DD")}function Te(A,$){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"YYYY/MM/DD";return A instanceof l.default?A.set({calendar:$,format:re}):A=new l.default({date:A,calendar:$,format:re}),A}function St(A){"_self"in i.default.createElement("div")&&console.warn(A.join(`
`))}var ut=new l.default,ft=ut.calendar,gt=ut.locale;function qt(A,$){return A&&A.constructor!==Object&&(St(It("calendar")),A=void 0),$&&$.constructor!==Object&&(St(It("locale")),$=void 0),[A||ft,$||gt]}function It(A){return["".concat(A," must be an object"),"https://shahabyazdi.github.io/react-multi-date-picker/calendars/"]}function zt(A){return A&&A.name?A.name.split("_")[1]:""}function en(A){return["fa","ar"].includes(zt(A))}function xe(A,$){$===void 0&&($={});var re=$.insertAt;if(A&&typeof document<"u"){var ue=document.head||document.getElementsByTagName("head")[0],Ee=document.createElement("style");Ee.type="text/css",re==="top"&&ue.firstChild?ue.insertBefore(Ee,ue.firstChild):ue.appendChild(Ee),Ee.styleSheet?Ee.styleSheet.cssText=A:Ee.appendChild(document.createTextNode(A))}}xe(".rmdp-wrapper{background-color:#fff;border-radius:5px;direction:ltr;text-align:center;width:max-content}.rmdp-shadow{box-shadow:0 0 5px #8798ad}.rmdp-border{border:1px solid #cfd8e2}.rmdp-calendar{height:max-content;padding:4px}.rmdp-border-top{border-top:1px solid #cfd8e2}.rmdp-border-bottom{border-bottom:1px solid #cfd8e2}.rmdp-border-left{border-left:1px solid #cfd8e2}.rmdp-border-right{border-right:1px solid #cfd8e2}.rmdp-week,.rmdp-ym{display:flex;justify-content:space-between}.rmdp-ym{height:25%}.rmdp-day,.rmdp-week-day{color:#000;cursor:pointer;height:34px;position:relative;width:34px}.rmdp-calendar :focus{outline-color:#00539c}.rmdp-day:not(.rmdp-range):focus{border-radius:50%}.rmdp-ym .rmdp-day:not(.rmdp-range):focus{border-radius:15px}.rmdp-week-day{color:#0074d9;cursor:default;font-size:13px;font-weight:500}.rmdp-day span,.rmdp-week-day{display:flex;flex-direction:column;justify-content:center}.rmdp-day span{border-radius:50%;bottom:3px;font-size:14px;left:3px;position:absolute;right:3px;top:3px}.rmdp-day.rmdp-today span{background-color:#7fdbff;color:#fff}.rmdp-day.rmdp-selected span:not(.highlight){background-color:#0074d9;box-shadow:0 0 3px #8798ad;color:#fff}.rmdp-day.rmdp-deactive,.rmdp-day.rmdp-disabled{color:#8798ad}.rmdp-day.rmdp-deactive.rmdp-selected span{background-color:#4ca6f5;box-shadow:0 0 3px #bac5d3}.rmdp-ym .rmdp-day{flex:1;margin:auto}.rmdp-ym .rmdp-day span{border-radius:12px;padding:2px 0}.rmdp-range{background-color:#0074d9;box-shadow:0 0 3px #8798ad;color:#fff}.rmdp-range-hover{background-color:#7ea6f0;color:#fff}.rmdp-range-hover.start:not(.force),.rmdp-range.start:not(.force){border-bottom-left-radius:50%;border-top-left-radius:50%}.rmdp-range-hover.end:not(.force),.rmdp-range.end:not(.force){border-bottom-right-radius:50%;border-top-right-radius:50%}.rmdp-ym .rmdp-range-hover.start:not(.force),.rmdp-ym .rmdp-range.start:not(.force){border-bottom-left-radius:15px;border-top-left-radius:15px}.rmdp-ym .rmdp-range-hover.end:not(.force),.rmdp-ym .rmdp-range.end:not(.force){border-bottom-right-radius:15px;border-top-right-radius:15px}@media (hover:hover){.rmdp-day:not(.rmdp-disabled,.rmdp-day-hidden) span:hover{background-color:#7ea6f0;color:#fff}}.rmdp-day-picker{padding:5px}.rmdp-header{font-size:14px;margin-top:5px;padding:9px 0}.rmdp-month-picker,.rmdp-year-picker{background-color:#fff;border-radius:0 0 5px 5px;bottom:2px;left:2px;position:absolute;right:2px;top:2px}.only.rmdp-month-picker,.only.rmdp-year-picker{height:240px;position:static;width:240px}.rmdp-header-values{color:#000;margin:auto}.rmdp-header-values span{padding:0 0 0 5px}.rmdp-arrow{border:solid #0074d9;border-width:0 2px 2px 0;display:inline-block;height:3px;margin-top:5px;padding:2px;width:3px}.rmdp-right i{margin-right:3px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.rmdp-left i{margin-left:3px;transform:rotate(135deg);-webkit-transform:rotate(135deg)}.rmdp-left{left:0}.rmdp-right{right:0}.rmdp-arrow-container{background:transparent;border:none;border-radius:50%;cursor:pointer;display:flex;height:20px;justify-content:center;margin:0 5px;padding:0;width:20px}.rmdp-arrow-container:hover{background-color:#0074d9;box-shadow:0 0 3px #8798ad}.rmdp-arrow-container:hover .rmdp-arrow{border:solid #fff;border-width:0 2px 2px 0}.rmdp-arrow-container.disabled{cursor:default}.rmdp-arrow-container.disabled:hover{background-color:inherit;box-shadow:inherit}.rmdp-arrow-container.disabled .rmdp-arrow,.rmdp-arrow-container.disabled:hover .rmdp-arrow{border:solid gray;border-width:0 2px 2px 0}.rmdp-rtl{direction:rtl}.rmdp-rtl .rmdp-left i{margin-left:0;margin-right:3px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.rmdp-rtl .rmdp-right i{margin-left:3px;margin-right:0;transform:rotate(135deg);-webkit-transform:rotate(135deg)}.rmdp-rtl .rmdp-right{left:0;right:auto}.rmdp-rtl .rmdp-left{left:auto;right:0}.rmdp-rtl .rmdp-range-hover.start:not(.force),.rmdp-rtl .rmdp-range.start:not(.force){border-bottom-left-radius:unset;border-bottom-right-radius:50%;border-top-left-radius:unset;border-top-right-radius:50%}.rmdp-rtl .rmdp-range-hover.end:not(.force),.rmdp-rtl .rmdp-range.end:not(.force){border-bottom-left-radius:50%;border-bottom-right-radius:unset;border-top-left-radius:50%;border-top-right-radius:unset}.rmdp-rtl .rmdp-range.start.end:not(.force){border-radius:50%}.rmdp-rtl .rmdp-ym .rmdp-range-hover.start:not(.force),.rmdp-rtl .rmdp-ym .rmdp-range.start:not(.force){border-bottom-right-radius:15px;border-top-right-radius:15px}.rmdp-rtl .rmdp-ym .rmdp-range-hover.end:not(.force),.rmdp-rtl .rmdp-ym .rmdp-range.end:not(.force){border-bottom-left-radius:15px;border-top-left-radius:15px}.rmdp-day-hidden,.rmdp-day.rmdp-disabled{cursor:default}.rmdp-selected .highlight{box-shadow:0 0 3px #8798ad}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) .highlight-red:hover{background-color:#ff6687}.rmdp-day:not(.rmdp-deactive) .highlight-red{color:#cc0303}.rmdp-day.rmdp-deactive .highlight-red{color:#e08e8e}.rmdp-day.rmdp-selected .highlight-red{background-color:#ea0034;color:#fff}.rmdp-day.rmdp-deactive.rmdp-selected .highlight-red{background-color:#e4b0ba;color:#fff}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) .highlight-green:hover{background-color:#4db6ac}.rmdp-day:not(.rmdp-deactive) .highlight-green{color:#00796b}.rmdp-day.rmdp-deactive .highlight-green{color:#7ab3ac}.rmdp-day.rmdp-selected .highlight-green{background-color:#009688;color:#fff}.rmdp-day.rmdp-deactive.rmdp-selected .highlight-green{background-color:#749c98;color:#fff}.rmdp-day-hidden,.rmdp-day-hidden:hover span{background-color:unset;color:transparent}.rmdp-month-name{cursor:default;font-size:14px;margin:3px 0}.rmdp-full-year{grid-template-columns:1fr 1fr 1fr}@media (max-height:450px),(max-width:450px){.rmdp-day,.rmdp-week-day{height:28px;width:28px}.rmdp-day span{font-size:12px;padding-left:.5px}.only.rmdp-month-picker,.only.rmdp-year-picker{height:200px;width:230px}.rmdp-header{padding:3px 0 0}.rmdp-header,.rmdp-month-name{font-size:12px}.rmdp-full-year{grid-template-columns:1fr 1fr}}");var We=["datePickerProps","DatePicker"];function Qt(A,$){var re,ue=A.value,Ee=A.calendar,be=A.locale,Me=A.format,tt=A.onlyMonthPicker,Pe=A.onlyYearPicker,qe=A.range,Je=qe!==void 0&&qe,nt=A.multiple,rt=nt!==void 0&&nt,Lt=A.className,pn=A.role,gn=A.weekDays,Yt=A.months,nn=A.children,Jn=A.onChange,Gn=A.showOtherDays,Qe=A.minDate,ir=A.maxDate,on=A.mapDays,$n=A.disableMonthPicker,Ht=A.disableYearPicker,Ze=A.formattingIgnoreList,Tt=A.onReady,at=A.onlyShowInRangeDates,Pt=at===void 0||at,vn=A.zIndex,Zt=vn===void 0?100:vn,_t=A.plugins,xt=_t===void 0?[]:_t,Mt=A.sort,kt=A.numberOfMonths,Wt=kt===void 0?1:kt,wr=A.currentDate,fr=A.digits,ya=A.buttons,Nn=ya===void 0||ya,In=A.renderButton,Lr=A.weekStartDayIndex,Cr=Lr===void 0?0:Lr,as=A.disableDayPicker,Fn=A.onPropsChange,Gi=A.onMonthChange,ys=A.onYearChange,Ci=A.onFocusedDateChange,Os=A.readOnly,Vn=A.disabled,Vr=A.hideMonth,lr=A.hideYear,mr=A.hideWeekDays,zr=A.shadow,vs=zr===void 0||zr,Qr=A.fullYear,Pa=A.displayWeekNumbers,Hi=A.weekNumber,qi=A.weekPicker,Ai=A.rangeHover,Da=A.monthYearSeparator,yi=A.formatMonth,Ko=A.formatYear,oo=A.highlightToday,ou=oo===void 0||oo,Ml=A.headerOrder,Jo=Ml===void 0?["LEFT_BUTTON","MONTH_YEAR","RIGHT_BUTTON"]:Ml,lo=A.style,$l=lo===void 0?{}:lo,lu=A.autoFocus,co=lu!==void 0&&lu;!wr||wr instanceof l.default||(console.warn("currentDate must be instance of DateObject"),wr=void 0),(typeof Cr!="number"||Cr<0||Cr>6)&&(Cr=0),(typeof Wt!="number"||Wt<1||Pe)&&(Wt=1),!(rt||Je||w(ue))||Je||rt||(rt=!0),qi&&(Je=!0,rt=!1),Qr&&(Wt=12,tt=!1,Pe=!1),Pe&&!Vr&&(Vr=!0);var Ys=p(qt(Ee,be),2);Ee=Ys[0],be=Ys[1],Me=it(tt,Pe,Me),Ze=ne(Ze),on=[].concat(on).filter(Boolean),xt=[].concat.apply([],xt);var Ec=p(e.useState({}),2),bs=Ec[0],va=Ec[1],La={},vi=e.useRef({mustCallOnReady:!0,currentDate:wr});e.useEffect(function(){va(function(mt){var Dn=vi.current.currentDate,Tn=mt.date,En=mt.selectedDate,bn=mt.initialValue,ln=mt.focused,xr=mt.mustSortDates;function os(Ge){if(Ge)return Ge.calendar.name!==Ee.name&&Ge.setCalendar(Ee),Ge.locale.name!==be.name&&Ge.setLocale(be),Ge._format!==Me&&Ge.setFormat(Me),Ge.digits=fr,Ge.ignoreList=JSON.parse(Ze),Ge}function Ks(Ge){return new l.default(Dn||Ge)}if(ue)if(w(En=lt(ue,Ee,be,Me)))Tn||(Tn=Ks(En.flat()[0]));else if(Tn&&Wt!==1){var Ma=new l.default(Tn).toFirstOfMonth(),$a=new l.default(Tn).add(Wt-1,tt?"years":"months").toLastOfMonth();(En<Ma||En>$a)&&(Tn=new l.default(En))}else Tn=Ks(En);else Tn||(Tn=Ks({calendar:Ee,locale:be,format:Me})),bn&&(En=void 0);if([].concat(En).flat().forEach(os),os(Tn),rt||Je||w(ue)){if(En||(En=[]),w(En)||(En=rt&&Je?[[En]]:[En]),Je&&!rt&&En.length>2){var ba=En[En.length-1];En=[En[0],ba],ln=ba}rt&&!Je&&Mt&&!xr?(xr=!0,En.sort(function(Ge,rn){return Ge-rn})):Je&&!rt&&En.sort(function(Ge,rn){return Ge-rn})}else w(En)&&(En=En.flat()[En.length-1]);return Qr&&Tn.toFirstOfYear(),delete vi.current.currentDate,u(u({},mt),{},{date:Tn,selectedDate:En,multiple:rt,range:Je,onlyMonthPicker:tt,onlyYearPicker:Pe,initialValue:mt.initialValue||ue,value:ue,focused:ln,calendar:Ee,locale:be,format:Me,mustSortDates:xr,year:Tn.year,today:os(mt.today)||new l.default({calendar:Ee}),weekPicker:qi})})},[ue,Ee,be,Me,tt,Pe,Je,rt,Mt,Wt,fr,Ze,Qr,qi]),e.useEffect(function(){(Qe||ir)&&va(function(mt){var Dn=mt.calendar,Tn=mt.locale,En=mt.format,bn=function(Ma,$a,ba,Ge,rn){return $a&&($a=Te($a,Ge,rn).set({hour:0,minute:0,second:0,millisecond:0})),ba&&(ba=Te(ba,Ge,rn).set({hour:23,minute:59,second:59,millisecond:999})),w(Ma)&&(Ma=Ma.filter(function(un){return!($a&&un<$a)&&!(ba&&un>ba)})),[Ma,$a,ba]}(lt(ue,Dn,Tn,En),Qe,ir,Dn,En),ln=p(bn,3),xr=ln[0],os=ln[1],Ks=ln[2];return u(u({},mt),{},{inRangeDates:Pt?xr:mt.selectedDate,minDate:os,maxDate:Ks})})},[Qe,ir,Pt,ue]),bs.today&&!vi.current.isReady&&(vi.current.isReady=!0),e.useEffect(function(){vi.current.isReady&&vi.current.mustCallOnReady&&Tt instanceof Function&&(vi.current.mustCallOnReady=!1,Tt())},[vi.current.isReady,Tt]);var uo="rmdp-top-class "+Yi(["top","bottom"]),Ni={top:[],bottom:[],left:[],right:[]},cu=en((re=bs.date)===null||re===void 0?void 0:re.locale),Ii={state:bs,setState:va,onChange:Qo,sort:Mt,handleFocusedDate:Zo,isRTL:cu,fullYear:Qr,monthAndYears:function(){var mt=bs.date;if(!mt)return[];for(var Dn=[],Tn=[],En=mt.digits,bn=0;bn<Wt;bn++){var ln=void 0,xr=mt.year,os=mt.monthIndex+bn;if(tt&&(xr+=bn),os>11&&(os-=12,tt||xr++),w(Yt)&&Yt.length>=12){var Ks=Yt[os];ln=w(Ks)?Ks[0]:Ks}else ln=mt.months[os].name;xr=Ue(xr.toString(),En),Dn.push(ln),Tn.push(xr)}return[Dn,Tn]}(),rangeHover:Ai,highlightToday:ou,numberOfMonths:Wt},uu=arguments[0],du=uu.datePickerProps,hu=uu.DatePicker,fu=m(uu,We);return e.useEffect(function(){var mt=vi.current.Calendar;mt&&J(mt,void 0,co&&!hu)},[co,bs.today,hu]),function(){if(!(!vi.current.isReady||!w(xt))){var mt={state:bs,setState:va,registerListener:sd,calendarProps:fu,datePickerProps:du,handleChange:Qo,Calendar:vi.current.Calendar,DatePicker:hu,handlePropsChange:ho,handleFocusedDate:function(Tn){return Zo(Tn)},minDate:Qe,maxDate:ir},Dn=function(Tn){return as?"bottom":Tn.props.position||"right"};xt.forEach(function(Tn,En){if(typeof Tn.type!="string"){var bn={},ln=Dn(Tn);if(Ni[ln]&&!Tn.props.disabled){for(var xr=0;xr<xt.length;xr++)if(typeof xt[xr].type!="string"&&!xt[xr].props.disabled){if(Object.keys(bn).length===4)break;var os=Dn(xt[xr]);["top","bottom"].includes(ln)?(os===ln&&xr>En&&(bn.bottom=!0),os===ln&&xr<En&&(bn.top=!0)):(uo.includes("border-top")&&(bn.top=!0),uo.includes("border-bottom")&&(bn.bottom=!0),os===ln&&xr>En&&(bn.right=!0),os===ln&&xr<En&&(bn.left=!0))}Ni[ln].push(e.cloneElement(Tn,u({key:En,position:ln,nodes:bn},mt)))}}else Tn.type==="mapDays"&&on.push(Tn.fn(mt))})}}(),bs.today?i.default.createElement("div",{ref:function(mt){if(mt&&(mt.date=bs.date,mt.set=function(Dn,Tn){Vn||va(u(u({},bs),{},{date:new l.default(bs.date.set(Dn,Tn))}))}),vi.current.Calendar=mt,$ instanceof Function)return $(mt);$&&($.current=mt)},role:pn||"dialog",className:"rmdp-wrapper rmdp-".concat(vs?"shadow":"border"," ").concat(Lt||""),style:u({zIndex:Zt},$l)},Ni.top,i.default.createElement("div",{style:{display:"flex"},className:uo},Ni.left,!as&&i.default.createElement("div",{className:"rmdp-calendar ".concat(cu?"rmdp-rtl":""," ").concat(Yi(["left","right"]))},i.default.createElement(X,u(u({},Ii),{},{disableYearPicker:Ht,disableMonthPicker:$n,buttons:Nn,renderButton:In,handleMonthChange:Qn,disabled:Vn,hideMonth:Vr,hideYear:lr,monthYearSeparator:Da,formatMonth:yi,formatYear:Ko,headerOrder:Jo,onYearChange:ys})),i.default.createElement("div",{style:{position:"relative"}},i.default.createElement(z,u(u({},Ii),{},{showOtherDays:Gn,mapDays:on,onlyShowInRangeDates:Pt,customWeekDays:gn,weekStartDayIndex:Cr,hideWeekDays:mr,displayWeekNumbers:Pa,weekNumber:Hi})),!Qr&&i.default.createElement(i.default.Fragment,null,!$n&&i.default.createElement(ge,f({},Ii,{customMonths:Yt,handleMonthChange:Qn})),!Ht&&i.default.createElement(ot,f({},Ii,{onYearChange:ys}))))),Ni.right),Ni.bottom,nn):null;function Qo(mt,Dn){if(mt instanceof l.default&&(mt=new l.default(mt)),!Vn){if(mt||mt===null){if(Os)return;La.change&&La.change.forEach(function(En){return En(mt)})}if(mt||mt===null){var Tn=Jn==null?void 0:Jn(mt);Dn&&Tn!==!1&&va(Dn)}else Dn&&va(Dn);ho({value:mt})}}function ho(){var mt,Dn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!Os&&!Vn){var Tn=u(u(u(u({},fu),du),Dn),{},{value:(mt=Dn.value)!==null&&mt!==void 0?mt:bs.selectedDate});delete Tn.onPropsChange,Fn==null||Fn(Tn)}}function Zo(mt,Dn){Os||Vn||Ci==null||Ci(mt,Dn)}function Qn(mt){Gi==null||Gi(mt)}function Yi(mt){return as||!w(xt)?"":Array.from(new Set(xt.map(function(Dn){if(!Dn.props)return"";var Tn=Dn.props.position||"right";return mt.includes(Tn)&&!Dn.props.disabled?"rmdp-border-"+Tn:""}))).join(" ")}function sd(mt,Dn){La[mt]||(La[mt]=[]),La[mt].push(Dn)}}var Oe=e.forwardRef(Qt);function lt(A,$,re,ue){var Ee=[].concat(A).map(function(tt){return w(tt)?tt.map(be).filter(Me):be(tt)}).filter(Me);return w(A)?Ee:Ee.flat()[0];function be(tt){return tt?tt instanceof l.default?tt:new l.default({date:tt,calendar:$,locale:re,format:ue}):{}}function Me(tt){return w(tt)||tt.isValid}}xe('.rmdp-visible{visibility:visible}.rmdp-invisible{visibility:hidden}.rmdp-input{border:1px solid #c0c4d6;border-radius:5px;height:22px;margin:1px 0;padding:2px 5px}.rmdp-input:focus{border:1px solid #a4b3c5;box-shadow:0 0 2px #a4b3c5;outline:none!important}.rmdp-button{background-color:#0074d9;border:none;border-radius:5px;color:#fff;cursor:pointer;display:inline-block;padding:7px 16px;text-align:center;text-decoration:none;transition:.3s}.rmdp-button:hover{background-color:#143ac5;transition:.4s}.rmdp-button:disabled{background-color:#8798ad}.rmdp-action-button{border-radius:unset;color:#2682d3;float:right;font-weight:700;margin:15px 10px 15px 0}.rmdp-action-button,.rmdp-action-button:hover{background-color:transparent}.rmdp-ep-arrow{overflow:hidden;will-change:transform}.rmdp-ep-arrow:after{background-color:#fff;content:"";height:12px;position:absolute;transform:rotate(45deg);width:12px}.rmdp-ep-shadow:after{box-shadow:0 0 6px #8798ad}.rmdp-ep-border:after{border:1px solid #cfd8e2}.rmdp-ep-arrow[direction=top]{border-bottom:1px solid #fff}.rmdp-ep-arrow[direction=left]{border-right:1px solid #fff}.rmdp-ep-arrow[direction=right]{border-left:1px solid #fff;margin-left:-1px}.rmdp-ep-arrow[direction=bottom]{border-top:1px solid #fff;margin-top:-1.5px}.rmdp-ep-arrow[direction=top]:after{left:4px;top:5px}.rmdp-ep-arrow[direction=bottom]:after{left:4px;top:-6px}.rmdp-ep-arrow[direction=left]:after{left:5px;top:3px}.rmdp-ep-arrow[direction=right]:after{left:-6px;top:3px}');var ve=["value","calendar","locale","format","onlyMonthPicker","onlyYearPicker","onChange","range","multiple","name","id","title","placeholder","required","style","className","inputClass","disabled","render","weekDays","months","children","inputMode","scrollSensitive","hideOnScroll","minDate","maxDate","formattingIgnoreList","containerClassName","calendarPosition","editable","onOpen","onClose","arrowClassName","zIndex","arrow","fixMainPosition","onPositionChange","onPropsChange","digits","readOnly","shadow","onFocusedDateChange","type","weekPicker","mobileLabels","onOpenPickNewDate","mobileButtons","dateSeparator","multipleRangeSeparator","typingTimeout"],K=["label"];function te(A,$){var re=A.value,ue=A.calendar,Ee=A.locale,be=A.format,Me=A.onlyMonthPicker,tt=A.onlyYearPicker,Pe=A.onChange,qe=A.range,Je=qe!==void 0&&qe,nt=A.multiple,rt=nt!==void 0&&nt,Lt=A.name,pn=A.id,gn=A.title,Yt=A.placeholder,nn=A.required,Jn=A.style,Gn=Jn===void 0?{}:Jn,Qe=A.className,ir=Qe===void 0?"":Qe,on=A.inputClass,$n=A.disabled,Ht=A.render,Ze=A.weekDays,Tt=A.months,at=A.children,Pt=A.inputMode,vn=A.scrollSensitive,Zt=vn===void 0||vn,_t=A.hideOnScroll,xt=A.minDate,Mt=A.maxDate,kt=A.formattingIgnoreList,Wt=A.containerClassName,wr=Wt===void 0?"":Wt,fr=A.calendarPosition,ya=fr===void 0?"bottom-left":fr,Nn=A.editable,In=Nn===void 0||Nn,Lr=A.onOpen,Cr=A.onClose,as=A.arrowClassName,Fn=as===void 0?"":as,Gi=A.zIndex,ys=Gi===void 0?100:Gi,Ci=A.arrow,Os=Ci===void 0||Ci,Vn=A.fixMainPosition,Vr=A.onPositionChange,lr=A.onPropsChange,mr=A.digits,zr=A.readOnly,vs=A.shadow,Qr=vs===void 0||vs,Pa=A.onFocusedDateChange,Hi=A.type,qi=A.weekPicker,Ai=A.mobileLabels,Da=A.onOpenPickNewDate,yi=Da===void 0||Da,Ko=A.mobileButtons,oo=Ko===void 0?[]:Ko,ou=A.dateSeparator,Ml=A.multipleRangeSeparator,Jo=Ml===void 0?",":Ml,lo=A.typingTimeout,$l=lo===void 0?700:lo,lu=m(A,ve),co=p(e.useState(),2),Ys=co[0],Ec=co[1],bs=p(e.useState(),2),va=bs[0],La=bs[1],vi=p(e.useState(""),2),uo=vi[0],Ni=vi[1],cu=p(e.useState(!1),2),Ii=cu[0],uu=cu[1],du=p(e.useState(!1),2),hu=du[0],fu=du[1],Qo=e.useRef(),ho=e.useRef(),Zo=e.useRef(),Qn=e.useRef({isTyping:!1}),Yi=ou||(Je||qi?" ~ ":", "),sd=arguments[0],mt=typeof ir=="string"&&ir.includes("rmdp-mobile"),Dn=e.useCallback(function(){if((Cr==null?void 0:Cr())!==!1){var Ge=ye(ho);if(Ge&&Ge.forEach(function(un){return un.blur()}),Qn.current.mobile){var rn=Zo.current.parentNode.parentNode;rn.classList.remove("rmdp-calendar-container-mobile"),rn.style.position="absolute",rn.style.visibility="hidden"}Qn.current.validInputValue!==void 0&&(Ni(Qn.current.validInputValue),Qn.current.validInputValue=void 0),uu(!1),fu(!1)}},[Cr]),Tn=[{type:"button",className:"rmdp-button rmdp-action-button",onClick:function(){La(void 0),Dn()},label:ln("CANCEL")},{type:"button",className:"rmdp-button rmdp-action-button",onClick:function(){va&&(Ks(va,!0),La(void 0)),Dn()},label:ln("OK")}];mt&&!Qn.current.mobile&&(Qn.current=u(u({},Qn.current),{},{mobile:!0})),!mt&&Qn.current.mobile&&(Qn.current=u(u({},Qn.current),{},{mobile:!1})),kt=ne(kt),be=it(Me,tt,be);var En,bn=p(qt(ue,Ee),2);return ue=bn[0],Ee=bn[1],e.useEffect(function(){function Ge(un){if(Ii&&!Qn.current.mobile){var Rs=[];if([ho.current,Zo.current].forEach(function(ls){var Sn,_s;!ls||ls.contains(un.target)||un.target.classList.contains("b-deselect")||(Sn=un.target.parentNode)!==null&&Sn!==void 0&&(Sn=Sn.classList)!==null&&Sn!==void 0&&(_s=Sn.contains)!==null&&_s!==void 0&&_s.call(Sn,"b-deselect")||Rs.push(ls)}),Rs.length===2)return Dn();Zo.current&&Zo.current.contains(un.target)&&(Qo.current.removeTransition(),Qo.current.refreshPosition())}}function rn(){_t&&Ii&&Dn()}return document.addEventListener("click",Ge,!1),document.addEventListener("scroll",rn,!0),function(){document.removeEventListener("click",Ge,!1),document.removeEventListener("scroll",rn,!0)}},[Dn,$,Ii,_t]),e.useEffect(function(){var Ge=re,rn=Qn.current,un=rn.date,Rs=rn.initialValue,ls=function(){return Ge[Ge.length-1]};function Sn(pr){if(pr)return pr instanceof l.default||(pr=new l.default({date:pr,calendar:ue,locale:Ee,format:be})),pr.calendar!==ue&&pr.setCalendar(ue),pr.set({weekDays:Ze,months:Tt,digits:mr,locale:Ee,format:be,ignoreList:JSON.parse(kt)}),pr}re||Rs||!un?Rs&&!re&&(Rs=void 0):Ge=un;var _s="";if(Je||rt||w(Ge)){var cs=function(pr){return pr=pr.map(Sn).filter(function(pu){return pu!==void 0}),Je&&pr.length>2&&(pr=[pr[0],ls()]),[pr,me(pr,Yi)]};if(w(Ge)||(Ge=Je&&rt?Ge?[[Ge]]:[]:[Ge]),rt&&Je)Ge=Ge.map(function(pr,pu){var lm=p(cs(w(pr)?pr:[pr]),2),id=lm[0],Xo=lm[1];return _s+=Xo+(pu<Ge.length-1?" ".concat(Jo," "):""),id});else{var mu=p(cs(Ge),2);Ge=mu[0],_s=mu[1]}_s=_s.toString().replace(/\s,\s$/,"")}else w(Ge)&&(Ge=ls()),(Ge=Sn(Ge))&&(_s=Ge.format());Qn.current.isTyping||Ni(_s),Qn.current=u(u({},Qn.current),{},{date:Ge,separator:Yi,initialValue:Rs||re}),Qn.current.mobile&&Qo.current.isOpen?La(Ge):(Qn.current.validInputValue=void 0,Ec(Ge))},[re,ue,Ee,be,Je,rt,Yi,Me,tt,Ze,Tt,mr,kt]),e.useEffect(function(){var Ge=Qn.current.selection;if(Ge){var rn=ye(ho);rn.length!==0&&(rn.forEach(function(un){document.activeElement===un&&(un.setSelectionRange(Ge,Ge),Qn.current.selection=void 0)}),Qo.current.refreshPosition())}},[uo]),(rt||Je||w(Ys)||!In)&&(Pt="none"),i.default.createElement(o.default,f({ref:function(Ge){if(Ge&&(Ge.openCalendar=function(){return setTimeout(function(){return xr()},10)},Ge.closeCalendar=Dn,Ge.isOpen=Ii&&hu),Qo.current=Ge,$ instanceof Function)return $(Ge);$&&($.current=Ge)},element:Ht?i.default.createElement("div",{ref:ho},e.isValidElement(Ht)?e.cloneElement(Ht,{value:uo,openCalendar:xr,onFocus:xr,handleValueChange:Ma,onChange:Ma,locale:Ee,separator:Yi}):Ht instanceof Function?Ht(uo,xr,Ma,Ee,Yi):null):i.default.createElement("input",{ref:ho,type:Hi||"text",name:Lt,id:pn,title:gn,required:nn,onFocus:xr,className:on||"rmdp-input",placeholder:Yt,value:uo,onChange:Ma,style:Gn,autoComplete:"off",disabled:!!$n,inputMode:Pt||(mt?"none":void 0),readOnly:zr}),popper:Ii&&i.default.createElement(Oe,f({ref:Zo,value:va||Ys,onChange:Ks,range:Je,multiple:rt,calendar:ue,locale:Ee,format:be,onlyMonthPicker:Me,onlyYearPicker:tt,className:ir+(mt?" rmdp-mobile":""),weekDays:Ze,months:Tt,digits:mr,minDate:xt,maxDate:Mt,formattingIgnoreList:JSON.parse(kt),onPropsChange:lr,shadow:Qr,onReady:$a,DatePicker:Qo.current,datePickerProps:sd,onFocusedDateChange:ba,weekPicker:qi},lu),at,mt&&(En=[].concat.apply([],sd.plugins||[]).some(function(Ge){var rn=Ge.props;return!(rn===void 0?{}:rn).disabled}),w(oo)&&i.default.createElement("div",{className:"rmdp-action-buttons ".concat(en(Ee)?"rmdp-rtl":""," ").concat(En?"rmdp-border-top":"")},oo.concat(Tn).map(function(Ge,rn){var un=Ge.label,Rs=m(Ge,K);return i.default.createElement("button",f({key:rn},Rs),un)})))),active:!mt&&hu,position:ya,arrow:!mt&&Os,fixMainPosition:!Zt||Vn,zIndex:ys,onChange:!mt&&Vr,containerClassName:"rmdp-container ".concat(wr),arrowClassName:["rmdp-ep-arrow","rmdp-ep-".concat(Qr?"shadow":"border"),ir,Fn].join(" ")},lu));function ln(Ge){var rn,un=Ee||new l.default().locale;return typeof un.name!="string"?Ge:(Ai==null?void 0:Ai[Ge])||((rn={en:{OK:"OK",CANCEL:"CANCEL"},fa:{OK:"",CANCEL:""},ar:{OK:"",CANCEL:""},hi:{OK:"",CANCEL:" "}}[zt(un)])===null||rn===void 0?void 0:rn[Ge])||Ge}function xr(){if(!$n&&!zr&&(Lr==null?void 0:Lr())!==!1){if(yi&&!re&&!Qn.current.date&&!Je&&!rt&&!mt){var Ge=new l.default({calendar:ue,locale:Ee,format:be,months:Tt,weekDays:Ze,digits:mr,ignoreList:JSON.parse(kt)});(!xt||Ge>Te(xt,ue,be))&&(!Mt||Ge<Te(Mt,ue,be))&&(Ks(Ge),lr==null||lr(u(u({},sd),{},{value:Ge})),Qn.current.date=Ge)}var rn=ye(ho);mt&&rn.length>0&&rn.forEach(function(un){return un.blur()}),rn.length>0||!Ii?uu(!0):Dn()}}function os(Ge){var rn="";return Ge&&(rn=rt&&Je&&w(Ge)?Ge.map(function(un){return me(un,Yi)}).join(" ".concat(Jo," ")):me(Ge,Yi)),rn}function Ks(Ge,rn,un){if(mt&&!rn)return La(Ge);var Rs=os(Ge),ls=un||Rs.toString().replace(/\s,\s$/,"");return Ge&&[].concat(Ge).flat().some(function(Sn){return xt&&Sn<Te(xt,ue,be)||Mt&&Sn>Te(Mt,ue,be)})?(Qn.current.validInputValue=os(re||Qn.current.date),Ni(ls)):(Qn.current.validInputValue=Rs,(Pe==null?void 0:Pe(Ge,{validatedValue:Rs,input:ho.current,isTyping:!!un}))===!1?(Ni(uo),!1):(Ec(Ge),Ni(ls),void(Qn.current=u(u({},Qn.current),{},{date:Ge}))))}function Ma(Ge){if(In){Qn.current.isTyping=!0,setTimeout(function(){Qn.current.isTyping=!1},$l),Qn.current.selection=Ge.target.selectionStart;var rn=Ge.target.value,un={calendar:ue,locale:Ee,format:be,ignoreList:JSON.parse(kt)};if(mr=w(mr)?mr:Ee.digits,!rn)return Ni(""),Ks(null);if(mr){var Rs,ls,Sn=x(mr);try{for(Sn.s();!(Rs=Sn.n()).done;){var _s=Rs.value;rn=rn.replace(new RegExp(_s,"g"),mr.indexOf(_s))}}catch(pr){Sn.e(pr)}finally{Sn.f()}ls=w(Ys)?rt&&Je?(rn||"").split(Jo).filter(Boolean).map(mu):mu(rn):cs(rn),Ks(w(Ys)||ls.isValid?ls:null,void 0,Ue(rn,mr))}}function cs(pr){return/(?=.*Y)(?=.*M)(?=.*D)/.test(be)?new l.default(u(u({},un),{},{date:pr})):new l.default(un).parse(pr)}function mu(pr){return(pr||"").split(Yi).filter(Boolean).map(function(pu){return cs(pu.trim())})}}function $a(){if(fu(!0),mt){var Ge=Zo.current.parentNode.parentNode;Ge.className="rmdp-calendar-container-mobile",Ge.style.position="fixed",Ge.style.transform="",setTimeout(function(){Ge.style.visibility="visible"},50)}}function ba(Ge,rn){w(Qn.current.date)||!rn||mt||Dn(),Pa==null||Pa(Ge,rn)}}var Q=e.forwardRef(te);function me(A,$){var re=[].concat(A).map(function(ue){return ue!=null&&ue.isValid?ue.format():""});return re.toString=function(){return this.filter(Boolean).join($)},re}function ye(A){return A.current?A.current.tagName==="INPUT"?[A.current]:Array.from(A.current.querySelectorAll("input")):[]}Object.defineProperty(t,"DateObject",{enumerable:!0,get:function(){return l.default}}),t.Calendar=Oe,t.default=Q,t.getAllDatesInRange=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],$=arguments.length>1?arguments[1]:void 0;if(!Array.isArray(A))return[];var re=A[0],ue=A[A.length-1],Ee=[];if(!(re instanceof l.default&&ue instanceof l.default&&re.isValid&&ue.isValid&&!(re>ue)))return[];for(re=new l.default(re),ue=new l.default(ue);re<=ue;re.day++)Ee.push($?re.toDate():new l.default(re));return Ee},t.toDateObject=Te})(xf);const qRe=Ho(xf);function YRe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var KRe=YRe({name:"persian",startYear:1,yearLength:365,epoch:1948319,century:14,weekStartDayIndex:0,getMonthLengths:t=>[31,31,31,31,31,31,30,30,30,30,30,t?30:29],isLeap(t){return this.getLeaps(t).includes(t)},getLeaps(t){if(t===0)return;let e=t>0?1:-1,n=[],r=.242362,s=t>0?.2684:.7316,i={5:4,38:37,199:198,232:231,265:264,298:297,557:558,590:591,623:624,982:983,1015:1016,1048:1049,1081:1082,1114:1115,1242:1243,1374:1375,1407:1408,1440:1441,1506:1507,1539:1540,1572:1573,1605:1606,1931:1932,1964:1965,2063:2064,2096:2097,2687:2686,2720:2719,2753:2752,2819:2818,2852:2851,2885:2884,3017:3016,3112:3111,3145:3144,3178:3177,3211:3210,3244:3243,3277:3276,3310:3309,3343:3342,3376:3375,3409:3408,3442:3441,3508:3507,3541:3540,3574:3573,3603:3602,3607:3606,3636:3635,3669:3668,3702:3701,3706:3705,3735:3734,3768:3767,3801:3800,3834:3833,3867:3866,3900:3899,3933:3932,3966:3965,3999:3998,4065:4064,4094:4093,4098:4097,4127:4126,4131:4130,4160:4159,4193:4192,4226:4225,4259:4258,4292:4291,4325:4324,4358:4357,4391:4390,4585:4584,4618:4617,4651:4650,4750:4749,4943:4944,4976:4977,5009:5010,5170:5171,5203:5204,5236:5237,5265:5266,5269:5270,5298:5299,5302:5303,5331:5332,5335:5336,5364:5365,5368:5369,5393:5394,5397:5398,5401:5402,5426:5427,5430:5431,5434:5435,5459:5460,5463:5464,5467:5468,5492:5493,5496:5497,5500:5501,5521:5522,5525:5526,5529:5530,5554:5555,5558:5559,5562:5563,5587:5588,5591:5592,5595:5596,5616:5617,5620:5621,5624:5625,5628:5629,5649:5650,5653:5654,5657:5658,5661:5662,5682:5683,5686:5687,5690:5691,5694:5695,5715:5716,5719:5720,5723:5724,5727:5728,5744:5745,5748:5749,5752:5753,5756:5757,5760:5761,5777:5778,5781:5782,5785:5786,5789:5790,5793:5794,5810:5811,5814:5815,5818:5819,5822:5823,5826:5827,5839:5840,5843:5844,5847:5848,5851:5852,5855:5856,5859:5860,5872:5873,5876:5877,5880:5881,5884:5885,5888:5889,5892:5893,5901:5902,5905:5906,5909:5910,5913:5914,5917:5918,5921:5922,5925:5926,5934:5935,5938:5939,5942:5943,5946:5947,5950:5951,5954:5955,5958:5959,5967:5968,5971:5972,5975:5976,5979:5980,5983:5984,5987:5988,5991:5992,5996:5997,6e3:6001,6004:6005,6008:6009,6012:6013,6016:6017,6020:6021,6029:6030,6033:6034,6037:6038,6041:6042,6045:6046,6049:6050,6053:6054,6058:6059,6062:6063,6066:6067,6070:6071,6074:6075,6078:6079,6082:6083,6086:6087,6091:6092,6095:6096,6099:6100,6103:6104,6107:6108,6111:6112,6115:6116,6119:6120,6124:6125,6128:6129,6132:6133,6136:6137,6140:6141,6144:6145,6148:6149,6152:6154,6157:6158,6161:6162,6165:6166,6169:6170,6173:6174,6177:6178,6181:6182,6185:6187,6190:6191,6194:6195,6198:6199,6202:6203,6206:6207,6210:6211,6214:6215,6218:6220,6223:6224,6227:6228,6231:6232,6235:6236,6239:6240,6243:6244,6247:6249,6251:6253,6256:6257,6260:6261,6264:6265,6268:6269,6272:6273,6276:6277,6280:6282,6284:6286,6289:6290,6293:6294,6297:6298,6301:6302,6305:6306,6309:6310,6313:6315,6317:6319,6322:6323,6326:6327,6330:6331,6334:6335,6338:6339,6342:6344,6346:6348,6350:6352,6355:6356,6359:6360,6363:6364,6367:6368,6371:6372,6375:6377,6379:6381,6383:6385,6388:6389,6392:6393,6396:6397,6400:6401,6404:6406,6408:6410,6412:6414,6416:6418,6421:6422,6425:6426,6429:6430,6433:6434,6437:6439,6441:6443,6445:6447,6449:6451,6454:6455,6458:6459,6462:6463,6466:6468,6470:6472,6474:6476,6478:6480,6482:6484,6487:6488,6491:6492,6495:6496};for(;t>0?e<=t:t<=e;){if(s+=t>0?r:-1*r,s>1&&(s-=1),s<0&&(s+=1),s>=.257800926&&s<=.5){let o=i[e]||e<-1?e+1:e;t>0&&o<=t&&n.push(o),t<0&&n.push(o)}t>0?e++:e--}return n},getDayOfYear:({month:{index:t},day:e})=>(t<=6?31*t:186+30*(t-6))+e,getAllDays(t){const{year:e}=t,n=this.getLeaps(e),r=n.includes(e);return this.yearLength*(e-1)+(r?n.length-1:n.length)+this.getDayOfYear(t)},guessYear:(t,e)=>~~((t+.5)/365.241)+(e>0?1:-1)}),JRe=KRe;const nv=Ho(JRe);function QRe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ZRe=QRe({name:"persian_fa",months:[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],weekDays:[["",""],["",""],["",""],["",""],["",""],["",""],["",""]],digits:["","","","","","","","","",""],meridiems:[["  ","."],["  ","."]]}),XRe=ZRe;const rv=Ho(XRe),x6=t=>{if(!t)return null;const e=t.getTimezoneOffset()*6e4;return new Date(t.getTime()-e).toISOString().split("T")[0]},AJ=t=>{if(!t)return null;if(typeof t=="string"){const e=new Date(t);return isNaN(e.getTime())?null:new xf.DateObject({date:e,calendar:nv,locale:rv})}return t instanceof Date?isNaN(t.getTime())?null:new xf.DateObject({date:t,calendar:nv,locale:rv}):t instanceof xf.DateObject?t:null},E6=t=>{if(t)return AJ(t)},ePe=["","","","","","",""],tPe=({value:t,onChange:e,placeholder:n=" ",label:r,error:s,disabled:i=!1,minDate:o,maxDate:l,className:c="",defaultToday:u=!0,clearable:d=!0,name:f})=>{const m=C.useRef(!1),p=C.useMemo(()=>AJ(t),[t]),y=C.useMemo(()=>p||(u&&!i?new xf.DateObject({calendar:nv,locale:rv}):null),[p,u,i]);C.useEffect(()=>{if(!m.current&&u&&!t&&!i&&e){m.current=!0;const E=new xf.DateObject({calendar:nv,locale:rv});e(x6(E.toDate()),f)}},[u,t,i,e,f]);const _=C.useCallback(E=>{if(!E){e==null||e(null,f);return}try{const T=x6(E.toDate());e==null||e(T,f)}catch(T){console.error("DatePicker conversion error:",T)}},[e,f]),b=C.useCallback(E=>{E.preventDefault(),E.stopPropagation(),e==null||e(null,f)},[e,f]),x=C.useMemo(()=>{const E=["date-picker-wrapper"];return c&&E.push(c),s&&E.push("has-error"),i&&E.push("is-disabled"),E.join(" ")},[c,s,i]),w=d&&p&&!i;return a.jsxs("div",{className:x,children:[r&&a.jsx("label",{className:"form-label mb-1",htmlFor:f,children:r}),a.jsxs("div",{className:"position-relative",children:[a.jsx(qRe,{value:y,onChange:_,calendar:nv,locale:rv,format:"YYYY/MM/DD",weekDays:ePe,containerClassName:"w-100",inputClass:"form-control text-center",placeholder:n,disabled:i,minDate:E6(o),maxDate:E6(l),highlightToday:!0,editable:!1,arrow:!1,portal:!0,portalTarget:document.body,zIndex:9999,name:f}),w&&a.jsx("button",{type:"button",className:"btn btn-link text-muted position-absolute top-50 translate-middle-y end-0 me-2 p-0",style:{zIndex:10},onClick:b,title:" ","aria-label":"  ",children:a.jsx("i",{className:"ri-close-line fs-5"})})]}),s&&a.jsx("div",{className:"text-danger small mt-1",role:"alert",children:s})]})},pi=ae.memo(tPe),ic={mobile:jn().matches(/^09\d{9}$/,"  11    09  ").nullable(),mobileRequired:jn().matches(/^09\d{9}$/,"  11    09  ").required("  "),nationalIdReal:jn().matches(/^\d{10}$/,"   10  ").nullable(),nationalIdCompany:jn().matches(/^\d{11}$/,"   11  ").nullable(),nationalIdDynamic:(t="customerType")=>jn().when(t,{is:"real",then:e=>e.matches(/^\d{10}$/,"   10  ").nullable(),otherwise:e=>e.matches(/^\d{11}$/,"   11  ").nullable()}),postalCode:jn().matches(/^\d{10}$/,"   10  ").nullable(),economicCode:jn().matches(/^\d{12}$|^\d{14}$/,"   12  14  ").nullable(),namePersian:jn().matches(/^[\u0600-\u06FF\s]+$/,"      ").required("  "),name:jn().required("  "),email:jn().email("   ").nullable(),emailRequired:jn().email("   ").required("  "),requiredString:(t="   ")=>jn().required(t),requiredNumber:(t="   ")=>Hc().required(t),positiveNumber:(t="   ")=>Hc().positive(t).nullable(),price:Hc().min(0,"   ").nullable(),quantity:Hc().min(1,"   1 ").integer("    ").nullable()},NJ=to().shape({customerType:ic.requiredString("   "),name:ic.name,mobile:ic.mobile,nationalId:ic.nationalIdDynamic(),postalCode:ic.postalCode,economicCode:ic.economicCode});to().shape({name:ic.name,price:ic.price,quantity:ic.quantity});to().shape({name:ic.name,email:ic.emailRequired,mobile:ic.mobileRequired});const nPe=()=>{const t=is(),[e,n]=C.useState(!1),[r,s]=C.useState(""),[i,o]=C.useState(""),l=Cl({initialValues:{customerType:"real",name:"",nationalId:"",mobile:"",phone:"",birthOrRegisterDate:null,postalCode:"",economicCode:"",address:"",description:""},validationSchema:NJ,onSubmit:async c=>{var u,d,f,m,p,y;s(""),o(""),n(!0);try{const _=await Bt("/customers");if(((_==null?void 0:_.data)||[]).some(T=>(T.name||"").trim()===c.name.trim()||(T.national_id||"").trim()===c.nationalId.trim())){s("         ."),n(!1);return}let x=null;if(c.birthOrRegisterDate){const T=c.birthOrRegisterDate;T.toDate&&typeof T.toDate=="function"?x=ev(T.toDate()).format("YYYY-MM-DD"):(T instanceof Date,x=ev(T).format("YYYY-MM-DD"))}const w={customer_type:c.customerType==="real"?"person":"company",name:c.name,national_id:c.nationalId,mobile:c.mobile,phone:c.phone||null,economic_code:c.economicCode||null,postal_code:c.postalCode||null,address:c.address||null,description:c.description||null,birth_or_register_date:x},E=await Br("/customers",w);(u=E==null?void 0:E.data)!=null&&u.id?(o("    !"),setTimeout(()=>{l.resetForm(),o("")},1500)):s("   ")}catch(_){console.error("Add Customer Error:",_),s(((d=_==null?void 0:_.error)==null?void 0:d.message)||((m=(f=_==null?void 0:_.response)==null?void 0:f.data)==null?void 0:m.message)||((y=(p=_==null?void 0:_.response)==null?void 0:p.data)==null?void 0:y.error)||"    ")}n(!1)}});return a.jsx(ae.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsxs(An,{fluid:!0,children:[a.jsxs("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:[a.jsx("h4",{className:"mb-sm-0 font-size-18",children:"  "}),a.jsx("div",{className:"page-title-right",children:a.jsxs("ol",{className:"breadcrumb m-0",children:[a.jsx("li",{className:"breadcrumb-item",children:a.jsx("a",{href:"/dashboard",children:""})}),a.jsx("li",{className:"breadcrumb-item",children:a.jsx("a",{href:"/customers/list",children:""})}),a.jsx("li",{className:"breadcrumb-item active",children:" "})]})})]}),a.jsx(pe,{children:a.jsx(M,{lg:10,className:"mx-auto",children:a.jsx(Ct,{children:a.jsxs(At,{children:[a.jsxs("div",{className:"d-flex align-items-center mb-4",children:[a.jsx("div",{className:"flex-shrink-0 me-3",children:a.jsx("div",{className:"avatar-sm",children:a.jsx("div",{className:"avatar-title rounded-circle bg-soft-primary text-primary font-size-20",children:a.jsx("i",{className:"ri-user-add-line"})})})}),a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h5",{className:"card-title mb-1",children:"  "}),a.jsx("p",{className:"text-muted mb-0",children:"      "})]})]}),r&&a.jsx(tr,{color:"danger",toggle:()=>s(""),children:r}),i&&a.jsx(tr,{color:"success",toggle:()=>o(""),children:i}),a.jsxs(zo,{onSubmit:l.handleSubmit,children:[a.jsxs(pe,{children:[a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:" "}),a.jsxs(ie,{type:"select",name:"customerType",value:l.values.customerType,onChange:l.handleChange,onBlur:l.handleBlur,invalid:l.touched.customerType&&!!l.errors.customerType,children:[a.jsx("option",{value:"real",children:""}),a.jsx("option",{value:"company",children:""})]}),a.jsx(Dt,{children:l.errors.customerType})]})}),a.jsx(M,{md:8,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:" / "}),a.jsx(ie,{name:"name",value:l.values.name,onChange:l.handleChange,onBlur:l.handleBlur,invalid:l.touched.name&&!!l.errors.name}),a.jsx(Dt,{children:l.errors.name})]})})]}),a.jsxs(pe,{children:[a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:"  / "}),a.jsx(pi,{value:l.values.birthOrRegisterDate,onChange:c=>l.setFieldValue("birthOrRegisterDate",c)})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:l.values.customerType==="real"?" ":" "}),a.jsx(ie,{name:"nationalId",value:l.values.nationalId,onChange:l.handleChange,onBlur:l.handleBlur,invalid:l.touched.nationalId&&!!l.errors.nationalId}),a.jsx(Dt,{children:l.errors.nationalId})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:""}),a.jsx(ie,{name:"mobile",value:l.values.mobile,onChange:l.handleChange,onBlur:l.handleBlur,invalid:l.touched.mobile&&!!l.errors.mobile,maxLength:11,placeholder:"09123456789"}),a.jsx(Dt,{children:l.errors.mobile})]})})]}),a.jsxs(pe,{children:[a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:" "}),a.jsx(ie,{name:"phone",value:l.values.phone,onChange:l.handleChange})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:" "}),a.jsx(ie,{name:"postalCode",value:l.values.postalCode,onChange:l.handleChange,onBlur:l.handleBlur,invalid:l.touched.postalCode&&!!l.errors.postalCode,maxLength:10}),a.jsx(Dt,{children:l.errors.postalCode})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:" "}),a.jsx(ie,{name:"economicCode",value:l.values.economicCode,onChange:l.handleChange,onBlur:l.handleBlur,invalid:l.touched.economicCode&&!!l.errors.economicCode}),a.jsx(Dt,{children:l.errors.economicCode})]})})]}),a.jsx(pe,{children:a.jsx(M,{md:12,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:""}),a.jsx(ie,{type:"textarea",rows:"3",name:"address",value:l.values.address,onChange:l.handleChange})]})})}),a.jsx(pe,{children:a.jsx(M,{md:12,children:a.jsxs("div",{className:"mb-4",children:[a.jsx(ee,{children:""}),a.jsx(ie,{type:"textarea",rows:"2",name:"description",value:l.values.description,onChange:l.handleChange})]})})}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(_e,{type:"submit",color:"primary",disabled:e,children:e?a.jsxs(a.Fragment,{children:[a.jsx(Wn,{size:"sm",className:"me-2"}),"  ..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bx bx-check-double me-1"})," "]})}),a.jsxs(_e,{type:"button",color:"success",onClick:()=>{l.resetForm(),s(""),o("")},children:[a.jsx("i",{className:"bx bx-refresh me-1"}),"  "]}),a.jsxs(_e,{type:"button",color:"secondary",onClick:()=>t("/customers/list"),children:[a.jsx("i",{className:"bx bx-arrow-back me-1"}),""]})]})]})]})})})})]})})})},rPe=()=>{const{id:t}=su(),e=is(),[n,r]=C.useState(!0),[s,i]=C.useState(!1),[o,l]=C.useState(""),[c,u]=C.useState(""),d=Cl({initialValues:{customerType:"real",name:"",nationalId:"",mobile:"",phone:"",birthOrRegisterDate:null,postalCode:"",economicCode:"",address:"",description:""},validationSchema:NJ,onSubmit:async m=>{var p,y,_;i(!0),l(""),u("");try{const b={customer_type:m.customerType,name:m.name,national_id:m.nationalId,mobile:m.mobile,phone:m.phone||null,postal_code:m.postalCode||null,economic_code:m.economicCode||null,address:m.address||null,description:m.description||null,birth_or_register_date:m.birthOrRegisterDate?ev(m.birthOrRegisterDate.toDate()).format("YYYY-MM-DD"):null},x=await oh(`/customers/${t}`,b);x!=null&&x.success?(u("    "),setTimeout(()=>e("/customers/list"),1200)):l("   ")}catch(b){console.error("Update Error:",b),l(((_=(y=(p=b==null?void 0:b.response)==null?void 0:p.data)==null?void 0:y.error)==null?void 0:_.message)||"    ")}i(!1)}}),f=async()=>{try{const m=await Bt(`/customers/${t}`),p=(m==null?void 0:m.data)||m;if(!p){l("   ."),r(!1);return}let y=null;if(p.birth_or_register_date){const _=new Date(p.birth_or_register_date);y=new xf.DateObject({date:_,calendar:nv,locale:rv})}d.setValues({customerType:p.customer_type||"real",name:p.name||"",nationalId:p.national_id||"",mobile:p.mobile||"",phone:p.phone||"",birthOrRegisterDate:y,postalCode:p.postal_code||"",economicCode:p.economic_code||"",address:p.address||"",description:p.description||""})}catch(m){console.error("Load Error:",m),l("    .")}r(!1)};return C.useEffect(()=>{t&&f()},[t]),n?a.jsx("div",{className:"p-5 text-center",children:a.jsx(Wn,{})}):a.jsx(ae.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsx(An,{fluid:!0,children:a.jsx(pe,{children:a.jsx(M,{lg:10,className:"mx-auto",children:a.jsx(Ct,{children:a.jsxs(At,{children:[a.jsx("h4",{className:"card-title mb-4",children:" "}),o&&a.jsx(tr,{color:"danger",children:o}),c&&a.jsx(tr,{color:"success",children:c}),a.jsxs(zo,{onSubmit:d.handleSubmit,children:[a.jsxs(pe,{children:[a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:" "}),a.jsxs(ie,{type:"select",name:"customerType",value:d.values.customerType,onChange:d.handleChange,invalid:d.touched.customerType&&!!d.errors.customerType,children:[a.jsx("option",{value:"real",children:""}),a.jsx("option",{value:"company",children:""})]}),a.jsx(Dt,{children:d.errors.customerType})]})}),a.jsx(M,{md:8,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:" / "}),a.jsx(ie,{name:"name",value:d.values.name,onChange:d.handleChange,invalid:d.touched.name&&!!d.errors.name}),a.jsx(Dt,{children:d.errors.name})]})})]}),a.jsxs(pe,{children:[a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:"  / "}),a.jsx(pi,{value:d.values.birthOrRegisterDate,onChange:m=>d.setFieldValue("birthOrRegisterDate",m)})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:d.values.customerType==="real"?" ":" "}),a.jsx(ie,{name:"nationalId",value:d.values.nationalId,onChange:d.handleChange,invalid:d.touched.nationalId&&!!d.errors.nationalId}),a.jsx(Dt,{children:d.errors.nationalId})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:""}),a.jsx(ie,{name:"mobile",value:d.values.mobile,onChange:d.handleChange,invalid:d.touched.mobile&&!!d.errors.mobile,maxLength:11}),a.jsx(Dt,{children:d.errors.mobile})]})})]}),a.jsxs(pe,{children:[a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:" "}),a.jsx(ie,{name:"phone",value:d.values.phone,onChange:d.handleChange})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:" "}),a.jsx(ie,{name:"postalCode",value:d.values.postalCode,onChange:d.handleChange,invalid:d.touched.postalCode&&!!d.errors.postalCode,maxLength:10}),a.jsx(Dt,{children:d.errors.postalCode})]})}),a.jsx(M,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:" "}),a.jsx(ie,{name:"economicCode",value:d.values.economicCode,onChange:d.handleChange,invalid:d.touched.economicCode&&!!d.errors.economicCode}),a.jsx(Dt,{children:d.errors.economicCode})]})})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:""}),a.jsx(ie,{type:"textarea",rows:3,name:"address",value:d.values.address,onChange:d.handleChange})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx(ee,{children:""}),a.jsx(ie,{type:"textarea",rows:3,name:"description",value:d.values.description,onChange:d.handleChange})]}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(_e,{type:"submit",color:"primary",disabled:s,children:s?a.jsx(Wn,{size:"sm"}):" "}),a.jsx(_e,{type:"button",color:"secondary",onClick:()=>e("/customers/list"),children:""})]})]})]})})})})})})})};function IJ(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=IJ(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function sf(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=IJ(t))&&(r&&(r+=" "),r+=e);return r}const ww=t=>typeof t=="number"&&!isNaN(t),Op=t=>typeof t=="string",Oo=t=>typeof t=="function",Wj=t=>Op(t)||Oo(t)?t:null,GO=t=>C.isValidElement(t)||Op(t)||Oo(t)||ww(t);function sPe(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function NA(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:s=!0,collapseDuration:i=300}=t;return function(o){let{children:l,position:c,preventExitTransition:u,done:d,nodeRef:f,isIn:m}=o;const p=r?`${e}--${c}`:e,y=r?`${n}--${c}`:n,_=C.useRef(0);return C.useLayoutEffect(()=>{const b=f.current,x=p.split(" "),w=E=>{E.target===f.current&&(b.dispatchEvent(new Event("d")),b.removeEventListener("animationend",w),b.removeEventListener("animationcancel",w),_.current===0&&E.type!=="animationcancel"&&b.classList.remove(...x))};b.classList.add(...x),b.addEventListener("animationend",w),b.addEventListener("animationcancel",w)},[]),C.useEffect(()=>{const b=f.current,x=()=>{b.removeEventListener("animationend",x),s?sPe(b,d,i):d()};m||(u?x():(_.current=1,b.className+=` ${y}`,b.addEventListener("animationend",x)))},[m]),ae.createElement(ae.Fragment,null,l)}}function S6(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const nc={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(r=>r!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},OS=t=>{let{theme:e,type:n,...r}=t;return ae.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},HO={info:function(t){return ae.createElement(OS,{...t},ae.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return ae.createElement(OS,{...t},ae.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return ae.createElement(OS,{...t},ae.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return ae.createElement(OS,{...t},ae.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return ae.createElement("div",{className:"Toastify__spinner"})}};function iPe(t){const[,e]=C.useReducer(p=>p+1,0),[n,r]=C.useState([]),s=C.useRef(null),i=C.useRef(new Map).current,o=p=>n.indexOf(p)!==-1,l=C.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:o,getToast:p=>i.get(p)}).current;function c(p){let{containerId:y}=p;const{limit:_}=l.props;!_||y&&l.containerId!==y||(l.count-=l.queue.length,l.queue=[])}function u(p){r(y=>p==null?[]:y.filter(_=>_!==p))}function d(){const{toastContent:p,toastProps:y,staleId:_}=l.queue.shift();m(p,y,_)}function f(p,y){let{delay:_,staleId:b,...x}=y;if(!GO(p)||function(G){return!s.current||l.props.enableMultiContainer&&G.containerId!==l.props.containerId||i.has(G.toastId)&&G.updateId==null}(x))return;const{toastId:w,updateId:E,data:T}=x,{props:N}=l,P=()=>u(w),D=E==null;D&&l.count++;const F={...N,style:N.toastStyle,key:l.toastKey++,...Object.fromEntries(Object.entries(x).filter(G=>{let[J,W]=G;return W!=null})),toastId:w,updateId:E,data:T,closeToast:P,isIn:!1,className:Wj(x.className||N.toastClassName),bodyClassName:Wj(x.bodyClassName||N.bodyClassName),progressClassName:Wj(x.progressClassName||N.progressClassName),autoClose:!x.isLoading&&(Y=x.autoClose,q=N.autoClose,Y===!1||ww(Y)&&Y>0?Y:q),deleteToast(){const G=S6(i.get(w),"removed");i.delete(w),nc.emit(4,G);const J=l.queue.length;if(l.count=w==null?l.count-l.displayedToast:l.count-1,l.count<0&&(l.count=0),J>0){const W=w==null?l.props.limit:1;if(J===1||W===1)l.displayedToast++,d();else{const z=W>J?J:W;l.displayedToast=z;for(let Z=0;Z<z;Z++)d()}}else e()}};var Y,q;F.iconOut=function(G){let{theme:J,type:W,isLoading:z,icon:Z}=G,X=null;const ne={theme:J,type:W};return Z===!1||(Oo(Z)?X=Z(ne):C.isValidElement(Z)?X=C.cloneElement(Z,ne):Op(Z)||ww(Z)?X=Z:z?X=HO.spinner():(le=>le in HO)(W)&&(X=HO[W](ne))),X}(F),Oo(x.onOpen)&&(F.onOpen=x.onOpen),Oo(x.onClose)&&(F.onClose=x.onClose),F.closeButton=N.closeButton,x.closeButton===!1||GO(x.closeButton)?F.closeButton=x.closeButton:x.closeButton===!0&&(F.closeButton=!GO(N.closeButton)||N.closeButton);let B=p;C.isValidElement(p)&&!Op(p.type)?B=C.cloneElement(p,{closeToast:P,toastProps:F,data:T}):Oo(p)&&(B=p({closeToast:P,toastProps:F,data:T})),N.limit&&N.limit>0&&l.count>N.limit&&D?l.queue.push({toastContent:B,toastProps:F,staleId:b}):ww(_)?setTimeout(()=>{m(B,F,b)},_):m(B,F,b)}function m(p,y,_){const{toastId:b}=y;_&&i.delete(_);const x={content:p,props:y};i.set(b,x),r(w=>[...w,b].filter(E=>E!==_)),nc.emit(4,S6(x,x.props.updateId==null?"added":"updated"))}return C.useEffect(()=>(l.containerId=t.containerId,nc.cancelEmit(3).on(0,f).on(1,p=>s.current&&u(p)).on(5,c).emit(2,l),()=>{i.clear(),nc.emit(3,l)}),[]),C.useEffect(()=>{l.props=t,l.isToastActive=o,l.displayedToast=n.length}),{getToastToRender:function(p){const y=new Map,_=Array.from(i.values());return t.newestOnTop&&_.reverse(),_.forEach(b=>{const{position:x}=b.props;y.has(x)||y.set(x,[]),y.get(x).push(b)}),Array.from(y,b=>p(b[0],b[1]))},containerRef:s,isToastActive:o}}function j6(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function T6(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function aPe(t){const[e,n]=C.useState(!1),[r,s]=C.useState(!1),i=C.useRef(null),o=C.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=C.useRef(t),{autoClose:c,pauseOnHover:u,closeToast:d,onClick:f,closeOnClick:m}=t;function p(T){if(t.draggable){T.nativeEvent.type==="touchstart"&&T.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",x),document.addEventListener("mouseup",w),document.addEventListener("touchmove",x),document.addEventListener("touchend",w);const N=i.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=N.getBoundingClientRect(),N.style.transition="",o.x=j6(T.nativeEvent),o.y=T6(T.nativeEvent),t.draggableDirection==="x"?(o.start=o.x,o.removalDistance=N.offsetWidth*(t.draggablePercent/100)):(o.start=o.y,o.removalDistance=N.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function y(T){if(o.boundingRect){const{top:N,bottom:P,left:D,right:F}=o.boundingRect;T.nativeEvent.type!=="touchend"&&t.pauseOnHover&&o.x>=D&&o.x<=F&&o.y>=N&&o.y<=P?b():_()}}function _(){n(!0)}function b(){n(!1)}function x(T){const N=i.current;o.canDrag&&N&&(o.didMove=!0,e&&b(),o.x=j6(T),o.y=T6(T),o.delta=t.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),N.style.transform=`translate${t.draggableDirection}(${o.delta}px)`,N.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function w(){document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",w),document.removeEventListener("touchmove",x),document.removeEventListener("touchend",w);const T=i.current;if(o.canDrag&&o.didMove&&T){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return s(!0),void t.closeToast();T.style.transition="transform 0.2s, opacity 0.2s",T.style.transform=`translate${t.draggableDirection}(0)`,T.style.opacity="1"}}C.useEffect(()=>{l.current=t}),C.useEffect(()=>(i.current&&i.current.addEventListener("d",_,{once:!0}),Oo(t.onOpen)&&t.onOpen(C.isValidElement(t.children)&&t.children.props),()=>{const T=l.current;Oo(T.onClose)&&T.onClose(C.isValidElement(T.children)&&T.children.props)}),[]),C.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||b(),window.addEventListener("focus",_),window.addEventListener("blur",b)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",_),window.removeEventListener("blur",b))}),[t.pauseOnFocusLoss]);const E={onMouseDown:p,onTouchStart:p,onMouseUp:y,onTouchEnd:y};return c&&u&&(E.onMouseEnter=b,E.onMouseLeave=_),m&&(E.onClick=T=>{f&&f(T),o.canCloseOnClick&&d()}),{playToast:_,pauseToast:b,isRunning:e,preventExitTransition:r,toastRef:i,eventHandlers:E}}function kJ(t){let{closeToast:e,theme:n,ariaLabel:r="close"}=t;return ae.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:s=>{s.stopPropagation(),e(s)},"aria-label":r},ae.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ae.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function oPe(t){let{delay:e,isRunning:n,closeToast:r,type:s="default",hide:i,className:o,style:l,controlledProgress:c,progress:u,rtl:d,isIn:f,theme:m}=t;const p=i||c&&u===0,y={...l,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused",opacity:p?0:1};c&&(y.transform=`scaleX(${u})`);const _=sf("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":d}),b=Oo(o)?o({rtl:d,type:s,defaultClassName:_}):sf(_,o);return ae.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:b,style:y,[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{f&&r()}})}const lPe=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:s}=aPe(t),{closeButton:i,children:o,autoClose:l,onClick:c,type:u,hideProgressBar:d,closeToast:f,transition:m,position:p,className:y,style:_,bodyClassName:b,bodyStyle:x,progressClassName:w,progressStyle:E,updateId:T,role:N,progress:P,rtl:D,toastId:F,deleteToast:Y,isIn:q,isLoading:B,iconOut:G,closeOnClick:J,theme:W}=t,z=sf("Toastify__toast",`Toastify__toast-theme--${W}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":D},{"Toastify__toast--close-on-click":J}),Z=Oo(y)?y({rtl:D,position:p,type:u,defaultClassName:z}):sf(z,y),X=!!P||!l,ne={closeToast:f,type:u,theme:W};let le=null;return i===!1||(le=Oo(i)?i(ne):C.isValidElement(i)?C.cloneElement(i,ne):kJ(ne)),ae.createElement(m,{isIn:q,done:Y,position:p,preventExitTransition:n,nodeRef:r},ae.createElement("div",{id:F,onClick:c,className:Z,...s,style:_,ref:r},ae.createElement("div",{...q&&{role:N},className:Oo(b)?b({type:u}):sf("Toastify__toast-body",b),style:x},G!=null&&ae.createElement("div",{className:sf("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!B})},G),ae.createElement("div",null,o)),le,ae.createElement(oPe,{...T&&!X?{key:`pb-${T}`}:{},rtl:D,theme:W,delay:l,isRunning:e,isIn:q,closeToast:f,hide:d,type:u,style:E,className:w,controlledProgress:X,progress:P||0})))},IA=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},cPe=NA(IA("bounce",!0));NA(IA("slide",!0));NA(IA("zoom"));NA(IA("flip"));const C6=C.forwardRef((t,e)=>{const{getToastToRender:n,containerRef:r,isToastActive:s}=iPe(t),{className:i,style:o,rtl:l,containerId:c}=t;function u(d){const f=sf("Toastify__toast-container",`Toastify__toast-container--${d}`,{"Toastify__toast-container--rtl":l});return Oo(i)?i({position:d,rtl:l,defaultClassName:f}):sf(f,Wj(i))}return C.useEffect(()=>{e&&(e.current=r.current)},[]),ae.createElement("div",{ref:r,className:"Toastify",id:c},n((d,f)=>{const m=f.length?{...o}:{...o,pointerEvents:"none"};return ae.createElement("div",{className:u(d),style:m,key:`container-${d}`},f.map((p,y)=>{let{content:_,props:b}=p;return ae.createElement(lPe,{...b,isIn:s(b.toastId),style:{...b.style,"--nth":y+1,"--len":f.length},key:`toast-${b.key}`},_)}))}))});C6.displayName="ToastContainer",C6.defaultProps={position:"top-right",transition:cPe,autoClose:5e3,closeButton:kJ,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let qO,Fm=new Map,H_=[],uPe=1;function OJ(){return""+uPe++}function dPe(t){return t&&(Op(t.toastId)||ww(t.toastId))?t.toastId:OJ()}function xw(t,e){return Fm.size>0?nc.emit(0,t,e):H_.push({content:t,options:e}),e.toastId}function bT(t,e){return{...e,type:e&&e.type||t,toastId:dPe(e)}}function RS(t){return(e,n)=>xw(e,bT(t,n))}function de(t,e){return xw(t,bT("default",e))}de.loading=(t,e)=>xw(t,bT("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),de.promise=function(t,e,n){let r,{pending:s,error:i,success:o}=e;s&&(r=Op(s)?de.loading(s,n):de.loading(s.render,{...n,...s}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(d,f,m)=>{if(f==null)return void de.dismiss(r);const p={type:d,...l,...n,data:m},y=Op(f)?{render:f}:f;return r?de.update(r,{...p,...y}):de(y.render,{...p,...y}),m},u=Oo(t)?t():t;return u.then(d=>c("success",o,d)).catch(d=>c("error",i,d)),u},de.success=RS("success"),de.info=RS("info"),de.error=RS("error"),de.warning=RS("warning"),de.warn=de.warning,de.dark=(t,e)=>xw(t,bT("default",{theme:"dark",...e})),de.dismiss=t=>{Fm.size>0?nc.emit(1,t):H_=H_.filter(e=>t!=null&&e.options.toastId!==t)},de.clearWaitingQueue=function(t){return t===void 0&&(t={}),nc.emit(5,t)},de.isActive=t=>{let e=!1;return Fm.forEach(n=>{n.isToastActive&&n.isToastActive(t)&&(e=!0)}),e},de.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const n=function(r,s){let{containerId:i}=s;const o=Fm.get(i||qO);return o&&o.getToast(r)}(t,e);if(n){const{props:r,content:s}=n,i={delay:100,...r,...e,toastId:e.toastId||t,updateId:OJ()};i.toastId!==t&&(i.staleId=t);const o=i.render||s;delete i.render,xw(o,i)}},0)},de.done=t=>{de.update(t,{progress:1})},de.onChange=t=>(nc.on(4,t),()=>{nc.off(4,t)}),de.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},de.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},nc.on(2,t=>{qO=t.containerId||t,Fm.set(qO,t),H_.forEach(e=>{nc.emit(0,e.content,e.options)}),H_=[]}).on(3,t=>{Fm.delete(t.containerId||t),Fm.size===0&&nc.off(0).off(1).off(5)});var wF={},_T={};function hPe(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})}const fPe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let kA=class extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}},RJ=class extends kA{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},GD=class extends kA{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},HD=class extends kA{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var wT;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(wT||(wT={}));class mPe{constructor(e,{headers:n={},customFetch:r,region:s=wT.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=fPe(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return hPe(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=r;let m={},{region:p}=r;p||(p=this.region);const y=new URL(`${this.url}/${n}`);p&&p!=="any"&&(m["x-region"]=p,y.searchParams.set("forceFunctionRegion",p));let _;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",_=u):typeof u=="string"?(m["Content-Type"]="text/plain",_=u):typeof FormData<"u"&&u instanceof FormData?_=u:(m["Content-Type"]="application/json",_=JSON.stringify(u)):_=u;let b=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(b=o.signal,d.addEventListener("abort",()=>o.abort())):b=o.signal);const x=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:_,signal:b}).catch(N=>{throw new RJ(N)}),w=x.headers.get("x-relay-error");if(w&&w==="true")throw new GD(x);if(!x.ok)throw new HD(x);let E=((s=x.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),T;return E==="application/json"?T=yield x.json():E==="application/octet-stream"||E==="application/pdf"?T=yield x.blob():E==="text/event-stream"?T=x:E==="multipart/form-data"?T=yield x.formData():T=yield x.text(),{data:T,error:null,response:x}}catch(l){return{data:null,error:l,response:l instanceof HD||l instanceof GD?l.context:void 0}}finally{i&&clearTimeout(i)}})}}const pPe=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return wT},FunctionsClient:mPe,FunctionsError:kA,FunctionsFetchError:RJ,FunctionsHttpError:HD,FunctionsRelayError:GD},Symbol.toStringTag,{value:"Module"})),PJ=Qp(pPe);var Na={},qD=function(t,e){return qD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},qD(t,e)};function DJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");qD(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var xT=function(){return xT=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xT.apply(this,arguments)};function LJ(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function MJ(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function $J(t,e){return function(n,r){e(n,r,t)}}function FJ(t,e,n,r,s,i){function o(x){if(x!==void 0&&typeof x!="function")throw new TypeError("Function expected");return x}for(var l=r.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),f,m=!1,p=n.length-1;p>=0;p--){var y={};for(var _ in r)y[_]=_==="access"?{}:r[_];for(var _ in r.access)y.access[_]=r.access[_];y.addInitializer=function(x){if(m)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(x||null))};var b=(0,n[p])(l==="accessor"?{get:d.get,set:d.set}:d[c],y);if(l==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(f=o(b.get))&&(d.get=f),(f=o(b.set))&&(d.set=f),(f=o(b.init))&&s.unshift(f)}else(f=o(b))&&(l==="field"?s.unshift(f):d[c]=f)}u&&Object.defineProperty(u,r.name,d),m=!0}function VJ(t,e,n){for(var r=arguments.length>2,s=0;s<e.length;s++)n=r?e[s].call(t,n):e[s].call(t);return r?n:void 0}function UJ(t){return typeof t=="symbol"?t:"".concat(t)}function BJ(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function zJ(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function WJ(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})}function GJ(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var OA=Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function HJ(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&OA(e,t,n)}function ET(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xF(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(l){o={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function qJ(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(xF(arguments[e]));return t}function YJ(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,l=i.length;o<l;o++,s++)r[s]=i[o];return r}function KJ(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Mv(t){return this instanceof Mv?(this.v=t,this):new Mv(t)}function JJ(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(p){return function(y){return Promise.resolve(y).then(p,f)}}function l(p,y){r[p]&&(s[p]=function(_){return new Promise(function(b,x){i.push([p,_,b,x])>1||c(p,_)})},y&&(s[p]=y(s[p])))}function c(p,y){try{u(r[p](y))}catch(_){m(i[0][3],_)}}function u(p){p.value instanceof Mv?Promise.resolve(p.value.v).then(d,f):m(i[0][2],p)}function d(p){c("next",p)}function f(p){c("throw",p)}function m(p,y){p(y),i.shift(),i.length&&c(i[0][0],i[0][1])}}function QJ(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:Mv(t[s](o)),done:!1}:i?i(o):o}:i}}function ZJ(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ET=="function"?ET(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(l,c){o=t[i](o),s(l,c,o.done,o.value)})}}function s(i,o,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},o)}}function XJ(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var gPe=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},YD=function(t){return YD=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},YD(t)};function eQ(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=YD(t),r=0;r<n.length;r++)n[r]!=="default"&&OA(e,t,n[r]);return gPe(e,t),e}function tQ(t){return t&&t.__esModule?t:{default:t}}function nQ(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function rQ(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n}function sQ(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function iQ(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var yPe=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function aQ(t){function e(i){t.error=t.hasError?new yPe(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;function s(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function oQ(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,s,i,o){return r?e?".jsx":".js":s&&(!i||!o)?n:s+i+"."+o.toLowerCase()+"js"}):t}const vPe={__extends:DJ,__assign:xT,__rest:LJ,__decorate:MJ,__param:$J,__esDecorate:FJ,__runInitializers:VJ,__propKey:UJ,__setFunctionName:BJ,__metadata:zJ,__awaiter:WJ,__generator:GJ,__createBinding:OA,__exportStar:HJ,__values:ET,__read:xF,__spread:qJ,__spreadArrays:YJ,__spreadArray:KJ,__await:Mv,__asyncGenerator:JJ,__asyncDelegator:QJ,__asyncValues:ZJ,__makeTemplateObject:XJ,__importStar:eQ,__importDefault:tQ,__classPrivateFieldGet:nQ,__classPrivateFieldSet:rQ,__classPrivateFieldIn:sQ,__addDisposableResource:iQ,__disposeResources:aQ,__rewriteRelativeImportExtension:oQ},bPe=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:iQ,get __assign(){return xT},__asyncDelegator:QJ,__asyncGenerator:JJ,__asyncValues:ZJ,__await:Mv,__awaiter:WJ,__classPrivateFieldGet:nQ,__classPrivateFieldIn:sQ,__classPrivateFieldSet:rQ,__createBinding:OA,__decorate:MJ,__disposeResources:aQ,__esDecorate:FJ,__exportStar:HJ,__extends:DJ,__generator:GJ,__importDefault:tQ,__importStar:eQ,__makeTemplateObject:XJ,__metadata:zJ,__param:$J,__propKey:UJ,__read:xF,__rest:LJ,__rewriteRelativeImportExtension:oQ,__runInitializers:VJ,__setFunctionName:BJ,__spread:qJ,__spreadArray:KJ,__spreadArrays:YJ,__values:ET,default:vPe},Symbol.toStringTag,{value:"Module"})),pb=Qp(bPe);var PS={},DS={},LS={},MS={},$S={},FS={},A6;function lQ(){if(A6)return FS;A6=1,Object.defineProperty(FS,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return FS.default=t,FS}var N6;function cQ(){if(N6)return $S;N6=1,Object.defineProperty($S,"__esModule",{value:!0});const e=pb.__importDefault(lQ());let n=class{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,f,m;let p=null,y=null,_=null,b=c.status,x=c.statusText;if(c.ok){if(this.method!=="HEAD"){const N=await c.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?y=N:y=JSON.parse(N))}const E=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),T=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");E&&T&&T.length>1&&(_=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(p={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,_=null,b=406,x="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const E=await c.text();try{p=JSON.parse(E),Array.isArray(p)&&c.status===404&&(y=[],p=null,b=200,x="OK")}catch{c.status===404&&E===""?(b=204,x="No Content"):p={message:E}}if(p&&this.isMaybeSingle&&(!((m=p==null?void 0:p.details)===null||m===void 0)&&m.includes("0 rows"))&&(p=null,b=200,x="OK"),p&&this.shouldThrowOnError)throw new e.default(p)}return{error:p,data:y,count:_,status:b,statusText:x}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,f,m,p,y;let _="";const b=c==null?void 0:c.cause;if(b){const x=(u=b==null?void 0:b.message)!==null&&u!==void 0?u:"",w=(d=b==null?void 0:b.code)!==null&&d!==void 0?d:"";_=`${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"FetchError"}: ${c==null?void 0:c.message}`,_+=`

Caused by: ${(m=b==null?void 0:b.name)!==null&&m!==void 0?m:"Error"}: ${x}`,w&&(_+=` (${w})`),b!=null&&b.stack&&(_+=`
${b.stack}`)}else _=(p=c==null?void 0:c.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(y=c==null?void 0:c.name)!==null&&y!==void 0?y:"FetchError"}: ${c==null?void 0:c.message}`,details:_,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}};return $S.default=n,$S}var I6;function uQ(){if(I6)return MS;I6=1,Object.defineProperty(MS,"__esModule",{value:!0});const e=pb.__importDefault(cQ());let n=class extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[s?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};return MS.default=n,MS}var k6;function EF(){if(k6)return LS;k6=1,Object.defineProperty(LS,"__esModule",{value:!0});const e=pb.__importDefault(uQ()),n=new RegExp("[,()]");let r=class extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&n.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}};return LS.default=r,LS}var O6;function dQ(){if(O6)return DS;O6=1,Object.defineProperty(DS,"__esModule",{value:!0});const e=pb.__importDefault(EF());let n=class{constructor(s,{headers:i={},schema:o,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(s,i){const{head:o=!1,count:l}=i??{},c=o?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(f.length>0){const m=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};return DS.default=n,DS}var R6;function _Pe(){if(R6)return PS;R6=1,Object.defineProperty(PS,"__esModule",{value:!0});const t=pb,e=t.__importDefault(dQ()),n=t.__importDefault(EF());let r=class hQ{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new hQ(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let f;const m=new URL(`${this.url}/rpc/${i}`);let p;l||c?(f=l?"HEAD":"GET",Object.entries(o).filter(([_,b])=>b!==void 0).map(([_,b])=>[_,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([_,b])=>{m.searchParams.append(_,b)})):(f="POST",p=o);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new n.default({method:f,url:m,headers:y,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};return PS.default=r,PS}Object.defineProperty(Na,"__esModule",{value:!0});Na.PostgrestError=Na.PostgrestBuilder=Na.PostgrestTransformBuilder=Na.PostgrestFilterBuilder=Na.PostgrestQueryBuilder=Na.PostgrestClient=void 0;const gb=pb,fQ=gb.__importDefault(_Pe());Na.PostgrestClient=fQ.default;const mQ=gb.__importDefault(dQ());Na.PostgrestQueryBuilder=mQ.default;const pQ=gb.__importDefault(EF());Na.PostgrestFilterBuilder=pQ.default;const gQ=gb.__importDefault(uQ());Na.PostgrestTransformBuilder=gQ.default;const yQ=gb.__importDefault(cQ());Na.PostgrestBuilder=yQ.default;const vQ=gb.__importDefault(lQ());Na.PostgrestError=vQ.default;Na.default={PostgrestClient:fQ.default,PostgrestQueryBuilder:mQ.default,PostgrestFilterBuilder:pQ.default,PostgrestTransformBuilder:gQ.default,PostgrestBuilder:yQ.default,PostgrestError:vQ.default};class bQ{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const wPe="2.87.1",xPe=`realtime-js/${wPe}`,_Q="1.0.0",EPe="2.0.0",P6=_Q,KD=1e4,SPe=1e3,jPe=100;var Km;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Km||(Km={}));var li;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(li||(li={}));var Uc;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Uc||(Uc={}));var JD;(function(t){t.websocket="websocket"})(JD||(JD={}));var Jm;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Jm||(Jm={}));class TPe{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,n,r){var s,i;const o=e.topic,l=(s=e.ref)!==null&&s!==void 0?s:"",c=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+m);let y=new DataView(p),_=0;y.setUint8(_++,this.KINDS.userBroadcastPush),y.setUint8(_++,c.length),y.setUint8(_++,l.length),y.setUint8(_++,o.length),y.setUint8(_++,u.length),y.setUint8(_++,f.length),y.setUint8(_++,n),Array.from(c,x=>y.setUint8(_++,x.charCodeAt(0))),Array.from(l,x=>y.setUint8(_++,x.charCodeAt(0))),Array.from(o,x=>y.setUint8(_++,x.charCodeAt(0))),Array.from(u,x=>y.setUint8(_++,x.charCodeAt(0))),Array.from(f,x=>y.setUint8(_++,x.charCodeAt(0)));var b=new Uint8Array(p.byteLength+r.byteLength);return b.set(new Uint8Array(p),0),b.set(new Uint8Array(r),p.byteLength),b.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,i,o,l,c]=r;return n({join_ref:s,ref:i,topic:o,event:l,payload:c})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodeUserBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(e.slice(c,c+s));c=c+s;const d=r.decode(e.slice(c,c+i));c=c+i;const f=r.decode(e.slice(c,c+o));c=c+o;const m=e.slice(c,e.byteLength),p=l===this.JSON_ENCODING?JSON.parse(r.decode(m)):m,y={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}let wQ=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Gr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Gr||(Gr={}));const D6=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=CPe(o,t,e,s),i),{}):{}},CPe=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?xQ(i,o):QD(o)},xQ=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return kPe(e,n)}switch(t){case Gr.bool:return APe(e);case Gr.float4:case Gr.float8:case Gr.int2:case Gr.int4:case Gr.int8:case Gr.numeric:case Gr.oid:return NPe(e);case Gr.json:case Gr.jsonb:return IPe(e);case Gr.timestamp:return OPe(e);case Gr.abstime:case Gr.date:case Gr.daterange:case Gr.int4range:case Gr.int8range:case Gr.money:case Gr.reltime:case Gr.text:case Gr.time:case Gr.timestamptz:case Gr.timetz:case Gr.tsrange:case Gr.tstzrange:return QD(e);default:return QD(e)}},QD=t=>t,APe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},NPe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},IPe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},kPe=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>xQ(e,l))}return t},OPe=t=>typeof t=="string"?t.replace(" ","T"):t,EQ=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class YO{constructor(e,n,r={},s=KD){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ZD;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ZD||(ZD={}));let SQ=class Gj{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gj.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Gj.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Gj.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const m=d.map(b=>b.presence_ref),p=f.map(b=>b.presence_ref),y=d.filter(b=>p.indexOf(b.presence_ref)<0),_=f.filter(b=>m.indexOf(b.presence_ref)<0);y.length>0&&(l[u]=y),_.length>0&&(c[u]=_)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const f=e[l].map(p=>p.presence_ref),m=d.filter(p=>f.indexOf(p.presence_ref)<0);e[l].unshift(...m)}r(l,d,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var XD;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(XD||(XD={}));var sv;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(sv||(sv={}));var Cu;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Cu||(Cu={}));const RPe=li;let jQ=class q_{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=li.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new YO(this,Uc.join,this.params,this.timeout),this.rejoinTimer=new wQ(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=li.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=li.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=li.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=li.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=li.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Uc.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new SQ(this),this.broadcastEndpointURL=EQ(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==li.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[sv.PRESENCE]&&this.bindings[sv.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(Cu.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(Cu.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){e==null||e(Cu.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,b=(y=_==null?void 0:_.length)!==null&&y!==void 0?y:0,x=[];for(let w=0;w<b;w++){const E=_[w],{filter:{event:T,schema:N,table:P,filter:D}}=E,F=p&&p[w];if(F&&F.event===T&&q_.isFilterValueEqual(F.schema,N)&&q_.isFilterValueEqual(F.table,P)&&q_.isFilterValueEqual(F.filter,D))x.push(Object.assign(Object.assign({},E),{id:F.id}));else{this.unsubscribe(),this.state=li.errored,e==null||e(Cu.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Cu.SUBSCRIBED);return}}).receive("error",p=>{this.state=li.errored,e==null||e(Cu.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Cu.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===li.joined&&e===sv.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=li.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Uc.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new YO(this,Uc.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=li.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new YO(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>jPe){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Uc;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var y,_,b;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(_=p.filter)===null||_===void 0?void 0:_.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(m,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var y,_,b,x,w,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const T=p.id,N=(y=p.filter)===null||y===void 0?void 0:y.event;return T&&((_=n.ids)===null||_===void 0?void 0:_.includes(T))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const T=(w=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return T==="*"||T===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof m=="object"&&"ids"in m){const y=m.data,{schema:_,table:b,commit_timestamp:x,type:w,errors:E}=y;m=Object.assign(Object.assign({},{schema:_,table:b,commit_timestamp:x,eventType:w,new:{},old:{},errors:E}),this._getPayloadRecords(y))}p.callback(m,r)})}_isClosed(){return this.state===li.closed}_isJoined(){return this.state===li.joined}_isJoining(){return this.state===li.joining}_isLeaving(){return this.state===li.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&q_.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Uc.close,{},e)}_onError(e){this._on(Uc.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=li.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=D6(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=D6(e.columns,e.old_record)),n}};const KO=()=>{},VS={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},PPe=[1e3,2e3,5e3,1e4],DPe=1e4,LPe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let MPe=class{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=KD,this.transport=null,this.heartbeatIntervalMs=VS.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=KO,this.ref=0,this.reconnectTimer=null,this.vsn=P6,this.logger=KO,this.conn=null,this.sendBuffer=[],this.serializer=new TPe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${JD.websocket}`,this.httpEndpoint=EQ(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bQ.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Km.connecting:return Jm.Connecting;case Km.open:return Jm.Open;case Km.closing:return Jm.Closing;default:return Jm.Closed}}isConnected(){return this.connectionState()===Jm.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new jQ(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(SPe,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},VS.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Km.open||this.conn.readyState===Km.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Uc.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([LPe],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:xPe};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Uc.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new wQ(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},VS.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,l,c,u,d,f,m,p;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:KD,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:VS.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:KO,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:P6,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:y=>PPe[y-1]||DPe,this.vsn){case _Q:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(y,_)=>_(JSON.stringify(y)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(y,_)=>_(JSON.parse(y));break;case EPe:this.encode=(m=e==null?void 0:e.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const $Pe=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:RPe,get REALTIME_LISTEN_TYPES(){return sv},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return XD},get REALTIME_PRESENCE_LISTEN_EVENTS(){return ZD},get REALTIME_SUBSCRIBE_STATES(){return Cu},RealtimeChannel:jQ,RealtimeClient:MPe,RealtimePresence:SQ,WebSocketFactory:bQ},Symbol.toStringTag,{value:"Module"})),TQ=Qp($Pe);function $t(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})}class T0 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function us(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class CQ extends T0{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ST extends T0{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const SF=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),FPe=()=>Response,eL=t=>{if(Array.isArray(t))return t.map(n=>eL(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=eL(r)}),e},VPe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},UPe=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),JO=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},BPe=(t,e,n)=>$t(void 0,void 0,void 0,function*(){const r=yield FPe();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new CQ(JO(s),i,o))}).catch(s=>{e(new ST(JO(s),s))}):e(new ST(JO(t),t))}),zPe=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(VPe(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function C0(t,e,n,r,s,i){return $t(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,zPe(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>BPe(c,l,r))})})}function vx(t,e,n,r){return $t(this,void 0,void 0,function*(){return C0(t,"GET",e,n,r)})}function Fc(t,e,n,r,s){return $t(this,void 0,void 0,function*(){return C0(t,"POST",e,r,s,n)})}function tL(t,e,n,r,s){return $t(this,void 0,void 0,function*(){return C0(t,"PUT",e,r,s,n)})}function WPe(t,e,n,r){return $t(this,void 0,void 0,function*(){return C0(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function jF(t,e,n,r,s){return $t(this,void 0,void 0,function*(){return C0(t,"DELETE",e,r,s,n)})}class GPe{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return $t(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(us(e))return{data:null,error:e};throw e}})}}var AQ;class HPe{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[AQ]="BlobDownloadBuilder",this.promise=null}asStream(){return new GPe(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return $t(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(us(e))return{data:null,error:e};throw e}})}}AQ=Symbol.toStringTag;const qPe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},L6={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class YPe{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=SF(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return $t(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},L6),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(e=="PUT"?tL:Fc)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(us(i))return{data:null,error:i};throw i}})}upload(e,n,r){return $t(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return $t(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:L6.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield tL(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(us(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return $t(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Fc(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new T0("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(us(r))return{data:null,error:r};throw r}})}update(e,n,r){return $t(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return $t(this,void 0,void 0,function*(){try{return{data:yield Fc(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(us(s))return{data:null,error:s};throw s}})}copy(e,n,r){return $t(this,void 0,void 0,function*(){try{return{data:{path:(yield Fc(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(us(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return $t(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Fc(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(us(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return $t(this,void 0,void 0,function*(){try{const s=yield Fc(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(us(s))return{data:null,error:s};throw s}})}download(e,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(e),c=()=>vx(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new HPe(c,this.shouldThrowOnError)}info(e){return $t(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield vx(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:eL(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(us(r))return{data:null,error:r};throw r}})}exists(e){return $t(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield WPe(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(us(r)&&r instanceof ST){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return $t(this,void 0,void 0,function*(){try{return{data:yield jF(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(us(n))return{data:null,error:n};throw n}})}list(e,n,r){return $t(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},qPe),n),{prefix:e||""});return{data:yield Fc(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(us(s))return{data:null,error:s};throw s}})}listV2(e,n){return $t(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Fc(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(us(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const NQ="2.87.1",IQ={"X-Client-Info":`storage-js/${NQ}`};class KPe{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},IQ),n),this.fetch=SF(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return $t(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield vx(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(us(n))return{data:null,error:n};throw n}})}getBucket(e){return $t(this,void 0,void 0,function*(){try{return{data:yield vx(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(us(n))return{data:null,error:n};throw n}})}createBucket(e){return $t(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Fc(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(us(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return $t(this,void 0,void 0,function*(){try{return{data:yield tL(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(us(r))return{data:null,error:r};throw r}})}emptyBucket(e){return $t(this,void 0,void 0,function*(){try{return{data:yield Fc(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(us(n))return{data:null,error:n};throw n}})}deleteBucket(e){return $t(this,void 0,void 0,function*(){try{return{data:yield jF(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(us(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var bx=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function JPe(t,e,n){const r=new URL(e,t);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function QPe(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function ZPe(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:o}){const l=JPe(t.baseUrl,r,s),c=await QPe(t.auth),u=await e(l,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),m=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?m:void 0,y=p==null?void 0:p.error;throw new bx((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:p})}return{status:u.status,headers:u.headers,data:m}}}}function US(t){return t.join("")}var XPe=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:US(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${US(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${US(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${US(t.namespace)}`}),!0}catch(e){if(e instanceof bx&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof bx&&n.status===409)return;throw n}}};function sy(t){return t.join("")}var e2e=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${sy(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${sy(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${sy(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${sy(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${sy(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${sy(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof bx&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof bx&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},t2e=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=ZPe({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new XPe(this.client,e),this.tableOps=new e2e(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class kQ{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},IQ),n),this.fetch=SF(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return $t(this,void 0,void 0,function*(){try{return{data:yield Fc(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(us(n))return{data:null,error:n};throw n}})}listBuckets(e){return $t(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield vx(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(us(n))return{data:null,error:n};throw n}})}deleteBucket(e){return $t(this,void 0,void 0,function*(){try{return{data:yield jF(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(us(n))return{data:null,error:n};throw n}})}from(e){if(!UPe(e))throw new T0("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new t2e({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>$t(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const l=i[o];return typeof l!="function"?l:(...c)=>$t(this,void 0,void 0,function*(){try{return{data:yield l.apply(i,c),error:null}}catch(u){if(r)throw u;return{data:null,error:u}}})}})}}const TF={"X-Client-Info":`storage-js/${NQ}`,"Content-Type":"application/json"};class CF extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ao(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Hj extends CF{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class OQ extends CF{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var nL;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(nL||(nL={}));const RA=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),n2e=()=>Response,RQ=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},r2e=t=>Array.from(new Float32Array(t)),s2e=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},M6=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),i2e=(t,e,n)=>$t(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new Hj(M6(o),s,l))}).catch(()=>{const o=s+"",l=i.statusText||`HTTP ${s} error`;e(new Hj(l,s,o))});else{const o=s+"",l=i.statusText||`HTTP ${s} error`;e(new Hj(l,s,o))}}else e(new OQ(M6(t),t))}),a2e=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(RQ(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n)):s};function o2e(t,e,n,r,s,i){return $t(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,a2e(e,r,s,i)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>i2e(c,l,r))})})}function gl(t,e,n,r,s){return $t(this,void 0,void 0,function*(){return o2e(t,"POST",e,r,s,n)})}class PQ{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},TF),n),this.fetch=RA(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return $t(this,void 0,void 0,function*(){try{return{data:(yield gl(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ao(n))return{data:null,error:n};throw n}})}getIndex(e,n){return $t(this,void 0,void 0,function*(){try{return{data:yield gl(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ao(r))return{data:null,error:r};throw r}})}listIndexes(e){return $t(this,void 0,void 0,function*(){try{return{data:yield gl(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ao(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return $t(this,void 0,void 0,function*(){try{return{data:(yield gl(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ao(r))return{data:null,error:r};throw r}})}}class DQ{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},TF),n),this.fetch=RA(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return $t(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield gl(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ao(n))return{data:null,error:n};throw n}})}getVectors(e){return $t(this,void 0,void 0,function*(){try{return{data:yield gl(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ao(n))return{data:null,error:n};throw n}})}listVectors(e){return $t(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield gl(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ao(n))return{data:null,error:n};throw n}})}queryVectors(e){return $t(this,void 0,void 0,function*(){try{return{data:yield gl(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ao(n))return{data:null,error:n};throw n}})}deleteVectors(e){return $t(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield gl(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ao(n))return{data:null,error:n};throw n}})}}class LQ{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},TF),n),this.fetch=RA(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return $t(this,void 0,void 0,function*(){try{return{data:(yield gl(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ao(n))return{data:null,error:n};throw n}})}getBucket(e){return $t(this,void 0,void 0,function*(){try{return{data:yield gl(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ao(n))return{data:null,error:n};throw n}})}listBuckets(){return $t(this,arguments,void 0,function*(e={}){try{return{data:yield gl(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ao(n))return{data:null,error:n};throw n}})}deleteBucket(e){return $t(this,void 0,void 0,function*(){try{return{data:(yield gl(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ao(n))return{data:null,error:n};throw n}})}}class MQ extends LQ{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new $Q(this.url,this.headers,e,this.fetch)}createBucket(e){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return $t(this,void 0,void 0,function*(){return n.createBucket.call(this,e)})}getBucket(e){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return $t(this,void 0,void 0,function*(){return n.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return $t(this,arguments,void 0,function*(n={}){return e.listBuckets.call(this,n)})}deleteBucket(e){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return $t(this,void 0,void 0,function*(){return n.deleteBucket.call(this,e)})}}class $Q extends PQ{constructor(e,n,r,s){super(e,n,s),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return $t(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return $t(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return $t(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return $t(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new FQ(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class FQ extends DQ{constructor(e,n,r,s,i){super(e,n,i),this.vectorBucketName=r,this.indexName=s}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return $t(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return $t(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return $t(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return $t(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return $t(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class l2e extends KPe{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new YPe(this.url,this.headers,e,this.fetch)}get vectors(){return new MQ(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new kQ(this.url+"/iceberg",this.headers,this.fetch)}}const c2e=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:kQ,StorageApiError:CQ,StorageClient:l2e,StorageError:T0,StorageUnknownError:ST,StorageVectorsApiError:Hj,StorageVectorsClient:MQ,StorageVectorsError:CF,get StorageVectorsErrorCode(){return nL},StorageVectorsUnknownError:OQ,VectorBucketApi:LQ,VectorBucketScope:$Q,VectorDataApi:DQ,VectorIndexApi:PQ,VectorIndexScope:FQ,isPlainObject:RQ,isStorageError:us,isStorageVectorsError:Ao,normalizeToFloat32:r2e,resolveFetch:RA,resolveResponse:n2e,validateVectorDimension:s2e},Symbol.toStringTag,{value:"Module"})),u2e=Qp(c2e);var VQ={},PA={};Object.defineProperty(PA,"__esModule",{value:!0});PA.version=void 0;PA.version="2.87.1";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=PA;let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(VQ);var UQ={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=s=>s?(...i)=>s(...i):(...i)=>fetch(...i);t.resolveFetch=e;const n=()=>Headers;t.resolveHeadersConstructor=n;const r=(s,i,o)=>{const l=(0,t.resolveFetch)(o),c=(0,t.resolveHeadersConstructor)();return async(u,d)=>{var f;const m=(f=await i())!==null&&f!==void 0?f:s;let p=new c(d==null?void 0:d.headers);return p.has("apikey")||p.set("apikey",s),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),l(u,Object.assign(Object.assign({},d),{headers:p}))}};t.fetchWithAuth=r})(UQ);var Jf={};Object.defineProperty(Jf,"__esModule",{value:!0});Jf.isBrowser=void 0;Jf.uuid=d2e;Jf.ensureTrailingSlash=BQ;Jf.applySettingDefaults=f2e;Jf.validateSupabaseUrl=m2e;function d2e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t=="x"?e:e&3|8;return n.toString(16)})}function BQ(t){return t.endsWith("/")?t:t+"/"}const h2e=()=>typeof window<"u";Jf.isBrowser=h2e;function f2e(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:c,auth:u,realtime:d,global:f}=e,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function m2e(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(BQ(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var DA={};function LA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}const zQ="2.87.1",_y=30*1e3,rL=3,QO=rL*_y,p2e="http://localhost:9999",g2e="supabase.auth.token",y2e={"X-Client-Info":`gotrue-js/${zQ}`},sL="X-Supabase-Api-Version",WQ={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},v2e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,b2e=10*60*1e3;let $v=class extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function Vt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let GQ=class extends $v{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function HQ(t){return Vt(t)&&t.name==="AuthApiError"}let Kh=class extends $v{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}},ch=class extends $v{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}},wo=class extends ch{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function qQ(t){return Vt(t)&&t.name==="AuthSessionMissingError"}let Vm=class extends ch{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Y_=class extends ch{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},K_=class extends ch{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function YQ(t){return Vt(t)&&t.name==="AuthImplicitGrantRedirectError"}let iL=class extends ch{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},jT=class extends ch{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}};function qj(t){return Vt(t)&&t.name==="AuthRetryableFetchError"}let aL=class extends ch{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function _2e(t){return Vt(t)&&t.name==="AuthWeakPasswordError"}let TT=class extends ch{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const CT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$6=` 	
\r=`.split(""),w2e=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<$6.length;e+=1)t[$6[e].charCodeAt(0)]=-2;for(let e=0;e<CT.length;e+=1)t[CT[e].charCodeAt(0)]=e;return t})();function F6(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(CT[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(CT[r]),e.queuedBits-=6}}function KQ(t,e,n){const r=w2e[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function V6(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{S2e(o,r,n)};for(let o=0;o<t.length;o+=1)KQ(t.charCodeAt(o),s,i);return e.join("")}function x2e(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function E2e(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}x2e(r,e)}}function S2e(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function iv(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)KQ(t.charCodeAt(s),n,r);return new Uint8Array(e)}function j2e(t){const e=[];return E2e(t,n=>e.push(n)),new Uint8Array(e)}function op(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>F6(s,n,r)),F6(null,n,r),e.join("")}function T2e(t){return Math.round(Date.now()/1e3)+t}function C2e(){return Symbol("auth-callback")}const ra=()=>typeof window<"u"&&typeof document<"u",Nm={tested:!1,writable:!1},JQ=()=>{if(!ra())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Nm.tested)return Nm.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Nm.tested=!0,Nm.writable=!0}catch{Nm.tested=!0,Nm.writable=!1}return Nm.writable};function A2e(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const QQ=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),N2e=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",wy=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Im=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Xi=async(t,e)=>{await t.removeItem(e)};let ZQ=class XQ{constructor(){this.promise=new XQ.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};ZQ.promiseConstructor=Promise;function ZO(t){const e=t.split(".");if(e.length!==3)throw new TT("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!v2e.test(e[r]))throw new TT("JWT not in base64url format");return{header:JSON.parse(V6(e[0])),payload:JSON.parse(V6(e[1])),signature:iv(e[2]),raw:{header:e[0],payload:e[1]}}}async function I2e(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function k2e(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function O2e(t){return("0"+t.toString(16)).substr(-2)}function R2e(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,O2e).join("")}async function P2e(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function D2e(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await P2e(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function iy(t,e,n=!1){const r=R2e();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await wy(t,`${e}-code-verifier`,s);const i=await D2e(r);return[i,r===i?"plain":"s256"]}const L2e=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function M2e(t){const e=t.headers.get(sL);if(!e||!e.match(L2e))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function $2e(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function F2e(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const V2e=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ay(t){if(!V2e.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function XO(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function U2e(t,e){return new Proxy(t,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,s)}})}function U6(t){return JSON.parse(JSON.stringify(t))}const Um=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),B2e=[502,503,504];async function B6(t){var e;if(!N2e(t))throw new jT(Um(t),0);if(B2e.includes(t.status))throw new jT(Um(t),t.status);let n;try{n=await t.json()}catch(i){throw new Kh(Um(i),i)}let r;const s=M2e(t);if(s&&s.getTime()>=WQ["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new aL(Um(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new wo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new aL(Um(n),t.status,n.weak_password.reasons);throw new GQ(Um(n),t.status||500,r)}const z2e=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function fn(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[sL]||(i[sL]=WQ["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await W2e(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function W2e(t,e,n,r,s,i){const o=z2e(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new jT(Um(c),0)}if(l.ok||await B6(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await B6(c)}}function Lc(t){var e;let n=null;q2e(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=T2e(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function z6(t){const e=Lc(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Jh(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function G2e(t){return{data:t,error:null}}function H2e(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=LA(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function W6(t){return t}function q2e(t){return t.access_token&&t.refresh_token&&t.expires_in}const Yj=["global","local","others"];let AF=class{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=QQ(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Yj[0]){if(Yj.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yj.join(", ")}`);try{return await fn(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Vt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await fn(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Jh})}catch(r){if(Vt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=LA(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await fn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:H2e,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Vt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await fn(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Jh})}catch(n){if(Vt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await fn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:W6});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);u[`${b}Page`]=_}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Vt(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){ay(e);try{return await fn(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Jh})}catch(n){if(Vt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ay(e);try{return await fn(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Jh})}catch(r){if(Vt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){ay(e);try{return await fn(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Jh})}catch(r){if(Vt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ay(e.userId);try{const{data:n,error:r}=await fn(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Vt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ay(e.userId),ay(e.id);try{return{data:await fn(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Vt(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await fn(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:W6});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);u[`${b}Page`]=_}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Vt(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await fn(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Vt(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await fn(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Vt(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await fn(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Vt(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await fn(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Vt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await fn(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Vt(n))return{data:null,error:n};throw n}}};function G6(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Bm={debug:!!(globalThis&&JQ()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class NF extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let eZ=class extends NF{};class Y2e extends NF{}async function tZ(t,e,n){Bm.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Bm.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Bm.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Bm.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Bm.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new eZ(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Bm.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const H6={};async function K2e(t,e,n){var r;const s=(r=H6[t])!==null&&r!==void 0?r:Promise.resolve(),i=Promise.race([s.catch(()=>null),e>=0?new Promise((o,l)=>{setTimeout(()=>{l(new Y2e(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await n());return H6[t]=i.catch(async o=>{if(o&&o.isAcquireTimeout)return await s,null;throw o}),await i}function J2e(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function nZ(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Q2e(t){return parseInt(t,16)}function Z2e(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function X2e(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:m}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=nZ(t.address),y=d?`${d}://${r}`:r,_=t.statement?`${t.statement}
`:"",b=`${y} wants you to sign in with your Ethereum account:
${p}

${_}`;let x=`URI: ${f}
Version: ${m}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(x+=`
Expiration Time: ${s.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),c&&(x+=`
Request ID: ${c}`),u){let w=`
Resources:`;for(const E of u){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);w+=`
- ${E}`}x+=w}return`${b}
${x}`}class ui extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class AT extends ui{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function eDe({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ui({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ui({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ui({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ui({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ui({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ui({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ui({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ui({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(rZ(o)){if(i.rp.id!==o)return new ui({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ui({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ui({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ui({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ui({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function tDe({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ui({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ui({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(rZ(r)){if(n.rpId!==r)return new ui({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ui({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ui({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ui({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class nDe{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const rDe=new nDe;function sDe(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=LA(t,["challenge","user","excludeCredentials"]),i=iv(e).buffer,o=Object.assign(Object.assign({},n),{id:iv(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:iv(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function iDe(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=LA(t,["challenge","allowCredentials"]),s=iv(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:iv(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function aDe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:op(new Uint8Array(t.response.attestationObject)),clientDataJSON:op(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function oDe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:op(new Uint8Array(s.authenticatorData)),clientDataJSON:op(new Uint8Array(s.clientDataJSON)),signature:op(new Uint8Array(s.signature)),userHandle:s.userHandle?op(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function rZ(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function q6(){var t,e;return!!(ra()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function lDe(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new AT("Browser returned unexpected credential type",e)}:{data:null,error:new AT("Empty credential response",e)}}catch(e){return{data:null,error:eDe({error:e,options:t})}}}async function cDe(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new AT("Browser returned unexpected credential type",e)}:{data:null,error:new AT("Empty credential response",e)}}catch(e){return{data:null,error:tDe({error:e,options:t})}}}const uDe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},dDe={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function NT(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(e(o)){const l=r[i];e(l)?r[i]=NT(l,o):r[i]=NT(o)}else r[i]=o}return r}function hDe(t,e){return NT(uDe,t,e||{})}function fDe(t,e){return NT(dDe,t,e||{})}class mDe{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:l};const c=s??rDe.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=hDe(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await lDe({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=fDe(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await cDe(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return Vt(o)?{data:null,error:o}:{data:null,error:new Kh("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new $v("rpId is required for WebAuthn authentication")};try{if(!q6())return{data:null,error:new Kh("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(o){return Vt(o)?{data:null,error:o}:{data:null,error:new Kh("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new $v("rpId is required for WebAuthn registration")};try{if(!q6())return{data:null,error:new Kh("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Vt(o)?{data:null,error:o}:{data:null,error:new Kh("Unexpected error in register",o)}}}}J2e();const pDe={url:p2e,storageKey:g2e,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:y2e,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Y6(t,e,n){return await n()}const oy={};let IF=class oL{get jwks(){var e,n;return(n=(e=oy[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){oy[this.storageKey]=Object.assign(Object.assign({},oy[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=oy[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){oy[this.storageKey]=Object.assign(Object.assign({},oy[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},pDe),e);if(this.storageKey=i.storageKey,this.instanceID=(n=oL.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,oL.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&ra()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new AF({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=QQ(i.fetch),this.lock=i.lock||Y6,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&ra()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=tZ:this.lock=Y6,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new mDe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:JQ()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=G6(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=G6(this.memoryStorage)),ra()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${zQ}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(ra()&&(n=A2e(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),ra()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),YQ(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Vt(n)?this._returnResult({error:n}):this._returnResult({error:new Kh("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await fn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Lc}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Vt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:f,options:m}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await iy(this.storage,this.storageKey)),i=await fn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:y},xform:Lc})}else if("phone"in e){const{phone:d,password:f,options:m}=e;i=await fn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Lc})}else throw new Y_("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await Xi(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await Xi(this.storage,`${this.storageKey}-code-verifier`),Vt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await fn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:z6})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await fn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:z6})}else throw new Y_("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new Vm;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Vt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,o,l,c,u,d,f,m;let p,y;if("message"in e)p=e.message,y=e.signature;else{const{chain:_,wallet:b,statement:x,options:w}=e;let E;if(ra())if(typeof b=="object")E=b;else{const Y=window;if("ethereum"in Y&&typeof Y.ethereum=="object"&&"request"in Y.ethereum&&typeof Y.ethereum.request=="function")E=Y.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=b}const T=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),N=await E.request({method:"eth_requestAccounts"}).then(Y=>Y).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=nZ(N[0]);let D=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!D){const Y=await E.request({method:"eth_chainId"});D=Q2e(Y)}const F={domain:T.host,address:P,statement:x,uri:T.href,version:"1",chainId:D,nonce:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=X2e(F),y=await E.request({method:"personal_sign",params:[Z2e(p),P]})}try{const{data:_,error:b}=await fn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Lc});if(b)throw b;if(!_||!_.session||!_.user){const x=new Vm;return this._returnResult({data:{user:null,session:null},error:x})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:b})}catch(_){if(Vt(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(e){var n,r,s,i,o,l,c,u,d,f,m,p;let y,_;if("message"in e)y=e.message,_=e.signature;else{const{chain:b,wallet:x,statement:w,options:E}=e;let T;if(ra())if(typeof x=="object")T=x;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))T=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=x}const N=new URL((n=E==null?void 0:E.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const P=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),w?{statement:w}:null));let D;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")D=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)D=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)y=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),_=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${N.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(r=E==null?void 0:E.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=E==null?void 0:E.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((o=E==null?void 0:E.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((l=E==null?void 0:E.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((c=E==null?void 0:E.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((u=E==null?void 0:E.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((f=(d=E==null?void 0:E.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...E.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const P=await T.signMessage(new TextEncoder().encode(y),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=P}}try{const{data:b,error:x}=await fn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:op(_)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Lc});if(x)throw x;if(!b||!b.session||!b.user){const w=new Vm;return this._returnResult({data:{user:null,session:null},error:w})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:x})}catch(b){if(Vt(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const n=await Im(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await fn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Lc});if(await Xi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Vm;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await Xi(this.storage,`${this.storageKey}-code-verifier`),Vt(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await fn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Lc}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Vm;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(Vt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await iy(this.storage,this.storageKey));const{error:f}=await fn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await fn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Y_("You must provide either an email or phone number.")}catch(l){if(await Xi(this.storage,`${this.storageKey}-code-verifier`),Vt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await fn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Lc});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Vt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,r,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await iy(this.storage,this.storageKey));const u=await fn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:G2e});return!((i=u.data)===null||i===void 0)&&i.url&&ra()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Xi(this.storage,`${this.storageKey}-code-verifier`),Vt(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new wo;const{error:s}=await fn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(Vt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await fn(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await fn(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Y_("You must provide either an email or phone number and a type")}catch(n){if(Vt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Im(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<QO:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Im(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=XO()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=U2e(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await fn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Jh}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wo}:await fn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Jh})})}catch(n){if(Vt(n))return qQ(n)&&(await this._removeSession(),await Xi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new wo;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await iy(this.storage,this.storageKey));const{data:u,error:d}=await fn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Jh});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await Xi(this.storage,`${this.storageKey}-code-verifier`),Vt(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new wo;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=ZO(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(Vt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new wo;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Vt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!ra())throw new K_("No browser detected.");if(e.error||e.error_description||e.error_code)throw new K_(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new iL("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new K_("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new iL("No code detected.");const{data:w,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!o||!u)throw new K_("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const p=m-d;p*1e3<=_y&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const y=m-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,m,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,m,d);const{data:_,error:b}=await this._getUser(i);if(b)throw b;const x={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:e.type},error:null})}catch(r){if(Vt(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Im(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(HQ(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await Xi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=C2e(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await iy(this.storage,this.storageKey,!0));try{return await fn(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await Xi(this.storage,`${this.storageKey}-code-verifier`),Vt(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Vt(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:m}=i;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await fn(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ra()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Vt(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=e,f=await fn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Lc}),{data:m,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new Vm}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:p}))}catch(s){if(await Xi(this.storage,`${this.storageKey}-code-verifier`),Vt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await fn(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Vt(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await k2e(async s=>(s>0&&await I2e(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await fn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Lc})),(s,i)=>{const o=200*Math.pow(2,s);return i&&qj(i)&&Date.now()+o-r<_y})}catch(r){if(this._debug(n,"error",r),Vt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ra()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Im(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Im(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await wy(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:XO()}else if(s&&!s.user&&!s.user){const o=await Im(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Xi(this.storage,this.storageKey+"-user"),await wy(this.storage,this.storageKey,s)):s.user=XO()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<QO;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${QO}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),qj(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new wo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ZQ;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new wo;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Vt(i)){const o={data:null,error:i};return qj(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Xi(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await wy(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=U6(s);await wy(this.storage,this.storageKey,i)}else{const s=U6(n);await wy(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Xi(this.storage,this.storageKey),await Xi(this.storage,this.storageKey+"-code-verifier"),await Xi(this.storage,this.storageKey+"-user"),this.userStorage&&await Xi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ra()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_y);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/_y);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${_y}ms, refresh threshold is ${rL} ticks`),s<=rL&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof NF)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ra()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await iy(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await fn(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Vt(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await fn(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(Vt(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?aDe(e.webauthn.credential_response):oDe(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await fn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(n){if(Vt(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await fn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:sDe(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:iDe(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Vt(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=ZO(r.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await fn(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new wo})})}catch(n){if(Vt(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new wo});const o=await fn(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&ra()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Vt(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new wo});const o=await fn(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&ra()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Vt(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await fn(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new wo})})}catch(e){if(Vt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await fn(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new wo})})}catch(n){if(Vt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+b2e>s)return r;const{data:i,error:o}=await fn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:y}=await this.getSession();if(y||!p.session)return this._returnResult({data:null,error:y});r=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=ZO(r);n!=null&&n.allowExpired||$2e(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const d=F2e(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,j2e(`${l}.${c}`)))throw new TT("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(Vt(r))return this._returnResult({data:null,error:r});throw r}}};IF.nextInstanceID={};const gDe=AF,yDe=IF,vDe=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:gDe,AuthApiError:GQ,AuthClient:yDe,AuthError:$v,AuthImplicitGrantRedirectError:K_,AuthInvalidCredentialsError:Y_,AuthInvalidJwtError:TT,AuthInvalidTokenResponseError:Vm,AuthPKCEGrantCodeExchangeError:iL,AuthRetryableFetchError:jT,AuthSessionMissingError:wo,AuthUnknownError:Kh,AuthWeakPasswordError:aL,CustomAuthError:ch,GoTrueAdminApi:AF,GoTrueClient:IF,NavigatorLockAcquireTimeoutError:eZ,SIGN_OUT_SCOPES:Yj,isAuthApiError:HQ,isAuthError:Vt,isAuthImplicitGrantRedirectError:YQ,isAuthRetryableFetchError:qj,isAuthSessionMissingError:qQ,isAuthWeakPasswordError:_2e,lockInternals:Bm,navigatorLock:tZ,processLock:K2e},Symbol.toStringTag,{value:"Module"})),sZ=Qp(vDe);Object.defineProperty(DA,"__esModule",{value:!0});DA.SupabaseAuthClient=void 0;const bDe=sZ;class _De extends bDe.AuthClient{constructor(e){super(e)}}DA.SupabaseAuthClient=_De;Object.defineProperty(_T,"__esModule",{value:!0});const wDe=PJ,xDe=Na,EDe=TQ,SDe=u2e,BS=VQ,jDe=UQ,K6=Jf,TDe=DA;let CDe=class{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const l=(0,K6.validateSupabaseUrl)(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:BS.DEFAULT_DB_OPTIONS,realtime:BS.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},BS.DEFAULT_AUTH_OPTIONS),{storageKey:c}),global:BS.DEFAULT_GLOBAL_OPTIONS},d=(0,K6.applySettingDefaults)(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=(0,jDe.fetchWithAuth)(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new xDe.PostgrestClient(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new SDe.StorageClient(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new wDe.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u,throwOnError:d},f,m){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new TDe.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),f),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:c,debug:u,throwOnError:d,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new EDe.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};_T.default=CDe;(function(t){var e=fl&&fl.__createBinding||(Object.create?function(d,f,m,p){p===void 0&&(p=m);var y=Object.getOwnPropertyDescriptor(f,m);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[m]}}),Object.defineProperty(d,p,y)}:function(d,f,m,p){p===void 0&&(p=m),d[p]=f[m]}),n=fl&&fl.__exportStar||function(d,f){for(var m in d)m!=="default"&&!Object.prototype.hasOwnProperty.call(f,m)&&e(f,d,m)},r=fl&&fl.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const s=r(_T);n(sZ,t);var i=Na;Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return i.PostgrestError}});var o=PJ;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),n(TQ,t);var l=_T;Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return r(l).default}});const c=(d,f,m)=>new s.default(d,f,m);t.createClient=c;function u(){if(typeof window<"u"||typeof process>"u")return!1;const d=process.version;if(d==null)return!1;const f=d.match(/^v(\d+)\./);return f?parseInt(f[1],10)<=18:!1}u()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(wF);const iZ=Ho(wF),ADe=PH({__proto__:null,default:iZ},[wF]),{PostgrestError:p_t,FunctionsHttpError:g_t,FunctionsFetchError:y_t,FunctionsRelayError:v_t,FunctionsError:b_t,FunctionRegion:__t,SupabaseClient:w_t,createClient:NDe,GoTrueAdminApi:x_t,GoTrueClient:E_t,AuthAdminApi:S_t,AuthClient:j_t,navigatorLock:T_t,NavigatorLockAcquireTimeoutError:C_t,lockInternals:A_t,processLock:N_t,SIGN_OUT_SCOPES:I_t,AuthError:k_t,AuthApiError:O_t,AuthUnknownError:R_t,CustomAuthError:P_t,AuthSessionMissingError:D_t,AuthInvalidTokenResponseError:L_t,AuthInvalidCredentialsError:M_t,AuthImplicitGrantRedirectError:$_t,AuthPKCEGrantCodeExchangeError:F_t,AuthRetryableFetchError:V_t,AuthWeakPasswordError:U_t,AuthInvalidJwtError:B_t,isAuthError:z_t,isAuthApiError:W_t,isAuthSessionMissingError:G_t,isAuthImplicitGrantRedirectError:H_t,isAuthRetryableFetchError:q_t,isAuthWeakPasswordError:Y_t,RealtimePresence:K_t,RealtimeChannel:J_t,RealtimeClient:Q_t,REALTIME_LISTEN_TYPES:Z_t,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:X_t,REALTIME_PRESENCE_LISTEN_EVENTS:ewt,REALTIME_SUBSCRIBE_STATES:twt,REALTIME_CHANNEL_STATES:nwt}=iZ||ADe,IDe="https://hcvdgqkhrjkdilqeovkp.supabase.co",kDe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhjdmRncWtocmprZGlscWVvdmtwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxNzkzMDEsImV4cCI6MjA4MDc1NTMwMX0.e5Oeq-1rAgGqIUWp032mESHUADlOk4gtpBmR3-x0Wk4",je=NDe(IDe,kDe),MA=async(t,e=null)=>{try{const{data:n,error:r}=await je.rpc("generate_next_code",{p_type:t,p_subtype:e});if(r)throw r;return n}catch{return Math.floor(1e5+Math.random()*9e5)}},Si=async t=>{const{data:e}=await je.from("accounting_moein").select("id").eq("code",t).maybeSingle();return e?e.id:null},ODe=async t=>{const{data:e}=await je.from("accounting_tafsili").select("id").eq("ref_id",t).maybeSingle();return e?e.id:null},kF=async(t,e)=>{const{data:n,error:r}=await je.from("financial_documents").insert({doc_date:t.doc_date,doc_type:t.doc_type||"system",status:"confirmed",manual_no:t.manual_no||"",description:t.description,reference_id:t.reference_id,reference_type:t.reference_type}).select().single();if(r)throw r;const s=e.map(o=>({doc_id:n.id,moein_id:o.moein_id,tafsili_id:o.tafsili_id,description:o.description,bed:o.bed,bes:o.bes})),{error:i}=await je.from("financial_entries").insert(s);if(i)throw await je.from("financial_documents").delete().eq("id",n.id),i;return n},aZ=async()=>{const{data:t,error:e}=await je.from("base_banks").select("*").order("id",{ascending:!0});if(e)throw e;return t},yb=async()=>{const{data:t,error:e}=await je.from("treasury_banks").select("*, accounting_tafsili(id, code, title)").order("id",{ascending:!1});if(e)throw e;return t},RDe=async t=>{const e=`${t.bank_name} - ${t.account_no}`,n=await MA("tafsili","bank_account"),{data:r,error:s}=await je.from("accounting_tafsili").insert({title:e,code:n,tafsili_type:"bank_account",ref_id:-1,is_active:!0}).select().single();if(s)throw s;const{data:i,error:o}=await je.from("treasury_banks").insert({...t,tafsili_id:r.id}).select().single();if(o)throw await je.from("accounting_tafsili").delete().eq("id",r.id),o;return await je.from("accounting_tafsili").update({ref_id:i.id}).eq("id",r.id),i},PDe=async(t,e)=>{const{data:n,error:r}=await je.from("treasury_banks").update({bank_name:e.bank_name,branch_name:e.branch_name,account_no:e.account_no,card_no:e.card_no,sheba_no:e.sheba_no}).eq("id",t).select().single();if(r)throw r;if(n.tafsili_id){const s=`${n.bank_name} - ${n.account_no}`;await je.from("accounting_tafsili").update({title:s}).eq("id",n.tafsili_id)}return n},DDe=async t=>{const{error:e}=await je.from("treasury_banks").delete().eq("id",t);if(e)throw e},A0=async()=>{const{data:t,error:e}=await je.from("treasury_cashes").select("*, accounting_tafsili(id, code, title)").order("id",{ascending:!1});if(e)throw e;return t},LDe=async t=>{const e=await MA("tafsili","cash"),{data:n,error:r}=await je.from("accounting_tafsili").insert({title:t.title,code:e,tafsili_type:"cash",ref_id:-1,is_active:!0}).select().single();if(r)throw r;const{data:s,error:i}=await je.from("treasury_cashes").insert({...t,tafsili_id:n.id}).select().single();if(i)throw await je.from("accounting_tafsili").delete().eq("id",n.id),i;return await je.from("accounting_tafsili").update({ref_id:s.id}).eq("id",n.id),s},MDe=async(t,e)=>{const{data:n,error:r}=await je.from("treasury_cashes").update({title:e.title,keeper_name:e.keeper_name}).eq("id",t).select().single();if(r)throw r;return n.tafsili_id&&await je.from("accounting_tafsili").update({title:e.title}).eq("id",n.tafsili_id),n},$De=async()=>{const{data:t,error:e}=await je.from("treasury_checkbooks").select("*, treasury_banks(bank_name, account_no)").order("id",{ascending:!1});if(e)throw e;return t},FDe=async t=>{const{data:e,error:n}=await je.from("treasury_checkbooks").insert(t).select().single();if(n)throw n;return e},VDe=async()=>{const{data:t,error:e}=await je.from("treasury_checkbooks").select("id, bank_id, serial_start, serial_end, current_serial, status, treasury_banks (id, bank_name, account_no, branch_name)").eq("status","active").order("id",{ascending:!1});if(e)throw e;return t},UDe=async()=>{const{data:t,error:e}=await je.from("treasury_checks").select("*, owner:accounting_tafsili!owner_id(title)").eq("type","receive").eq("status","pending");if(e)throw e;return t},oZ=async()=>{const{data:t,error:e}=await je.from("treasury_pos").select("*, treasury_banks(bank_name, account_no), accounting_tafsili(id, code, title)").order("id",{ascending:!1});if(e)throw e;return t},BDe=async t=>{const e=await MA("tafsili","bank_account"),{data:n,error:r}=await je.from("accounting_tafsili").insert({title:t.title,code:e,tafsili_type:"bank_account",ref_id:4,is_active:!0}).select().single();if(r)throw r;const{data:s,error:i}=await je.from("treasury_pos").insert({...t,tafsili_id:n.id}).select().single();if(i)throw await je.from("accounting_tafsili").delete().eq("id",n.id),i;return s},$A=async()=>{const{data:t,error:e}=await je.from("accounting_tafsili").select("id, code, title, tafsili_type").not("tafsili_type","in",'("bank_account","cash")').eq("is_active",!0);if(e)throw e;return t},zDe=async t=>{const e=await Si("10101"),n=await Si("10103"),r=await Si("10104"),s=await Si("10302"),i=await Si("30102"),o=await Si("10301"),l=await Si("80205");if(!e||!n||!o)throw new Error("    .");let c=[];const u=t.type==="receive";let d=0;const f=await MA("treasury",u?"receive":"payment");for(const m of t.items){const p=Number(m.amount);if(p<=0)continue;d+=p;const y=Number(m.fee)||0;let _,b,x="";if(m.method==="cash"){_=e;const{data:w}=await je.from("treasury_cashes").select("tafsili_id").eq("id",m.ref_id).single();b=w==null?void 0:w.tafsili_id,x=" ()"}else if(m.method==="bank_transfer"){_=n;const{data:w}=await je.from("treasury_banks").select("tafsili_id").eq("id",m.ref_id).single();b=w==null?void 0:w.tafsili_id,x=`/ - ${m.tracking_no||""}`,y>0&&l&&(c.push({moein_id:l,description:" ",bed:y,bes:0}),c.push({moein_id:n,tafsili_id:b,description:" ",bed:0,bes:y}))}else if(m.method==="pos"){_=r||n;const{data:w}=await je.from("treasury_pos").select("tafsili_id").eq("id",m.ref_id).single();b=w==null?void 0:w.tafsili_id,x=` - ${m.tracking_no||""}`}else if(m.method==="cheque")if(u)_=s,x=`  ${m.cheque_no}`,await je.from("treasury_checks").insert({type:"receive",amount:p,status:"pending",owner_id:t.person_id,cheque_no:m.cheque_no,due_date:m.due_date,bank_name:m.bank_name,sayadi_code:m.sayadi_code,branch_name:m.branch_name,account_holder:m.account_holder,description:m.description,endorsement:m.endorsement});else if(m.cheque_type==="issue_ours"){_=i,x=`  ${m.cheque_no}`;const{data:w}=await je.from("treasury_checks").insert({type:"issue",amount:p,cheque_no:m.cheque_no,checkbook_id:m.checkbook_id,due_date:m.due_date,receiver_id:t.person_id,status:"pending",description:m.description}).select().single();m.checkbook_id&&w&&await je.from("treasury_check_details").update({status:"used",check_id:w.id}).eq("checkbook_id",m.checkbook_id).eq("serial_no",m.cheque_no)}else m.cheque_type==="spend_customer"&&(_=s,x=`  ${m.cheque_no}`,await je.from("treasury_checks").update({status:"spent",receiver_id:t.person_id}).eq("id",m.check_id));c.push({moein_id:_,tafsili_id:b,description:x,bed:u?p:0,bes:u?0:p})}return c.push({moein_id:o,tafsili_id:t.person_id,description:t.description||" ",bed:u?0:d,bes:u?d:0}),await kF({doc_date:t.date,manual_no:t.manual_no,description:`${u?"":""}  ${f} - ${t.description||""}`},c)},WDe=async t=>{const{data:e}=await je.from("treasury_checks").select("*").eq("id",t.checkId).single();if(!e)throw new Error("  ");const n=await Si("10103"),r=await Si("10302"),s=await Si("10303"),i=await Si("30102"),o=await Si("10301");let l=[],c={},u="";if(e.type==="receive"){if(t.operation==="deposit"){const{data:d}=await je.from("treasury_banks").select("tafsili_id, bank_name").eq("id",t.targetId).single();l.push({moein_id:r,bed:0,bes:e.amount,description:`  ${e.cheque_no}`}),l.push({moein_id:s,tafsili_id:d.tafsili_id,bed:e.amount,bes:0,description:`   ${d.bank_name}`}),c={status:"deposited",target_bank_id:t.targetId},u=`  ${e.cheque_no}`}else if(t.operation==="clear"){const{data:d}=await je.from("treasury_banks").select("tafsili_id").eq("id",t.targetId).single(),f=e.status==="deposited"?s:r;l.push({moein_id:f,tafsili_id:d.tafsili_id,bed:0,bes:e.amount,description:`  ${e.cheque_no}`}),l.push({moein_id:n,tafsili_id:d.tafsili_id,bed:e.amount,bes:0,description:"  "}),c={status:"cleared"},u=`  ${e.cheque_no}`}else if(t.operation==="spend")l.push({moein_id:r,bed:0,bes:e.amount,description:`  ${e.cheque_no}`}),l.push({moein_id:o,tafsili_id:t.targetId,bed:e.amount,bes:0,description:"   "}),c={status:"spent",receiver_id:t.targetId},u=`  ${e.cheque_no}`;else if(t.operation==="bounce"){const d=e.status==="deposited"?s:r;l.push({moein_id:d,bed:0,bes:e.amount,description:`  ${e.cheque_no}`}),l.push({moein_id:o,tafsili_id:e.owner_id,bed:e.amount,bes:0,description:"  "}),c={status:"bounced"},u=`  ${e.cheque_no}`}}else if(e.type==="issue"){if(t.operation==="clear"){const{data:d}=await je.from("treasury_checkbooks").select("bank_id").eq("id",e.checkbook_id).single(),{data:f}=await je.from("treasury_banks").select("tafsili_id").eq("id",d.bank_id).single();l.push({moein_id:n,tafsili_id:f.tafsili_id,bed:0,bes:e.amount,description:`    ${e.cheque_no}`}),l.push({moein_id:i,bed:e.amount,bes:0,description:"  "}),c={status:"cleared"},u=`   ${e.cheque_no}`}else if(t.operation==="bounce"){const{data:d}=await je.from("treasury_checkbooks").select("bank_id").eq("id",e.checkbook_id).single(),{data:f}=await je.from("treasury_banks").select("tafsili_id").eq("id",d.bank_id).single();l.push({moein_id:i,bed:0,bes:e.amount,description:`   ${e.cheque_no}`}),l.push({moein_id:n,tafsili_id:f.tafsili_id,bed:e.amount,bes:0,description:"   "}),c={status:"bounced"},u=`   ${e.cheque_no}`}}l.length>0&&await kF({doc_date:t.date,manual_no:"",description:u},l),await je.from("treasury_checks").update(c).eq("id",t.checkId)},GDe=async()=>{const{data:t,error:e}=await je.from("financial_documents").select("id, doc_date, description, manual_no, created_at, financial_entries ( bed, bes )").or("description.ilike.%%,description.ilike.%%,description.ilike.%%,description.ilike.%%").order("id",{ascending:!1});if(e)throw e;return(t==null?void 0:t.map(n=>{var s;const r=((s=n.financial_entries)==null?void 0:s.reduce((i,o)=>i+(Number(o.bed)||0),0))||0;return{...n,total_amount:r}}))||[]},HDe=async t=>{await je.from("financial_entries").delete().eq("doc_id",t),await je.from("financial_documents").delete().eq("id",t)},qDe=async(t,e)=>{const{error:n}=await je.from("financial_documents").update({doc_date:e.date,description:e.description,manual_no:e.manual_no}).eq("id",t);if(n)throw n},YDe=async({costs:t,paymentAmount:e,date:n,customerId:r,sourceId:s,receiptId:i,receiptNo:o,description:l})=>{const c=await Si("10301"),u=await Si("60101"),d=await Si("60102");await Si("60103");const f=await Si("60104");let m=await Si("10101");if(s){const{data:w}=await je.from("accounting_tafsili").select("tafsili_type").eq("id",s).single();(w==null?void 0:w.tafsili_type)==="bank_account"&&(m=await Si("10103"))}if(!c)throw new Error("   (10301)  .");const y=(Number(t.loadCost)||0)+(Number(t.unloadCost)||0)+(Number(t.warehouseCost)||0)+(Number(t.loadingFee)||0)+(Number(t.miscCost)||0)+(Number(t.tax)||0)+(Number(e)||0);if(y===0)return;const _=[];_.push({moein_id:c,tafsili_id:r,description:l||`   ${o}`,bed:y,bes:0});const b=(Number(t.loadCost)||0)+(Number(t.unloadCost)||0);b>0&&_.push({moein_id:d||f,description:`    -  ${o}`,bed:0,bes:b}),Number(t.warehouseCost)>0&&_.push({moein_id:u||f,description:`  -  ${o}`,bed:0,bes:Number(t.warehouseCost)}),Number(t.loadingFee)>0&&_.push({moein_id:f,description:`  -  ${o}`,bed:0,bes:Number(t.loadingFee)});const x=(Number(t.miscCost)||0)+(Number(t.tax)||0);if(x>0&&_.push({moein_id:f,description:` / -  ${o}`,bed:0,bes:x}),Number(e)>0){if(!s)throw new Error("  (/)   .");_.push({moein_id:m,tafsili_id:s,description:` /   ${o}`,bed:0,bes:Number(e)})}return await kF({doc_date:n,manual_no:"",description:`      ${o}`,reference_id:i,reference_type:"receipt"},_)},KDe=async t=>{try{const{data:e,error:n}=await je.rpc("register_exit_financial_doc",{p_payload:{exit_id:t}});if(n)throw n;return e}catch(e){throw e}};function Rp(t){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(t)}function JDe(t,e){if(Rp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lZ(t){var e=JDe(t,"string");return Rp(e)==="symbol"?e:String(e)}function J_(t,e,n){return e=lZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J6(Object(n),!0).forEach(function(r){J_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QDe(t){if(Array.isArray(t))return t}function ZDe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function lL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cZ(t,e){if(t){if(typeof t=="string")return lL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lL(t,e)}}function XDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vd(t,e){return QDe(t)||ZDe(t,e)||cZ(t,e)||XDe()}function uh(t,e){if(t==null)return{};var n=UY(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var eLe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function tLe(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,s=r===void 0?!1:r,i=t.defaultValue,o=i===void 0?null:i,l=t.inputValue,c=t.menuIsOpen,u=t.onChange,d=t.onInputChange,f=t.onMenuClose,m=t.onMenuOpen,p=t.value,y=uh(t,eLe),_=C.useState(l!==void 0?l:n),b=Vd(_,2),x=b[0],w=b[1],E=C.useState(c!==void 0?c:s),T=Vd(E,2),N=T[0],P=T[1],D=C.useState(p!==void 0?p:o),F=Vd(D,2),Y=F[0],q=F[1],B=C.useCallback(function(ne,le){typeof u=="function"&&u(ne,le),q(ne)},[u]),G=C.useCallback(function(ne,le){var ge;typeof d=="function"&&(ge=d(ne,le)),w(ge!==void 0?ge:ne)},[d]),J=C.useCallback(function(){typeof m=="function"&&m(),P(!0)},[m]),W=C.useCallback(function(){typeof f=="function"&&f(),P(!1)},[f]),z=l!==void 0?l:x,Z=c!==void 0?c:N,X=p!==void 0?p:Y;return sn(sn({},y),{},{inputValue:z,menuIsOpen:Z,onChange:B,onInputChange:G,onMenuClose:W,onMenuOpen:J,value:X})}function uZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lZ(r.key),r)}}function dZ(t,e,n){return e&&Q6(t.prototype,e),n&&Q6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X1(t,e)}function IT(t){return IT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},IT(t)}function rLe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sLe(t,e){if(e&&(Rp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BEe(t)}function iLe(t){var e=rLe();return function(){var r=IT(t),s;if(e){var i=IT(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return sLe(this,s)}}function aLe(t){if(Array.isArray(t))return lL(t)}function oLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OF(t){return aLe(t)||oLe(t)||cZ(t)||lLe()}function cLe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function uLe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var dLe=function(){function t(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(uLe(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=cLe(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Ta="-ms-",kT="-moz-",Sr="-webkit-",hZ="comm",RF="rule",PF="decl",hLe="@import",fZ="@keyframes",fLe="@layer",mLe=Math.abs,FA=String.fromCharCode,pLe=Object.assign;function gLe(t,e){return oa(t,0)^45?(((e<<2^oa(t,0))<<2^oa(t,1))<<2^oa(t,2))<<2^oa(t,3):0}function mZ(t){return t.trim()}function yLe(t,e){return(t=e.exec(t))?t[0]:t}function jr(t,e,n){return t.replace(e,n)}function cL(t,e){return t.indexOf(e)}function oa(t,e){return t.charCodeAt(e)|0}function _x(t,e,n){return t.slice(e,n)}function Iu(t){return t.length}function DF(t){return t.length}function zS(t,e){return e.push(t),t}function vLe(t,e){return t.map(e).join("")}var VA=1,Fv=1,pZ=0,Wo=0,hi=0,vb="";function UA(t,e,n,r,s,i,o){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:VA,column:Fv,length:o,return:""}}function w_(t,e){return pLe(UA("",null,null,"",null,null,0),t,{length:-t.length},e)}function bLe(){return hi}function _Le(){return hi=Wo>0?oa(vb,--Wo):0,Fv--,hi===10&&(Fv=1,VA--),hi}function Sl(){return hi=Wo<pZ?oa(vb,Wo++):0,Fv++,hi===10&&(Fv=1,VA++),hi}function Yu(){return oa(vb,Wo)}function Kj(){return Wo}function N0(t,e){return _x(vb,t,e)}function wx(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function gZ(t){return VA=Fv=1,pZ=Iu(vb=t),Wo=0,[]}function yZ(t){return vb="",t}function Jj(t){return mZ(N0(Wo-1,uL(t===91?t+2:t===40?t+1:t)))}function wLe(t){for(;(hi=Yu())&&hi<33;)Sl();return wx(t)>2||wx(hi)>3?"":" "}function xLe(t,e){for(;--e&&Sl()&&!(hi<48||hi>102||hi>57&&hi<65||hi>70&&hi<97););return N0(t,Kj()+(e<6&&Yu()==32&&Sl()==32))}function uL(t){for(;Sl();)switch(hi){case t:return Wo;case 34:case 39:t!==34&&t!==39&&uL(hi);break;case 40:t===41&&uL(t);break;case 92:Sl();break}return Wo}function ELe(t,e){for(;Sl()&&t+hi!==57;)if(t+hi===84&&Yu()===47)break;return"/*"+N0(e,Wo-1)+"*"+FA(t===47?t:Sl())}function SLe(t){for(;!wx(Yu());)Sl();return N0(t,Wo)}function jLe(t){return yZ(Qj("",null,null,null,[""],t=gZ(t),0,[0],t))}function Qj(t,e,n,r,s,i,o,l,c){for(var u=0,d=0,f=o,m=0,p=0,y=0,_=1,b=1,x=1,w=0,E="",T=s,N=i,P=r,D=E;b;)switch(y=w,w=Sl()){case 40:if(y!=108&&oa(D,f-1)==58){cL(D+=jr(Jj(w),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:D+=Jj(w);break;case 9:case 10:case 13:case 32:D+=wLe(y);break;case 92:D+=xLe(Kj()-1,7);continue;case 47:switch(Yu()){case 42:case 47:zS(TLe(ELe(Sl(),Kj()),e,n),c);break;default:D+="/"}break;case 123*_:l[u++]=Iu(D)*x;case 125*_:case 59:case 0:switch(w){case 0:case 125:b=0;case 59+d:x==-1&&(D=jr(D,/\f/g,"")),p>0&&Iu(D)-f&&zS(p>32?X6(D+";",r,n,f-1):X6(jr(D," ","")+";",r,n,f-2),c);break;case 59:D+=";";default:if(zS(P=Z6(D,e,n,u,d,s,l,E,T=[],N=[],f),i),w===123)if(d===0)Qj(D,e,P,P,T,i,f,l,N);else switch(m===99&&oa(D,3)===110?100:m){case 100:case 108:case 109:case 115:Qj(t,P,P,r&&zS(Z6(t,P,P,0,0,s,l,E,s,T=[],f),N),s,N,f,l,r?T:N);break;default:Qj(D,P,P,P,[""],N,0,l,N)}}u=d=p=0,_=x=1,E=D="",f=o;break;case 58:f=1+Iu(D),p=y;default:if(_<1){if(w==123)--_;else if(w==125&&_++==0&&_Le()==125)continue}switch(D+=FA(w),w*_){case 38:x=d>0?1:(D+="\f",-1);break;case 44:l[u++]=(Iu(D)-1)*x,x=1;break;case 64:Yu()===45&&(D+=Jj(Sl())),m=Yu(),d=f=Iu(E=D+=SLe(Kj())),w++;break;case 45:y===45&&Iu(D)==2&&(_=0)}}return i}function Z6(t,e,n,r,s,i,o,l,c,u,d){for(var f=s-1,m=s===0?i:[""],p=DF(m),y=0,_=0,b=0;y<r;++y)for(var x=0,w=_x(t,f+1,f=mLe(_=o[y])),E=t;x<p;++x)(E=mZ(_>0?m[x]+" "+w:jr(w,/&\f/g,m[x])))&&(c[b++]=E);return UA(t,e,n,s===0?RF:l,c,u,d)}function TLe(t,e,n){return UA(t,e,n,hZ,FA(bLe()),_x(t,2,-2),0)}function X6(t,e,n,r){return UA(t,e,n,PF,_x(t,0,r),_x(t,r+1,-1),r)}function av(t,e){for(var n="",r=DF(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function CLe(t,e,n,r){switch(t.type){case fLe:if(t.children.length)break;case hLe:case PF:return t.return=t.return||t.value;case hZ:return"";case fZ:return t.return=t.value+"{"+av(t.children,r)+"}";case RF:t.value=t.props.join(",")}return Iu(n=av(t.children,r))?t.return=t.value+"{"+n+"}":""}function ALe(t){var e=DF(t);return function(n,r,s,i){for(var o="",l=0;l<e;l++)o+=t[l](n,r,s,i)||"";return o}}function NLe(t){return function(e){e.root||(e=e.return)&&t(e)}}function ILe(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var kLe=function(e,n,r){for(var s=0,i=0;s=i,i=Yu(),s===38&&i===12&&(n[r]=1),!wx(i);)Sl();return N0(e,Wo)},OLe=function(e,n){var r=-1,s=44;do switch(wx(s)){case 0:s===38&&Yu()===12&&(n[r]=1),e[r]+=kLe(Wo-1,n,r);break;case 2:e[r]+=Jj(s);break;case 4:if(s===44){e[++r]=Yu()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=FA(s)}while(s=Sl());return e},RLe=function(e,n){return yZ(OLe(gZ(e),n))},e9=new WeakMap,PLe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!e9.get(r))&&!s){e9.set(e,!0);for(var i=[],o=RLe(n,i),l=r.props,c=0,u=0;c<o.length;c++)for(var d=0;d<l.length;d++,u++)e.props[u]=i[c]?o[c].replace(/&\f/g,l[d]):l[d]+" "+o[c]}}},DLe=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function vZ(t,e){switch(gLe(t,e)){case 5103:return Sr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Sr+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Sr+t+kT+t+Ta+t+t;case 6828:case 4268:return Sr+t+Ta+t+t;case 6165:return Sr+t+Ta+"flex-"+t+t;case 5187:return Sr+t+jr(t,/(\w+).+(:[^]+)/,Sr+"box-$1$2"+Ta+"flex-$1$2")+t;case 5443:return Sr+t+Ta+"flex-item-"+jr(t,/flex-|-self/,"")+t;case 4675:return Sr+t+Ta+"flex-line-pack"+jr(t,/align-content|flex-|-self/,"")+t;case 5548:return Sr+t+Ta+jr(t,"shrink","negative")+t;case 5292:return Sr+t+Ta+jr(t,"basis","preferred-size")+t;case 6060:return Sr+"box-"+jr(t,"-grow","")+Sr+t+Ta+jr(t,"grow","positive")+t;case 4554:return Sr+jr(t,/([^-])(transform)/g,"$1"+Sr+"$2")+t;case 6187:return jr(jr(jr(t,/(zoom-|grab)/,Sr+"$1"),/(image-set)/,Sr+"$1"),t,"")+t;case 5495:case 3959:return jr(t,/(image-set\([^]*)/,Sr+"$1$`$1");case 4968:return jr(jr(t,/(.+:)(flex-)?(.*)/,Sr+"box-pack:$3"+Ta+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Sr+t+t;case 4095:case 3583:case 4068:case 2532:return jr(t,/(.+)-inline(.+)/,Sr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Iu(t)-1-e>6)switch(oa(t,e+1)){case 109:if(oa(t,e+4)!==45)break;case 102:return jr(t,/(.+:)(.+)-([^]+)/,"$1"+Sr+"$2-$3$1"+kT+(oa(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~cL(t,"stretch")?vZ(jr(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(oa(t,e+1)!==115)break;case 6444:switch(oa(t,Iu(t)-3-(~cL(t,"!important")&&10))){case 107:return jr(t,":",":"+Sr)+t;case 101:return jr(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Sr+(oa(t,14)===45?"inline-":"")+"box$3$1"+Sr+"$2$3$1"+Ta+"$2box$3")+t}break;case 5936:switch(oa(t,e+11)){case 114:return Sr+t+Ta+jr(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Sr+t+Ta+jr(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Sr+t+Ta+jr(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Sr+t+Ta+t+t}return t}var LLe=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case PF:e.return=vZ(e.value,e.length);break;case fZ:return av([w_(e,{value:jr(e.value,"@","@"+Sr)})],s);case RF:if(e.length)return vLe(e.props,function(i){switch(yLe(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return av([w_(e,{props:[jr(i,/:(read-\w+)/,":"+kT+"$1")]})],s);case"::placeholder":return av([w_(e,{props:[jr(i,/:(plac\w+)/,":"+Sr+"input-$1")]}),w_(e,{props:[jr(i,/:(plac\w+)/,":"+kT+"$1")]}),w_(e,{props:[jr(i,/:(plac\w+)/,Ta+"input-$1")]})],s)}return""})}},MLe=[LLe],$Le=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(_){var b=_.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var s=e.stylisPlugins||MLe,i={},o,l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(_){for(var b=_.getAttribute("data-emotion").split(" "),x=1;x<b.length;x++)i[b[x]]=!0;l.push(_)});var c,u=[PLe,DLe];{var d,f=[CLe,NLe(function(_){d.insert(_)})],m=ALe(u.concat(s,f)),p=function(b){return av(jLe(b),m)};c=function(b,x,w,E){d=w,p(b?b+"{"+x.styles+"}":x.styles),E&&(y.inserted[x.name]=!0)}}var y={key:n,sheet:new dLe({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:c};return y.sheet.hydrate(l),y},FLe=!0;function VLe(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(r+=s+" ")}),r}var bZ=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||FLe===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},ULe=function(e,n,r){bZ(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function BLe(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var zLe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},WLe=/[A-Z]|^ms/g,GLe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,_Z=function(e){return e.charCodeAt(1)===45},t9=function(e){return e!=null&&typeof e!="boolean"},eR=ILe(function(t){return _Z(t)?t:t.replace(WLe,"-$&").toLowerCase()}),n9=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(GLe,function(r,s,i){return ku={name:s,styles:i,next:ku},s})}return zLe[e]!==1&&!_Z(e)&&typeof n=="number"&&n!==0?n+"px":n};function xx(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return ku={name:s.name,styles:s.styles,next:ku},s.name;var i=n;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)ku={name:o.name,styles:o.styles,next:ku},o=o.next;var l=i.styles+";";return l}return HLe(t,e,n)}case"function":{if(t!==void 0){var c=ku,u=n(t);return ku=c,xx(t,e,u)}break}}var d=n;return d}function HLe(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=xx(t,e,n[s])+";";else for(var i in n){var o=n[i];if(typeof o!="object"){var l=o;t9(l)&&(r+=eR(i)+":"+n9(i,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&e==null)for(var c=0;c<o.length;c++)t9(o[c])&&(r+=eR(i)+":"+n9(i,o[c])+";");else{var u=xx(t,e,o);switch(i){case"animation":case"animationName":{r+=eR(i)+":"+u+";";break}default:r+=i+"{"+u+"}"}}}return r}var r9=/label:\s*([^\s;{]+)\s*(;|$)/g,ku;function wZ(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,s="";ku=void 0;var i=t[0];if(i==null||i.raw===void 0)r=!1,s+=xx(n,e,i);else{var o=i;s+=o[0]}for(var l=1;l<t.length;l++)if(s+=xx(n,e,t[l]),r){var c=i;s+=c[l]}r9.lastIndex=0;for(var u="",d;(d=r9.exec(s))!==null;)u+="-"+d[1];var f=BLe(s)+u;return{name:f,styles:s,next:ku}}var qLe=function(e){return e()},YLe=sP.useInsertionEffect?sP.useInsertionEffect:!1,KLe=YLe||qLe,xZ=C.createContext(typeof HTMLElement<"u"?$Le({key:"css"}):null);xZ.Provider;var JLe=function(e){return C.forwardRef(function(n,r){var s=C.useContext(xZ);return e(n,s,r)})},QLe=C.createContext({}),LF={}.hasOwnProperty,dL="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",ZLe=function(e,n){var r={};for(var s in n)LF.call(n,s)&&(r[s]=n[s]);return r[dL]=e,r},XLe=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return bZ(n,r,s),KLe(function(){return ULe(n,r,s)}),null},eMe=JLe(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var s=t[dL],i=[r],o="";typeof t.className=="string"?o=VLe(e.registered,i,t.className):t.className!=null&&(o=t.className+" ");var l=wZ(i,void 0,C.useContext(QLe));o+=e.key+"-"+l.name;var c={};for(var u in t)LF.call(t,u)&&u!=="css"&&u!==dL&&(c[u]=t[u]);return c.className=o,n&&(c.ref=n),C.createElement(C.Fragment,null,C.createElement(XLe,{cache:e,serialized:l,isStringTag:typeof s=="string"}),C.createElement(s,c))}),tMe=eMe,Jt=function(e,n){var r=arguments;if(n==null||!LF.call(n,"css"))return C.createElement.apply(void 0,r);var s=r.length,i=new Array(s);i[0]=tMe,i[1]=ZLe(e,n);for(var o=2;o<s;o++)i[o]=r[o];return C.createElement.apply(null,i)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Jt||(Jt={}));function MF(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return wZ(e)}function nMe(){var t=MF.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function rMe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const sMe=Math.min,iMe=Math.max,OT=Math.round,WS=Math.floor,RT=t=>({x:t,y:t});function aMe(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function BA(){return typeof window<"u"}function EZ(t){return jZ(t)?(t.nodeName||"").toLowerCase():"#document"}function Xd(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function SZ(t){var e;return(e=(jZ(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function jZ(t){return BA()?t instanceof Node||t instanceof Xd(t).Node:!1}function oMe(t){return BA()?t instanceof Element||t instanceof Xd(t).Element:!1}function $F(t){return BA()?t instanceof HTMLElement||t instanceof Xd(t).HTMLElement:!1}function s9(t){return!BA()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Xd(t).ShadowRoot}const lMe=new Set(["inline","contents"]);function TZ(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=FF(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!lMe.has(s)}function cMe(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const uMe=new Set(["html","body","#document"]);function dMe(t){return uMe.has(EZ(t))}function FF(t){return Xd(t).getComputedStyle(t)}function hMe(t){if(EZ(t)==="html")return t;const e=t.assignedSlot||t.parentNode||s9(t)&&t.host||SZ(t);return s9(e)?e.host:e}function CZ(t){const e=hMe(t);return dMe(e)?t.ownerDocument?t.ownerDocument.body:t.body:$F(e)&&TZ(e)?e:CZ(e)}function PT(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=CZ(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Xd(s);if(i){const l=hL(o);return e.concat(o,o.visualViewport||[],TZ(s)?s:[],l&&n?PT(l):[])}return e.concat(s,PT(s,[],n))}function hL(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function fMe(t){const e=FF(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=$F(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,l=OT(n)!==i||OT(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function VF(t){return oMe(t)?t:t.contextElement}function i9(t){const e=VF(t);if(!$F(e))return RT(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=fMe(e);let o=(i?OT(n.width):n.width)/r,l=(i?OT(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const mMe=RT(0);function pMe(t){const e=Xd(t);return!cMe()||!e.visualViewport?mMe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function gMe(t,e,n){return!1}function a9(t,e,n,r){e===void 0&&(e=!1);const s=t.getBoundingClientRect(),i=VF(t);let o=RT(1);e&&(o=i9(t));const l=gMe()?pMe(i):RT(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const m=Xd(i),p=r;let y=m,_=hL(y);for(;_&&r&&p!==y;){const b=i9(_),x=_.getBoundingClientRect(),w=FF(_),E=x.left+(_.clientLeft+parseFloat(w.paddingLeft))*b.x,T=x.top+(_.clientTop+parseFloat(w.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=E,u+=T,y=Xd(_),_=hL(y)}}return aMe({width:d,height:f,x:c,y:u})}function AZ(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function yMe(t,e){let n=null,r;const s=SZ(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=u;if(l||e(),!m||!p)return;const y=WS(f),_=WS(s.clientWidth-(d+m)),b=WS(s.clientHeight-(f+p)),x=WS(d),E={rootMargin:-y+"px "+-_+"px "+-b+"px "+-x+"px",threshold:iMe(0,sMe(1,c))||1};let T=!0;function N(P){const D=P[0].intersectionRatio;if(D!==c){if(!T)return o();D?o(!1,D):r=setTimeout(()=>{o(!1,1e-7)},1e3)}D===1&&!AZ(u,t.getBoundingClientRect())&&o(),T=!1}try{n=new IntersectionObserver(N,{...E,root:s.ownerDocument})}catch{n=new IntersectionObserver(N,E)}n.observe(t)}return o(!0),i}function vMe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=VF(t),d=s||i?[...u?PT(u):[],...PT(e)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=u&&l?yMe(u,n):null;let m=-1,p=null;o&&(p=new ResizeObserver(x=>{let[w]=x;w&&w.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var E;(E=p)==null||E.observe(e)})),n()}),u&&!c&&p.observe(u),p.observe(e));let y,_=c?a9(t):null;c&&b();function b(){const x=a9(t);_&&!AZ(_,x)&&n(),_=x,y=requestAnimationFrame(b)}return n(),()=>{var x;d.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(y)}}var fL=C.useLayoutEffect,bMe=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],DT=function(){};function _Me(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function wMe(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var i=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&i.push("".concat(_Me(t,o)));return i.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var o9=function(e){return IMe(e)?e.filter(Boolean):Rp(e)==="object"&&e!==null?[e]:[]},NZ=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=uh(e,bMe);return sn({},n)},Bs=function(e,n,r){var s=e.cx,i=e.getStyles,o=e.getClassNames,l=e.className;return{css:i(n,e),className:s(r??{},o(n,e),l)}};function zA(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function xMe(t){return zA(t)?window.innerHeight:t.clientHeight}function IZ(t){return zA(t)?window.pageYOffset:t.scrollTop}function LT(t,e){if(zA(t)){window.scrollTo(0,e);return}t.scrollTop=e}function EMe(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=t;s=s.parentElement;)if(e=getComputedStyle(s),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function SMe(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function GS(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:DT,s=IZ(t),i=e-s,o=10,l=0;function c(){l+=o;var u=SMe(l,s,i,n);LT(t,u),l<n?window.requestAnimationFrame(c):r(t)}c()}function l9(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),s=e.offsetHeight/3;r.bottom+s>n.bottom?LT(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+s,t.scrollHeight)):r.top-s<n.top&&LT(t,Math.max(e.offsetTop-s,0))}function jMe(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function c9(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function TMe(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var kZ=!1,CMe={get passive(){return kZ=!0}},HS=typeof window<"u"?window:{};HS.addEventListener&&HS.removeEventListener&&(HS.addEventListener("p",DT,CMe),HS.removeEventListener("p",DT,!1));var AMe=kZ;function NMe(t){return t!=null}function IMe(t){return Array.isArray(t)}function qS(t,e,n){return t?e:n}var kMe=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];var i=Object.entries(e).filter(function(o){var l=Vd(o,1),c=l[0];return!r.includes(c)});return i.reduce(function(o,l){var c=Vd(l,2),u=c[0],d=c[1];return o[u]=d,o},{})},OMe=["children","innerProps"],RMe=["children","innerProps"];function PMe(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,s=t.placement,i=t.shouldScroll,o=t.isFixedPosition,l=t.controlHeight,c=EMe(n),u={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return u;var d=c.getBoundingClientRect(),f=d.height,m=n.getBoundingClientRect(),p=m.bottom,y=m.height,_=m.top,b=n.offsetParent.getBoundingClientRect(),x=b.top,w=o?window.innerHeight:xMe(c),E=IZ(c),T=parseInt(getComputedStyle(n).marginBottom,10),N=parseInt(getComputedStyle(n).marginTop,10),P=x-N,D=w-_,F=P+E,Y=f-E-_,q=p-w+E+T,B=E+_-N,G=160;switch(s){case"auto":case"bottom":if(D>=y)return{placement:"bottom",maxHeight:e};if(Y>=y&&!o)return i&&GS(c,q,G),{placement:"bottom",maxHeight:e};if(!o&&Y>=r||o&&D>=r){i&&GS(c,q,G);var J=o?D-T:Y-T;return{placement:"bottom",maxHeight:J}}if(s==="auto"||o){var W=e,z=o?P:F;return z>=r&&(W=Math.min(z-T-l,e)),{placement:"top",maxHeight:W}}if(s==="bottom")return i&&LT(c,q),{placement:"bottom",maxHeight:e};break;case"top":if(P>=y)return{placement:"top",maxHeight:e};if(F>=y&&!o)return i&&GS(c,B,G),{placement:"top",maxHeight:e};if(!o&&F>=r||o&&P>=r){var Z=e;return(!o&&F>=r||o&&P>=r)&&(Z=o?P-N:F-N),i&&GS(c,B,G),{placement:"top",maxHeight:Z}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return u}function DMe(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var OZ=function(e){return e==="auto"?"bottom":e},LMe=function(e,n){var r,s=e.placement,i=e.theme,o=i.borderRadius,l=i.spacing,c=i.colors;return sn((r={label:"menu"},J_(r,DMe(s),"100%"),J_(r,"position","absolute"),J_(r,"width","100%"),J_(r,"zIndex",1),r),n?{}:{backgroundColor:c.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},RZ=C.createContext(null),MMe=function(e){var n=e.children,r=e.minMenuHeight,s=e.maxMenuHeight,i=e.menuPlacement,o=e.menuPosition,l=e.menuShouldScrollIntoView,c=e.theme,u=C.useContext(RZ)||{},d=u.setPortalPlacement,f=C.useRef(null),m=C.useState(s),p=Vd(m,2),y=p[0],_=p[1],b=C.useState(null),x=Vd(b,2),w=x[0],E=x[1],T=c.spacing.controlHeight;return fL(function(){var N=f.current;if(N){var P=o==="fixed",D=l&&!P,F=PMe({maxHeight:s,menuEl:N,minHeight:r,placement:i,shouldScroll:D,isFixedPosition:P,controlHeight:T});_(F.maxHeight),E(F.placement),d==null||d(F.placement)}},[s,i,o,l,r,d,T]),n({ref:f,placerProps:sn(sn({},e),{},{placement:w||OZ(i),maxHeight:y})})},$Me=function(e){var n=e.children,r=e.innerRef,s=e.innerProps;return Jt("div",mn({},Bs(e,"menu",{menu:!0}),{ref:r},s),n)},FMe=$Me,VMe=function(e,n){var r=e.maxHeight,s=e.theme.spacing.baseUnit;return sn({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:s,paddingTop:s})},UMe=function(e){var n=e.children,r=e.innerProps,s=e.innerRef,i=e.isMulti;return Jt("div",mn({},Bs(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:s},r),n)},PZ=function(e,n){var r=e.theme,s=r.spacing.baseUnit,i=r.colors;return sn({textAlign:"center"},n?{}:{color:i.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},BMe=PZ,zMe=PZ,WMe=function(e){var n=e.children,r=n===void 0?"No options":n,s=e.innerProps,i=uh(e,OMe);return Jt("div",mn({},Bs(sn(sn({},i),{},{children:r,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),r)},GMe=function(e){var n=e.children,r=n===void 0?"Loading...":n,s=e.innerProps,i=uh(e,RMe);return Jt("div",mn({},Bs(sn(sn({},i),{},{children:r,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),r)},HMe=function(e){var n=e.rect,r=e.offset,s=e.position;return{left:n.left,position:s,top:r,width:n.width,zIndex:1}},qMe=function(e){var n=e.appendTo,r=e.children,s=e.controlElement,i=e.innerProps,o=e.menuPlacement,l=e.menuPosition,c=C.useRef(null),u=C.useRef(null),d=C.useState(OZ(o)),f=Vd(d,2),m=f[0],p=f[1],y=C.useMemo(function(){return{setPortalPlacement:p}},[]),_=C.useState(null),b=Vd(_,2),x=b[0],w=b[1],E=C.useCallback(function(){if(s){var D=jMe(s),F=l==="fixed"?0:window.pageYOffset,Y=D[m]+F;(Y!==(x==null?void 0:x.offset)||D.left!==(x==null?void 0:x.rect.left)||D.width!==(x==null?void 0:x.rect.width))&&w({offset:Y,rect:D})}},[s,l,m,x==null?void 0:x.offset,x==null?void 0:x.rect.left,x==null?void 0:x.rect.width]);fL(function(){E()},[E]);var T=C.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),s&&c.current&&(u.current=vMe(s,c.current,E,{elementResize:"ResizeObserver"in window}))},[s,E]);fL(function(){T()},[T]);var N=C.useCallback(function(D){c.current=D,T()},[T]);if(!n&&l!=="fixed"||!x)return null;var P=Jt("div",mn({ref:N},Bs(sn(sn({},e),{},{offset:x.offset,position:l,rect:x.rect}),"menuPortal",{"menu-portal":!0}),i),r);return Jt(RZ.Provider,{value:y},n?m0.createPortal(P,n):P)},YMe=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},KMe=function(e){var n=e.children,r=e.innerProps,s=e.isDisabled,i=e.isRtl;return Jt("div",mn({},Bs(e,"container",{"--is-disabled":s,"--is-rtl":i}),r),n)},JMe=function(e,n){var r=e.theme.spacing,s=e.isMulti,i=e.hasValue,o=e.selectProps.controlShouldRenderValue;return sn({alignItems:"center",display:s&&i&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},QMe=function(e){var n=e.children,r=e.innerProps,s=e.isMulti,i=e.hasValue;return Jt("div",mn({},Bs(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":i}),r),n)},ZMe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},XMe=function(e){var n=e.children,r=e.innerProps;return Jt("div",mn({},Bs(e,"indicatorsContainer",{indicators:!0}),r),n)},u9,e$e=["size"],t$e=["innerProps","isRtl","size"],n$e={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},DZ=function(e){var n=e.size,r=uh(e,e$e);return Jt("svg",mn({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:n$e},r))},UF=function(e){return Jt(DZ,mn({size:20},e),Jt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},LZ=function(e){return Jt(DZ,mn({size:20},e),Jt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},MZ=function(e,n){var r=e.isFocused,s=e.theme,i=s.spacing.baseUnit,o=s.colors;return sn({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:i*2,":hover":{color:r?o.neutral80:o.neutral40}})},r$e=MZ,s$e=function(e){var n=e.children,r=e.innerProps;return Jt("div",mn({},Bs(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||Jt(LZ,null))},i$e=MZ,a$e=function(e){var n=e.children,r=e.innerProps;return Jt("div",mn({},Bs(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||Jt(UF,null))},o$e=function(e,n){var r=e.isDisabled,s=e.theme,i=s.spacing.baseUnit,o=s.colors;return sn({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:i*2,marginTop:i*2})},l$e=function(e){var n=e.innerProps;return Jt("span",mn({},n,Bs(e,"indicatorSeparator",{"indicator-separator":!0})))},c$e=nMe(u9||(u9=rMe([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),u$e=function(e,n){var r=e.isFocused,s=e.size,i=e.theme,o=i.colors,l=i.spacing.baseUnit;return sn({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:l*2})},tR=function(e){var n=e.delay,r=e.offset;return Jt("span",{css:MF({animation:"".concat(c$e," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},d$e=function(e){var n=e.innerProps,r=e.isRtl,s=e.size,i=s===void 0?4:s,o=uh(e,t$e);return Jt("div",mn({},Bs(sn(sn({},o),{},{innerProps:n,isRtl:r,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),Jt(tR,{delay:0,offset:r}),Jt(tR,{delay:160,offset:!0}),Jt(tR,{delay:320,offset:!r}))},h$e=function(e,n){var r=e.isDisabled,s=e.isFocused,i=e.theme,o=i.colors,l=i.borderRadius,c=i.spacing;return sn({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:s?o.primary:o.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:s?o.primary:o.neutral30}})},f$e=function(e){var n=e.children,r=e.isDisabled,s=e.isFocused,i=e.innerRef,o=e.innerProps,l=e.menuIsOpen;return Jt("div",mn({ref:i},Bs(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":s,"control--menu-is-open":l}),o,{"aria-disabled":r||void 0}),n)},m$e=f$e,p$e=["data"],g$e=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},y$e=function(e){var n=e.children,r=e.cx,s=e.getStyles,i=e.getClassNames,o=e.Heading,l=e.headingProps,c=e.innerProps,u=e.label,d=e.theme,f=e.selectProps;return Jt("div",mn({},Bs(e,"group",{group:!0}),c),Jt(o,mn({},l,{selectProps:f,theme:d,getStyles:s,getClassNames:i,cx:r}),u),Jt("div",null,n))},v$e=function(e,n){var r=e.theme,s=r.colors,i=r.spacing;return sn({label:"group",cursor:"default",display:"block"},n?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},b$e=function(e){var n=NZ(e);n.data;var r=uh(n,p$e);return Jt("div",mn({},Bs(e,"groupHeading",{"group-heading":!0}),r))},_$e=y$e,w$e=["innerRef","isDisabled","isHidden","inputClassName"],x$e=function(e,n){var r=e.isDisabled,s=e.value,i=e.theme,o=i.spacing,l=i.colors;return sn(sn({visibility:r?"hidden":"visible",transform:s?"translateZ(0)":""},E$e),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:l.neutral80})},$Z={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},E$e={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":sn({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},$Z)},S$e=function(e){return sn({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},$Z)},j$e=function(e){var n=e.cx,r=e.value,s=NZ(e),i=s.innerRef,o=s.isDisabled,l=s.isHidden,c=s.inputClassName,u=uh(s,w$e);return Jt("div",mn({},Bs(e,"input",{"input-container":!0}),{"data-value":r||""}),Jt("input",mn({className:n({input:!0},c),ref:i,style:S$e(l),disabled:o},u)))},T$e=j$e,C$e=function(e,n){var r=e.theme,s=r.spacing,i=r.borderRadius,o=r.colors;return sn({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:i/2,margin:s.baseUnit/2})},A$e=function(e,n){var r=e.theme,s=r.borderRadius,i=r.colors,o=e.cropWithEllipsis;return sn({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:s/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},N$e=function(e,n){var r=e.theme,s=r.spacing,i=r.borderRadius,o=r.colors,l=e.isFocused;return sn({alignItems:"center",display:"flex"},n?{}:{borderRadius:i/2,backgroundColor:l?o.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},FZ=function(e){var n=e.children,r=e.innerProps;return Jt("div",r,n)},I$e=FZ,k$e=FZ;function O$e(t){var e=t.children,n=t.innerProps;return Jt("div",mn({role:"button"},n),e||Jt(UF,{size:14}))}var R$e=function(e){var n=e.children,r=e.components,s=e.data,i=e.innerProps,o=e.isDisabled,l=e.removeProps,c=e.selectProps,u=r.Container,d=r.Label,f=r.Remove;return Jt(u,{data:s,innerProps:sn(sn({},Bs(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),i),selectProps:c},Jt(d,{data:s,innerProps:sn({},Bs(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},n),Jt(f,{data:s,innerProps:sn(sn({},Bs(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},l),selectProps:c}))},P$e=R$e,D$e=function(e,n){var r=e.isDisabled,s=e.isFocused,i=e.isSelected,o=e.theme,l=o.spacing,c=o.colors;return sn({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:i?c.primary:s?c.primary25:"transparent",color:r?c.neutral20:i?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:i?c.primary:c.primary50}})},L$e=function(e){var n=e.children,r=e.isDisabled,s=e.isFocused,i=e.isSelected,o=e.innerRef,l=e.innerProps;return Jt("div",mn({},Bs(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":s,"option--is-selected":i}),{ref:o,"aria-disabled":r},l),n)},M$e=L$e,$$e=function(e,n){var r=e.theme,s=r.spacing,i=r.colors;return sn({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:i.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},F$e=function(e){var n=e.children,r=e.innerProps;return Jt("div",mn({},Bs(e,"placeholder",{placeholder:!0}),r),n)},V$e=F$e,U$e=function(e,n){var r=e.isDisabled,s=e.theme,i=s.spacing,o=s.colors;return sn({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},B$e=function(e){var n=e.children,r=e.isDisabled,s=e.innerProps;return Jt("div",mn({},Bs(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),s),n)},z$e=B$e,W$e={ClearIndicator:a$e,Control:m$e,DropdownIndicator:s$e,DownChevron:LZ,CrossIcon:UF,Group:_$e,GroupHeading:b$e,IndicatorsContainer:XMe,IndicatorSeparator:l$e,Input:T$e,LoadingIndicator:d$e,Menu:FMe,MenuList:UMe,MenuPortal:qMe,LoadingMessage:GMe,NoOptionsMessage:WMe,MultiValue:P$e,MultiValueContainer:I$e,MultiValueLabel:k$e,MultiValueRemove:O$e,Option:M$e,Placeholder:V$e,SelectContainer:KMe,SingleValue:z$e,ValueContainer:QMe},G$e=function(e){return sn(sn({},W$e),e.components)},d9=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function H$e(t,e){return!!(t===e||d9(t)&&d9(e))}function q$e(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!H$e(t[n],e[n]))return!1;return!0}function Y$e(t,e){e===void 0&&(e=q$e);var n=null;function r(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(n&&n.lastThis===this&&e(s,n.lastArgs))return n.lastResult;var o=t.apply(this,s);return n={lastResult:o,lastArgs:s,lastThis:this},o}return r.clear=function(){n=null},r}var K$e={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},J$e=function(e){return Jt("span",mn({css:K$e},e))},h9=J$e,Q$e={guidance:function(e){var n=e.isSearchable,r=e.isMulti,s=e.tabSelectsValue,i=e.context,o=e.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,s=r===void 0?"":r,i=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return o?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,s=e.options,i=e.label,o=i===void 0?"":i,l=e.selectValue,c=e.isDisabled,u=e.isSelected,d=e.isAppleDevice,f=function(_,b){return _&&_.length?"".concat(_.indexOf(b)+1," of ").concat(_.length):""};if(n==="value"&&l)return"value ".concat(o," focused, ").concat(f(l,r),".");if(n==="menu"&&d){var m=c?" disabled":"",p="".concat(u?" selected":"").concat(m);return"".concat(o).concat(p,", ").concat(f(s,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},Z$e=function(e){var n=e.ariaSelection,r=e.focusedOption,s=e.focusedValue,i=e.focusableOptions,o=e.isFocused,l=e.selectValue,c=e.selectProps,u=e.id,d=e.isAppleDevice,f=c.ariaLiveMessages,m=c.getOptionLabel,p=c.inputValue,y=c.isMulti,_=c.isOptionDisabled,b=c.isSearchable,x=c.menuIsOpen,w=c.options,E=c.screenReaderStatus,T=c.tabSelectsValue,N=c.isLoading,P=c["aria-label"],D=c["aria-live"],F=C.useMemo(function(){return sn(sn({},Q$e),f||{})},[f]),Y=C.useMemo(function(){var z="";if(n&&F.onChange){var Z=n.option,X=n.options,ne=n.removedValue,le=n.removedValues,ge=n.value,Ue=function(ft){return Array.isArray(ft)?null:ft},Ie=ne||Z||Ue(ge),ot=Ie?m(Ie):"",it=X||le||void 0,Te=it?it.map(m):[],St=sn({isDisabled:Ie&&_(Ie,l),label:ot,labels:Te},n);z=F.onChange(St)}return z},[n,F,_,l,m]),q=C.useMemo(function(){var z="",Z=r||s,X=!!(r&&l&&l.includes(r));if(Z&&F.onFocus){var ne={focused:Z,label:m(Z),isDisabled:_(Z,l),isSelected:X,options:i,context:Z===r?"menu":"value",selectValue:l,isAppleDevice:d};z=F.onFocus(ne)}return z},[r,s,m,_,F,i,l,d]),B=C.useMemo(function(){var z="";if(x&&w.length&&!N&&F.onFilter){var Z=E({count:i.length});z=F.onFilter({inputValue:p,resultsMessage:Z})}return z},[i,p,x,F,w,E,N]),G=(n==null?void 0:n.action)==="initial-input-focus",J=C.useMemo(function(){var z="";if(F.guidance){var Z=s?"value":x?"menu":"input";z=F.guidance({"aria-label":P,context:Z,isDisabled:r&&_(r,l),isMulti:y,isSearchable:b,tabSelectsValue:T,isInitialFocus:G})}return z},[P,r,s,y,_,b,x,F,l,T,G]),W=Jt(C.Fragment,null,Jt("span",{id:"aria-selection"},Y),Jt("span",{id:"aria-focused"},q),Jt("span",{id:"aria-results"},B),Jt("span",{id:"aria-guidance"},J));return Jt(C.Fragment,null,Jt(h9,{id:u},G&&W),Jt(h9,{"aria-live":D,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!G&&W))},X$e=Z$e,mL=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],eFe=new RegExp("["+mL.map(function(t){return t.letters}).join("")+"]","g"),VZ={};for(var nR=0;nR<mL.length;nR++)for(var rR=mL[nR],sR=0;sR<rR.letters.length;sR++)VZ[rR.letters[sR]]=rR.base;var UZ=function(e){return e.replace(eFe,function(n){return VZ[n]})},tFe=Y$e(UZ),f9=function(e){return e.replace(/^\s+|\s+$/g,"")},nFe=function(e){return"".concat(e.label," ").concat(e.value)},rFe=function(e){return function(n,r){if(n.data.__isNew__)return!0;var s=sn({ignoreCase:!0,ignoreAccents:!0,stringify:nFe,trim:!0,matchFrom:"any"},e),i=s.ignoreCase,o=s.ignoreAccents,l=s.stringify,c=s.trim,u=s.matchFrom,d=c?f9(r):r,f=c?f9(l(n)):l(n);return i&&(d=d.toLowerCase(),f=f.toLowerCase()),o&&(d=tFe(d),f=UZ(f)),u==="start"?f.substr(0,d.length)===d:f.indexOf(d)>-1}},sFe=["innerRef"];function iFe(t){var e=t.innerRef,n=uh(t,sFe),r=kMe(n,"onExited","in","enter","exit","appear");return Jt("input",mn({ref:e},r,{css:MF({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var aFe=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function oFe(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,s=t.onTopArrive,i=t.onTopLeave,o=C.useRef(!1),l=C.useRef(!1),c=C.useRef(0),u=C.useRef(null),d=C.useCallback(function(b,x){if(u.current!==null){var w=u.current,E=w.scrollTop,T=w.scrollHeight,N=w.clientHeight,P=u.current,D=x>0,F=T-N-E,Y=!1;F>x&&o.current&&(r&&r(b),o.current=!1),D&&l.current&&(i&&i(b),l.current=!1),D&&x>F?(n&&!o.current&&n(b),P.scrollTop=T,Y=!0,o.current=!0):!D&&-x>E&&(s&&!l.current&&s(b),P.scrollTop=0,Y=!0,l.current=!0),Y&&aFe(b)}},[n,r,s,i]),f=C.useCallback(function(b){d(b,b.deltaY)},[d]),m=C.useCallback(function(b){c.current=b.changedTouches[0].clientY},[]),p=C.useCallback(function(b){var x=c.current-b.changedTouches[0].clientY;d(b,x)},[d]),y=C.useCallback(function(b){if(b){var x=AMe?{passive:!1}:!1;b.addEventListener("wheel",f,x),b.addEventListener("touchstart",m,x),b.addEventListener("touchmove",p,x)}},[p,m,f]),_=C.useCallback(function(b){b&&(b.removeEventListener("wheel",f,!1),b.removeEventListener("touchstart",m,!1),b.removeEventListener("touchmove",p,!1))},[p,m,f]);return C.useEffect(function(){if(e){var b=u.current;return y(b),function(){_(b)}}},[e,y,_]),function(b){u.current=b}}var m9=["boxSizing","height","overflow","paddingRight","position"],p9={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function g9(t){t.preventDefault()}function y9(t){t.stopPropagation()}function v9(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function b9(){return"ontouchstart"in window||navigator.maxTouchPoints}var _9=!!(typeof window<"u"&&window.document&&window.document.createElement),x_=0,ly={capture:!1,passive:!1};function lFe(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,s=C.useRef({}),i=C.useRef(null),o=C.useCallback(function(c){if(_9){var u=document.body,d=u&&u.style;if(r&&m9.forEach(function(y){var _=d&&d[y];s.current[y]=_}),r&&x_<1){var f=parseInt(s.current.paddingRight,10)||0,m=document.body?document.body.clientWidth:0,p=window.innerWidth-m+f||0;Object.keys(p9).forEach(function(y){var _=p9[y];d&&(d[y]=_)}),d&&(d.paddingRight="".concat(p,"px"))}u&&b9()&&(u.addEventListener("touchmove",g9,ly),c&&(c.addEventListener("touchstart",v9,ly),c.addEventListener("touchmove",y9,ly))),x_+=1}},[r]),l=C.useCallback(function(c){if(_9){var u=document.body,d=u&&u.style;x_=Math.max(x_-1,0),r&&x_<1&&m9.forEach(function(f){var m=s.current[f];d&&(d[f]=m)}),u&&b9()&&(u.removeEventListener("touchmove",g9,ly),c&&(c.removeEventListener("touchstart",v9,ly),c.removeEventListener("touchmove",y9,ly)))}},[r]);return C.useEffect(function(){if(e){var c=i.current;return o(c),function(){l(c)}}},[e,o,l]),function(c){i.current=c}}var cFe=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},uFe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function dFe(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,s=r===void 0?!0:r,i=t.onBottomArrive,o=t.onBottomLeave,l=t.onTopArrive,c=t.onTopLeave,u=oFe({isEnabled:s,onBottomArrive:i,onBottomLeave:o,onTopArrive:l,onTopLeave:c}),d=lFe({isEnabled:n}),f=function(p){u(p),d(p)};return Jt(C.Fragment,null,n&&Jt("div",{onClick:cFe,css:uFe}),e(f))}var hFe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},fFe=function(e){var n=e.name,r=e.onFocus;return Jt("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:hFe,value:"",onChange:function(){}})},mFe=fFe;function BF(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function pFe(){return BF(/^iPhone/i)}function BZ(){return BF(/^Mac/i)}function gFe(){return BF(/^iPad/i)||BZ()&&navigator.maxTouchPoints>1}function yFe(){return pFe()||gFe()}function vFe(){return BZ()||yFe()}var bFe=function(e){return e.label},_Fe=function(e){return e.label},wFe=function(e){return e.value},xFe=function(e){return!!e.isDisabled},EFe={clearIndicator:i$e,container:YMe,control:h$e,dropdownIndicator:r$e,group:g$e,groupHeading:v$e,indicatorsContainer:ZMe,indicatorSeparator:o$e,input:x$e,loadingIndicator:u$e,loadingMessage:zMe,menu:LMe,menuList:VMe,menuPortal:HMe,multiValue:C$e,multiValueLabel:A$e,multiValueRemove:N$e,noOptionsMessage:BMe,option:D$e,placeholder:$$e,singleValue:U$e,valueContainer:JMe},SFe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},jFe=4,zZ=4,TFe=38,CFe=zZ*2,AFe={baseUnit:zZ,controlHeight:TFe,menuGutter:CFe},iR={borderRadius:jFe,colors:SFe,spacing:AFe},NFe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:c9(),captureMenuScroll:!c9(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:rFe(),formatGroupLabel:bFe,getOptionLabel:_Fe,getOptionValue:wFe,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:xFe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!TMe(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function w9(t,e,n,r){var s=HZ(t,e,n),i=qZ(t,e,n),o=GZ(t,e),l=MT(t,e);return{type:"option",data:e,isDisabled:s,isSelected:i,label:o,value:l,index:r}}function Zj(t,e){return t.options.map(function(n,r){if("options"in n){var s=n.options.map(function(o,l){return w9(t,o,e,l)}).filter(function(o){return E9(t,o)});return s.length>0?{type:"group",data:n,options:s,index:r}:void 0}var i=w9(t,n,e,r);return E9(t,i)?i:void 0}).filter(NMe)}function WZ(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,OF(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function x9(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,OF(r.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(r.index,"-").concat(s.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function IFe(t,e){return WZ(Zj(t,e))}function E9(t,e){var n=t.inputValue,r=n===void 0?"":n,s=e.data,i=e.isSelected,o=e.label,l=e.value;return(!KZ(t)||!i)&&YZ(t,{label:o,value:l,data:s},r)}function kFe(t,e){var n=t.focusedValue,r=t.selectValue,s=r.indexOf(n);if(s>-1){var i=e.indexOf(n);if(i>-1)return n;if(s<e.length)return e[s]}return null}function OFe(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var aR=function(e,n){var r,s=(r=e.find(function(i){return i.data===n}))===null||r===void 0?void 0:r.id;return s||null},GZ=function(e,n){return e.getOptionLabel(n)},MT=function(e,n){return e.getOptionValue(n)};function HZ(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function qZ(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=MT(t,e);return n.some(function(s){return MT(t,s)===r})}function YZ(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var KZ=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},RFe=1,JZ=function(t){nLe(n,t);var e=iLe(n);function n(r){var s;if(uZ(this,n),s=e.call(this,r),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.isAppleDevice=vFe(),s.controlRef=null,s.getControlRef=function(c){s.controlRef=c},s.focusedOptionRef=null,s.getFocusedOptionRef=function(c){s.focusedOptionRef=c},s.menuListRef=null,s.getMenuListRef=function(c){s.menuListRef=c},s.inputRef=null,s.getInputRef=function(c){s.inputRef=c},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(c,u){var d=s.props,f=d.onChange,m=d.name;u.name=m,s.ariaOnChange(c,u),f(c,u)},s.setValue=function(c,u,d){var f=s.props,m=f.closeMenuOnSelect,p=f.isMulti,y=f.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:y}),m&&(s.setState({inputIsHiddenAfterUpdate:!p}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(c,{action:u,option:d})},s.selectOption=function(c){var u=s.props,d=u.blurInputOnSelect,f=u.isMulti,m=u.name,p=s.state.selectValue,y=f&&s.isOptionSelected(c,p),_=s.isOptionDisabled(c,p);if(y){var b=s.getOptionValue(c);s.setValue(p.filter(function(x){return s.getOptionValue(x)!==b}),"deselect-option",c)}else if(!_)f?s.setValue([].concat(OF(p),[c]),"select-option",c):s.setValue(c,"select-option");else{s.ariaOnChange(c,{action:"select-option",option:c,name:m});return}d&&s.blurInput()},s.removeValue=function(c){var u=s.props.isMulti,d=s.state.selectValue,f=s.getOptionValue(c),m=d.filter(function(y){return s.getOptionValue(y)!==f}),p=qS(u,m,m[0]||null);s.onChange(p,{action:"remove-value",removedValue:c}),s.focusInput()},s.clearValue=function(){var c=s.state.selectValue;s.onChange(qS(s.props.isMulti,[],null),{action:"clear",removedValues:c})},s.popValue=function(){var c=s.props.isMulti,u=s.state.selectValue,d=u[u.length-1],f=u.slice(0,u.length-1),m=qS(c,f,f[0]||null);s.onChange(m,{action:"pop-value",removedValue:d})},s.getFocusedOptionId=function(c){return aR(s.state.focusableOptionsWithIds,c)},s.getFocusableOptionsWithIds=function(){return x9(Zj(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return wMe.apply(void 0,[s.props.classNamePrefix].concat(u))},s.getOptionLabel=function(c){return GZ(s.props,c)},s.getOptionValue=function(c){return MT(s.props,c)},s.getStyles=function(c,u){var d=s.props.unstyled,f=EFe[c](u,d);f.boxSizing="border-box";var m=s.props.styles[c];return m?m(f,u):f},s.getClassNames=function(c,u){var d,f;return(d=(f=s.props.classNames)[c])===null||d===void 0?void 0:d.call(f,u)},s.getElementId=function(c){return"".concat(s.state.instancePrefix,"-").concat(c)},s.getComponents=function(){return G$e(s.props)},s.buildCategorizedOptions=function(){return Zj(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return WZ(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(c,u){s.setState({ariaSelection:sn({value:c},u)})},s.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(c){s.blockOptionHover=!1},s.onControlMouseDown=function(c){if(!c.defaultPrevented){var u=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&s.onMenuClose():u&&s.openMenu("first"):(u&&(s.openAfterFocus=!0),s.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},s.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!s.props.isDisabled){var u=s.props,d=u.isMulti,f=u.menuIsOpen;s.focusInput(),f?(s.setState({inputIsHiddenAfterUpdate:!d}),s.onMenuClose()):s.openMenu("first"),c.preventDefault()}},s.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(s.clearValue(),c.preventDefault(),s.openAfterFocus=!1,c.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(c){typeof s.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&zA(c.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(c)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(c){var u=c.touches,d=u&&u.item(0);d&&(s.initialTouchX=d.clientX,s.initialTouchY=d.clientY,s.userIsDragging=!1)},s.onTouchMove=function(c){var u=c.touches,d=u&&u.item(0);if(d){var f=Math.abs(d.clientX-s.initialTouchX),m=Math.abs(d.clientY-s.initialTouchY),p=5;s.userIsDragging=f>p||m>p}},s.onTouchEnd=function(c){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(c.target)&&s.menuListRef&&!s.menuListRef.contains(c.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(c){s.userIsDragging||s.onControlMouseDown(c)},s.onClearIndicatorTouchEnd=function(c){s.userIsDragging||s.onClearIndicatorMouseDown(c)},s.onDropdownIndicatorTouchEnd=function(c){s.userIsDragging||s.onDropdownIndicatorMouseDown(c)},s.handleInputChange=function(c){var u=s.props.inputValue,d=c.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(d,{action:"input-change",prevInputValue:u}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(c){s.props.onFocus&&s.props.onFocus(c),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(c){var u=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(c),s.onInputChange("",{action:"input-blur",prevInputValue:u}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(c){if(!(s.blockOptionHover||s.state.focusedOption===c)){var u=s.getFocusableOptions(),d=u.indexOf(c);s.setState({focusedOption:c,focusedOptionId:d>-1?s.getFocusedOptionId(c):null})}},s.shouldHideSelectedOptions=function(){return KZ(s.props)},s.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),s.focus()},s.onKeyDown=function(c){var u=s.props,d=u.isMulti,f=u.backspaceRemovesValue,m=u.escapeClearsValue,p=u.inputValue,y=u.isClearable,_=u.isDisabled,b=u.menuIsOpen,x=u.onKeyDown,w=u.tabSelectsValue,E=u.openMenuOnFocus,T=s.state,N=T.focusedOption,P=T.focusedValue,D=T.selectValue;if(!_&&!(typeof x=="function"&&(x(c),c.defaultPrevented))){switch(s.blockOptionHover=!0,c.key){case"ArrowLeft":if(!d||p)return;s.focusValue("previous");break;case"ArrowRight":if(!d||p)return;s.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(P)s.removeValue(P);else{if(!f)return;d?s.popValue():y&&s.clearValue()}break;case"Tab":if(s.isComposing||c.shiftKey||!b||!w||!N||E&&s.isOptionSelected(N,D))return;s.selectOption(N);break;case"Enter":if(c.keyCode===229)break;if(b){if(!N||s.isComposing)return;s.selectOption(N);break}return;case"Escape":b?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:p}),s.onMenuClose()):y&&m&&s.clearValue();break;case" ":if(p)return;if(!b){s.openMenu("first");break}if(!N)return;s.selectOption(N);break;case"ArrowUp":b?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":b?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!b)return;s.focusOption("pageup");break;case"PageDown":if(!b)return;s.focusOption("pagedown");break;case"Home":if(!b)return;s.focusOption("first");break;case"End":if(!b)return;s.focusOption("last");break;default:return}c.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++RFe),s.state.selectValue=o9(r.value),r.menuIsOpen&&s.state.selectValue.length){var i=s.getFocusableOptionsWithIds(),o=s.buildFocusableOptions(),l=o.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=i,s.state.focusedOption=o[l],s.state.focusedOptionId=aR(i,o[l])}return s}return dZ(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&l9(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isDisabled,l=i.menuIsOpen,c=this.state.isFocused;(c&&!o&&s.isDisabled||c&&l&&!s.menuIsOpen)&&this.focusInput(),c&&o&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!o&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(l9(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,i){this.props.onInputChange(s,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var i=this,o=this.state,l=o.selectValue,c=o.isFocused,u=this.buildFocusableOptions(),d=s==="first"?0:u.length-1;if(!this.props.isMulti){var f=u.indexOf(l[0]);f>-1&&(d=f)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(s){var i=this.state,o=i.selectValue,l=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=o.indexOf(l);l||(c=-1);var u=o.length-1,d=-1;if(o.length){switch(s){case"previous":c===0?d=0:c===-1?d=u:d=c-1;break;case"next":c>-1&&c<u&&(d=c+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:o[d]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,o=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,u=l.indexOf(o);o||(u=-1),s==="up"?c=u>0?u-1:l.length-1:s==="down"?c=(u+1)%l.length:s==="pageup"?(c=u-i,c<0&&(c=0)):s==="pagedown"?(c=u+i,c>l.length-1&&(c=l.length-1)):s==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(iR):sn(sn({},iR),this.props.theme):iR}},{key:"getCommonProps",value:function(){var s=this.clearValue,i=this.cx,o=this.getStyles,l=this.getClassNames,c=this.getValue,u=this.selectOption,d=this.setValue,f=this.props,m=f.isMulti,p=f.isRtl,y=f.options,_=this.hasValue();return{clearValue:s,cx:i,getStyles:o,getClassNames:l,getValue:c,hasValue:_,isMulti:m,isRtl:p,options:y,selectOption:u,selectProps:f,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,i=s.isClearable,o=s.isMulti;return i===void 0?o:i}},{key:"isOptionDisabled",value:function(s,i){return HZ(this.props,s,i)}},{key:"isOptionSelected",value:function(s,i){return qZ(this.props,s,i)}},{key:"filterOption",value:function(s,i){return YZ(this.props,s,i)}},{key:"formatOptionLabel",value:function(s,i){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(s,{context:i,inputValue:o,selectValue:l})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,i=s.isDisabled,o=s.isSearchable,l=s.inputId,c=s.inputValue,u=s.tabIndex,d=s.form,f=s.menuIsOpen,m=s.required,p=this.getComponents(),y=p.Input,_=this.state,b=_.inputIsHidden,x=_.ariaSelection,w=this.commonProps,E=l||this.getElementId("input"),T=sn(sn(sn({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(x==null?void 0:x.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?C.createElement(y,mn({},w,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:E,innerRef:this.getInputRef,isDisabled:i,isHidden:b,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:c},T)):C.createElement(iFe,mn({id:E,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:DT,onFocus:this.onInputFocus,disabled:i,tabIndex:u,inputMode:"none",form:d,value:""},T))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,i=this.getComponents(),o=i.MultiValue,l=i.MultiValueContainer,c=i.MultiValueLabel,u=i.MultiValueRemove,d=i.SingleValue,f=i.Placeholder,m=this.commonProps,p=this.props,y=p.controlShouldRenderValue,_=p.isDisabled,b=p.isMulti,x=p.inputValue,w=p.placeholder,E=this.state,T=E.selectValue,N=E.focusedValue,P=E.isFocused;if(!this.hasValue()||!y)return x?null:C.createElement(f,mn({},m,{key:"placeholder",isDisabled:_,isFocused:P,innerProps:{id:this.getElementId("placeholder")}}),w);if(b)return T.map(function(F,Y){var q=F===N,B="".concat(s.getOptionLabel(F),"-").concat(s.getOptionValue(F));return C.createElement(o,mn({},m,{components:{Container:l,Label:c,Remove:u},isFocused:q,isDisabled:_,key:B,index:Y,removeProps:{onClick:function(){return s.removeValue(F)},onTouchEnd:function(){return s.removeValue(F)},onMouseDown:function(J){J.preventDefault()}},data:F}),s.formatOptionLabel(F,"value"))});if(x)return null;var D=T[0];return C.createElement(d,mn({},m,{data:D,isDisabled:_}),this.formatOptionLabel(D,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),i=s.ClearIndicator,o=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!this.isClearable()||!i||c||!this.hasValue()||u)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return C.createElement(i,mn({},o,{innerProps:f,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),i=s.LoadingIndicator,o=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!i||!u)return null;var f={"aria-hidden":"true"};return C.createElement(i,mn({},o,{innerProps:f,isDisabled:c,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator,o=s.IndicatorSeparator;if(!i||!o)return null;var l=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused;return C.createElement(o,mn({},l,{isDisabled:c,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator;if(!i)return null;var o=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return C.createElement(i,mn({},o,{innerProps:u,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var s=this,i=this.getComponents(),o=i.Group,l=i.GroupHeading,c=i.Menu,u=i.MenuList,d=i.MenuPortal,f=i.LoadingMessage,m=i.NoOptionsMessage,p=i.Option,y=this.commonProps,_=this.state.focusedOption,b=this.props,x=b.captureMenuScroll,w=b.inputValue,E=b.isLoading,T=b.loadingMessage,N=b.minMenuHeight,P=b.maxMenuHeight,D=b.menuIsOpen,F=b.menuPlacement,Y=b.menuPosition,q=b.menuPortalTarget,B=b.menuShouldBlockScroll,G=b.menuShouldScrollIntoView,J=b.noOptionsMessage,W=b.onMenuScrollToTop,z=b.onMenuScrollToBottom;if(!D)return null;var Z=function(ot,it){var Te=ot.type,St=ot.data,ut=ot.isDisabled,ft=ot.isSelected,gt=ot.label,qt=ot.value,It=_===St,zt=ut?void 0:function(){return s.onOptionHover(St)},en=ut?void 0:function(){return s.selectOption(St)},xe="".concat(s.getElementId("option"),"-").concat(it),We={id:xe,onClick:en,onMouseMove:zt,onMouseOver:zt,tabIndex:-1,role:"option","aria-selected":s.isAppleDevice?void 0:ft};return C.createElement(p,mn({},y,{innerProps:We,data:St,isDisabled:ut,isSelected:ft,key:xe,label:gt,type:Te,value:qt,isFocused:It,innerRef:It?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(ot.data,"menu"))},X;if(this.hasOptions())X=this.getCategorizedOptions().map(function(Ie){if(Ie.type==="group"){var ot=Ie.data,it=Ie.options,Te=Ie.index,St="".concat(s.getElementId("group"),"-").concat(Te),ut="".concat(St,"-heading");return C.createElement(o,mn({},y,{key:St,data:ot,options:it,Heading:l,headingProps:{id:ut,data:Ie.data},label:s.formatGroupLabel(Ie.data)}),Ie.options.map(function(ft){return Z(ft,"".concat(Te,"-").concat(ft.index))}))}else if(Ie.type==="option")return Z(Ie,"".concat(Ie.index))});else if(E){var ne=T({inputValue:w});if(ne===null)return null;X=C.createElement(f,y,ne)}else{var le=J({inputValue:w});if(le===null)return null;X=C.createElement(m,y,le)}var ge={minMenuHeight:N,maxMenuHeight:P,menuPlacement:F,menuPosition:Y,menuShouldScrollIntoView:G},Ue=C.createElement(MMe,mn({},y,ge),function(Ie){var ot=Ie.ref,it=Ie.placerProps,Te=it.placement,St=it.maxHeight;return C.createElement(c,mn({},y,ge,{innerRef:ot,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:E,placement:Te}),C.createElement(dFe,{captureEnabled:x,onTopArrive:W,onBottomArrive:z,lockEnabled:B},function(ut){return C.createElement(u,mn({},y,{innerRef:function(gt){s.getMenuListRef(gt),ut(gt)},innerProps:{role:"listbox","aria-multiselectable":y.isMulti,id:s.getElementId("listbox")},isLoading:E,maxHeight:St,focusedOption:_}),X)}))});return q||Y==="fixed"?C.createElement(d,mn({},y,{appendTo:q,controlElement:this.controlRef,menuPlacement:F,menuPosition:Y}),Ue):Ue}},{key:"renderFormField",value:function(){var s=this,i=this.props,o=i.delimiter,l=i.isDisabled,c=i.isMulti,u=i.name,d=i.required,f=this.state.selectValue;if(d&&!this.hasValue()&&!l)return C.createElement(mFe,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(c)if(o){var m=f.map(function(_){return s.getOptionValue(_)}).join(o);return C.createElement("input",{name:u,type:"hidden",value:m})}else{var p=f.length>0?f.map(function(_,b){return C.createElement("input",{key:"i-".concat(b),name:u,type:"hidden",value:s.getOptionValue(_)})}):C.createElement("input",{name:u,type:"hidden",value:""});return C.createElement("div",null,p)}else{var y=f[0]?this.getOptionValue(f[0]):"";return C.createElement("input",{name:u,type:"hidden",value:y})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,i=this.state,o=i.ariaSelection,l=i.focusedOption,c=i.focusedValue,u=i.isFocused,d=i.selectValue,f=this.getFocusableOptions();return C.createElement(X$e,mn({},s,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:l,focusedValue:c,isFocused:u,selectValue:d,focusableOptions:f,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),i=s.Control,o=s.IndicatorsContainer,l=s.SelectContainer,c=s.ValueContainer,u=this.props,d=u.className,f=u.id,m=u.isDisabled,p=u.menuIsOpen,y=this.state.isFocused,_=this.commonProps=this.getCommonProps();return C.createElement(l,mn({},_,{className:d,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:y}),this.renderLiveRegion(),C.createElement(i,mn({},_,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:y,menuIsOpen:p}),C.createElement(c,mn({},_,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),C.createElement(o,mn({},_,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,i){var o=i.prevProps,l=i.clearFocusValueOnUpdate,c=i.inputIsHiddenAfterUpdate,u=i.ariaSelection,d=i.isFocused,f=i.prevWasFocused,m=i.instancePrefix,p=s.options,y=s.value,_=s.menuIsOpen,b=s.inputValue,x=s.isMulti,w=o9(y),E={};if(o&&(y!==o.value||p!==o.options||_!==o.menuIsOpen||b!==o.inputValue)){var T=_?IFe(s,w):[],N=_?x9(Zj(s,w),"".concat(m,"-option")):[],P=l?kFe(i,w):null,D=OFe(i,T),F=aR(N,D);E={selectValue:w,focusedOption:D,focusedOptionId:F,focusableOptionsWithIds:N,focusedValue:P,clearFocusValueOnUpdate:!1}}var Y=c!=null&&s!==o?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},q=u,B=d&&f;return d&&!B&&(q={value:qS(x,w,w[0]||null),options:w,action:"initial-input-focus"},B=!f),(u==null?void 0:u.action)==="initial-input-focus"&&(q=null),sn(sn(sn({},E),Y),{},{prevProps:s,ariaSelection:q,prevWasFocused:B})}}]),n}(C.Component);JZ.defaultProps=NFe;var PFe=C.forwardRef(function(t,e){var n=tLe(t);return C.createElement(JZ,mn({ref:e},n))}),ds=PFe;const S9={control:(t,e)=>({...t,backgroundColor:"#fff",borderColor:e.isFocused?"#556ee6":"#ced4da",minHeight:38,borderRadius:6,boxShadow:e.isFocused?"0 0 0 0.15rem rgba(85, 110, 230, 0.25)":"none",transition:"all 0.15s ease-in-out","&:hover":{borderColor:e.isFocused?"#556ee6":"#bfc6d1"},direction:"rtl"}),valueContainer:t=>({...t,padding:"2px 12px",direction:"rtl"}),singleValue:t=>({...t,color:"#495057"}),placeholder:t=>({...t,color:"#74788d"}),input:t=>({...t,color:"#495057",margin:0,padding:0}),indicatorSeparator:()=>({display:"none"}),dropdownIndicator:t=>({...t,padding:6,color:"#74788d","&:hover":{color:"#495057"}}),clearIndicator:t=>({...t,cursor:"pointer",color:"#6c757d","&:hover":{color:"#f46a6a"}}),menuPortal:t=>({...t,zIndex:999999}),menu:t=>({...t,backgroundColor:"#fff",border:"1px solid #ced4da",borderRadius:6,boxShadow:"0 0.5rem 1rem rgba(0, 0, 0, 0.15)",marginTop:2,zIndex:999999}),menuList:t=>({...t,padding:0}),option:(t,e)=>({...t,padding:"6px 12px",backgroundColor:e.isSelected?"#556ee6":e.isFocused?"#f3f4f7":"#fff",color:e.isSelected?"#fff":"#495057",cursor:"pointer",textAlign:"right"}),noOptionsMessage:t=>({...t,padding:"8px 12px",fontSize:"90%",color:"#74788d",textAlign:"center"}),multiValue:t=>({...t,backgroundColor:"#eef0f4",borderRadius:4,padding:"2px 6px"}),multiValueLabel:t=>({...t,color:"#495057"}),multiValueRemove:t=>({...t,color:"#6c757d","&:hover":{backgroundColor:"#f46a6a",color:"#fff"}})},j9={customerType:"real",name:"",nationalId:"",mobile:"",phone:"",birthOrRegisterDate:null,postalCode:"",economicCode:"",address:"",description:""};function DFe({isOpen:t,onClose:e,onSelect:n}){const[r,s]=C.useState(j9),[i,o]=C.useState({}),[l,c]=C.useState(!1),u=()=>{let m={};return r.name.trim()||(m.name="  "),r.nationalId&&(r.customerType==="real"&&r.nationalId.length!==10&&(m.nationalId="   10  "),r.customerType==="company"&&r.nationalId.length!==11&&(m.nationalId="   11  ")),r.mobile&&!/^09\d{9}$/.test(r.mobile)&&(m.mobile="   "),r.postalCode&&r.postalCode.length!==10&&(m.postalCode="   10  "),o(m),Object.keys(m).length===0},d=async()=>{var m;if(u()){c(!0);try{let p={...r};if(Object.keys(p).forEach(b=>{p[b]===""&&(p[b]=null)}),(m=p.birthOrRegisterDate)!=null&&m.toDate){const b=p.birthOrRegisterDate.toDate();p.birthOrRegisterDate=ev(b).format("YYYY-MM-DD")}const y=await Br("/customers",p),_=(y==null?void 0:y.data)||(y==null?void 0:y.doc)||y||{id:Date.now(),...p};n(_),s(j9),o({}),e()}catch(p){console.error("Error saving customer:",p),alert("   ")}finally{c(!1)}}},f=(m,p)=>{s(y=>({...y,[m]:p}))};return a.jsxs(Mi,{isOpen:t,toggle:e,size:"lg",children:[a.jsx(Bo,{toggle:e,children:"  "}),a.jsxs(Qa,{children:[a.jsxs(pe,{className:"mb-3",children:[a.jsxs(M,{md:"4",children:[a.jsx(ee,{children:" "}),a.jsxs(ie,{type:"select",value:r.customerType,onChange:m=>f("customerType",m.target.value),children:[a.jsx("option",{value:"real",children:""}),a.jsx("option",{value:"company",children:""})]})]}),a.jsxs(M,{md:"8",children:[a.jsx(ee,{children:" /  *"}),a.jsx(ie,{value:r.name,invalid:!!i.name,onChange:m=>f("name",m.target.value)}),a.jsx(Dt,{children:i.name})]})]}),a.jsxs(pe,{className:"mb-3",children:[a.jsxs(M,{md:"4",children:[a.jsx(ee,{children:r.customerType==="real"?" ":" "}),a.jsx(ie,{value:r.nationalId,invalid:!!i.nationalId,maxLength:r.customerType==="real"?10:11,onChange:m=>f("nationalId",m.target.value)}),a.jsx(Dt,{children:i.nationalId})]}),a.jsxs(M,{md:"4",children:[a.jsx(ee,{children:""}),a.jsx(ie,{value:r.mobile,invalid:!!i.mobile,maxLength:11,placeholder:"09123456789",onChange:m=>f("mobile",m.target.value)}),a.jsx(Dt,{children:i.mobile})]}),a.jsxs(M,{md:"4",children:[a.jsx(ee,{children:" "}),a.jsx(ie,{value:r.phone,onChange:m=>f("phone",m.target.value)})]})]}),a.jsxs(pe,{className:"mb-3",children:[a.jsxs(M,{md:"4",children:[a.jsx(ee,{children:"  / "}),a.jsx(pi,{value:r.birthOrRegisterDate,onChange:m=>f("birthOrRegisterDate",m)})]}),a.jsxs(M,{md:"4",children:[a.jsx(ee,{children:" "}),a.jsx(ie,{value:r.postalCode,invalid:!!i.postalCode,maxLength:10,onChange:m=>f("postalCode",m.target.value)}),a.jsx(Dt,{children:i.postalCode})]}),a.jsxs(M,{md:"4",children:[a.jsx(ee,{children:" "}),a.jsx(ie,{value:r.economicCode,onChange:m=>f("economicCode",m.target.value)})]})]}),a.jsx(pe,{className:"mb-3",children:a.jsxs(M,{children:[a.jsx(ee,{children:" "}),a.jsx(ie,{type:"textarea",rows:3,value:r.address,onChange:m=>f("address",m.target.value)})]})}),a.jsx(pe,{children:a.jsxs(M,{children:[a.jsx(ee,{children:""}),a.jsx(ie,{type:"textarea",rows:2,value:r.description,onChange:m=>f("description",m.target.value)})]})})]}),a.jsxs(bc,{children:[a.jsx(_e,{color:"success",onClick:d,disabled:l,children:l?"  ...":" "}),a.jsx(_e,{color:"secondary",onClick:e,disabled:l,children:""})]})]})}const LFe=async()=>{try{const{data:t,error:e}=await je.from("customers").select("id, name, mobile, national_id").order("name");if(e)throw e;return t}catch(t){throw console.error("Error fetching customers:",t),t}},MFe=async()=>{try{const{data:t,error:e}=await je.from("product_categories").select("id, name").order("name");if(e)throw e;return t}catch(t){throw console.error("Error fetching categories:",t),t}},$Fe=async()=>{try{const{data:t,error:e}=await je.from("product_units").select("id, name, symbol").eq("is_active",!0).order("id");if(e)throw e;return t}catch(t){return console.error("Error fetching units:",t),[]}},FFe=async t=>{if(!t)return[];console.log("      :",t);try{const{data:e,error:n}=await je.from("products").select("*").eq("category_id",t).order("name");if(n)throw console.error("     :",n),n;return console.log("   :",e),e}catch(e){return console.error("     :",e),[]}},VFe=async t=>{try{const{data:e,error:n}=await je.from("products").select("*").eq("id",t).single();if(n)throw n;return e}catch{return null}};function UFe({value:t,onChange:e}){const n=t.owner||{},r=t.deliverer||{},[s,i]=C.useState([]),[o,l]=C.useState(!1),[c,u]=C.useState(!1),d=(b,x)=>e({...t,[b]:x}),f=(b,x)=>d("owner",{...n,[b]:x}),m=(b,x)=>d("deliverer",{...r,[b]:x});C.useEffect(()=>{l(!0),LFe().then(b=>i(b||[])).finally(()=>l(!1))},[]);const p=[...s.map(b=>({value:b.id,label:`${b.name}  ${b.mobile||" "}`,full:b})),{value:"add_new",label:"   ",isNew:!0}],y=(b,x)=>{if(!x)return d(b,{});if(x.isNew)return u(!0);const w=x.full;d(b,{id:w.id,tafsiliId:w.tafsili_id,name:w.name,nationalId:w.national_id,mobile:w.mobile,birthDate:w.birth_or_register_date})},_=b=>{i(x=>[...x,b]),d("owner",{id:b.id,name:b.name,nationalId:b.national_id,mobile:b.mobile,birthDate:b.birth_or_register_date}),u(!1)};return a.jsxs(a.Fragment,{children:[a.jsxs(Ct,{className:"mb-3 receipt-card",children:[a.jsxs("div",{className:"receipt-card-header",children:[a.jsxs("div",{className:"title",children:[a.jsx("i",{className:"ri-user-star-line me-2"})," "]}),a.jsx("div",{className:"subtitle",children:"  "})]}),a.jsxs(At,{children:[a.jsxs(pe,{className:"gy-3",children:[a.jsxs(M,{md:"4",children:[a.jsx(ee,{className:"fw-bold",children:"  *"}),a.jsx(ds,{styles:S9,isLoading:o,isClearable:!0,placeholder:"...",value:n.id?p.find(b=>b.value===n.id):null,onChange:b=>y("owner",b),options:p})]}),a.jsxs(M,{md:"4",children:[a.jsx(ee,{className:"fw-bold",children:" /  *"}),a.jsx(ie,{value:n.name||"",onChange:b=>f("name",b.target.value)})]}),a.jsxs(M,{md:"4",children:[a.jsx(ee,{className:"fw-bold",children:"  *"}),a.jsx(ie,{value:n.nationalId||"",maxLength:11,onChange:b=>f("nationalId",b.target.value)})]})]}),a.jsxs(pe,{className:"gy-3 mt-1",children:[a.jsxs(M,{md:"4",children:[a.jsx(ee,{children:"  / "}),a.jsx(pi,{value:n.birthDate,onChange:b=>f("birthDate",b)})]}),a.jsxs(M,{md:"4",children:[a.jsx(ee,{children:""}),a.jsx(ie,{value:n.mobile||"",maxLength:11,onChange:b=>f("mobile",b.target.value)})]})]})]})]}),a.jsxs(Ct,{className:"mb-3 receipt-card",children:[a.jsxs("div",{className:"receipt-card-header",children:[a.jsxs("div",{className:"title",children:[a.jsx("i",{className:"ri-user-received-2-line me-2"}),""]}),a.jsx("div",{className:"subtitle",children:"    "})]}),a.jsx(At,{children:a.jsxs(pe,{className:"gy-3",children:[a.jsxs(M,{md:"4",children:[a.jsx(ee,{children:" "}),a.jsx(ds,{styles:S9,isLoading:o,isClearable:!0,placeholder:"...",value:r.id?p.find(b=>b.value===r.id):null,onChange:b=>y("deliverer",b),options:p})]}),a.jsxs(M,{md:"4",children:[a.jsx(ee,{children:" / "}),a.jsx(ie,{value:r.name||"",onChange:b=>m("name",b.target.value)})]}),a.jsxs(M,{md:"4",children:[a.jsx(ee,{children:" "}),a.jsx(ie,{value:r.nationalId||"",maxLength:11,onChange:b=>m("nationalId",b.target.value)})]})]})})]}),a.jsx(DFe,{isOpen:c,onClose:()=>u(!1),onSelect:_})]})}const T9=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","D","S","",""].map(t=>({value:t,label:t})),QZ=({value:t,onChange:e})=>{const n=t||{middle3:"",letter:"",right2:"",left2:""},r=C.useRef(),s=C.useRef(),i=C.useRef(),o=C.useRef(),l=(d,f)=>{e({...n,[d]:f})},c=(d,f)=>{d.key==="Enter"&&(f!=null&&f.current)&&(d.preventDefault(),f.current.focus())},u={border:"none",background:"transparent",fontSize:"17px",fontWeight:"900",textAlign:"center",outline:"none",fontFamily:"Tahoma, Arial, sans-serif",padding:0,color:"#000",height:"100%"};return a.jsx("div",{style:{width:"100%",display:"flex",alignItems:"center",height:"44px",margin:0,padding:0},children:a.jsxs("div",{style:{width:"210px",height:"44px",border:"2px solid #000",borderRadius:"5px",display:"flex",background:"#fff",direction:"ltr",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",position:"relative"},children:[a.jsxs("div",{style:{width:"25px",background:"#003399",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",padding:"3px 0",color:"#fff",borderTopLeftRadius:"3px",borderBottomLeftRadius:"3px"},children:[a.jsxs("div",{style:{width:"16px",height:"11px",display:"flex",flexDirection:"column",border:"1px solid #fff"},children:[a.jsx("div",{style:{flex:1,background:"#239f40"}}),a.jsx("div",{style:{flex:1,background:"#fff"}}),a.jsx("div",{style:{flex:1,background:"#da0000"}})]}),a.jsxs("div",{style:{fontSize:"5px",fontWeight:"bold",lineHeight:"1.1",textAlign:"left"},children:[a.jsx("div",{style:{marginLeft:"1px"},children:"I.R."}),a.jsx("div",{style:{marginLeft:"1px"},children:"IRAN"})]})]}),a.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:[a.jsx("input",{ref:i,maxLength:2,value:n.right2,placeholder:"12",onChange:d=>{var m;const f=d.target.value.replace(/\D/g,"");l("right2",f),f.length===2&&((m=s.current)==null||m.focus())},onKeyDown:d=>c(d,s),style:{...u,width:"35px"}}),a.jsx("div",{style:{width:"45px",margin:"0"},children:a.jsx(ds,{ref:s,openMenuOnFocus:!0,options:T9,placeholder:"",value:T9.find(d=>d.value===n.letter)||null,onChange:d=>{var f;l("letter",d.value),(f=r.current)==null||f.focus()},menuPortalTarget:document.body,styles:{menuPortal:d=>({...d,zIndex:9999}),control:d=>({...d,border:"none",boxShadow:"none",background:"transparent",minHeight:"auto"}),valueContainer:d=>({...d,justifyContent:"center",padding:0}),indicatorsContainer:()=>({display:"none"}),singleValue:d=>({...d,fontSize:"16px",fontWeight:"bold",color:"#000"}),placeholder:d=>({...d,fontSize:"14px",textAlign:"center",color:"#ccc"}),menu:d=>({...d,width:"80px",textAlign:"center"})}})}),a.jsx("input",{ref:r,maxLength:3,value:n.middle3,placeholder:"345",onChange:d=>{var m;const f=d.target.value.replace(/\D/g,"");l("middle3",f),f.length===3&&((m=o.current)==null||m.focus())},onKeyDown:d=>c(d,o),style:{...u,width:"48px"}})]}),a.jsxs("div",{style:{width:"36px",borderLeft:"2px solid #000",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[a.jsx("div",{style:{fontSize:"8px",fontWeight:"bold",marginTop:"1px"},children:""}),a.jsx("input",{ref:o,maxLength:2,value:n.left2,placeholder:"11",onChange:d=>l("left2",d.target.value.replace(/\D/g,"")),style:{...u,width:"100%",fontSize:"14px",height:"auto"}})]})]})})};function BFe({value:t,onChange:e}){const n=t.driver||{},r=t.plate||{},s=(o,l)=>e({...t,[o]:l}),i=(o,l)=>s("driver",{...n,[o]:l});return a.jsxs(Ct,{className:"mb-3 receipt-card",children:[a.jsx("div",{className:"receipt-card-header",children:a.jsxs("div",{className:"title",children:[a.jsx("i",{className:"ri-user-line me-2"}),"  "]})}),a.jsxs(At,{children:[a.jsxs(pe,{className:"mb-3",children:[a.jsxs(M,{md:"4",children:[a.jsx(ee,{children:"  "}),a.jsx(ie,{value:n.nationalId||"",maxLength:10,onChange:o=>i("nationalId",o.target.value)})]}),a.jsxs(M,{md:"4",children:[a.jsx(ee,{children:"  "}),a.jsx(pi,{value:t.birthDateDriver,onChange:o=>s("birthDateDriver",o)})]}),a.jsxs(M,{md:"4",children:[a.jsx(ee,{children:" "}),a.jsx(ie,{value:n.name||"",onChange:o=>i("name",o.target.value)})]})]}),a.jsxs(pe,{className:"mb-3",children:[a.jsxs(M,{md:"4",children:[a.jsx(ee,{children:" "}),a.jsx(pi,{value:t.dischargeDate,onChange:o=>s("dischargeDate",o)})]}),a.jsxs(M,{md:"4",children:[a.jsx(ee,{children:" "}),a.jsx(ie,{value:n.phone||"",maxLength:11,onChange:o=>i("phone",o.target.value)})]}),a.jsxs(M,{md:"4",children:[a.jsx(ee,{children:" "}),a.jsx(QZ,{value:r,onChange:o=>s("plate",o)})]})]})]})]})}const zFe=({refType:t,setRefType:e,refValues:n,updateRefValue:r,barnamehDate:s,setBarnamehDate:i})=>{const o=l=>{e(l)};return a.jsxs(Ct,{className:"mb-3 receipt-card",children:[a.jsxs("div",{className:"receipt-card-header",children:[a.jsxs("div",{className:"title",children:[a.jsx("i",{className:"ri-file-list-3-line me-2"}),"  "]}),a.jsx("div",{className:"subtitle",children:"        "})]}),a.jsx(At,{children:a.jsxs(pe,{children:[a.jsxs(M,{md:"3",children:[a.jsx(ee,{className:"fw-bold d-block mb-2",children:"  "}),[{value:"none",label:" ",icon:"ri-close-circle-line"},{value:"barnameh",label:"",icon:"ri-truck-line"},{value:"petteh",label:" ",icon:"ri-shield-check-line"},{value:"havale",label:"  ",icon:"ri-file-transfer-line"},{value:"production",label:"  ",icon:"ri-settings-3-line"}].map(l=>a.jsxs("div",{className:"form-check mt-2",children:[a.jsx("input",{className:"form-check-input",type:"radio",name:"receiptRefTypeGroup",id:`refType-${l.value}`,value:l.value,checked:t===l.value,onChange:()=>o(l.value),onClick:()=>o(l.value)}),a.jsxs(ee,{className:"form-check-label ms-2 cursor-pointer",htmlFor:`refType-${l.value}`,style:{cursor:"pointer"},children:[a.jsx("i",{className:`${l.icon} me-1`}),l.label]})]},l.value))]}),t==="barnameh"&&a.jsx(M,{md:"9",children:a.jsxs(pe,{children:[a.jsxs(M,{md:"4",children:[a.jsxs(ee,{className:"form-label",children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(ie,{value:n.barnamehNumber||"",onChange:l=>r("barnamehNumber",l.target.value)})]}),a.jsxs(M,{md:"4",children:[a.jsxs(ee,{className:"form-label",children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(pi,{value:s,onChange:i})]}),a.jsxs(M,{md:"4",children:[a.jsx(ee,{className:"form-label",children:"  "}),a.jsx(ie,{value:n.barnamehTracking||"",onChange:l=>r("barnamehTracking",l.target.value)})]})]})}),t==="petteh"&&a.jsx(M,{md:"9",children:a.jsx(pe,{children:a.jsxs(M,{md:"6",children:[a.jsxs(ee,{className:"form-label",children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(ie,{value:n.pettehNumber||"",onChange:l=>r("pettehNumber",l.target.value)})]})})}),t==="havale"&&a.jsx(M,{md:"9",children:a.jsx(pe,{children:a.jsxs(M,{md:"6",children:[a.jsxs(ee,{className:"form-label",children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(ie,{value:n.havaleNumber||"",onChange:l=>r("havaleNumber",l.target.value)})]})})}),t==="production"&&a.jsx(M,{md:"9",children:a.jsx(pe,{children:a.jsxs(M,{md:"6",children:[a.jsxs(ee,{className:"form-label",children:["   ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(ie,{value:n.productionNumber||"",onChange:l=>r("productionNumber",l.target.value)})]})})})]})})]})};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function af(t,e){return typeof t=="function"?t(e):t}function Al(t,e){return n=>{e.setState(r=>({...r,[t]:af(n,r[t])}))}}function WA(t){return t instanceof Function}function WFe(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function GFe(t,e){const n=[],r=s=>{s.forEach(i=>{n.push(i);const o=e(i);o!=null&&o.length&&r(o)})};return r(t),n}function _n(t,e,n){let r=[],s;return i=>{let o;n.key&&n.debug&&(o=Date.now());const l=t(i);if(!(l.length!==r.length||l.some((d,f)=>r[f]!==d)))return s;r=l;let u;if(n.key&&n.debug&&(u=Date.now()),s=e(...l),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const d=Math.round((Date.now()-o)*100)/100,f=Math.round((Date.now()-u)*100)/100,m=f/16,p=(y,_)=>{for(y=String(y);y.length<_;)y=" "+y;return y};console.info(`%c ${p(f,5)} /${p(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*m,120))}deg 100% 31%);`,n==null?void 0:n.key)}return s}}function wn(t,e,n,r){return{debug:()=>{var s;return(s=t==null?void 0:t.debugAll)!=null?s:t[e]},key:!1,onChange:r}}function HFe(t,e,n,r){const s=()=>{var o;return(o=i.getValue())!=null?o:t.options.renderFallbackValue},i={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(r),renderValue:s,getContext:_n(()=>[t,n,e,i],(o,l,c,u)=>({table:o,column:l,row:c,cell:u,getValue:u.getValue,renderValue:u.renderValue}),wn(t.options,"debugCells"))};return t._features.forEach(o=>{o.createCell==null||o.createCell(i,n,e,t)},{}),i}function qFe(t,e,n,r){var s,i;const l={...t._getDefaultColumnDef(),...e},c=l.accessorKey;let u=(s=(i=l.id)!=null?i:c?typeof String.prototype.replaceAll=="function"?c.replaceAll(".","_"):c.replace(/\./g,"_"):void 0)!=null?s:typeof l.header=="string"?l.header:void 0,d;if(l.accessorFn?d=l.accessorFn:c&&(c.includes(".")?d=m=>{let p=m;for(const _ of c.split(".")){var y;p=(y=p)==null?void 0:y[_]}return p}:d=m=>m[l.accessorKey]),!u)throw new Error;let f={id:`${String(u)}`,accessorFn:d,parent:r,depth:n,columnDef:l,columns:[],getFlatColumns:_n(()=>[!0],()=>{var m;return[f,...(m=f.columns)==null?void 0:m.flatMap(p=>p.getFlatColumns())]},wn(t.options,"debugColumns")),getLeafColumns:_n(()=>[t._getOrderColumnsFn()],m=>{var p;if((p=f.columns)!=null&&p.length){let y=f.columns.flatMap(_=>_.getLeafColumns());return m(y)}return[f]},wn(t.options,"debugColumns"))};for(const m of t._features)m.createColumn==null||m.createColumn(f,t);return f}const Sa="debugHeaders";function C9(t,e,n){var r;let i={id:(r=n.id)!=null?r:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],l=c=>{c.subHeaders&&c.subHeaders.length&&c.subHeaders.map(l),o.push(c)};return l(i),o},getContext:()=>({table:t,header:i,column:e})};return t._features.forEach(o=>{o.createHeader==null||o.createHeader(i,t)}),i}const YFe={createTable:t=>{t.getHeaderGroups=_n(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,s)=>{var i,o;const l=(i=r==null?void 0:r.map(f=>n.find(m=>m.id===f)).filter(Boolean))!=null?i:[],c=(o=s==null?void 0:s.map(f=>n.find(m=>m.id===f)).filter(Boolean))!=null?o:[],u=n.filter(f=>!(r!=null&&r.includes(f.id))&&!(s!=null&&s.includes(f.id)));return YS(e,[...l,...u,...c],t)},wn(t.options,Sa)),t.getCenterHeaderGroups=_n(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,s)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(s!=null&&s.includes(i.id))),YS(e,n,t,"center")),wn(t.options,Sa)),t.getLeftHeaderGroups=_n(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,r)=>{var s;const i=(s=r==null?void 0:r.map(o=>n.find(l=>l.id===o)).filter(Boolean))!=null?s:[];return YS(e,i,t,"left")},wn(t.options,Sa)),t.getRightHeaderGroups=_n(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,r)=>{var s;const i=(s=r==null?void 0:r.map(o=>n.find(l=>l.id===o)).filter(Boolean))!=null?s:[];return YS(e,i,t,"right")},wn(t.options,Sa)),t.getFooterGroups=_n(()=>[t.getHeaderGroups()],e=>[...e].reverse(),wn(t.options,Sa)),t.getLeftFooterGroups=_n(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),wn(t.options,Sa)),t.getCenterFooterGroups=_n(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),wn(t.options,Sa)),t.getRightFooterGroups=_n(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),wn(t.options,Sa)),t.getFlatHeaders=_n(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),wn(t.options,Sa)),t.getLeftFlatHeaders=_n(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),wn(t.options,Sa)),t.getCenterFlatHeaders=_n(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),wn(t.options,Sa)),t.getRightFlatHeaders=_n(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),wn(t.options,Sa)),t.getCenterLeafHeaders=_n(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),wn(t.options,Sa)),t.getLeftLeafHeaders=_n(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),wn(t.options,Sa)),t.getRightLeafHeaders=_n(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),wn(t.options,Sa)),t.getLeafHeaders=_n(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,r)=>{var s,i,o,l,c,u;return[...(s=(i=e[0])==null?void 0:i.headers)!=null?s:[],...(o=(l=n[0])==null?void 0:l.headers)!=null?o:[],...(c=(u=r[0])==null?void 0:u.headers)!=null?c:[]].map(d=>d.getLeafHeaders()).flat()},wn(t.options,Sa))}};function YS(t,e,n,r){var s,i;let o=0;const l=function(m,p){p===void 0&&(p=1),o=Math.max(o,p),m.filter(y=>y.getIsVisible()).forEach(y=>{var _;(_=y.columns)!=null&&_.length&&l(y.columns,p+1)},0)};l(t);let c=[];const u=(m,p)=>{const y={depth:p,id:[r,`${p}`].filter(Boolean).join("_"),headers:[]},_=[];m.forEach(b=>{const x=[..._].reverse()[0],w=b.column.depth===y.depth;let E,T=!1;if(w&&b.column.parent?E=b.column.parent:(E=b.column,T=!0),x&&(x==null?void 0:x.column)===E)x.subHeaders.push(b);else{const N=C9(n,E,{id:[r,p,E.id,b==null?void 0:b.id].filter(Boolean).join("_"),isPlaceholder:T,placeholderId:T?`${_.filter(P=>P.column===E).length}`:void 0,depth:p,index:_.length});N.subHeaders.push(b),_.push(N)}y.headers.push(b),b.headerGroup=y}),c.push(y),p>0&&u(_,p-1)},d=e.map((m,p)=>C9(n,m,{depth:o,index:p}));u(d,o-1),c.reverse();const f=m=>m.filter(y=>y.column.getIsVisible()).map(y=>{let _=0,b=0,x=[0];y.subHeaders&&y.subHeaders.length?(x=[],f(y.subHeaders).forEach(E=>{let{colSpan:T,rowSpan:N}=E;_+=T,x.push(N)})):_=1;const w=Math.min(...x);return b=b+w,y.colSpan=_,y.rowSpan=b,{colSpan:_,rowSpan:b}});return f((s=(i=c[0])==null?void 0:i.headers)!=null?s:[]),c}const zF=(t,e,n,r,s,i,o)=>{let l={id:e,index:r,original:n,depth:s,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(l._valuesCache.hasOwnProperty(c))return l._valuesCache[c];const u=t.getColumn(c);if(u!=null&&u.accessorFn)return l._valuesCache[c]=u.accessorFn(l.original,r),l._valuesCache[c]},getUniqueValues:c=>{if(l._uniqueValuesCache.hasOwnProperty(c))return l._uniqueValuesCache[c];const u=t.getColumn(c);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(l._uniqueValuesCache[c]=u.columnDef.getUniqueValues(l.original,r),l._uniqueValuesCache[c]):(l._uniqueValuesCache[c]=[l.getValue(c)],l._uniqueValuesCache[c])},renderValue:c=>{var u;return(u=l.getValue(c))!=null?u:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>GFe(l.subRows,c=>c.subRows),getParentRow:()=>l.parentId?t.getRow(l.parentId,!0):void 0,getParentRows:()=>{let c=[],u=l;for(;;){const d=u.getParentRow();if(!d)break;c.push(d),u=d}return c.reverse()},getAllCells:_n(()=>[t.getAllLeafColumns()],c=>c.map(u=>HFe(t,l,u,u.id)),wn(t.options,"debugRows")),_getAllCellsByColumnId:_n(()=>[l.getAllCells()],c=>c.reduce((u,d)=>(u[d.column.id]=d,u),{}),wn(t.options,"debugRows"))};for(let c=0;c<t._features.length;c++){const u=t._features[c];u==null||u.createRow==null||u.createRow(l,t)}return l},KFe={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},ZZ=(t,e,n)=>{var r,s;const i=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((s=t.getValue(e))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(i))};ZZ.autoRemove=t=>Jc(t);const XZ=(t,e,n)=>{var r;return!!(!((r=t.getValue(e))==null||(r=r.toString())==null)&&r.includes(n))};XZ.autoRemove=t=>Jc(t);const eX=(t,e,n)=>{var r;return((r=t.getValue(e))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};eX.autoRemove=t=>Jc(t);const tX=(t,e,n)=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(n)};tX.autoRemove=t=>Jc(t);const nX=(t,e,n)=>!n.some(r=>{var s;return!((s=t.getValue(e))!=null&&s.includes(r))});nX.autoRemove=t=>Jc(t)||!(t!=null&&t.length);const rX=(t,e,n)=>n.some(r=>{var s;return(s=t.getValue(e))==null?void 0:s.includes(r)});rX.autoRemove=t=>Jc(t)||!(t!=null&&t.length);const sX=(t,e,n)=>t.getValue(e)===n;sX.autoRemove=t=>Jc(t);const iX=(t,e,n)=>t.getValue(e)==n;iX.autoRemove=t=>Jc(t);const WF=(t,e,n)=>{let[r,s]=n;const i=t.getValue(e);return i>=r&&i<=s};WF.resolveFilterValue=t=>{let[e,n]=t,r=typeof e!="number"?parseFloat(e):e,s=typeof n!="number"?parseFloat(n):n,i=e===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(s)?1/0:s;if(i>o){const l=i;i=o,o=l}return[i,o]};WF.autoRemove=t=>Jc(t)||Jc(t[0])&&Jc(t[1]);const Td={includesString:ZZ,includesStringSensitive:XZ,equalsString:eX,arrIncludes:tX,arrIncludesAll:nX,arrIncludesSome:rX,equals:sX,weakEquals:iX,inNumberRange:WF};function Jc(t){return t==null||t===""}const JFe={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:Al("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(t.id);return typeof r=="string"?Td.includesString:typeof r=="number"?Td.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Td.equals:Array.isArray(r)?Td.arrIncludes:Td.weakEquals},t.getFilterFn=()=>{var n,r;return WA(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(r=e.options.filterFns)==null?void 0:r[t.columnDef.filterFn])!=null?n:Td[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,r,s;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((r=e.options.enableColumnFilters)!=null?r:!0)&&((s=e.options.enableFilters)!=null?s:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(r=>r.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,r;return(n=(r=e.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(r=>{const s=t.getFilterFn(),i=r==null?void 0:r.find(d=>d.id===t.id),o=af(n,i?i.value:void 0);if(A9(s,o,t)){var l;return(l=r==null?void 0:r.filter(d=>d.id!==t.id))!=null?l:[]}const c={id:t.id,value:o};if(i){var u;return(u=r==null?void 0:r.map(d=>d.id===t.id?c:d))!=null?u:[]}return r!=null&&r.length?[...r,c]:[c]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),r=s=>{var i;return(i=af(e,s))==null?void 0:i.filter(o=>{const l=n.find(c=>c.id===o.id);if(l){const c=l.getFilterFn();if(A9(c,o.value,l))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(r)},t.resetColumnFilters=e=>{var n,r;t.setColumnFilters(e?[]:(n=(r=t.initialState)==null?void 0:r.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function A9(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const QFe=(t,e,n)=>n.reduce((r,s)=>{const i=s.getValue(t);return r+(typeof i=="number"?i:0)},0),ZFe=(t,e,n)=>{let r;return n.forEach(s=>{const i=s.getValue(t);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},XFe=(t,e,n)=>{let r;return n.forEach(s=>{const i=s.getValue(t);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},e4e=(t,e,n)=>{let r,s;return n.forEach(i=>{const o=i.getValue(t);o!=null&&(r===void 0?o>=o&&(r=s=o):(r>o&&(r=o),s<o&&(s=o)))}),[r,s]},t4e=(t,e)=>{let n=0,r=0;if(e.forEach(s=>{let i=s.getValue(t);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},n4e=(t,e)=>{if(!e.length)return;const n=e.map(i=>i.getValue(t));if(!WFe(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),s=n.sort((i,o)=>i-o);return n.length%2!==0?s[r]:(s[r-1]+s[r])/2},r4e=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),s4e=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,i4e=(t,e)=>e.length,oR={sum:QFe,min:ZFe,max:XFe,extent:e4e,mean:t4e,median:n4e,unique:r4e,uniqueCount:s4e,count:i4e},a4e={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:Al("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(r=>r!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,r;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((r=e.options.enableGrouping)!=null?r:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(t.id);if(typeof r=="number")return oR.sum;if(Object.prototype.toString.call(r)==="[object Date]")return oR.extent},t.getAggregationFn=()=>{var n,r;if(!t)throw new Error;return WA(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(r=e.options.aggregationFns)==null?void 0:r[t.columnDef.aggregationFn])!=null?n:oR[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,r;t.setGrouping(e?[]:(n=(r=t.initialState)==null?void 0:r.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const r=e.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(t._groupingValuesCache[n]=r.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,r)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var s;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function o4e(t,e,n){if(!(e!=null&&e.length)||!n)return t;const r=t.filter(i=>!e.includes(i.id));return n==="remove"?r:[...e.map(i=>t.find(o=>o.id===i)).filter(Boolean),...r]}const l4e={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:Al("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=_n(n=>[Ew(e,n)],n=>n.findIndex(r=>r.id===t.id),wn(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var r;return((r=Ew(e,n)[0])==null?void 0:r.id)===t.id},t.getIsLastColumn=n=>{var r;const s=Ew(e,n);return((r=s[s.length-1])==null?void 0:r.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=_n(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,r)=>s=>{let i=[];if(!(e!=null&&e.length))i=s;else{const o=[...e],l=[...s];for(;l.length&&o.length;){const c=o.shift(),u=l.findIndex(d=>d.id===c);u>-1&&i.push(l.splice(u,1)[0])}i=[...i,...l]}return o4e(i,n,r)},wn(t.options,"debugTable"))}},lR=()=>({left:[],right:[]}),c4e={getInitialState:t=>({columnPinning:lR(),...t}),getDefaultOptions:t=>({onColumnPinningChange:Al("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const r=t.getLeafColumns().map(s=>s.id).filter(Boolean);e.setColumnPinning(s=>{var i,o;if(n==="right"){var l,c;return{left:((l=s==null?void 0:s.left)!=null?l:[]).filter(f=>!(r!=null&&r.includes(f))),right:[...((c=s==null?void 0:s.right)!=null?c:[]).filter(f=>!(r!=null&&r.includes(f))),...r]}}if(n==="left"){var u,d;return{left:[...((u=s==null?void 0:s.left)!=null?u:[]).filter(f=>!(r!=null&&r.includes(f))),...r],right:((d=s==null?void 0:s.right)!=null?d:[]).filter(f=>!(r!=null&&r.includes(f)))}}return{left:((i=s==null?void 0:s.left)!=null?i:[]).filter(f=>!(r!=null&&r.includes(f))),right:((o=s==null?void 0:s.right)!=null?o:[]).filter(f=>!(r!=null&&r.includes(f)))}})},t.getCanPin=()=>t.getLeafColumns().some(r=>{var s,i,o;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((i=(o=e.options.enableColumnPinning)!=null?o:e.options.enablePinning)!=null?i:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(l=>l.id),{left:r,right:s}=e.getState().columnPinning,i=n.some(l=>r==null?void 0:r.includes(l)),o=n.some(l=>s==null?void 0:s.includes(l));return i?"left":o?"right":!1},t.getPinnedIndex=()=>{var n,r;const s=t.getIsPinned();return s?(n=(r=e.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=_n(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,s)=>{const i=[...r??[],...s??[]];return n.filter(o=>!i.includes(o.column.id))},wn(e.options,"debugRows")),t.getLeftVisibleCells=_n(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),wn(e.options,"debugRows")),t.getRightVisibleCells=_n(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),wn(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,r;return t.setColumnPinning(e?lR():(n=(r=t.initialState)==null?void 0:r.columnPinning)!=null?n:lR())},t.getIsSomeColumnsPinned=e=>{var n;const r=t.getState().columnPinning;if(!e){var s,i;return!!((s=r.left)!=null&&s.length||(i=r.right)!=null&&i.length)}return!!((n=r[e])!=null&&n.length)},t.getLeftLeafColumns=_n(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(r=>e.find(s=>s.id===r)).filter(Boolean),wn(t.options,"debugColumns")),t.getRightLeafColumns=_n(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(r=>e.find(s=>s.id===r)).filter(Boolean),wn(t.options,"debugColumns")),t.getCenterLeafColumns=_n(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r)=>{const s=[...n??[],...r??[]];return e.filter(i=>!s.includes(i.id))},wn(t.options,"debugColumns"))}};function u4e(t){return t||(typeof document<"u"?document:null)}const KS={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},cR=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),d4e={getDefaultColumnDef:()=>KS,getInitialState:t=>({columnSizing:{},columnSizingInfo:cR(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Al("columnSizing",t),onColumnSizingInfoChange:Al("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,r,s;const i=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:KS.minSize,(r=i??t.columnDef.size)!=null?r:KS.size),(s=t.columnDef.maxSize)!=null?s:KS.maxSize)},t.getStart=_n(n=>[n,Ew(e,n),e.getState().columnSizing],(n,r)=>r.slice(0,t.getIndex(n)).reduce((s,i)=>s+i.getSize(),0),wn(e.options,"debugColumns")),t.getAfter=_n(n=>[n,Ew(e,n),e.getState().columnSizing],(n,r)=>r.slice(t.getIndex(n)+1).reduce((s,i)=>s+i.getSize(),0),wn(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:r,...s}=n;return s})},t.getCanResize=()=>{var n,r;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((r=e.options.enableColumnResizing)!=null?r:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var i;n+=(i=s.column.getSize())!=null?i:0}};return r(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const r=e.getColumn(t.column.id),s=r==null?void 0:r.getCanResize();return i=>{if(!r||!s||(i.persist==null||i.persist(),uR(i)&&i.touches&&i.touches.length>1))return;const o=t.getSize(),l=t?t.getLeafHeaders().map(x=>[x.column.id,x.column.getSize()]):[[r.id,r.getSize()]],c=uR(i)?Math.round(i.touches[0].clientX):i.clientX,u={},d=(x,w)=>{typeof w=="number"&&(e.setColumnSizingInfo(E=>{var T,N;const P=e.options.columnResizeDirection==="rtl"?-1:1,D=(w-((T=E==null?void 0:E.startOffset)!=null?T:0))*P,F=Math.max(D/((N=E==null?void 0:E.startSize)!=null?N:0),-.999999);return E.columnSizingStart.forEach(Y=>{let[q,B]=Y;u[q]=Math.round(Math.max(B+B*F,0)*100)/100}),{...E,deltaOffset:D,deltaPercentage:F}}),(e.options.columnResizeMode==="onChange"||x==="end")&&e.setColumnSizing(E=>({...E,...u})))},f=x=>d("move",x),m=x=>{d("end",x),e.setColumnSizingInfo(w=>({...w,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},p=u4e(n),y={moveHandler:x=>f(x.clientX),upHandler:x=>{p==null||p.removeEventListener("mousemove",y.moveHandler),p==null||p.removeEventListener("mouseup",y.upHandler),m(x.clientX)}},_={moveHandler:x=>(x.cancelable&&(x.preventDefault(),x.stopPropagation()),f(x.touches[0].clientX),!1),upHandler:x=>{var w;p==null||p.removeEventListener("touchmove",_.moveHandler),p==null||p.removeEventListener("touchend",_.upHandler),x.cancelable&&(x.preventDefault(),x.stopPropagation()),m((w=x.touches[0])==null?void 0:w.clientX)}},b=h4e()?{passive:!1}:!1;uR(i)?(p==null||p.addEventListener("touchmove",_.moveHandler,b),p==null||p.addEventListener("touchend",_.upHandler,b)):(p==null||p.addEventListener("mousemove",y.moveHandler,b),p==null||p.addEventListener("mouseup",y.upHandler,b)),e.setColumnSizingInfo(x=>({...x,startOffset:c,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:r.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?cR():(n=t.initialState.columnSizingInfo)!=null?n:cR())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?e:0}}};let JS=null;function h4e(){if(typeof JS=="boolean")return JS;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return JS=t,JS}function uR(t){return t.type==="touchstart"}const f4e={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:Al("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(r=>({...r,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,r;const s=t.columns;return(n=s.length?s.some(i=>i.getIsVisible()):(r=e.getState().columnVisibility)==null?void 0:r[t.id])!=null?n:!0},t.getCanHide=()=>{var n,r;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((r=e.options.enableHiding)!=null?r:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=_n(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),wn(e.options,"debugRows")),t.getVisibleCells=_n(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,r,s)=>[...n,...r,...s],wn(e.options,"debugRows"))},createTable:t=>{const e=(n,r)=>_n(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),wn(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var r;t.setColumnVisibility(n?{}:(r=t.initialState.columnVisibility)!=null?r:{})},t.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((s,i)=>({...s,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;t.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Ew(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const m4e={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},p4e={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:Al("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const r=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,r,s,i;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=e.options.enableGlobalFilter)!=null?r:!0)&&((s=e.options.enableFilters)!=null?s:!0)&&((i=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?i:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>Td.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:r}=t.options;return WA(r)?r:r==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[r])!=null?e:Td[r]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},g4e={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:Al("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var r,s;if(!e){t._queue(()=>{e=!0});return}if((r=(s=t.options.autoResetAll)!=null?s:t.options.autoResetExpanded)!=null?r:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=r=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(r),t.toggleAllRowsExpanded=r=>{r??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=r=>{var s,i;t.setExpanded(r?{}:(s=(i=t.initialState)==null?void 0:i.expanded)!=null?s:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const r=t.getState().expanded;return r===!0||Object.values(r).some(Boolean)},t.getIsAllRowsExpanded=()=>{const r=t.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||t.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},t.getExpandedDepth=()=>{let r=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(i=>{const o=i.split(".");r=Math.max(r,o.length)}),r},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(r=>{var s;const i=r===!0?!0:!!(r!=null&&r[t.id]);let o={};if(r===!0?Object.keys(e.getRowModel().rowsById).forEach(l=>{o[l]=!0}):o=r,n=(s=n)!=null?s:!i,!i&&n)return{...o,[t.id]:!0};if(i&&!n){const{[t.id]:l,...c}=o;return c}return r})},t.getIsExpanded=()=>{var n;const r=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:r===!0||r!=null&&r[t.id])},t.getCanExpand=()=>{var n,r,s;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((r=e.options.enableExpanding)!=null?r:!0)&&!!((s=t.subRows)!=null&&s.length)},t.getIsAllParentsExpanded=()=>{let n=!0,r=t;for(;n&&r.parentId;)r=e.getRow(r.parentId,!0),n=r.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},pL=0,gL=10,dR=()=>({pageIndex:pL,pageSize:gL}),y4e={getInitialState:t=>({...t,pagination:{...dR(),...t==null?void 0:t.pagination}}),getDefaultOptions:t=>({onPaginationChange:Al("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var r,s;if(!e){t._queue(()=>{e=!0});return}if((r=(s=t.options.autoResetAll)!=null?s:t.options.autoResetPageIndex)!=null?r:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=r=>{const s=i=>af(r,i);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(s)},t.resetPagination=r=>{var s;t.setPagination(r?dR():(s=t.initialState.pagination)!=null?s:dR())},t.setPageIndex=r=>{t.setPagination(s=>{let i=af(r,s.pageIndex);const o=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return i=Math.max(0,Math.min(i,o)),{...s,pageIndex:i}})},t.resetPageIndex=r=>{var s,i;t.setPageIndex(r?pL:(s=(i=t.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?s:pL)},t.resetPageSize=r=>{var s,i;t.setPageSize(r?gL:(s=(i=t.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?s:gL)},t.setPageSize=r=>{t.setPagination(s=>{const i=Math.max(1,af(r,s.pageSize)),o=s.pageSize*s.pageIndex,l=Math.floor(o/i);return{...s,pageIndex:l,pageSize:i}})},t.setPageCount=r=>t.setPagination(s=>{var i;let o=af(r,(i=t.options.pageCount)!=null?i:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...s,pageCount:o}}),t.getPageOptions=_n(()=>[t.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((i,o)=>o)),s},wn(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:r}=t.getState().pagination,s=t.getPageCount();return s===-1?!0:s===0?!1:r<s-1},t.previousPage=()=>t.setPageIndex(r=>r-1),t.nextPage=()=>t.setPageIndex(r=>r+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var r;return(r=t.options.pageCount)!=null?r:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var r;return(r=t.options.rowCount)!=null?r:t.getPrePaginationRowModel().rows.length}}},hR=()=>({top:[],bottom:[]}),v4e={getInitialState:t=>({rowPinning:hR(),...t}),getDefaultOptions:t=>({onRowPinningChange:Al("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,r,s)=>{const i=r?t.getLeafRows().map(c=>{let{id:u}=c;return u}):[],o=s?t.getParentRows().map(c=>{let{id:u}=c;return u}):[],l=new Set([...o,t.id,...i]);e.setRowPinning(c=>{var u,d;if(n==="bottom"){var f,m;return{top:((f=c==null?void 0:c.top)!=null?f:[]).filter(_=>!(l!=null&&l.has(_))),bottom:[...((m=c==null?void 0:c.bottom)!=null?m:[]).filter(_=>!(l!=null&&l.has(_))),...Array.from(l)]}}if(n==="top"){var p,y;return{top:[...((p=c==null?void 0:c.top)!=null?p:[]).filter(_=>!(l!=null&&l.has(_))),...Array.from(l)],bottom:((y=c==null?void 0:c.bottom)!=null?y:[]).filter(_=>!(l!=null&&l.has(_)))}}return{top:((u=c==null?void 0:c.top)!=null?u:[]).filter(_=>!(l!=null&&l.has(_))),bottom:((d=c==null?void 0:c.bottom)!=null?d:[]).filter(_=>!(l!=null&&l.has(_)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:s}=e.options;return typeof r=="function"?r(t):(n=r??s)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:r,bottom:s}=e.getState().rowPinning,i=n.some(l=>r==null?void 0:r.includes(l)),o=n.some(l=>s==null?void 0:s.includes(l));return i?"top":o?"bottom":!1},t.getPinnedIndex=()=>{var n,r;const s=t.getIsPinned();if(!s)return-1;const i=(n=s==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(o=>{let{id:l}=o;return l});return(r=i==null?void 0:i.indexOf(t.id))!=null?r:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,r;return t.setRowPinning(e?hR():(n=(r=t.initialState)==null?void 0:r.rowPinning)!=null?n:hR())},t.getIsSomeRowsPinned=e=>{var n;const r=t.getState().rowPinning;if(!e){var s,i;return!!((s=r.top)!=null&&s.length||(i=r.bottom)!=null&&i.length)}return!!((n=r[e])!=null&&n.length)},t._getPinnedRows=(e,n,r)=>{var s;return((s=t.options.keepPinnedRows)==null||s?(n??[]).map(o=>{const l=t.getRow(o,!0);return l.getIsAllParentsExpanded()?l:null}):(n??[]).map(o=>e.find(l=>l.id===o))).filter(Boolean).map(o=>({...o,position:r}))},t.getTopRows=_n(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),wn(t.options,"debugRows")),t.getBottomRows=_n(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),wn(t.options,"debugRows")),t.getCenterRows=_n(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,r)=>{const s=new Set([...n??[],...r??[]]);return e.filter(i=>!s.has(i.id))},wn(t.options,"debugRows"))}},b4e={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:Al("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const r={...n},s=t.getPreGroupedRowModel().flatRows;return e?s.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):s.forEach(i=>{delete r[i.id]}),r})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const r=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),s={...n};return t.getRowModel().rows.forEach(i=>{yL(s,i.id,r,!0,t)}),s}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=_n(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?fR(t,n):{rows:[],flatRows:[],rowsById:{}},wn(t.options,"debugTable")),t.getFilteredSelectedRowModel=_n(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?fR(t,n):{rows:[],flatRows:[],rowsById:{}},wn(t.options,"debugTable")),t.getGroupedSelectedRowModel=_n(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?fR(t,n):{rows:[],flatRows:[],rowsById:{}},wn(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let r=!!(e.length&&Object.keys(n).length);return r&&e.some(s=>s.getCanSelect()&&!n[s.id])&&(r=!1),r},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=t.getState();let r=!!e.length;return r&&e.some(s=>!n[s.id])&&(r=!1),r},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,r)=>{const s=t.getIsSelected();e.setRowSelection(i=>{var o;if(n=typeof n<"u"?n:!s,t.getCanSelect()&&s===n)return i;const l={...i};return yL(l,t.id,n,(o=r==null?void 0:r.selectChildren)!=null?o:!0,e),l})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return GF(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return vL(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return vL(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return r=>{var s;n&&t.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},yL=(t,e,n,r,s)=>{var i;const o=s.getRow(e,!0);n?(o.getCanMultiSelect()||Object.keys(t).forEach(l=>delete t[l]),o.getCanSelect()&&(t[e]=!0)):delete t[e],r&&(i=o.subRows)!=null&&i.length&&o.getCanSelectSubRows()&&o.subRows.forEach(l=>yL(t,l.id,n,r,s))};function fR(t,e){const n=t.getState().rowSelection,r=[],s={},i=function(o,l){return o.map(c=>{var u;const d=GF(c,n);if(d&&(r.push(c),s[c.id]=c),(u=c.subRows)!=null&&u.length&&(c={...c,subRows:i(c.subRows)}),d)return c}).filter(Boolean)};return{rows:i(e.rows),flatRows:r,rowsById:s}}function GF(t,e){var n;return(n=e[t.id])!=null?n:!1}function vL(t,e,n){var r;if(!((r=t.subRows)!=null&&r.length))return!1;let s=!0,i=!1;return t.subRows.forEach(o=>{if(!(i&&!s)&&(o.getCanSelect()&&(GF(o,e)?i=!0:s=!1),o.subRows&&o.subRows.length)){const l=vL(o,e);l==="all"?i=!0:(l==="some"&&(i=!0),s=!1)}}),s?"all":i?"some":!1}const bL=/([0-9]+)/gm,_4e=(t,e,n)=>aX(Of(t.getValue(n)).toLowerCase(),Of(e.getValue(n)).toLowerCase()),w4e=(t,e,n)=>aX(Of(t.getValue(n)),Of(e.getValue(n))),x4e=(t,e,n)=>HF(Of(t.getValue(n)).toLowerCase(),Of(e.getValue(n)).toLowerCase()),E4e=(t,e,n)=>HF(Of(t.getValue(n)),Of(e.getValue(n))),S4e=(t,e,n)=>{const r=t.getValue(n),s=e.getValue(n);return r>s?1:r<s?-1:0},j4e=(t,e,n)=>HF(t.getValue(n),e.getValue(n));function HF(t,e){return t===e?0:t>e?1:-1}function Of(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function aX(t,e){const n=t.split(bL).filter(Boolean),r=e.split(bL).filter(Boolean);for(;n.length&&r.length;){const s=n.shift(),i=r.shift(),o=parseInt(s,10),l=parseInt(i,10),c=[o,l].sort();if(isNaN(c[0])){if(s>i)return 1;if(i>s)return-1;continue}if(isNaN(c[1]))return isNaN(o)?-1:1;if(o>l)return 1;if(l>o)return-1}return n.length-r.length}const E_={alphanumeric:_4e,alphanumericCaseSensitive:w4e,text:x4e,textCaseSensitive:E4e,datetime:S4e,basic:j4e},T4e={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:Al("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of n){const i=s==null?void 0:s.getValue(t.id);if(Object.prototype.toString.call(i)==="[object Date]")return E_.datetime;if(typeof i=="string"&&(r=!0,i.split(bL).length>1))return E_.alphanumeric}return r?E_.text:E_.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(t.id))=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,r;if(!t)throw new Error;return WA(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(r=e.options.sortingFns)==null?void 0:r[t.columnDef.sortingFn])!=null?n:E_[t.columnDef.sortingFn]},t.toggleSorting=(n,r)=>{const s=t.getNextSortingOrder(),i=typeof n<"u"&&n!==null;e.setSorting(o=>{const l=o==null?void 0:o.find(p=>p.id===t.id),c=o==null?void 0:o.findIndex(p=>p.id===t.id);let u=[],d,f=i?n:s==="desc";if(o!=null&&o.length&&t.getCanMultiSort()&&r?l?d="toggle":d="add":o!=null&&o.length&&c!==o.length-1?d="replace":l?d="toggle":d="replace",d==="toggle"&&(i||s||(d="remove")),d==="add"){var m;u=[...o,{id:t.id,desc:f}],u.splice(0,u.length-((m=e.options.maxMultiSortColCount)!=null?m:Number.MAX_SAFE_INTEGER))}else d==="toggle"?u=o.map(p=>p.id===t.id?{...p,desc:f}:p):d==="remove"?u=o.filter(p=>p.id!==t.id):u=[{id:t.id,desc:f}];return u})},t.getFirstSortDir=()=>{var n,r;return((n=(r=t.columnDef.sortDescFirst)!=null?r:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var r,s;const i=t.getFirstSortDir(),o=t.getIsSorted();return o?o!==i&&((r=e.options.enableSortingRemoval)==null||r)&&(!(n&&(s=e.options.enableMultiRemove)!=null)||s)?!1:o==="desc"?"asc":"desc":i},t.getCanSort=()=>{var n,r;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((r=e.options.enableSorting)!=null?r:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,r;return(n=(r=t.columnDef.enableMultiSort)!=null?r:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const r=(n=e.getState().sorting)==null?void 0:n.find(s=>s.id===t.id);return r?r.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,r;return(n=(r=e.getState().sorting)==null?void 0:r.findIndex(s=>s.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return r=>{n&&(r.persist==null||r.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(r):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,r;t.setSorting(e?[]:(n=(r=t.initialState)==null?void 0:r.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},C4e=[YFe,f4e,l4e,c4e,KFe,JFe,m4e,p4e,T4e,a4e,g4e,y4e,v4e,b4e,d4e];function A4e(t){var e,n;const r=[...C4e,...(e=t._features)!=null?e:[]];let s={_features:r};const i=s._features.reduce((m,p)=>Object.assign(m,p.getDefaultOptions==null?void 0:p.getDefaultOptions(s)),{}),o=m=>s.options.mergeOptions?s.options.mergeOptions(i,m):{...i,...m};let c={...{},...(n=t.initialState)!=null?n:{}};s._features.forEach(m=>{var p;c=(p=m.getInitialState==null?void 0:m.getInitialState(c))!=null?p:c});const u=[];let d=!1;const f={_features:r,options:{...i,...t},initialState:c,_queue:m=>{u.push(m),d||(d=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();d=!1}).catch(p=>setTimeout(()=>{throw p})))},reset:()=>{s.setState(s.initialState)},setOptions:m=>{const p=af(m,s.options);s.options=o(p)},getState:()=>s.options.state,setState:m=>{s.options.onStateChange==null||s.options.onStateChange(m)},_getRowId:(m,p,y)=>{var _;return(_=s.options.getRowId==null?void 0:s.options.getRowId(m,p,y))!=null?_:`${y?[y.id,p].join("."):p}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(m,p)=>{let y=(p?s.getPrePaginationRowModel():s.getRowModel()).rowsById[m];if(!y&&(y=s.getCoreRowModel().rowsById[m],!y))throw new Error;return y},_getDefaultColumnDef:_n(()=>[s.options.defaultColumn],m=>{var p;return m=(p=m)!=null?p:{},{header:y=>{const _=y.header.column.columnDef;return _.accessorKey?_.accessorKey:_.accessorFn?_.id:null},cell:y=>{var _,b;return(_=(b=y.renderValue())==null||b.toString==null?void 0:b.toString())!=null?_:null},...s._features.reduce((y,_)=>Object.assign(y,_.getDefaultColumnDef==null?void 0:_.getDefaultColumnDef()),{}),...m}},wn(t,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:_n(()=>[s._getColumnDefs()],m=>{const p=function(y,_,b){return b===void 0&&(b=0),y.map(x=>{const w=qFe(s,x,b,_),E=x;return w.columns=E.columns?p(E.columns,w,b+1):[],w})};return p(m)},wn(t,"debugColumns")),getAllFlatColumns:_n(()=>[s.getAllColumns()],m=>m.flatMap(p=>p.getFlatColumns()),wn(t,"debugColumns")),_getAllFlatColumnsById:_n(()=>[s.getAllFlatColumns()],m=>m.reduce((p,y)=>(p[y.id]=y,p),{}),wn(t,"debugColumns")),getAllLeafColumns:_n(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(m,p)=>{let y=m.flatMap(_=>_.getLeafColumns());return p(y)},wn(t,"debugColumns")),getColumn:m=>s._getAllFlatColumnsById()[m]};Object.assign(s,f);for(let m=0;m<s._features.length;m++){const p=s._features[m];p==null||p.createTable==null||p.createTable(s)}return s}function N4e(){return t=>_n(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(s,i,o){i===void 0&&(i=0);const l=[];for(let u=0;u<s.length;u++){const d=zF(t,t._getRowId(s[u],u,o),s[u],u,i,void 0,o==null?void 0:o.id);if(n.flatRows.push(d),n.rowsById[d.id]=d,l.push(d),t.options.getSubRows){var c;d.originalSubRows=t.options.getSubRows(s[u],u),(c=d.originalSubRows)!=null&&c.length&&(d.subRows=r(d.originalSubRows,i+1,d))}}return l};return n.rows=r(e),n},wn(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function I4e(t,e,n){return n.options.filterFromLeafRows?k4e(t,e,n):O4e(t,e,n)}function k4e(t,e,n){var r;const s=[],i={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(c,u){u===void 0&&(u=0);const d=[];for(let m=0;m<c.length;m++){var f;let p=c[m];const y=zF(n,p.id,p.original,p.index,p.depth,void 0,p.parentId);if(y.columnFilters=p.columnFilters,(f=p.subRows)!=null&&f.length&&u<o){if(y.subRows=l(p.subRows,u+1),p=y,e(p)&&!y.subRows.length){d.push(p),i[p.id]=p,s.push(p);continue}if(e(p)||y.subRows.length){d.push(p),i[p.id]=p,s.push(p);continue}}else p=y,e(p)&&(d.push(p),i[p.id]=p,s.push(p))}return d};return{rows:l(t),flatRows:s,rowsById:i}}function O4e(t,e,n){var r;const s=[],i={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(c,u){u===void 0&&(u=0);const d=[];for(let m=0;m<c.length;m++){let p=c[m];if(e(p)){var f;if((f=p.subRows)!=null&&f.length&&u<o){const _=zF(n,p.id,p.original,p.index,p.depth,void 0,p.parentId);_.subRows=l(p.subRows,u+1),p=_}d.push(p),s.push(p),i[p.id]=p}}return d};return{rows:l(t),flatRows:s,rowsById:i}}function R4e(){return t=>_n(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter],(e,n,r)=>{if(!e.rows.length||!(n!=null&&n.length)&&!r){for(let m=0;m<e.flatRows.length;m++)e.flatRows[m].columnFilters={},e.flatRows[m].columnFiltersMeta={};return e}const s=[],i=[];(n??[]).forEach(m=>{var p;const y=t.getColumn(m.id);if(!y)return;const _=y.getFilterFn();_&&s.push({id:m.id,filterFn:_,resolvedValue:(p=_.resolveFilterValue==null?void 0:_.resolveFilterValue(m.value))!=null?p:m.value})});const o=(n??[]).map(m=>m.id),l=t.getGlobalFilterFn(),c=t.getAllLeafColumns().filter(m=>m.getCanGlobalFilter());r&&l&&c.length&&(o.push("__global__"),c.forEach(m=>{var p;i.push({id:m.id,filterFn:l,resolvedValue:(p=l.resolveFilterValue==null?void 0:l.resolveFilterValue(r))!=null?p:r})}));let u,d;for(let m=0;m<e.flatRows.length;m++){const p=e.flatRows[m];if(p.columnFilters={},s.length)for(let y=0;y<s.length;y++){u=s[y];const _=u.id;p.columnFilters[_]=u.filterFn(p,_,u.resolvedValue,b=>{p.columnFiltersMeta[_]=b})}if(i.length){for(let y=0;y<i.length;y++){d=i[y];const _=d.id;if(d.filterFn(p,_,d.resolvedValue,b=>{p.columnFiltersMeta[_]=b})){p.columnFilters.__global__=!0;break}}p.columnFilters.__global__!==!0&&(p.columnFilters.__global__=!1)}}const f=m=>{for(let p=0;p<o.length;p++)if(m.columnFilters[o[p]]===!1)return!1;return!0};return I4e(e.rows,f,t)},wn(t.options,"debugTable","getFilteredRowModel",()=>t._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function P4e(t,e){return t?D4e(t)?C.createElement(t,e):t:null}function D4e(t){return L4e(t)||typeof t=="function"||M4e(t)}function L4e(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function M4e(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function $4e(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=C.useState(()=>({current:A4e(e)})),[r,s]=C.useState(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...t,state:{...r,...t.state},onStateChange:o=>{s(o),t.onStateChange==null||t.onStateChange(o)}})),n.current}const mR={basic:{label:" ",icon:"ri-file-list-line",columns:["id","rowCode","categoryId","productId","nationalProductId","productDescription","productionType"]},quantity:{label:"  ",icon:"ri-scales-line",columns:["count","unit","fullWeight","emptyWeight","netWeight","originWeight","weightDiff"]},dimensions:{label:"",icon:"ri-ruler-line",columns:["length","width","thickness"]},status:{label:" ",icon:"ri-checkbox-circle-line",columns:["isUsed","isDefective"]},tracking:{label:"  ",icon:"ri-barcode-line",columns:["heatNumber","bundleNo","brand","orderNo","parentRow"]},location:{label:"  ",icon:"ri-map-pin-line",columns:["depoLocation","descriptionNotes"]}},F4e=({isOpen:t,toggle:e,columnVisibility:n={},columnLabels:r={},onToggleColumn:s})=>{const[i,o]=C.useState(""),l=C.useMemo(()=>{if(!i.trim())return mR;const f=i.toLowerCase();let m={};return Object.entries(mR).forEach(([p,y])=>{const _=y.columns.filter(b=>{const x=r[b];return x&&x.toLowerCase().includes(f)});_.length>0&&(m[p]={...y,columns:_})}),m},[i,r]),c=f=>{const m={...n,[f]:!n[f]};s(m)},u=f=>{const m={...n};Object.values(mR).forEach(p=>{p.columns.forEach(y=>m[y]=f)}),s(m)},d=Object.values(n).filter(Boolean).length;return a.jsxs(Mi,{isOpen:t,toggle:e,size:"lg",scrollable:!0,centered:!0,children:[a.jsx(Bo,{toggle:e,className:"bg-light",children:a.jsxs("div",{className:"d-flex align-items-center gap-2",children:[a.jsx("i",{className:"ri-layout-column-line"}),"  ",a.jsxs(ct,{color:"primary",pill:!0,className:"ms-2",children:[d,"  "]})]})}),a.jsxs(Qa,{className:"p-4 bg-soft-light",children:[a.jsxs(pe,{className:"mb-4 align-items-center g-2",children:[a.jsx(M,{md:6,children:a.jsxs("div",{className:"position-relative",children:[a.jsx(ie,{placeholder:"  ...",value:i,onChange:f=>o(f.target.value),style:{paddingRight:"35px"},className:"bg-white border-light"}),a.jsx("i",{className:"ri-search-line position-absolute top-50 translate-middle-y text-muted",style:{right:"10px"}})]})}),a.jsxs(M,{md:6,className:"text-end",children:[a.jsx(_e,{size:"sm",color:"soft-success",className:"me-2",onClick:()=>u(!0),children:" "}),a.jsx(_e,{size:"sm",color:"soft-danger",onClick:()=>u(!1),children:" "})]})]}),a.jsx("div",{className:"d-flex flex-column gap-3",children:Object.entries(l).map(([f,m])=>{const p=m.columns.filter(_=>n[_]).length,y=m.columns.length>0&&p===m.columns.length;return a.jsxs("div",{className:"card border shadow-sm mb-0",children:[a.jsxs("div",{className:"card-header bg-white py-2 px-3 d-flex justify-content-between align-items-center",children:[a.jsxs("div",{className:"d-flex align-items-center gap-2",children:[a.jsx("div",{className:"avatar-xs d-flex align-items-center justify-content-center bg-soft-primary rounded text-primary",children:a.jsx("i",{className:m.icon})}),a.jsx("span",{className:"fw-bold text-dark font-size-13",children:m.label})]}),a.jsx("div",{className:"form-check form-switch m-0",title:"/  ",children:a.jsx("input",{className:"form-check-input cursor-pointer",type:"checkbox",checked:y,onChange:_=>{const b={...n};m.columns.forEach(x=>b[x]=_.target.checked),s(b)}})})]}),a.jsx("div",{className:"card-body p-3",children:a.jsx(pe,{children:m.columns.map(_=>{const b=r[_];if(!b)return null;const x=!!n[_];return a.jsx(M,{xs:"6",sm:"4",md:"3",className:"mb-2",children:a.jsxs("div",{className:`d-flex align-items-center p-2 rounded border cursor-pointer transition-all ${x?"border-primary bg-soft-primary":"border-light bg-white"}`,onClick:()=>c(_),children:[a.jsx("input",{type:"checkbox",className:"form-check-input m-0 me-2 cursor-pointer",checked:x,onChange:()=>c(_),onClick:w=>w.stopPropagation()}),a.jsx("span",{className:`font-size-12 ${x?"text-primary fw-bold":"text-muted"}`,children:b})]})},_)})})})]},f)})})]}),a.jsx(bc,{children:a.jsx(_e,{color:"primary",onClick:e,className:"w-100",children:"   "})})]})},Ca={primary:"#556ee6",success:"#34c38f",info:"#50a5f1",dark:"#343a40",muted:"#74788d",light:"#f8f9fa",white:"#ffffff",border:"#eff2f7"},Ur={card:{boxShadow:"0 0.75rem 1.5rem rgba(18,38,63,.03)",borderRadius:"0.25rem",border:"none",marginBottom:"1.5rem"},cardHeader:{background:"linear-gradient(135deg, #556ee6 0%, #4458cb 100%)",borderRadius:"0.25rem 0.25rem 0 0",padding:"1rem 1.25rem",borderBottom:"none"},cardTitle:{color:"#fff",fontSize:"1.1rem",fontWeight:500,margin:0},tableWrapper:{overflowX:"auto",borderRadius:"0 0 0.25rem 0.25rem"},table:{marginBottom:0,fontSize:"0.8125rem",tableLayout:"fixed"},tableHead:{backgroundColor:Ca.light,borderBottom:`2px solid ${Ca.border}`},th:{fontWeight:600,color:Ca.dark,padding:"0.75rem 0.5rem",whiteSpace:"nowrap",fontSize:"0.8125rem",borderTop:"none",verticalAlign:"middle",textAlign:"center",position:"relative",userSelect:"none"},td:{padding:"0.5rem",verticalAlign:"middle",borderColor:Ca.border},input:{fontSize:"0.8125rem",padding:"0.35rem 0.5rem",borderRadius:"0.2rem",border:`1px solid ${Ca.border}`,textAlign:"center",transition:"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out",width:"100%"},select:{fontSize:"0.8125rem",padding:"0.35rem 0.5rem",borderRadius:"0.2rem",border:`1px solid ${Ca.border}`,backgroundColor:Ca.white,cursor:"pointer",width:"100%"},badge:{fontSize:"0.75rem",padding:"0.35em 0.65em",fontWeight:500},summaryRow:{backgroundColor:Ca.light,fontWeight:600},actionBtn:{padding:"0.25rem 0.5rem",fontSize:"0.75rem",lineHeight:1.5,borderRadius:"0.2rem"},statsCard:{background:"linear-gradient(135deg, #fff 0%, #f8f9fa 100%)",borderRadius:"0.25rem",padding:"0.75rem 1rem",border:`1px solid ${Ca.border}`,display:"flex",alignItems:"center",gap:"0.75rem"},statsIcon:{width:"40px",height:"40px",borderRadius:"0.25rem",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.25rem"},resizeHandle:{position:"absolute",left:0,top:0,height:"100%",width:"5px",cursor:"col-resize",backgroundColor:"transparent",zIndex:1}},$r={actions:"",id:"#",national_product_id:" ",category_id:" ",product_id:" ",product_description:" ",production_type:" ",count:"",unit_id:"",weights_full:" ",weights_empty:" ",weights_net:" ",weights_origin:" ",weights_diff:" ",is_used:"",is_defective:"",dim_length:"",dim_width:"",dim_thickness:"",heat_number:"Heat No",bundle_no:" ",brand:"",order_no:" ",parent_row:" ",depo_location:" ",description_notes:"",row_code:" "},N9=Object.keys($r),I9={actions:60,id:50,national_product_id:140,category_id:180,product_id:200,product_description:150,count:90},k9=Object.fromEntries(Object.keys($r).map(t=>[t,!0])),oX="receiptTable_settings_v9",V4e=()=>{try{const t=localStorage.getItem(oX);if(t)return{columnOrder:N9,columnWidths:I9,columnVisibility:k9,...JSON.parse(t)}}catch{}return{columnOrder:N9,columnWidths:I9,columnVisibility:k9}},U4e=t=>localStorage.setItem(oX,JSON.stringify(t)),ea=C.memo(({getValue:t,row:e,column:n,updateData:r,type:s="text"})=>{const i=t(),[o,l]=C.useState(i);C.useEffect(()=>l(i),[i]);const c=()=>r(e.index,n.id,o);return s==="number"?a.jsx("input",{type:"text",className:"form-control form-control-sm",value:o??"",onChange:u=>l(u.target.value.replace(/[^0-9.]/g,"")),onBlur:c,style:Ur.input}):a.jsx("input",{type:"text",className:"form-control form-control-sm",value:o??"",onChange:u=>l(u.target.value),onBlur:c,style:Ur.input})}),B4e=({columnId:t,columnWidth:e,onResize:n,children:r})=>{const s=C.useRef(0),i=C.useRef(0),o=l=>{l.preventDefault(),l.stopPropagation(),s.current=l.clientX,i.current=e;const c=d=>n(t,Math.max(50,i.current+(s.current-d.clientX))),u=()=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",u)};document.addEventListener("mousemove",c),document.addEventListener("mouseup",u)};return a.jsxs("th",{style:{...Ur.th,width:e,minWidth:e,maxWidth:e},children:[a.jsx("div",{style:Ur.resizeHandle,onMouseDown:o}),r]})},pR=({icon:t,label:e,value:n,color:r,bgColor:s})=>a.jsxs("div",{style:Ur.statsCard,children:[a.jsx("div",{style:{...Ur.statsIcon,backgroundColor:s,color:r},children:a.jsx("i",{className:t})}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"0.75rem",color:Ca.muted},children:e}),a.jsx("div",{style:{fontSize:"1rem",fontWeight:600,color:Ca.dark},children:n})]})]}),z4e=({onItemsChange:t,ownerId:e,initialItems:n})=>{const[r,s]=C.useState([]),[i,o]=C.useState([]),[l,c]=C.useState([]),[u,d]=C.useState({}),[f,m]=C.useState(!1),p=C.useRef(!1),[y,_]=C.useState(V4e),{columnOrder:b,columnWidths:x,columnVisibility:w}=y;C.useEffect(()=>U4e(y),[y]);const E=C.useMemo(()=>r.reduce((G,J)=>({count:G.count+Number(J.count||0),weights_net:G.weights_net+Number(J.weights_net||0),items:G.items+1}),{count:0,weights_net:0,items:0}),[r]);C.useEffect(()=>{MFe().then(G=>o(G||[])).catch(console.error),$Fe().then(G=>c(G||[])).catch(console.error)},[]);const T=C.useCallback(async G=>{if(!(!G||u[G]))try{const J=await FFe(G);d(W=>({...W,[G]:J}))}catch(J){console.error(J)}},[u]);C.useEffect(()=>{if(!(n!=null&&n.length)||p.current)return;(async()=>{const J=await Promise.all(n.map(async(W,z)=>{let Z=W.category_id;if(!Z&&W.product_id)try{const X=await VFe(W.product_id);Z=X==null?void 0:X.category_id}catch{}return{id:z+1,category_id:Z,product_id:W.product_id,national_product_id:W.national_product_id,product_description:W.product_description,count:W.count,unit_id:W.unit_id||W.unit||1,production_type:W.production_type||"domestic",is_used:!!W.is_used,is_defective:!!W.is_defective,weights_full:W.weights_full,weights_empty:W.weights_empty,weights_net:W.weights_net,weights_origin:W.weights_origin,weights_diff:W.weights_diff,dim_length:W.dim_length,dim_width:W.dim_width,dim_thickness:W.dim_thickness,heat_number:W.heat_number,bundle_no:W.bundle_no,brand:W.brand,order_no:W.order_no,parentRow:W.parent_row,depoLocation:W.depo_location,descriptionNotes:W.description_notes,rowCode:W.row_code}}));p.current=!0,s(J),[...new Set(J.map(W=>W.category_id).filter(Boolean))].forEach(T)})()},[n,T]),C.useEffect(()=>{if(!t)return;const G=r.map(J=>({owner_id:e,category_id:Number(J.category_id)||null,product_id:Number(J.product_id)||null,national_product_id:J.national_product_id,product_description:J.product_description,count:Number(J.count||0),unit_id:Number(J.unit_id)||1,production_type:J.production_type||"domestic",is_used:!!J.is_used,is_defective:!!J.is_defective,weights_full:Number(J.weights_full||0),weights_empty:Number(J.weights_empty||0),weights_net:Number(J.weights_net||0),weights_origin:Number(J.weights_origin||0),weights_diff:Number(J.weights_diff||0),dim_length:Number(J.dim_length||0),dim_width:Number(J.dim_width||0),dim_thickness:Number(J.dim_thickness||0),heat_number:J.heat_number,bundle_no:J.bundle_no,brand:J.brand,order_no:J.order_no,parent_row:J.parentRow||"",depo_location:J.depoLocation||"",description_notes:J.descriptionNotes||"",row_code:J.rowCode||""}));t(G)},[r,e,t]);const N=()=>s(G=>[...G,{id:G.length+1,unit_id:1,production_type:"domestic",is_used:!1,is_defective:!1}]),P=G=>s(J=>J.filter(W=>W.id!==G)),D=C.useCallback((G,J,W)=>{s(z=>z.map((Z,X)=>{if(X!==G)return Z;const ne={...Z,[J]:W};if(["weights_full","weights_empty","weights_origin"].includes(J)){const le=Number(J==="weights_full"?W:Z.weights_full)||0,ge=Number(J==="weights_empty"?W:Z.weights_empty)||0,Ue=Number(J==="weights_origin"?W:Z.weights_origin)||0;ne.weights_net=le-ge,ne.weights_diff=ne.weights_net-Ue}return J==="category_id"&&(ne.product_id="",T(W)),ne}))},[T]),F=C.useCallback((G,J)=>_(W=>({...W,columnWidths:{...W.columnWidths,[G]:J}})),[]),Y=C.useMemo(()=>({actions:{id:"actions",header:()=>a.jsx(_e,{color:"success",size:"sm",onClick:N,style:Ur.actionBtn,children:a.jsx("i",{className:"bx bx-plus"})}),cell:({row:G})=>a.jsx(_e,{color:"danger",size:"sm",outline:!0,onClick:()=>P(G.original.id),style:Ur.actionBtn,children:a.jsx("i",{className:"bx bx-trash-alt"})})},id:{id:"id",header:"#",accessorKey:"id",cell:({getValue:G})=>a.jsx(ct,{color:"light",style:{...Ur.badge,color:Ca.primary},children:G()})},category_id:{id:"category_id",header:$r.category_id,cell:({row:G})=>a.jsxs("select",{className:"form-select form-select-sm",value:G.original.category_id||"",onChange:J=>D(G.index,"category_id",J.target.value),style:Ur.select,children:[a.jsx("option",{value:"",children:"..."}),i.map(J=>a.jsx("option",{value:J.id,children:J.name},J.id))]})},product_id:{id:"product_id",header:$r.product_id,cell:({row:G})=>a.jsxs("select",{className:"form-select form-select-sm",value:G.original.product_id||"",onChange:J=>D(G.index,"product_id",J.target.value),style:Ur.select,children:[a.jsx("option",{value:"",children:"..."}),(u[G.original.category_id]||[]).map(J=>a.jsx("option",{value:J.id,children:J.name},J.id))]})},count:{id:"count",header:$r.count,accessorKey:"count",cell:G=>a.jsx(ea,{...G,updateData:D,type:"number"})},unit_id:{id:"unit_id",header:$r.unit_id,cell:({row:G})=>a.jsx("select",{className:"form-select form-select-sm",value:G.original.unit_id||"",onChange:J=>D(G.index,"unit_id",J.target.value),style:Ur.select,children:l.map(J=>a.jsx("option",{value:J.id,children:J.name},J.id))})},weights_full:{id:"weights_full",header:$r.weights_full,accessorKey:"weights_full",cell:G=>a.jsx(ea,{...G,updateData:D,type:"number"})},weights_empty:{id:"weights_empty",header:$r.weights_empty,accessorKey:"weights_empty",cell:G=>a.jsx(ea,{...G,updateData:D,type:"number"})},weights_net:{id:"weights_net",header:$r.weights_net,cell:({row:G})=>a.jsx(ct,{color:"primary",style:Ur.badge,children:Number(G.original.weights_net||0).toLocaleString()})},weights_origin:{id:"weights_origin",header:$r.weights_origin,accessorKey:"weights_origin",cell:G=>a.jsx(ea,{...G,updateData:D,type:"number"})},weights_diff:{id:"weights_diff",header:$r.weights_diff,cell:({row:G})=>{const J=Number(G.original.weights_diff||0);return a.jsxs(ct,{color:J>0?"success":J<0?"danger":"secondary",style:Ur.badge,children:[J>0?"+":"",J.toLocaleString()]})}},national_product_id:{id:"national_product_id",header:$r.national_product_id,accessorKey:"national_product_id",cell:G=>a.jsx(ea,{...G,updateData:D})},product_description:{id:"product_description",header:$r.product_description,accessorKey:"product_description",cell:G=>a.jsx(ea,{...G,updateData:D})},production_type:{id:"production_type",header:$r.production_type,cell:({row:G})=>a.jsxs("select",{className:"form-select form-select-sm",value:G.original.production_type,onChange:J=>D(G.index,"production_type",J.target.value),style:Ur.select,children:[a.jsx("option",{value:"domestic",children:""}),a.jsx("option",{value:"import",children:""})]})},is_used:{id:"is_used",header:$r.is_used,cell:({row:G})=>a.jsx("input",{type:"checkbox",className:"form-check-input",checked:G.original.is_used,onChange:J=>D(G.index,"is_used",J.target.checked)})},is_defective:{id:"is_defective",header:$r.is_defective,cell:({row:G})=>a.jsx("input",{type:"checkbox",className:"form-check-input",checked:G.original.is_defective,onChange:J=>D(G.index,"is_defective",J.target.checked)})},dim_length:{id:"dim_length",header:$r.dim_length,accessorKey:"dim_length",cell:G=>a.jsx(ea,{...G,updateData:D,type:"number"})},dim_width:{id:"dim_width",header:$r.dim_width,accessorKey:"dim_width",cell:G=>a.jsx(ea,{...G,updateData:D,type:"number"})},dim_thickness:{id:"dim_thickness",header:$r.dim_thickness,accessorKey:"dim_thickness",cell:G=>a.jsx(ea,{...G,updateData:D,type:"number"})},heat_number:{id:"heat_number",header:$r.heat_number,accessorKey:"heat_number",cell:G=>a.jsx(ea,{...G,updateData:D})},bundle_no:{id:"bundle_no",header:$r.bundle_no,accessorKey:"bundle_no",cell:G=>a.jsx(ea,{...G,updateData:D})},brand:{id:"brand",header:$r.brand,accessorKey:"brand",cell:G=>a.jsx(ea,{...G,updateData:D})},order_no:{id:"order_no",header:$r.order_no,accessorKey:"order_no",cell:G=>a.jsx(ea,{...G,updateData:D})},parent_row:{id:"parent_row",header:$r.parent_row,accessorKey:"parentRow",cell:G=>a.jsx(ea,{...G,updateData:D})},depo_location:{id:"depo_location",header:$r.depo_location,accessorKey:"depoLocation",cell:G=>a.jsx(ea,{...G,updateData:D})},row_code:{id:"row_code",header:$r.row_code,accessorKey:"rowCode",cell:G=>a.jsx(ea,{...G,updateData:D})},description_notes:{id:"description_notes",header:$r.description_notes,accessorKey:"descriptionNotes",cell:G=>a.jsx(ea,{...G,updateData:D})}}),[i,u,l,D]),q=C.useMemo(()=>b.filter(G=>w[G]!==!1).map(G=>Y[G]).filter(Boolean),[b,w,Y]),B=$4e({data:r,columns:q,getCoreRowModel:N4e(),getFilteredRowModel:R4e()});return a.jsxs(Ct,{style:Ur.card,children:[a.jsx(G$,{style:Ur.cardHeader,children:a.jsxs(pe,{className:"align-items-center",children:[a.jsx(M,{children:a.jsxs("h5",{style:Ur.cardTitle,children:[a.jsx("i",{className:"bx bx-package me-2"})," "]})}),a.jsx(M,{xs:"auto",children:a.jsxs(_e,{color:"light",size:"sm",onClick:()=>m(!0),style:{...Ur.actionBtn,backgroundColor:"rgba(255,255,255,0.2)",border:"none",color:"#fff"},children:[a.jsx("i",{className:"bx bx-cog me-1"}),""]})})]})}),a.jsxs(At,{style:{padding:"1.25rem"},children:[a.jsxs(pe,{className:"mb-3 g-3",children:[a.jsx(M,{md:4,children:a.jsx(pR,{icon:"bx bx-box",label:" ",value:E.items,color:Ca.primary,bgColor:"rgba(85, 110, 230, 0.1)"})}),a.jsx(M,{md:4,children:a.jsx(pR,{icon:"bx bx-layer",label:" ",value:E.count.toLocaleString(),color:Ca.success,bgColor:"rgba(52, 195, 143, 0.1)"})}),a.jsx(M,{md:4,children:a.jsx(pR,{icon:"bx bx-cylinder",label:"  ",value:`${E.weights_net.toLocaleString()} `,color:Ca.info,bgColor:"rgba(80, 165, 241, 0.1)"})})]}),a.jsx("div",{style:Ur.tableWrapper,children:a.jsxs(Yn,{hover:!0,responsive:!0,className:"table-nowrap mb-0 align-middle",style:Ur.table,children:[a.jsx("thead",{style:Ur.tableHead,children:a.jsx("tr",{children:q.map(G=>a.jsx(B4e,{columnId:G.id,columnWidth:x[G.id]||100,onResize:F,children:G.header},G.id))})}),a.jsx("tbody",{children:B.getRowModel().rows.map(G=>a.jsx("tr",{children:G.getVisibleCells().map(J=>a.jsx("td",{style:{...Ur.td,width:x[J.column.id]||100,minWidth:x[J.column.id],maxWidth:x[J.column.id]},children:P4e(J.column.columnDef.cell,J.getContext())},J.id))},G.id))}),r.length>0&&a.jsx("tfoot",{children:a.jsxs("tr",{style:Ur.summaryRow,children:[a.jsx("td",{colSpan:3,style:Ur.td,children:a.jsx("strong",{children:" "})}),a.jsx("td",{style:{...Ur.td,textAlign:"center"},children:a.jsx(ct,{color:"success",children:E.count.toLocaleString()})}),a.jsx("td",{colSpan:4,style:{...Ur.td,textAlign:"center"},children:a.jsx(ct,{color:"primary",children:E.weights_net.toLocaleString()})})]})})]})}),r.length===0&&a.jsxs("div",{className:"text-center py-5",style:{color:Ca.muted},children:[a.jsx("i",{className:"bx bx-inbox",style:{fontSize:"3rem",opacity:.5}}),a.jsx("p",{className:"mt-2 mb-0",children:"  "}),a.jsxs(_e,{color:"primary",size:"sm",onClick:N,className:"mt-3",children:[a.jsx("i",{className:"bx bx-plus me-1"})," "]})]})]}),a.jsx(F4e,{isOpen:f,toggle:()=>m(!1),columnVisibility:w,columnLabels:$r,onToggleColumn:G=>_(J=>({...J,columnVisibility:G}))})]})},W4e=["","","","","","",""," ","","","","  ","","","",""," "," ",""];function G4e({value:t,onChange:e,sourceOptions:n=[]}){const{paymentBy:r,info:s={}}=t,i=(l,c)=>{e({...t,[l]:c})},o=(l,c)=>{e({...t,info:{...s,[l]:c}})};return a.jsxs(Ct,{className:"mb-3 receipt-card",style:{marginTop:25},children:[a.jsxs("div",{className:"receipt-card-header",children:[a.jsxs("div",{className:"title",children:[a.jsx("i",{className:"ri-exchange-dollar-line me-2"})," "]}),a.jsx("div",{className:"subtitle",children:"    "})]}),a.jsxs(At,{style:{paddingTop:25},children:[a.jsx(pe,{className:"mb-4",children:a.jsxs(M,{md:"4",children:[a.jsx(ee,{className:"form-label fw-bold",children:"  *"}),a.jsxs(ie,{type:"select",className:"form-select",value:r,onChange:l=>i("paymentBy",l.target.value),children:[a.jsx("option",{value:"customer",children:" (   )"}),a.jsx("option",{value:"warehouse",children:" "})]})]})}),r==="warehouse"&&a.jsxs("div",{className:"bg-light p-3 rounded border",children:[a.jsx("h6",{className:"text-primary mb-3 fw-bold",children:"  (  )"}),a.jsxs(pe,{className:"gy-3 mb-4",children:[a.jsxs(M,{md:"6",children:[a.jsx(ee,{className:"form-label fw-bold",children:"  () *"}),a.jsx(ie,{type:"text",className:"fw-bold text-center",placeholder:"0",value:s.amount?Number(s.amount).toLocaleString():"",onChange:l=>o("amount",l.target.value.replace(/[^0-9]/g,""))})]}),a.jsxs(M,{md:"6",children:[a.jsx(ee,{className:"form-label fw-bold",children:"  (/) *"}),a.jsx(ds,{options:n,value:s.selectedSource,onChange:l=>o("selectedSource",l),placeholder:"       ...",menuPlacement:"auto"}),a.jsx("div",{className:"form-text text-muted font-size-11",children:"           ."})]})]}),a.jsx("hr",{}),a.jsx("h6",{className:"text-secondary mb-3 font-size-13",children:"  ()"}),a.jsxs(pe,{className:"gy-3",children:[a.jsxs(M,{md:"3",children:[a.jsx(ee,{className:"form-label",children:"  / "}),a.jsx(ie,{placeholder:"  ",value:s.trackingCode||"",onChange:l=>o("trackingCode",l.target.value)})]}),a.jsxs(M,{md:"3",children:[a.jsx(ee,{className:"form-label",children:"  "}),a.jsx(ie,{placeholder:" /",value:s.cardNumber||"",onChange:l=>o("cardNumber",l.target.value)})]}),a.jsxs(M,{md:"3",children:[a.jsx(ee,{className:"form-label",children:" "}),a.jsxs(ie,{type:"select",value:s.bankName||"",onChange:l=>o("bankName",l.target.value),children:[a.jsx("option",{value:"",children:" "}),W4e.map(l=>a.jsx("option",{value:l,children:l},l))]})]}),a.jsxs(M,{md:"3",children:[a.jsx(ee,{className:"form-label",children:"  "}),a.jsx(ie,{placeholder:" ",value:s.ownerName||"",onChange:l=>o("ownerName",l.target.value)})]})]})]})]})]})}const _L=t=>t?String(t).replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","):"",H4e=t=>t?String(t).replace(/\D/g,""):"",q4e=({value:t,onChange:e,inputRef:n,onKeyDown:r})=>{const[s,i]=C.useState("");C.useEffect(()=>i(_L(t)),[t]);const o=l=>{const c=H4e(l.target.value);i(_L(c)),e(c)};return a.jsx(ie,{type:"text",dir:"ltr",value:s,onChange:o,onKeyDown:r,innerRef:n,inputMode:"numeric",placeholder:"0",className:"cost-input"})},O9=["loadCost","unloadCost","warehouseCost","tax","returnFreight","loadingFee","miscCost"];function Y4e({value:t,onChange:e}){const n=t||{},r=C.useRef({}),[s,i]=C.useState(!1),o=(u,d)=>{const f=d===""?"":Number(d)||0;e({...n,[u]:f}),u==="miscCost"&&i(f>0)},l=(u,d)=>{var m,p;if(u.key!=="Enter")return;u.preventDefault();const f=O9[O9.indexOf(d)+1];f?(m=r.current[f])==null||m.focus():n.miscCost>0&&((p=r.current.miscDescription)==null||p.focus())};C.useEffect(()=>i(Number(n.miscCost)>0),[n.miscCost]);const c=["loadCost","unloadCost","warehouseCost","tax","returnFreight","loadingFee","miscCost"].reduce((u,d)=>u+(Number(n[d])||0),0);return a.jsxs("div",{className:"receipt-costs-card",children:[a.jsxs("div",{className:"costs-header",children:[a.jsxs("div",{className:"costs-title",children:[a.jsx("i",{className:"ri-calculator-line"}),a.jsx("span",{children:""})]}),a.jsxs("div",{className:"costs-total",children:[a.jsx("span",{className:"total-label",children:" :"}),a.jsx("span",{className:"total-value",children:_L(c)}),a.jsx("span",{className:"total-unit",children:""})]})]}),a.jsx(pe,{className:"costs-grid",children:[{key:"loadCost",label:"",icon:"ri-truck-line",className:"loading"},{key:"unloadCost",label:"",icon:"ri-download-2-line",className:"unloading"},{key:"warehouseCost",label:"",icon:"ri-home-gear-line",className:"warehouse"},{key:"tax",label:"",icon:"ri-percent-line",className:"tax"},{key:"returnFreight",label:"",icon:"ri-arrow-go-back-line",className:"return-freight"},{key:"loadingFee",label:"",icon:"ri-stack-line",className:"loading-fee"},{key:"miscCost",label:"",icon:"ri-more-2-line",className:"misc"}].map(({key:u,label:d,icon:f,className:m})=>a.jsx(M,{lg:"3",md:"4",sm:"6",children:a.jsxs("div",{className:"cost-item",children:[a.jsx("div",{className:`cost-icon ${m}`,children:a.jsx("i",{className:f})}),a.jsxs("div",{className:"cost-content",children:[a.jsx(ee,{className:"cost-label",children:d}),a.jsxs("div",{className:"cost-input-wrapper",children:[a.jsx(q4e,{value:n[u],onChange:p=>o(u,p),onKeyDown:p=>l(p,u),inputRef:p=>r.current[u]=p}),a.jsx("span",{className:"cost-unit",children:""})]})]})]})},u))}),a.jsx(b0,{isOpen:s,children:a.jsx("div",{className:"misc-description-wrapper",children:a.jsxs("div",{className:"misc-description-item",children:[a.jsx("div",{className:"misc-desc-icon",children:a.jsx("i",{className:"ri-file-text-line"})}),a.jsxs("div",{className:"misc-desc-content",children:[a.jsx(ee,{className:"misc-desc-label",children:"  "}),a.jsx(ie,{type:"textarea",rows:2,placeholder:"    ...",value:n.miscDescription||"",onChange:u=>e({...n,miscDescription:u.target.value}),innerRef:u=>r.current.miscDescription=u})]})]})})})]})}const K4e=({form:t,receiptNo:e})=>{var l,c,u,d,f,m,p,y,_,b,x,w,E;if(!t||!t.items)return null;const n=(T,N="")=>T?`${T} ${N}`:"-",r=T=>T||T===0?Number(T).toLocaleString("fa-IR"):"-",s=T=>T?new Date(T).toLocaleDateString("fa-IR"):"-",i=C.useMemo(()=>{const T=t.items;return{nationalProductId:T.some(N=>N.national_product_id),productDescription:T.some(N=>N.product_description),productionType:T.some(N=>N.production_type),isUsed:T.some(N=>N.is_used),isDefective:T.some(N=>N.is_defective),weights:T.some(N=>N.weights_full||N.weights_empty||N.weights_origin||N.weights_diff),dims:T.some(N=>N.dim_length||N.dim_width||N.dim_thickness),heat:T.some(N=>N.heat_number),bundle:T.some(N=>N.bundle_no),brand:T.some(N=>N.brand),orderNo:T.some(N=>N.order_no),depoLocation:T.some(N=>N.depo_location),descriptionNotes:T.some(N=>N.description_notes),rowCode:T.some(N=>N.row_code)}},[t.items]),o=t.items.reduce((T,N)=>({count:T.count+(Number(N.count)||0),net:T.net+(Number(N.weights_net)||0)}),{count:0,net:0});return a.jsx("div",{id:"print-section",children:a.jsxs("div",{className:"print-wrapper",children:[a.jsxs("div",{className:"header-row",children:[a.jsxs("div",{className:"header-left",children:[a.jsx("div",{className:"barcode"}),a.jsxs("div",{children:[a.jsx("strong",{children:" :"})," ",new Date().toLocaleDateString("fa-IR")]}),a.jsxs("div",{children:[a.jsx("strong",{children:" :"})," ",e]}),a.jsxs("div",{children:[a.jsx("strong",{children:":"})," ",t.isFinal?"":""]})]}),a.jsxs("div",{className:"header-center",children:[a.jsx("h1",{className:"brand-title",children:"anbardaran"}),a.jsx("div",{style:{fontSize:"10pt",marginTop:"5px"},children:"  "}),a.jsx("div",{style:{fontSize:"9pt"},children:"www.anbardaranrey.ir"})]}),a.jsxs("div",{className:"header-right",children:[a.jsx("h2",{className:"doc-title",children:"   ( )"}),a.jsxs("div",{style:{marginTop:"10px"},children:[a.jsx("strong",{children:" :"})," ",s(t.docDate)]}),a.jsxs("div",{children:[a.jsx("strong",{children:" :"})," ",n(t.trackingCode)]})]})]}),a.jsxs("div",{className:"section-box",children:[a.jsx("div",{className:"section-header",children:" "}),a.jsxs("div",{className:"section-content",children:[a.jsxs("div",{className:"info-row",children:[a.jsxs("span",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:":"}),"   "]}),a.jsxs("span",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:" :"})," "]}),a.jsxs("span",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:" :"})," "]})]}),a.jsxs("div",{className:"info-row",children:[a.jsxs("span",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:":"}),"       "]}),a.jsxs("span",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:":"})," -"]})]})]})]}),a.jsxs("div",{className:"section-box",children:[a.jsx("div",{className:"section-header",children:"     "}),a.jsxs("div",{className:"section-content",children:[a.jsxs("div",{className:"info-row",style:{borderBottom:"1px dashed #ccc",paddingBottom:"5px",marginBottom:"5px"},children:[a.jsxs("span",{className:"info-item",style:{width:"45%"},children:[a.jsx("span",{className:"info-label",children:"  ():"})," ",n((l=t.owner)==null?void 0:l.name)]}),a.jsxs("span",{className:"info-item",style:{width:"45%"},children:[a.jsx("span",{className:"info-label",children:" / :"})," ",n((c=t.deliverer)==null?void 0:c.name)]})]}),a.jsxs("div",{className:"info-row",children:[a.jsxs("span",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:" :"})," ",n((d=(u=t.header)==null?void 0:u.driver)==null?void 0:d.name)]}),a.jsxs("span",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:" :"})," ",n((m=(f=t.header)==null?void 0:f.driver)==null?void 0:m.nationalId)]}),a.jsxs("span",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:":"})," ",n((y=(p=t.header)==null?void 0:p.driver)==null?void 0:y.phone)]}),a.jsxs("span",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:" :"})," ",(_=t.header)!=null&&_.plate?a.jsx("span",{dir:"ltr",style:{fontWeight:"bold"},children:`${t.header.plate.right2||"--"} | ${t.header.plate.middle3||"--"} | ${t.header.plate.left2||"--"}`}):"-"]})]}),a.jsxs("div",{className:"info-row",style:{marginTop:"5px"},children:[a.jsxs("span",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:" :"})," ",n((b=t.ref)==null?void 0:b.barnamehNumber)]}),a.jsxs("span",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:" :"})," ",n((x=t.ref)==null?void 0:x.havaleNumber)]}),a.jsxs("span",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:" :"})," ",n((w=t.ref)==null?void 0:w.pettehNumber)]}),a.jsxs("span",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:" :"})," ",n((E=t.ref)==null?void 0:E.productionNumber)]})]})]})]}),a.jsx("div",{className:"section-header",style:{border:"1px solid #444",borderBottom:"none",borderRadius:"5px 5px 0 0"},children:" "}),a.jsxs("table",{className:"custom-table",style:{borderTopLeftRadius:0,borderTopRightRadius:0},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"col-num",children:"#"}),a.jsx("th",{children:" "}),i.nationalProductId&&a.jsx("th",{children:"  "}),a.jsx("th",{children:" "}),i.brand&&a.jsx("th",{children:""}),i.productionType&&a.jsx("th",{children:" "}),(i.isUsed||i.isDefective)&&a.jsx("th",{children:""}),i.dims&&a.jsx("th",{children:" (L x W x T)"}),i.heat&&a.jsx("th",{children:"Heat No"}),i.bundle&&a.jsx("th",{children:"Bundle No"}),i.orderNo&&a.jsx("th",{children:" "}),i.rowCode&&a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),i.weights&&a.jsx("th",{children:" "}),i.weights&&a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),i.weights&&a.jsx("th",{children:" "}),i.weights&&a.jsx("th",{children:" "}),i.depoLocation&&a.jsx("th",{children:" "}),i.descriptionNotes&&a.jsx("th",{children:""})]})}),a.jsxs("tbody",{children:[t.items.map((T,N)=>a.jsxs("tr",{children:[a.jsx("td",{className:"col-num",children:N+1}),a.jsx("td",{children:n(T.productId)}),i.nationalProductId&&a.jsx("td",{children:n(T.national_product_id)}),a.jsx("td",{className:"col-desc",children:a.jsx("strong",{children:n(T.productName||T.product_description)})}),i.brand&&a.jsx("td",{children:n(T.brand)}),i.productionType&&a.jsx("td",{children:T.production_type==="import"?"":""}),(i.isUsed||i.isDefective)&&a.jsxs("td",{children:[T.is_used?" ":"",T.is_defective?"":"",!T.is_used&&!T.is_defective?"":""]}),i.dims&&a.jsxs("td",{dir:"ltr",children:[n(T.dim_length)," x ",n(T.dim_width)," x ",n(T.dim_thickness)]}),i.heat&&a.jsx("td",{children:n(T.heat_number)}),i.bundle&&a.jsx("td",{children:n(T.bundle_no)}),i.orderNo&&a.jsx("td",{children:n(T.order_no)}),i.rowCode&&a.jsx("td",{children:n(T.row_code)}),a.jsx("td",{children:r(T.count)}),a.jsx("td",{children:T.unit}),i.weights&&a.jsx("td",{children:r(T.weights_full)}),i.weights&&a.jsx("td",{children:r(T.weights_empty)}),a.jsx("td",{style:{fontWeight:"bold"},children:r(T.weights_net)}),i.weights&&a.jsx("td",{children:r(T.weights_origin)}),i.weights&&a.jsx("td",{children:r(T.weights_diff)}),i.depoLocation&&a.jsx("td",{children:n(T.depo_location)}),i.descriptionNotes&&a.jsx("td",{children:n(T.description_notes)})]},N)),a.jsxs("tr",{className:"total-final",children:[a.jsx("td",{colSpan:2+(i.nationalProductId?1:0)+1+(i.brand?1:0)+(i.productionType?1:0)+(i.isUsed||i.isDefective?1:0)+(i.dims?1:0)+(i.heat?1:0)+(i.bundle?1:0)+(i.orderNo?1:0)+(i.rowCode?1:0),children:" "}),a.jsx("td",{children:r(o.count)}),a.jsx("td",{children:"-"}),i.weights&&a.jsx("td",{children:"-"}),i.weights&&a.jsx("td",{children:"-"}),a.jsx("td",{children:r(o.net)}),i.weights&&a.jsx("td",{children:"-"}),i.weights&&a.jsx("td",{children:"-"}),i.depoLocation&&a.jsx("td",{children:"-"}),i.descriptionNotes&&a.jsx("td",{children:"-"})]})]})]}),a.jsxs("div",{className:"footer-row",children:[a.jsxs("div",{className:"footer-notes-area",children:[a.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:" / :"}),a.jsx("p",{style:{margin:0},children:n(t.misc_description)})," ",a.jsx("div",{style:{marginTop:"10px",fontSize:"8pt",color:"#666"},children:"*        (   )   ."})]}),a.jsxs("div",{className:"footer-totals-area",children:[a.jsxs("div",{className:"total-row",children:[a.jsx("span",{className:"total-label",children:"  :"}),a.jsxs("span",{className:"total-value",children:[r(o.count)," "]})]}),a.jsxs("div",{className:"total-row total-final",children:[a.jsx("span",{className:"total-label",children:"  :"}),a.jsxs("span",{className:"total-value",children:[r(o.net)," "]})]})]})]}),a.jsxs("div",{className:"signatures",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:"bold"},children:"    "}),a.jsx("div",{className:"sign-place"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:"bold"},children:"   "}),a.jsx("div",{className:"sign-place"})]})]})]})})},S_=t=>t?typeof t=="string"?t:t!=null&&t.toDate?t.toDate().toISOString():t instanceof Date?t.toISOString():null:null;function gR({mode:t="create"}){const e=is(),{id:n}=su(),r=C.useRef(!1),[s,i]=C.useState(!1),[o,l]=C.useState(!1),[c,u]=C.useState(null),[d,f]=C.useState(null),[m,p]=C.useState(!1),[y,_]=C.useState(!1),[b,x]=C.useState([]),[w,E]=C.useState({docDate:new Date().toISOString(),trackingCode:"",owner:{id:null,tafsiliId:null,name:"",nationalId:"",mobile:"",birthDate:null},deliverer:{id:null,name:"",nationalId:""},header:{driver:{name:"",nationalId:"",phone:""},plate:{right2:"",middle3:"",letter:"",left2:""},birthDateDriver:null,dischargeDate:null},ref:{type:"none",barnamehNumber:"",barnamehDate:null,barnamehTracking:"",pettehNumber:"",havaleNumber:"",productionNumber:""},items:[],costs:{loadCost:0,unloadCost:0,warehouseCost:0,tax:0,returnFreight:0,loadingFee:0,miscCost:0,miscDescription:""},payment:{paymentBy:"customer",info:{amount:"",selectedSource:null,cardNumber:"",accountNumber:"",bankName:"",ownerName:"",trackingCode:""}}}),T=m||t==="view",N=C.useCallback(q=>{E(B=>({...B,items:q}))},[]);C.useEffect(()=>{(async()=>{try{const B=await A0(),G=await yb(),J=[{label:"",options:B.map(W=>{var z;return{value:W.id,label:`: ${W.title}`,type:"cash",tafsili_id:((z=W.accounting_tafsili)==null?void 0:z.id)||W.tafsili_id}})},{label:"",options:G.map(W=>{var z;return{value:W.id,label:`: ${W.bank_name}`,type:"bank",tafsili_id:((z=W.accounting_tafsili)==null?void 0:z.id)||W.tafsili_id}})}];x(J)}catch(B){console.error("Error loading sources:",B)}})()},[]),C.useEffect(()=>{if(t!=="edit"&&t!=="view"||!n||r.current)return;r.current=!0,(async()=>{var B,G,J;i(!0);try{const{data:W,error:z}=await je.from("receipts").select(`
                        *,
                        owner:customers!fk_receipts_customer ( id, name, mobile, national_id ),
                        items:receipt_items!fk_items_receipt ( * )
                    `).eq("id",n).single();if(z)throw z;u(W.id),f(W.receipt_no),p(W.status==="final");let Z=null;if(W.payment_source_id){let X="  ";if(W.payment_source_type==="cash"){const{data:ne}=await je.from("treasury_cashes").select("title").eq("id",W.payment_source_id).maybeSingle();ne&&(X=`: ${ne.title}`)}else if(W.payment_source_type==="bank"){const{data:ne}=await je.from("treasury_banks").select("bank_name").eq("id",W.payment_source_id).maybeSingle();ne&&(X=`: ${ne.bank_name}`)}Z={value:W.payment_source_id,label:X,type:W.payment_source_type}}E({docDate:W.doc_date,trackingCode:W.tracking_code,owner:{id:W.owner_id,name:((B=W.owner)==null?void 0:B.name)||"",nationalId:(G=W.owner)==null?void 0:G.national_id,mobile:(J=W.owner)==null?void 0:J.mobile},deliverer:{id:W.deliverer_id,name:W.deliverer_name,nationalId:W.deliverer_national_id},header:{driver:{name:W.driver_name,nationalId:W.driver_national_id,phone:W.driver_phone},plate:{right2:W.plate_iran_right,middle3:W.plate_mid3,letter:W.plate_letter,left2:W.plate_left2},birthDateDriver:W.driver_birth_date,dischargeDate:W.discharge_date},ref:{type:W.ref_type||"none",barnamehNumber:W.ref_barnameh_number,barnamehDate:W.ref_barnameh_date,barnamehTracking:W.ref_barnameh_tracking,pettehNumber:W.ref_petteh_number,havaleNumber:W.ref_havale_number,productionNumber:W.ref_production_number},items:W.items||[],costs:{loadCost:W.cost_load||0,unloadCost:W.cost_unload||0,warehouseCost:W.cost_warehouse||0,tax:W.cost_tax||0,returnFreight:W.cost_return_freight||0,loadingFee:W.cost_loading_fee||0,miscCost:W.cost_misc||0,miscDescription:W.cost_misc_desc||""},payment:{paymentBy:W.payment_by||"customer",info:{amount:W.payment_amount?W.payment_amount.toString():"",selectedSource:Z,cardNumber:W.card_number,accountNumber:W.account_number,bankName:W.bank_name,ownerName:W.payment_owner_name,trackingCode:W.payment_tracking_code}}})}catch(W){console.error("Load Error:",W),de.error(W.message),e("/receipts")}i(!1)})()},[t,n,e]);const P=()=>{if(!w.docDate)return de.error("   "),!1;if(!w.owner.id)return de.error("    "),!1;if(!w.items.length)return de.error("     "),!1;if(w.items.find(B=>!B.product_id&&!B.productId))return de.error("        ."),!1;if(w.payment.paymentBy==="warehouse"){if(!w.payment.info.amount)return de.error("    "),!1;if(!w.payment.info.selectedSource)return de.error("    "),!1}return!0},D=async q=>{let B=await ODe(q.id);if(B)return B;try{const G=Math.floor(1e5+Math.random()*9e5),{data:J,error:W}=await je.from("accounting_tafsili").insert({title:q.name,code:q.nationalId||G,tafsili_type:"customer",ref_id:q.id,is_active:!0}).select().single();if(W)throw W;return J.id}catch{return null}},F=async q=>{var z;if(!P())return;l(!0);const B=w.payment.info,G=w.costs,J=w.items.map(Z=>{var ne,le;const X=Z.product_id||Z.productId||((ne=Z.product)==null?void 0:ne.id)||((le=Z.product)==null?void 0:le.value);return{...Z,product_id:X,count:Number(Z.count||Z.amount||0),weights_full:Number(Z.weights_full||0),weights_empty:Number(Z.weights_empty||0),weights_net:Number(Z.weights_net||0),weights_origin:Number(Z.weights_origin||0),weights_diff:Number(Z.weights_diff||0),dim_length:Number(Z.dim_length||0),dim_width:Number(Z.dim_width||0),dim_thickness:Number(Z.dim_thickness||0),parent_row:Z.parent_row||Z.parentRow||"",description_notes:Z.description_notes||Z.description||Z.descriptionNotes||"",depo_location:Z.depo_location||Z.depoLocation||"",row_code:Z.row_code||Z.rowCode||"",heat_number:Z.heat_number||"",bundle_no:Z.bundle_no||"",brand:Z.brand||"",order_no:Z.order_no||"",national_product_id:Z.national_product_id||"",product_description:Z.product_description||"",production_type:Z.production_type||"domestic",is_used:!!Z.is_used,is_defective:!!Z.is_defective}}).filter(Z=>Z.product_id),W={status:q,doc_type_id:1,doc_date:S_(w.docDate),tracking_code:w.trackingCode,owner_id:w.owner.id,owner_name:w.owner.name,owner_national_id:w.owner.nationalId,owner_mobile:w.owner.mobile,deliverer_id:w.deliverer.id||null,deliverer_name:w.deliverer.name,deliverer_national_id:w.deliverer.nationalId,driver_name:w.header.driver.name,driver_national_id:w.header.driver.nationalId,driver_phone:w.header.driver.phone,driver_birth_date:S_(w.header.birthDateDriver),discharge_date:S_(w.header.dischargeDate),plate_iran_right:w.header.plate.right2,plate_mid3:w.header.plate.middle3,plate_letter:w.header.plate.letter,plate_left2:w.header.plate.left2,ref_type:w.ref.type,ref_barnameh_number:w.ref.barnamehNumber,ref_barnameh_date:S_(w.ref.barnamehDate),ref_barnameh_tracking:w.ref.barnamehTracking,ref_petteh_number:w.ref.pettehNumber,ref_havale_number:w.ref.havaleNumber,ref_production_number:w.ref.productionNumber,cost_load:G.loadCost,cost_unload:G.unloadCost,cost_warehouse:G.warehouseCost,cost_tax:G.tax,cost_return_freight:G.returnFreight,cost_loading_fee:G.loadingFee,cost_misc:G.miscCost,cost_misc_desc:G.miscDescription,payment_by:w.payment.paymentBy,payment_amount:B.amount?Number(B.amount.toString().replace(/,/g,"")):null,payment_source_id:B.selectedSource?B.selectedSource.value:null,payment_source_type:B.selectedSource?B.selectedSource.type:null,card_number:B.cardNumber,account_number:B.accountNumber,bank_name:B.bankName,payment_owner_name:B.ownerName,payment_tracking_code:B.trackingCode,items:J,member_id:1};try{let Z=c,X=d,ne=null;if(t==="edit"&&c){const{data:le,error:ge}=await je.rpc("update_receipt_with_items",{p_receipt_id:Number(c),p_payload:W});if(ge)throw ge;ne=le}else{const{data:le,error:ge}=await je.rpc("create_receipt_with_items",{p_payload:W});if(ge)throw ge;ne=le}if(!ne)throw new Error("    .");if(Z=ne.receipt_id,X=ne.receipt_no,u(Z),f(X),q==="final"&&w.payment.paymentBy==="warehouse"){const le=Number(String(B.amount).replace(/,/g,"")),ge=await D(w.owner),Ue=(z=B.selectedSource)==null?void 0:z.tafsili_id;ge&&Ue&&(await YDe({costs:w.costs,paymentAmount:le,date:S_(w.docDate),customerId:ge,sourceId:Ue,receiptId:Z,receiptNo:X,description:`   ${X} - : ${w.header.driver.name}`}),de.success("   "))}q==="final"?(p(!0),_(!0)):t==="create"&&!c?(de.success(`  : ${X}`),e(`/receipt/form/edit/${Z}`,{replace:!0})):de.success("  ")}catch(Z){console.error("Save Error:",Z),de.error("  : "+(Z.message||""))}l(!1)},Y=async()=>{if(window.confirm("    ")){l(!0);try{const{error:q}=await je.from("receipts").delete().eq("id",c);if(q)throw q;de.success(" "),e("/receipts")}catch(q){de.error(q.message)}l(!1)}};return s?a.jsx("div",{className:"p-5 text-center",children:a.jsx(Wn,{style:{width:"3rem",height:"3rem"}})}):a.jsxs(a.Fragment,{children:[a.jsx(K4e,{form:{...w,isFinal:m},receiptNo:d}),a.jsxs("div",{className:"page-content",children:[m&&a.jsxs(tr,{color:"warning",className:"no-print",children:[a.jsx("strong",{children:"   ."}),"    ."]}),a.jsx(Ct,{className:"shadow-sm no-print border-0",children:a.jsxs(At,{className:"p-4",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4 pb-3 border-bottom",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"card-title mb-1 fw-bold text-primary",children:t==="create"?"  ":`  ${d||""}`}),a.jsx("span",{className:"text-muted font-size-12",children:"    "})]}),a.jsxs("div",{className:"d-flex gap-2",children:[d&&a.jsx(ct,{className:"p-2 font-size-12",color:m?"success":"warning",children:m?" ":""}),a.jsx(_e,{color:"light",size:"sm",onClick:()=>e("/receipts"),children:"  "})]})]}),a.jsxs(pe,{className:"mb-4",children:[a.jsxs(M,{md:3,children:[a.jsxs(ee,{className:"fw-bold",children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(pi,{value:w.docDate,disabled:T,onChange:q=>E(B=>({...B,docDate:q}))})]}),a.jsxs(M,{md:3,children:[a.jsx(ee,{className:"fw-bold",children:" "}),a.jsx(ie,{disabled:!0,value:d||"---",className:"bg-light text-center fw-bold"})]}),a.jsxs(M,{md:3,children:[a.jsx(ee,{className:"fw-bold",children:"  / "}),a.jsx(ie,{disabled:T,value:w.trackingCode,onChange:q=>E(B=>({...B,trackingCode:q.target.value}))})]})]}),a.jsx(UFe,{value:{owner:w.owner,deliverer:w.deliverer},onChange:q=>E(B=>({...B,...q}))}),a.jsx(BFe,{value:w.header,onChange:q=>E(B=>({...B,header:q}))}),a.jsx(zFe,{refType:w.ref.type,setRefType:q=>E(B=>({...B,ref:{...B.ref,type:q}})),refValues:w.ref,updateRefValue:(q,B)=>E(G=>({...G,ref:{...G.ref,[q]:B}})),barnamehDate:w.ref.barnamehDate,setBarnamehDate:q=>E(B=>({...B,ref:{...B.ref,barnamehDate:q}}))}),a.jsx("div",{className:"my-4",children:a.jsx(z4e,{ownerId:w.owner.id,initialItems:w.items,onItemsChange:N})}),a.jsxs(pe,{children:[a.jsx(M,{md:12,children:a.jsx(Y4e,{value:w.costs,onChange:q=>E(B=>({...B,costs:q}))})}),a.jsx(M,{md:12,children:a.jsx(G4e,{value:w.payment,onChange:q=>E(B=>({...B,payment:q})),sourceOptions:b})})]}),a.jsxs("div",{className:"d-flex justify-content-end gap-2 mt-5 pt-3 border-top bg-light p-3 rounded sticky-bottom",children:[!m&&a.jsxs(a.Fragment,{children:[t==="edit"&&c&&a.jsxs(_e,{color:"danger",outline:!0,onClick:Y,disabled:o,children:[a.jsx("i",{className:"ri-delete-bin-line me-1"})," "]}),a.jsx(_e,{color:"warning",className:"px-4",disabled:o,onClick:()=>F("draft"),children:o?a.jsx(Wn,{size:"sm"}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"ri-save-3-line me-1"}),"  "]})}),a.jsx(_e,{color:"success",className:"px-4",disabled:o,onClick:()=>F("final"),children:o?a.jsx(Wn,{size:"sm"}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"ri-check-double-line me-1"}),"  "]})})]}),d&&a.jsxs(_e,{color:"primary",className:"px-4 ms-2",onClick:()=>window.print(),children:[a.jsx("i",{className:"ri-printer-line me-1"}),"  "]})]})]})}),a.jsxs(Mi,{isOpen:y,centered:!0,backdrop:"static",className:"no-print",children:[a.jsx(Bo,{toggle:()=>_(!1),children:" "}),a.jsxs(Qa,{className:"text-center py-5",children:[a.jsx("div",{className:"mb-3 text-success",children:a.jsx("i",{className:"ri-checkbox-circle-fill",style:{fontSize:"4rem"}})}),a.jsxs("h4",{className:"fw-bold mb-3",children:["  ",d,"  "]}),a.jsx("p",{className:"text-muted",children:"      ."})]}),a.jsxs(bc,{className:"justify-content-center",children:[a.jsx(_e,{color:"secondary",onClick:()=>e("/receipts"),children:""}),a.jsx(_e,{color:"primary",onClick:()=>{_(!1),window.print()},children:" "})]})]})]})]})}const J4e=()=>{const t=is(),[e,n]=C.useState([]),[r,s]=C.useState(!0),[i,o]=C.useState("");C.useEffect(()=>{(async()=>{s(!0);try{let{data:y,error:_}=await je.from("receipts").select(`
            *,
            owner:customers!fk_receipts_customer ( id, name, mobile ),
            items:receipt_items!fk_items_receipt ( id, weights_net )
          `).order("id",{ascending:!1});if(_){console.warn("Retrying fetch with simple join...");const b=await je.from("receipts").select("*, owner:customers(id, name), items:receipt_items(id, weights_net)").order("id",{ascending:!1});if(b.error)throw b.error;y=b.data}n(y||[])}catch(y){console.error("Supabase Error:",y)}s(!1)})()},[]);const l=C.useMemo(()=>{if(!i)return e;const p=i.toLowerCase();return e.filter(y=>{var w;const _=String(y.receipt_no||y.id),b=((w=y.owner)==null?void 0:w.name)||"",x=y.driver_name||"";return _.includes(p)||b.toLowerCase().includes(p)||x.toLowerCase().includes(p)})},[i,e]),c=C.useMemo(()=>{const p=e.length,y=e.filter(b=>b.status==="final").length,_=e.reduce((b,x)=>{var E;const w=((E=x.items)==null?void 0:E.reduce((T,N)=>T+(N.weights_net||0),0))||0;return b+w},0);return{totalCount:p,finalCount:y,totalWeight:_}},[e]),u=async(p,y)=>{if(window.confirm(`     "${y}"  `))try{const{error:_}=await je.from("receipts").delete().eq("id",p);if(_)throw _;n(b=>b.filter(x=>x.id!==p))}catch(_){console.error(_),alert("  : "+_.message)}},d=p=>p?ev(p).format("jYYYY/jMM/jDD"):"-",f=p=>{switch(p){case"final":return a.jsxs(ct,{color:"success",className:"font-size-12",children:[a.jsx("i",{className:"bx bx-check-double me-1"}),""]});case"draft":return a.jsxs(ct,{color:"warning",className:"font-size-12",children:[a.jsx("i",{className:"bx bx-pencil me-1"}),""]});default:return a.jsx(ct,{color:"secondary",children:""})}},m=p=>p.plate_mid3?a.jsxs("div",{dir:"ltr",className:"d-inline-flex align-items-center bg-light border rounded px-2 py-1",style:{fontSize:"0.75rem"},children:[a.jsx("span",{className:"fw-bold mx-1",children:p.plate_left2}),a.jsx("span",{className:"mx-1",children:p.plate_letter}),a.jsx("span",{className:"fw-bold mx-1",children:p.plate_mid3}),a.jsxs("span",{className:"border-start ps-1 ms-1 text-muted",style:{fontSize:"0.65rem"},children:["IR ",p.plate_iran_right]})]}):a.jsx("span",{className:"text-muted",children:"-"});return a.jsx("div",{className:"page-content",children:a.jsxs(An,{fluid:!0,children:[a.jsxs("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between mb-4",children:[a.jsx("h4",{className:"mb-sm-0 font-size-18",children:"  "}),a.jsx("div",{className:"page-title-right",children:a.jsxs("ol",{className:"breadcrumb m-0",children:[a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Ce,{to:"/dashboard",children:""})}),a.jsx("li",{className:"breadcrumb-item active",children:""})]})})]}),a.jsxs(pe,{className:"mb-3",children:[a.jsx(M,{md:4,children:a.jsx(Ct,{className:"mini-stats-wid",children:a.jsx(At,{children:a.jsxs("div",{className:"d-flex",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("p",{className:"text-muted fw-medium",children:"  "}),a.jsx("h4",{className:"mb-0",children:c.totalCount})]}),a.jsx("div",{className:"flex-shrink-0 align-self-center",children:a.jsx("div",{className:"avatar-sm rounded-circle bg-primary mini-stat-icon",children:a.jsx("span",{className:"avatar-title rounded-circle bg-primary",children:a.jsx("i",{className:"bx bx-file font-size-24"})})})})]})})})}),a.jsx(M,{md:4,children:a.jsx(Ct,{className:"mini-stats-wid",children:a.jsx(At,{children:a.jsxs("div",{className:"d-flex",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("p",{className:"text-muted fw-medium",children:" "}),a.jsx("h4",{className:"mb-0",children:c.finalCount})]}),a.jsx("div",{className:"flex-shrink-0 align-self-center",children:a.jsx("div",{className:"avatar-sm rounded-circle bg-success mini-stat-icon",children:a.jsx("span",{className:"avatar-title rounded-circle bg-success",children:a.jsx("i",{className:"bx bx-check-circle font-size-24"})})})})]})})})}),a.jsx(M,{md:4,children:a.jsx(Ct,{className:"mini-stats-wid",children:a.jsx(At,{children:a.jsxs("div",{className:"d-flex",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("p",{className:"text-muted fw-medium",children:"  "}),a.jsxs("h4",{className:"mb-0",children:[c.totalWeight.toLocaleString()," ",a.jsx("span",{className:"font-size-12 text-muted",children:"kg"})]})]}),a.jsx("div",{className:"flex-shrink-0 align-self-center",children:a.jsx("div",{className:"avatar-sm rounded-circle bg-info mini-stat-icon",children:a.jsx("span",{className:"avatar-title rounded-circle bg-info",children:a.jsx("i",{className:"bx bx-weight font-size-24"})})})})]})})})})]}),a.jsx(pe,{children:a.jsx(M,{lg:12,children:a.jsxs(Ct,{children:[a.jsx(G$,{className:"bg-transparent border-bottom",children:a.jsxs("div",{className:"d-flex flex-wrap align-items-center justify-content-between",children:[a.jsx("h5",{className:"card-title mb-0",children:" "}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsxs(_e,{color:"light",onClick:()=>window.location.reload(),children:[a.jsx("i",{className:"bx bx-refresh font-size-16 align-middle me-1"})," "]}),a.jsxs(_e,{color:"primary",onClick:()=>t("/receipt/form"),children:[a.jsx("i",{className:"bx bx-plus font-size-16 align-middle me-1"}),"   "]})]})]})}),a.jsxs(At,{children:[a.jsx(pe,{className:"mb-4",children:a.jsx(M,{md:4,children:a.jsx("div",{className:"search-box me-2 mb-2 d-inline-block w-100",children:a.jsxs("div",{className:"position-relative",children:[a.jsx(ie,{type:"text",className:"form-control",placeholder:" (  )...",value:i,onChange:p=>o(p.target.value)}),a.jsx("i",{className:"bx bx-search-alt search-icon"})]})})})}),r?a.jsxs("div",{className:"text-center py-5",children:[a.jsx(Wn,{color:"primary"}),a.jsx("p",{className:"mt-2",children:"   ..."})]}):l.length===0?a.jsxs("div",{className:"text-center py-5 text-muted",children:[a.jsx("i",{className:"bx bx-folder-open display-4"}),a.jsx("p",{className:"mt-3",children:"   ."})]}):a.jsx("div",{className:"table-responsive",children:a.jsxs(Yn,{className:"table align-middle table-nowrap table-hover mb-0",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"70px"},children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:" (kg)"}),a.jsx("th",{children:""}),a.jsx("th",{style:{width:"150px"},children:""})]})}),a.jsx("tbody",{children:l.map(p=>{var b,x,w;const y=((b=p.items)==null?void 0:b.reduce((E,T)=>E+(T.weights_net||0),0))||0,_=((x=p.items)==null?void 0:x.length)||0;return a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("span",{className:"fw-bold text-primary",children:["#",p.receipt_no||p.id]})}),a.jsxs("td",{children:[a.jsx("i",{className:"bx bx-calendar text-muted me-1"}),d(p.doc_date)]}),a.jsx("td",{children:a.jsx("h5",{className:"font-size-14 mb-1 text-dark",children:((w=p.owner)==null?void 0:w.name)||""})}),a.jsx("td",{children:m(p)}),a.jsx("td",{children:a.jsxs(ct,{color:"soft-primary",className:"font-size-12 badge-soft-primary",children:[_," "]})}),a.jsx("td",{children:a.jsx("span",{className:"fw-bold",children:y.toLocaleString()})}),a.jsx("td",{children:f(p.status)}),a.jsx("td",{children:a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(Ce,{to:`/receipt/form/edit/${p.id}`,className:"btn btn-sm btn-soft-info",id:`edit-${p.id}`,children:a.jsx("i",{className:"bx bx-edit-alt font-size-14"})}),a.jsx(_f,{placement:"top",target:`edit-${p.id}`,children:" / "}),a.jsx("button",{className:"btn btn-sm btn-soft-danger",onClick:()=>u(p.id,p.receipt_no),id:`del-${p.id}`,children:a.jsx("i",{className:"bx bx-trash font-size-14"})}),a.jsx(_f,{placement:"top",target:`del-${p.id}`,children:""})]})})]},p.id)})})]})})]})]})})})]})})};var I0=t=>t.type==="checkbox",lp=t=>t instanceof Date,Eo=t=>t==null;const lX=t=>typeof t=="object";var mi=t=>!Eo(t)&&!Array.isArray(t)&&lX(t)&&!lp(t),cX=t=>mi(t)&&t.target?I0(t.target)?t.target.checked:t.target.value:t,Q4e=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,uX=(t,e)=>t.has(Q4e(e)),Z4e=t=>{const e=t.constructor&&t.constructor.prototype;return mi(e)&&e.hasOwnProperty("isPrototypeOf")},qF=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function xi(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(qF&&(t instanceof Blob||r))&&(n||mi(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!Z4e(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=xi(t[s]));else return t;return e}var GA=t=>/^\w*$/.test(t),Vs=t=>t===void 0,YF=t=>Array.isArray(t)?t.filter(Boolean):[],KF=t=>YF(t.replace(/["|']|\]/g,"").split(/\.|\[/)),pt=(t,e,n)=>{if(!e||!mi(t))return n;const r=(GA(e)?[e]:KF(e)).reduce((s,i)=>Eo(s)?s:s[i],t);return Vs(r)||r===t?Vs(t[e])?n:t[e]:r},hl=t=>typeof t=="boolean",kr=(t,e,n)=>{let r=-1;const s=GA(e)?[e]:KF(e),i=s.length,o=i-1;for(;++r<i;){const l=s[r];let c=n;if(r!==o){const u=t[l];c=mi(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const $T={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},zc={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},xd={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},dX=ae.createContext(null);dX.displayName="HookFormContext";const JF=()=>ae.useContext(dX);var hX=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==zc.all&&(e._proxyFormState[o]=!r||zc.all),n&&(n[o]=!0),t[o]}});return s};const QF=typeof window<"u"?ae.useLayoutEffect:ae.useEffect;function X4e(t){const e=JF(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,l]=ae.useState(n._formState),c=ae.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return QF(()=>n._subscribe({name:s,formState:c.current,exact:i,callback:u=>{!r&&l({...n._formState,...u})}}),[s,r,i]),ae.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),ae.useMemo(()=>hX(o,n,c.current,!1),[o,n])}var yl=t=>typeof t=="string",wL=(t,e,n,r,s)=>yl(t)?(r&&e.watch.add(t),pt(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),pt(n,i))):(r&&(e.watchAll=!0),n),xL=t=>Eo(t)||!lX(t);function Wc(t,e,n=new WeakSet){if(xL(t)||xL(e))return Object.is(t,e);if(lp(t)&&lp(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const o=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=e[i];if(lp(o)&&lp(l)||mi(o)&&mi(l)||Array.isArray(o)&&Array.isArray(l)?!Wc(o,l,n):!Object.is(o,l))return!1}}return!0}function e3e(t){const e=JF(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o,compute:l}=t||{},c=ae.useRef(s),u=ae.useRef(l),d=ae.useRef(void 0),f=ae.useRef(n),m=ae.useRef(r);u.current=l;const[p,y]=ae.useState(()=>{const T=n._getWatch(r,c.current);return u.current?u.current(T):T}),_=ae.useCallback(T=>{const N=wL(r,n._names,T||n._formValues,!1,c.current);return u.current?u.current(N):N},[n._formValues,n._names,r]),b=ae.useCallback(T=>{if(!i){const N=wL(r,n._names,T||n._formValues,!1,c.current);if(u.current){const P=u.current(N);Wc(P,d.current)||(y(P),d.current=P)}else y(N)}},[n._formValues,n._names,i,r]);QF(()=>((f.current!==n||!Wc(m.current,r))&&(f.current=n,m.current=r,b()),n._subscribe({name:r,formState:{values:!0},exact:o,callback:T=>{b(T.values)}})),[n,o,r,b]),ae.useEffect(()=>n._removeUnmounted());const x=f.current!==n,w=m.current,E=ae.useMemo(()=>{if(i)return null;const T=!x&&!Wc(w,r);return x||T?_():null},[i,x,r,w,_]);return E!==null?E:p}function t3e(t){const e=JF(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i,defaultValue:o,exact:l=!0}=t,c=uX(s._names.array,n),u=ae.useMemo(()=>pt(s._formValues,n,pt(s._defaultValues,n,o)),[s,n,o]),d=e3e({control:s,name:n,defaultValue:u,exact:l}),f=X4e({control:s,name:n,exact:l}),m=ae.useRef(t),p=ae.useRef(void 0),y=ae.useRef(s.register(n,{...t.rules,value:d,...hl(t.disabled)?{disabled:t.disabled}:{}}));m.current=t;const _=ae.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!pt(f.errors,n)},isDirty:{enumerable:!0,get:()=>!!pt(f.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!pt(f.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!pt(f.validatingFields,n)},error:{enumerable:!0,get:()=>pt(f.errors,n)}}),[f,n]),b=ae.useCallback(T=>y.current.onChange({target:{value:cX(T),name:n},type:$T.CHANGE}),[n]),x=ae.useCallback(()=>y.current.onBlur({target:{value:pt(s._formValues,n),name:n},type:$T.BLUR}),[n,s._formValues]),w=ae.useCallback(T=>{const N=pt(s._fields,n);N&&T&&(N._f.ref={focus:()=>T.focus&&T.focus(),select:()=>T.select&&T.select(),setCustomValidity:P=>T.setCustomValidity(P),reportValidity:()=>T.reportValidity()})},[s._fields,n]),E=ae.useMemo(()=>({name:n,value:d,...hl(r)||f.disabled?{disabled:f.disabled||r}:{},onChange:b,onBlur:x,ref:w}),[n,r,f.disabled,b,x,w,d]);return ae.useEffect(()=>{const T=s._options.shouldUnregister||i,N=p.current;N&&N!==n&&!c&&s.unregister(N),s.register(n,{...m.current.rules,...hl(m.current.disabled)?{disabled:m.current.disabled}:{}});const P=(D,F)=>{const Y=pt(s._fields,D);Y&&Y._f&&(Y._f.mount=F)};if(P(n,!0),T){const D=xi(pt(s._options.defaultValues,n,m.current.defaultValue));kr(s._defaultValues,n,D),Vs(pt(s._formValues,n))&&kr(s._formValues,n,D)}return!c&&s.register(n),p.current=n,()=>{(c?T&&!s._state.action:T)?s.unregister(n):P(n,!1)}},[n,s,c,i]),ae.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),ae.useMemo(()=>({field:E,formState:f,fieldState:_}),[E,f,_])}const ov=t=>t.render(t3e(t));var ZF=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Sw=t=>Array.isArray(t)?t:[t],R9=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}};function fX(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const s=t[r],i=e[r];if(s&&mi(s)&&i){const o=fX(s,i);mi(o)&&(n[r]=o)}else t[r]&&(n[r]=i)}return n}var za=t=>mi(t)&&!Object.keys(t).length,XF=t=>t.type==="file",Gc=t=>typeof t=="function",FT=t=>{if(!qF)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},mX=t=>t.type==="select-multiple",e4=t=>t.type==="radio",n3e=t=>e4(t)||I0(t),yR=t=>FT(t)&&t.isConnected;function r3e(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Vs(t)?r++:t[e[r++]];return t}function s3e(t){for(const e in t)if(t.hasOwnProperty(e)&&!Vs(t[e]))return!1;return!0}function oi(t,e){const n=Array.isArray(e)?e:GA(e)?[e]:KF(e),r=n.length===1?t:r3e(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(mi(r)&&za(r)||Array.isArray(r)&&s3e(r))&&oi(t,n.slice(0,-1)),t}var i3e=t=>{for(const e in t)if(Gc(t[e]))return!0;return!1};function pX(t){return Array.isArray(t)||mi(t)&&!i3e(t)}function EL(t,e={}){for(const n in t){const r=t[n];pX(r)?(e[n]=Array.isArray(r)?[]:{},EL(r,e[n])):Vs(r)||(e[n]=!0)}return e}function xy(t,e,n){n||(n=EL(e));for(const r in t){const s=t[r];if(pX(s))Vs(e)||xL(n[r])?n[r]=EL(s,Array.isArray(s)?[]:{}):xy(s,Eo(e)?{}:e[r],n[r]);else{const i=e[r];n[r]=!Wc(s,i)}}return n}const P9={value:!1,isValid:!1},D9={value:!0,isValid:!0};var gX=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Vs(t[0].attributes.value)?Vs(t[0].value)||t[0].value===""?D9:{value:t[0].value,isValid:!0}:D9:P9}return P9},yX=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Vs(t)?t:e?t===""?NaN:t&&+t:n&&yl(t)?new Date(t):r?r(t):t;const L9={isValid:!1,value:null};var vX=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,L9):L9;function M9(t){const e=t.ref;return XF(e)?e.files:e4(e)?vX(t.refs).value:mX(e)?[...e.selectedOptions].map(({value:n})=>n):I0(e)?gX(t.refs).value:yX(Vs(e.value)?t.ref.value:e.value,t)}var a3e=(t,e,n,r)=>{const s={};for(const i of t){const o=pt(e,i);o&&kr(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},VT=t=>t instanceof RegExp,j_=t=>Vs(t)?t:VT(t)?t.source:mi(t)?VT(t.value)?t.value.source:t.value:t,$9=t=>({isOnSubmit:!t||t===zc.onSubmit,isOnBlur:t===zc.onBlur,isOnChange:t===zc.onChange,isOnAll:t===zc.all,isOnTouch:t===zc.onTouched});const F9="AsyncFunction";var o3e=t=>!!t&&!!t.validate&&!!(Gc(t.validate)&&t.validate.constructor.name===F9||mi(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===F9)),l3e=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),V9=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const jw=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=pt(t,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(jw(l,e))break}else if(mi(l)&&jw(l,e))break}}};function U9(t,e,n){const r=pt(t,n);if(r||GA(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=pt(e,i),l=pt(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:n}}var c3e=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return za(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||zc.all))},u3e=(t,e,n)=>!t||!e||t===e||Sw(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),d3e=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,h3e=(t,e)=>!YF(pt(t,e)).length&&oi(t,e),f3e=(t,e,n)=>{const r=Sw(pt(t,n));return kr(r,"root",e[n]),kr(t,n,r),t};function B9(t,e,n="validate"){if(yl(t)||Array.isArray(t)&&t.every(yl)||hl(t)&&!t)return{type:n,message:yl(t)?t:"",ref:e}}var cy=t=>mi(t)&&!VT(t)?t:{value:t,message:""},z9=async(t,e,n,r,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:m,pattern:p,validate:y,name:_,valueAsNumber:b,mount:x}=t._f,w=pt(n,_);if(!x||e.has(_))return{};const E=l?l[0]:o,T=G=>{s&&E.reportValidity&&(E.setCustomValidity(hl(G)?"":G||""),E.reportValidity())},N={},P=e4(o),D=I0(o),F=P||D,Y=(b||XF(o))&&Vs(o.value)&&Vs(w)||FT(o)&&o.value===""||w===""||Array.isArray(w)&&!w.length,q=ZF.bind(null,_,r,N),B=(G,J,W,z=xd.maxLength,Z=xd.minLength)=>{const X=G?J:W;N[_]={type:G?z:Z,message:X,ref:o,...q(G?z:Z,X)}};if(i?!Array.isArray(w)||!w.length:c&&(!F&&(Y||Eo(w))||hl(w)&&!w||D&&!gX(l).isValid||P&&!vX(l).isValid)){const{value:G,message:J}=yl(c)?{value:!!c,message:c}:cy(c);if(G&&(N[_]={type:xd.required,message:J,ref:E,...q(xd.required,J)},!r))return T(J),N}if(!Y&&(!Eo(f)||!Eo(m))){let G,J;const W=cy(m),z=cy(f);if(!Eo(w)&&!isNaN(w)){const Z=o.valueAsNumber||w&&+w;Eo(W.value)||(G=Z>W.value),Eo(z.value)||(J=Z<z.value)}else{const Z=o.valueAsDate||new Date(w),X=ge=>new Date(new Date().toDateString()+" "+ge),ne=o.type=="time",le=o.type=="week";yl(W.value)&&w&&(G=ne?X(w)>X(W.value):le?w>W.value:Z>new Date(W.value)),yl(z.value)&&w&&(J=ne?X(w)<X(z.value):le?w<z.value:Z<new Date(z.value))}if((G||J)&&(B(!!G,W.message,z.message,xd.max,xd.min),!r))return T(N[_].message),N}if((u||d)&&!Y&&(yl(w)||i&&Array.isArray(w))){const G=cy(u),J=cy(d),W=!Eo(G.value)&&w.length>+G.value,z=!Eo(J.value)&&w.length<+J.value;if((W||z)&&(B(W,G.message,J.message),!r))return T(N[_].message),N}if(p&&!Y&&yl(w)){const{value:G,message:J}=cy(p);if(VT(G)&&!w.match(G)&&(N[_]={type:xd.pattern,message:J,ref:o,...q(xd.pattern,J)},!r))return T(J),N}if(y){if(Gc(y)){const G=await y(w,n),J=B9(G,E);if(J&&(N[_]={...J,...q(xd.validate,J.message)},!r))return T(J.message),N}else if(mi(y)){let G={};for(const J in y){if(!za(G)&&!r)break;const W=B9(await y[J](w,n),E,J);W&&(G={...W,...q(J,W.message)},T(W.message),r&&(N[_]=G))}if(!za(G)&&(N[_]={ref:E,...G},!r))return N}}return T(!0),N};const m3e={mode:zc.onSubmit,reValidateMode:zc.onChange,shouldFocusError:!0};function p3e(t={}){let e={...m3e,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Gc(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=mi(e.defaultValues)||mi(e.values)?xi(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:xi(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const m={array:R9(),state:R9()},p=e.criteriaMode===zc.all,y=K=>te=>{clearTimeout(u),u=setTimeout(K,te)},_=async K=>{if(!e.disabled&&(d.isValid||f.isValid||K)){const te=e.resolver?za((await D()).errors):await Y(r,!0);te!==n.isValid&&m.state.next({isValid:te})}},b=(K,te)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((K||Array.from(l.mount)).forEach(Q=>{Q&&(te?kr(n.validatingFields,Q,te):oi(n.validatingFields,Q))}),m.state.next({validatingFields:n.validatingFields,isValidating:!za(n.validatingFields)}))},x=(K,te=[],Q,me,ye=!0,A=!0)=>{if(me&&Q&&!e.disabled){if(o.action=!0,A&&Array.isArray(pt(r,K))){const $=Q(pt(r,K),me.argA,me.argB);ye&&kr(r,K,$)}if(A&&Array.isArray(pt(n.errors,K))){const $=Q(pt(n.errors,K),me.argA,me.argB);ye&&kr(n.errors,K,$),h3e(n.errors,K)}if((d.touchedFields||f.touchedFields)&&A&&Array.isArray(pt(n.touchedFields,K))){const $=Q(pt(n.touchedFields,K),me.argA,me.argB);ye&&kr(n.touchedFields,K,$)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=xy(s,i)),m.state.next({name:K,isDirty:B(K,te),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else kr(i,K,te)},w=(K,te)=>{kr(n.errors,K,te),m.state.next({errors:n.errors})},E=K=>{n.errors=K,m.state.next({errors:n.errors,isValid:!1})},T=(K,te,Q,me)=>{const ye=pt(r,K);if(ye){const A=pt(i,K,Vs(Q)?pt(s,K):Q);Vs(A)||me&&me.defaultChecked||te?kr(i,K,te?A:M9(ye._f)):W(K,A),o.mount&&!o.action&&_()}},N=(K,te,Q,me,ye)=>{let A=!1,$=!1;const re={name:K};if(!e.disabled){if(!Q||me){(d.isDirty||f.isDirty)&&($=n.isDirty,n.isDirty=re.isDirty=B(),A=$!==re.isDirty);const ue=Wc(pt(s,K),te);$=!!pt(n.dirtyFields,K),ue?oi(n.dirtyFields,K):kr(n.dirtyFields,K,!0),re.dirtyFields=n.dirtyFields,A=A||(d.dirtyFields||f.dirtyFields)&&$!==!ue}if(Q){const ue=pt(n.touchedFields,K);ue||(kr(n.touchedFields,K,Q),re.touchedFields=n.touchedFields,A=A||(d.touchedFields||f.touchedFields)&&ue!==Q)}A&&ye&&m.state.next(re)}return A?re:{}},P=(K,te,Q,me)=>{const ye=pt(n.errors,K),A=(d.isValid||f.isValid)&&hl(te)&&n.isValid!==te;if(e.delayError&&Q?(c=y(()=>w(K,Q)),c(e.delayError)):(clearTimeout(u),c=null,Q?kr(n.errors,K,Q):oi(n.errors,K)),(Q?!Wc(ye,Q):ye)||!za(me)||A){const $={...me,...A&&hl(te)?{isValid:te}:{},errors:n.errors,name:K};n={...n,...$},m.state.next($)}},D=async K=>{b(K,!0);const te=await e.resolver(i,e.context,a3e(K||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return b(K),te},F=async K=>{const{errors:te}=await D(K);if(K)for(const Q of K){const me=pt(te,Q);me?kr(n.errors,Q,me):oi(n.errors,Q)}else n.errors=te;return te},Y=async(K,te,Q={valid:!0})=>{for(const me in K){const ye=K[me];if(ye){const{_f:A,...$}=ye;if(A){const re=l.array.has(A.name),ue=ye._f&&o3e(ye._f);ue&&d.validatingFields&&b([A.name],!0);const Ee=await z9(ye,l.disabled,i,p,e.shouldUseNativeValidation&&!te,re);if(ue&&d.validatingFields&&b([A.name]),Ee[A.name]&&(Q.valid=!1,te))break;!te&&(pt(Ee,A.name)?re?f3e(n.errors,Ee,A.name):kr(n.errors,A.name,Ee[A.name]):oi(n.errors,A.name))}!za($)&&await Y($,te,Q)}}return Q.valid},q=()=>{for(const K of l.unMount){const te=pt(r,K);te&&(te._f.refs?te._f.refs.every(Q=>!yR(Q)):!yR(te._f.ref))&&ut(K)}l.unMount=new Set},B=(K,te)=>!e.disabled&&(K&&te&&kr(i,K,te),!Wc(ge(),s)),G=(K,te,Q)=>wL(K,l,{...o.mount?i:Vs(te)?s:yl(K)?{[K]:te}:te},Q,te),J=K=>YF(pt(o.mount?i:s,K,e.shouldUnregister?pt(s,K,[]):[])),W=(K,te,Q={})=>{const me=pt(r,K);let ye=te;if(me){const A=me._f;A&&(!A.disabled&&kr(i,K,yX(te,A)),ye=FT(A.ref)&&Eo(te)?"":te,mX(A.ref)?[...A.ref.options].forEach($=>$.selected=ye.includes($.value)):A.refs?I0(A.ref)?A.refs.forEach($=>{(!$.defaultChecked||!$.disabled)&&(Array.isArray(ye)?$.checked=!!ye.find(re=>re===$.value):$.checked=ye===$.value||!!ye)}):A.refs.forEach($=>$.checked=$.value===ye):XF(A.ref)?A.ref.value="":(A.ref.value=ye,A.ref.type||m.state.next({name:K,values:xi(i)})))}(Q.shouldDirty||Q.shouldTouch)&&N(K,ye,Q.shouldTouch,Q.shouldDirty,!0),Q.shouldValidate&&le(K)},z=(K,te,Q)=>{for(const me in te){if(!te.hasOwnProperty(me))return;const ye=te[me],A=K+"."+me,$=pt(r,A);(l.array.has(K)||mi(ye)||$&&!$._f)&&!lp(ye)?z(A,ye,Q):W(A,ye,Q)}},Z=(K,te,Q={})=>{const me=pt(r,K),ye=l.array.has(K),A=xi(te);kr(i,K,A),ye?(m.array.next({name:K,values:xi(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Q.shouldDirty&&m.state.next({name:K,dirtyFields:xy(s,i),isDirty:B(K,A)})):me&&!me._f&&!Eo(A)?z(K,A,Q):W(K,A,Q),V9(K,l)&&m.state.next({...n,name:K}),m.state.next({name:o.mount?K:void 0,values:xi(i)})},X=async K=>{o.mount=!0;const te=K.target;let Q=te.name,me=!0;const ye=pt(r,Q),A=ue=>{me=Number.isNaN(ue)||lp(ue)&&isNaN(ue.getTime())||Wc(ue,pt(i,Q,ue))},$=$9(e.mode),re=$9(e.reValidateMode);if(ye){let ue,Ee;const be=te.type?M9(ye._f):cX(K),Me=K.type===$T.BLUR||K.type===$T.FOCUS_OUT,tt=!l3e(ye._f)&&!e.resolver&&!pt(n.errors,Q)&&!ye._f.deps||d3e(Me,pt(n.touchedFields,Q),n.isSubmitted,re,$),Pe=V9(Q,l,Me);kr(i,Q,be),Me?(!te||!te.readOnly)&&(ye._f.onBlur&&ye._f.onBlur(K),c&&c(0)):ye._f.onChange&&ye._f.onChange(K);const qe=N(Q,be,Me),Je=!za(qe)||Pe;if(!Me&&m.state.next({name:Q,type:K.type,values:xi(i)}),tt)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?Me&&_():Me||_()),Je&&m.state.next({name:Q,...Pe?{}:qe});if(!Me&&Pe&&m.state.next({...n}),e.resolver){const{errors:nt}=await D([Q]);if(A(be),me){const rt=U9(n.errors,r,Q),Lt=U9(nt,r,rt.name||Q);ue=Lt.error,Q=Lt.name,Ee=za(nt)}}else b([Q],!0),ue=(await z9(ye,l.disabled,i,p,e.shouldUseNativeValidation))[Q],b([Q]),A(be),me&&(ue?Ee=!1:(d.isValid||f.isValid)&&(Ee=await Y(r,!0)));me&&(ye._f.deps&&(!Array.isArray(ye._f.deps)||ye._f.deps.length>0)&&le(ye._f.deps),P(Q,Ee,ue,qe))}},ne=(K,te)=>{if(pt(n.errors,te)&&K.focus)return K.focus(),1},le=async(K,te={})=>{let Q,me;const ye=Sw(K);if(e.resolver){const A=await F(Vs(K)?K:ye);Q=za(A),me=K?!ye.some($=>pt(A,$)):Q}else K?(me=(await Promise.all(ye.map(async A=>{const $=pt(r,A);return await Y($&&$._f?{[A]:$}:$)}))).every(Boolean),!(!me&&!n.isValid)&&_()):me=Q=await Y(r);return m.state.next({...!yl(K)||(d.isValid||f.isValid)&&Q!==n.isValid?{}:{name:K},...e.resolver||!K?{isValid:Q}:{},errors:n.errors}),te.shouldFocus&&!me&&jw(r,ne,K?ye:l.mount),me},ge=(K,te)=>{let Q={...o.mount?i:s};return te&&(Q=fX(te.dirtyFields?n.dirtyFields:n.touchedFields,Q)),Vs(K)?Q:yl(K)?pt(Q,K):K.map(me=>pt(Q,me))},Ue=(K,te)=>({invalid:!!pt((te||n).errors,K),isDirty:!!pt((te||n).dirtyFields,K),error:pt((te||n).errors,K),isValidating:!!pt(n.validatingFields,K),isTouched:!!pt((te||n).touchedFields,K)}),Ie=K=>{K&&Sw(K).forEach(te=>oi(n.errors,te)),m.state.next({errors:K?n.errors:{}})},ot=(K,te,Q)=>{const me=(pt(r,K,{_f:{}})._f||{}).ref,ye=pt(n.errors,K)||{},{ref:A,message:$,type:re,...ue}=ye;kr(n.errors,K,{...ue,...te,ref:me}),m.state.next({name:K,errors:n.errors,isValid:!1}),Q&&Q.shouldFocus&&me&&me.focus&&me.focus()},it=(K,te)=>Gc(K)?m.state.subscribe({next:Q=>"values"in Q&&K(G(void 0,te),Q)}):G(K,te,!0),Te=K=>m.state.subscribe({next:te=>{u3e(K.name,te.name,K.exact)&&c3e(te,K.formState||d,Oe,K.reRenderRoot)&&K.callback({values:{...i},...n,...te,defaultValues:s})}}).unsubscribe,St=K=>(o.mount=!0,f={...f,...K.formState},Te({...K,formState:f})),ut=(K,te={})=>{for(const Q of K?Sw(K):l.mount)l.mount.delete(Q),l.array.delete(Q),te.keepValue||(oi(r,Q),oi(i,Q)),!te.keepError&&oi(n.errors,Q),!te.keepDirty&&oi(n.dirtyFields,Q),!te.keepTouched&&oi(n.touchedFields,Q),!te.keepIsValidating&&oi(n.validatingFields,Q),!e.shouldUnregister&&!te.keepDefaultValue&&oi(s,Q);m.state.next({values:xi(i)}),m.state.next({...n,...te.keepDirty?{isDirty:B()}:{}}),!te.keepIsValid&&_()},ft=({disabled:K,name:te})=>{(hl(K)&&o.mount||K||l.disabled.has(te))&&(K?l.disabled.add(te):l.disabled.delete(te))},gt=(K,te={})=>{let Q=pt(r,K);const me=hl(te.disabled)||hl(e.disabled);return kr(r,K,{...Q||{},_f:{...Q&&Q._f?Q._f:{ref:{name:K}},name:K,mount:!0,...te}}),l.mount.add(K),Q?ft({disabled:hl(te.disabled)?te.disabled:e.disabled,name:K}):T(K,!0,te.value),{...me?{disabled:te.disabled||e.disabled}:{},...e.progressive?{required:!!te.required,min:j_(te.min),max:j_(te.max),minLength:j_(te.minLength),maxLength:j_(te.maxLength),pattern:j_(te.pattern)}:{},name:K,onChange:X,onBlur:X,ref:ye=>{if(ye){gt(K,te),Q=pt(r,K);const A=Vs(ye.value)&&ye.querySelectorAll&&ye.querySelectorAll("input,select,textarea")[0]||ye,$=n3e(A),re=Q._f.refs||[];if($?re.find(ue=>ue===A):A===Q._f.ref)return;kr(r,K,{_f:{...Q._f,...$?{refs:[...re.filter(yR),A,...Array.isArray(pt(s,K))?[{}]:[]],ref:{type:A.type,name:K}}:{ref:A}}}),T(K,!1,void 0,A)}else Q=pt(r,K,{}),Q._f&&(Q._f.mount=!1),(e.shouldUnregister||te.shouldUnregister)&&!(uX(l.array,K)&&o.action)&&l.unMount.add(K)}}},qt=()=>e.shouldFocusError&&jw(r,ne,l.mount),It=K=>{hl(K)&&(m.state.next({disabled:K}),jw(r,(te,Q)=>{const me=pt(r,Q);me&&(te.disabled=me._f.disabled||K,Array.isArray(me._f.refs)&&me._f.refs.forEach(ye=>{ye.disabled=me._f.disabled||K}))},0,!1))},zt=(K,te)=>async Q=>{let me;Q&&(Q.preventDefault&&Q.preventDefault(),Q.persist&&Q.persist());let ye=xi(i);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:A,values:$}=await D();n.errors=A,ye=xi($)}else await Y(r);if(l.disabled.size)for(const A of l.disabled)oi(ye,A);if(oi(n.errors,"root"),za(n.errors)){m.state.next({errors:{}});try{await K(ye,Q)}catch(A){me=A}}else te&&await te({...n.errors},Q),qt(),setTimeout(qt);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:za(n.errors)&&!me,submitCount:n.submitCount+1,errors:n.errors}),me)throw me},en=(K,te={})=>{pt(r,K)&&(Vs(te.defaultValue)?Z(K,xi(pt(s,K))):(Z(K,te.defaultValue),kr(s,K,xi(te.defaultValue))),te.keepTouched||oi(n.touchedFields,K),te.keepDirty||(oi(n.dirtyFields,K),n.isDirty=te.defaultValue?B(K,xi(pt(s,K))):B()),te.keepError||(oi(n.errors,K),d.isValid&&_()),m.state.next({...n}))},xe=(K,te={})=>{const Q=K?xi(K):s,me=xi(Q),ye=za(K),A=ye?s:me;if(te.keepDefaultValues||(s=Q),!te.keepValues){if(te.keepDirtyValues){const $=new Set([...l.mount,...Object.keys(xy(s,i))]);for(const re of Array.from($))pt(n.dirtyFields,re)?kr(A,re,pt(i,re)):Z(re,pt(A,re))}else{if(qF&&Vs(K))for(const $ of l.mount){const re=pt(r,$);if(re&&re._f){const ue=Array.isArray(re._f.refs)?re._f.refs[0]:re._f.ref;if(FT(ue)){const Ee=ue.closest("form");if(Ee){Ee.reset();break}}}}if(te.keepFieldsRef)for(const $ of l.mount)Z($,pt(A,$));else r={}}i=e.shouldUnregister?te.keepDefaultValues?xi(s):{}:xi(A),m.array.next({values:{...A}}),m.state.next({values:{...A}})}l={mount:te.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!te.keepIsValid||!!te.keepDirtyValues||!e.shouldUnregister&&!za(A),o.watch=!!e.shouldUnregister,o.action=!1,te.keepErrors||(n.errors={}),m.state.next({submitCount:te.keepSubmitCount?n.submitCount:0,isDirty:ye?!1:te.keepDirty?n.isDirty:!!(te.keepDefaultValues&&!Wc(K,s)),isSubmitted:te.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ye?{}:te.keepDirtyValues?te.keepDefaultValues&&i?xy(s,i):n.dirtyFields:te.keepDefaultValues&&K?xy(s,K):te.keepDirty?n.dirtyFields:{},touchedFields:te.keepTouched?n.touchedFields:{},errors:te.keepErrors?n.errors:{},isSubmitSuccessful:te.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},We=(K,te)=>xe(Gc(K)?K(i):K,te),Qt=(K,te={})=>{const Q=pt(r,K),me=Q&&Q._f;if(me){const ye=me.refs?me.refs[0]:me.ref;ye.focus&&(ye.focus(),te.shouldSelect&&Gc(ye.select)&&ye.select())}},Oe=K=>{n={...n,...K}},ve={control:{register:gt,unregister:ut,getFieldState:Ue,handleSubmit:zt,setError:ot,_subscribe:Te,_runSchema:D,_focusError:qt,_getWatch:G,_getDirty:B,_setValid:_,_setFieldArray:x,_setDisabledField:ft,_setErrors:E,_getFieldArray:J,_reset:xe,_resetDefaultValues:()=>Gc(e.defaultValues)&&e.defaultValues().then(K=>{We(K,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:q,_disableForm:It,_subjects:m,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(K){o=K},get _defaultValues(){return s},get _names(){return l},set _names(K){l=K},get _formState(){return n},get _options(){return e},set _options(K){e={...e,...K}}},subscribe:St,trigger:le,register:gt,handleSubmit:zt,watch:it,setValue:Z,getValues:ge,reset:We,resetField:en,clearErrors:Ie,unregister:ut,setError:ot,setFocus:Qt,getFieldState:Ue};return{...ve,formControl:ve}}function bX(t={}){const e=ae.useRef(void 0),n=ae.useRef(void 0),[r,s]=ae.useState({isDirty:!1,isValidating:!1,isLoading:Gc(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Gc(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!Gc(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...l}=p3e(t);e.current={...l,formState:r}}const i=e.current.control;return i._options=t,QF(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),ae.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ae.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),ae.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),ae.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),ae.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),ae.useEffect(()=>{var o;t.values&&!Wc(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),n.current=t.values,s(l=>({...l}))):i._resetDefaultValues()},[i,t.values]),ae.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=hX(r,i),e.current}const W9=(t,e,n)=>{if(t&&"reportValidity"in t){const r=pt(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},SL=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?W9(r.ref,n,t):r&&r.refs&&r.refs.forEach(s=>W9(s,n,t))}},G9=(t,e)=>{e.shouldUseNativeValidation&&SL(t,e);const n={};for(const r in t){const s=pt(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(g3e(e.names||Object.keys(t),r)){const o=Object.assign({},pt(n,r));kr(o,"root",i),kr(n,r,o)}else kr(n,r,i)}return n},g3e=(t,e)=>{const n=H9(e);return t.some(r=>H9(r).match(`^${n}\\.\\d+`))};function H9(t){return t.replace(/\]|\[/g,"")}function Be(t,e,n){function r(l,c){if(l._zod||Object.defineProperty(l,"_zod",{value:{def:c,constr:o,traits:new Set},enumerable:!1}),l._zod.traits.has(t))return;l._zod.traits.add(t),e(l,c);const u=o.prototype,d=Object.keys(u);for(let f=0;f<d.length;f++){const m=d[f];m in l||(l[m]=u[m].bind(l))}}const s=(n==null?void 0:n.Parent)??Object;class i extends s{}Object.defineProperty(i,"name",{value:t});function o(l){var c;const u=n!=null&&n.Parent?new i:this;r(u,l),(c=u._zod).deferred??(c.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:l=>{var c,u;return n!=null&&n.Parent&&l instanceof n.Parent?!0:(u=(c=l==null?void 0:l._zod)==null?void 0:c.traits)==null?void 0:u.has(t)}}),Object.defineProperty(o,"name",{value:t}),o}class lv extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class _X extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const wX={};function Pp(t){return wX}function y3e(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,s])=>e.indexOf(+r)===-1).map(([r,s])=>s)}function jL(t,e){return typeof e=="bigint"?e.toString():e}function t4(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function n4(t){return t==null}function r4(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function v3e(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let s=(r.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(r)){const c=r.match(/\d?e-(\d?)/);c!=null&&c[1]&&(s=Number.parseInt(c[1]))}const i=n>s?n:s,o=Number.parseInt(t.toFixed(i).replace(".","")),l=Number.parseInt(e.toFixed(i).replace(".",""));return o%l/10**i}const q9=Symbol("evaluating");function Yr(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==q9)return r===void 0&&(r=q9,r=n()),r},set(s){Object.defineProperty(t,e,{value:s})},configurable:!0})}function og(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function lg(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function Y9(t){return JSON.stringify(t)}function b3e(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const xX="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function UT(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const _3e=t4(()=>{var t;if(typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)!=null&&t.includes("Cloudflare")))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Ex(t){if(UT(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(UT(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function EX(t){return Ex(t)?{...t}:Array.isArray(t)?[...t]:t}const w3e=new Set(["string","number","symbol"]);function HA(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Qf(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n!=null&&n.parent)&&(r._zod.parent=t),r}function tn(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function x3e(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const E3e={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function S3e(t,e){const n=t._zod.def,r=lg(t._zod.def,{get shape(){const s={};for(const i in e){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&(s[i]=n.shape[i])}return og(this,"shape",s),s},checks:[]});return Qf(t,r)}function j3e(t,e){const n=t._zod.def,r=lg(t._zod.def,{get shape(){const s={...t._zod.def.shape};for(const i in e){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&delete s[i]}return og(this,"shape",s),s},checks:[]});return Qf(t,r)}function T3e(t,e){if(!Ex(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const s=lg(t._zod.def,{get shape(){const i={...t._zod.def.shape,...e};return og(this,"shape",i),i},checks:[]});return Qf(t,s)}function C3e(t,e){if(!Ex(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const r={...t._zod.def.shape,...e};return og(this,"shape",r),r},checks:t._zod.def.checks};return Qf(t,n)}function A3e(t,e){const n=lg(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return og(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return Qf(t,n)}function N3e(t,e,n){const r=lg(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(n)for(const o in n){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(i[o]=t?new t({type:"optional",innerType:s[o]}):s[o])}else for(const o in s)i[o]=t?new t({type:"optional",innerType:s[o]}):s[o];return og(this,"shape",i),i},checks:[]});return Qf(e,r)}function I3e(t,e,n){const r=lg(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(n)for(const o in n){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(i[o]=new t({type:"nonoptional",innerType:s[o]}))}else for(const o in s)i[o]=new t({type:"nonoptional",innerType:s[o]});return og(this,"shape",i),i},checks:[]});return Qf(e,r)}function zy(t,e=0){var n;if(t.aborted===!0)return!0;for(let r=e;r<t.issues.length;r++)if(((n=t.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function SX(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function QS(t){return typeof t=="string"?t:t==null?void 0:t.message}function Dp(t,e,n){var s,i,o,l,c,u;const r={...t,path:t.path??[]};if(!t.message){const d=QS((o=(i=(s=t.inst)==null?void 0:s._zod.def)==null?void 0:i.error)==null?void 0:o.call(i,t))??QS((l=e==null?void 0:e.error)==null?void 0:l.call(e,t))??QS((c=n.customError)==null?void 0:c.call(n,t))??QS((u=n.localeError)==null?void 0:u.call(n,t))??"Invalid input";r.message=d}return delete r.inst,delete r.continue,e!=null&&e.reportInput||delete r.input,r}function s4(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Sx(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const jX=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,jL,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},i4=Be("$ZodError",jX),qA=Be("$ZodError",jX,{Parent:Error});function k3e(t,e=n=>n.message){const n={},r=[];for(const s of t.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}function O3e(t,e=n=>n.message){const n={_errors:[]},r=s=>{for(const i of s.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(o=>r({issues:o}));else if(i.code==="invalid_key")r({issues:i.issues});else if(i.code==="invalid_element")r({issues:i.issues});else if(i.path.length===0)n._errors.push(e(i));else{let o=n,l=0;for(;l<i.path.length;){const c=i.path[l];l===i.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(e(i))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return r(t),n}const YA=t=>(e,n,r,s)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new lv;if(o.issues.length){const l=new((s==null?void 0:s.Err)??t)(o.issues.map(c=>Dp(c,i,Pp())));throw xX(l,s==null?void 0:s.callee),l}return o.value},R3e=YA(qA),KA=t=>async(e,n,r,s)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const l=new((s==null?void 0:s.Err)??t)(o.issues.map(c=>Dp(c,i,Pp())));throw xX(l,s==null?void 0:s.callee),l}return o.value},P3e=KA(qA),JA=t=>(e,n,r)=>{const s=r?{...r,async:!1}:{async:!1},i=e._zod.run({value:n,issues:[]},s);if(i instanceof Promise)throw new lv;return i.issues.length?{success:!1,error:new(t??i4)(i.issues.map(o=>Dp(o,s,Pp())))}:{success:!0,data:i.value}},D3e=JA(qA),QA=t=>async(e,n,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let i=e._zod.run({value:n,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new t(i.issues.map(o=>Dp(o,s,Pp())))}:{success:!0,data:i.value}},L3e=QA(qA),M3e=t=>(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return YA(t)(e,n,s)},$3e=t=>(e,n,r)=>YA(t)(e,n,r),F3e=t=>async(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return KA(t)(e,n,s)},V3e=t=>async(e,n,r)=>KA(t)(e,n,r),U3e=t=>(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return JA(t)(e,n,s)},B3e=t=>(e,n,r)=>JA(t)(e,n,r),z3e=t=>async(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return QA(t)(e,n,s)},W3e=t=>async(e,n,r)=>QA(t)(e,n,r),G3e=/^[cC][^\s-]{8,}$/,H3e=/^[0-9a-z]+$/,q3e=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Y3e=/^[0-9a-vA-V]{20}$/,K3e=/^[A-Za-z0-9]{27}$/,J3e=/^[a-zA-Z0-9_-]{21}$/,Q3e=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Z3e=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,K9=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,X3e=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,eVe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function tVe(){return new RegExp(eVe,"u")}const nVe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,rVe=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,sVe=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,iVe=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,aVe=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,TX=/^[A-Za-z0-9_-]*$/,oVe=/^\+(?:[0-9]){6,14}[0-9]$/,CX="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",lVe=new RegExp(`^${CX}$`);function AX(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function cVe(t){return new RegExp(`^${AX(t)}$`)}function uVe(t){const e=AX({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${CX}T(?:${r})$`)}const dVe=t=>{const e=t?`[\\s\\S]{${(t==null?void 0:t.minimum)??0},${(t==null?void 0:t.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},hVe=/^-?\d+$/,fVe=/^-?\d+(?:\.\d+)?/,mVe=/^[^A-Z]*$/,pVe=/^[^a-z]*$/,Yo=Be("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),NX={number:"number",bigint:"bigint",object:"date"},IX=Be("$ZodCheckLessThan",(t,e)=>{Yo.init(t,e);const n=NX[typeof e.value];t._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<i&&(e.inclusive?s.maximum=e.value:s.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),kX=Be("$ZodCheckGreaterThan",(t,e)=>{Yo.init(t,e);const n=NX[typeof e.value];t._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>i&&(e.inclusive?s.minimum=e.value:s.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),gVe=Be("$ZodCheckMultipleOf",(t,e)=>{Yo.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):v3e(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),yVe=Be("$ZodCheckNumberFormat",(t,e)=>{var o;Yo.init(t,e),e.format=e.format||"float64";const n=(o=e.format)==null?void 0:o.includes("int"),r=n?"int":"number",[s,i]=E3e[e.format];t._zod.onattach.push(l=>{const c=l._zod.bag;c.format=e.format,c.minimum=s,c.maximum=i,n&&(c.pattern=hVe)}),t._zod.check=l=>{const c=l.value;if(n){if(!Number.isInteger(c)){l.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:c,inst:t});return}if(!Number.isSafeInteger(c)){c>0?l.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort}):l.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort});return}}c<s&&l.issues.push({origin:"number",input:c,code:"too_small",minimum:s,inclusive:!0,inst:t,continue:!e.abort}),c>i&&l.issues.push({origin:"number",input:c,code:"too_big",maximum:i,inst:t})}}),vVe=Be("$ZodCheckMaxLength",(t,e)=>{var n;Yo.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!n4(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<s&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const s=r.value;if(s.length<=e.maximum)return;const o=s4(s);r.issues.push({origin:o,code:"too_big",maximum:e.maximum,inclusive:!0,input:s,inst:t,continue:!e.abort})}}),bVe=Be("$ZodCheckMinLength",(t,e)=>{var n;Yo.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!n4(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>s&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const s=r.value;if(s.length>=e.minimum)return;const o=s4(s);r.issues.push({origin:o,code:"too_small",minimum:e.minimum,inclusive:!0,input:s,inst:t,continue:!e.abort})}}),_Ve=Be("$ZodCheckLengthEquals",(t,e)=>{var n;Yo.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!n4(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=e.length,s.maximum=e.length,s.length=e.length}),t._zod.check=r=>{const s=r.value,i=s.length;if(i===e.length)return;const o=s4(s),l=i>e.length;r.issues.push({origin:o,...l?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),ZA=Be("$ZodCheckStringFormat",(t,e)=>{var n,r;Yo.init(t,e),t._zod.onattach.push(s=>{const i=s._zod.bag;i.format=e.format,e.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=s=>{e.pattern.lastIndex=0,!e.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:e.format,input:s.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),wVe=Be("$ZodCheckRegex",(t,e)=>{ZA.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),xVe=Be("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=mVe),ZA.init(t,e)}),EVe=Be("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=pVe),ZA.init(t,e)}),SVe=Be("$ZodCheckIncludes",(t,e)=>{Yo.init(t,e);const n=HA(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=s=>{s.value.includes(e.includes,e.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:s.value,inst:t,continue:!e.abort})}}),jVe=Be("$ZodCheckStartsWith",(t,e)=>{Yo.init(t,e);const n=new RegExp(`^${HA(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),TVe=Be("$ZodCheckEndsWith",(t,e)=>{Yo.init(t,e);const n=new RegExp(`.*${HA(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),CVe=Be("$ZodCheckOverwrite",(t,e)=>{Yo.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class AVe{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(o=>o),s=Math.min(...r.map(o=>o.length-o.trimStart().length)),i=r.map(o=>o.slice(s)).map(o=>" ".repeat(this.indent*2)+o);for(const o of i)this.content.push(o)}compile(){const e=Function,n=this==null?void 0:this.args,s=[...((this==null?void 0:this.content)??[""]).map(i=>`  ${i}`)];return new e(...n,s.join(`
`))}}const NVe={major:4,minor:1,patch:13},ii=Be("$ZodType",(t,e)=>{var s;var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=NVe;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const i of r)for(const o of i._zod.onattach)o(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),(s=t._zod.deferred)==null||s.push(()=>{t._zod.run=t._zod.parse});else{const i=(l,c,u)=>{let d=zy(l),f;for(const m of c){if(m._zod.def.when){if(!m._zod.def.when(l))continue}else if(d)continue;const p=l.issues.length,y=m._zod.check(l);if(y instanceof Promise&&(u==null?void 0:u.async)===!1)throw new lv;if(f||y instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await y,l.issues.length!==p&&(d||(d=zy(l,p)))});else{if(l.issues.length===p)continue;d||(d=zy(l,p))}}return f?f.then(()=>l):l},o=(l,c,u)=>{if(zy(l))return l.aborted=!0,l;const d=i(c,r,u);if(d instanceof Promise){if(u.async===!1)throw new lv;return d.then(f=>t._zod.parse(f,u))}return t._zod.parse(d,u)};t._zod.run=(l,c)=>{if(c.skipChecks)return t._zod.parse(l,c);if(c.direction==="backward"){const d=t._zod.parse({value:l.value,issues:[]},{...c,skipChecks:!0});return d instanceof Promise?d.then(f=>o(f,l,c)):o(d,l,c)}const u=t._zod.parse(l,c);if(u instanceof Promise){if(c.async===!1)throw new lv;return u.then(d=>i(d,r,c))}return i(u,r,c)}}t["~standard"]={validate:i=>{var o;try{const l=D3e(t,i);return l.success?{value:l.data}:{issues:(o=l.error)==null?void 0:o.issues}}catch{return L3e(t,i).then(c=>{var u;return c.success?{value:c.data}:{issues:(u=c.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),a4=Be("$ZodString",(t,e)=>{var n;ii.init(t,e),t._zod.pattern=[...((n=t==null?void 0:t._zod.bag)==null?void 0:n.patterns)??[]].pop()??dVe(t._zod.bag),t._zod.parse=(r,s)=>{if(e.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),gs=Be("$ZodStringFormat",(t,e)=>{ZA.init(t,e),a4.init(t,e)}),IVe=Be("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=Z3e),gs.init(t,e)}),kVe=Be("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=K9(r))}else e.pattern??(e.pattern=K9());gs.init(t,e)}),OVe=Be("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=X3e),gs.init(t,e)}),RVe=Be("$ZodURL",(t,e)=>{gs.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),s=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(s.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=s.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),PVe=Be("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=tVe()),gs.init(t,e)}),DVe=Be("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=J3e),gs.init(t,e)}),LVe=Be("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=G3e),gs.init(t,e)}),MVe=Be("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=H3e),gs.init(t,e)}),$Ve=Be("$ZodULID",(t,e)=>{e.pattern??(e.pattern=q3e),gs.init(t,e)}),FVe=Be("$ZodXID",(t,e)=>{e.pattern??(e.pattern=Y3e),gs.init(t,e)}),VVe=Be("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=K3e),gs.init(t,e)}),UVe=Be("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=uVe(e)),gs.init(t,e)}),BVe=Be("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=lVe),gs.init(t,e)}),zVe=Be("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=cVe(e)),gs.init(t,e)}),WVe=Be("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=Q3e),gs.init(t,e)}),GVe=Be("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=nVe),gs.init(t,e),t._zod.bag.format="ipv4"}),HVe=Be("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=rVe),gs.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),qVe=Be("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=sVe),gs.init(t,e)}),YVe=Be("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=iVe),gs.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[s,i]=r;if(!i)throw new Error;const o=Number(i);if(`${o}`!==i)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function OX(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const KVe=Be("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=aVe),gs.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{OX(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function JVe(t){if(!TX.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return OX(n)}const QVe=Be("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=TX),gs.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{JVe(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),ZVe=Be("$ZodE164",(t,e)=>{e.pattern??(e.pattern=oVe),gs.init(t,e)});function XVe(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const s=JSON.parse(atob(r));return!("typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&(!("alg"in s)||s.alg!==e))}catch{return!1}}const eUe=Be("$ZodJWT",(t,e)=>{gs.init(t,e),t._zod.check=n=>{XVe(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),RX=Be("$ZodNumber",(t,e)=>{ii.init(t,e),t._zod.pattern=t._zod.bag.pattern??fVe,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const s=n.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return n;const i=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:s,inst:t,...i?{received:i}:{}}),n}}),tUe=Be("$ZodNumberFormat",(t,e)=>{yVe.init(t,e),RX.init(t,e)}),nUe=Be("$ZodAny",(t,e)=>{ii.init(t,e),t._zod.parse=n=>n}),rUe=Be("$ZodUnknown",(t,e)=>{ii.init(t,e),t._zod.parse=n=>n}),sUe=Be("$ZodNever",(t,e)=>{ii.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function J9(t,e,n){t.issues.length&&e.issues.push(...SX(n,t.issues)),e.value[n]=t.value}const iUe=Be("$ZodArray",(t,e)=>{ii.init(t,e),t._zod.parse=(n,r)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:t}),n;n.value=Array(s.length);const i=[];for(let o=0;o<s.length;o++){const l=s[o],c=e.element._zod.run({value:l,issues:[]},r);c instanceof Promise?i.push(c.then(u=>J9(u,n,o))):J9(c,n,o)}return i.length?Promise.all(i).then(()=>n):n}});function BT(t,e,n,r){t.issues.length&&e.issues.push(...SX(n,t.issues)),t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function PX(t){var r,s,i,o;const e=Object.keys(t.shape);for(const l of e)if(!((o=(i=(s=(r=t.shape)==null?void 0:r[l])==null?void 0:s._zod)==null?void 0:i.traits)!=null&&o.has("$ZodType")))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const n=x3e(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function DX(t,e,n,r,s,i){const o=[],l=s.keySet,c=s.catchall._zod,u=c.def.type;for(const d in e){if(l.has(d))continue;if(u==="never"){o.push(d);continue}const f=c.run({value:e[d],issues:[]},r);f instanceof Promise?t.push(f.then(m=>BT(m,n,d,e))):BT(f,n,d,e)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:e,inst:i}),t.length?Promise.all(t).then(()=>n):n}const aUe=Be("$ZodObject",(t,e)=>{ii.init(t,e);const n=Object.getOwnPropertyDescriptor(e,"shape");if(!(n!=null&&n.get)){const l=e.shape;Object.defineProperty(e,"shape",{get:()=>{const c={...l};return Object.defineProperty(e,"shape",{value:c}),c}})}const r=t4(()=>PX(e));Yr(t._zod,"propValues",()=>{const l=e.shape,c={};for(const u in l){const d=l[u]._zod;if(d.values){c[u]??(c[u]=new Set);for(const f of d.values)c[u].add(f)}}return c});const s=UT,i=e.catchall;let o;t._zod.parse=(l,c)=>{o??(o=r.value);const u=l.value;if(!s(u))return l.issues.push({expected:"object",code:"invalid_type",input:u,inst:t}),l;l.value={};const d=[],f=o.shape;for(const m of o.keys){const y=f[m]._zod.run({value:u[m],issues:[]},c);y instanceof Promise?d.push(y.then(_=>BT(_,l,m,u))):BT(y,l,m,u)}return i?DX(d,u,l,c,r.value,t):d.length?Promise.all(d).then(()=>l):l}}),oUe=Be("$ZodObjectJIT",(t,e)=>{aUe.init(t,e);const n=t._zod.parse,r=t4(()=>PX(e)),s=m=>{const p=new AVe(["shape","payload","ctx"]),y=r.value,_=E=>{const T=Y9(E);return`shape[${T}]._zod.run({ value: input[${T}], issues: [] }, ctx)`};p.write("const input = payload.value;");const b=Object.create(null);let x=0;for(const E of y.keys)b[E]=`key_${x++}`;p.write("const newResult = {};");for(const E of y.keys){const T=b[E],N=Y9(E);p.write(`const ${T} = ${_(E)};`),p.write(`
        if (${T}.issues.length) {
          payload.issues = payload.issues.concat(${T}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${N}, ...iss.path] : [${N}]
          })));
        }
        
        
        if (${T}.value === undefined) {
          if (${N} in input) {
            newResult[${N}] = undefined;
          }
        } else {
          newResult[${N}] = ${T}.value;
        }
        
      `)}p.write("payload.value = newResult;"),p.write("return payload;");const w=p.compile();return(E,T)=>w(m,E,T)};let i;const o=UT,l=!wX.jitless,u=l&&_3e.value,d=e.catchall;let f;t._zod.parse=(m,p)=>{f??(f=r.value);const y=m.value;return o(y)?l&&u&&(p==null?void 0:p.async)===!1&&p.jitless!==!0?(i||(i=s(e.shape)),m=i(m,p),d?DX([],y,m,p,f,t):m):n(m,p):(m.issues.push({expected:"object",code:"invalid_type",input:y,inst:t}),m)}});function Q9(t,e,n,r){for(const i of t)if(i.issues.length===0)return e.value=i.value,e;const s=t.filter(i=>!zy(i));return s.length===1?(e.value=s[0].value,s[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(i=>i.issues.map(o=>Dp(o,r,Pp())))}),e)}const lUe=Be("$ZodUnion",(t,e)=>{ii.init(t,e),Yr(t._zod,"optin",()=>e.options.some(s=>s._zod.optin==="optional")?"optional":void 0),Yr(t._zod,"optout",()=>e.options.some(s=>s._zod.optout==="optional")?"optional":void 0),Yr(t._zod,"values",()=>{if(e.options.every(s=>s._zod.values))return new Set(e.options.flatMap(s=>Array.from(s._zod.values)))}),Yr(t._zod,"pattern",()=>{if(e.options.every(s=>s._zod.pattern)){const s=e.options.map(i=>i._zod.pattern);return new RegExp(`^(${s.map(i=>r4(i.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(s,i)=>{if(n)return r(s,i);let o=!1;const l=[];for(const c of e.options){const u=c._zod.run({value:s.value,issues:[]},i);if(u instanceof Promise)l.push(u),o=!0;else{if(u.issues.length===0)return u;l.push(u)}}return o?Promise.all(l).then(c=>Q9(c,s,t,i)):Q9(l,s,t,i)}}),cUe=Be("$ZodIntersection",(t,e)=>{ii.init(t,e),t._zod.parse=(n,r)=>{const s=n.value,i=e.left._zod.run({value:s,issues:[]},r),o=e.right._zod.run({value:s,issues:[]},r);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([c,u])=>Z9(n,c,u)):Z9(n,i,o)}});function TL(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Ex(t)&&Ex(e)){const n=Object.keys(e),r=Object.keys(t).filter(i=>n.indexOf(i)!==-1),s={...t,...e};for(const i of r){const o=TL(t[i],e[i]);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};s[i]=o.data}return{valid:!0,data:s}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const s=t[r],i=e[r],o=TL(s,i);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Z9(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),zy(t))return t;const r=TL(e.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return t.value=r.data,t}const uUe=Be("$ZodEnum",(t,e)=>{ii.init(t,e);const n=y3e(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(s=>w3e.has(typeof s)).map(s=>typeof s=="string"?HA(s):s.toString()).join("|")})$`),t._zod.parse=(s,i)=>{const o=s.value;return r.has(o)||s.issues.push({code:"invalid_value",values:n,input:o,inst:t}),s}}),dUe=Be("$ZodTransform",(t,e)=>{ii.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new _X(t.constructor.name);const s=e.transform(n.value,n);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(o=>(n.value=o,n));if(s instanceof Promise)throw new lv;return n.value=s,n}});function X9(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const hUe=Be("$ZodOptional",(t,e)=>{ii.init(t,e),t._zod.optin="optional",t._zod.optout="optional",Yr(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Yr(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${r4(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>X9(i,n.value)):X9(s,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),fUe=Be("$ZodNullable",(t,e)=>{ii.init(t,e),Yr(t._zod,"optin",()=>e.innerType._zod.optin),Yr(t._zod,"optout",()=>e.innerType._zod.optout),Yr(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${r4(n.source)}|null)$`):void 0}),Yr(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),mUe=Be("$ZodDefault",(t,e)=>{ii.init(t,e),t._zod.optin="optional",Yr(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>e8(i,e)):e8(s,e)}});function e8(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const pUe=Be("$ZodPrefault",(t,e)=>{ii.init(t,e),t._zod.optin="optional",Yr(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),gUe=Be("$ZodNonOptional",(t,e)=>{ii.init(t,e),Yr(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>t8(i,t)):t8(s,t)}});function t8(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const yUe=Be("$ZodCatch",(t,e)=>{ii.init(t,e),Yr(t._zod,"optin",()=>e.innerType._zod.optin),Yr(t._zod,"optout",()=>e.innerType._zod.optout),Yr(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(o=>Dp(o,r,Pp()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=e.catchValue({...n,error:{issues:s.issues.map(i=>Dp(i,r,Pp()))},input:n.value}),n.issues=[]),n)}}),vUe=Be("$ZodPipe",(t,e)=>{ii.init(t,e),Yr(t._zod,"values",()=>e.in._zod.values),Yr(t._zod,"optin",()=>e.in._zod.optin),Yr(t._zod,"optout",()=>e.out._zod.optout),Yr(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const i=e.out._zod.run(n,r);return i instanceof Promise?i.then(o=>ZS(o,e.in,r)):ZS(i,e.in,r)}const s=e.in._zod.run(n,r);return s instanceof Promise?s.then(i=>ZS(i,e.out,r)):ZS(s,e.out,r)}});function ZS(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const bUe=Be("$ZodReadonly",(t,e)=>{ii.init(t,e),Yr(t._zod,"propValues",()=>e.innerType._zod.propValues),Yr(t._zod,"values",()=>e.innerType._zod.values),Yr(t._zod,"optin",()=>{var n,r;return(r=(n=e.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),Yr(t._zod,"optout",()=>{var n,r;return(r=(n=e.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(n8):n8(s)}});function n8(t){return t.value=Object.freeze(t.value),t}const _Ue=Be("$ZodCustom",(t,e)=>{Yo.init(t,e),ii.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,s=e.fn(r);if(s instanceof Promise)return s.then(i=>r8(i,n,r,t));r8(s,n,r,t)}});function r8(t,e,n,r){if(!t){const s={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),e.issues.push(Sx(s))}}var s8;class wUe{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const s={...r,...this._map.get(e)};return Object.keys(s).length?s:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function xUe(){return new wUe}(s8=globalThis).__zod_globalRegistry??(s8.__zod_globalRegistry=xUe());const XS=globalThis.__zod_globalRegistry;function EUe(t,e){return new t({type:"string",...tn(e)})}function SUe(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...tn(e)})}function i8(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...tn(e)})}function jUe(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...tn(e)})}function TUe(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...tn(e)})}function CUe(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...tn(e)})}function AUe(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...tn(e)})}function NUe(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...tn(e)})}function IUe(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...tn(e)})}function kUe(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...tn(e)})}function OUe(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...tn(e)})}function RUe(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...tn(e)})}function PUe(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...tn(e)})}function DUe(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...tn(e)})}function LUe(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...tn(e)})}function MUe(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...tn(e)})}function $Ue(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...tn(e)})}function FUe(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...tn(e)})}function VUe(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...tn(e)})}function UUe(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...tn(e)})}function BUe(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...tn(e)})}function zUe(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...tn(e)})}function WUe(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...tn(e)})}function GUe(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...tn(e)})}function HUe(t,e){return new t({type:"string",format:"date",check:"string_format",...tn(e)})}function qUe(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...tn(e)})}function YUe(t,e){return new t({type:"string",format:"duration",check:"string_format",...tn(e)})}function KUe(t,e){return new t({type:"number",checks:[],...tn(e)})}function JUe(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...tn(e)})}function QUe(t){return new t({type:"any"})}function ZUe(t){return new t({type:"unknown"})}function XUe(t,e){return new t({type:"never",...tn(e)})}function a8(t,e){return new IX({check:"less_than",...tn(e),value:t,inclusive:!1})}function vR(t,e){return new IX({check:"less_than",...tn(e),value:t,inclusive:!0})}function o8(t,e){return new kX({check:"greater_than",...tn(e),value:t,inclusive:!1})}function bR(t,e){return new kX({check:"greater_than",...tn(e),value:t,inclusive:!0})}function l8(t,e){return new gVe({check:"multiple_of",...tn(e),value:t})}function LX(t,e){return new vVe({check:"max_length",...tn(e),maximum:t})}function zT(t,e){return new bVe({check:"min_length",...tn(e),minimum:t})}function MX(t,e){return new _Ve({check:"length_equals",...tn(e),length:t})}function eBe(t,e){return new wVe({check:"string_format",format:"regex",...tn(e),pattern:t})}function tBe(t){return new xVe({check:"string_format",format:"lowercase",...tn(t)})}function nBe(t){return new EVe({check:"string_format",format:"uppercase",...tn(t)})}function rBe(t,e){return new SVe({check:"string_format",format:"includes",...tn(e),includes:t})}function sBe(t,e){return new jVe({check:"string_format",format:"starts_with",...tn(e),prefix:t})}function iBe(t,e){return new TVe({check:"string_format",format:"ends_with",...tn(e),suffix:t})}function bb(t){return new CVe({check:"overwrite",tx:t})}function aBe(t){return bb(e=>e.normalize(t))}function oBe(){return bb(t=>t.trim())}function lBe(){return bb(t=>t.toLowerCase())}function cBe(){return bb(t=>t.toUpperCase())}function uBe(){return bb(t=>b3e(t))}function dBe(t,e,n){return new t({type:"array",element:e,...tn(n)})}function hBe(t,e,n){return new t({type:"custom",check:"custom",fn:e,...tn(n)})}function fBe(t){const e=mBe(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Sx(r,n.value,e._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=e),s.continue??(s.continue=!e._zod.def.abort),n.issues.push(Sx(s))}},t(n.value,n)));return e}function mBe(t,e){const n=new Yo({check:"custom",...tn(e)});return n._zod.check=t,n}function c8(t,e){try{var n=t()}catch(r){return e(r)}return n&&n.then?n.then(void 0,e):n}function pBe(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var c=n[o].types,u=c&&c[r.code];n[o]=ZF(o,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n}function gBe(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if(r.code==="invalid_union"&&r.errors.length>0){var l=r.errors[0][0];n[o]={message:l.message,type:l.code}}else n[o]={message:i,type:s};if(r.code==="invalid_union"&&r.errors.forEach(function(d){return d.forEach(function(f){return t.push(f)})}),e){var c=n[o].types,u=c&&c[r.code];n[o]=ZF(o,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n}function $X(t,e,n){if(n===void 0&&(n={}),function(r){return"_def"in r&&typeof r._def=="object"&&"typeName"in r._def}(t))return function(r,s,i){try{return Promise.resolve(c8(function(){return Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(o){return i.shouldUseNativeValidation&&SL({},i),{errors:{},values:n.raw?Object.assign({},r):o}})},function(o){if(function(l){return Array.isArray(l==null?void 0:l.issues)}(o))return{values:{},errors:G9(pBe(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};if(function(r){return"_zod"in r&&typeof r._zod=="object"}(t))return function(r,s,i){try{return Promise.resolve(c8(function(){return Promise.resolve((n.mode==="sync"?R3e:P3e)(t,r,e)).then(function(o){return i.shouldUseNativeValidation&&SL({},i),{errors:{},values:n.raw?Object.assign({},r):o}})},function(o){if(function(l){return l instanceof i4}(o))return{values:{},errors:G9(gBe(o.issues,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};throw new Error("Invalid input: not a Zod schema")}const yBe=Be("ZodISODateTime",(t,e)=>{UVe.init(t,e),ks.init(t,e)});function vBe(t){return GUe(yBe,t)}const bBe=Be("ZodISODate",(t,e)=>{BVe.init(t,e),ks.init(t,e)});function _Be(t){return HUe(bBe,t)}const wBe=Be("ZodISOTime",(t,e)=>{zVe.init(t,e),ks.init(t,e)});function xBe(t){return qUe(wBe,t)}const EBe=Be("ZodISODuration",(t,e)=>{WVe.init(t,e),ks.init(t,e)});function SBe(t){return YUe(EBe,t)}const jBe=(t,e)=>{i4.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>O3e(t,n)},flatten:{value:n=>k3e(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,jL,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,jL,2)}},isEmpty:{get(){return t.issues.length===0}}})},xc=Be("ZodError",jBe,{Parent:Error}),TBe=YA(xc),CBe=KA(xc),ABe=JA(xc),NBe=QA(xc),IBe=M3e(xc),kBe=$3e(xc),OBe=F3e(xc),RBe=V3e(xc),PBe=U3e(xc),DBe=B3e(xc),LBe=z3e(xc),MBe=W3e(xc),gi=Be("ZodType",(t,e)=>(ii.init(t,e),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(lg(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),t.clone=(n,r)=>Qf(t,n,r),t.brand=()=>t,t.register=(n,r)=>(n.add(t,r),t),t.parse=(n,r)=>TBe(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>ABe(t,n,r),t.parseAsync=async(n,r)=>CBe(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>NBe(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>IBe(t,n,r),t.decode=(n,r)=>kBe(t,n,r),t.encodeAsync=async(n,r)=>OBe(t,n,r),t.decodeAsync=async(n,r)=>RBe(t,n,r),t.safeEncode=(n,r)=>PBe(t,n,r),t.safeDecode=(n,r)=>DBe(t,n,r),t.safeEncodeAsync=async(n,r)=>LBe(t,n,r),t.safeDecodeAsync=async(n,r)=>MBe(t,n,r),t.refine=(n,r)=>t.check(N5e(n,r)),t.superRefine=n=>t.check(I5e(n)),t.overwrite=n=>t.check(bb(n)),t.optional=()=>f8(t),t.nullable=()=>m8(t),t.nullish=()=>f8(m8(t)),t.nonoptional=n=>x5e(t,n),t.array=()=>l5e(t),t.or=n=>d5e([t,n]),t.and=n=>f5e(t,n),t.transform=n=>p8(t,g5e(n)),t.default=n=>b5e(t,n),t.prefault=n=>w5e(t,n),t.catch=n=>S5e(t,n),t.pipe=n=>p8(t,n),t.readonly=()=>C5e(t),t.describe=n=>{const r=t.clone();return XS.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){var n;return(n=XS.get(t))==null?void 0:n.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return XS.get(t);const r=t.clone();return XS.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),FX=Be("_ZodString",(t,e)=>{a4.init(t,e),gi.init(t,e);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(eBe(...r)),t.includes=(...r)=>t.check(rBe(...r)),t.startsWith=(...r)=>t.check(sBe(...r)),t.endsWith=(...r)=>t.check(iBe(...r)),t.min=(...r)=>t.check(zT(...r)),t.max=(...r)=>t.check(LX(...r)),t.length=(...r)=>t.check(MX(...r)),t.nonempty=(...r)=>t.check(zT(1,...r)),t.lowercase=r=>t.check(tBe(r)),t.uppercase=r=>t.check(nBe(r)),t.trim=()=>t.check(oBe()),t.normalize=(...r)=>t.check(aBe(...r)),t.toLowerCase=()=>t.check(lBe()),t.toUpperCase=()=>t.check(cBe()),t.slugify=()=>t.check(uBe())}),$Be=Be("ZodString",(t,e)=>{a4.init(t,e),FX.init(t,e),t.email=n=>t.check(SUe(FBe,n)),t.url=n=>t.check(NUe(VBe,n)),t.jwt=n=>t.check(WUe(t5e,n)),t.emoji=n=>t.check(IUe(UBe,n)),t.guid=n=>t.check(i8(u8,n)),t.uuid=n=>t.check(jUe(ej,n)),t.uuidv4=n=>t.check(TUe(ej,n)),t.uuidv6=n=>t.check(CUe(ej,n)),t.uuidv7=n=>t.check(AUe(ej,n)),t.nanoid=n=>t.check(kUe(BBe,n)),t.guid=n=>t.check(i8(u8,n)),t.cuid=n=>t.check(OUe(zBe,n)),t.cuid2=n=>t.check(RUe(WBe,n)),t.ulid=n=>t.check(PUe(GBe,n)),t.base64=n=>t.check(UUe(ZBe,n)),t.base64url=n=>t.check(BUe(XBe,n)),t.xid=n=>t.check(DUe(HBe,n)),t.ksuid=n=>t.check(LUe(qBe,n)),t.ipv4=n=>t.check(MUe(YBe,n)),t.ipv6=n=>t.check($Ue(KBe,n)),t.cidrv4=n=>t.check(FUe(JBe,n)),t.cidrv6=n=>t.check(VUe(QBe,n)),t.e164=n=>t.check(zUe(e5e,n)),t.datetime=n=>t.check(vBe(n)),t.date=n=>t.check(_Be(n)),t.time=n=>t.check(xBe(n)),t.duration=n=>t.check(SBe(n))});function VX(t){return EUe($Be,t)}const ks=Be("ZodStringFormat",(t,e)=>{gs.init(t,e),FX.init(t,e)}),FBe=Be("ZodEmail",(t,e)=>{OVe.init(t,e),ks.init(t,e)}),u8=Be("ZodGUID",(t,e)=>{IVe.init(t,e),ks.init(t,e)}),ej=Be("ZodUUID",(t,e)=>{kVe.init(t,e),ks.init(t,e)}),VBe=Be("ZodURL",(t,e)=>{RVe.init(t,e),ks.init(t,e)}),UBe=Be("ZodEmoji",(t,e)=>{PVe.init(t,e),ks.init(t,e)}),BBe=Be("ZodNanoID",(t,e)=>{DVe.init(t,e),ks.init(t,e)}),zBe=Be("ZodCUID",(t,e)=>{LVe.init(t,e),ks.init(t,e)}),WBe=Be("ZodCUID2",(t,e)=>{MVe.init(t,e),ks.init(t,e)}),GBe=Be("ZodULID",(t,e)=>{$Ve.init(t,e),ks.init(t,e)}),HBe=Be("ZodXID",(t,e)=>{FVe.init(t,e),ks.init(t,e)}),qBe=Be("ZodKSUID",(t,e)=>{VVe.init(t,e),ks.init(t,e)}),YBe=Be("ZodIPv4",(t,e)=>{GVe.init(t,e),ks.init(t,e)}),KBe=Be("ZodIPv6",(t,e)=>{HVe.init(t,e),ks.init(t,e)}),JBe=Be("ZodCIDRv4",(t,e)=>{qVe.init(t,e),ks.init(t,e)}),QBe=Be("ZodCIDRv6",(t,e)=>{YVe.init(t,e),ks.init(t,e)}),ZBe=Be("ZodBase64",(t,e)=>{KVe.init(t,e),ks.init(t,e)}),XBe=Be("ZodBase64URL",(t,e)=>{QVe.init(t,e),ks.init(t,e)}),e5e=Be("ZodE164",(t,e)=>{ZVe.init(t,e),ks.init(t,e)}),t5e=Be("ZodJWT",(t,e)=>{eUe.init(t,e),ks.init(t,e)}),UX=Be("ZodNumber",(t,e)=>{RX.init(t,e),gi.init(t,e),t.gt=(r,s)=>t.check(o8(r,s)),t.gte=(r,s)=>t.check(bR(r,s)),t.min=(r,s)=>t.check(bR(r,s)),t.lt=(r,s)=>t.check(a8(r,s)),t.lte=(r,s)=>t.check(vR(r,s)),t.max=(r,s)=>t.check(vR(r,s)),t.int=r=>t.check(d8(r)),t.safe=r=>t.check(d8(r)),t.positive=r=>t.check(o8(0,r)),t.nonnegative=r=>t.check(bR(0,r)),t.negative=r=>t.check(a8(0,r)),t.nonpositive=r=>t.check(vR(0,r)),t.multipleOf=(r,s)=>t.check(l8(r,s)),t.step=(r,s)=>t.check(l8(r,s)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function BX(t){return KUe(UX,t)}const n5e=Be("ZodNumberFormat",(t,e)=>{tUe.init(t,e),UX.init(t,e)});function d8(t){return JUe(n5e,t)}const r5e=Be("ZodAny",(t,e)=>{nUe.init(t,e),gi.init(t,e)});function zX(){return QUe(r5e)}const s5e=Be("ZodUnknown",(t,e)=>{rUe.init(t,e),gi.init(t,e)});function h8(){return ZUe(s5e)}const i5e=Be("ZodNever",(t,e)=>{sUe.init(t,e),gi.init(t,e)});function a5e(t){return XUe(i5e,t)}const o5e=Be("ZodArray",(t,e)=>{iUe.init(t,e),gi.init(t,e),t.element=e.element,t.min=(n,r)=>t.check(zT(n,r)),t.nonempty=n=>t.check(zT(1,n)),t.max=(n,r)=>t.check(LX(n,r)),t.length=(n,r)=>t.check(MX(n,r)),t.unwrap=()=>t.element});function l5e(t,e){return dBe(o5e,t,e)}const c5e=Be("ZodObject",(t,e)=>{oUe.init(t,e),gi.init(t,e),Yr(t,"shape",()=>e.shape),t.keyof=()=>m5e(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:h8()}),t.loose=()=>t.clone({...t._zod.def,catchall:h8()}),t.strict=()=>t.clone({...t._zod.def,catchall:a5e()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>T3e(t,n),t.safeExtend=n=>C3e(t,n),t.merge=n=>A3e(t,n),t.pick=n=>S3e(t,n),t.omit=n=>j3e(t,n),t.partial=(...n)=>N3e(GX,t,n[0]),t.required=(...n)=>I3e(HX,t,n[0])});function WX(t,e){const n={type:"object",shape:t??{},...tn(e)};return new c5e(n)}const u5e=Be("ZodUnion",(t,e)=>{lUe.init(t,e),gi.init(t,e),t.options=e.options});function d5e(t,e){return new u5e({type:"union",options:t,...tn(e)})}const h5e=Be("ZodIntersection",(t,e)=>{cUe.init(t,e),gi.init(t,e)});function f5e(t,e){return new h5e({type:"intersection",left:t,right:e})}const CL=Be("ZodEnum",(t,e)=>{uUe.init(t,e),gi.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,s)=>{const i={};for(const o of r)if(n.has(o))i[o]=e.entries[o];else throw new Error(`Key ${o} not found in enum`);return new CL({...e,checks:[],...tn(s),entries:i})},t.exclude=(r,s)=>{const i={...e.entries};for(const o of r)if(n.has(o))delete i[o];else throw new Error(`Key ${o} not found in enum`);return new CL({...e,checks:[],...tn(s),entries:i})}});function m5e(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new CL({type:"enum",entries:n,...tn(e)})}const p5e=Be("ZodTransform",(t,e)=>{dUe.init(t,e),gi.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new _X(t.constructor.name);n.addIssue=i=>{if(typeof i=="string")n.issues.push(Sx(i,n.value,e));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),n.issues.push(Sx(o))}};const s=e.transform(n.value,n);return s instanceof Promise?s.then(i=>(n.value=i,n)):(n.value=s,n)}});function g5e(t){return new p5e({type:"transform",transform:t})}const GX=Be("ZodOptional",(t,e)=>{hUe.init(t,e),gi.init(t,e),t.unwrap=()=>t._zod.def.innerType});function f8(t){return new GX({type:"optional",innerType:t})}const y5e=Be("ZodNullable",(t,e)=>{fUe.init(t,e),gi.init(t,e),t.unwrap=()=>t._zod.def.innerType});function m8(t){return new y5e({type:"nullable",innerType:t})}const v5e=Be("ZodDefault",(t,e)=>{mUe.init(t,e),gi.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function b5e(t,e){return new v5e({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():EX(e)}})}const _5e=Be("ZodPrefault",(t,e)=>{pUe.init(t,e),gi.init(t,e),t.unwrap=()=>t._zod.def.innerType});function w5e(t,e){return new _5e({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():EX(e)}})}const HX=Be("ZodNonOptional",(t,e)=>{gUe.init(t,e),gi.init(t,e),t.unwrap=()=>t._zod.def.innerType});function x5e(t,e){return new HX({type:"nonoptional",innerType:t,...tn(e)})}const E5e=Be("ZodCatch",(t,e)=>{yUe.init(t,e),gi.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function S5e(t,e){return new E5e({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const j5e=Be("ZodPipe",(t,e)=>{vUe.init(t,e),gi.init(t,e),t.in=e.in,t.out=e.out});function p8(t,e){return new j5e({type:"pipe",in:t,out:e})}const T5e=Be("ZodReadonly",(t,e)=>{bUe.init(t,e),gi.init(t,e),t.unwrap=()=>t._zod.def.innerType});function C5e(t){return new T5e({type:"readonly",innerType:t})}const A5e=Be("ZodCustom",(t,e)=>{_Ue.init(t,e),gi.init(t,e)});function N5e(t,e={}){return hBe(A5e,t,e)}function I5e(t){return fBe(t)}const qX=async()=>{const{data:t,error:e}=await je.from("customers").select("id, full_name:name, mobile").order("name",{ascending:!0});return e?(console.error("Error fetching owners:",e),[]):t||[]},YX=async t=>{const{data:e,error:n}=await je.rpc("get_owner_products_summary",{p_owner_id:Number(t)});if(n)throw console.error("Error fetching products:",n),n;return e||[]},KX=async(t,e)=>{const{data:n,error:r}=await je.rpc("get_batches_with_history",{p_owner_id:Number(t),p_product_id:Number(e)});if(r)throw console.error("Error fetching batches:",r),r;return n||[]},JX=async t=>{if(!t)return null;const e=t.name.split(".").pop(),r=`${`${Date.now()}_${Math.random().toString(36).substring(2)}.${e}`}`,{data:s,error:i}=await je.storage.from("clearance_attachments").upload(r,t,{cacheControl:"3600",upsert:!1});if(i)throw console.error("Upload Error Details:",i),i;const{data:o}=je.storage.from("clearance_attachments").getPublicUrl(r);return o.publicUrl},k5e=async t=>{const{data:e,error:n}=await je.rpc("create_clearance_with_items",{p_payload:t});if(n)throw n;return e},O5e=async(t={})=>{let e=je.from("view_clearance_report").select("*");t.customer&&t.customer.trim()!==""&&(e=e.ilike("customer_name",`%${t.customer}%`)),t.product&&t.product.trim()!==""&&(e=e.ilike("product_name",`%${t.product}%`)),t.clearanceNo&&t.clearanceNo.trim()!==""&&(e=e.eq("clearance_no",t.clearanceNo)),t.batchNo&&t.batchNo.trim()!==""&&(e=e.ilike("batch_no",`%${t.batchNo}%`)),t.status&&t.status.trim()!==""&&(e=e.eq("operational_status",t.status));const{data:n,error:r}=await e.order("clearance_date",{ascending:!1});if(r)throw console.error("Error fetching report:",r),r;return n||[]},R5e=async t=>{const{data:e,error:n}=await je.rpc("delete_clearance",{p_clearance_id:t});if(n)throw n;return e},P5e=async t=>{const{data:e,error:n}=await je.from("clearances").select("*, customer:customers(id, name, mobile)").eq("id",t).single();if(n)throw n;const{data:r,error:s}=await je.from("clearance_items").select("*, product:products(id, name)").eq("clearance_id",t);if(s)throw s;return{...e,items:r}},D5e=async(t,e)=>{const{data:n,error:r}=await je.rpc("update_clearance_full",{p_clearance_id:t,p_payload:e});if(r)throw r;return n},L5e="https://api.anbardaranrey.ir/api";async function QX(t,e,n){try{const r=await fetch(`${L5e}${t}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:n?`Bearer ${n}`:""},body:JSON.stringify(e)});if(!r.ok){const s=await r.json().catch(()=>({}));throw new Error(s.error||s.message||`HTTP Error ${r.status}`)}return r.json()}catch(r){throw console.error("API POST Error:",r),new Error("    ")}}function WT(t){return QX("/auth/request-otp",{mobile:t})}function o4(t,e){return QX("/auth/verify-otp",{mobile:t,otp:e}).then(n=>(n.token&&localStorage.setItem("token",n.token),n))}const ZX=(t,e)=>{const n=[];return t.filter(s=>s.parent_batch_no===e).forEach(s=>{const i=ZX(t,s.batch_no);n.push({...s,children:i})}),n},XX=({item:t,level:e,onOpenModal:n,flatHistory:r})=>{const[s,i]=C.useState(!1),o=t.children||[],l=o.length>0,c=m=>m?new Date(m).toLocaleDateString("fa-IR"):"-",u=()=>{if(e===0)return{qty:t.qty_available,weight:t.weight_available};{const m=Number(t.qty||0),p=Number(t.weight||0),y=o.reduce((b,x)=>b+Number(x.qty||0),0),_=o.reduce((b,x)=>b+Number(x.weight||0),0);return{qty:m-y,weight:p-_}}},d=()=>{const m=t.batch_no||t.new_batch_no||" ",p=m===" ",y=u();if(y.qty<=0&&y.weight<=0)return de.warn("     .");let _=1;if(!p){const b=r.filter(w=>w.parent_batch_no===m);let x=0;b.length>0&&b.forEach(w=>{const E=w.batch_no.split("/"),T=parseInt(E[E.length-1]);!isNaN(T)&&T>x&&(x=T)}),_=x+1}n({batch_no:m,qty_available:y.qty,weight_available:y.weight,next_index:_,isNoBatch:p})},f={backgroundColor:e===0?"#fff":`rgba(240, 242, 245, ${.3+e*.05})`,borderRight:e>0?`4px solid ${e%2===0?"#34c38f":"#556ee6"}`:"none"};return a.jsxs(a.Fragment,{children:[a.jsxs("tr",{style:f,className:"align-middle",children:[a.jsx("td",{className:"ps-3",children:a.jsxs("div",{className:"d-flex align-items-center",style:{marginLeft:`${e*25}px`},children:[e>0&&a.jsx("span",{style:{color:e%2===0?"#34c38f":"#556ee6",marginRight:"8px",fontSize:"18px"},children:""}),a.jsx("div",{className:`d-flex align-items-center justify-content-center rounded-circle border ${l?"cursor-pointer":""}`,style:{width:"24px",height:"24px",backgroundColor:l?"#fff":"transparent",borderColor:l?"#556ee6":"#ccc"},onClick:()=>l&&i(!s),children:l?s?a.jsx("i",{className:"bx bx-minus font-size-10"}):a.jsx("i",{className:"bx bx-plus font-size-10"}):a.jsx("i",{className:"mdi mdi-circle-small font-size-18 text-muted"})}),a.jsx("span",{className:`ms-2 font-monospace ${e===0?"fw-bold text-primary font-size-14":"font-size-13 text-dark"}`,children:t.batch_no||t.new_batch_no||" "})]})}),e===0?a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"text-center",children:a.jsx(ct,{className:"bg-success font-size-12 px-3",children:Number(t.qty_available).toLocaleString()})}),a.jsx("td",{className:"text-center font-monospace",children:Number(t.weight_available).toLocaleString()}),a.jsx("td",{colSpan:4,className:"text-center text-muted font-size-11 fst-italic",children:"---   ---"})]}):a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"text-center fw-bold text-secondary",children:Number(t.qty).toLocaleString()}),a.jsx("td",{className:"text-center text-secondary",children:t.weight?Number(t.weight).toLocaleString():"-"}),a.jsx("td",{className:"font-size-12 font-monospace text-secondary",children:t.manual_ref_id||"-"}),a.jsx("td",{className:"font-size-12 text-truncate",style:{maxWidth:"120px"},title:t.receiver_name,children:t.receiver_name}),a.jsx("td",{className:"font-size-12",children:c(t.transaction_date||t.created_at)}),a.jsx("td",{className:"text-center",children:a.jsx("i",{className:"bx bx-check-circle text-success font-size-18"})})]}),a.jsx("td",{className:"text-end pe-3",children:a.jsxs("div",{className:"d-flex justify-content-end gap-2 align-items-center",children:[a.jsxs(_e,{color:"primary",size:"sm",className:"btn-rounded py-1 px-3 shadow-sm",onClick:d,children:[a.jsx("i",{className:"bx bx-git-branch me-1"}),a.jsx("span",{children:"  / "})]}),e>0&&t.attachment_url&&a.jsx("a",{href:t.attachment_url,target:"_blank",rel:"noreferrer",className:"btn btn-sm btn-soft-secondary rounded-circle ms-1",children:a.jsx("i",{className:"bx bx-download"})})]})})]}),s&&l&&t.children.map(m=>a.jsx(XX,{item:m,level:e+1,onOpenModal:n,flatHistory:r},m.id))]})},M5e=({item:t,onOpenModal:e})=>{const n=C.useMemo(()=>ZX(t.history||[],t.batch_no),[t.history,t.batch_no]);return a.jsx(XX,{item:{...t,children:n},level:0,onOpenModal:e,flatHistory:t.history||[]})},$5e=WX({docDate:zX().refine(t=>!!t,"  "),customerId:BX({required_error:"    "}),manualDocRef:VX().optional()});function F5e(){const[t,e]=C.useState([]),[n,r]=C.useState(!1),[s,i]=C.useState(!1),[o,l]=C.useState([]),[c,u]=C.useState([]),[d,f]=C.useState([]),[m,p]=C.useState(!1),[y,_]=C.useState(!1),[b,x]=C.useState(!1),[w,E]=C.useState(null),[T,N]=C.useState(null),[P,D]=C.useState(!1),[F,Y]=C.useState({qty:"",weight:"",manualRef:"",receiverName:"",receiverNationalId:"",driverName:"",plateNumber:"",description:""}),[q,B]=C.useState({}),[G,J]=C.useState(""),[W,z]=C.useState(""),[Z,X]=C.useState(null),[ne,le]=C.useState(null),{control:ge,handleSubmit:Ue,watch:Ie}=bX({resolver:$X($5e),defaultValues:{docDate:new Date,customerId:null,manualDocRef:""}}),ot=Ie("customerId"),[it,Te]=C.useState(null),St={fontFamily:"inherit"};C.useEffect(()=>{(async()=>{try{const K=await qX();e(K.map(te=>({value:te.id,label:te.full_name,mobile:te.mobile||""})))}catch(K){console.error(K)}})()},[]),C.useEffect(()=>{Te(null),f([]),l([]),ot?ut(ot):u([])},[ot]);const ut=async ve=>{try{const K=await YX(ve);u(K)}catch{de.error("    ")}},ft=async ve=>{const K=ve?ve.value:null;if(Te(ve),f([]),!!K){r(!0);try{const te=await KX(ot,K);f(te)}catch{de.error("    ")}finally{r(!1)}}},gt=ve=>{E(ve),Y({qty:"",weight:"",manualRef:"",receiverName:"",receiverNationalId:"",driverName:"",plateNumber:"",description:""}),N(null),B({}),p(!0)},qt=C.useMemo(()=>w?o.filter(ve=>ve.parentBatch===w.batch_no).reduce((ve,K)=>({qty:ve.qty+Number(K.qty),weight:ve.weight+Number(K.weight),count:ve.count+1}),{qty:0,weight:0,count:0}):{qty:0,weight:0,count:0},[o,w]),It=w?Math.max(0,(w.qty_available||0)-qt.qty):0,zt=w?Math.max(0,(w.weight_available||0)-qt.weight):0,en=C.useMemo(()=>{if(!w)return"";if(w.isNoBatch||w.batch_no===" ")return" ";const ve=(w.next_index||1)+qt.count;return`${w.batch_no}/${ve}`},[w,qt]),xe=async()=>{B({});let ve={},K=!1;try{const te=Number(F.qty||0),Q=Number(F.weight||0);if((!F.receiverName||F.receiverName.trim()==="")&&(ve.receiverName="   ",K=!0),It<=0){de.error("      .");return}if(It>0&&(!F.qty||te<=0?(ve.qty=" ",K=!0):te>It&&(ve.qty=` ${It}`,K=!0)),zt>0&&(!F.weight||Q<=0?(ve.weight=" ",K=!0):Q>zt&&(ve.weight=` ${zt}`,K=!0)),K){B(ve);return}let me=null;if(T){D(!0);try{console.log(">>> Starting upload for:",T.name),me=await JX(T),console.log(">>> Upload success, URL:",me)}catch(A){console.error("Upload Failed:",A),de.error("   : "+(A.message||"Unknown Error")),D(!1);return}D(!1)}if(!it||!it.labelObj){de.error("     ");return}const ye={id:Date.now(),product:{id:it.value,title:it.labelObj.title},parentBatch:w.batch_no,newBatch:en,qty:te,weight:Q,manualRef:F.manualRef,fileUrl:me,status:"issued",receiverDetails:{name:F.receiverName,nationalId:F.receiverNationalId,driver:F.driverName,plate:F.plateNumber,description:F.description}};l([...o,ye]),p(!1),B({}),de.success("   ")}catch(te){console.error("Add Item Error:",te),de.error("      "),D(!1)}},We=ve=>l(o.filter(K=>K.id!==ve)),Qt=C.useMemo(()=>c.map(ve=>({value:ve.product_id,label:ve.product_title,customData:{title:ve.product_title,qty:Number(ve.total_qty_available||0),weight:Number(ve.total_weight_available||0)},labelObj:{title:ve.product_title,qty:ve.total_qty_available,weight:ve.total_weight_available}})),[c]),Oe=ve=>{Ue(async te=>{var Q,me,ye,A,$,re,ue,Ee;i(!0);try{const be=t.find(nt=>nt.value===te.customerId);if(!be||!be.mobile){de.error("     "),i(!1);return}const Me=o.reduce((nt,rt)=>nt+Number(rt.qty),0),tt=[...new Set(o.map(nt=>nt.product.title))],Pe=((me=(Q=o[0])==null?void 0:Q.receiverDetails)==null?void 0:me.name)||"",qe={member_id:1,status:ve,clearance_date:te.docDate,customer_id:te.customerId,receiver_person_name:Pe,receiver_person_national_id:((A=(ye=o[0])==null?void 0:ye.receiverDetails)==null?void 0:A.nationalId)||"",driver_name:((re=($=o[0])==null?void 0:$.receiverDetails)==null?void 0:re.driver)||"",plate_number:((Ee=(ue=o[0])==null?void 0:ue.receiverDetails)==null?void 0:Ee.plate)||"",description:te.manualDocRef?`: ${te.manualDocRef}`:"",items:o.map(nt=>({product_id:Number(nt.product.id),parent_batch_no:nt.parentBatch,new_batch_no:nt.newBatch,qty:Number(nt.qty),weight:Number(nt.weight),manual_ref_id:nt.manualRef,attachment_url:nt.fileUrl,status:nt.status,description:nt.receiverDetails.description}))};z(be.mobile),X(qe);const Je=await WT(be.mobile,{owner:be.label,product:tt.join(" "),qty:Me.toLocaleString(),receiver:Pe});Je&&(Je.success||Je.status===200||Je.message&&Je.message.includes(""))?(de.info("   "),_(!0)):de.error("   ")}catch(be){console.error("Final Submit Error:",be),be.response&&be.response.status===200?_(!0):de.error("  ")}finally{i(!1)}},te=>{de.warning("    ")})()},lt=async()=>{var ve;if(!G)return de.error("   ");i(!0);try{const K=await o4(W,G);if(K.success||K.token){const te=await k5e(Z);le({clearance_no:te.clearance_no||"---",customer:(ve=t.find(Q=>Q.value===Z.customer_id))==null?void 0:ve.label,date:new Date(Z.clearance_date).toLocaleDateString("fa-IR"),itemsCount:o.length}),_(!1),x(!0),J(""),X(null),l([]),f([]),Te(null),Z.customer_id&&ut(Z.customer_id)}else de.error("  ")}catch(K){de.error("   : "+(K.message||""))}finally{i(!1)}};return a.jsx("div",{className:"page-content",style:St,children:a.jsxs(An,{fluid:!0,children:[a.jsx(Ct,{className:"shadow-sm border-0 mb-4",children:a.jsxs(At,{className:"p-4",children:[a.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4 border-bottom pb-3",children:[a.jsxs(Rd,{className:"h4 text-primary mb-0",children:[a.jsx("i",{className:"bx bx-exit me-2"}),"   "]}),a.jsx(ct,{color:"light",className:"text-dark font-size-13 p-2",children:" : ( )"})]}),a.jsx("div",{className:"bg-light p-4 rounded-3 mb-4 border border-dashed border-primary border-opacity-25",children:a.jsxs(pe,{children:[a.jsxs(M,{md:3,children:[a.jsxs(ee,{children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(ov,{name:"docDate",control:ge,render:({field:ve})=>a.jsx(pi,{value:ve.value,onChange:ve.onChange})})]}),a.jsxs(M,{md:6,children:[a.jsxs(ee,{children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(ov,{name:"customerId",control:ge,render:({field:ve})=>a.jsx(ds,{...ve,options:t,placeholder:" ...",value:t.find(K=>K.value===ve.value),onChange:K=>ve.onChange(K?K.value:null)})})]}),a.jsxs(M,{md:3,children:[a.jsx(ee,{className:"text-muted",children:"  "}),a.jsx(ov,{name:"manualDocRef",control:ge,render:({field:ve})=>a.jsx(ie,{...ve,placeholder:""})})]})]})}),a.jsxs("div",{className:"mb-5",children:[a.jsx(pe,{className:"mb-3",children:a.jsxs(M,{md:12,children:[a.jsx(ee,{children:"  (   )"}),a.jsx(ds,{value:it,onChange:ft,options:Qt,isDisabled:!ot,placeholder:ot?"     ...":"     ",noOptionsMessage:()=>"  ",formatOptionLabel:ve=>{var K,te;return a.jsxs("div",{className:"d-flex justify-content-between align-items-center w-100",children:[a.jsx("span",{className:"fw-bold",children:ve.label}),a.jsxs("div",{className:"d-flex gap-2 font-size-12 text-muted bg-light px-2 rounded",children:[a.jsxs("span",{children:[": ",(K=ve.customData)==null?void 0:K.qty.toLocaleString()]}),a.jsx("span",{className:"border-start mx-1"}),a.jsxs("span",{children:[": ",(te=ve.customData)==null?void 0:te.weight.toLocaleString()]})]})]})}})]})}),d.length>0&&a.jsx("div",{className:"table-responsive rounded border shadow-sm",children:a.jsxs(Yn,{className:"mb-0",children:[a.jsx("thead",{className:"bg-light text-muted",children:a.jsxs("tr",{children:[a.jsx("th",{className:"ps-3",children:""}),a.jsx("th",{className:"text-center",children:""}),a.jsx("th",{className:"text-center",children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{className:"text-center",children:""}),a.jsx("th",{className:"text-end pe-4",children:""})]})}),a.jsx("tbody",{children:d.map((ve,K)=>a.jsx(M5e,{item:ve,onOpenModal:gt},K))})]})})]}),o.length>0&&a.jsxs("div",{className:"mb-3 animate__animated animate__fadeInUp",children:[a.jsx("h6",{className:"font-size-14 text-secondary border-start border-3 border-success ps-2 mb-3",children:"  "}),a.jsxs(Yn,{className:"table align-middle table-nowrap table-striped border mb-0",children:[a.jsx("thead",{className:"table-dark",children:a.jsxs("tr",{children:[a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{})]})}),a.jsx("tbody",{children:o.map(ve=>a.jsxs("tr",{children:[a.jsx("td",{children:ve.product.title}),a.jsx("td",{children:a.jsx(ct,{color:"info",children:ve.newBatch})}),a.jsx("td",{children:ve.receiverDetails.name}),a.jsx("td",{children:Number(ve.weight).toLocaleString()}),a.jsx("td",{children:a.jsx(ct,{color:"success",children:Number(ve.qty).toLocaleString()})}),a.jsx("td",{className:"text-end",children:a.jsx(_e,{color:"danger",size:"sm",onClick:()=>We(ve.id),children:"X"})})]},ve.id))})]})]}),a.jsx("div",{className:"d-flex justify-content-end border-top pt-4 mt-4",children:a.jsx(_e,{color:"success",size:"lg",className:"px-5 shadow",onClick:()=>Oe("final"),disabled:s||o.length===0,children:s?"  ...":" "})})]})}),a.jsxs(Mi,{isOpen:m,toggle:()=>p(!1),size:"lg",centered:!0,children:[a.jsxs(Bo,{toggle:()=>p(!1),className:"bg-light",children:[a.jsx("span",{className:"fw-bold",children:" :"})," ",a.jsx("span",{className:"font-monospace text-primary bg-white px-2 py-1 rounded border ms-2",children:w==null?void 0:w.batch_no})]}),a.jsxs(Qa,{className:"p-4",children:[a.jsxs("div",{className:"bg-soft-primary border border-primary border-opacity-25 rounded p-3 mb-4 d-flex justify-content-between align-items-center",children:[a.jsxs("div",{className:"d-flex gap-4",children:[a.jsxs("div",{className:It>0?"text-primary":"text-muted",children:[" : ",a.jsx("strong",{className:"ms-1",children:It.toLocaleString()})," "]}),a.jsxs("div",{className:zt>0?"text-info":"text-muted",children:[" : ",a.jsx("strong",{className:"ms-1",children:zt.toLocaleString()})," kg "]})]}),a.jsxs("div",{className:"text-end",children:[a.jsx("small",{className:"d-block font-size-11",children:" :"}),a.jsx("span",{className:"badge bg-success font-size-13 font-monospace",children:en})]})]}),a.jsxs(pe,{children:[a.jsxs(M,{md:6,className:"mb-3",children:[a.jsxs(ee,{children:[" ",It>0&&a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs(Pv,{children:[a.jsx(dx,{className:"bg-white",children:a.jsx("i",{className:"bx bx-hash"})}),a.jsx(ie,{type:"number",value:F.qty,onChange:ve=>{Y({...F,qty:ve.target.value}),q.qty&&B({...q,qty:null})},invalid:!!q.qty,disabled:It<=0,autoFocus:!0}),a.jsx(Dt,{children:q.qty})]})]}),a.jsxs(M,{md:6,className:"mb-3",children:[a.jsxs(ee,{children:[" ",zt>0&&a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs(Pv,{children:[a.jsx(dx,{className:"bg-white",children:a.jsx("i",{className:"bx bx-dumbbell"})}),a.jsx(ie,{type:"number",value:F.weight,onChange:ve=>{Y({...F,weight:ve.target.value}),q.weight&&B({...q,weight:null})},invalid:!!q.weight,disabled:zt<=0}),a.jsx(Dt,{children:q.weight})]})]})]}),a.jsx("hr",{className:"my-2 border-light"}),a.jsxs(pe,{children:[a.jsxs(M,{md:6,className:"mb-3",children:[a.jsxs(ee,{children:[" ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(ie,{value:F.receiverName,onChange:ve=>{Y({...F,receiverName:ve.target.value}),q.receiverName&&B({...q,receiverName:null})},invalid:!!q.receiverName,placeholder:":  "}),a.jsx(Dt,{children:q.receiverName})]}),a.jsxs(M,{md:6,className:"mb-3",children:[a.jsx(ee,{children:" "}),a.jsx(ie,{value:F.receiverNationalId,onChange:ve=>Y({...F,receiverNationalId:ve.target.value}),placeholder:"10 "})]}),a.jsxs(M,{md:12,className:"mb-3",children:[a.jsx(ee,{children:" "}),a.jsx(ie,{type:"file",onChange:ve=>N(ve.target.files[0])})]}),a.jsxs(M,{md:12,children:[a.jsx(ee,{children:""}),a.jsx(ie,{type:"textarea",rows:"2",value:F.description,onChange:ve=>Y({...F,description:ve.target.value})})]})]})]}),a.jsxs(bc,{children:[a.jsx(_e,{color:"link",onClick:()=>p(!1),children:""}),a.jsx(_e,{color:"success",onClick:xe,disabled:P,children:P?"...":""})]})]}),a.jsxs(Mi,{isOpen:y,toggle:()=>_(!1),size:"sm",centered:!0,children:[a.jsx(Bo,{className:"bg-primary text-white",children:" "}),a.jsxs(Qa,{className:"text-center p-4",children:[a.jsx("div",{className:"mb-3",children:a.jsx("i",{className:"bx bx-message-rounded-check display-4 text-primary"})}),a.jsxs("p",{children:["  ",a.jsx("strong",{children:W}),"  ."]}),a.jsx(ie,{className:"form-control-lg text-center font-monospace mb-3 letter-spacing-2",placeholder:"_ _ _ _ _ _",maxLength:6,value:G,onChange:ve=>J(ve.target.value),autoFocus:!0}),a.jsx(_e,{color:"success",className:"w-100 btn-lg shadow",onClick:lt,disabled:s,children:s?"...":" "})]})]}),a.jsx(Mi,{isOpen:b,toggle:()=>x(!1),centered:!0,children:a.jsxs(Qa,{className:"text-center p-5",children:[a.jsx("div",{className:"avatar-lg mx-auto mb-4",children:a.jsx("span",{className:"avatar-title rounded-circle bg-success bg-soft text-success font-size-24",children:a.jsx("i",{className:"bx bx-check"})})}),a.jsx("h4",{children:"  !"}),a.jsx("p",{className:"text-muted",children:"     ."}),a.jsxs("div",{className:"bg-light p-3 rounded mt-4 border border-dashed",children:[a.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[a.jsx("span",{className:"text-muted",children:" :"}),a.jsx("span",{className:"fw-bold text-primary",children:ne==null?void 0:ne.clearance_no})]}),a.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[a.jsx("span",{className:"text-muted",children:" :"}),a.jsx("span",{className:"fw-bold",children:ne==null?void 0:ne.customer})]}),a.jsxs("div",{className:"d-flex justify-content-between",children:[a.jsx("span",{className:"text-muted",children:" :"}),a.jsx("span",{children:ne==null?void 0:ne.itemsCount})]})]}),a.jsxs("div",{className:"mt-4 d-grid gap-2",children:[a.jsxs(_e,{color:"primary",onClick:()=>x(!1),children:[a.jsx("i",{className:"bx bx-printer me-1"}),"  "]}),a.jsx(_e,{color:"link",onClick:()=>x(!1),children:""})]})]})})]})})}function V5e(){const[t,e]=C.useState([]),[n,r]=C.useState(!1),[s,i]=C.useState({customer:"",product:"",clearanceNo:"",batchNo:"",status:""}),o=async()=>{r(!0);try{const f=await O5e(s);e(f)}catch{de.error("   ")}finally{r(!1)}};C.useEffect(()=>{const f=setTimeout(()=>{o()},800);return()=>clearTimeout(f)},[s]);const l=async f=>{if(window.confirm(`      
(     )`))try{await R5e(f),de.success("    "),o()}catch(m){de.error(m.message||"   ")}},c=f=>{const{name:m,value:p}=f.target;i(y=>({...y,[m]:p}))},u=f=>f?new Date(f).toLocaleDateString("fa-IR"):"-",d=f=>f===" "?"badge badge-soft-success font-size-12 p-2":f==="   "?"badge badge-soft-warning font-size-12 p-2":"badge badge-soft-secondary font-size-12 p-2";return a.jsx("div",{className:"page-content",style:{fontFamily:"inherit"},children:a.jsxs(An,{fluid:!0,children:[a.jsx(pe,{children:a.jsx(M,{xs:12,children:a.jsxs("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:[a.jsx("h4",{className:"mb-sm-0 font-size-18",children:"   "}),a.jsx("div",{className:"page-title-right",children:a.jsx(Ce,{to:"/clearances/form",children:a.jsxs(_e,{color:"success",className:"waves-effect waves-light shadow-sm",children:[a.jsx("i",{className:"bx bx-plus font-size-16 align-middle me-2"}),"   "]})})})]})})}),a.jsx(pe,{children:a.jsx(M,{xs:12,children:a.jsx(Ct,{children:a.jsxs(At,{children:[a.jsx("div",{className:"bg-light p-3 rounded mb-4 border",children:a.jsxs(pe,{className:"g-3 align-items-end",children:[a.jsxs(M,{lg:2,md:4,children:[a.jsx("label",{className:"font-size-12 text-muted mb-1",children:" "}),a.jsx(ie,{bsSize:"sm",className:"form-control",placeholder:"...",name:"customer",value:s.customer,onChange:c})]}),a.jsxs(M,{lg:2,md:4,children:[a.jsx("label",{className:"font-size-12 text-muted mb-1",children:" "}),a.jsx(ie,{bsSize:"sm",className:"form-control",placeholder:"...",name:"product",value:s.product,onChange:c})]}),a.jsxs(M,{lg:2,md:4,children:[a.jsx("label",{className:"font-size-12 text-muted mb-1",children:" "}),a.jsx(ie,{bsSize:"sm",className:"form-control",placeholder:" 1001",name:"clearanceNo",value:s.clearanceNo,onChange:c})]}),a.jsxs(M,{lg:2,md:4,children:[a.jsx("label",{className:"font-size-12 text-muted mb-1",children:" "}),a.jsx(ie,{bsSize:"sm",className:"form-control",placeholder:" 110/14",name:"batchNo",value:s.batchNo,onChange:c})]}),a.jsxs(M,{lg:2,md:4,children:[a.jsx("label",{className:"font-size-12 text-muted mb-1",children:""}),a.jsxs(ie,{bsSize:"sm",type:"select",className:"form-select",name:"status",value:s.status,onChange:c,children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:" ",children:" "}),a.jsx("option",{value:"   ",children:" "})]})]}),a.jsx(M,{lg:2,md:4,children:a.jsx(_e,{color:"danger",outline:!0,block:!0,onClick:()=>i({customer:"",product:"",clearanceNo:"",batchNo:"",status:""}),children:""})})]})}),a.jsx("div",{className:"table-responsive",children:a.jsxs(Yn,{className:"table align-middle table-nowrap table-hover mb-0",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"50px"},children:"#"}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:" (kg)"}),a.jsx("th",{children:""}),a.jsx("th",{className:"text-end",children:""})]})}),a.jsx("tbody",{children:n?a.jsx("tr",{children:a.jsx("td",{colSpan:10,className:"text-center py-5",children:a.jsx("div",{className:"spinner-border text-primary m-1"})})}):t.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:10,className:"text-center py-5 text-muted",children:"  "})}):t.map((f,m)=>a.jsxs("tr",{children:[a.jsx("td",{children:m+1}),a.jsx("td",{className:"fw-bold",children:f.clearance_no}),a.jsx("td",{children:u(f.clearance_date)}),a.jsx("td",{children:a.jsx("span",{className:"text-primary fw-medium",children:f.customer_name})}),a.jsx("td",{children:f.product_name}),a.jsx("td",{children:f.batch_no&&f.batch_no!==" "?a.jsx("span",{className:"badge badge-soft-info font-size-12 font-monospace",children:f.batch_no}):a.jsx("span",{className:"text-muted small",children:"---"})}),a.jsx("td",{children:a.jsx("span",{className:"fw-bold",children:Number(f.qty).toLocaleString()})}),a.jsx("td",{children:Number(f.weight).toLocaleString()}),a.jsx("td",{children:a.jsx("span",{className:d(f.operational_status),children:f.operational_status})}),a.jsx("td",{className:"text-end",children:a.jsx("div",{className:"d-flex justify-content-end gap-2",children:f.operational_status===" "?a.jsxs(a.Fragment,{children:[a.jsxs(Ce,{to:`/clearances/edit/${f.clearance_id}`,children:[a.jsx(_e,{color:"primary",outline:!0,size:"sm",id:`edit-${f.item_id}`,children:a.jsx("i",{className:"bx bx-pencil"})}),a.jsx(_f,{placement:"top",target:`edit-${f.item_id}`,children:""})]}),a.jsx(_e,{color:"danger",outline:!0,size:"sm",id:`del-${f.item_id}`,onClick:()=>l(f.clearance_id),children:a.jsx("i",{className:"bx bx-trash"})}),a.jsx(_f,{placement:"top",target:`del-${f.item_id}`,children:""})]}):a.jsx(_e,{color:"secondary",outline:!0,size:"sm",disabled:!0,children:a.jsx("i",{className:"bx bx-lock-alt"})})})})]},f.item_id))})]})}),a.jsx(pe,{className:"mt-3",children:a.jsxs(M,{className:"text-muted font-size-12",children:["  : ",t.length]})})]})})})})]})})}const eee=(t,e)=>{const n=[];return t.filter(s=>s.parent_batch_no===e).forEach(s=>{n.push({...s,children:eee(t,s.batch_no)})}),n},tee=({item:t,level:e,onOpenModal:n,flatHistory:r})=>{const[s,i]=C.useState(!1),o=t.children||[],l=o.length>0,c=m=>m?new Date(m).toLocaleDateString("fa-IR"):"-",u=()=>{if(e===0)return{qty:t.qty_available,weight:t.weight_available};{const m=Number(t.qty||0),p=Number(t.weight||0),y=o.reduce((b,x)=>b+Number(x.qty||0),0),_=o.reduce((b,x)=>b+Number(x.weight||0),0);return{qty:m-y,weight:p-_}}},d=()=>{const m=t.batch_no||t.new_batch_no||" ",p=m===" ",y=u();y.qty<=0&&y.weight<=0;let _=1;if(!p){const b=r.filter(w=>w.parent_batch_no===m);let x=0;b.length>0&&b.forEach(w=>{const E=w.batch_no.split("/"),T=parseInt(E[E.length-1]);!isNaN(T)&&T>x&&(x=T)}),_=x+1}n({batch_no:m,qty_available:y.qty,weight_available:y.weight,next_index:_,isNoBatch:p})},f={backgroundColor:e===0?"#fff":`rgba(240, 242, 245, ${.3+e*.05})`,borderRight:e>0?`4px solid ${e%2===0?"#34c38f":"#556ee6"}`:"none"};return a.jsxs(a.Fragment,{children:[a.jsxs("tr",{style:f,className:"align-middle",children:[a.jsx("td",{className:"ps-3",children:a.jsxs("div",{className:"d-flex align-items-center",style:{marginLeft:`${e*25}px`},children:[e>0&&a.jsx("span",{style:{color:e%2===0?"#34c38f":"#556ee6",marginRight:"8px",fontSize:"18px"},children:""}),a.jsx("div",{className:`d-flex align-items-center justify-content-center rounded-circle border ${l?"cursor-pointer":""}`,style:{width:"24px",height:"24px",backgroundColor:l?"#fff":"transparent",borderColor:l?"#556ee6":"#ccc"},onClick:()=>l&&i(!s),children:l?s?a.jsx("i",{className:"bx bx-minus font-size-10"}):a.jsx("i",{className:"bx bx-plus font-size-10"}):a.jsx("i",{className:"mdi mdi-circle-small font-size-18 text-muted"})}),a.jsx("span",{className:`ms-2 font-monospace ${e===0?"fw-bold text-primary font-size-14":"font-size-13 text-dark"}`,children:t.batch_no||t.new_batch_no||" "})]})}),e===0?a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"text-center",children:a.jsx(ct,{className:"bg-success font-size-12 px-3",children:Number(t.qty_available).toLocaleString()})}),a.jsx("td",{className:"text-center font-monospace",children:Number(t.weight_available).toLocaleString()}),a.jsx("td",{colSpan:4,className:"text-center text-muted font-size-11 fst-italic",children:"---   ---"})]}):a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"text-center fw-bold text-secondary",children:Number(t.qty).toLocaleString()}),a.jsx("td",{className:"text-center text-secondary",children:t.weight?Number(t.weight).toLocaleString():"-"}),a.jsx("td",{className:"font-size-12 font-monospace text-secondary",children:t.manual_ref_id||"-"}),a.jsx("td",{className:"font-size-12 text-truncate",style:{maxWidth:"120px"},title:t.receiver_name,children:t.receiver_name}),a.jsx("td",{className:"font-size-12",children:c(t.transaction_date||t.created_at)}),a.jsx("td",{className:"text-center",children:a.jsx("i",{className:"bx bx-check-circle text-success font-size-18"})})]}),a.jsx("td",{className:"text-end pe-3",children:a.jsxs("div",{className:"d-flex justify-content-end gap-2 align-items-center",children:[a.jsxs(_e,{color:"primary",size:"sm",className:"btn-rounded py-1 px-3 shadow-sm",onClick:d,children:[a.jsx("i",{className:"bx bx-git-branch me-1"})," ",a.jsx("span",{children:"  / "})]}),e>0&&t.attachment_url&&a.jsx("a",{href:t.attachment_url,target:"_blank",rel:"noreferrer",className:"btn btn-sm btn-soft-secondary rounded-circle ms-1",children:a.jsx("i",{className:"bx bx-download"})})]})})]}),s&&l&&t.children.map(m=>a.jsx(tee,{item:m,level:e+1,onOpenModal:n,flatHistory:r},m.id))]})},U5e=({item:t,onOpenModal:e})=>{const n=C.useMemo(()=>eee(t.history||[],t.batch_no),[t.history,t.batch_no]);return a.jsx(tee,{item:{...t,children:n},level:0,onOpenModal:e,flatHistory:t.history||[]})},B5e=WX({docDate:zX().refine(t=>!!t,"  "),customerId:BX({required_error:"    "}),manualDocRef:VX().optional()});function z5e(){const{id:t}=su(),e=is(),[n,r]=C.useState([]),[s,i]=C.useState(!1),[o,l]=C.useState(!1),[c,u]=C.useState([]),[d,f]=C.useState([]),[m,p]=C.useState([]),[y,_]=C.useState(!1),[b,x]=C.useState(!1),[w,E]=C.useState(null),[T,N]=C.useState(null),[P,D]=C.useState(!1),[F,Y]=C.useState({qty:"",weight:"",manualRef:"",receiverName:"",receiverNationalId:"",driverName:"",plateNumber:"",description:""}),[q,B]=C.useState({}),[G,J]=C.useState(""),[W,z]=C.useState(""),[Z,X]=C.useState(null),{control:ne,handleSubmit:le,watch:ge,setValue:Ue}=bX({resolver:$X(B5e),defaultValues:{docDate:new Date,customerId:null,manualDocRef:""}}),Ie=ge("customerId"),[ot,it]=C.useState(null);C.useEffect(()=>{(async()=>{try{const lt=await qX();r(lt.map(ve=>({value:ve.id,label:ve.full_name,mobile:ve.mobile||""})))}catch(lt){console.error(lt)}})()},[]),C.useEffect(()=>{t&&n.length>0&&(async()=>{try{const lt=await P5e(t);Ue("docDate",new Date(lt.clearance_date)),Ue("customerId",lt.customer_id),Ue("manualDocRef",lt.description?lt.description.replace(": ",""):"");const ve=`${lt.vehicle_plate_left2||""}-${lt.vehicle_plate_mid3||""}-${lt.vehicle_plate_letter||""}-${lt.vehicle_plate_iran_right||""}`,K=lt.items.map(te=>({id:te.id,product:{id:te.product_id,title:te.product.name},parentBatch:te.parent_batch_no||" ",newBatch:te.new_batch_no||" ",qty:Number(te.qty),weight:Number(te.weight),manualRef:te.manual_ref_id,fileUrl:te.attachment_url,status:te.status,receiverDetails:{name:lt.receiver_person_name,nationalId:lt.receiver_person_national_id,driver:lt.driver_name,plate:ve,description:te.description}}));u(K),Te(lt.customer_id)}catch(lt){de.error("   : "+lt.message),e("/clearances/report")}})()},[t,n,Ue,e]),C.useEffect(()=>{Ie?Te(Ie):f([])},[Ie]);const Te=async Oe=>{try{const lt=await YX(Oe);f(lt)}catch{de.error("    ")}},St=async Oe=>{const lt=Oe?Oe.value:null;if(it(Oe),p([]),!!lt){i(!0);try{const ve=await KX(Ie,lt);p(ve)}catch{de.error("    ")}finally{i(!1)}}},ut=Oe=>{E(Oe);const lt=c.length>0?c[0].receiverDetails:{};Y({qty:"",weight:"",manualRef:"",receiverName:lt.name||"",receiverNationalId:lt.nationalId||"",driverName:lt.driver||"",plateNumber:lt.plate||"",description:""}),N(null),B({}),_(!0)},ft=C.useMemo(()=>w?c.filter(Oe=>Oe.parentBatch===w.batch_no).reduce((Oe,lt)=>({qty:Oe.qty+Number(lt.qty),weight:Oe.weight+Number(lt.weight),count:Oe.count+1}),{qty:0,weight:0,count:0}):{qty:0,weight:0,count:0},[c,w]),gt=w?Math.max(0,(w.qty_available||0)-ft.qty):0,qt=w?Math.max(0,(w.weight_available||0)-ft.weight):0,It=C.useMemo(()=>{if(!w)return"";if(w.isNoBatch||w.batch_no===" ")return" ";const Oe=(w.next_index||1)+ft.count;return`${w.batch_no}/${Oe}`},[w,ft]),zt=async()=>{B({});let Oe={},lt=!1;try{const ve=Number(F.qty||0),K=Number(F.weight||0);if((!F.receiverName||F.receiverName.trim()==="")&&(Oe.receiverName="   ",lt=!0),gt>0&&(!F.qty||ve<=0?(Oe.qty=" ",lt=!0):ve>gt),lt){B(Oe);return}let te=null;if(T){D(!0);try{te=await JX(T)}catch{de.error("   "),D(!1);return}D(!1)}const Q={id:Date.now(),product:{id:ot.value,title:ot.labelObj.title},parentBatch:w.batch_no,newBatch:It,qty:ve,weight:K,manualRef:F.manualRef,fileUrl:te,status:"issued",receiverDetails:{name:F.receiverName,nationalId:F.receiverNationalId,driver:F.driverName,plate:F.plateNumber,description:F.description}};u([...c,Q]),_(!1),B({}),de.success("   ")}catch{de.error("  ")}},en=Oe=>u(c.filter(lt=>lt.id!==Oe)),xe=C.useMemo(()=>d.map(Oe=>({value:Oe.product_id,label:Oe.product_title,customData:{title:Oe.product_title,qty:Number(Oe.total_qty_available||0),weight:Number(Oe.total_weight_available||0)},labelObj:{title:Oe.product_title,qty:Oe.total_qty_available,weight:Oe.total_weight_available}})),[d]),We=Oe=>{le(async ve=>{var K,te,Q,me,ye,A,$,re;l(!0);try{const ue=n.find(qe=>qe.value===ve.customerId);if(!ue||!ue.mobile){de.error("   "),l(!1);return}const Ee=c.reduce((qe,Je)=>qe+Number(Je.qty),0),be=[...new Set(c.map(qe=>qe.product.title))],Me=((te=(K=c[0])==null?void 0:K.receiverDetails)==null?void 0:te.name)||"",tt={member_id:1,status:Oe,clearance_date:ve.docDate,customer_id:ve.customerId,receiver_person_name:Me,receiver_person_national_id:((me=(Q=c[0])==null?void 0:Q.receiverDetails)==null?void 0:me.nationalId)||"",driver_name:((A=(ye=c[0])==null?void 0:ye.receiverDetails)==null?void 0:A.driver)||"",plate_number:((re=($=c[0])==null?void 0:$.receiverDetails)==null?void 0:re.plate)||"",description:ve.manualDocRef?`: ${ve.manualDocRef}`:"",items:c.map(qe=>({product_id:Number(qe.product.id),parent_batch_no:qe.parentBatch,new_batch_no:qe.newBatch,qty:Number(qe.qty),weight:Number(qe.weight),manual_ref_id:qe.manualRef,attachment_url:qe.fileUrl,status:qe.status,description:qe.receiverDetails.description}))};z(ue.mobile),X(tt);const Pe=await WT(ue.mobile,{owner:ue.label,product:be.join(" "),qty:Ee.toLocaleString(),receiver:Me});Pe&&(Pe.success||Pe.status===200||Pe.message&&Pe.message.includes(""))?(de.info("   "),x(!0)):de.error("   ")}catch(ue){ue.response&&ue.response.status===200?x(!0):de.error("  ")}finally{l(!1)}},ve=>{de.warning("    ")})()},Qt=async()=>{if(!G)return de.error("   ");l(!0);try{const Oe=await o4(W,G);Oe.success||Oe.token?(await D5e(t,Z),de.success("    "),e("/clearances/report")):de.error("  ")}catch(Oe){de.error("  : "+(Oe.message||""))}finally{l(!1)}};return a.jsx("div",{className:"page-content",style:{fontFamily:"inherit"},children:a.jsxs(An,{fluid:!0,children:[a.jsx(Ct,{className:"shadow-sm border-0 mb-4 bg-soft-warning border-warning",children:a.jsxs(At,{className:"p-4",children:[a.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4 border-bottom pb-3",children:[a.jsxs(Rd,{className:"h4 text-warning mb-0",children:[a.jsx("i",{className:"bx bx-edit me-2"}),"   "]}),a.jsxs(ct,{color:"warning",className:"text-dark font-size-13 p-2",children:[" : ",t]})]}),a.jsx("div",{className:"bg-white p-4 rounded-3 mb-4 border border-dashed",children:a.jsxs(pe,{children:[a.jsxs(M,{md:3,children:[a.jsxs(ee,{children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(ov,{name:"docDate",control:ne,render:({field:Oe})=>a.jsx(pi,{value:Oe.value,onChange:Oe.onChange})})]}),a.jsxs(M,{md:6,children:[a.jsx(ee,{children:"  (   )"}),a.jsx(ov,{name:"customerId",control:ne,render:({field:Oe})=>a.jsx(ds,{...Oe,options:n,placeholder:"  ...",value:n.find(lt=>lt.value===Oe.value),onChange:lt=>Oe.onChange(lt?lt.value:null),isDisabled:!0})})]}),a.jsxs(M,{md:3,children:[a.jsx(ee,{className:"text-muted",children:"  "}),a.jsx(ov,{name:"manualDocRef",control:ne,render:({field:Oe})=>a.jsx(ie,{...Oe,placeholder:""})})]})]})}),a.jsxs("div",{className:"mb-5",children:[a.jsx(pe,{className:"mb-3",children:a.jsxs(M,{md:12,children:[a.jsx(ee,{children:"/ "}),a.jsx(ds,{value:ot,onChange:St,options:xe,isDisabled:!Ie,placeholder:"      ..."})]})}),m.length>0&&a.jsx("div",{className:"table-responsive rounded border shadow-sm bg-white",children:a.jsxs(Yn,{className:"mb-0",children:[a.jsx("thead",{className:"bg-light text-muted",children:a.jsxs("tr",{children:[a.jsx("th",{className:"ps-3",children:""}),a.jsx("th",{className:"text-center",children:""}),a.jsx("th",{className:"text-center",children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{className:"text-center",children:""}),a.jsx("th",{className:"text-end pe-4",children:""})]})}),a.jsx("tbody",{children:m.map((Oe,lt)=>a.jsx(U5e,{item:Oe,onOpenModal:ut},lt))})]})})]}),c.length>0&&a.jsxs("div",{className:"mb-3 animate__animated animate__fadeInUp",children:[a.jsx("h6",{className:"font-size-14 text-secondary border-start border-3 border-warning ps-2 mb-3",children:"  ( )"}),a.jsxs(Yn,{className:"table align-middle table-nowrap table-striped border mb-0 bg-white",children:[a.jsx("thead",{className:"table-dark",children:a.jsxs("tr",{children:[a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{})]})}),a.jsx("tbody",{children:c.map(Oe=>a.jsxs("tr",{children:[a.jsx("td",{children:Oe.product.title}),a.jsx("td",{children:a.jsx(ct,{color:"info",children:Oe.newBatch})}),a.jsx("td",{children:Oe.receiverDetails.name}),a.jsx("td",{children:Number(Oe.weight).toLocaleString()}),a.jsx("td",{children:a.jsx(ct,{color:"success",children:Number(Oe.qty).toLocaleString()})}),a.jsx("td",{className:"text-end",children:a.jsx(_e,{color:"danger",size:"sm",onClick:()=>en(Oe.id),children:"X"})})]},Oe.id))})]})]}),a.jsxs("div",{className:"d-flex justify-content-end gap-2 border-top pt-4 mt-4",children:[a.jsx(_e,{color:"secondary",size:"lg",onClick:()=>e("/clearances/report"),children:""}),a.jsx(_e,{color:"warning",size:"lg",className:"px-5 shadow",onClick:()=>We("final"),disabled:o||c.length===0,children:o?"  ...":" "})]})]})}),a.jsxs(Mi,{isOpen:y,toggle:()=>_(!1),size:"lg",centered:!0,children:[a.jsxs(Bo,{toggle:()=>_(!1),className:"bg-light",children:[a.jsx("span",{className:"fw-bold",children:" :"})," ",a.jsx("span",{className:"font-monospace text-primary bg-white px-2 py-1 rounded border ms-2",children:w==null?void 0:w.batch_no})]}),a.jsxs(Qa,{className:"p-4",children:[a.jsxs("div",{className:"bg-soft-primary border border-primary border-opacity-25 rounded p-3 mb-4 d-flex justify-content-between align-items-center",children:[a.jsxs("div",{className:"d-flex gap-4",children:[a.jsxs("div",{className:gt>0?"text-primary":"text-muted",children:[" : ",a.jsx("strong",{className:"ms-1",children:gt.toLocaleString()})," "]}),a.jsxs("div",{className:qt>0?"text-info":"text-muted",children:[" : ",a.jsx("strong",{className:"ms-1",children:qt.toLocaleString()})," kg "]})]}),a.jsxs("div",{className:"text-end",children:[a.jsx("small",{className:"d-block font-size-11",children:" :"}),a.jsx("span",{className:"badge bg-success font-size-13 font-monospace",children:It})]})]}),a.jsxs(pe,{children:[a.jsxs(M,{md:6,className:"mb-3",children:[a.jsx(ee,{children:""}),a.jsxs(Pv,{children:[a.jsx(dx,{className:"bg-white",children:a.jsx("i",{className:"bx bx-hash"})}),a.jsx(ie,{type:"number",value:F.qty,onChange:Oe=>{Y({...F,qty:Oe.target.value}),q.qty&&B({...q,qty:null})},invalid:!!q.qty,autoFocus:!0}),a.jsx(Dt,{children:q.qty})]})]}),a.jsxs(M,{md:6,className:"mb-3",children:[a.jsx(ee,{children:""}),a.jsxs(Pv,{children:[a.jsx(dx,{className:"bg-white",children:a.jsx("i",{className:"bx bx-dumbbell"})}),a.jsx(ie,{type:"number",value:F.weight,onChange:Oe=>{Y({...F,weight:Oe.target.value}),q.weight&&B({...q,weight:null})},invalid:!!q.weight}),a.jsx(Dt,{children:q.weight})]})]})]}),a.jsx("hr",{className:"my-2 border-light"}),a.jsxs(pe,{children:[a.jsxs(M,{md:6,className:"mb-3",children:[a.jsxs(ee,{children:[" ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(ie,{value:F.receiverName,onChange:Oe=>{Y({...F,receiverName:Oe.target.value}),q.receiverName&&B({...q,receiverName:null})},invalid:!!q.receiverName,placeholder:":  "}),a.jsx(Dt,{children:q.receiverName})]}),a.jsxs(M,{md:6,className:"mb-3",children:[a.jsx(ee,{children:" "}),a.jsx(ie,{value:F.receiverNationalId,onChange:Oe=>Y({...F,receiverNationalId:Oe.target.value}),placeholder:"10 "})]}),a.jsxs(M,{md:12,className:"mb-3",children:[a.jsx(ee,{children:" "}),a.jsx(ie,{type:"file",onChange:Oe=>N(Oe.target.files[0])})]}),a.jsxs(M,{md:12,children:[a.jsx(ee,{children:""}),a.jsx(ie,{type:"textarea",rows:"2",value:F.description,onChange:Oe=>Y({...F,description:Oe.target.value})})]})]})]}),a.jsxs(bc,{children:[a.jsx(_e,{color:"link",onClick:()=>_(!1),children:""}),a.jsx(_e,{color:"success",onClick:zt,disabled:P,children:P?"...":""})]})]}),a.jsxs(Mi,{isOpen:b,toggle:()=>x(!1),size:"sm",centered:!0,children:[a.jsx(Bo,{className:"bg-primary text-white",children:" "}),a.jsxs(Qa,{className:"text-center p-4",children:[a.jsx("div",{className:"mb-3",children:a.jsx("i",{className:"bx bx-message-rounded-check display-4 text-primary"})}),a.jsxs("p",{children:["  ",a.jsx("strong",{children:W}),"  ."]}),a.jsx(ie,{className:"form-control-lg text-center font-monospace mb-3 letter-spacing-2",placeholder:"_ _ _ _ _ _",maxLength:6,value:G,onChange:Oe=>J(Oe.target.value),autoFocus:!0}),a.jsx(_e,{color:"warning",className:"w-100 btn-lg shadow",onClick:Qt,disabled:o,children:o?"...":" "})]})]})]})})}const W5e=async t=>{const{data:e,error:n}=await je.rpc("create_loading_order",{p_payload:t});if(n)throw n;return e},G5e=async t=>{const{data:e,error:n}=await je.rpc("get_loading_order_details",{p_order_id:Number(t)});if(n)throw n;return e},H5e=async()=>{const{data:t,error:e}=await je.rpc("get_customers_with_stock");if(e)throw console.error("Error fetching customers:",e),e;return t},q5e=async t=>{const{data:e,error:n}=await je.rpc("get_customer_pending_items",{p_customer_id:t});if(n)throw console.error("Error fetching items:",n),n;return e},Y5e=async()=>{const{data:t,error:e}=await je.rpc("get_all_loading_orders");if(e)throw e;return t};function K5e(){const t=is(),[e,n]=C.useState(!1),[r,s]=C.useState(!1),[i,o]=C.useState([]),[l,c]=C.useState(null),[u,d]=C.useState([]),[f,m]=C.useState({}),[p,y]=C.useState({name:"",plate:""}),[_,b]=C.useState({}),x=Y=>{if(!Y)return{right2:"",middle3:"",letter:"",left2:""};const q=Y.split("-");return{right2:q[0]||"",middle3:q[1]||"",letter:q[2]||"",left2:q[3]||""}},w=Y=>{const{right2:q,middle3:B,letter:G,left2:J}=Y;return!q&&!B&&!G&&!J?"":`${q}-${B}-${G}-${J}`};C.useEffect(()=>{(async()=>{try{const B=(await H5e()).map(G=>({value:G.id,label:G.name}));o(B)}catch(q){console.error(q),de.error("     ")}})()},[]);const E=async Y=>{if(c(Y),d([]),m({}),Y){n(!0);try{const q=await q5e(Y.value);d(q)}catch(q){console.error(q),de.error("   ")}finally{n(!1)}}},T=Y=>{m(q=>({...q,[Y]:!q[Y]}))},N=Y=>{if(Y.target.checked){const q={};u.forEach(B=>q[B.item_id]=!0),m(q)}else m({})},P=C.useMemo(()=>u.filter(Y=>f[Y.item_id]),[u,f]),D=C.useMemo(()=>P.reduce((Y,q)=>({qty:Y.qty+Number(q.qty),weight:Y.weight+Number(q.weight)}),{qty:0,weight:0}),[P]),F=async()=>{if(b({}),!l)return de.error("     ");if(P.length===0)return de.error("    ");const Y={};p.name.trim()||(Y.name="   ");const q=x(p.plate);if((!q.right2||!q.letter||!q.middle3||!q.left2)&&(Y.plate="  "),Object.keys(Y).length>0)return b(Y),de.warn("    ");s(!0);try{const G={clearance_id:P[0].clearance_id,customer_id:l.value,loading_date:new Date,driver_name:p.name,plate_number:p.plate,user_id:1,items:P.map(W=>({clearance_item_id:W.item_id,product_id:W.product_id,batch_no:W.batch_no,qty:W.qty,weight:W.weight}))},J=await W5e(G);de.success(`   ${J.order_no}  `),t("/loading/list")}catch(B){de.error("    "),console.error(B)}finally{s(!1)}};return a.jsx("div",{className:"page-content",children:a.jsxs(An,{fluid:!0,children:[a.jsx(pe,{children:a.jsx(M,{xs:12,children:a.jsx("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:a.jsx("h4",{className:"mb-sm-0 font-size-18",children:"  "})})})}),a.jsx(pe,{children:a.jsx(M,{lg:12,children:a.jsx(Ct,{children:a.jsxs(At,{children:[a.jsx(Rd,{className:"h4 mb-4",children:".     "}),a.jsx("p",{className:"card-title-desc text-muted mb-4",children:"             ."}),a.jsxs(pe,{className:"mb-4",children:[a.jsxs(M,{md:4,className:"mb-3",children:[a.jsx(ee,{className:"form-label",children:"  ()"}),a.jsx(ds,{options:i,value:l,onChange:E,placeholder:"  ...",noOptionsMessage:()=>"  ",classNamePrefix:"select2-selection"})]}),a.jsxs(M,{md:4,className:"mb-3",children:[a.jsxs(ee,{className:"form-label",children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(ie,{type:"text",className:"form-control",value:p.name,onChange:Y=>y({...p,name:Y.target.value}),invalid:!!_.name,placeholder:"    "}),a.jsx(Dt,{children:_.name})]}),a.jsxs(M,{md:4,className:"mb-3",children:[a.jsxs(ee,{className:"form-label",children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("div",{className:_.plate?"border border-danger rounded":"",children:a.jsx(QZ,{value:x(p.plate),onChange:Y=>y({...p,plate:w(Y)})})})]})]}),l&&a.jsxs("div",{className:"animate__animated animate__fadeIn",children:[a.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3 border-top pt-4 mt-4",children:[a.jsxs("h5",{className:"font-size-15 text-primary m-0",children:[a.jsx("i",{className:"bx bx-list-check me-1"}),".    "]}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsxs("div",{className:"badge badge-soft-primary font-size-13 p-2",children:[" : ",D.qty.toLocaleString()]}),a.jsxs("div",{className:"badge badge-soft-info font-size-13 p-2",children:[" : ",D.weight.toLocaleString()," kg"]})]})]}),a.jsx("div",{className:"table-responsive",children:a.jsxs(Yn,{className:"table align-middle table-nowrap table-check table-hover",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"20px"},className:"align-middle",children:a.jsx("div",{className:"form-check font-size-16",children:a.jsx("input",{type:"checkbox",className:"form-check-input",onChange:N,checked:u.length>0&&P.length===u.length,style:{cursor:"pointer"}})})}),a.jsx("th",{className:"align-middle",children:" "}),a.jsx("th",{className:"align-middle",children:" "}),a.jsx("th",{className:"align-middle",children:" / "}),a.jsx("th",{className:"align-middle",children:"  ()"}),a.jsx("th",{className:"align-middle text-center",children:""}),a.jsx("th",{className:"align-middle text-center",children:" (kg)"}),a.jsx("th",{className:"align-middle",children:""})]})}),a.jsx("tbody",{children:e?a.jsx("tr",{children:a.jsxs("td",{colSpan:8,className:"text-center py-5",children:[a.jsx("div",{className:"spinner-border text-primary m-1",role:"status"}),a.jsx("div",{className:"mt-2",children:"   ..."})]})}):u.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"text-center py-5 text-muted",children:"     ."})}):u.map(Y=>{const q=!!f[Y.item_id];return a.jsxs("tr",{className:q?"table-active":"",onClick:()=>T(Y.item_id),style:{cursor:"pointer"},children:[a.jsx("td",{children:a.jsx("div",{style:{width:"20px",height:"20px",position:"relative"},children:a.jsx("input",{type:"checkbox",className:"form-check-input",checked:q,readOnly:!0,style:{pointerEvents:"none",width:"18px",height:"18px"}})})}),a.jsx("td",{children:a.jsx("span",{className:"badge badge-soft-dark font-size-12",children:Y.clearance_no})}),a.jsx("td",{children:a.jsx("h5",{className:"font-size-14 mb-1 text-dark",children:Y.product_name})}),a.jsx("td",{className:"text-muted font-monospace",children:Y.batch_no||"-"}),a.jsxs("td",{children:[a.jsx("div",{children:Y.deliverer_name?a.jsx("span",{className:"badge badge-soft-primary font-size-11",children:Y.deliverer_name}):a.jsx("span",{className:"text-muted",children:"-"})}),Y.national_code&&a.jsx("small",{className:"text-muted d-block mt-1",children:Y.national_code})]}),a.jsx("td",{className:"text-center fw-bold",children:Number(Y.qty).toLocaleString()}),a.jsx("td",{className:"text-center",children:Number(Y.weight).toLocaleString()}),a.jsx("td",{children:q?a.jsxs("span",{className:"badge badge-soft-success font-size-12",children:[a.jsx("i",{className:"bx bx-check-double me-1"})," "]}):a.jsx("span",{className:"badge badge-soft-light text-muted font-size-12",children:" "})})]},Y.item_id)})})]})}),a.jsx("div",{className:"d-flex justify-content-end mt-4 pt-3 border-top",children:a.jsxs("div",{className:"text-end",children:[a.jsxs("div",{className:"mb-2 text-muted font-size-13",children:[P.length,"     "]}),a.jsx(_e,{color:"success",size:"lg",className:"btn-rounded waves-effect waves-light shadow-sm px-5",onClick:F,disabled:r||P.length===0,children:r?a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bx bx-loader bx-spin font-size-16 align-middle me-2"}),"   ..."]}):"   "})]})})]})]})})})})]})})}function J5e(){const[t,e]=C.useState([]),[n,r]=C.useState(!0),[s,i]=C.useState("1");C.useEffect(()=>{o()},[]);const o=async()=>{r(!0);try{const c=await Y5e();e(c||[])}catch(c){console.error(c)}finally{r(!1)}},l=t.filter(c=>s==="1"?!c.is_exited:s==="2"?c.is_exited:!0);return a.jsx("div",{className:"page-content",children:a.jsxs(An,{fluid:!0,children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[a.jsx("h4",{className:"font-size-18",children:"  "}),a.jsxs(Ce,{to:"/loading/create",className:"btn btn-primary btn-rounded shadow-sm",children:[a.jsx("i",{className:"bx bx-plus me-1"}),"   "]})]}),a.jsx(Ct,{children:a.jsxs(At,{children:[a.jsxs(hb,{tabs:!0,className:"nav-tabs-custom mb-4",children:[a.jsx(Io,{children:a.jsxs(ko,{style:{cursor:"pointer"},className:Rt({active:s==="1"}),onClick:()=>i("1"),children:[a.jsx("span",{className:"d-block d-sm-none",children:a.jsx("i",{className:"fas fa-truck"})}),a.jsx("span",{className:"d-none d-sm-block",children:"  ()"})]})}),a.jsx(Io,{children:a.jsxs(ko,{style:{cursor:"pointer"},className:Rt({active:s==="2"}),onClick:()=>i("2"),children:[a.jsx("span",{className:"d-block d-sm-none",children:a.jsx("i",{className:"fas fa-check-circle"})}),a.jsx("span",{className:"d-none d-sm-block",children:"  ()"})]})})]}),a.jsx("div",{className:"table-responsive",children:a.jsxs(Yn,{className:"table align-middle table-nowrap table-hover",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:" / "}),a.jsx("th",{children:" "}),a.jsx("th",{className:"text-center",children:""}),a.jsx("th",{className:"text-center",children:"  (kg)"}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:n?a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"text-center py-4",children:"  ..."})}):l.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"text-center py-4 text-muted",children:"  ."})}):l.map(c=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("span",{className:"badge badge-soft-dark font-size-12",children:c.order_no})}),a.jsx("td",{children:new Date(c.loading_date).toLocaleDateString("fa-IR")}),a.jsxs("td",{children:[a.jsx("div",{className:"fw-bold",children:c.driver_name}),a.jsx("small",{className:"text-muted",dir:"ltr",children:c.plate_number})]}),a.jsx("td",{children:c.customer_name}),a.jsx("td",{className:"text-center",children:c.items_count}),a.jsx("td",{className:"text-center",children:Number(c.total_weight).toLocaleString()}),a.jsx("td",{children:c.is_exited?a.jsxs(ct,{color:"success",className:"p-2",children:[a.jsx("i",{className:"bx bx-check-double me-1"}),"  ( ",c.exit_permit_no,")"]}):a.jsxs(ct,{color:"warning",className:"p-2 text-dark",children:[a.jsx("i",{className:"bx bx-time-five me-1"}),"  "]})}),a.jsxs("td",{children:[a.jsx(Ce,{to:`/loading/print/${c.id}`,className:"btn btn-sm btn-soft-info me-2",title:"",children:a.jsx("i",{className:"bx bx-printer font-size-16"})}),!c.is_exited&&a.jsxs(Ce,{to:`/exit/create?orderNo=${c.order_no}`,className:"btn btn-sm btn-primary",children:[a.jsx("i",{className:"bx bx-door-open me-1"}),"  "]})]})]},c.id))})]})})]})})]})})}const Q5e=({data:t})=>{if(!t||!t.header)return null;const{header:e,items:n}=t,r=(c,u="")=>c?`${c} ${u}`:"-",s=c=>c||c===0?Number(c).toLocaleString("fa-IR"):"-",i=c=>c?new Date(c).toLocaleDateString("fa-IR"):"-",o=c=>{if(!c)return"-";const u=c.split("-");return u.length<4?c:` ${u[3]} | ${u[1]} ${u[2]} ${u[0]}`},l=n.reduce((c,u)=>({qty:c.qty+(Number(u.qty)||0),weight:c.weight+(Number(u.weight)||0)}),{qty:0,weight:0});return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
        @import url('https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font/dist/font-face.css');

        /*    */
        @media print {
            body * { visibility: hidden; }
            #root, .layout-wrapper, .main-content, .page-content, .navbar, .footer { display: none !important; }

            body, html {
                background: #fff !important;
                height: 100%; width: 100%; margin: 0; padding: 0; overflow: visible !important;
            }

            /*      */
            #loading-print-section {
                visibility: visible !important;
                position: absolute !important;
                left: 0 !important;
                top: 0 !important;
                width: 100% !important;
                height: auto !important;
                z-index: 99999999 !important;
                background-color: #fff !important;
                display: block !important;
                padding: 10mm !important;
                margin: 0 !important;
                opacity: 1 !important;
            }
            
            #loading-print-section * { visibility: visible !important; }
        }

        /*    */
        .loading-wrapper { direction: rtl; font-family: 'Vazir', 'Tahoma', sans-serif; font-size: 10pt; color: #000; line-height: 1.5; }
        .loading-header { display: flex; justify-content: space-between; margin-bottom: 20px; border-bottom: 2px solid #000; padding-bottom: 10px; }
        .lh-side { width: 30%; }
        .lh-center { width: 40%; text-align: center; }
        .lh-title { font-size: 20pt; font-weight: 900; margin: 0; color: #333; }
        .lh-doc-name { border: 1px solid #000; padding: 5px 15px; border-radius: 5px; font-weight: bold; display: inline-block; margin-top: 5px; font-size: 12pt; background: #f0f0f0; -webkit-print-color-adjust: exact; }

        .l-box { border: 1px solid #000; border-radius: 5px; overflow: hidden; margin-bottom: 12px; }
        .l-box-header { background-color: #ddd !important; border-bottom: 1px solid #000; padding: 5px; text-align: center; font-weight: bold; font-size: 9pt; -webkit-print-color-adjust: exact; }
        .l-box-content { padding: 8px; font-size: 10pt; }
        .l-row { display: flex; flex-wrap: wrap; }
        .l-item { margin-left: 20px; margin-bottom: 5px; }
        .l-lbl { font-weight: bold; color: #444; margin-left: 5px; }
        .l-val { font-weight: bold; color: #000; }
        
        .plate-print { border: 1px solid #000; padding: 2px 8px; border-radius: 4px; font-family: 'Tahoma', sans-serif; direction: ltr; display: inline-block; font-weight: bold; letter-spacing: 1px; }

        .l-table { width: 100%; border-collapse: collapse; border: 1px solid #000; margin-bottom: 15px; font-size: 9.5pt; }
        .l-table th { background-color: #eee !important; border: 1px solid #000; padding: 8px; font-weight: bold; -webkit-print-color-adjust: exact; }
        .l-table td { border: 1px solid #000; padding: 6px; text-align: center; vertical-align: middle; }
        .col-idx { width: 40px; background-color: #f9f9f9 !important; -webkit-print-color-adjust: exact; }

        .l-footer { display: flex; margin-top: 10px; }
        .l-note { flex: 1; border: 1px solid #000; border-radius: 5px; padding: 8px; margin-left: 10px; min-height: 80px; }
        .l-total { width: 250px; border: 1px solid #000; border-radius: 5px; }
        .lt-row { display: flex; justify-content: space-between; padding: 6px 10px; border-bottom: 1px solid #ccc; }
        .lt-final { background-color: #eee !important; font-weight: bold; border-bottom: none; -webkit-print-color-adjust: exact; }

        .l-signs { margin-top: 50px; display: flex; justify-content: space-around; text-align: center; }
        .sign-box { width: 30%; }
        .sign-line { margin-top: 50px; border-bottom: 1px dashed #000; width: 80%; margin-left: auto; margin-right: auto; }
      `}),a.jsx("div",{id:"loading-print-section",style:{position:"fixed",top:0,left:"-10000px",width:"1px",height:"1px",overflow:"hidden",opacity:0,zIndex:-1e3},children:a.jsxs("div",{className:"loading-wrapper",children:[a.jsxs("div",{className:"loading-header",children:[a.jsxs("div",{className:"lh-side",children:[a.jsxs("div",{children:[a.jsx("span",{className:"l-lbl",children:" :"})," ",new Date().toLocaleDateString("fa-IR")]}),a.jsxs("div",{children:[a.jsx("span",{className:"l-lbl",children:" :"})," ",a.jsx("span",{className:"l-val",children:e.order_no})]})]}),a.jsxs("div",{className:"lh-center",children:[a.jsx("h1",{className:"lh-title",children:"anbardaran"}),a.jsx("div",{className:"lh-doc-name",children:"   ()"})]}),a.jsxs("div",{className:"lh-side",style:{textAlign:"left"},children:[a.jsxs("div",{children:[a.jsx("span",{className:"l-lbl",children:" :"})," ",i(e.loading_date)]}),a.jsxs("div",{children:[a.jsx("span",{className:"l-lbl",children:" :"})," ",e.order_no]})]})]}),a.jsxs("div",{className:"l-box",children:[a.jsx("div",{className:"l-box-header",children:"  "}),a.jsx("div",{className:"l-box-content",children:a.jsxs("div",{className:"l-row",children:[a.jsxs("span",{className:"l-item",children:[a.jsx("span",{className:"l-lbl",children:" :"}),"   "]}),a.jsxs("span",{className:"l-item",children:[a.jsx("span",{className:"l-lbl",children:":"}),"    "]}),a.jsxs("span",{className:"l-item",children:[a.jsx("span",{className:"l-lbl",children:":"})," -"]})]})})]}),a.jsxs("div",{className:"l-box",children:[a.jsx("div",{className:"l-box-header",children:"  "}),a.jsxs("div",{className:"l-box-content",children:[a.jsx("div",{className:"l-row",style:{borderBottom:"1px dashed #ccc",paddingBottom:"5px",marginBottom:"5px"},children:a.jsxs("span",{className:"l-item",style:{width:"100%"},children:[a.jsx("span",{className:"l-lbl",children:" :"})," ",a.jsx("span",{className:"l-val",style:{fontSize:"11pt"},children:r(e.customer_name)})]})}),a.jsxs("div",{className:"l-row",children:[a.jsxs("span",{className:"l-item",children:[a.jsx("span",{className:"l-lbl",children:" :"})," ",a.jsx("span",{className:"l-val",children:r(e.driver_name)})]}),a.jsxs("span",{className:"l-item",children:[a.jsx("span",{className:"l-lbl",children:" :"}),a.jsx("span",{className:"plate-print",children:o(e.plate_number)})]}),a.jsxs("span",{className:"l-item",children:[a.jsx("span",{className:"l-lbl",children:":"})," ",r(e.description)]})]})]})]}),a.jsx("div",{className:"l-box-header",style:{border:"1px solid #000",borderBottom:"none"},children:"   "}),a.jsxs("table",{className:"l-table",style:{borderTop:"none"},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"col-idx",children:"#"}),a.jsx("th",{children:" "}),a.jsx("th",{children:"  / "}),a.jsx("th",{children:""}),a.jsx("th",{children:" (kg)"}),a.jsx("th",{children:""})]})}),a.jsxs("tbody",{children:[n.map((c,u)=>a.jsxs("tr",{children:[a.jsx("td",{className:"col-idx",children:u+1}),a.jsx("td",{style:{textAlign:"right"},children:a.jsx("strong",{children:r(c.product_name)})}),a.jsx("td",{style:{fontFamily:"monospace"},children:r(c.batch_no)}),a.jsx("td",{children:a.jsx("strong",{style:{fontSize:"1.1em"},children:s(c.qty)})}),a.jsx("td",{children:s(c.weight)}),a.jsx("td",{})]},u)),a.jsxs("tr",{className:"lt-final",children:[a.jsx("td",{colSpan:3,style:{textAlign:"right",paddingRight:"10px"},children:" "}),a.jsx("td",{children:s(l.qty)}),a.jsx("td",{children:s(l.weight)}),a.jsx("td",{children:"-"})]})]})]}),a.jsxs("div",{className:"l-footer",children:[a.jsxs("div",{className:"l-note",children:[a.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:" :"}),a.jsx("p",{style:{margin:0,fontSize:"9pt"},children:"            ."})]}),a.jsxs("div",{className:"l-total",children:[a.jsxs("div",{className:"lt-row",children:[a.jsx("span",{children:"  :"}),a.jsxs("span",{children:[s(l.qty)," "]})]}),a.jsxs("div",{className:"lt-row lt-final",children:[a.jsx("span",{children:"  :"}),a.jsxs("span",{children:[s(l.weight)," kg"]})]})]})]}),a.jsxs("div",{className:"l-signs",children:[a.jsxs("div",{className:"sign-box",children:[a.jsx("div",{children:" "}),a.jsx("div",{className:"sign-line"})]}),a.jsxs("div",{className:"sign-box",children:[a.jsx("div",{children:" ( )"}),a.jsx("div",{className:"sign-line"})]}),a.jsxs("div",{className:"sign-box",children:[a.jsx("div",{children:" ()"}),a.jsx("div",{className:"sign-line"})]})]})]})})]})};function Z5e(){const{id:t}=su(),[e,n]=C.useState(null),[r,s]=C.useState(!1);return C.useEffect(()=>{(async()=>{try{const o=await G5e(t);n(o),setTimeout(()=>{window.print()},800)}catch(o){console.error(o),s(!0)}})()},[t]),r?a.jsxs("div",{className:"text-center p-5",children:[a.jsx("h4",{className:"text-danger",children:"    "}),a.jsx(_e,{color:"secondary",onClick:()=>window.close(),children:""})]}):e?a.jsxs("div",{style:{backgroundColor:"#fff",minHeight:"100vh"},children:[a.jsxs("div",{className:"d-print-none p-3 text-end bg-light border-bottom sticky-top",children:[a.jsxs(_e,{color:"primary",size:"sm",onClick:()=>window.print(),children:[a.jsx("i",{className:"bx bx-printer me-1"}),"  "]}),a.jsx(_e,{color:"secondary",size:"sm",className:"ms-2",onClick:()=>window.close(),children:" "})]}),a.jsx(Q5e,{data:e})]}):a.jsxs("div",{className:"d-flex flex-column justify-content-center align-items-center",style:{height:"100vh",backgroundColor:"#f8f9fa"},children:[a.jsx(Wn,{color:"primary",style:{width:"3rem",height:"3rem"}}),a.jsx("span",{className:"mt-3 fw-bold text-secondary",children:"    ..."})]})}/*!
* sweetalert2 v11.26.4
* Released under the MIT License.
*/function nee(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function X5e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function g8(t,e){return t.get(nee(t,e))}function eze(t,e,n){X5e(t,e),e.set(t,n)}function tze(t,e,n){return t.set(nee(t,e),n),n}const nze=100,Xt={},rze=()=>{Xt.previousActiveElement instanceof HTMLElement?(Xt.previousActiveElement.focus(),Xt.previousActiveElement=null):document.body&&document.body.focus()},sze=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;Xt.restoreFocusTimeout=setTimeout(()=>{rze(),e()},nze),window.scrollTo(n,r)}),ree="swal2-",ize=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Re=ize.reduce((t,e)=>(t[e]=ree+e,t),{}),aze=["success","warning","info","question","error"],GT=aze.reduce((t,e)=>(t[e]=ree+e,t),{}),see="SweetAlert2:",l4=t=>t.charAt(0).toUpperCase()+t.slice(1),no=t=>{console.warn(`${see} ${typeof t=="object"?t.join(" "):t}`)},cg=t=>{console.error(`${see} ${t}`)},y8=[],oze=t=>{y8.includes(t)||(y8.push(t),no(t))},iee=(t,e=null)=>{oze(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},XA=t=>typeof t=="function"?t():t,c4=t=>t&&typeof t.toPromise=="function",k0=t=>c4(t)?t.toPromise():Promise.resolve(t),u4=t=>t&&Promise.resolve(t)===t,ao=()=>document.body.querySelector(`.${Re.container}`),O0=t=>{const e=ao();return e?e.querySelector(t):null},Dl=t=>O0(`.${t}`),_r=()=>Dl(Re.popup),_b=()=>Dl(Re.icon),lze=()=>Dl(Re["icon-content"]),aee=()=>Dl(Re.title),d4=()=>Dl(Re["html-container"]),oee=()=>Dl(Re.image),h4=()=>Dl(Re["progress-steps"]),eN=()=>Dl(Re["validation-message"]),Zu=()=>O0(`.${Re.actions} .${Re.confirm}`),wb=()=>O0(`.${Re.actions} .${Re.cancel}`),ug=()=>O0(`.${Re.actions} .${Re.deny}`),cze=()=>Dl(Re["input-label"]),xb=()=>O0(`.${Re.loader}`),R0=()=>Dl(Re.actions),lee=()=>Dl(Re.footer),tN=()=>Dl(Re["timer-progress-bar"]),f4=()=>Dl(Re.close),uze=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,m4=()=>{const t=_r();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((i,o)=>{const l=parseInt(i.getAttribute("tabindex")||"0"),c=parseInt(o.getAttribute("tabindex")||"0");return l>c?1:l<c?-1:0}),r=t.querySelectorAll(uze),s=Array.from(r).filter(i=>i.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(s))].filter(i=>Uo(i))},p4=()=>Ud(document.body,Re.shown)&&!Ud(document.body,Re["toast-shown"])&&!Ud(document.body,Re["no-backdrop"]),nN=()=>{const t=_r();return t?Ud(t,Re.toast):!1},dze=()=>{const t=_r();return t?t.hasAttribute("data-loading"):!1},Ll=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),s=r.querySelector("head");s&&Array.from(s.childNodes).forEach(o=>{t.appendChild(o)});const i=r.querySelector("body");i&&Array.from(i.childNodes).forEach(o=>{o instanceof HTMLVideoElement||o instanceof HTMLAudioElement?t.appendChild(o.cloneNode(!0)):t.appendChild(o)})}},Ud=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},hze=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(Re).includes(n)&&!Object.values(GT).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},Nl=(t,e,n)=>{if(hze(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){no(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}Tr(t,r)}},rN=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${Re.popup} > .${Re[e]}`);case"checkbox":return t.querySelector(`.${Re.popup} > .${Re.checkbox} input`);case"radio":return t.querySelector(`.${Re.popup} > .${Re.radio} input:checked`)||t.querySelector(`.${Re.popup} > .${Re.radio} input:first-child`);case"range":return t.querySelector(`.${Re.popup} > .${Re.range} input`);default:return t.querySelector(`.${Re.popup} > .${Re.input}`)}},cee=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},uee=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(s=>{n?s.classList.add(r):s.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},Tr=(t,e)=>{uee(t,e,!0)},_c=(t,e)=>{uee(t,e,!1)},of=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const s=n[r];if(s instanceof HTMLElement&&Ud(s,e))return s}},_p=(t,e,n)=>{n===`${parseInt(`${n}`)}`&&(n=parseInt(n)),n||parseInt(`${n}`)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},Fi=(t,e="flex")=>{t&&(t.style.display=e)},Ra=t=>{t&&(t.style.display="none")},g4=(t,e="block")=>{t&&new MutationObserver(()=>{P0(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},v8=(t,e,n,r)=>{const s=t.querySelector(e);s&&s.style.setProperty(n,r)},P0=(t,e,n="flex")=>{e?Fi(t,n):Ra(t)},Uo=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),fze=()=>!Uo(Zu())&&!Uo(ug())&&!Uo(wb()),AL=t=>t.scrollHeight>t.clientHeight,mze=(t,e)=>{let n=t;for(;n&&n!==e;){if(AL(n))return!0;n=n.parentElement}return!1},dee=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},y4=(t,e=!1)=>{const n=tN();n&&Uo(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},pze=()=>{const t=tN();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},gze=()=>typeof window>"u"||typeof document>"u",yze=`
 <div aria-labelledby="${Re.title}" aria-describedby="${Re["html-container"]}" class="${Re.popup}" tabindex="-1">
   <button type="button" class="${Re.close}"></button>
   <ul class="${Re["progress-steps"]}"></ul>
   <div class="${Re.icon}"></div>
   <img class="${Re.image}" />
   <h2 class="${Re.title}" id="${Re.title}"></h2>
   <div class="${Re["html-container"]}" id="${Re["html-container"]}"></div>
   <input class="${Re.input}" id="${Re.input}" />
   <input type="file" class="${Re.file}" />
   <div class="${Re.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Re.select}" id="${Re.select}"></select>
   <div class="${Re.radio}"></div>
   <label class="${Re.checkbox}">
     <input type="checkbox" id="${Re.checkbox}" />
     <span class="${Re.label}"></span>
   </label>
   <textarea class="${Re.textarea}" id="${Re.textarea}"></textarea>
   <div class="${Re["validation-message"]}" id="${Re["validation-message"]}"></div>
   <div class="${Re.actions}">
     <div class="${Re.loader}"></div>
     <button type="button" class="${Re.confirm}"></button>
     <button type="button" class="${Re.deny}"></button>
     <button type="button" class="${Re.cancel}"></button>
   </div>
   <div class="${Re.footer}"></div>
   <div class="${Re["timer-progress-bar-container"]}">
     <div class="${Re["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),vze=()=>{const t=ao();return t?(t.remove(),_c([document.documentElement,document.body],[Re["no-backdrop"],Re["toast-shown"],Re["has-column"]]),!0):!1},km=()=>{Xt.currentInstance.resetValidationMessage()},bze=()=>{const t=_r(),e=of(t,Re.input),n=of(t,Re.file),r=t.querySelector(`.${Re.range} input`),s=t.querySelector(`.${Re.range} output`),i=of(t,Re.select),o=t.querySelector(`.${Re.checkbox} input`),l=of(t,Re.textarea);e.oninput=km,n.onchange=km,i.onchange=km,o.onchange=km,l.oninput=km,r.oninput=()=>{km(),s.value=r.value},r.onchange=()=>{km(),s.value=r.value}},_ze=t=>typeof t=="string"?document.querySelector(t):t,wze=t=>{const e=_r();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},xze=t=>{window.getComputedStyle(t).direction==="rtl"&&(Tr(ao(),Re.rtl),Xt.isRTL=!0)},Eze=t=>{const e=vze();if(gze()){cg("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=Re.container,e&&Tr(n,Re["no-transition"]),Ll(n,yze),n.dataset.swal2Theme=t.theme;const r=_ze(t.target);r.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),wze(t),xze(r),bze()},v4=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?Sze(t,e):t&&Ll(e,t)},Sze=(t,e)=>{t.jquery?jze(e,t):Ll(e,t.toString())},jze=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},Tze=(t,e)=>{const n=R0(),r=xb();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Ra(n):Fi(n),Nl(n,e,"actions"),Cze(n,r,e),Ll(r,e.loaderHtml||""),Nl(r,e,"loader"))};function Cze(t,e,n){const r=Zu(),s=ug(),i=wb();!r||!s||!i||(wR(r,"confirm",n),wR(s,"deny",n),wR(i,"cancel",n),Aze(r,s,i,n),n.reverseButtons&&(n.toast?(t.insertBefore(i,r),t.insertBefore(s,r)):(t.insertBefore(i,e),t.insertBefore(s,e),t.insertBefore(r,e))))}function Aze(t,e,n,r){if(!r.buttonsStyling){_c([t,e,n],Re.styled);return}Tr([t,e,n],Re.styled),r.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),_R(t),_R(e),_R(n)}function _R(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function wR(t,e,n){const r=l4(e);P0(t,n[`show${r}Button`],"inline-block"),Ll(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=Re[e],Nl(t,n,`${e}Button`)}const Nze=(t,e)=>{const n=f4();n&&(Ll(n,e.closeButtonHtml||""),Nl(n,e,"closeButton"),P0(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},Ize=(t,e)=>{const n=ao();n&&(kze(n,e.backdrop),Oze(n,e.position),Rze(n,e.grow),Nl(n,e,"container"))};function kze(t,e){typeof e=="string"?t.style.background=e:e||Tr([document.documentElement,document.body],Re["no-backdrop"])}function Oze(t,e){e&&(e in Re?Tr(t,Re[e]):(no('The "position" parameter is not valid, defaulting to "center"'),Tr(t,Re.center)))}function Rze(t,e){e&&Tr(t,Re[`grow-${e}`])}var Kr={innerParams:new WeakMap,domCache:new WeakMap};const Pze=["input","file","range","select","radio","checkbox","textarea"],Dze=(t,e)=>{const n=_r();if(!n)return;const r=Kr.innerParams.get(t),s=!r||e.input!==r.input;Pze.forEach(i=>{const o=of(n,Re[i]);o&&($ze(i,e.inputAttributes),o.className=Re[i],s&&Ra(o))}),e.input&&(s&&Lze(e),Fze(e))},Lze=t=>{if(!t.input)return;if(!ei[t.input]){cg(`Unexpected type of input! Expected ${Object.keys(ei).join(" | ")}, got "${t.input}"`);return}const e=hee(t.input);if(!e)return;const n=ei[t.input](e,t);Fi(e),t.inputAutoFocus&&setTimeout(()=>{cee(n)})},Mze=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},$ze=(t,e)=>{const n=_r();if(!n)return;const r=rN(n,t);if(r){Mze(r);for(const s in e)r.setAttribute(s,e[s])}},Fze=t=>{if(!t.input)return;const e=hee(t.input);e&&Nl(e,t,"input")},b4=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},D0=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),s=Re["input-label"];r.setAttribute("for",t.id),r.className=s,typeof n.customClass=="object"&&Tr(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},hee=t=>{const e=_r();if(e)return of(e,Re[t]||Re.input)},HT=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:u4(e)||no(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},ei={};ei.text=ei.email=ei.password=ei.number=ei.tel=ei.url=ei.search=ei.date=ei["datetime-local"]=ei.time=ei.week=ei.month=(t,e)=>(HT(t,e.inputValue),D0(t,t,e),b4(t,e),t.type=e.input,t);ei.file=(t,e)=>(D0(t,t,e),b4(t,e),t);ei.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return HT(n,e.inputValue),n.type=e.input,HT(r,e.inputValue),D0(n,t,e),t};ei.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");Ll(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return D0(t,t,e),t};ei.radio=t=>(t.textContent="",t);ei.checkbox=(t,e)=>{const n=rN(_r(),"checkbox");n.value="1",n.checked=!!e.inputValue;const r=t.querySelector("span");return Ll(r,e.inputPlaceholder||e.inputLabel),n};ei.textarea=(t,e)=>{HT(t,e.inputValue),b4(t,e),D0(t,t,e);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(_r()).width),s=()=>{if(!document.body.contains(t))return;const i=t.offsetWidth+n(t);i>r?_r().style.width=`${i}px`:_p(_r(),"width",e.width)};new MutationObserver(s).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const Vze=(t,e)=>{const n=d4();n&&(g4(n),Nl(n,e,"htmlContainer"),e.html?(v4(e.html,n),Fi(n,"block")):e.text?(n.textContent=e.text,Fi(n,"block")):Ra(n),Dze(t,e))},Uze=(t,e)=>{const n=lee();n&&(g4(n),P0(n,!!e.footer,"block"),e.footer&&v4(e.footer,n),Nl(n,e,"footer"))},Bze=(t,e)=>{const n=Kr.innerParams.get(t),r=_b();if(!r)return;if(n&&e.icon===n.icon){_8(r,e),b8(r,e);return}if(!e.icon&&!e.iconHtml){Ra(r);return}if(e.icon&&Object.keys(GT).indexOf(e.icon)===-1){cg(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Ra(r);return}Fi(r),_8(r,e),b8(r,e),Tr(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",fee)},b8=(t,e)=>{for(const[n,r]of Object.entries(GT))e.icon!==n&&_c(t,r);Tr(t,e.icon&&GT[e.icon]),Gze(t,e),fee(),Nl(t,e,"icon")},fee=()=>{const t=_r();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},zze=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,Wze=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,_8=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=w8(e.iconHtml):e.icon==="success"?(r=zze(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=Wze:e.icon&&(r=w8({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&Ll(t,r)},Gze=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])v8(t,n,"background-color",e.iconColor);v8(t,".swal2-success-ring","border-color",e.iconColor)}},w8=t=>`<div class="${Re["icon-content"]}">${t}</div>`,Hze=(t,e)=>{const n=oee();if(n){if(!e.imageUrl){Ra(n);return}Fi(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),_p(n,"width",e.imageWidth),_p(n,"height",e.imageHeight),n.className=Re.image,Nl(n,e,"image")}};let _4=!1,mee=0,pee=0,gee=0,yee=0;const qze=t=>{t.addEventListener("mousedown",qT),document.body.addEventListener("mousemove",YT),t.addEventListener("mouseup",KT),t.addEventListener("touchstart",qT),document.body.addEventListener("touchmove",YT),t.addEventListener("touchend",KT)},Yze=t=>{t.removeEventListener("mousedown",qT),document.body.removeEventListener("mousemove",YT),t.removeEventListener("mouseup",KT),t.removeEventListener("touchstart",qT),document.body.removeEventListener("touchmove",YT),t.removeEventListener("touchend",KT)},qT=t=>{const e=_r();if(t.target===e||_b().contains(t.target)){_4=!0;const n=vee(t);mee=n.clientX,pee=n.clientY,gee=parseInt(e.style.insetInlineStart)||0,yee=parseInt(e.style.insetBlockStart)||0,Tr(e,"swal2-dragging")}},YT=t=>{const e=_r();if(_4){let{clientX:n,clientY:r}=vee(t);const s=n-mee;e.style.insetInlineStart=`${gee+(Xt.isRTL?-s:s)}px`,e.style.insetBlockStart=`${yee+(r-pee)}px`}},KT=()=>{const t=_r();_4=!1,_c(t,"swal2-dragging")},vee=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},Kze=(t,e)=>{const n=ao(),r=_r();if(!(!n||!r)){if(e.toast){_p(n,"width",e.width),r.style.width="100%";const s=xb();s&&r.insertBefore(s,_b())}else _p(r,"width",e.width);_p(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),Ra(eN()),Jze(r,e),e.draggable&&!e.toast?(Tr(r,Re.draggable),qze(r)):(_c(r,Re.draggable),Yze(r))}},Jze=(t,e)=>{const n=e.showClass||{};t.className=`${Re.popup} ${Uo(t)?n.popup:""}`,e.toast?(Tr([document.documentElement,document.body],Re["toast-shown"]),Tr(t,Re.toast)):Tr(t,Re.modal),Nl(t,e,"popup"),typeof e.customClass=="string"&&Tr(t,e.customClass),e.icon&&Tr(t,Re[`icon-${e.icon}`])},Qze=(t,e)=>{const n=h4();if(!n)return;const{progressSteps:r,currentProgressStep:s}=e;if(!r||r.length===0||s===void 0){Ra(n);return}Fi(n),n.textContent="",s>=r.length&&no("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((i,o)=>{const l=Zze(i);if(n.appendChild(l),o===s&&Tr(l,Re["active-progress-step"]),o!==r.length-1){const c=Xze(e);n.appendChild(c)}})},Zze=t=>{const e=document.createElement("li");return Tr(e,Re["progress-step"]),Ll(e,t),e},Xze=t=>{const e=document.createElement("li");return Tr(e,Re["progress-step-line"]),t.progressStepsDistance&&_p(e,"width",t.progressStepsDistance),e},e6e=(t,e)=>{const n=aee();n&&(g4(n),P0(n,!!(e.title||e.titleText),"block"),e.title&&v4(e.title,n),e.titleText&&(n.innerText=e.titleText),Nl(n,e,"title"))},bee=(t,e)=>{Kze(t,e),Ize(t,e),Qze(t,e),Bze(t,e),Hze(t,e),e6e(t,e),Nze(t,e),Vze(t,e),Tze(t,e),Uze(t,e);const n=_r();typeof e.didRender=="function"&&n&&e.didRender(n),Xt.eventEmitter.emit("didRender",n)},t6e=()=>Uo(_r()),_ee=()=>{var t;return(t=Zu())===null||t===void 0?void 0:t.click()},n6e=()=>{var t;return(t=ug())===null||t===void 0?void 0:t.click()},r6e=()=>{var t;return(t=wb())===null||t===void 0?void 0:t.click()},Eb=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),wee=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},s6e=(t,e,n)=>{wee(t),e.toast||(t.keydownHandler=r=>a6e(e,r,n),t.keydownTarget=e.keydownListenerCapture?window:_r(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},NL=(t,e)=>{var n;const r=m4();if(r.length){t=t+e,t===-2&&(t=r.length-1),t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=_r())===null||n===void 0||n.focus()},xee=["ArrowRight","ArrowDown"],i6e=["ArrowLeft","ArrowUp"],a6e=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?o6e(e,t):e.key==="Tab"?l6e(e):[...xee,...i6e].includes(e.key)?c6e(e.key):e.key==="Escape"&&u6e(e,t,n)))},o6e=(t,e)=>{if(!XA(e.allowEnterKey))return;const n=rN(_r(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;_ee(),t.preventDefault()}},l6e=t=>{const e=t.target,n=m4();let r=-1;for(let s=0;s<n.length;s++)if(e===n[s]){r=s;break}t.shiftKey?NL(r,-1):NL(r,1),t.stopPropagation(),t.preventDefault()},c6e=t=>{const e=R0(),n=Zu(),r=ug(),s=wb();if(!e||!n||!r||!s)return;const i=[n,r,s];if(document.activeElement instanceof HTMLElement&&!i.includes(document.activeElement))return;const o=xee.includes(t)?"nextElementSibling":"previousElementSibling";let l=document.activeElement;if(l){for(let c=0;c<e.children.length;c++){if(l=l[o],!l)return;if(l instanceof HTMLButtonElement&&Uo(l))break}l instanceof HTMLButtonElement&&l.focus()}},u6e=(t,e,n)=>{t.preventDefault(),XA(e.allowEscapeKey)&&n(Eb.esc)};var Vv={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const d6e=()=>{const t=ao();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},Eee=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},See=typeof window<"u"&&!!window.GestureEvent,h6e=()=>{if(See&&!Ud(document.body,Re.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,Tr(document.body,Re.iosfix),f6e()}},f6e=()=>{const t=ao();if(!t)return;let e;t.ontouchstart=n=>{e=m6e(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},m6e=t=>{const e=t.target,n=ao(),r=d4();return!n||!r||p6e(t)||g6e(t)?!1:e===n||!AL(n)&&e instanceof HTMLElement&&!mze(e,r)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(AL(r)&&r.contains(e))},p6e=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",g6e=t=>t.touches&&t.touches.length>1,y6e=()=>{if(Ud(document.body,Re.iosfix)){const t=parseInt(document.body.style.top,10);_c(document.body,Re.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},v6e=()=>{const t=document.createElement("div");t.className=Re["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let cv=null;const b6e=t=>{cv===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(cv=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${cv+v6e()}px`)},_6e=()=>{cv!==null&&(document.body.style.paddingRight=`${cv}px`,cv=null)};function jee(t,e,n,r){nN()?x8(t,r):(sze(n).then(()=>x8(t,r)),wee(Xt)),See?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),p4()&&(_6e(),y6e(),Eee()),w6e()}function w6e(){_c([document.documentElement,document.body],[Re.shown,Re["height-auto"],Re["no-backdrop"],Re["toast-shown"]])}function lf(t){t=E6e(t);const e=Vv.swalPromiseResolve.get(this),n=x6e(this);this.isAwaitingPromise?t.isDismissed||(L0(this),e(t)):n&&e(t)}const x6e=t=>{const e=_r();if(!e)return!1;const n=Kr.innerParams.get(t);if(!n||Ud(e,n.hideClass.popup))return!1;_c(e,n.showClass.popup),Tr(e,n.hideClass.popup);const r=ao();return _c(r,n.showClass.backdrop),Tr(r,n.hideClass.backdrop),S6e(t,e,n),!0};function Tee(t){const e=Vv.swalPromiseReject.get(this);L0(this),e&&e(t)}const L0=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Kr.innerParams.get(t)||t._destroy())},E6e=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),S6e=(t,e,n)=>{var r;const s=ao(),i=dee(e);typeof n.willClose=="function"&&n.willClose(e),(r=Xt.eventEmitter)===null||r===void 0||r.emit("willClose",e),i?j6e(t,e,s,n.returnFocus,n.didClose):jee(t,s,n.returnFocus,n.didClose)},j6e=(t,e,n,r,s)=>{Xt.swalCloseEventFinishedCallback=jee.bind(null,t,n,r,s);const i=function(o){if(o.target===e){var l;(l=Xt.swalCloseEventFinishedCallback)===null||l===void 0||l.call(Xt),delete Xt.swalCloseEventFinishedCallback,e.removeEventListener("animationend",i),e.removeEventListener("transitionend",i)}};e.addEventListener("animationend",i),e.addEventListener("transitionend",i)},x8=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=Xt.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},Uv=t=>{let e=_r();if(e||new eC,e=_r(),!e)return;const n=xb();nN()?Ra(_b()):T6e(e,t),Fi(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},T6e=(t,e)=>{const n=R0(),r=xb();!n||!r||(!e&&Uo(Zu())&&(e=Zu()),Fi(n),e&&(Ra(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),Tr([t,n],Re.loading))},C6e=(t,e)=>{e.input==="select"||e.input==="radio"?O6e(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(c4(e.inputValue)||u4(e.inputValue))&&(Uv(Zu()),R6e(t,e))},A6e=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return N6e(n);case"radio":return I6e(n);case"file":return k6e(n);default:return e.inputAutoTrim?n.value.trim():n.value}},N6e=t=>t.checked?1:0,I6e=t=>t.checked?t.value:null,k6e=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,O6e=(t,e)=>{const n=_r();if(!n)return;const r=s=>{e.input==="select"?P6e(n,JT(s),e):e.input==="radio"&&D6e(n,JT(s),e)};c4(e.inputOptions)||u4(e.inputOptions)?(Uv(Zu()),k0(e.inputOptions).then(s=>{t.hideLoading(),r(s)})):typeof e.inputOptions=="object"?r(e.inputOptions):cg(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},R6e=(t,e)=>{const n=t.getInput();n&&(Ra(n),k0(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,Fi(n),n.focus(),t.hideLoading()}).catch(r=>{cg(`Error in inputValue promise: ${r}`),n.value="",Fi(n),n.focus(),t.hideLoading()}))};function P6e(t,e,n){const r=of(t,Re.select);if(!r)return;const s=(i,o,l)=>{const c=document.createElement("option");c.value=l,Ll(c,o),c.selected=Cee(l,n.inputValue),i.appendChild(c)};e.forEach(i=>{const o=i[0],l=i[1];if(Array.isArray(l)){const c=document.createElement("optgroup");c.label=o,c.disabled=!1,r.appendChild(c),l.forEach(u=>s(c,u[1],u[0]))}else s(r,l,o)}),r.focus()}function D6e(t,e,n){const r=of(t,Re.radio);if(!r)return;e.forEach(i=>{const o=i[0],l=i[1],c=document.createElement("input"),u=document.createElement("label");c.type="radio",c.name=Re.radio,c.value=o,Cee(o,n.inputValue)&&(c.checked=!0);const d=document.createElement("span");Ll(d,l),d.className=Re.label,u.appendChild(c),u.appendChild(d),r.appendChild(u)});const s=r.querySelectorAll("input");s.length&&s[0].focus()}const JT=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let s=n;typeof s=="object"&&(s=JT(s)),e.push([r,s])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=JT(r)),e.push([n,r])}),e},Cee=(t,e)=>!!e&&e.toString()===t.toString(),L6e=t=>{const e=Kr.innerParams.get(t);t.disableButtons(),e.input?Aee(t,"confirm"):x4(t,!0)},M6e=t=>{const e=Kr.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?Aee(t,"deny"):w4(t,!1)},$6e=(t,e)=>{t.disableButtons(),e(Eb.cancel)},Aee=(t,e)=>{const n=Kr.innerParams.get(t);if(!n.input){cg(`The "input" parameter is needed to be set when using returnInputValueOn${l4(e)}`);return}const r=t.getInput(),s=A6e(t,n);n.inputValidator?F6e(t,s,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?w4(t,s):x4(t,s)},F6e=(t,e,n)=>{const r=Kr.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>k0(r.inputValidator(e,r.validationMessage))).then(i=>{t.enableButtons(),t.enableInput(),i?t.showValidationMessage(i):n==="deny"?w4(t,e):x4(t,e)})},w4=(t,e)=>{const n=Kr.innerParams.get(t||void 0);n.showLoaderOnDeny&&Uv(ug()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>k0(n.preDeny(e,n.validationMessage))).then(s=>{s===!1?(t.hideLoading(),L0(t)):t.close({isDenied:!0,value:typeof s>"u"?e:s})}).catch(s=>Nee(t||void 0,s))):t.close({isDenied:!0,value:e})},E8=(t,e)=>{t.close({isConfirmed:!0,value:e})},Nee=(t,e)=>{t.rejectPromise(e)},x4=(t,e)=>{const n=Kr.innerParams.get(t||void 0);n.showLoaderOnConfirm&&Uv(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>k0(n.preConfirm(e,n.validationMessage))).then(s=>{Uo(eN())||s===!1?(t.hideLoading(),L0(t)):E8(t,typeof s>"u"?e:s)}).catch(s=>Nee(t||void 0,s))):E8(t,e)};function QT(){const t=Kr.innerParams.get(this);if(!t)return;const e=Kr.domCache.get(this);Ra(e.loader),nN()?t.icon&&Fi(_b()):V6e(e),_c([e.popup,e.actions],Re.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const V6e=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?Fi(e[0],"inline-block"):fze()&&Ra(t.actions)};function Iee(){const t=Kr.innerParams.get(this),e=Kr.domCache.get(this);return e?rN(e.popup,t.input):null}function kee(t,e,n){const r=Kr.domCache.get(t);e.forEach(s=>{r[s].disabled=n})}function Oee(t,e){const n=_r();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${Re.radio}"]`);for(let s=0;s<r.length;s++)r[s].disabled=e}else t.disabled=e}function Ree(){kee(this,["confirmButton","denyButton","cancelButton"],!1)}function Pee(){kee(this,["confirmButton","denyButton","cancelButton"],!0)}function Dee(){Oee(this.getInput(),!1)}function Lee(){Oee(this.getInput(),!0)}function Mee(t){const e=Kr.domCache.get(this),n=Kr.innerParams.get(this);Ll(e.validationMessage,t),e.validationMessage.className=Re["validation-message"],n.customClass&&n.customClass.validationMessage&&Tr(e.validationMessage,n.customClass.validationMessage),Fi(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",Re["validation-message"]),cee(r),Tr(r,Re.inputerror))}function $ee(){const t=Kr.domCache.get(this);t.validationMessage&&Ra(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),_c(e,Re.inputerror))}const uv={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},U6e=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],B6e={allowEnterKey:void 0},z6e=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Fee=t=>Object.prototype.hasOwnProperty.call(uv,t),Vee=t=>U6e.indexOf(t)!==-1,Uee=t=>B6e[t],W6e=t=>{Fee(t)||no(`Unknown parameter "${t}"`)},G6e=t=>{z6e.includes(t)&&no(`The parameter "${t}" is incompatible with toasts`)},H6e=t=>{const e=Uee(t);e&&iee(t,e)},Bee=t=>{t.backdrop===!1&&t.allowOutsideClick&&no('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&no(`Invalid theme "${t.theme}"`);for(const e in t)W6e(e),t.toast&&G6e(e),H6e(e)};function zee(t){const e=ao(),n=_r(),r=Kr.innerParams.get(this);if(!n||Ud(n,r.hideClass.popup)){no("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const s=q6e(t),i=Object.assign({},r,s);Bee(i),e.dataset.swal2Theme=i.theme,bee(this,i),Kr.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const q6e=t=>{const e={};return Object.keys(t).forEach(n=>{Vee(n)?e[n]=t[n]:no(`Invalid parameter to update: ${n}`)}),e};function Wee(){const t=Kr.domCache.get(this),e=Kr.innerParams.get(this);if(!e){Gee(this);return}t.popup&&Xt.swalCloseEventFinishedCallback&&(Xt.swalCloseEventFinishedCallback(),delete Xt.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Xt.eventEmitter.emit("didDestroy"),Y6e(this)}const Y6e=t=>{Gee(t),delete t.params,delete Xt.keydownHandler,delete Xt.keydownTarget,delete Xt.currentInstance},Gee=t=>{t.isAwaitingPromise?(xR(Kr,t),t.isAwaitingPromise=!0):(xR(Vv,t),xR(Kr,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},xR=(t,e)=>{for(const n in t)t[n].delete(e)};var K6e=Object.freeze({__proto__:null,_destroy:Wee,close:lf,closeModal:lf,closePopup:lf,closeToast:lf,disableButtons:Pee,disableInput:Lee,disableLoading:QT,enableButtons:Ree,enableInput:Dee,getInput:Iee,handleAwaitingPromise:L0,hideLoading:QT,rejectPromise:Tee,resetValidationMessage:$ee,showValidationMessage:Mee,update:zee});const J6e=(t,e,n)=>{t.toast?Q6e(t,e,n):(X6e(e),e9e(e),t9e(t,e,n))},Q6e=(t,e,n)=>{e.popup.onclick=()=>{t&&(Z6e(t)||t.timer||t.input)||n(Eb.close)}},Z6e=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let ZT=!1;const X6e=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(ZT=!0)}}},e9e=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(ZT=!0)}}},t9e=(t,e,n)=>{e.container.onclick=r=>{if(ZT){ZT=!1;return}r.target===e.container&&XA(t.allowOutsideClick)&&n(Eb.backdrop)}},n9e=t=>typeof t=="object"&&t.jquery,S8=t=>t instanceof Element||n9e(t),r9e=t=>{const e={};return typeof t[0]=="object"&&!S8(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const s=t[r];typeof s=="string"||S8(s)?e[n]=s:s!==void 0&&cg(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof s}`)}),e};function s9e(...t){return new this(...t)}function i9e(t){class e extends this{_main(r,s){return super._main(r,Object.assign({},t,s))}}return e}const a9e=()=>Xt.timeout&&Xt.timeout.getTimerLeft(),Hee=()=>{if(Xt.timeout)return pze(),Xt.timeout.stop()},qee=()=>{if(Xt.timeout){const t=Xt.timeout.start();return y4(t),t}},o9e=()=>{const t=Xt.timeout;return t&&(t.running?Hee():qee())},l9e=t=>{if(Xt.timeout){const e=Xt.timeout.increase(t);return y4(e,!0),e}},c9e=()=>!!(Xt.timeout&&Xt.timeout.isRunning());let j8=!1;const IL={};function u9e(t="data-swal-template"){IL[t]=this,j8||(document.body.addEventListener("click",d9e),j8=!0)}const d9e=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in IL){const r=e.getAttribute(n);if(r){IL[n].fire({template:r});return}}};let h9e=class{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){const r=(...s)=>{this.removeListener(e,r),n.apply(this,s)};this.on(e,r)}emit(e,...n){this._getHandlersByEventName(e).forEach(r=>{try{r.apply(this,n)}catch(s){console.error(s)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),s=r.indexOf(n);s>-1&&r.splice(s,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}};Xt.eventEmitter=new h9e;const f9e=(t,e)=>{Xt.eventEmitter.on(t,e)},m9e=(t,e)=>{Xt.eventEmitter.once(t,e)},p9e=(t,e)=>{if(!t){Xt.eventEmitter.reset();return}e?Xt.eventEmitter.removeListener(t,e):Xt.eventEmitter.removeAllListeners(t)};var g9e=Object.freeze({__proto__:null,argsToParams:r9e,bindClickHandler:u9e,clickCancel:r6e,clickConfirm:_ee,clickDeny:n6e,enableLoading:Uv,fire:s9e,getActions:R0,getCancelButton:wb,getCloseButton:f4,getConfirmButton:Zu,getContainer:ao,getDenyButton:ug,getFocusableElements:m4,getFooter:lee,getHtmlContainer:d4,getIcon:_b,getIconContent:lze,getImage:oee,getInputLabel:cze,getLoader:xb,getPopup:_r,getProgressSteps:h4,getTimerLeft:a9e,getTimerProgressBar:tN,getTitle:aee,getValidationMessage:eN,increaseTimer:l9e,isDeprecatedParameter:Uee,isLoading:dze,isTimerRunning:c9e,isUpdatableParameter:Vee,isValidParameter:Fee,isVisible:t6e,mixin:i9e,off:p9e,on:f9e,once:m9e,resumeTimer:qee,showLoading:Uv,stopTimer:Hee,toggleTimer:o9e});class y9e{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Yee=["swal-title","swal-html","swal-footer"],v9e=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return T9e(n),Object.assign(b9e(n),_9e(n),w9e(n),x9e(n),E9e(n),S9e(n),j9e(n,Yee))},b9e=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{Lp(r,["name","value"]);const s=r.getAttribute("name"),i=r.getAttribute("value");!s||!i||(typeof uv[s]=="boolean"?e[s]=i!=="false":typeof uv[s]=="object"?e[s]=JSON.parse(i):e[s]=i)}),e},_9e=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const s=r.getAttribute("name"),i=r.getAttribute("value");!s||!i||(e[s]=new Function(`return ${i}`)())}),e},w9e=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{Lp(r,["type","color","aria-label"]);const s=r.getAttribute("type");!s||!["confirm","cancel","deny"].includes(s)||(e[`${s}ButtonText`]=r.innerHTML,e[`show${l4(s)}Button`]=!0,r.hasAttribute("color")&&(e[`${s}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${s}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},x9e=t=>{const e={},n=t.querySelector("swal-image");return n&&(Lp(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},E9e=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Lp(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},S9e=t=>{const e={},n=t.querySelector("swal-input");n&&(Lp(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(s=>{Lp(s,["value"]);const i=s.getAttribute("value");if(!i)return;const o=s.innerHTML;e.inputOptions[i]=o})),e},j9e=(t,e)=>{const n={};for(const r in e){const s=e[r],i=t.querySelector(s);i&&(Lp(i,[]),n[s.replace(/^swal-/,"")]=i.innerHTML.trim())}return n},T9e=t=>{const e=Yee.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||no(`Unrecognized element <${r}>`)})},Lp=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&no([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},Kee=10,C9e=t=>{const e=ao(),n=_r();typeof t.willOpen=="function"&&t.willOpen(n),Xt.eventEmitter.emit("willOpen",n);const s=window.getComputedStyle(document.body).overflowY;I9e(e,n,t),setTimeout(()=>{A9e(e,n)},Kee),p4()&&(N9e(e,t.scrollbarPadding,s),d6e()),!nN()&&!Xt.previousActiveElement&&(Xt.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),Xt.eventEmitter.emit("didOpen",n)},XT=t=>{const e=_r();if(t.target!==e)return;const n=ao();e.removeEventListener("animationend",XT),e.removeEventListener("transitionend",XT),n.style.overflowY="auto",_c(n,Re["no-transition"])},A9e=(t,e)=>{dee(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",XT),e.addEventListener("transitionend",XT)):t.style.overflowY="auto"},N9e=(t,e,n)=>{h6e(),e&&n!=="hidden"&&b6e(n),setTimeout(()=>{t.scrollTop=0})},I9e=(t,e,n)=>{Tr(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),Fi(e,"grid"),setTimeout(()=>{Tr(e,n.showClass.popup),e.style.removeProperty("opacity")},Kee)):Fi(e,"grid"),Tr([document.documentElement,document.body],Re.shown),n.heightAuto&&n.backdrop&&!n.toast&&Tr([document.documentElement,document.body],Re["height-auto"])};var T8={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function k9e(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=T8.email),t.input==="url"&&(t.inputValidator=T8.url))}function O9e(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(no('Target parameter is not valid, defaulting to "body"'),t.target="body")}function R9e(t){k9e(t),t.showLoaderOnConfirm&&!t.preConfirm&&no(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),O9e(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),Eze(t)}let Au;var tj=new WeakMap;class ai{constructor(...e){if(eze(this,tj,void 0),typeof window>"u")return;Au=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,tze(tj,this,this._main(Au.params))}_main(e,n={}){if(Bee(Object.assign({},n,e)),Xt.currentInstance){const i=Vv.swalPromiseResolve.get(Xt.currentInstance),{isAwaitingPromise:o}=Xt.currentInstance;Xt.currentInstance._destroy(),o||i({isDismissed:!0}),p4()&&Eee()}Xt.currentInstance=Au;const r=D9e(e,n);R9e(r),Object.freeze(r),Xt.timeout&&(Xt.timeout.stop(),delete Xt.timeout),clearTimeout(Xt.restoreFocusTimeout);const s=L9e(Au);return bee(Au,r),Kr.innerParams.set(Au,r),P9e(Au,s,r)}then(e){return g8(tj,this).then(e)}finally(e){return g8(tj,this).finally(e)}}const P9e=(t,e,n)=>new Promise((r,s)=>{const i=o=>{t.close({isDismissed:!0,dismiss:o,isConfirmed:!1,isDenied:!1})};Vv.swalPromiseResolve.set(t,r),Vv.swalPromiseReject.set(t,s),e.confirmButton.onclick=()=>{L6e(t)},e.denyButton.onclick=()=>{M6e(t)},e.cancelButton.onclick=()=>{$6e(t,i)},e.closeButton.onclick=()=>{i(Eb.close)},J6e(n,e,i),s6e(Xt,n,i),C6e(t,n),C9e(n),M9e(Xt,n,i),$9e(e,n),setTimeout(()=>{e.container.scrollTop=0})}),D9e=(t,e)=>{const n=v9e(t),r=Object.assign({},uv,e,n,t);return r.showClass=Object.assign({},uv.showClass,r.showClass),r.hideClass=Object.assign({},uv.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},L9e=t=>{const e={popup:_r(),container:ao(),actions:R0(),confirmButton:Zu(),denyButton:ug(),cancelButton:wb(),loader:xb(),closeButton:f4(),validationMessage:eN(),progressSteps:h4()};return Kr.domCache.set(t,e),e},M9e=(t,e,n)=>{const r=tN();Ra(r),e.timer&&(t.timeout=new y9e(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(Fi(r),Nl(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&y4(e.timer)})))},$9e=(t,e)=>{if(!e.toast){if(!XA(e.allowEnterKey)){iee("allowEnterKey"),U9e();return}F9e(t)||V9e(t,e)||NL(-1,1)}},F9e=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&Uo(n))return n.focus(),!0;return!1},V9e=(t,e)=>e.focusDeny&&Uo(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Uo(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&Uo(t.confirmButton)?(t.confirmButton.focus(),!0):!1,U9e=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};ai.prototype.disableButtons=Pee;ai.prototype.enableButtons=Ree;ai.prototype.getInput=Iee;ai.prototype.disableInput=Lee;ai.prototype.enableInput=Dee;ai.prototype.hideLoading=QT;ai.prototype.disableLoading=QT;ai.prototype.showValidationMessage=Mee;ai.prototype.resetValidationMessage=$ee;ai.prototype.close=lf;ai.prototype.closePopup=lf;ai.prototype.closeModal=lf;ai.prototype.closeToast=lf;ai.prototype.rejectPromise=Tee;ai.prototype.update=zee;ai.prototype._destroy=Wee;Object.assign(ai,g9e);Object.keys(K6e).forEach(t=>{ai[t]=function(...e){return Au&&Au[t]?Au[t](...e):null}});ai.DismissReason=Eb;ai.version="11.26.4";const eC=ai;eC.default=eC;typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const Jee=async t=>{const e=t.map(s=>{var o;if(s.product_id)return s.product_id;const i=((o=s.loading_order_items)==null?void 0:o.products)||s.products;return i==null?void 0:i.id}).filter(Boolean),n=[...new Set(e)],r={};if(n.length>0){const{data:s}=await je.from("receipt_items").select("product_id, receipts ( doc_date )").in("product_id",n).order("created_at",{ascending:!1});s&&s.forEach(i=>{var o;r[i.product_id]||(r[i.product_id]=(o=i.receipts)==null?void 0:o.doc_date)})}return r},B9e=async t=>{var u,d,f,m,p,y,_;if(!t)throw new Error("   .");let e=null,n=null;const s=`
        *,
        loading_orders!inner ( 
            id, order_no, driver_name, plate_number, 
            clearances ( customer_id, customers ( id, name ) ) 
        ),
        warehouse_exit_items ( *, loading_order_items ( 
        batch_no, qty,
        products ( 
            id, name, national_title,
            effective_storage_cost, effective_loading_cost,
            product_categories!fk_prod_to_cat ( fee_type )
        ),
        clearance_items ( weight, created_at )
     ) )
    `,{data:i}=await je.from("loading_orders").select(`
            id, order_no, driver_name, plate_number,
            clearances (
                customer_id,
                customers ( id, name )
            )
        `).eq("order_no",t).maybeSingle();if(i){const{data:b}=await je.from("warehouse_exits").select(s).eq("loading_order_id",i.id).maybeSingle();b?e=b:n=i}if(!e&&!n&&!isNaN(t)){const{data:b}=await je.from("warehouse_exits").select(s).eq("id",t).maybeSingle();b&&(e=b)}if(!e&&!n)throw new Error("  .");let o=[];if(e)o=e.warehouse_exit_items;else{const{data:b}=await je.from("loading_order_items").select("*, loading_orders!inner(id), products(id, name, effective_storage_cost, effective_loading_cost, product_categories!fk_prod_to_cat(fee_type)), clearance_items(weight, created_at)").eq("loading_order_id",n.id);o=b||[]}const l=await Jee(o),c=(b,x=!1)=>b.map(w=>{var z;const E=x?w:w.loading_order_items;if(!E)return{item_id:null,product_name:""};const T=E.products,N=E.clearance_items,P=l[T==null?void 0:T.id]||(N==null?void 0:N.created_at)||new Date().toISOString(),D=x?0:w.weight_full||0,F=x?0:w.weight_empty||0,Y=D>=F?D-F:0,q=((z=T==null?void 0:T.product_categories)==null?void 0:z.fee_type)||"weight",B=x?E.qty||0:w.qty||E.qty||0,G=q==="quantity"?Number(B):Y,J=Number(T==null?void 0:T.effective_storage_cost)||0,W=Number(T==null?void 0:T.effective_loading_cost)||0;return{item_id:x?w.id:w.loading_item_id,product_name:(T==null?void 0:T.name)||"",batch_no:E.batch_no,qty:B,entry_date:P,fee_type:q,base_storage_rate:J,base_loading_rate:W,cleared_weight:(N==null?void 0:N.weight)||0,weight_full:D,weight_empty:F,weight_net:Y,row_storage_fee:x?G*J:Number(w.final_fee)||0,row_loading_fee:x?G*W:Number(w.loading_fee)||0}});if(e){const b=(d=(u=e.loading_orders)==null?void 0:u.clearances)==null?void 0:d.customers,x=(f=e.loading_orders)==null?void 0:f.clearances;return{source:"exit_record",is_processed:!0,status:e.status,exit_id:e.id,loading_id:e.loading_order_id,order_no:(m=e.loading_orders)==null?void 0:m.order_no,driver_name:e.driver_name||((p=e.loading_orders)==null?void 0:p.driver_name),plate_number:e.plate_number||((y=e.loading_orders)==null?void 0:y.plate_number),customer_name:(b==null?void 0:b.name)||"",customer_id:e.owner_id||(x==null?void 0:x.customer_id),driver_national_code:e.driver_national_code,weighbridge_fee:e.weighbridge_fee,extra_fee:e.extra_fee,extra_description:e.extra_description,payment_method:e.payment_method,reference_no:e.reference_no,exit_date:e.exit_date,items:c(e.warehouse_exit_items,!1)}}else{const b=(_=n.clearances)==null?void 0:_.customers,x=n.clearances;return{source:"loading_order",is_processed:!1,loading_id:n.id,order_no:n.order_no,driver_name:n.driver_name,plate_number:n.plate_number,customer_name:(b==null?void 0:b.name)||"",customer_id:x==null?void 0:x.customer_id,items:c(o,!0)}}},z9e=async t=>{console.log(" Service received payload:",t);const{data:e,error:n}=await je.from("warehouse_exits").insert({loading_order_id:t.loading_order_id,owner_id:t.owner_id,driver_name:t.driver_name,plate_number:t.plate_number,exit_date:t.exit_date,reference_no:t.reference_no,driver_national_code:t.driver_national_code,weighbridge_fee:Number(t.weighbridge_fee)||0,extra_fee:Number(t.extra_fee)||0,extra_description:t.extra_description,vat_fee:Number(t.vat_fee)||0,total_fee:Number(t.total_fee)||0,total_loading_fee:Number(t.total_loading_fee)||0,payment_method:t.payment_method,financial_account_id:t.financial_account_id?Number(t.financial_account_id):null,status:t.status,description:t.status==="draft"?" ":" "}).select().single();if(n)throw console.error(" Database Error (Header):",n),n;const r=t.items.map(i=>({warehouse_exit_id:e.id,loading_item_id:i.item_id,weight_full:Number(i.weight_full)||0,weight_empty:Number(i.weight_empty)||0,weight_net:Number(i.weight_net)||0,qty:Number(i.qty)||0,fee_type:i.fee_type,fee_price:Number(i.base_storage_rate)||0,loading_fee:Number(i.row_loading_fee)||0,final_fee:Number(i.row_storage_fee)||0})),{error:s}=await je.from("warehouse_exit_items").insert(r);if(s)throw console.error(" Database Error (Items):",s),await je.from("warehouse_exits").delete().eq("id",e.id),s;return e},W9e=async t=>{var i,o,l,c,u,d;const{data:e,error:n}=await je.from("warehouse_exits").select(`
            *,
            customers ( name ),
            loading_orders (
                order_no, driver_name, plate_number,
                clearances ( customers ( name ) )
            ),
            warehouse_exit_items (
                *,
                loading_order_items (
                    batch_no, qty,
                    products ( id, name ), 
                    clearance_items ( created_at, weight )
                )
            )
        `).eq("id",t).single();if(n)throw n;const r=await Jee(e.warehouse_exit_items),s=e.warehouse_exit_items.map(f=>{var N,P,D;const m=(N=f.loading_order_items)==null?void 0:N.products,p=(P=f.loading_order_items)==null?void 0:P.clearance_items,y=r[m==null?void 0:m.id]||(p==null?void 0:p.created_at)||new Date().toISOString(),_=new Date(y),x=new Date(e.exit_date)-_,w=Math.ceil(x/(1e3*60*60*24)),E=w>=0?w:0;let T=1;return E>30&&(T=Math.ceil(E/30)),{...f,product_name:(m==null?void 0:m.name)||"",batch_no:(D=f.loading_order_items)==null?void 0:D.batch_no,entry_date:y,days_duration:E,months_duration:T}});return{...e,driver_name:e.driver_name||((i=e.loading_orders)==null?void 0:i.driver_name),plate_number:e.plate_number||((o=e.loading_orders)==null?void 0:o.plate_number),customer_name:((l=e.customers)==null?void 0:l.name)||((d=(u=(c=e.loading_orders)==null?void 0:c.clearances)==null?void 0:u.customers)==null?void 0:d.name),items:s}},G9e=async()=>{const{data:t,error:e}=await je.from("warehouse_exits").select(`
            id, exit_date, status, created_at,
            total_fee, total_loading_fee, weighbridge_fee, extra_fee, vat_fee,
            customers ( name ),
            loading_orders (
                order_no, driver_name, plate_number
            )
        `).order("created_at",{ascending:!1});if(e)throw e;return t},H9e=async t=>{const{error:e}=await je.from("warehouse_exit_items").delete().eq("warehouse_exit_id",t);if(e)throw e;const{error:n}=await je.from("warehouse_exits").delete().eq("id",t);if(n)throw n};function q9e(){const t=is(),[e,n]=C.useState([]),[r,s]=C.useState([]),[i,o]=C.useState(!0),[l,c]=C.useState(""),u=async()=>{o(!0);try{const p=await G9e();n(p),s(p)}catch(p){de.error("    "),console.error(p)}finally{o(!1)}};C.useEffect(()=>{u()},[]),C.useEffect(()=>{if(!l)s(e);else{const p=l.toLowerCase(),y=e.filter(_=>{var E,T,N;const b=_.driver_name||((E=_.loading_orders)==null?void 0:E.driver_name)||"",x=_.plate_number||((T=_.loading_orders)==null?void 0:T.plate_number)||"",w=((N=_.customers)==null?void 0:N.name)||"";return String(_.id).includes(p)||String(_.exit_no||"").includes(p)||b.includes(l)||x.includes(l)||w.includes(l)});s(y)}},[l,e]);const d=async p=>{if((await eC.fire({title:"  ",text:"        !",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"  ",cancelButtonText:""})).isConfirmed)try{await H9e(p),de.success("    ."),u()}catch{de.error("   .")}},f=p=>{window.open(`/exit/print/${p}`,"_blank")},m=p=>(p.total_fee||0)+(p.total_loading_fee||0)+(p.weighbridge_fee||0)+(p.extra_fee||0)+(p.vat_fee||0);return a.jsx("div",{className:"page-content",children:a.jsxs(An,{fluid:!0,children:[a.jsxs(pe,{className:"mb-3",children:[a.jsx(M,{sm:6,children:a.jsx("h4",{className:"font-size-18 fw-bold",children:"    "})}),a.jsx(M,{sm:6,className:"text-sm-end",children:a.jsxs(Ce,{to:"/exit/create",className:"btn btn-primary",children:[a.jsx("i",{className:"bx bx-plus me-1"}),"   "]})})]}),a.jsx(Ct,{children:a.jsx(At,{children:a.jsxs(pe,{className:"g-3",children:[a.jsx(M,{md:4,children:a.jsxs("div",{className:"search-box position-relative",children:[a.jsx(ie,{type:"text",className:"form-control rounded-pill ps-5",placeholder:" (  ...)",value:l,onChange:p=>c(p.target.value)}),a.jsx("i",{className:"bx bx-search position-absolute top-50 start-0 translate-middle-y ms-3 text-muted font-size-16"})]})}),a.jsx(M,{md:8,className:"text-end",children:a.jsx(_e,{color:"light",onClick:u,title:"",children:a.jsx("i",{className:`bx bx-refresh font-size-20 ${i?"bx-spin":""}`})})})]})})}),a.jsx(Ct,{children:a.jsx(At,{children:a.jsx("div",{className:"table-responsive",children:a.jsxs(Yn,{className:"table align-middle table-nowrap table-hover mb-0",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:" / "}),a.jsx("th",{children:" "}),a.jsx("th",{children:"  ()"}),a.jsx("th",{className:"text-center",children:""})]})}),a.jsx("tbody",{children:i?a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"text-center p-4",children:"  ..."})}):r.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"text-center p-4 text-muted",children:"  ."})}):r.map(p=>{var y,_,b;return a.jsxs("tr",{children:[a.jsxs("td",{className:"fw-bold text-primary",children:["#",p.id]}),a.jsx("td",{children:a.jsx(ct,{color:p.status==="final"?"success":"warning",className:"font-size-12 px-2 py-1",children:p.status==="final"?"":""})}),a.jsx("td",{children:new Date(p.exit_date).toLocaleDateString("fa-IR")}),a.jsxs("td",{children:[a.jsx("h5",{className:"font-size-13 mb-1",children:p.driver_name||((y=p.loading_orders)==null?void 0:y.driver_name)||"---"}),a.jsx("p",{className:"text-muted mb-0 font-size-12",dir:"ltr",children:p.plate_number||((_=p.loading_orders)==null?void 0:_.plate_number)||"---"})]}),a.jsx("td",{children:((b=p.customers)==null?void 0:b.name)||"---"}),a.jsx("td",{className:"fw-bold text-secondary",children:m(p).toLocaleString()}),a.jsx("td",{className:"text-center",children:a.jsxs("div",{className:"d-flex justify-content-center gap-2",children:[a.jsx(_e,{color:"soft-info",size:"sm",className:"btn-rounded",onClick:()=>{var x;return t(`/exit/create?orderNo=${((x=p.loading_orders)==null?void 0:x.order_no)||p.id}`)},id:`edit-${p.id}`,children:a.jsx("i",{className:`bx ${p.status==="final"?"bx-show":"bx-edit"} font-size-16`})}),a.jsx(_f,{target:`edit-${p.id}`,children:p.status==="final"?" ":" "}),a.jsx(_e,{color:"soft-primary",size:"sm",className:"btn-rounded",onClick:()=>f(p.id),id:`print-${p.id}`,children:a.jsx("i",{className:"bx bx-printer font-size-16"})}),a.jsx(_f,{target:`print-${p.id}`,children:" "}),a.jsx(_e,{color:"soft-danger",size:"sm",className:"btn-rounded",onClick:()=>d(p.id),id:`del-${p.id}`,children:a.jsx("i",{className:"bx bx-trash font-size-16"})}),a.jsx(_f,{target:`del-${p.id}`,children:" "})]})})]},p.id)})})]})})})})]})})}var Y9e=Object.defineProperty,tC=Object.getOwnPropertySymbols,Qee=Object.prototype.hasOwnProperty,Zee=Object.prototype.propertyIsEnumerable,C8=(t,e,n)=>e in t?Y9e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kL=(t,e)=>{for(var n in e||(e={}))Qee.call(e,n)&&C8(t,n,e[n]);if(tC)for(var n of tC(e))Zee.call(e,n)&&C8(t,n,e[n]);return t},OL=(t,e)=>{var n={};for(var r in t)Qee.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&tC)for(var r of tC(t))e.indexOf(r)<0&&Zee.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Mp;(t=>{const e=class Xn{constructor(c,u,d,f){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<Xn.MIN_VERSION||c>Xn.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let m=[];for(let y=0;y<this.size;y++)m.push(!1);for(let y=0;y<this.size;y++)this.modules.push(m.slice()),this.isFunction.push(m.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(d);if(this.drawCodewords(p),f==-1){let y=1e9;for(let _=0;_<8;_++){this.applyMask(_),this.drawFormatBits(_);const b=this.getPenaltyScore();b<y&&(f=_,y=b),this.applyMask(_)}}s(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(c,u){const d=t.QrSegment.makeSegments(c);return Xn.encodeSegments(d,u)}static encodeBinary(c,u){const d=t.QrSegment.makeBytes(c);return Xn.encodeSegments([d],u)}static encodeSegments(c,u,d=1,f=40,m=-1,p=!0){if(!(Xn.MIN_VERSION<=d&&d<=f&&f<=Xn.MAX_VERSION)||m<-1||m>7)throw new RangeError("Invalid value");let y,_;for(y=d;;y++){const E=Xn.getNumDataCodewords(y,u)*8,T=o.getTotalBits(c,y);if(T<=E){_=T;break}if(y>=f)throw new RangeError("Data too long")}for(const E of[Xn.Ecc.MEDIUM,Xn.Ecc.QUARTILE,Xn.Ecc.HIGH])p&&_<=Xn.getNumDataCodewords(y,E)*8&&(u=E);let b=[];for(const E of c){n(E.mode.modeBits,4,b),n(E.numChars,E.mode.numCharCountBits(y),b);for(const T of E.getData())b.push(T)}s(b.length==_);const x=Xn.getNumDataCodewords(y,u)*8;s(b.length<=x),n(0,Math.min(4,x-b.length),b),n(0,(8-b.length%8)%8,b),s(b.length%8==0);for(let E=236;b.length<x;E^=253)n(E,8,b);let w=[];for(;w.length*8<b.length;)w.push(0);return b.forEach((E,T)=>w[T>>>3]|=E<<7-(T&7)),new Xn(y,u,w,m)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let d=0;d<u;d++)for(let f=0;f<u;f++)d==0&&f==0||d==0&&f==u-1||d==u-1&&f==0||this.drawAlignmentPattern(c[d],c[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let d=u;for(let m=0;m<10;m++)d=d<<1^(d>>>9)*1335;const f=(u<<10|d)^21522;s(f>>>15==0);for(let m=0;m<=5;m++)this.setFunctionModule(8,m,r(f,m));this.setFunctionModule(8,7,r(f,6)),this.setFunctionModule(8,8,r(f,7)),this.setFunctionModule(7,8,r(f,8));for(let m=9;m<15;m++)this.setFunctionModule(14-m,8,r(f,m));for(let m=0;m<8;m++)this.setFunctionModule(this.size-1-m,8,r(f,m));for(let m=8;m<15;m++)this.setFunctionModule(8,this.size-15+m,r(f,m));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;s(u>>>18==0);for(let d=0;d<18;d++){const f=r(u,d),m=this.size-11+d%3,p=Math.floor(d/3);this.setFunctionModule(m,p,f),this.setFunctionModule(p,m,f)}}drawFinderPattern(c,u){for(let d=-4;d<=4;d++)for(let f=-4;f<=4;f++){const m=Math.max(Math.abs(f),Math.abs(d)),p=c+f,y=u+d;0<=p&&p<this.size&&0<=y&&y<this.size&&this.setFunctionModule(p,y,m!=2&&m!=4)}}drawAlignmentPattern(c,u){for(let d=-2;d<=2;d++)for(let f=-2;f<=2;f++)this.setFunctionModule(c+f,u+d,Math.max(Math.abs(f),Math.abs(d))!=1)}setFunctionModule(c,u,d){this.modules[u][c]=d,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,d=this.errorCorrectionLevel;if(c.length!=Xn.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const f=Xn.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],m=Xn.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],p=Math.floor(Xn.getNumRawDataModules(u)/8),y=f-p%f,_=Math.floor(p/f);let b=[];const x=Xn.reedSolomonComputeDivisor(m);for(let E=0,T=0;E<f;E++){let N=c.slice(T,T+_-m+(E<y?0:1));T+=N.length;const P=Xn.reedSolomonComputeRemainder(N,x);E<y&&N.push(0),b.push(N.concat(P))}let w=[];for(let E=0;E<b[0].length;E++)b.forEach((T,N)=>{(E!=_-m||N>=y)&&w.push(T[E])});return s(w.length==p),w}drawCodewords(c){if(c.length!=Math.floor(Xn.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let f=0;f<this.size;f++)for(let m=0;m<2;m++){const p=d-m,_=(d+1&2)==0?this.size-1-f:f;!this.isFunction[_][p]&&u<c.length*8&&(this.modules[_][p]=r(c[u>>>3],7-(u&7)),u++)}}s(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let f;switch(c){case 0:f=(d+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=d%3==0;break;case 3:f=(d+u)%3==0;break;case 4:f=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:f=d*u%2+d*u%3==0;break;case 6:f=(d*u%2+d*u%3)%2==0;break;case 7:f=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&f&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let c=0;for(let m=0;m<this.size;m++){let p=!1,y=0,_=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[m][b]==p?(y++,y==5?c+=Xn.PENALTY_N1:y>5&&c++):(this.finderPenaltyAddHistory(y,_),p||(c+=this.finderPenaltyCountPatterns(_)*Xn.PENALTY_N3),p=this.modules[m][b],y=1);c+=this.finderPenaltyTerminateAndCount(p,y,_)*Xn.PENALTY_N3}for(let m=0;m<this.size;m++){let p=!1,y=0,_=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[b][m]==p?(y++,y==5?c+=Xn.PENALTY_N1:y>5&&c++):(this.finderPenaltyAddHistory(y,_),p||(c+=this.finderPenaltyCountPatterns(_)*Xn.PENALTY_N3),p=this.modules[b][m],y=1);c+=this.finderPenaltyTerminateAndCount(p,y,_)*Xn.PENALTY_N3}for(let m=0;m<this.size-1;m++)for(let p=0;p<this.size-1;p++){const y=this.modules[m][p];y==this.modules[m][p+1]&&y==this.modules[m+1][p]&&y==this.modules[m+1][p+1]&&(c+=Xn.PENALTY_N2)}let u=0;for(const m of this.modules)u=m.reduce((p,y)=>p+(y?1:0),u);const d=this.size*this.size,f=Math.ceil(Math.abs(u*20-d*10)/d)-1;return s(0<=f&&f<=9),c+=f*Xn.PENALTY_N4,s(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let f=this.size-7;d.length<c;f-=u)d.splice(1,0,f);return d}}static getNumRawDataModules(c){if(c<Xn.MIN_VERSION||c>Xn.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;u-=(25*d-10)*d-55,c>=7&&(u-=36)}return s(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(Xn.getNumRawDataModules(c)/8)-Xn.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*Xn.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let f=0;f<c-1;f++)u.push(0);u.push(1);let d=1;for(let f=0;f<c;f++){for(let m=0;m<u.length;m++)u[m]=Xn.reedSolomonMultiply(u[m],d),m+1<u.length&&(u[m]^=u[m+1]);d=Xn.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(c,u){let d=u.map(f=>0);for(const f of c){const m=f^d.shift();d.push(0),u.forEach((p,y)=>d[y]^=Xn.reedSolomonMultiply(p,m))}return d}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let f=7;f>=0;f--)d=d<<1^(d>>>7)*285,d^=(u>>>f&1)*c;return s(d>>>8==0),d}finderPenaltyCountPatterns(c){const u=c[1];s(u<=this.size*3);const d=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(d&&c[0]>=u*4&&c[6]>=u?1:0)+(d&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,d){return c&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function r(l,c){return(l>>>c&1)!=0}function s(l){if(!l)throw new Error("Assertion error")}const i=class Ms{constructor(c,u,d){if(this.mode=c,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let u=[];for(const d of c)n(d,8,u);return new Ms(Ms.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!Ms.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<c.length;){const f=Math.min(c.length-d,3);n(parseInt(c.substring(d,d+f),10),f*3+1,u),d+=f}return new Ms(Ms.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!Ms.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=c.length;d+=2){let f=Ms.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;f+=Ms.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),n(f,11,u)}return d<c.length&&n(Ms.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,u),new Ms(Ms.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:Ms.isNumeric(c)?[Ms.makeNumeric(c)]:Ms.isAlphanumeric(c)?[Ms.makeAlphanumeric(c)]:[Ms.makeBytes(Ms.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,u);else if(c<16384)n(2,2,u),n(c,14,u);else if(c<1e6)n(6,3,u),n(c,21,u);else throw new RangeError("ECI assignment value out of range");return new Ms(Ms.Mode.ECI,0,u)}static isNumeric(c){return Ms.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return Ms.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let d=0;for(const f of c){const m=f.mode.numCharCountBits(u);if(f.numChars>=1<<m)return 1/0;d+=4+m+f.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?u.push(c.charCodeAt(d)):(u.push(parseInt(c.substring(d+1,d+3),16)),d+=2);return u}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=i;t.QrSegment=i})(Mp||(Mp={}));(t=>{(e=>{const n=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Mp||(Mp={}));(t=>{(e=>{const n=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Mp||(Mp={}));var Wy=Mp;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var K9e={L:Wy.QrCode.Ecc.LOW,M:Wy.QrCode.Ecc.MEDIUM,Q:Wy.QrCode.Ecc.QUARTILE,H:Wy.QrCode.Ecc.HIGH},Xee=128,ete="L",tte="#FFFFFF",nte="#000000",rte=!1,ste=1,J9e=4,Q9e=0,Z9e=.1;function ite(t,e=0){const n=[];return t.forEach(function(r,s){let i=null;r.forEach(function(o,l){if(!o&&i!==null){n.push(`M${i+e} ${s+e}h${l-i}v1H${i+e}z`),i=null;return}if(l===r.length-1){if(!o)return;i===null?n.push(`M${l+e},${s+e} h1v1H${l+e}z`):n.push(`M${i+e},${s+e} h${l+1-i}v1H${i+e}z`);return}o&&i===null&&(i=l)})}),n.join("")}function ate(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((s,i)=>i<e.x||i>=e.x+e.w?s:!1))}function X9e(t,e,n,r){if(r==null)return null;const s=t.length+n*2,i=Math.floor(e*Z9e),o=s/e,l=(r.width||i)*o,c=(r.height||i)*o,u=r.x==null?t.length/2-l/2:r.x*o,d=r.y==null?t.length/2-c/2:r.y*o,f=r.opacity==null?1:r.opacity;let m=null;if(r.excavate){let y=Math.floor(u),_=Math.floor(d),b=Math.ceil(l+u-y),x=Math.ceil(c+d-_);m={x:y,y:_,w:b,h:x}}const p=r.crossOrigin;return{x:u,y:d,h:c,w:l,excavation:m,opacity:f,crossOrigin:p}}function e8e(t,e){return e!=null?Math.max(Math.floor(e),0):t?J9e:Q9e}function ote({value:t,level:e,minVersion:n,includeMargin:r,marginSize:s,imageSettings:i,size:o,boostLevel:l}){let c=ae.useMemo(()=>{const y=(Array.isArray(t)?t:[t]).reduce((_,b)=>(_.push(...Wy.QrSegment.makeSegments(b)),_),[]);return Wy.QrCode.encodeSegments(y,K9e[e],n,void 0,void 0,l)},[t,e,n,l]);const{cells:u,margin:d,numCells:f,calculatedImageSettings:m}=ae.useMemo(()=>{let p=c.getModules();const y=e8e(r,s),_=p.length+y*2,b=X9e(p,o,y,i);return{cells:p,margin:y,numCells:_,calculatedImageSettings:b}},[c,o,i,r,s]);return{qrcode:c,margin:d,cells:u,numCells:f,calculatedImageSettings:m}}var t8e=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),n8e=ae.forwardRef(function(e,n){const r=e,{value:s,size:i=Xee,level:o=ete,bgColor:l=tte,fgColor:c=nte,includeMargin:u=rte,minVersion:d=ste,boostLevel:f,marginSize:m,imageSettings:p}=r,_=OL(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:b}=_,x=OL(_,["style"]),w=p==null?void 0:p.src,E=ae.useRef(null),T=ae.useRef(null),N=ae.useCallback(W=>{E.current=W,typeof n=="function"?n(W):n&&(n.current=W)},[n]),[P,D]=ae.useState(!1),{margin:F,cells:Y,numCells:q,calculatedImageSettings:B}=ote({value:s,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:m,imageSettings:p,size:i});ae.useEffect(()=>{if(E.current!=null){const W=E.current,z=W.getContext("2d");if(!z)return;let Z=Y;const X=T.current,ne=B!=null&&X!==null&&X.complete&&X.naturalHeight!==0&&X.naturalWidth!==0;ne&&B.excavation!=null&&(Z=ate(Y,B.excavation));const le=window.devicePixelRatio||1;W.height=W.width=i*le;const ge=i/q*le;z.scale(ge,ge),z.fillStyle=l,z.fillRect(0,0,q,q),z.fillStyle=c,t8e?z.fill(new Path2D(ite(Z,F))):Y.forEach(function(Ue,Ie){Ue.forEach(function(ot,it){ot&&z.fillRect(it+F,Ie+F,1,1)})}),B&&(z.globalAlpha=B.opacity),ne&&z.drawImage(X,B.x+F,B.y+F,B.w,B.h)}}),ae.useEffect(()=>{D(!1)},[w]);const G=kL({height:i,width:i},b);let J=null;return w!=null&&(J=ae.createElement("img",{src:w,key:w,style:{display:"none"},onLoad:()=>{D(!0)},ref:T,crossOrigin:B==null?void 0:B.crossOrigin})),ae.createElement(ae.Fragment,null,ae.createElement("canvas",kL({style:G,height:i,width:i,ref:N,role:"img"},x)),J)});n8e.displayName="QRCodeCanvas";var E4=ae.forwardRef(function(e,n){const r=e,{value:s,size:i=Xee,level:o=ete,bgColor:l=tte,fgColor:c=nte,includeMargin:u=rte,minVersion:d=ste,boostLevel:f,title:m,marginSize:p,imageSettings:y}=r,_=OL(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:b,cells:x,numCells:w,calculatedImageSettings:E}=ote({value:s,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:p,imageSettings:y,size:i});let T=x,N=null;y!=null&&E!=null&&(E.excavation!=null&&(T=ate(x,E.excavation)),N=ae.createElement("image",{href:y.src,height:E.h,width:E.w,x:E.x+b,y:E.y+b,preserveAspectRatio:"none",opacity:E.opacity,crossOrigin:E.crossOrigin}));const P=ite(T,b);return ae.createElement("svg",kL({height:i,width:i,viewBox:`0 0 ${w} ${w}`,ref:n,role:"img"},_),!!m&&ae.createElement("title",null,m),ae.createElement("path",{fill:l,d:`M0,0 h${w}v${w}H0z`,shapeRendering:"crispEdges"}),ae.createElement("path",{fill:c,d:P,shapeRendering:"crispEdges"}),N)});E4.displayName="QRCodeSVG";const r8e=({plateData:t})=>{if(!t)return a.jsx("span",{className:"text-muted",children:"-"});const{left2:e,iranRight:n,mid3:r,middle3:s,letter:i,right2:o}=t,l=e||"",c=r||s||"",u=i||"",d=o||"",f=n||"";return l&&l.trim()||c&&c.trim()||u&&u.trim()||d&&d.trim()?a.jsx("div",{className:"iranian-plate",children:a.jsxs("div",{className:"plate-container",children:[a.jsx("div",{className:"plate-section plate-right",children:a.jsxs("div",{className:"iran-section",children:[a.jsx("div",{className:"iran-flag"}),a.jsx("div",{className:"iran-text",children:f})]})}),a.jsx("div",{className:"plate-section plate-middle",children:a.jsx("span",{className:"plate-number",children:c||"000"})}),a.jsx("div",{className:"plate-section plate-letter",children:a.jsx("span",{className:"plate-char",children:u||""})}),a.jsx("div",{className:"plate-section plate-left",children:a.jsx("span",{className:"plate-number",children:l||"00"})})]})}):a.jsx("span",{className:"text-muted",children:"-"})};function s8e(){const[t]=Wbe(),[e,n]=C.useState(""),[r,s]=C.useState(!1),[i,o]=C.useState(null),[l,c]=C.useState([]),[u,d]=C.useState(null),[f,m]=C.useState(!1),[p,y]=C.useState(null),[_,b]=C.useState(!0),[x,w]=C.useState([]),[E,T]=C.useState([]),[N,P]=C.useState(""),[D,F]=C.useState(new Date().toISOString().slice(0,10)),[Y,q]=C.useState(""),[B,G]=C.useState(""),[J,W]=C.useState(0),[z,Z]=C.useState(0),[X,ne]=C.useState(""),[le,ge]=C.useState("credit");C.useEffect(()=>{(async()=>{try{const{data:We,error:Qt}=await je.from("treasury_pos").select("id, title, terminal_id, tafsili_id, treasury_banks(id, bank_name, account_no)").order("id",{ascending:!1}),{data:Oe,error:lt}=await je.from("treasury_cashes").select("id, title, tafsili_id").order("id",{ascending:!1});Qt&&console.error("Error fetching POS:",Qt),lt&&console.error("Error fetching cashes:",lt);const ve=(We||[]).map(A=>A.tafsili_id).filter(Boolean),K=(Oe||[]).map(A=>A.tafsili_id).filter(Boolean),te=[...ve,...K];let Q={};if(te.length>0){const{data:A,error:$}=await je.from("financial_entries").select("tafsili_id, bed, bes").in("tafsili_id",te);!$&&A&&A.forEach(re=>{const ue=re.tafsili_id;Q[ue]||(Q[ue]=0),Q[ue]+=(Number(re.bed)||0)-(Number(re.bes)||0)})}const me=(We||[]).map(A=>{var $;return{id:A.tafsili_id,name:A.title||(($=A.treasury_banks)==null?void 0:$.bank_name)+" - "+A.terminal_id,balance:Q[A.tafsili_id]||0,pos_id:A.id}}).filter(A=>A.id),ye=(Oe||[]).map(A=>({id:A.tafsili_id,name:A.title,balance:Q[A.tafsili_id]||0,cash_id:A.id})).filter(A=>A.id);w(me),T(ye),console.log("POS Banks with balance:",me),console.log("Cash Registers with balance:",ye)}catch(We){console.error("Error fetching treasury data:",We)}})()},[]);const Ue=()=>{setTimeout(()=>{window.print()},100)},Ie=()=>{de.info("      ..."),setTimeout(()=>de.success("  ."),2e3)},ot=()=>{de.info("      ..."),setTimeout(()=>de.success("    ."),2e3)},it=C.useCallback(async xe=>{s(!0),y(null),d(null),m(!1),o(null),c([]);try{const We=await B9e(xe);if(!We)throw new Error("     .");o({loading_id:We.loading_id,orderNo:We.order_no,driver:We.driver_name,plate:We.plate_number,customer:We.customer_name,customer_id:We.customer_id}),We.is_processed?(d(We.exit_id),G(We.driver_national_code||""),W(We.weighbridge_fee||0),Z(We.extra_fee||0),ne(We.extra_description||""),ge(We.payment_method||"credit"),We.financial_account_id&&P(We.financial_account_id),q(We.reference_no||""),We.exit_date&&F(We.exit_date),c(We.items),We.status==="final"?(m(!0),y(`    ${We.exit_id}`)):(m(!1),y(`    ${We.exit_id}`))):(d(null),m(!1),y(null),c(We.items),G(""),W(0),Z(0),q(""),P(""))}catch(We){console.error(We),de.error(We.message||"   .")}finally{s(!1)}},[]),Te=()=>{if(!e||String(e).trim()==="")return de.warn("   .");it(e)},St=xe=>{xe.key==="Enter"&&(xe.preventDefault(),Te())};C.useEffect(()=>{const xe=t.get("orderNo");xe&&(n(xe),it(xe))},[t,it]);const ut=xe=>{if(!xe)return null;const We=xe.split("-");return We.length===4?{iranRight:We[0],mid3:We[1],letter:We[2],left2:We[3]}:null},ft=(xe,We)=>{if(!xe||!We)return{months:1,days:0};const Qt=new Date(xe),lt=new Date(We)-Qt,ve=Math.ceil(lt/(1e3*60*60*24)),K=ve>=0?ve:0;let te=1;return K>30&&(te=Math.ceil(K/30)),{months:te,days:K}},gt=C.useMemo(()=>l.map(xe=>{const We=Number(xe.weight_full)||0,Qt=Number(xe.weight_empty)||0,Oe=We>=Qt?We-Qt:0;let lt=xe.fee_type==="quantity"?Number(xe.qty)||0:Oe,ve=1,K={months:1,days:0};return _&&xe.entry_date&&(K=ft(xe.entry_date,D),ve=K.months),{...xe,weight_net:Oe,row_storage_fee:lt*(Number(xe.base_storage_rate)||0)*ve,row_loading_fee:lt*(Number(xe.base_loading_rate)||0),months_duration:K.months,days_duration:K.days,cleared_weight:Number(xe.cleared_weight)||0}}),[l,D,_]),qt=(xe,We,Qt)=>{if(f)return;const Oe=[...l];Oe[xe][We]=Number(Qt)||0,c(Oe)},It=C.useMemo(()=>{const xe=gt.reduce((lt,ve)=>lt+(Number(ve.row_storage_fee)||0),0),We=gt.reduce((lt,ve)=>lt+(Number(ve.row_loading_fee)||0),0),Qt=xe+We+Number(J)+Number(z),Oe=Qt*.1;return{totalStorage:xe,totalLoading:We,subTotal:Qt,vatAmount:Oe,grandTotal:Qt+Oe}},[gt,J,z]),zt=async xe=>{var We,Qt;if(!(!i||f)){if(!B)return de.error("    .");if(xe==="final"){if(le==="pos"&&!N)return de.error("        .");if(le==="cash"&&!N)return de.error("      .")}s(!0);try{const Oe=gt.map((te,Q)=>{const me=te.item_id||te.id;if(!me)throw new Error(`    ${Q+1}  .`);return{item_id:me,weight_full:Number(te.weight_full)||0,weight_empty:Number(te.weight_empty)||0,weight_net:Number(te.weight_net)||0,qty:Number(te.qty)||0,fee_type:te.fee_type||"weight",base_storage_rate:Number(te.base_storage_rate)||0,row_storage_fee:Number(te.row_storage_fee)||0,row_loading_fee:Number(te.row_loading_fee)||0}}),lt={loading_order_id:i.loading_id,owner_id:i.customer_id,driver_name:i.driver,plate_number:i.plate,driver_national_code:B,exit_date:D,reference_no:Y,status:xe,weighbridge_fee:Number(J),extra_fee:Number(z),extra_description:X,vat_fee:It.vatAmount,total_fee:It.totalStorage,total_loading_fee:It.totalLoading,payment_method:le,financial_account_id:le==="pos"||le==="cash"?N:null,items:Oe},ve=await z9e(lt),K=(ve==null?void 0:ve.id)||((We=ve==null?void 0:ve.data)==null?void 0:We.id)||Array.isArray(ve)&&((Qt=ve[0])==null?void 0:Qt.id);if(!K)throw new Error("     (ID)  .");if(d(K),xe==="final")try{const te=await KDe(K);te&&te.status==="success"?de.success(`       ${te.doc_no}  .`):de.warning("       : "+((te==null?void 0:te.message)||"")),m(!0),y(`    ${K}`)}catch(te){console.error(te),de.warning("          ."),m(!0)}else de.success("    ."),y(`    ${K}`)}catch(Oe){console.error(Oe),de.error("  : "+(Oe.message||" "))}finally{s(!1)}}},en=typeof window<"u"?`${window.location.origin}/exit/view/${u||0}`:"";return a.jsxs("div",{className:"page-content",children:[a.jsx("style",{children:`
                @media screen {
                    .print-only-section { display: none !important; }
                }
                @media print {
                    @page { size: auto; margin: 5mm; }
                    body * { visibility: hidden; }
                    .page-content, .navbar, .sidebar, .footer { display: none !important; }
                    
                    .print-only-section, .print-only-section * { visibility: visible !important; }
                    
                    .print-only-section {
                        display: block !important;
                        position: absolute;
                        left: 0;
                        top: 0;
                        width: 100%;
                        background-color: white;
                        z-index: 99999;
                        padding: 10px;
                        font-size: 10px;
                        direction: rtl;
                    }

                    .print-container-frame {
                        display: flex;
                        flex-direction: column;
                        border: 2px solid #000 !important;
                        border-radius: 8px;
                        padding: 10px;
                        background: white;
                    }
                    
                    .print-table td, .print-table th { 
                        padding: 3px !important; 
                        white-space: nowrap;
                    }
                }
            `}),a.jsx("div",{className:"print-only-section",style:{direction:"rtl",fontFamily:"Tahoma, Arial"},children:i?a.jsxs("div",{className:"print-container-frame",children:[a.jsxs("div",{children:[a.jsxs("header",{className:"d-flex justify-content-between align-items-center border-bottom border-dark pb-2 mb-2",children:[a.jsx("div",{style:{width:"80px"},children:a.jsx(E4,{value:en,size:70})}),a.jsxs("div",{className:"text-center flex-grow-1",children:[a.jsx("h3",{className:"fw-bold m-0",style:{fontSize:"16px"},children:"    "}),a.jsx("h5",{className:"text-secondary mt-1",style:{fontSize:"11px"},children:"     "})]}),a.jsxs("div",{className:"text-start",style:{minWidth:"140px",fontSize:"10px"},children:[a.jsxs("div",{className:"mb-1",children:[" : ",a.jsx("span",{className:"fw-bold font-size-12",children:u||"---"})]}),a.jsxs("div",{children:[": ",a.jsx("span",{className:"fw-bold",children:new Date(D).toLocaleDateString("fa-IR")})]})]})]}),a.jsx("section",{className:"border border-secondary rounded p-2 mb-2 bg-light",style:{fontSize:"11px"},children:a.jsxs("div",{className:"row g-1",children:[a.jsxs("div",{className:"col-4 d-flex",children:[a.jsx("span",{className:"text-muted ms-2",children:" :"}),a.jsx("span",{className:"fw-bold",children:i.customer})]}),a.jsxs("div",{className:"col-4 d-flex",children:[a.jsx("span",{className:"text-muted ms-2",children:" :"}),a.jsx("span",{className:"fw-bold",children:i.driver})]}),a.jsxs("div",{className:"col-4 d-flex",children:[a.jsx("span",{className:"text-muted ms-2",children:" :"}),a.jsx("span",{className:"fw-bold",children:B})]}),a.jsxs("div",{className:"col-4 d-flex",children:[a.jsx("span",{className:"text-muted ms-2",children:":"}),a.jsx("span",{className:"fw-bold",dir:"ltr",children:i.plate})]}),a.jsxs("div",{className:"col-4 d-flex",children:[a.jsx("span",{className:"text-muted ms-2",children:" :"}),a.jsx("span",{className:"fw-bold",children:i.orderNo})]}),a.jsxs("div",{className:"col-4 d-flex",children:[a.jsx("span",{className:"text-muted ms-2",children:" :"}),a.jsx("span",{className:"fw-bold",children:Y})]})]})}),a.jsx("section",{className:"mb-2",children:a.jsxs("table",{className:"table table-bordered border-dark table-sm text-center align-middle w-100 print-table",children:[a.jsx("thead",{className:"table-secondary border-dark",children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"5%"},children:"#"}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),_&&a.jsx("th",{children:""}),_&&a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "})]})}),a.jsx("tbody",{children:gt.map((xe,We)=>{const Qt=(xe.weight_net||0)-(xe.cleared_weight||0);return a.jsxs("tr",{children:[a.jsx("td",{children:We+1}),a.jsx("td",{className:"text-start fw-bold text-truncate",style:{maxWidth:"150px"},children:xe.product_name}),a.jsx("td",{className:"font-monospace",dir:"ltr",children:xe.batch_no||"-"}),a.jsx("td",{children:xe.qty}),_&&a.jsx("td",{children:xe.entry_date?new Date(xe.entry_date).toLocaleDateString("fa-IR"):"-"}),_&&a.jsxs("td",{children:[xe.months_duration," "]}),a.jsx("td",{className:"fw-bold",children:Number(xe.weight_net).toLocaleString()}),a.jsx("td",{children:Number(xe.cleared_weight).toLocaleString()}),a.jsx("td",{dir:"ltr",className:Qt!==0?"fw-bold":"",children:Qt>0?`+${Qt}`:Qt}),a.jsx("td",{children:Number(xe.base_storage_rate).toLocaleString()}),a.jsx("td",{className:"fw-bold",children:Number(xe.row_storage_fee).toLocaleString()})]},We)})})]})})]}),a.jsxs("div",{children:[a.jsxs("footer",{className:"row g-0 mt-0",children:[a.jsxs("div",{className:"col-7 pe-2 d-flex flex-column justify-content-between",children:[a.jsxs("div",{style:{fontSize:"10px"},className:"mb-1",children:[a.jsx("span",{className:"fw-bold",children:" :"}),a.jsx("span",{className:"border border-dark px-1 rounded ms-1",children:le==="credit"?"":le==="pos"?"":""}),X&&a.jsxs("span",{className:"ms-2 text-muted",children:["(",X,")"]})]}),a.jsxs("div",{className:"d-flex justify-content-around align-items-end mt-2",style:{fontSize:"10px"},children:[a.jsxs("div",{className:"text-center w-25",children:[a.jsx("p",{className:"mb-3 fw-bold",children:""}),a.jsx("div",{className:"border-bottom border-dark"})]}),a.jsxs("div",{className:"text-center w-25",children:[a.jsx("p",{className:"mb-3 fw-bold",children:""}),a.jsx("div",{className:"border-bottom border-dark"})]}),a.jsxs("div",{className:"text-center w-25",children:[a.jsx("p",{className:"mb-3 fw-bold",children:""}),a.jsx("div",{className:"border-bottom border-dark"})]})]})]}),a.jsx("div",{className:"col-5",children:a.jsx("div",{className:"border border-dark rounded overflow-hidden",children:a.jsx("table",{className:"table table-sm table-borderless mb-0",style:{fontSize:"10px"},children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"text-muted py-0",children:" :"}),a.jsx("td",{className:"text-end fw-bold py-0",children:Number(It.totalStorage).toLocaleString()})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-muted py-0",children:" :"}),a.jsx("td",{className:"text-end fw-bold py-0",children:Number(It.totalLoading).toLocaleString()})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-muted py-0",children:":"}),a.jsx("td",{className:"text-end fw-bold py-0",children:Number(Number(J)+Number(z)).toLocaleString()})]}),a.jsxs("tr",{className:"border-top border-dark",children:[a.jsx("td",{className:"text-danger py-0",children:" (10%):"}),a.jsx("td",{className:"text-end text-danger fw-bold py-0",children:Number(It.vatAmount).toLocaleString()})]}),a.jsxs("tr",{className:"bg-dark text-white",children:[a.jsx("td",{className:"py-1",children:" :"}),a.jsx("td",{className:"text-end py-1 fw-bold",style:{fontSize:"12px"},children:Number(It.grandTotal).toLocaleString()})]})]})})})})]}),a.jsx("div",{className:"text-center mt-2 border-top pt-1 text-muted",style:{fontSize:"9px"},children:"             ."})]})]}):a.jsx("div",{className:"text-center mt-5",children:"    ."})}),a.jsxs(An,{fluid:!0,className:"screen-content d-print-none pb-5",children:[a.jsx("div",{className:"d-print-none",children:a.jsx(pe,{children:a.jsx(M,{xs:12,children:a.jsx("h4",{className:"mb-4 font-size-18 fw-bold",children:"   "})})})}),a.jsx(Ct,{className:"mb-3 shadow-sm border-0 d-print-none",children:a.jsx(At,{children:a.jsxs(pe,{className:"align-items-center gy-3",children:[a.jsx(M,{md:5,xs:12,children:a.jsxs(Pv,{className:"shadow-sm",children:[a.jsx(ie,{className:"text-center fw-bold font-size-16",value:e,onChange:xe=>n(xe.target.value),onKeyDown:St,placeholder:"   ..."}),a.jsx(_e,{color:"primary",onClick:Te,disabled:r,className:"px-4",children:r?a.jsx("i",{className:"bx bx-loader bx-spin"}):a.jsx("i",{className:"bx bx-search-alt"})})]})}),a.jsx(M,{md:7,xs:12,className:"d-flex justify-content-md-end justify-content-center",children:a.jsxs("div",{className:"d-flex align-items-center gap-2 p-2 px-3 rounded border shadow-sm bg-white",children:[a.jsx("span",{className:`fw-bold font-size-13 cursor-pointer ${_?"text-muted":"text-danger"}`,onClick:()=>b(!1),children:""}),a.jsx("div",{onClick:()=>b(!_),style:{width:"50px",height:"26px",borderRadius:"13px",backgroundColor:_?"#0d6efd":"#dc3545",cursor:"pointer",position:"relative"},children:a.jsx("div",{style:{width:"22px",height:"22px",borderRadius:"50%",backgroundColor:"white",position:"absolute",top:"2px",left:_?"26px":"2px",transition:"left 0.2s",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"}})}),a.jsx("span",{className:`fw-bold font-size-13 cursor-pointer ${_?"text-primary":"text-muted"}`,onClick:()=>b(!0),children:" ()"})]})})]})})}),p&&a.jsxs(tr,{color:f?"success":"info",className:"fw-bold shadow-sm d-print-none",children:[a.jsx("i",{className:`bx ${f?"bx-lock-alt":"bx-edit"} font-size-18 align-middle me-2`}),p]}),i&&a.jsxs("div",{className:"animate__animated animate__fadeIn",children:[a.jsx(Ct,{className:"shadow-sm border-0 mb-3",children:a.jsxs(At,{children:[a.jsx(Rd,{className:"h5 mb-4 text-primary border-bottom pb-2",children:".    "}),a.jsxs(pe,{className:"gy-4",children:[a.jsxs(M,{md:3,children:[a.jsx(ee,{className:"fw-bold text-muted font-size-13",children:" "}),a.jsx("div",{style:{direction:"rtl"},children:a.jsx(pi,{value:D,onChange:xe=>F(xe.toDate().toISOString().slice(0,10)),disabled:f})})]}),a.jsxs(M,{md:3,children:[a.jsx(ee,{className:"fw-bold text-muted font-size-13",children:"  / "}),a.jsx(ie,{value:Y,onChange:xe=>q(xe.target.value),disabled:f})]}),a.jsxs(M,{md:3,children:[a.jsx(ee,{className:"fw-bold text-muted font-size-13",children:" "}),a.jsx(ie,{value:i.driver,disabled:!0,className:"bg-light"})]}),a.jsxs(M,{md:3,children:[a.jsx(ee,{className:"fw-bold text-danger font-size-13",children:"   *"}),a.jsx(ie,{value:B,onChange:xe=>G(xe.target.value),disabled:f})]}),a.jsxs(M,{md:3,children:[a.jsx(ee,{className:"fw-bold text-muted font-size-13",children:" "}),a.jsx("div",{className:"d-flex align-items-center justify-content-center",style:{minHeight:"45px"},children:ut(i.plate)?a.jsx("div",{style:{transform:"scale(0.85)",transformOrigin:"center"},children:a.jsx(r8e,{plateData:ut(i.plate)})}):a.jsx("div",{className:"form-control bg-light text-center fw-bold",children:i.plate||"---"})})]}),a.jsxs(M,{md:3,children:[a.jsx(ee,{className:"fw-bold text-muted font-size-13",children:" "}),a.jsx(ie,{value:i.customer,disabled:!0,className:"bg-light"})]})]})]})}),a.jsx(Ct,{className:"shadow-sm border-0 mb-3",children:a.jsxs(At,{children:[a.jsx(Rd,{className:"h5 mb-4 text-primary border-bottom pb-2",children:".     "}),a.jsx("div",{className:"table-responsive",children:a.jsxs(Yn,{bordered:!0,hover:!0,className:"text-center align-middle table-nowrap mb-0 table-sm",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"50px"},children:"#"}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:"  ()"}),a.jsx("th",{style:{width:"80px"},children:""}),_&&a.jsx("th",{className:"bg-soft-info text-dark",style:{width:"130px"},children:" "}),a.jsx("th",{className:"bg-soft-primary text-primary",style:{width:"110px"},children:"  (kg)"}),a.jsx("th",{className:"bg-soft-primary text-primary",style:{width:"110px"},children:"  (kg)"}),a.jsx("th",{className:"bg-soft-warning text-dark",style:{width:"120px"},children:" "}),a.jsx("th",{style:{width:"120px"},children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:" "})]})}),a.jsx("tbody",{children:gt.map((xe,We)=>{const Qt=(xe.weight_net||0)-(xe.cleared_weight||0);return a.jsxs("tr",{children:[a.jsx("td",{children:We+1}),a.jsxs("td",{className:"text-start",children:[a.jsx("div",{className:"fw-bold font-size-14 text-dark",children:xe.product_name}),a.jsxs("div",{className:"text-muted font-size-11",children:["Batch: ",xe.batch_no]})]}),a.jsx("td",{children:a.jsx(ct,{className:"font-size-11 p-2 badge-soft-"+(xe.fee_type==="quantity"?"info":"secondary"),children:xe.fee_type==="quantity"?"":""})}),a.jsx("td",{className:"text-muted font-size-13",children:Number(xe.base_storage_rate).toLocaleString()}),a.jsx("td",{children:a.jsx(ie,{type:"number",bsSize:"sm",className:"text-center fw-bold",value:xe.qty||"",onChange:Oe=>qt(We,"qty",Oe.target.value),disabled:f,style:{width:"60px",margin:"0 auto"}})}),_&&a.jsx("td",{className:"bg-soft-info",children:a.jsxs("div",{className:"fw-bold text-dark",children:[xe.months_duration," "]})}),a.jsx("td",{children:a.jsx(ie,{type:"number",bsSize:"sm",className:"text-center fw-bold",value:xe.weight_full||"",onChange:Oe=>qt(We,"weight_full",Oe.target.value),disabled:f})}),a.jsx("td",{children:a.jsx(ie,{type:"number",bsSize:"sm",className:"text-center fw-bold",value:xe.weight_empty||"",onChange:Oe=>qt(We,"weight_empty",Oe.target.value),disabled:f})}),a.jsx("td",{className:"fw-bold bg-soft-warning font-size-15",children:Number(xe.weight_net).toLocaleString()}),a.jsx("td",{className:"fw-bold text-secondary font-size-14",children:Number(xe.cleared_weight).toLocaleString()}),a.jsx("td",{dir:"ltr",children:Qt!==0?a.jsx(ct,{color:Qt>0?"danger":"success",className:"font-size-12",children:Qt>0?`+${Qt}`:Qt}):a.jsx("span",{className:"text-muted",children:"-"})}),a.jsx("td",{className:"fw-bold text-success font-size-14 bg-light",children:Number(xe.row_storage_fee).toLocaleString()})]},We)})})]})})]})}),a.jsxs(pe,{children:[a.jsx(M,{lg:8,children:a.jsx(Ct,{className:"shadow-sm border-0 h-100",children:a.jsxs(At,{children:[a.jsx(Rd,{className:"h5 mb-4 text-primary border-bottom pb-2",children:".    "}),a.jsxs(pe,{className:"gy-3 mb-4",children:[a.jsxs(M,{md:4,children:[a.jsx(ee,{className:"text-muted",children:" "}),a.jsx(ie,{type:"number",value:J,onChange:xe=>W(xe.target.value),disabled:f})]}),a.jsxs(M,{md:4,children:[a.jsx(ee,{className:"text-muted",children:" "}),a.jsx(ie,{type:"number",value:z,onChange:xe=>Z(xe.target.value),disabled:f})]}),a.jsxs(M,{md:4,children:[a.jsx(ee,{className:"text-muted",children:" "}),a.jsx(ie,{value:X,onChange:xe=>ne(xe.target.value),disabled:f})]})]}),a.jsxs("div",{className:"bg-light p-3 rounded border",children:[a.jsx(ee,{className:"fw-bold mb-3 d-block text-dark",children:"  :"}),a.jsxs(pe,{children:[a.jsx(M,{md:6,children:a.jsx("div",{className:"d-flex flex-wrap gap-4 mb-3",children:["credit","pos","cash"].map(xe=>a.jsxs("div",{className:"form-check cursor-pointer",onClick:()=>!f&&ge(xe),children:[a.jsx(ie,{type:"radio",className:"form-check-input",checked:le===xe,onChange:()=>{},disabled:f}),a.jsx(ee,{className:"form-check-label fw-bold ms-1 cursor-pointer text-dark",children:xe==="credit"?" ( )":xe==="pos"?" ()":" ()"})]},xe))})}),a.jsxs(M,{md:6,children:[le==="pos"&&a.jsxs("div",{className:"animate__animated animate__fadeIn",children:[a.jsx(ee,{className:"font-size-12 fw-bold text-primary",children:"    :"}),a.jsxs(ie,{type:"select",value:N,onChange:xe=>P(xe.target.value),disabled:f,className:"shadow-sm",children:[a.jsx("option",{value:"",children:"--   --"}),x.map(xe=>a.jsxs("option",{value:xe.id,children:[xe.name," (: ",Number(xe.balance).toLocaleString(),")"]},xe.id))]})]}),le==="cash"&&a.jsxs("div",{className:"animate__animated animate__fadeIn",children:[a.jsx(ee,{className:"font-size-12 fw-bold text-success",children:"   :"}),a.jsxs(ie,{type:"select",value:N,onChange:xe=>P(xe.target.value),disabled:f,className:"shadow-sm",children:[a.jsx("option",{value:"",children:"--   --"}),E.map(xe=>a.jsxs("option",{value:xe.id,children:[xe.name," (: ",Number(xe.balance).toLocaleString(),")"]},xe.id))]})]})]})]})]})]})})}),a.jsx(M,{lg:4,children:a.jsx(Ct,{className:"border-0 shadow-lg h-100",children:a.jsxs(At,{className:"p-4 d-flex flex-column justify-content-between",children:[a.jsxs("div",{children:[a.jsx(Rd,{className:"h5 mb-4 text-center fw-bold",children:" "}),a.jsx("div",{className:"table-responsive",children:a.jsx("table",{className:"table table-borderless table-sm mb-0",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"text-muted",children:" :"}),a.jsx("td",{className:"text-end fw-bold font-size-14",children:Number(It.totalStorage).toLocaleString()})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-muted",children:" :"}),a.jsx("td",{className:"text-end fw-bold font-size-14",children:Number(It.totalLoading).toLocaleString()})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-muted",children:"  :"}),a.jsx("td",{className:"text-end fw-bold font-size-14",children:Number(Number(J)+Number(z)).toLocaleString()})]}),a.jsxs("tr",{className:"border-top border-bottom",children:[a.jsx("td",{className:"py-2 text-danger",children:"   (10%):"}),a.jsx("td",{className:"text-end fw-bold py-2 text-danger",children:Number(It.vatAmount).toLocaleString()})]}),a.jsxs("tr",{className:"font-size-18 bg-soft-primary",children:[a.jsx("td",{className:"pt-3 text-primary fw-bold ps-2",children:" :"}),a.jsxs("td",{className:"text-end pt-3 text-primary fw-bold pe-2",children:[Number(It.grandTotal).toLocaleString()," ",a.jsx("small",{className:"font-size-12",children:""})]})]})]})})})]}),a.jsx("div",{className:"mt-4 d-print-none",children:f?a.jsxs("div",{className:"d-flex flex-column gap-2",children:[a.jsxs(_e,{color:"warning",size:"lg",className:"shadow-lg",onClick:Ue,children:[a.jsx("i",{className:"bx bx-printer font-size-18 align-middle me-2"}),"   "]}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsxs(_e,{color:"info",outline:!0,className:"w-100 d-flex align-items-center justify-content-center",onClick:Ie,children:[a.jsx("i",{className:"bx bx-cloud-upload font-size-18 me-2"})," "]}),a.jsxs(_e,{color:"primary",outline:!0,className:"w-100 d-flex align-items-center justify-content-center",onClick:ot,children:[a.jsx("i",{className:"bx bx-building-house font-size-18 me-2"})," "]})]})]}):a.jsxs(pe,{className:"g-2",children:[a.jsx(M,{xs:6,children:a.jsxs(_e,{color:"success",size:"lg",className:"w-100 shadow-lg",onClick:()=>zt("final"),disabled:r,children:[a.jsx("i",{className:"bx bx-check-double font-size-20 align-middle me-2"}),"  "]})}),a.jsx(M,{xs:6,children:a.jsxs(_e,{color:"secondary",outline:!0,size:"lg",className:"w-100",onClick:()=>zt("draft"),disabled:r,children:[a.jsx("i",{className:"bx bx-save font-size-18 align-middle me-2"})," "]})})]})})]})})})]})]}),a.jsx("div",{style:{height:"120px",width:"100%",clear:"both"}})]})]})}const i8e=()=>{var p,y,_,b,x,w;const{id:t}=su(),[e,n]=C.useState(null),[r,s]=C.useState(!0),[i,o]=C.useState(null);if(C.useEffect(()=>{t&&W9e(t).then(E=>{n(E),s(!1)}).catch(E=>{console.error("Print Error:",E),o(E.message||"   "),s(!1)})},[t]),C.useEffect(()=>{if(!r&&e&&!i){const E=setTimeout(()=>window.print(),800);return()=>clearTimeout(E)}},[r,e,i]),r)return a.jsxs("div",{className:"d-flex justify-content-center align-items-center vh-100 bg-white",children:[a.jsx("div",{className:"spinner-border text-primary"}),a.jsx("span",{className:"ms-2",children:"  ..."})]});if(i)return a.jsx("div",{className:"alert alert-danger m-5",children:i});if(!e)return null;const l=`${window.location.origin}/exit/view/${e.id}`,c=Number(e.total_fee)||0,u=Number(e.total_loading_fee)||0,d=Number(e.weighbridge_fee||0)+Number(e.extra_fee||0),f=Number(e.vat_fee)||0,m=c+u+d+f;return a.jsxs("div",{className:"exit-print-master",children:[a.jsx("div",{className:"print-actions text-center mb-3",children:a.jsx("button",{className:"btn btn-sm btn-secondary",onClick:()=>window.close(),children:""})}),a.jsxs("div",{className:"exit-print-container p-4 bg-white",children:[a.jsxs("header",{className:"d-flex justify-content-between align-items-center border-bottom border-2 border-dark pb-3 mb-4",children:[a.jsx("div",{className:"logo-section text-center",style:{width:"120px"},children:a.jsx(E4,{value:l,size:85})}),a.jsxs("div",{className:"title-section text-center flex-grow-1",children:[a.jsx("h2",{className:"fw-bolder m-0 font-size-22",children:"    "}),a.jsx("h5",{className:"text-secondary mt-2 font-size-14",children:"     "})]}),a.jsxs("div",{className:"meta-section text-start",style:{minWidth:"180px",fontSize:"13px"},children:[a.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[a.jsx("span",{children:" :"}),a.jsx("span",{className:"fw-bold",children:e.id})]}),a.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[a.jsx("span",{children:" :"}),a.jsx("span",{className:"fw-bold",children:new Date(e.exit_date).toLocaleDateString("fa-IR")})]}),a.jsxs("div",{className:"d-flex justify-content-between",children:[a.jsx("span",{children:" :"}),a.jsx("span",{className:"fw-bold",children:e.reference_no||"---"})]})]})]}),a.jsx("section",{className:"info-box border border-dark rounded-2 p-3 mb-3 bg-light bg-opacity-25",children:a.jsxs("div",{className:"row g-3 font-size-13",children:[a.jsxs("div",{className:"col-6 d-flex",children:[a.jsx("span",{className:"text-secondary ms-2",children:" :"}),a.jsx("span",{className:"fw-bold flex-grow-1 border-bottom border-secondary border-opacity-25",children:((_=(y=(p=e.loading_orders)==null?void 0:p.clearances)==null?void 0:y.customers)==null?void 0:_.name)||"---"})]}),a.jsxs("div",{className:"col-6 d-flex",children:[a.jsx("span",{className:"text-secondary ms-2",children:" :"}),a.jsx("span",{className:"fw-bold flex-grow-1 border-bottom border-secondary border-opacity-25",children:(b=e.loading_orders)==null?void 0:b.driver_name})]}),a.jsxs("div",{className:"col-6 d-flex",children:[a.jsx("span",{className:"text-secondary ms-2",children:"  :"}),a.jsx("span",{className:"fw-bold flex-grow-1 border-bottom border-secondary border-opacity-25",children:e.driver_national_code})]}),a.jsxs("div",{className:"col-6 d-flex",children:[a.jsx("span",{className:"text-secondary ms-2",children:" :"}),a.jsx("span",{className:"fw-bold flex-grow-1 border-bottom border-secondary border-opacity-25",dir:"ltr",children:(x=e.loading_orders)==null?void 0:x.plate_number})]})]})}),a.jsx("section",{className:"table-section mb-4",children:a.jsxs("table",{className:"table table-bordered border-dark table-sm text-center align-middle font-size-12 w-100",children:[a.jsx("thead",{className:"table-secondary border-dark",children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"5%"},children:"#"}),a.jsx("th",{style:{width:"35%"},children:" "}),a.jsx("th",{style:{width:"10%"},children:""}),a.jsx("th",{style:{width:"10%"},children:" "}),a.jsx("th",{style:{width:"10%"},children:" "}),a.jsx("th",{style:{width:"12%"},className:"bg-light",children:" "}),a.jsx("th",{style:{width:"8%"},children:""}),a.jsx("th",{style:{width:"10%"},children:"Batch"})]})}),a.jsx("tbody",{children:(w=e.warehouse_exit_items)==null?void 0:w.map((E,T)=>{var Y,q,B,G,J;const P=(((Y=E.loading_order_items)==null?void 0:Y.clearance_items)||{}).weight||0,D=(E.weight_net||0)-P,F=Number(((q=E.loading_order_items)==null?void 0:q.qty)||0);return a.jsxs("tr",{children:[a.jsx("td",{children:T+1}),a.jsx("td",{className:"text-start fw-bold text-truncate",style:{maxWidth:"250px"},children:((G=(B=E.loading_order_items)==null?void 0:B.products)==null?void 0:G.name)||""}),a.jsx("td",{className:"fw-bold",children:F.toLocaleString()}),a.jsx("td",{children:Number(E.weight_full).toLocaleString()}),a.jsx("td",{children:Number(E.weight_empty).toLocaleString()}),a.jsx("td",{className:"fw-bold bg-light font-size-13",children:Number(E.weight_net).toLocaleString()}),a.jsx("td",{dir:"ltr",className:D>0?"fw-bold text-danger":"",children:D>0?`+${D}`:D}),a.jsx("td",{className:"font-family-monospace",dir:"ltr",children:((J=E.loading_order_items)==null?void 0:J.batch_no)||"-"})]},T)})})]})}),a.jsxs("footer",{className:"row g-0",children:[a.jsxs("div",{className:"col-8 pe-3 d-flex flex-column justify-content-between",children:[a.jsxs("div",{className:"payment-info mb-3 font-size-13",children:[a.jsx("span",{className:"fw-bold ms-2",children:" :"}),a.jsx("span",{className:"border px-3 py-1 rounded me-3 bg-light border-dark",children:e.payment_method==="credit"?" ( )":e.payment_method==="pos"?"":""}),e.extra_description&&a.jsxs("span",{className:"text-muted ms-3",children:["(",e.extra_description,")"]})]}),a.jsxs("div",{className:"signatures d-flex justify-content-around align-items-end mb-2",style:{height:"100px"},children:[a.jsxs("div",{className:"text-center",style:{width:"30%"},children:[a.jsx("p",{className:"mb-4 fw-bold font-size-13",children:"   "}),a.jsx("div",{className:"border-bottom border-dark border-dotted"})]}),a.jsxs("div",{className:"text-center",style:{width:"30%"},children:[a.jsx("p",{className:"mb-4 fw-bold font-size-13",children:"   "}),a.jsx("div",{className:"border-bottom border-dark border-dotted"})]}),a.jsxs("div",{className:"text-center",style:{width:"30%"},children:[a.jsx("p",{className:"mb-4 fw-bold font-size-13",children:" "}),a.jsx("div",{className:"border-bottom border-dark border-dotted"})]})]})]}),a.jsx("div",{className:"col-4",children:a.jsx("div",{className:"financial-box border border-dark rounded overflow-hidden",children:a.jsx("table",{className:"table table-sm table-borderless mb-0 font-size-13",children:a.jsxs("tbody",{children:[a.jsxs("tr",{className:"border-bottom border-secondary border-opacity-25",children:[a.jsx("td",{className:"ps-2 py-2 text-secondary",children:" :"}),a.jsx("td",{className:"text-end pe-2 py-2 fw-bold",children:c.toLocaleString()})]}),a.jsxs("tr",{className:"border-bottom border-secondary border-opacity-25",children:[a.jsx("td",{className:"ps-2 py-2 text-secondary",children:" :"}),a.jsx("td",{className:"text-end pe-2 py-2 fw-bold",children:u.toLocaleString()})]}),a.jsxs("tr",{className:"border-bottom border-secondary border-opacity-25",children:[a.jsx("td",{className:"ps-2 py-2 text-secondary",children:"  :"}),a.jsx("td",{className:"text-end pe-2 py-2 fw-bold",children:d.toLocaleString()})]}),a.jsxs("tr",{className:"bg-light border-bottom border-dark",children:[a.jsx("td",{className:"ps-2 py-2",children:"   (10%):"}),a.jsx("td",{className:"text-end pe-2 py-2 fw-bold",children:f.toLocaleString()})]}),a.jsxs("tr",{className:"bg-dark text-white",children:[a.jsx("td",{className:"ps-2 py-3 font-size-14",children:"  :"}),a.jsxs("td",{className:"text-end pe-2 py-3 font-size-15 fw-bold",children:[m.toLocaleString()," ",a.jsx("span",{className:"font-size-11 fw-normal",children:""})]})]})]})})})})]}),a.jsx("div",{className:"disclaimer text-center mt-auto pt-3 border-top border-dark mt-4 font-size-11 text-muted",children:"                ."})]})]})},a8e=async()=>{const{data:t,error:e}=await je.from("financial_documents").select(`
            *,
            financial_entries (
                bed, bes, description,
                accounting_moein ( title, code ),
                accounting_tafsili ( title, code )
            )
        `).order("doc_date",{ascending:!1}).order("id",{ascending:!1});if(e)throw e;return t},o8e=async(t,e)=>{const{data:n,error:r}=await je.from("financial_documents").insert({doc_date:t.doc_date,manual_no:t.manual_no,description:t.description,doc_type:"manual",status:"final"}).select().single();if(r)throw r;const s=e.map(o=>({doc_id:n.id,moein_id:o.moein_id,tafsili_id:o.tafsili_id||null,bed:o.bed||0,bes:o.bes||0,description:o.description||t.description})),{error:i}=await je.from("financial_entries").insert(s);if(i)throw await je.from("financial_documents").delete().eq("id",n.id),i;return n},l8e=async t=>{const{data:e,error:n}=await je.from("financial_documents").select(`
            *,
            financial_entries (
                id, moein_id, tafsili_id, bed, bes, description,
                accounting_moein ( id, code, title ),
                accounting_tafsili ( id, code, title, tafsili_type )
            )
        `).eq("id",t).single();if(n)throw n;return e},c8e=async t=>{const{error:e}=await je.from("financial_documents").delete().eq("id",t);if(e)throw e},u8e=async(t,e,n)=>{const{error:r}=await je.from("financial_documents").update({doc_date:e.doc_date,manual_no:e.manual_no,description:e.description}).eq("id",t);if(r)throw r;const{error:s}=await je.from("financial_entries").delete().eq("doc_id",t);if(s)throw s;const i=n.map(l=>({doc_id:t,moein_id:l.moein_id,tafsili_id:l.tafsili_id||null,bed:l.bed||0,bes:l.bes||0,description:l.description||e.description})),{error:o}=await je.from("financial_entries").insert(i);if(o)throw o};function d8e(){const[t,e]=C.useState([]),[n,r]=C.useState(!0),[s,i]=C.useState(null),o=is(),l=async()=>{r(!0);try{const m=await a8e();e(m)}catch{de.error("   ")}finally{r(!1)}};C.useEffect(()=>{l()},[]);const c=async(m,p)=>{if(p==="system")return de.warn("  ()   .");if(window.confirm("          "))try{await c8e(m),de.success("  "),l()}catch{de.error("   ")}},u=(m,p)=>{if(p==="system")return de.warn("       .");o(`/accounting/edit/${m}`)},d=m=>Number(m).toLocaleString(),f=m=>m.reduce((p,y)=>p+(Number(y.bed)||0),0);return a.jsx("div",{className:"page-content",children:a.jsxs(An,{fluid:!0,children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[a.jsx("h4",{className:"font-size-18 fw-bold",children:"  "}),a.jsxs(_e,{color:"primary",onClick:()=>o("/accounting/new"),children:[a.jsx("i",{className:"bx bx-plus me-1"}),"   "]})]}),a.jsx(Ct,{children:a.jsx(At,{children:n?a.jsx("div",{className:"text-center p-5",children:a.jsx("div",{className:"spinner-border text-primary"})}):a.jsx("div",{className:"table-responsive",children:a.jsxs(Yn,{className:"align-middle table-nowrap table-hover",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:"#"}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:t.map((m,p)=>a.jsxs(ae.Fragment,{children:[a.jsxs("tr",{className:s===m.id?"table-active":"",children:[a.jsx("td",{children:p+1}),a.jsx("td",{className:"fw-bold",children:m.doc_no}),a.jsx("td",{children:new Date(m.doc_date).toLocaleDateString("fa-IR")}),a.jsx("td",{style:{maxWidth:"250px"},className:"text-truncate",title:m.description,children:m.description}),a.jsx("td",{children:m.doc_type==="system"?a.jsx(ct,{color:"info",children:""}):a.jsx(ct,{color:"warning",children:""})}),a.jsx("td",{className:"fw-bold",children:d(f(m.financial_entries))}),a.jsx("td",{children:m.status==="final"?a.jsx("i",{className:"bx bx-check-circle text-success font-size-18"}):a.jsx("i",{className:"bx bx-time-five text-warning font-size-18"})}),a.jsx("td",{children:a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(_e,{size:"sm",color:"warning",outline:!0,disabled:m.doc_type==="system",onClick:y=>{y.stopPropagation(),u(m.id,m.doc_type)},children:a.jsx("i",{className:"bx bx-edit"})}),a.jsx(_e,{size:"sm",color:"danger",outline:!0,disabled:m.doc_type==="system",onClick:y=>{y.stopPropagation(),c(m.id,m.doc_type)},children:a.jsx("i",{className:"bx bx-trash"})})]})}),a.jsx("td",{onClick:()=>i(s===m.id?null:m.id),style:{cursor:"pointer"},children:a.jsx("i",{className:`bx ${s===m.id?"bx-chevron-up":"bx-chevron-down"} font-size-20`})})]}),a.jsx("tr",{children:a.jsx("td",{colSpan:"9",className:"p-0 border-0",children:a.jsx(b0,{isOpen:s===m.id,children:a.jsx("div",{className:"p-3 bg-light border-bottom",children:a.jsxs(Yn,{size:"sm",bordered:!0,className:"mb-0 bg-white text-center",style:{fontSize:"13px"},children:[a.jsx("thead",{className:"table-secondary",children:a.jsxs("tr",{children:[a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:m.financial_entries.map((y,_)=>{var b,x,w;return a.jsxs("tr",{children:[a.jsx("td",{children:(b=y.accounting_moein)==null?void 0:b.code}),a.jsx("td",{className:"fw-bold text-start",children:(x=y.accounting_moein)==null?void 0:x.title}),a.jsx("td",{className:"text-start",children:((w=y.accounting_tafsili)==null?void 0:w.title)||"-"}),a.jsx("td",{className:"text-start text-muted",children:y.description}),a.jsx("td",{className:y.bed>0?"text-dark":"text-muted",children:y.bed>0?d(y.bed):"-"}),a.jsx("td",{className:y.bes>0?"text-dark":"text-muted",children:y.bes>0?d(y.bes):"-"})]},_)})})]})})})})})]},m.id))})]})})})})]})})}const sN=t=>{throw t&&t.code==="23503"?new Error("DEPENDENCY_ERROR"):t},h8e=async()=>{const{data:t,error:e}=await je.from("accounting_groups").select("*").order("code",{ascending:!0});if(e)throw e;return t},f8e=async t=>{const{data:e,error:n}=await je.from("accounting_groups").insert(t).select().single();if(n)throw n;return e},m8e=async(t,e)=>{const{error:n}=await je.from("accounting_groups").update({title:e.title,nature:e.nature,category:e.category}).eq("id",t);if(n)throw n},p8e=async t=>{const{error:e}=await je.from("accounting_groups").delete().eq("id",t);e&&sN(e)},g8e=async()=>{const{data:t,error:e}=await je.from("accounting_gl").select("*, accounting_groups(title, code)").order("code",{ascending:!0});if(e)throw e;return t},y8e=async t=>{const{data:e,error:n}=await je.from("accounting_gl").insert(t).select().single();if(n)throw n;return e},v8e=async(t,e)=>{const{error:n}=await je.from("accounting_gl").update({title:e.title,code:e.code,group_id:e.group_id}).eq("id",t);if(n)throw n},b8e=async t=>{const{error:e}=await je.from("accounting_gl").delete().eq("id",t);e&&sN(e)},lte=async()=>{const{data:t,error:e}=await je.from("accounting_moein").select("*, accounting_gl(title, code)").order("code",{ascending:!0});if(e)throw e;return t},_8e=async t=>{const{data:e,error:n}=await je.from("accounting_moein").insert(t).select().single();if(n)throw n;return e},w8e=async(t,e)=>{const{error:n}=await je.from("accounting_moein").update({title:e.title,code:e.code,gl_id:e.gl_id}).eq("id",t);if(n)throw n},x8e=async t=>{const{error:e}=await je.from("accounting_moein").delete().eq("id",t);e&&sN(e)},cte=async()=>{const{data:t,error:e}=await je.from("accounting_tafsili").select("*").order("code",{ascending:!0});if(e)throw e;return t},E8e=async t=>{const{data:e,error:n}=await je.from("accounting_tafsili").insert(t).select().single();if(n)throw n;return e},S8e=async(t,e)=>{const{error:n}=await je.from("accounting_tafsili").update({title:e.title,code:e.code,tafsili_type:e.tafsili_type}).eq("id",t);if(n)throw n},j8e=async t=>{const{error:e}=await je.from("accounting_tafsili").delete().eq("id",t);e&&sN(e)},nj=async(t,e)=>{let n,r="";if(t==="treasury")try{const i=e==="receive"?"D":"P",o=new Date().getFullYear().toString().slice(-2),l=`${new Date().getFullYear()}-01-01`,c=`${e==="receive"?"":""}  ${i}${o}%`,{count:u,error:d}=await je.from("financial_documents").select("id",{count:"exact",head:!0}).ilike("description",c).gte("doc_date",l);if(d)return console.error("Error counting treasury transactions:",d),`${i}${o}001`;const f=String((u||0)+1).padStart(4,"0");return`${i}${o}${f}`}catch(i){return console.error("Error generating treasury code:",i),`${e==="receive"?"D":"P"}${Date.now()}`}if(t==="gl"&&e){const{data:i}=await je.from("accounting_groups").select("code").eq("id",e).single();i&&(r=i.code)}else if(t==="moein"&&e){const{data:i}=await je.from("accounting_gl").select("code").eq("id",e).single();i&&(r=i.code)}if(t==="group")n=je.from("accounting_groups").select("code").order("code",{ascending:!1}).limit(1);else if(t==="gl"){if(!e)return"";n=je.from("accounting_gl").select("code").eq("group_id",e).order("code",{ascending:!1}).limit(1)}else if(t==="moein"){if(!e)return"";n=je.from("accounting_moein").select("code").eq("gl_id",e).order("code",{ascending:!1}).limit(1)}else if(t==="tafsili"){if(!e)return"";n=je.from("accounting_tafsili").select("code").eq("tafsili_type",e).order("code",{ascending:!1}).limit(1)}const{data:s}=await n;if(s&&s.length>0){const i=s[0].code,o=parseInt(i,10)+1;return t==="tafsili"?String(o).padStart(i.length,"0"):String(o)}else{if(t==="group")return"1";if(t==="gl"||t==="moein")return r+"01";if(t==="tafsili")return"0001"}};function T8e(){const t=is(),[e,n]=C.useState("1"),[r,s]=C.useState(!1),[i,o]=C.useState(!1),[l,c]=C.useState([]),[u,d]=C.useState([]),[f,m]=C.useState([]),[p,y]=C.useState([]),[_,b]=C.useState(!1),[x,w]=C.useState(""),[E,T]=C.useState({}),[N,P]=C.useState(!1),D=async()=>{s(!0);try{const z=await h8e();c(z);const Z=await g8e();d(Z);const X=await lte();m(X);const ne=await cte();y(ne)}catch{de.error("   ")}finally{s(!1)}};C.useEffect(()=>{D()},[]);const F=async(z="")=>{if(w(z),T({}),P(!1),b(!_),z==="group"){o(!0);const Z=await nj("group");T(X=>({...X,code:Z})),o(!1)}if(z==="tafsili"){const Z=await nj("tafsili","other");T(X=>({...X,tafsili_type:"other",code:Z}))}},Y=(z,Z)=>{if(Z==="tafsili"&&(z.tafsili_type==="bank_account"||z.tafsili_type==="customer"||z.tafsili_type==="cash"))return de.info("         (/)  .");w(Z);let X={...z};Z==="gl"&&(X.group_id=z.group_id),Z==="moein"&&(X.gl_id=z.gl_id),T(X),P(!0),b(!0)},q=async(z,Z)=>{const X=z.target.value;if(Z==="gl"&&T(ne=>({...ne,group_id:X})),Z==="moein"&&T(ne=>({...ne,gl_id:X})),X&&!N){o(!0);const ne=await nj(Z,X);T(le=>({...le,code:ne})),o(!1)}},B=async z=>{const Z=z.target.value;if(T(X=>({...X,tafsili_type:Z})),Z&&!N){o(!0);const X=await nj("tafsili",Z);T(ne=>({...ne,code:X})),o(!1)}},G=async()=>{if(!E.title||!E.code)return de.warn("    ");try{x==="group"?N?await m8e(E.id,E):await f8e(E):x==="gl"?N?await v8e(E.id,E):await y8e(E):x==="moein"?N?await w8e(E.id,E):await _8e(E):x==="tafsili"&&(N?await S8e(E.id,E):await E8e(E)),de.success(N?" ":" "),b(!1),D()}catch(z){console.error(z),de.error("  ")}},J=async(z,Z,X)=>{if(Z==="tafsili"&&(X.tafsili_type==="bank_account"||X.tafsili_type==="customer"||X.tafsili_type==="cash"))return de.warn("           (/)  .");if(window.confirm("  "))try{Z==="group"&&await p8e(z),Z==="gl"&&await b8e(z),Z==="moein"&&await x8e(z),Z==="tafsili"&&await j8e(z),de.success(" "),D()}catch(ne){ne.message==="DEPENDENCY_ERROR"?de.error(":        ."):de.error("  ")}},W=z=>{switch(z){case"customer":return a.jsx(ct,{color:"success",children:" ()"});case"bank_account":return a.jsx(ct,{color:"warning",children:" ()"});case"cash":return a.jsx(ct,{color:"warning",children:" ()"});case"cost_center":return a.jsx(ct,{color:"info",children:" "});case"project":return a.jsx(ct,{color:"primary",children:""});default:return a.jsx(ct,{color:"secondary",children:""})}};return a.jsx("div",{className:"page-content",children:a.jsxs(An,{fluid:!0,children:[a.jsx("h4",{className:"mb-4 font-size-18 fw-bold",children:"  "}),a.jsx(Ct,{children:a.jsxs(At,{children:[a.jsxs(hb,{tabs:!0,className:"nav-tabs-custom mb-4",children:[a.jsx(Io,{children:a.jsx(ko,{className:Rt({active:e==="1"}),onClick:()=>n("1"),style:{cursor:"pointer"},children:"1.  "})}),a.jsx(Io,{children:a.jsx(ko,{className:Rt({active:e==="2"}),onClick:()=>n("2"),style:{cursor:"pointer"},children:"2.  "})}),a.jsx(Io,{children:a.jsx(ko,{className:Rt({active:e==="3"}),onClick:()=>n("3"),style:{cursor:"pointer"},children:"3.  "})}),a.jsx(Io,{children:a.jsx(ko,{className:Rt({active:e==="4"}),onClick:()=>n("4"),style:{cursor:"pointer"},children:"4.  "})})]}),a.jsxs(K$,{activeTab:e,children:[a.jsxs(Pd,{tabId:"1",children:[a.jsx(_e,{color:"primary",className:"mb-3",onClick:()=>F("group"),children:"+  "}),a.jsxs(Yn,{bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:l.map(z=>a.jsxs("tr",{children:[a.jsx("td",{className:"fw-bold text-center",children:z.code}),a.jsx("td",{children:z.title}),a.jsx("td",{children:z.nature==="debtor"?"":""}),a.jsx("td",{children:a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(_e,{size:"sm",color:"warning",outline:!0,onClick:()=>Y(z,"group"),children:a.jsx("i",{className:"bx bx-edit"})}),a.jsx(_e,{size:"sm",color:"danger",outline:!0,onClick:()=>J(z.id,"group"),children:a.jsx("i",{className:"bx bx-trash"})})]})})]},z.id))})]})]}),a.jsxs(Pd,{tabId:"2",children:[a.jsx(_e,{color:"primary",className:"mb-3",onClick:()=>F("gl"),children:"+  "}),a.jsxs(Yn,{bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:u.map(z=>{var Z;return a.jsxs("tr",{children:[a.jsx("td",{className:"fw-bold text-center",children:z.code}),a.jsx("td",{children:z.title}),a.jsx("td",{className:"text-muted",children:(Z=z.accounting_groups)==null?void 0:Z.code}),a.jsx("td",{children:a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(_e,{size:"sm",color:"warning",outline:!0,onClick:()=>Y(z,"gl"),children:a.jsx("i",{className:"bx bx-edit"})}),a.jsx(_e,{size:"sm",color:"danger",outline:!0,onClick:()=>J(z.id,"gl"),children:a.jsx("i",{className:"bx bx-trash"})})]})})]},z.id)})})]})]}),a.jsxs(Pd,{tabId:"3",children:[a.jsx(_e,{color:"primary",className:"mb-3",onClick:()=>F("moein"),children:"+  "}),a.jsxs(Yn,{bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:f.map(z=>{var Z;return a.jsxs("tr",{children:[a.jsx("td",{className:"fw-bold text-center",children:z.code}),a.jsx("td",{children:z.title}),a.jsx("td",{className:"text-muted",children:(Z=z.accounting_gl)==null?void 0:Z.code}),a.jsx("td",{children:a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(_e,{size:"sm",color:"warning",outline:!0,onClick:()=>Y(z,"moein"),children:a.jsx("i",{className:"bx bx-edit"})}),a.jsx(_e,{size:"sm",color:"danger",outline:!0,onClick:()=>J(z.id,"moein"),children:a.jsx("i",{className:"bx bx-trash"})})]})})]},z.id)})})]})]}),a.jsxs(Pd,{tabId:"4",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[a.jsx(_e,{color:"primary",onClick:()=>F("tafsili"),children:"+   ()"}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(_e,{size:"sm",color:"success",outline:!0,onClick:()=>t("/customers/add"),children:"+  "}),a.jsx(_e,{size:"sm",color:"warning",outline:!0,onClick:()=>t("/accounting/treasury"),children:"+ / "})]})]}),a.jsxs(Yn,{bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:p.map(z=>{const Z=["customer","bank_account","cash"].includes(z.tafsili_type);return a.jsxs("tr",{children:[a.jsx("td",{className:"fw-bold text-center",children:z.code}),a.jsx("td",{children:z.title}),a.jsx("td",{children:W(z.tafsili_type)}),a.jsx("td",{children:a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(_e,{size:"sm",color:"secondary",outline:!0,disabled:Z,title:Z?"   ":"",onClick:()=>Y(z,"tafsili"),children:a.jsx("i",{className:`bx ${Z?"bx-lock-alt":"bx-edit"}`})}),a.jsx(_e,{size:"sm",color:"danger",outline:!0,disabled:Z,title:Z?"   ":"",onClick:()=>J(z.id,"tafsili",z),children:a.jsx("i",{className:`bx ${Z?"bx-lock-alt":"bx-trash"}`})})]})})]},z.id)})})]})]})]})]})}),a.jsxs(Mi,{isOpen:_,toggle:()=>b(!_),centered:!0,children:[a.jsxs(Bo,{toggle:()=>b(!_),children:[x==="group"&&" ",x==="gl"&&"  ",x==="moein"&&"  ",x==="tafsili"&&"   ( )"]}),a.jsx(Qa,{children:a.jsxs(pe,{className:"gy-3",children:[x==="gl"&&a.jsxs(M,{md:12,children:[a.jsx(ee,{children:"  ()"}),a.jsxs(ie,{type:"select",value:E.group_id||"",onChange:z=>q(z,"gl"),disabled:N,children:[a.jsx("option",{value:"",children:" ..."}),l.map(z=>a.jsxs("option",{value:z.id,children:[z.code," - ",z.title]},z.id))]})]}),x==="moein"&&a.jsxs(M,{md:12,children:[a.jsx(ee,{children:"  ()"}),a.jsxs(ie,{type:"select",value:E.gl_id||"",onChange:z=>q(z,"moein"),disabled:N,children:[a.jsx("option",{value:"",children:" ..."}),u.map(z=>a.jsxs("option",{value:z.id,children:[z.code," - ",z.title]},z.id))]})]}),x==="tafsili"&&a.jsxs(M,{md:12,children:[a.jsxs(tr,{color:"info",className:"font-size-12",children:["  ",a.jsx("b",{children:"   "}),"      .       ."]}),a.jsx(ee,{children:" "}),a.jsxs(ie,{type:"select",value:E.tafsili_type||"other",onChange:B,disabled:N,children:[a.jsx("option",{value:"other",children:" ()"}),a.jsx("option",{value:"cost_center",children:" "}),a.jsx("option",{value:"project",children:""}),a.jsx("option",{value:"personnel",children:" ( )"})]})]}),a.jsxs(M,{md:12,children:[a.jsxs(ee,{className:"d-flex justify-content-between",children:["  ",i&&a.jsx(Wn,{size:"sm",color:"primary"})]}),a.jsx(ie,{value:E.code||"",onChange:z=>T({...E,code:z.target.value}),className:"fw-bold font-size-16"})]}),a.jsxs(M,{md:12,children:[a.jsx(ee,{children:" "}),a.jsx(ie,{value:E.title||"",onChange:z=>T({...E,title:z.target.value})})]}),x==="group"&&a.jsxs(a.Fragment,{children:[a.jsxs(M,{md:6,children:[a.jsx(ee,{children:""}),a.jsxs(ie,{type:"select",value:E.nature||"dual",onChange:z=>T({...E,nature:z.target.value}),children:[a.jsx("option",{value:"dual",children:""}),a.jsx("option",{value:"debtor",children:""}),a.jsx("option",{value:"creditor",children:""})]})]}),a.jsxs(M,{md:6,children:[a.jsx(ee,{children:""}),a.jsxs(ie,{type:"select",value:E.category||"asset",onChange:z=>T({...E,category:z.target.value}),children:[a.jsx("option",{value:"asset",children:""}),a.jsx("option",{value:"liability",children:""}),a.jsx("option",{value:"revenue",children:""}),a.jsx("option",{value:"expense",children:""}),a.jsx("option",{value:"equity",children:""})]})]})]})]})}),a.jsxs(bc,{children:[a.jsx(_e,{color:"success",onClick:G,children:N?"  ":""}),a.jsx(_e,{color:"secondary",onClick:()=>b(!1),children:""})]})]})]})})}function A8(){const t=is(),{id:e}=su(),n=!!e,[r,s]=C.useState(!1),[i,o]=C.useState(!0),[l,c]=C.useState([]),[u,d]=C.useState([]),[f,m]=C.useState(new Date().toISOString().slice(0,10)),[p,y]=C.useState(""),[_,b]=C.useState(""),[x,w]=C.useState(null),[E,T]=C.useState([{id:Date.now(),moein:null,tafsili:null,description:"",bed:0,bes:0,bedDisplay:"",besDisplay:""}]),N=C.useRef({}),P={control:(X,ne)=>({...X,height:"38px",minHeight:"38px",borderColor:ne.isFocused?"#556ee6":"#ced4da",boxShadow:ne.isFocused?"0 0 0 0.2rem rgba(85, 110, 230, 0.25)":null,fontSize:"13px",borderRadius:"0.25rem"}),menuPortal:X=>({...X,zIndex:9999}),menu:X=>({...X,zIndex:9999}),option:(X,ne)=>({...X,fontSize:"13px",backgroundColor:ne.isSelected?"#556ee6":ne.isFocused?"#f8f9fa":"white",color:ne.isSelected?"white":"#495057",cursor:"pointer"})},D=X=>X?X.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"",F=()=>{setTimeout(()=>{window.print()},100)};C.useEffect(()=>{(async()=>{o(!0);try{const ne=await lte(),le=await cte(),ge=(ne==null?void 0:ne.map(Ie=>({value:Ie.id,label:`${Ie.code} - ${Ie.title}`,code:Ie.code,title:Ie.title})))||[],Ue=(le==null?void 0:le.map(Ie=>({value:Ie.id,label:`${Ie.code} - ${Ie.title}`,code:Ie.code,title:Ie.title})))||[];if(c(ge),d(Ue),n){const Ie=await l8e(e);if(!Ie){de.error("  "),t("/accounting/list");return}if(m(Ie.doc_date),y(Ie.manual_no||""),b(Ie.description||""),w(Ie.doc_no),Ie.financial_entries&&Ie.financial_entries.length>0){const ot=Ie.financial_entries.map((it,Te)=>({id:Date.now()+Te,moein:ge.find(St=>St.value===it.moein_id)||null,tafsili:Ue.find(St=>St.value===it.tafsili_id)||null,description:it.description||"",bed:it.bed,bes:it.bes,bedDisplay:it.bed>0?D(it.bed):"",besDisplay:it.bes>0?D(it.bes):""}));T(ot)}}}catch(ne){console.error(ne),de.error("   ")}finally{o(!1)}})()},[e,n,t]);const Y=()=>{const X=Date.now();T([...E,{id:X,moein:null,tafsili:null,description:_,bed:0,bes:0,bedDisplay:"",besDisplay:""}]),setTimeout(()=>{var ne;return(ne=N.current[`moein-${X}`])==null?void 0:ne.focus()},100)},q=X=>{if(E.length===1)return de.warn("      ");T(E.filter((ne,le)=>le!==X))},B=(X,ne,le)=>{const ge=[...E],Ue=ge[X].id;if(ne==="moein")ge[X].moein=le,T(ge),setTimeout(()=>{var Ie;return(Ie=N.current[`tafsili-${Ue}`])==null?void 0:Ie.focus()},50);else if(ne==="tafsili")ge[X].tafsili=le,T(ge),setTimeout(()=>{var Ie;return(Ie=N.current[`desc-${Ue}`])==null?void 0:Ie.focus()},50);else if(ne==="bedDisplay"){const Ie=le.replace(/[^0-9]/g,"");ge[X].bed=Number(Ie),ge[X].bedDisplay=D(Ie),Ie>0&&(ge[X].bes=0,ge[X].besDisplay=""),T(ge)}else if(ne==="besDisplay"){const Ie=le.replace(/[^0-9]/g,"");ge[X].bes=Number(Ie),ge[X].besDisplay=D(Ie),Ie>0&&(ge[X].bed=0,ge[X].bedDisplay=""),T(ge)}else ge[X][ne]=le,T(ge)},G=(X,ne,le)=>{var ge,Ue,Ie;if(X.key==="Enter"){const ot=E[ne].id;le==="moein"||le==="tafsili"?setTimeout(()=>{var it,Te;le==="moein"&&((it=N.current[`tafsili-${ot}`])==null||it.focus()),le==="tafsili"&&((Te=N.current[`desc-${ot}`])==null||Te.focus())},100):(X.preventDefault(),le==="desc"?(ge=N.current[`bed-${ot}`])==null||ge.focus():le==="bed"?(Ue=N.current[`bes-${ot}`])==null||Ue.focus():le==="bes"&&(ne===E.length-1?Y():(Ie=N.current[`moein-${E[ne+1].id}`])==null||Ie.focus()))}},J=async()=>{const X=E.reduce((le,ge)=>le+ge.bed,0),ne=E.reduce((le,ge)=>le+ge.bes,0);if(X!==ne)return de.error("  !");if(X===0)return de.error("  .");if(E.some(le=>!le.moein))return de.warn("   .");s(!0);try{const le=E.map(Ue=>({moein_id:Ue.moein.value,tafsili_id:Ue.tafsili?Ue.tafsili.value:null,description:Ue.description||_,bed:Ue.bed,bes:Ue.bes})),ge={doc_date:f,manual_no:p,description:_};n?(await u8e(e,ge,le),de.success("  .")):(await o8e(ge,le),de.success("  .")),t("/accounting/list")}catch(le){console.error(le),de.error("   .")}finally{s(!1)}},W=E.reduce((X,ne)=>X+ne.bed,0),z=E.reduce((X,ne)=>X+ne.bes,0),Z=W-z;return i?a.jsx("div",{className:"text-center p-5",children:a.jsx("div",{className:"spinner-border text-primary"})}):a.jsxs("div",{className:"page-content-wrapper",children:[a.jsx("style",{children:`
                @media screen {
                    .print-only-section { display: none !important; }
                }
                @media print {
                    @page { size: A4; margin: 10mm; }
                    body * { visibility: hidden; }
                    .page-content, .navbar, .sidebar, .footer { display: none !important; }
                    
                    .print-only-section, .print-only-section * { visibility: visible !important; }
                    
                    .print-only-section {
                        display: block !important;
                        position: absolute;
                        left: 0;
                        top: 0;
                        width: 100%;
                        background-color: white;
                        z-index: 99999;
                        direction: rtl;
                        font-family: 'Tahoma', 'Arial', sans-serif;
                    }
                    .print-table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 12px; }
                    .print-table th, .print-table td { border: 1px solid #000; padding: 5px; text-align: center; }
                    .print-header { border: 2px solid #000; padding: 10px; border-radius: 5px; margin-bottom: 10px; }
                    .signature-box { margin-top: 40px; display: flex; justify-content: space-around; text-align: center; font-size: 12px; }
                }
            `}),a.jsxs("div",{className:"print-only-section",children:[a.jsxs("div",{className:"print-header d-flex justify-content-between align-items-center",children:[a.jsxs("div",{style:{width:"30%"},children:[a.jsx("h4",{className:"fw-bold m-0",style:{fontSize:"18px"},children:" "}),a.jsx("p",{className:"m-0 mt-1",style:{fontSize:"11px"},children:"  "})]}),a.jsx("div",{style:{width:"30%",textAlign:"center"},children:a.jsx("h2",{style:{fontSize:"24px",fontWeight:"bold"},children:" "})}),a.jsxs("div",{style:{width:"30%",textAlign:"left",fontSize:"11px"},children:[a.jsxs("div",{children:[" : ",a.jsx("span",{className:"fw-bold",children:x||"---"})]}),a.jsxs("div",{children:[": ",a.jsx("span",{className:"fw-bold",children:new Date(f).toLocaleDateString("fa-IR")})]}),a.jsxs("div",{children:[": ",a.jsx("span",{children:p||"---"})]})]})]}),a.jsxs("div",{className:"border border-dark p-2 mb-2 rounded",style:{fontSize:"12px"},children:[a.jsx("strong",{children:" : "})," ",_]}),a.jsxs("table",{className:"print-table",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{backgroundColor:"#f0f0f0"},children:[a.jsx("th",{style:{width:"5%"},children:"#"}),a.jsx("th",{style:{width:"10%"},children:" "}),a.jsx("th",{style:{width:"35%"},children:"  /  "}),a.jsx("th",{style:{width:"12%"},children:" "}),a.jsx("th",{style:{width:"19%"},children:""}),a.jsx("th",{style:{width:"19%"},children:""})]})}),a.jsx("tbody",{children:E.map((X,ne)=>{var le,ge,Ue;return a.jsxs("tr",{children:[a.jsx("td",{children:ne+1}),a.jsx("td",{children:(le=X.moein)==null?void 0:le.code}),a.jsxs("td",{className:"text-start",children:[a.jsx("div",{className:"fw-bold",children:(ge=X.moein)==null?void 0:ge.title}),X.tafsili&&a.jsx("div",{className:"text-muted",style:{fontSize:"10px"},children:X.tafsili.title}),a.jsx("div",{style:{fontSize:"10px"},children:X.description})]}),a.jsx("td",{children:((Ue=X.tafsili)==null?void 0:Ue.code)||"-"}),a.jsx("td",{children:D(X.bed)}),a.jsx("td",{children:D(X.bes)})]},ne)})}),a.jsx("tfoot",{children:a.jsxs("tr",{style:{backgroundColor:"#e8e8e8",fontWeight:"bold"},children:[a.jsx("td",{colSpan:"4",className:"text-end px-2",children:" :"}),a.jsx("td",{children:D(W)}),a.jsx("td",{children:D(z)})]})})]}),a.jsxs("div",{className:"signature-box",children:[a.jsxs("div",{children:[a.jsx("p",{className:"fw-bold mb-4",children:" "}),a.jsx("div",{style:{borderBottom:"1px dotted #000",width:"120px"}})]}),a.jsxs("div",{children:[a.jsx("p",{className:"fw-bold mb-4",children:" "}),a.jsx("div",{style:{borderBottom:"1px dotted #000",width:"120px"}})]}),a.jsxs("div",{children:[a.jsx("p",{className:"fw-bold mb-4",children:""}),a.jsx("div",{style:{borderBottom:"1px dotted #000",width:"120px"}})]})]})]}),a.jsx("div",{className:"page-content",children:a.jsxs(An,{fluid:!0,children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[a.jsxs("div",{className:"d-flex align-items-center gap-3",children:[a.jsx("h4",{className:"font-size-18 fw-bold text-dark m-0",children:n?`   ${x||""}`:"  "}),a.jsxs(_e,{color:"info",size:"sm",onClick:F,children:[a.jsx("i",{className:"bx bx-printer font-size-16 align-middle me-1"}),"  "]})]}),a.jsxs(_e,{color:"secondary",outline:!0,className:"btn-sm px-3",onClick:()=>t("/accounting/list"),children:[a.jsx("i",{className:"bx bx-arrow-back me-1"})," "]})]}),a.jsx(pe,{children:a.jsx(M,{lg:12,children:a.jsx(Ct,{className:"shadow-sm border-0 mb-4",children:a.jsxs(At,{children:[a.jsx(Rd,{className:"h5 mb-3 text-primary",children:"  "}),a.jsxs(pe,{className:"gy-3",children:[a.jsxs(M,{md:3,children:[a.jsx(ee,{className:"fw-bold font-size-13",children:" "}),a.jsx("div",{style:{direction:"rtl"},children:a.jsx(pi,{value:f,onChange:X=>m(X.toDate().toISOString().slice(0,10))})})]}),a.jsxs(M,{md:3,children:[a.jsx(ee,{className:"fw-bold font-size-13",children:"  / "}),a.jsx(ie,{value:p,onChange:X=>y(X.target.value),placeholder:"",className:"fw-bold"})]}),a.jsxs(M,{md:6,children:[a.jsx(ee,{className:"fw-bold font-size-13",children:"  "}),a.jsx(ie,{value:_,onChange:X=>b(X.target.value),placeholder:"..."})]})]})]})})})}),a.jsxs(Ct,{className:"shadow-sm border-0",children:[a.jsxs(At,{className:"p-0",children:[a.jsx("div",{className:"table-responsive",style:{minHeight:"350px",overflow:"visible"},children:a.jsxs(Yn,{className:"table mb-0 align-middle",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"5%"},className:"text-center",children:"#"}),a.jsxs("th",{style:{width:"22%"},children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("th",{style:{width:"22%"},children:" "}),a.jsx("th",{style:{width:"25%"},children:" "}),a.jsx("th",{style:{width:"10%"},children:""}),a.jsx("th",{style:{width:"10%"},children:""}),a.jsx("th",{style:{width:"6%"},className:"text-center",children:""})]})}),a.jsx("tbody",{children:E.map((X,ne)=>a.jsxs("tr",{className:"align-top",children:[a.jsx("td",{className:"text-center pt-3",children:ne+1}),a.jsx("td",{className:"p-2",children:a.jsx(ds,{ref:le=>N.current[`moein-${X.id}`]=le,value:X.moein,onChange:le=>B(ne,"moein",le),onKeyDown:le=>G(le,ne,"moein"),options:l,placeholder:"...",styles:P,menuPortalTarget:document.body,menuPosition:"fixed"})}),a.jsx("td",{className:"p-2",children:a.jsx(ds,{ref:le=>N.current[`tafsili-${X.id}`]=le,value:X.tafsili,onChange:le=>B(ne,"tafsili",le),onKeyDown:le=>G(le,ne,"tafsili"),options:u,placeholder:"...",styles:P,isClearable:!0,menuPortalTarget:document.body,menuPosition:"fixed"})}),a.jsx("td",{className:"p-2",children:a.jsx(ie,{innerRef:le=>N.current[`desc-${X.id}`]=le,bsSize:"sm",value:X.description,onChange:le=>B(ne,"description",le.target.value),onKeyDown:le=>G(le,ne,"desc"),placeholder:_||"",style:{height:"38px"}})}),a.jsx("td",{className:"p-2",children:a.jsx(ie,{innerRef:le=>N.current[`bed-${X.id}`]=le,bsSize:"sm",value:X.bedDisplay,onChange:le=>B(ne,"bedDisplay",le.target.value),onKeyDown:le=>G(le,ne,"bed"),placeholder:"0",className:"fw-bold text-dark",style:{height:"38px",direction:"ltr",textAlign:"right"}})}),a.jsx("td",{className:"p-2",children:a.jsx(ie,{innerRef:le=>N.current[`bes-${X.id}`]=le,bsSize:"sm",value:X.besDisplay,onChange:le=>B(ne,"besDisplay",le.target.value),onKeyDown:le=>G(le,ne,"bes"),placeholder:"0",className:"fw-bold text-dark",style:{height:"38px",direction:"ltr",textAlign:"right"}})}),a.jsx("td",{className:"text-center pt-2",children:a.jsx(_e,{color:"danger",outline:!0,size:"sm",onClick:()=>q(ne),className:"mt-1",children:a.jsx("i",{className:"bx bx-trash font-size-16"})})})]},X.id))})]})}),a.jsx("div",{className:"bg-light p-3 border-top",children:a.jsxs(pe,{className:"align-items-center",children:[a.jsx(M,{md:4,children:a.jsxs(_e,{color:"primary",outline:!0,onClick:Y,className:"w-100 border-dashed",children:[a.jsx("i",{className:"bx bx-plus me-1"}),"    (Enter)"]})}),a.jsx(M,{md:8,children:a.jsxs("div",{className:"d-flex justify-content-end gap-4 align-items-center",children:[a.jsxs("div",{className:"text-end",children:[a.jsx("small",{className:"d-block text-muted mb-1",children:" "}),a.jsx("h5",{className:"mb-0 fw-bold",children:Number(W).toLocaleString()})]}),a.jsxs("div",{className:"text-end",children:[a.jsx("small",{className:"d-block text-muted mb-1",children:" "}),a.jsx("h5",{className:"mb-0 fw-bold",children:Number(z).toLocaleString()})]}),a.jsxs("div",{className:"text-end border-start ps-4",children:[a.jsx("small",{className:"d-block text-muted mb-1",children:" "}),Z===0?a.jsxs(ct,{color:"success",className:"font-size-13 py-2 px-3",children:[a.jsx("i",{className:"bx bx-check-double me-1 align-middle"}),"  "]}):a.jsxs(ct,{color:"danger",className:"font-size-13 py-2 px-3",children:[": ",Number(Math.abs(Z)).toLocaleString()]})]})]})})]})})]}),a.jsxs("div",{className:"card-footer bg-white border-top p-3 d-flex justify-content-end gap-2",children:[a.jsxs(_e,{color:"info",size:"lg",className:"px-4 shadow",onClick:F,children:[a.jsx("i",{className:"bx bx-printer me-2"}),"  "]}),a.jsxs(_e,{color:n?"warning":"success",size:"lg",className:"px-5 shadow",onClick:J,disabled:r||Z!==0||W===0,children:[r?a.jsx("i",{className:"bx bx-loader bx-spin"}):a.jsx("i",{className:`bx ${n?"bx-edit":"bx-save"} me-2`}),n?"  ":"  "]})]})]})]})})]})}const C8e=async(t,e)=>{let n=je.from("financial_documents").select(`
            id,
            doc_date,
            description,
            manual_no,
            financial_entries (
                id,
                description,
                bed,
                bes,
                moein:accounting_moein ( title, code ),
                tafsili:accounting_tafsili ( title, code )
            )
        `).order("doc_date",{ascending:!0}).order("id",{ascending:!0});if(t){const i=t.length===10?t:t.slice(0,10);n=n.gte("doc_date",i)}if(e){const i=e.length===10?e:e.slice(0,10);n=n.lte("doc_date",i)}const{data:r,error:s}=await n;if(s)throw console.error("Error fetching journal report:",s),s;return r},ute=async t=>{if(!t)return[];const{data:e}=await je.from("treasury_banks").select("id, tafsili_id").eq("tafsili_id",t).maybeSingle();let n=[t];if(e){const{data:i}=await je.from("treasury_pos").select("tafsili_id").eq("bank_id",e.id);if(i&&i.length>0){const o=i.map(l=>l.tafsili_id).filter(Boolean);n=[...n,...o]}}const{data:r,error:s}=await je.from("financial_entries").select(`
            id,
            description,
            bed,
            bes,
            tafsili_id,
            created_at,
            document:financial_documents ( id, doc_date, manual_no, description ),
            tafsili:accounting_tafsili ( title )
        `).in("tafsili_id",n);if(s)throw console.error("Error fetching ledger:",s),s;return r.sort((i,o)=>{var u,d,f,m;const l=new Date(((u=i.document)==null?void 0:u.doc_date)||0),c=new Date(((d=o.document)==null?void 0:d.doc_date)||0);return l<c?-1:l>c?1:(((f=i.document)==null?void 0:f.id)||0)-(((m=o.document)==null?void 0:m.id)||0)})},A8e=async()=>{try{const{data:t,error:e}=await je.from("accounting_tafsili").select("id, code, title, tafsili_type").eq("is_active",!0).eq("tafsili_type","customer");if(e)throw e;const{data:n,error:r}=await je.from("financial_entries").select("tafsili_id, bed, bes");if(r)throw r;return t.map(i=>{const o=n.filter(d=>d.tafsili_id===i.id),l=o.reduce((d,f)=>d+(Number(f.bed)||0),0),c=o.reduce((d,f)=>d+(Number(f.bes)||0),0),u=l-c;return{...i,totalBed:l,totalBes:c,balance:u,status:u>0?"":u<0?"":""}})}catch(t){throw console.error("Error calculating customer balances:",t),t}},N8e=async({startDate:t,endDate:e,moeinId:n,tafsiliId:r})=>{let s=r?[r]:null;if(r){const{data:u}=await je.from("treasury_banks").select("id").eq("tafsili_id",r).maybeSingle();if(u){const{data:d}=await je.from("treasury_pos").select("tafsili_id").eq("bank_id",u.id);if(d&&d.length>0){const f=d.map(m=>m.tafsili_id).filter(Boolean);s=[r,...f]}}}let i=null;if(t||e){let u=je.from("financial_documents").select("id");if(t){const f=t.length===10?t:t.slice(0,10);u=u.gte("doc_date",f)}if(e){const f=e.length===10?e:e.slice(0,10);u=u.lte("doc_date",f)}const{data:d}=await u;if(i=(d||[]).map(f=>f.id),i.length===0)return[]}let o=je.from("financial_entries").select(`
            id, description, bed, bes, tafsili_id, doc_id,
            document:financial_documents ( id, doc_date, manual_no ),
            moein:accounting_moein ( id, code, title ),
            tafsili:accounting_tafsili ( id, code, title )
        `);n&&(o=o.eq("moein_id",n)),s&&s.length>0&&(o=o.in("tafsili_id",s)),i&&i.length>0&&(o=o.in("doc_id",i));const{data:l,error:c}=await o;if(c)throw console.error("Error in getComprehensiveLedger:",c),c;return(l||[]).sort((u,d)=>{var p,y,_,b;const f=new Date(((p=u.document)==null?void 0:p.doc_date)||0),m=new Date(((y=d.document)==null?void 0:y.doc_date)||0);return f<m?-1:f>m?1:(((_=u.document)==null?void 0:_.id)||0)-(((b=d.document)==null?void 0:b.id)||0)})},dv=t=>{if(!t)return"-";try{return new Date(t).toLocaleDateString("fa-IR",{year:"numeric",month:"2-digit",day:"2-digit"})}catch{return"-"}},br=t=>!t&&t!==0?"0":Number(t).toLocaleString();function I8e(){const[t,e]=C.useState([]),[n,r]=C.useState([]),[s,i]=C.useState(null),[o,l]=C.useState(null),[c,u]=C.useState(!1),[d,f]=C.useState(""),m=async()=>{u(!0);try{const w=s?s.slice(0,10):null,E=o?o.slice(0,10):null;console.log(" Fetching journal:",{formattedStart:w,formattedEnd:E});const T=await C8e(w,E);e(T||[]),r(T||[])}catch(w){console.error("Error fetching journal:",w)}finally{u(!1)}},p=w=>E=>{if(E!=null&&E.toDate){const T=E.toDate();w(T.toISOString())}else w(E||null)},y=w=>{const E=w.target.value.toLowerCase();if(f(E),!E){r(t);return}const T=t.filter(N=>{var F,Y,q;const P=((F=N.description)==null?void 0:F.toLowerCase().includes(E))||((Y=N.manual_no)==null?void 0:Y.includes(E))||N.id.toString().includes(E),D=(q=N.financial_entries)==null?void 0:q.some(B=>{var G,J,W,z,Z;return((G=B.description)==null?void 0:G.toLowerCase().includes(E))||((W=(J=B.moein)==null?void 0:J.title)==null?void 0:W.toLowerCase().includes(E))||((Z=(z=B.tafsili)==null?void 0:z.title)==null?void 0:Z.toLowerCase().includes(E))});return P||D});r(T)},_=()=>{i(null),l(null),f(""),e([]),r([])},b=n.reduce((w,E)=>{var T;return w+(((T=E.financial_entries)==null?void 0:T.reduce((N,P)=>N+(Number(P.bed)||0),0))||0)},0),x=n.reduce((w,E)=>{var T;return w+(((T=E.financial_entries)==null?void 0:T.reduce((N,P)=>N+(Number(P.bes)||0),0))||0)},0);return a.jsx("div",{className:"page-content",children:a.jsxs(An,{fluid:!0,children:[a.jsx("h4",{className:"mb-4 font-size-18 fw-bold",children:" "}),a.jsx(Ct,{children:a.jsxs(At,{children:[a.jsxs(pe,{className:"mb-4 gy-3 bg-light p-3 rounded align-items-end",children:[a.jsxs(M,{md:3,children:[a.jsx(ee,{children:" "}),a.jsx("div",{style:{direction:"rtl"},children:a.jsx(pi,{value:s,onChange:p(i)})})]}),a.jsxs(M,{md:3,children:[a.jsx(ee,{children:" "}),a.jsx("div",{style:{direction:"rtl"},children:a.jsx(pi,{value:o,onChange:p(l)})})]}),a.jsx(M,{md:2,children:a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(_e,{color:"primary",className:"flex-grow-1",onClick:m,disabled:c,children:c?a.jsx(Wn,{size:"sm"}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bx bx-search-alt me-1"})," "]})}),a.jsx(_e,{color:"secondary",outline:!0,onClick:_,title:" ",children:a.jsx("i",{className:"bx bx-refresh"})})]})}),a.jsxs(M,{md:4,children:[a.jsx(ee,{children:"  "}),a.jsx(ie,{placeholder:"     ...",value:d,onChange:y})]})]}),n.length>0&&a.jsx(pe,{className:"mb-3",children:a.jsx(M,{children:a.jsxs("div",{className:"d-flex gap-4 justify-content-end",children:[a.jsxs(ct,{color:"light",className:"text-dark p-2 font-size-12",children:[" : ",a.jsx("strong",{children:n.length})]}),a.jsxs(ct,{color:"success",className:"p-2 font-size-12",children:[" : ",a.jsx("strong",{children:br(b)})]}),a.jsxs(ct,{color:"danger",className:"p-2 font-size-12",children:[" : ",a.jsx("strong",{children:br(x)})]})]})})}),a.jsx("div",{className:"table-responsive",children:a.jsxs(Yn,{bordered:!0,hover:!0,className:"text-center font-size-13 align-middle mb-0",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"120px"},children:" "}),a.jsx("th",{style:{width:"80px"},children:" "}),a.jsx("th",{children:"  /  "}),a.jsx("th",{style:{width:"130px"},children:""}),a.jsx("th",{style:{width:"130px"},children:""})]})}),a.jsx("tbody",{children:n.length>0?n.map(w=>{var E,T,N;return a.jsxs(ae.Fragment,{children:[(E=w.financial_entries)==null?void 0:E.map((P,D)=>{var F,Y;return a.jsxs("tr",{children:[D===0&&a.jsxs("td",{rowSpan:w.financial_entries.length+1,className:"bg-light fw-bold align-top pt-3 border-bottom-0",style:{verticalAlign:"top"},children:[a.jsx("div",{className:"mb-1",children:a.jsxs(ct,{color:"primary",className:"font-size-12",children:[" #",w.id]})}),a.jsx("div",{className:"text-muted font-size-11 mb-2",children:dv(w.doc_date)}),w.manual_no&&a.jsxs(ct,{color:"info",className:"font-size-10",children:[": ",w.manual_no]}),w.description&&a.jsx("div",{className:"text-muted font-size-10 mt-2",style:{maxWidth:"100px"},children:w.description})]}),a.jsx("td",{className:"font-monospace",children:(F=P.moein)==null?void 0:F.code}),a.jsxs("td",{className:"text-start",children:[a.jsx("span",{className:"fw-bold text-primary",children:(Y=P.moein)==null?void 0:Y.title}),P.tafsili&&a.jsxs("span",{className:"text-dark ms-1",children:["(",P.tafsili.title,")"]}),P.description&&a.jsx("div",{className:"text-muted font-size-11 mt-1",children:P.description})]}),a.jsx("td",{className:"text-success fw-bold",children:Number(P.bed)>0?br(P.bed):""}),a.jsx("td",{className:"text-danger fw-bold",children:Number(P.bes)>0?br(P.bes):""})]},P.id)}),a.jsxs("tr",{className:"table-secondary",style:{borderTop:"2px solid #6c757d"},children:[a.jsx("td",{colSpan:"2",className:"text-end fw-bold text-dark py-2",children:" :"}),a.jsx("td",{className:"fw-bold text-success py-2",children:br((T=w.financial_entries)==null?void 0:T.reduce((P,D)=>P+(Number(D.bed)||0),0))}),a.jsx("td",{className:"fw-bold text-danger py-2",children:br((N=w.financial_entries)==null?void 0:N.reduce((P,D)=>P+(Number(D.bes)||0),0))})]})]},w.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"py-5 text-muted",children:c?a.jsxs(a.Fragment,{children:[a.jsx(Wn,{size:"sm",className:"me-2"}),"    ..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bx bx-search-alt font-size-24 d-block mb-2"}),"          "]})})})}),n.length>0&&a.jsx("tfoot",{children:a.jsxs("tr",{className:"table-dark fw-bold font-size-14",children:[a.jsx("td",{colSpan:"3",className:"text-end py-3",children:"  :"}),a.jsx("td",{className:"text-success py-3",children:br(b)}),a.jsx("td",{className:"text-warning py-3",children:br(x)})]})})]})})]})})]})})}function k8e(){const[t,e]=C.useState([]),[n,r]=C.useState([]),[s,i]=C.useState(""),[o,l]=C.useState(!0),[c,u]=C.useState(!1),[d,f]=C.useState([]),[m,p]=C.useState(null),[y,_]=C.useState(!1);C.useEffect(()=>{A8e().then(E=>{e(E),r(E)}).catch(E=>{console.error(E)}).finally(()=>{l(!1)})},[]);const b=E=>{const T=E.target.value.toLowerCase();i(T);const N=t.filter(P=>{var D;return P.title.toLowerCase().includes(T)||((D=P.code)==null?void 0:D.includes(T))});r(N)},x=async E=>{p(E),u(!0),_(!0),f([]);try{const T=await ute(E.id);f(T)}catch(T){console.error("Error fetching ledger:",T)}finally{_(!1)}};let w=0;return a.jsx("div",{className:"page-content",children:a.jsxs(An,{fluid:!0,children:[a.jsx("h4",{className:"fw-bold mb-4 font-size-18",children:"    "}),a.jsx(Ct,{children:a.jsxs(At,{children:[a.jsx(pe,{className:"mb-4",children:a.jsx(M,{md:4,children:a.jsx("div",{className:"search-box",children:a.jsxs("div",{className:"position-relative",children:[a.jsx(ie,{className:"form-control",placeholder:"    ...",value:s,onChange:b}),a.jsx("i",{className:"bx bx-search-alt search-icon"})]})})})}),o?a.jsx("div",{className:"text-center py-5",children:a.jsx(Wn,{color:"primary"})}):a.jsxs(Yn,{hover:!0,responsive:!0,className:"align-middle text-center border table-striped",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:""}),a.jsx("th",{children:"  "}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:""})," "]})}),a.jsxs("tbody",{children:[n.map(E=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx(ct,{color:"light",className:"text-dark",children:E.code})}),a.jsx("td",{className:"fw-bold text-start",children:E.title}),a.jsx("td",{className:"text-muted",children:br(E.totalBed)}),a.jsx("td",{className:"text-muted",children:br(E.totalBes)}),a.jsx("td",{className:"fw-bold font-size-15",style:{color:E.balance>0?"#198754":E.balance<0?"#dc3545":"black"},children:br(Math.abs(E.balance))}),a.jsx("td",{children:a.jsx(ct,{className:"font-size-11 p-2",color:E.balance>0?"success":E.balance<0?"danger":"secondary",children:E.status})}),a.jsx("td",{children:a.jsxs(_e,{color:"primary",size:"sm",outline:!0,onClick:()=>x(E),title:"   ",children:[a.jsx("i",{className:"bx bx-list-ul me-1"})," "]})})]},E.id)),n.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"py-5 text-muted",children:"  "})})]})]})]})}),a.jsxs(Mi,{isOpen:c,toggle:()=>u(!c),size:"xl",centered:!0,children:[a.jsxs(Bo,{toggle:()=>u(!c),children:[a.jsx("i",{className:"bx bx-history me-2 text-primary"}),"  : ",a.jsx("span",{className:"fw-bold text-dark ms-2",children:m==null?void 0:m.title})]}),a.jsx(Qa,{children:y?a.jsxs("div",{className:"text-center py-5",children:[a.jsx(Wn,{color:"primary"})," ",a.jsx("p",{className:"mt-2",children:"   ..."})]}):a.jsx("div",{className:"table-responsive",children:a.jsxs(Yn,{bordered:!0,hover:!0,className:"text-center align-middle font-size-13 mb-0",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:"#"}),a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:d.length>0?d.map((E,T)=>{var D,F;const N=Number(E.bed)||0,P=Number(E.bes)||0;return w+=N-P,a.jsxs("tr",{children:[a.jsx("td",{children:T+1}),a.jsx("td",{children:dv((D=E.document)==null?void 0:D.doc_date)}),a.jsx("td",{children:a.jsx(ct,{color:"light",className:"text-dark",children:(F=E.document)==null?void 0:F.id})}),a.jsx("td",{className:"text-start",style:{maxWidth:"350px"},children:E.description}),a.jsx("td",{className:"text-success",children:N>0?br(N):"-"}),a.jsx("td",{className:"text-danger",children:P>0?br(P):"-"}),a.jsx("td",{className:"fw-bold bg-light",children:br(Math.abs(w))}),a.jsx("td",{children:w>0?a.jsx("span",{className:"text-success",children:""}):w<0?a.jsx("span",{className:"text-danger",children:""}):"-"})]},E.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"py-4 text-muted",children:"       ."})})}),d.length>0&&a.jsx("tfoot",{children:a.jsxs("tr",{className:"table-secondary fw-bold",children:[a.jsx("td",{colSpan:"4",className:"text-end",children:" :"}),a.jsx("td",{className:"text-success",children:br(d.reduce((E,T)=>E+(T.bed||0),0))}),a.jsx("td",{className:"text-danger",children:br(d.reduce((E,T)=>E+(T.bes||0),0))}),a.jsx("td",{className:"text-primary font-size-15",children:br(Math.abs(w))}),a.jsx("td",{children:w>0?"":w<0?"":"-"})]})})]})})}),a.jsx(bc,{children:a.jsx(_e,{color:"secondary",onClick:()=>u(!1),children:""})})]})]})})}function O8e(){const[t,e]=C.useState([]),[n,r]=C.useState(null),[s,i]=C.useState([]),[o,l]=C.useState(!1);C.useEffect(()=>{(async()=>{try{const f=await $A(),m=await yb(),p=await A0(),{data:y}=await je.from("treasury_pos").select("id, title, terminal_id, tafsili_id, treasury_banks(bank_name)").order("id",{ascending:!1}),_=[{label:"   ",options:f.map(b=>({value:b.id,label:`${b.code} - ${b.title}`}))},{label:" ",options:m.map(b=>{var x;return{value:b.tafsili_id||((x=b.accounting_tafsili)==null?void 0:x.id),label:`${b.bank_name} - ${b.account_no}`}}).filter(b=>b.value)},{label:"  POS",options:(y||[]).map(b=>{var x;return{value:b.tafsili_id,label:`${b.title||((x=b.treasury_banks)==null?void 0:x.bank_name)} -  ${b.terminal_id}`}}).filter(b=>b.value)},{label:" ",options:p.map(b=>{var x;return{value:b.tafsili_id||((x=b.accounting_tafsili)==null?void 0:x.id),label:b.title}}).filter(b=>b.value)}];e(_)}catch(f){console.error(f)}})()},[]);const c=async()=>{if(n){l(!0);try{const d=await ute(n.value);i(d)}finally{l(!1)}}};let u=0;return a.jsx("div",{className:"page-content",children:a.jsxs(An,{fluid:!0,children:[a.jsx("h4",{className:"mb-4 fw-bold font-size-18",children:"    (/)"}),a.jsx(Ct,{children:a.jsxs(At,{children:[a.jsxs(pe,{className:"align-items-end mb-4 bg-light p-3 rounded",children:[a.jsxs(M,{md:5,children:[a.jsx(ee,{children:"  (   POS  )"}),a.jsx(ds,{options:t,onChange:r,placeholder:" ...",noOptionsMessage:()=>"  "})]}),a.jsx(M,{md:2,children:a.jsx(_e,{color:"primary",className:"w-100",onClick:c,disabled:o||!n,children:o?a.jsx(Wn,{size:"sm"}):" "})})]}),a.jsxs(Yn,{bordered:!0,hover:!0,responsive:!0,className:"text-center font-size-13 align-middle",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:s.length>0?s.map(d=>{var p,y;const f=Number(d.bed)||0,m=Number(d.bes)||0;return u+=f-m,a.jsxs("tr",{children:[a.jsx("td",{children:dv((p=d.document)==null?void 0:p.doc_date)}),a.jsx("td",{children:a.jsx(ct,{color:"light",className:"text-dark",children:(y=d.document)==null?void 0:y.id})}),a.jsx("td",{className:"text-start",style:{maxWidth:"300px"},children:d.description}),a.jsx("td",{className:"text-success",children:f>0?br(f):"-"}),a.jsx("td",{className:"text-danger",children:m>0?br(m):"-"}),a.jsx("td",{className:"fw-bold bg-light",children:br(Math.abs(u))}),a.jsx("td",{children:u>0?a.jsx(ct,{color:"success",children:""}):u<0?a.jsx(ct,{color:"danger",children:""}):a.jsx(ct,{color:"secondary",children:""})})]},d.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"py-5 text-muted",children:n?"     .":"      ."})})}),s.length>0&&a.jsx("tfoot",{children:a.jsxs("tr",{className:"table-secondary fw-bold",children:[a.jsx("td",{colSpan:"3",className:"text-end",children:" :"}),a.jsx("td",{className:"text-success",children:br(s.reduce((d,f)=>d+(Number(f.bed)||0),0))}),a.jsx("td",{className:"text-danger",children:br(s.reduce((d,f)=>d+(Number(f.bes)||0),0))}),a.jsx("td",{className:"text-primary font-size-15",children:br(Math.abs(u))}),a.jsx("td",{children:u>0?"":u<0?"":"-"})]})})]})]})})]})})}function R8e(){const[t,e]=C.useState(!1),[n,r]=C.useState([]),[s,i]=C.useState(null),[o,l]=C.useState(null),[c,u]=C.useState(null),[d,f]=C.useState(null),[m,p]=C.useState([]),[y,_]=C.useState([]),[b,x]=C.useState({});C.useEffect(()=>{(async()=>{try{const{data:q}=await je.from("accounting_moein").select("id, code, title").order("code");p(q.map(X=>({value:X.id,label:`${X.code} - ${X.title}`})));const B=await $A(),G=await yb(),J=await A0(),{data:W}=await je.from("treasury_pos").select("id, title, terminal_id, tafsili_id, bank_id, treasury_banks(bank_name)").order("id",{ascending:!1}),z={};(G||[]).forEach(X=>{var le;const ne=X.tafsili_id||((le=X.accounting_tafsili)==null?void 0:le.id);if(ne){const ge=(W||[]).filter(Ie=>Ie.bank_id===X.id),Ue=ge.map(Ie=>Ie.tafsili_id).filter(Boolean);z[ne]={bankName:X.bank_name,posDevices:ge,posTafsiliIds:Ue,allTafsiliIds:[ne,...Ue]}}}),x(z);const Z=[...B.map(X=>({value:X.id,label:` : ${X.title}`,type:"person"})),...G.map(X=>{var ge;const ne=X.tafsili_id||((ge=X.accounting_tafsili)==null?void 0:ge.id),le=(W||[]).filter(Ue=>Ue.bank_id===X.id).length;return{value:ne,label:` : ${X.bank_name} - ${X.account_no}${le>0?` (${le} POS)`:""}`,type:"bank",includesPos:le>0}}).filter(X=>X.value),...(W||[]).map(X=>{var ne;return{value:X.tafsili_id,label:` POS: ${X.title||((ne=X.treasury_banks)==null?void 0:ne.bank_name)} -  ${X.terminal_id}`,type:"pos"}}).filter(X=>X.value),...J.map(X=>{var ne;return{value:X.tafsili_id||((ne=X.accounting_tafsili)==null?void 0:ne.id),label:` : ${X.title}`,type:"cash"}}).filter(X=>X.value)];_(Z)}catch(q){console.error(q)}})()},[]);const w=Y=>q=>{if(q!=null&&q.toDate){const B=q.toDate();Y(B.toISOString())}else Y(q||null)},E=async()=>{e(!0);try{const Y=s?s.slice(0,10):null,q=o?o.slice(0,10):null,B=await N8e({startDate:Y,endDate:q,moeinId:c==null?void 0:c.value,tafsiliId:d==null?void 0:d.value});r(B||[])}catch(Y){console.error(Y)}finally{e(!1)}},T=()=>{i(null),l(null),u(null),f(null),r([])},N=()=>{window.print()},P=n.reduce((Y,q)=>{const B=Number(q.bed)||0,G=Number(q.bes)||0;return{totalBed:Y.totalBed+B,totalBes:Y.totalBes+G,balance:Y.balance+(B-G)}},{totalBed:0,totalBes:0,balance:0});let D=0;const F=n.map(Y=>{const q=Number(Y.bed)||0,B=Number(Y.bes)||0;return D+=q-B,{...Y,runningBalance:D}});return a.jsxs("div",{className:"page-content",children:[a.jsxs(An,{fluid:!0,children:[a.jsxs("div",{className:"d-print-none",children:[a.jsx("h4",{className:"fw-bold mb-4 font-size-18",children:"   "}),a.jsx(Ct,{children:a.jsx(At,{children:a.jsxs(pe,{className:"gy-3",children:[a.jsxs(M,{md:3,children:[a.jsx(ee,{children:" "}),a.jsx("div",{style:{direction:"rtl"},children:a.jsx(pi,{value:s,onChange:w(i)})})]}),a.jsxs(M,{md:3,children:[a.jsx(ee,{children:" "}),a.jsx("div",{style:{direction:"rtl"},children:a.jsx(pi,{value:o,onChange:w(l)})})]}),a.jsxs(M,{md:3,children:[a.jsx(ee,{children:" "}),a.jsx(ds,{options:m,value:c,onChange:u,placeholder:" ...",isClearable:!0})]}),a.jsxs(M,{md:3,children:[a.jsx(ee,{children:" "}),a.jsx(ds,{options:y,value:d,onChange:f,placeholder:" ...",isClearable:!0}),(d==null?void 0:d.includesPos)&&a.jsxs("small",{className:"text-info d-block mt-1",children:[a.jsx("i",{className:"bx bx-info-circle me-1"})," POS      "]})]}),a.jsxs(M,{md:12,className:"text-end border-top pt-3 mt-2",children:[a.jsxs(_e,{color:"secondary",outline:!0,className:"me-2",onClick:T,children:[a.jsx("i",{className:"bx bx-refresh me-1"}),"  "]}),a.jsx(_e,{color:"primary",className:"px-4",onClick:E,disabled:t,children:t?a.jsx(Wn,{size:"sm"}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bx bx-filter-alt me-1"}),"  "]})}),a.jsxs(_e,{color:"success",className:"ms-2 px-4",onClick:N,disabled:n.length===0,children:[a.jsx("i",{className:"bx bx-printer me-1"})," "]})]})]})})})]}),n.length>0&&a.jsx("div",{className:"d-print-none",children:a.jsx(pe,{className:"mt-3 mb-2",children:a.jsx(M,{children:a.jsxs("div",{className:"d-flex gap-3 justify-content-end",children:[a.jsxs(ct,{color:"light",className:"text-dark p-2 font-size-12",children:[" : ",a.jsx("strong",{children:n.length})]}),a.jsxs(ct,{color:"success",className:"p-2 font-size-12",children:[" : ",a.jsx("strong",{children:br(P.totalBed)})]}),a.jsxs(ct,{color:"danger",className:"p-2 font-size-12",children:[" : ",a.jsx("strong",{children:br(P.totalBes)})]}),a.jsxs(ct,{color:P.balance>=0?"primary":"warning",className:"p-2 font-size-12",children:[": ",a.jsx("strong",{children:br(Math.abs(P.balance))}),a.jsxs("span",{className:"ms-1",children:["(",P.balance>=0?"":"",")"]})]})]})})})}),a.jsx(Ct,{className:"mt-2 border-0 shadow-none",id:"printable-area",children:a.jsxs(At,{children:[a.jsxs("div",{className:"d-none d-print-block text-center mb-4",children:[a.jsx("h3",{className:"fw-bold",children:"   "}),a.jsxs("p",{className:"text-muted",children:[s?` : ${dv(s)}`:"",o?`  : ${dv(o)}`:"",!s&&!o&&"  "]}),d&&a.jsxs("p",{className:"fw-bold",children:[": ",d.label]}),a.jsx("hr",{})]}),a.jsx("div",{className:"table-responsive",children:a.jsxs(Yn,{bordered:!0,hover:!0,className:"text-center font-size-13 align-middle table-striped mb-0",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"100px"},children:""}),a.jsx("th",{style:{width:"70px"},children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{style:{width:"120px"},children:""}),a.jsx("th",{style:{width:"120px"},children:""}),a.jsx("th",{style:{width:"120px"},children:""}),a.jsx("th",{style:{width:"60px"},children:""})]})}),a.jsx("tbody",{children:F.length>0?F.map(Y=>{var G,J,W,z;const q=Number(Y.bed)||0,B=Number(Y.bes)||0;return a.jsxs("tr",{children:[a.jsx("td",{children:dv((G=Y.document)==null?void 0:G.doc_date)}),a.jsx("td",{children:a.jsx(ct,{color:"light",className:"text-dark border",children:(J=Y.document)==null?void 0:J.id})}),a.jsx("td",{className:"text-start font-size-12",children:(W=Y.moein)==null?void 0:W.title}),a.jsx("td",{className:"text-start font-size-12 text-primary",children:((z=Y.tafsili)==null?void 0:z.title)||"-"}),a.jsx("td",{className:"text-start text-muted",style:{maxWidth:"200px"},children:Y.description}),a.jsx("td",{className:"text-success fw-bold",children:q>0?br(q):"-"}),a.jsx("td",{className:"text-danger fw-bold",children:B>0?br(B):"-"}),a.jsx("td",{className:"fw-bold bg-light",children:br(Math.abs(Y.runningBalance))}),a.jsx("td",{children:Y.runningBalance>0?a.jsx(ct,{color:"success",className:"font-size-11",children:""}):Y.runningBalance<0?a.jsx(ct,{color:"danger",className:"font-size-11",children:""}):"-"})]},Y.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"9",className:"py-5 text-muted",children:t?a.jsxs(a.Fragment,{children:[a.jsx(Wn,{size:"sm",className:"me-2"}),"    ..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bx bx-search-alt font-size-24 d-block mb-2"}),"        "]})})})}),F.length>0&&a.jsx("tfoot",{children:a.jsxs("tr",{className:"table-dark fw-bold font-size-14",children:[a.jsx("td",{colSpan:"5",className:"text-end py-3",children:"  :"}),a.jsx("td",{className:"text-success py-3",children:br(P.totalBed)}),a.jsx("td",{className:"text-warning py-3",children:br(P.totalBes)}),a.jsx("td",{className:"text-white py-3",children:br(Math.abs(P.balance))}),a.jsx("td",{className:"py-3",children:P.balance>0?"":P.balance<0?"":""})]})})]})}),a.jsxs("div",{className:"d-none d-print-block mt-5 text-center text-muted font-size-12",children:[a.jsx("hr",{}),a.jsxs("p",{children:["        |  : ",new Date().toLocaleDateString("fa-IR")]})]})]})})]}),a.jsx("style",{children:`
                @media print {
                    body * { visibility: hidden; }
                    #printable-area, #printable-area * { visibility: visible; }
                    #printable-area {
                        position: absolute;
                        left: 0; top: 0;
                        width: 100%;
                        margin: 0; padding: 20px;
                        background: white;
                    }
                    .vertical-menu, .navbar-header, footer, .page-title-box { display: none !important; }
                    table { font-size: 11px !important; width: 100%; }
                    th, td { padding: 4px !important; }
                    .badge { border: 1px solid #000; color: #000 !important; }
                }
            `})]})}function P8e(){const t=is(),[e,n]=C.useState(!1),[r,s]=C.useState("receive"),[i,o]=C.useState([]),[l,c]=C.useState([]),[u,d]=C.useState([]),[f,m]=C.useState([]),[p,y]=C.useState([]),[_,b]=C.useState([]),[x,w]=C.useState([]),[E,T]=C.useState([]),[N,P]=C.useState(new Date().toISOString().slice(0,10)),[D,F]=C.useState(null),[Y,q]=C.useState(""),[B,G]=C.useState(""),[J,W]=C.useState([]),[z,Z]=C.useState("cash"),[X,ne]=C.useState(""),[le,ge]=C.useState(null),[Ue,Ie]=C.useState(""),[ot,it]=C.useState(""),[Te,St]=C.useState(null),[ut,ft]=C.useState("issue_ours"),[gt,qt]=C.useState({sayadi:"",no:"",bankVal:null,branchName:"",branchCode:"",accountNo:"",holder:"",date:"",desc:"",endorsement:""}),[It,zt]=C.useState(null),[en,xe]=C.useState(null),We=(A,$)=>{if(A)try{A.toDate?$(A.toDate().toISOString().slice(0,10)):$(new Date(A).toISOString().slice(0,10))}catch(re){console.error("Date Error:",re)}},Qt=A=>new Promise($=>{if(!A.type.startsWith("image/")){$({width:null,height:null});return}const re=new Image,ue=URL.createObjectURL(A);re.onload=()=>{URL.revokeObjectURL(ue),$({width:re.width,height:re.height})},re.onerror=()=>{URL.revokeObjectURL(ue),$({width:null,height:null})},re.src=ue}),Oe=async A=>{const $=A.target.files[0];if(!$)return;if($.size>5*1024*1024){de.error("     5  "),A.target.value="";return}if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes($.type)){de.error("  JPG, PNG  PDF  "),A.target.value="";return}const ue=$.name.split(".").pop(),be=`treasury-documents/${`treasury_${Date.now()}.${ue}`}`;try{de.info("   ...");const{data:Me,error:tt}=await je.storage.from("media").upload(be,$,{cacheControl:"3600",upsert:!1,contentType:$.type});if(tt)throw console.error("Storage upload error:",tt),tt;const{data:Pe}=je.storage.from("media").getPublicUrl(be);let qe={width:null,height:null};$.type.startsWith("image/")&&(qe=await Qt($)),St({filename:$.name,filepath:be,url:Pe==null?void 0:Pe.publicUrl,mimetype:$.type,size:$.size,width:qe.width,height:qe.height}),de.success(` ${$.name}    `),A.target.value=""}catch(Me){console.error("Upload error:",Me),de.error("   : "+(Me.message||" ")),A.target.value=""}};C.useEffect(()=>{(async()=>{try{const $=await $A();o($.map(Pe=>({value:Pe.id,label:`${Pe.code} - ${Pe.title}`})));const re=await A0();c(re.map(Pe=>({value:Pe.id,label:Pe.title})));const ue=await yb();d(ue.map(Pe=>({value:Pe.id,label:`${Pe.bank_name} (${Pe.account_no})`})));const Ee=await aZ();m(Ee.map(Pe=>({value:Pe.name,label:Pe.name})));const be=await oZ();y(be.map(Pe=>({value:Pe.id,label:Pe.title})));const Me=await UDe();b((Me==null?void 0:Me.map(Pe=>({value:Pe.id,label:`${Number(Pe.amount).toLocaleString()} - ${Pe.bank_name} (: ${Pe.cheque_no})`,original:Pe})))||[]);const tt=await VDe();w((tt==null?void 0:tt.map(Pe=>{var qe,Je,nt,rt,Lt;return{value:Pe.id,label:`${((qe=Pe.treasury_banks)==null?void 0:qe.bank_name)||" "}${(Je=Pe.treasury_banks)!=null&&Je.account_no?` - : ${Pe.treasury_banks.account_no}`:""}`,bankName:((nt=Pe.treasury_banks)==null?void 0:nt.bank_name)||"",accountNo:((rt=Pe.treasury_banks)==null?void 0:rt.account_no)||"",branchName:((Lt=Pe.treasury_banks)==null?void 0:Lt.branch_name)||"",serialStart:Pe.serial_start,serialEnd:Pe.serial_end,original:Pe}}))||[])}catch($){console.error("Load data error:",$),de.error("   ")}})()},[]);const lt=async A=>{if(xe(A),!A){T([]),qt($=>({...$,no:""}));return}try{const $=[];for(let Me=A.serialStart;Me<=A.serialEnd;Me++)$.push(Me);const{data:re,error:ue}=await je.from("treasury_checks").select("cheque_no").eq("checkbook_id",A.value).eq("type","issue");if(ue){console.error("Error loading issued checks:",ue),de.error("    "),T([]);return}const Ee=(re==null?void 0:re.map(Me=>parseInt(Me.cheque_no)))||[],be=$.filter(Me=>!Ee.includes(Me));T(be.map(Me=>({value:Me.toString(),label:`: ${Me}`}))),qt(Me=>({...Me,no:""})),be.length===0&&de.warn("      ")}catch($){console.error("Error in handleCheckbookChange:",$),de.error("    "),T([])}},ve=A=>{A&&qt($=>({...$,no:A.value}))};C.useEffect(()=>{ne(""),ge(null),Ie(""),it(""),St(null),qt({sayadi:"",no:"",bankVal:null,branchName:"",branchCode:"",accountNo:"",holder:"",date:"",desc:"",endorsement:""}),zt(null),xe(null),T([])},[z,r]);const K=()=>{console.log("=== handleAddItem Called ===");let A=Number(X.replace(/,/g,""));if(r==="payment"&&z==="cheque"&&ut==="spend_customer"&&It&&(A=Number(It.original.amount)),!A||A<=0){de.warn("   ");return}let $="";r==="payment"&&z==="cheque"&&ut==="issue_ours"&&en&&($=en.bankName);let re={sayadi_code:gt.sayadi,cheque_no:gt.no,bank_name:r==="receive"?gt.bankVal?gt.bankVal.label:"":$,branch_name:gt.branchName,account_holder:gt.holder,due_date:gt.date,description:gt.desc,endorsement:gt.endorsement};if(r==="payment"&&ut==="spend_customer"&&It){const Ee=It.original;re={sayadi_code:Ee.sayadi_code||"",cheque_no:Ee.cheque_no,bank_name:Ee.bank_name,branch_name:Ee.branch_name||"",account_holder:Ee.account_holder||"",due_date:Ee.due_date,description:Ee.description||"",endorsement:Ee.endorsement||""}}const ue={id:Date.now(),method:z,amount:A,ref_id:le?le.value:null,ref_label:le?le.label:null,tracking_no:Ue,fee:ot?Number(ot.replace(/,/g,"")):0,attachment:Te||null,cheque_type:r==="receive"?"new_receive":ut,sayadi_code:re.sayadi_code,cheque_no:re.cheque_no,bank_name:re.bank_name,branch_name:re.branch_name,account_holder:re.account_holder,due_date:re.due_date,description:re.description,endorsement:re.endorsement,check_id:It?It.value:null,checkbook_id:en?en.value:null};if(console.log("New Item:",ue),z==="cheque")if(r==="payment"&&ut==="spend_customer"){if(!It){de.warn("     ");return}}else{if(!ue.cheque_no||!ue.due_date){de.warn("      ");return}if(r==="receive"&&!ue.sayadi_code){de.warn("      ");return}if(r==="payment"&&ut==="issue_ours"&&!en){de.warn("   ");return}}else if(!le){const Ee=z==="cash"?"   ":z==="pos"?"    ":z==="bank_transfer"?"    ":"   ";de.warn(Ee);return}console.log(" Validation passed, adding item to list"),W([...J,ue]),de.success("    "),ne(""),it(""),Ie(""),St(null),ge(null),qt({sayadi:"",no:"",bankVal:null,branchName:"",branchCode:"",accountNo:"",holder:"",date:"",desc:"",endorsement:""}),xe(null),T([]),zt(null),console.log("=== Item Added Successfully ===")},te=A=>W(J.filter($=>$.id!==A)),Q=async()=>{if(!D)return de.warn("    ");if(J.length===0)return de.warn("   ");n(!0);try{await zDe({type:r,date:N,person_id:D.value,description:Y,manual_no:B,items:J}),de.success("     "),t("/accounting/list")}catch(A){console.error(A),de.error("  : "+A.message)}finally{n(!1)}},me=J.reduce((A,$)=>A+$.amount,0),ye=J.reduce((A,$)=>A+($.fee||0),0);return a.jsx("div",{className:"page-content",children:a.jsxs(An,{fluid:!0,children:[a.jsx("div",{className:"d-flex justify-content-center mb-4",children:a.jsxs(FY,{className:"shadow-sm",children:[a.jsxs(_e,{color:r==="receive"?"success":"light",className:"px-5 py-2",onClick:()=>s("receive"),children:[a.jsx("i",{className:"bx bx-down-arrow-alt me-1"}),"  "]}),a.jsxs(_e,{color:r==="payment"?"danger":"light",className:"px-5 py-2",onClick:()=>s("payment"),children:[a.jsx("i",{className:"bx bx-up-arrow-alt me-1"}),"  "]})]})}),a.jsxs(pe,{children:[a.jsx(M,{lg:12,children:a.jsx(Ct,{className:"shadow-sm border-0 mb-3",style:{backgroundColor:r==="receive"?"#f0fff4":"#fff5f5"},children:a.jsx(At,{children:a.jsxs(pe,{className:"gy-3",children:[a.jsxs(M,{md:4,children:[a.jsx(ee,{children:"  (/)"}),a.jsx(ds,{options:i,value:D,onChange:F,placeholder:" ..."})]}),a.jsxs(M,{md:2,children:[a.jsx(ee,{children:" "}),a.jsx("div",{style:{direction:"rtl"},children:a.jsx(pi,{value:N,onChange:A=>We(A,P)})})]}),a.jsxs(M,{md:6,children:[a.jsx(ee,{children:" "}),a.jsx(ie,{value:Y,onChange:A=>q(A.target.value),placeholder:"..."})]})]})})})}),a.jsx(M,{lg:12,children:a.jsx(Ct,{className:"shadow-sm border-0",children:a.jsxs(At,{children:[a.jsx(hb,{tabs:!0,className:"nav-tabs-custom mb-3",children:["cash","pos","bank_transfer","cheque"].map(A=>a.jsx(Io,{children:a.jsx(ko,{className:Rt({active:z===A}),onClick:()=>Z(A),style:{cursor:"pointer"},children:A==="cash"?"":A==="pos"?"":A==="bank_transfer"?"/":" "})},A))}),a.jsx("div",{className:"bg-light p-3 rounded border",children:a.jsxs(pe,{className:"gy-3",children:[a.jsxs(M,{md:2,children:[a.jsx(ee,{className:"fw-bold",children:" ()"}),a.jsx(ie,{value:X?Number(X).toLocaleString():"",onChange:A=>ne(A.target.value.replace(/[^0-9]/g,"")),disabled:r==="payment"&&z==="cheque"&&ut==="spend_customer",className:"fw-bold text-center border-primary"})]}),z==="cash"&&a.jsxs(a.Fragment,{children:[a.jsxs(M,{md:4,children:[a.jsx(ee,{children:" "}),a.jsx(ds,{options:l,value:le,onChange:ge})]}),a.jsxs(M,{md:3,children:[a.jsx(ee,{children:" "}),a.jsx(ie,{type:"file",onChange:Oe,accept:".pdf,.jpg,.jpeg,.png"}),Te&&a.jsxs("small",{className:"text-success d-block mt-1",children:[" ",Te.filename]})]})]}),z==="pos"&&a.jsxs(a.Fragment,{children:[a.jsxs(M,{md:4,children:[a.jsx(ee,{children:" "}),a.jsx(ds,{options:p,value:le,onChange:ge})]}),a.jsxs(M,{md:2,children:[a.jsx(ee,{children:" "}),a.jsx(ie,{value:Ue,onChange:A=>Ie(A.target.value)})]}),a.jsxs(M,{md:3,children:[a.jsx(ee,{children:" "}),a.jsx(ie,{type:"file",onChange:Oe,accept:".pdf,.jpg,.jpeg,.png"}),Te&&a.jsxs("small",{className:"text-success d-block mt-1",children:[" ",Te.filename]})]})]}),z==="bank_transfer"&&a.jsxs(a.Fragment,{children:[a.jsxs(M,{md:3,children:[a.jsx(ee,{children:"  "}),a.jsx(ds,{options:u,value:le,onChange:ge})]}),a.jsxs(M,{md:2,children:[a.jsx(ee,{children:" ()"}),a.jsx(ie,{value:ot?Number(ot).toLocaleString():"",onChange:A=>it(A.target.value.replace(/[^0-9]/g,"")),placeholder:"0"})]}),a.jsxs(M,{md:2,children:[a.jsx(ee,{children:" "}),a.jsx(ie,{value:Ue,onChange:A=>Ie(A.target.value)})]}),a.jsxs(M,{md:3,children:[a.jsx(ee,{children:"  ()"}),a.jsx(ie,{type:"file",onChange:Oe,accept:".pdf,.jpg,.jpeg,.png"}),Te&&a.jsxs("small",{className:"text-success d-block mt-1",children:[" ",Te.filename]})]})]}),z==="cheque"&&a.jsxs(M,{md:10,children:[r==="payment"&&a.jsx("div",{className:"mb-3 pb-3 border-bottom",children:a.jsx(pe,{children:a.jsxs(M,{md:12,className:"d-flex gap-4",children:[a.jsxs("div",{className:"d-flex align-items-center gap-2 p-3 border rounded cursor-pointer",style:{cursor:"pointer",backgroundColor:ut==="issue_ours"?"#e8f5e9":"#fff",borderColor:ut==="issue_ours"?"#4caf50":"#dee2e6",borderWidth:ut==="issue_ours"?"2px":"1px"},onClick:()=>ft("issue_ours"),children:[a.jsx("input",{type:"radio",name:"chequeMode",checked:ut==="issue_ours",onChange:()=>ft("issue_ours"),style:{cursor:"pointer"}}),a.jsx("label",{className:"fw-bold mb-0",style:{cursor:"pointer"},onClick:A=>{A.preventDefault(),ft("issue_ours")},children:"  "})]}),a.jsxs("div",{className:"d-flex align-items-center gap-2 p-3 border rounded cursor-pointer",style:{cursor:"pointer",backgroundColor:ut==="spend_customer"?"#e3f2fd":"#fff",borderColor:ut==="spend_customer"?"#2196f3":"#dee2e6",borderWidth:ut==="spend_customer"?"2px":"1px"},onClick:()=>ft("spend_customer"),children:[a.jsx("input",{type:"radio",name:"chequeMode",checked:ut==="spend_customer",onChange:()=>ft("spend_customer"),style:{cursor:"pointer"}}),a.jsx("label",{className:"fw-bold text-primary mb-0",style:{cursor:"pointer"},onClick:A=>{A.preventDefault(),ft("spend_customer")},children:"   (  )"})]})]})})}),(r==="receive"||r==="payment"&&ut==="issue_ours")&&a.jsx("div",{className:"p-3 border rounded bg-white",children:a.jsxs(pe,{className:"gy-3",children:[r==="payment"&&a.jsxs(a.Fragment,{children:[a.jsxs(M,{md:6,children:[a.jsx(ee,{className:"fw-bold text-danger",children:"  *"}),a.jsx(ds,{options:x,value:en,onChange:lt,placeholder:"    ..."})]}),a.jsxs(M,{md:6,children:[a.jsx(ee,{children:"   "}),a.jsx(ds,{options:E,onChange:ve,placeholder:en?"  ...":"    ",isDisabled:!en})]}),en&&a.jsx(M,{md:12,children:a.jsxs("div",{className:"alert alert-info mb-0",children:[a.jsx("i",{className:"bx bx-info-circle me-2"}),": ",a.jsx("strong",{children:en.bankName})," |  : ",a.jsx("strong",{children:en.accountNo})]})})]}),a.jsxs(M,{md:4,children:[a.jsxs(ee,{children:["  (16 ) ",r==="receive"&&a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(ie,{value:gt.sayadi,onChange:A=>qt({...gt,sayadi:A.target.value}),maxLength:16})]}),a.jsxs(M,{md:4,children:[a.jsxs(ee,{className:"fw-bold",children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(ie,{value:gt.no,onChange:A=>qt({...gt,no:A.target.value}),disabled:r==="payment"&&en})]}),r==="receive"&&a.jsxs(M,{md:4,children:[a.jsx(ee,{children:" "}),a.jsx(ds,{options:f,value:gt.bankVal,onChange:A=>qt({...gt,bankVal:A})})]}),a.jsxs(M,{md:4,children:[a.jsxs(ee,{className:"fw-bold",children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("div",{style:{direction:"rtl"},children:a.jsx(pi,{value:gt.date,onChange:A=>We(A,$=>qt(re=>({...re,date:$})))})})]}),a.jsxs(M,{md:4,children:[a.jsx(ee,{children:r==="receive"?"  ()":" "}),a.jsx(ie,{value:gt.holder,onChange:A=>qt({...gt,holder:A.target.value})})]}),a.jsxs(M,{md:4,children:[a.jsx(ee,{children:"/ "}),a.jsx(ie,{value:gt.desc,onChange:A=>qt({...gt,desc:A.target.value})})]}),a.jsxs(M,{md:4,children:[a.jsx(ee,{children:"  ( )"}),a.jsx(ie,{type:"file",onChange:Oe,accept:".pdf,.jpg,.jpeg,.png"}),Te&&a.jsxs("small",{className:"text-success d-block mt-1",children:[" ",Te.filename]})]})]})}),r==="payment"&&ut==="spend_customer"&&a.jsxs(M,{md:12,children:[a.jsx(ee,{className:"text-primary fw-bold",children:"    "}),a.jsx(ds,{options:_,value:It,onChange:A=>{zt(A),ne(A.original.amount.toString())},placeholder:"     ..."})]})]}),a.jsx(M,{md:12,className:"text-end border-top pt-3",children:a.jsxs(_e,{color:"primary",onClick:K,className:"px-4",children:[a.jsx("i",{className:"bx bx-plus me-1"}),"    "]})})]})}),a.jsxs(Yn,{hover:!0,responsive:!0,className:"mt-4 align-middle text-center border",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:" ()"}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsxs("tbody",{children:[J.map(A=>{var ue,Ee;const $=((ue=A.attachment)==null?void 0:ue.filename)||((Ee=A.attachment)==null?void 0:Ee.name)||null,re=$&&$.length>15?$.substring(0,15)+"...":$;return a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx(ct,{color:A.method==="cheque"?"warning":"info",className:"p-2",children:A.method==="cash"?"":A.method==="pos"?"":A.method==="bank_transfer"?"":" "})}),a.jsx("td",{className:"text-start",children:A.cheque_no?a.jsxs("div",{children:[a.jsxs("span",{className:"fw-bold",children:[" ",A.cheque_no]}),A.bank_name&&a.jsxs(a.Fragment,{children:[" - ",A.bank_name]}),a.jsx("br",{}),a.jsxs("small",{className:"text-muted",children:[A.sayadi_code&&a.jsxs(a.Fragment,{children:[": ",A.sayadi_code," | "]}),": ",A.due_date]})]}):A.ref_label||""}),a.jsx("td",{className:"fw-bold text-dark",children:Number(A.amount).toLocaleString()}),a.jsx("td",{className:"text-danger",children:A.fee?Number(A.fee).toLocaleString():"-"}),a.jsx("td",{children:$?a.jsxs(ct,{color:"success",className:"p-2",title:$,children:[a.jsx("i",{className:"bx bx-paperclip me-1"}),re]}):a.jsx("span",{className:"text-muted",children:"-"})}),a.jsx("td",{children:a.jsx(_e,{size:"sm",color:"danger",outline:!0,onClick:()=>te(A.id),children:a.jsx("i",{className:"bx bx-trash"})})})]},A.id)}),J.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"py-4 text-muted font-italic",children:"    "})})]}),J.length>0&&a.jsx("tfoot",{children:a.jsxs("tr",{className:"table-active",children:[a.jsx("td",{colSpan:"2",className:"text-end fw-bold",children:" :"}),a.jsx("td",{className:"fw-bold text-primary fs-5",children:me.toLocaleString()}),a.jsx("td",{className:"fw-bold text-danger",children:ye>0?ye.toLocaleString():"-"}),a.jsx("td",{colSpan:"2",children:""})]})})]}),a.jsx("div",{className:"text-center mt-5",children:a.jsxs(_e,{color:r==="receive"?"success":"danger",size:"lg",className:"px-5 shadow-lg",onClick:Q,disabled:e||J.length===0,children:[e?a.jsx("i",{className:"bx bx-loader bx-spin me-2"}):a.jsx("i",{className:"bx bx-check-double me-2"}),r==="receive"?"     ":"     "]})})]})})})]})]})})}function D8e(){var G,J;const[t,e]=C.useState("received"),[n,r]=C.useState([]),[s,i]=C.useState(!1),[o,l]=C.useState(!1),[c,u]=C.useState(!1),[d,f]=C.useState(null),[m,p]=C.useState(""),[y,_]=C.useState(new Date().toISOString().slice(0,10)),[b,x]=C.useState(null),[w,E]=C.useState([]),[T,N]=C.useState([]),P=W=>{if(!W)return"-";const z=new Date(W);return new Intl.DateTimeFormat("fa-IR").format(z)},D=async()=>{i(!0);try{const W=t==="received"?"receive":"issue",{data:z,error:Z}=await je.from("treasury_checks").select(`
                    *, 
                    owner:accounting_tafsili!owner_id(title),
                    target_bank:treasury_banks!target_bank_id(bank_name, account_no)
                `).eq("type",W).order("due_date",{ascending:!0});if(Z)throw Z;r(z||[])}catch(W){de.error("   "),console.error(W)}finally{i(!1)}},F=async()=>{try{const W=await yb();E(W.map(Z=>({value:Z.id,label:`${Z.bank_name} (${Z.account_no})`})));const z=await $A();N(z.map(Z=>({value:Z.id,label:Z.title})))}catch(W){console.error("Error fetching options",W)}};C.useEffect(()=>{D()},[t]),C.useEffect(()=>{F()},[]);const Y=(W,z)=>{f(W),p(z),x(null),u(!0)},q=async()=>{if((m==="deposit"||m==="spend")&&!b)return de.warn("    ");l(!0);try{const W=m==="clear"&&(d==null?void 0:d.status)==="deposited"?d.target_bank_id:b?b.value:null;await WDe({checkId:d.id,operation:m,date:y,targetId:W}),de.success("    "),u(!1),D()}catch(W){de.error(": "+W.message)}finally{l(!1)}},B=W=>{var X;const Z={pending:{color:"warning",text:W.type==="receive"?" ":" "},deposited:{color:"info",text:`   ${((X=W.target_bank)==null?void 0:X.bank_name)||""}`},cleared:{color:"success",text:" "},spent:{color:"secondary",text:" "},bounced:{color:"danger",text:""},returned:{color:"dark",text:"  "}}[W.status]||{color:"light",text:W.status};return a.jsx(ct,{color:Z.color,className:"p-2",children:Z.text})};return a.jsx("div",{className:"page-content",children:a.jsxs(An,{fluid:!0,children:[a.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[a.jsx("h4",{className:"mb-0 font-size-18 fw-bold",children:"  "}),s&&a.jsx(Wn,{size:"sm",color:"primary"})]}),a.jsx(Ct,{className:"shadow-sm",children:a.jsxs(At,{children:[a.jsxs(hb,{tabs:!0,className:"nav-tabs-custom mb-4",children:[a.jsx(Io,{children:a.jsx(ko,{className:Rt({active:t==="received"}),onClick:()=>e("received"),style:{cursor:"pointer"},children:"  ()"})}),a.jsx(Io,{children:a.jsx(ko,{className:Rt({active:t==="issued"}),onClick:()=>e("issued"),style:{cursor:"pointer"},children:"  ()"})})]}),a.jsxs(Yn,{responsive:!0,hover:!0,className:"align-middle text-center border",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:"  / "}),a.jsx("th",{children:" ()"}),a.jsx("th",{children:" ()"}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:n.length>0?n.map(W=>{var z;return a.jsxs("tr",{children:[a.jsxs("td",{className:"fw-bold",children:[W.cheque_no,a.jsx("div",{className:"small text-muted font-size-11",children:W.sayadi_code})]}),a.jsx("td",{children:Number(W.amount).toLocaleString()}),a.jsx("td",{children:P(W.due_date)}),a.jsx("td",{children:W.bank_name}),a.jsx("td",{children:((z=W.owner)==null?void 0:z.title)||"-"}),a.jsx("td",{children:B(W)}),a.jsx("td",{children:a.jsxs("div",{className:"d-flex justify-content-center gap-1",children:[t==="received"&&a.jsxs(a.Fragment,{children:[W.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx(_e,{size:"sm",color:"info",outline:!0,onClick:()=>Y(W,"deposit"),title:"  ",children:a.jsx("i",{className:"bx bxs-bank"})}),a.jsx(_e,{size:"sm",color:"secondary",outline:!0,onClick:()=>Y(W,"spend"),title:" ",children:a.jsx("i",{className:"bx bx-share"})}),a.jsx(_e,{size:"sm",color:"success",outline:!0,onClick:()=>Y(W,"clear"),title:" ",children:a.jsx("i",{className:"bx bx-check"})})]}),W.status==="deposited"&&a.jsxs(a.Fragment,{children:[a.jsx(_e,{size:"sm",color:"success",onClick:()=>Y(W,"clear"),children:" "}),a.jsx(_e,{size:"sm",color:"danger",outline:!0,onClick:()=>Y(W,"bounce"),children:""})]})]}),t==="issued"&&W.status==="pending"&&a.jsx(_e,{size:"sm",color:"success",outline:!0,onClick:()=>Y(W,"clear"),children:"  (  )"}),(W.status==="cleared"||W.status==="spent")&&a.jsx(ct,{color:"light",className:"text-muted px-2 py-1",children:" "})]})})]},W.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"text-center py-4 text-muted",children:"  "})})})]})]})}),a.jsxs(Mi,{isOpen:c,toggle:()=>u(!c),centered:!0,children:[a.jsx(Bo,{toggle:()=>u(!c),className:"bg-light",children:m==="deposit"?"   ":m==="clear"?"  ":m==="spend"?"  ":" "}),a.jsxs(Qa,{children:[a.jsxs("div",{className:"alert alert-warning border-0 p-2 font-size-13 text-center mb-3",children:["  ",a.jsx("b",{children:d==null?void 0:d.cheque_no}),"   ",a.jsx("b",{children:Number(d==null?void 0:d.amount).toLocaleString()})," "]}),a.jsxs(pe,{className:"gy-3",children:[a.jsxs(M,{md:12,children:[a.jsx(ee,{children:"  "}),a.jsx("div",{style:{direction:"rtl"},children:a.jsx(pi,{value:y,onChange:W=>(W==null?void 0:W.toDate)&&_(W.toDate().toISOString().slice(0,10))})})]}),m==="deposit"&&a.jsxs(M,{md:12,children:[a.jsx(ee,{children:"    "}),a.jsx(ds,{options:w,onChange:x,placeholder:" ..."})]}),m==="clear"&&(d==null?void 0:d.status)==="deposited"&&a.jsx(M,{md:12,children:a.jsxs("div",{className:"bg-light p-3 rounded text-center border",children:[a.jsx(ee,{className:"d-block text-muted small",children:"     :"}),a.jsx("strong",{className:"text-primary font-size-15",children:(G=d.target_bank)==null?void 0:G.bank_name}),a.jsx("div",{className:"small text-secondary",children:(J=d.target_bank)==null?void 0:J.account_no})]})}),m==="spend"&&a.jsxs(M,{md:12,children:[a.jsx(ee,{children:" "}),a.jsx(ds,{options:T,onChange:x,placeholder:" ..."})]})]})]}),a.jsxs(bc,{className:"bg-light",children:[a.jsx(_e,{color:"success",onClick:q,disabled:o,className:"px-4",children:o?a.jsx(Wn,{size:"sm"}):"  "}),a.jsx(_e,{color:"secondary",outline:!0,onClick:()=>u(!1),children:""})]})]})]})})}function L8e(){const t=is(),[e,n]=C.useState([]),[r,s]=C.useState(!0),[i,o]=C.useState(""),[l,c]=C.useState("all"),[u,d]=C.useState(!1),[f,m]=C.useState({id:null,date:"",description:"",manual_no:""}),[p,y]=C.useState(!1),[_,b]=C.useState(!1),[x,w]=C.useState(null),E=z=>{if(!z)return"-";try{return new Date(z).toLocaleDateString("fa-IR")}catch{return"-"}},T=z=>{if(!z)return"-";try{const Z=new Date(z);return Z.toLocaleDateString("fa-IR")+" "+Z.toLocaleTimeString("fa-IR",{hour:"2-digit",minute:"2-digit"})}catch{return"-"}},N=async()=>{s(!0);try{const z=await GDe();console.log("Treasury Documents:",z),n(z)}catch(z){console.error(z),de.error("   : "+z.message)}finally{s(!1)}};C.useEffect(()=>{N()},[]);const P=async z=>{if(window.confirm("           .")){s(!0);try{await HDe(z),de.success("    "),await N()}catch(Z){console.error("Delete error:",Z),de.error("  : "+Z.message)}finally{s(!1)}}},D=z=>{m({id:z.id,date:z.doc_date,description:z.description,manual_no:z.manual_no||""}),d(!0)},F=async()=>{if(!f.description||!f.date){de.warn("     ");return}y(!0);try{await qDe(f.id,f),de.success("    "),d(!1),await N()}catch(z){console.error("Update error:",z),de.error("  : "+z.message)}finally{y(!1)}},Y=z=>{w(z),b(!0)},B=(()=>{let z=e;return l==="receive"?z=z.filter(Z=>{var X;return(X=Z.description)==null?void 0:X.includes("")}):l==="payment"?z=z.filter(Z=>{var X;return(X=Z.description)==null?void 0:X.includes("")}):l==="check"&&(z=z.filter(Z=>{var X;return(X=Z.description)==null?void 0:X.includes("")})),i&&(z=z.filter(Z=>Z.description&&Z.description.toLowerCase().includes(i.toLowerCase())||Z.manual_no&&Z.manual_no.includes(i)||Z.id.toString().includes(i))),z})(),G=z=>z?z.includes("")?a.jsx(ct,{color:"success",className:"font-size-12",children:" "}):z.includes("")?a.jsx(ct,{color:"danger",className:"font-size-12",children:" "}):z.includes("")?a.jsx(ct,{color:"warning",className:"text-dark font-size-12",children:" "}):a.jsx(ct,{color:"info",className:"font-size-12",children:" "}):a.jsx(ct,{color:"secondary",className:"font-size-12",children:""}),J=z=>{if(!z)return null;const Z=z.match(/\s+([DP]\d+)/);return Z?Z[1]:null},W={total:e.length,receive:e.filter(z=>{var Z;return(Z=z.description)==null?void 0:Z.includes("")}).length,payment:e.filter(z=>{var Z;return(Z=z.description)==null?void 0:Z.includes("")}).length,check:e.filter(z=>{var Z;return(Z=z.description)==null?void 0:Z.includes("")}).length,totalReceiveAmount:e.filter(z=>{var Z;return(Z=z.description)==null?void 0:Z.includes("")}).reduce((z,Z)=>z+(Number(Z.total_amount)||0),0),totalPaymentAmount:e.filter(z=>{var Z;return(Z=z.description)==null?void 0:Z.includes("")}).reduce((z,Z)=>z+(Number(Z.total_amount)||0),0)};return a.jsx("div",{className:"page-content",children:a.jsxs(An,{fluid:!0,children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"fw-bold font-size-18 mb-1",children:"  "}),a.jsxs("p",{className:"text-muted mb-0",children:[a.jsx("i",{className:"bx bx-file me-1"}),W.total,"   "]})]}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsxs(_e,{color:"success",onClick:()=>t("/accounting/treasury-form"),children:[a.jsx("i",{className:"bx bx-plus me-1"})," / "]}),a.jsxs(_e,{color:"warning",outline:!0,onClick:()=>t("/accounting/check-operations"),children:[a.jsx("i",{className:"bx bx-check-shield me-1"}),"  "]})]})]}),a.jsxs(pe,{className:"mb-4",children:[a.jsx(M,{md:3,children:a.jsx(Ct,{className:"mini-stats-wid shadow-sm border-0",children:a.jsx(At,{children:a.jsxs("div",{className:"d-flex",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("p",{className:"text-muted fw-medium mb-2",children:""}),a.jsxs("h5",{className:"mb-0 text-success",children:[W.receive," "]}),a.jsxs("p",{className:"text-muted font-size-11 mb-0",children:[W.totalReceiveAmount.toLocaleString()," "]})]}),a.jsx("div",{className:"avatar-sm rounded-circle bg-success-subtle align-self-center",children:a.jsx("span",{className:"avatar-title bg-transparent",children:a.jsx("i",{className:"bx bx-down-arrow-alt font-size-24 text-success"})})})]})})})}),a.jsx(M,{md:3,children:a.jsx(Ct,{className:"mini-stats-wid shadow-sm border-0",children:a.jsx(At,{children:a.jsxs("div",{className:"d-flex",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("p",{className:"text-muted fw-medium mb-2",children:""}),a.jsxs("h5",{className:"mb-0 text-danger",children:[W.payment," "]}),a.jsxs("p",{className:"text-muted font-size-11 mb-0",children:[W.totalPaymentAmount.toLocaleString()," "]})]}),a.jsx("div",{className:"avatar-sm rounded-circle bg-danger-subtle align-self-center",children:a.jsx("span",{className:"avatar-title bg-transparent",children:a.jsx("i",{className:"bx bx-up-arrow-alt font-size-24 text-danger"})})})]})})})}),a.jsx(M,{md:3,children:a.jsx(Ct,{className:"mini-stats-wid shadow-sm border-0",children:a.jsx(At,{children:a.jsxs("div",{className:"d-flex",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("p",{className:"text-muted fw-medium mb-2",children:" "}),a.jsxs("h5",{className:"mb-0 text-warning",children:[W.check," "]})]}),a.jsx("div",{className:"avatar-sm rounded-circle bg-warning-subtle align-self-center",children:a.jsx("span",{className:"avatar-title bg-transparent",children:a.jsx("i",{className:"bx bx-check-shield font-size-24 text-warning"})})})]})})})}),a.jsx(M,{md:3,children:a.jsx(Ct,{className:"mini-stats-wid shadow-sm border-0",children:a.jsx(At,{children:a.jsxs("div",{className:"d-flex",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("p",{className:"text-muted fw-medium mb-2",children:""}),a.jsx("h5",{className:`mb-0 ${W.totalReceiveAmount-W.totalPaymentAmount>=0?"text-success":"text-danger"}`,children:(W.totalReceiveAmount-W.totalPaymentAmount).toLocaleString()}),a.jsx("p",{className:"text-muted font-size-11 mb-0",children:""})]}),a.jsx("div",{className:"avatar-sm rounded-circle bg-primary-subtle align-self-center",children:a.jsx("span",{className:"avatar-title bg-transparent",children:a.jsx("i",{className:"bx bx-wallet font-size-24 text-primary"})})})]})})})})]}),a.jsx(Ct,{className:"shadow-sm border-0",children:a.jsxs(At,{children:[a.jsxs(pe,{className:"mb-4",children:[a.jsx(M,{md:4,children:a.jsx("div",{className:"search-box",children:a.jsxs("div",{className:"position-relative",children:[a.jsx(ie,{className:"form-control",placeholder:"       ...",value:i,onChange:z=>o(z.target.value)}),a.jsx("i",{className:"bx bx-search-alt search-icon"})]})})}),a.jsx(M,{md:8,className:"text-end",children:a.jsxs("div",{className:"btn-group",role:"group",children:[a.jsxs(_e,{color:l==="all"?"primary":"light",onClick:()=>c("all"),size:"sm",children:[" (",W.total,")"]}),a.jsxs(_e,{color:l==="receive"?"success":"light",onClick:()=>c("receive"),size:"sm",children:[" (",W.receive,")"]}),a.jsxs(_e,{color:l==="payment"?"danger":"light",onClick:()=>c("payment"),size:"sm",children:[" (",W.payment,")"]}),a.jsxs(_e,{color:l==="check"?"warning":"light",onClick:()=>c("check"),size:"sm",children:[" (",W.check,")"]})]})})]}),r?a.jsxs("div",{className:"text-center py-5",children:[a.jsx(Wn,{color:"primary"}),a.jsx("p",{className:"text-muted mt-2",children:"  ..."})]}):a.jsxs(Yn,{responsive:!0,hover:!0,className:"align-middle text-center table-nowrap border",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"70px"},children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:" ()"}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:B.length>0?B.map((z,Z)=>{const X=J(z.description);return a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("span",{className:"text-muted",children:["#",Z+1]})}),a.jsx("td",{children:X?a.jsx(ct,{color:"dark",className:"font-size-13 px-3 py-2",children:X}):a.jsx("span",{className:"text-muted",children:z.id})}),a.jsx("td",{children:G(z.description)}),a.jsx("td",{className:"fw-medium",children:E(z.doc_date)}),a.jsx("td",{className:"text-start",style:{maxWidth:"300px"},children:a.jsx("div",{className:"text-truncate",title:z.description,children:z.description})}),a.jsx("td",{children:a.jsx("span",{className:"fw-bold text-dark fs-6",children:z.total_amount?Number(z.total_amount).toLocaleString():"0"})}),a.jsx("td",{children:z.manual_no?a.jsx(ct,{color:"info",className:"font-size-11",children:z.manual_no}):a.jsx("span",{className:"text-muted",children:"-"})}),a.jsx("td",{className:"font-size-11 text-muted",children:T(z.created_at)}),a.jsx("td",{children:a.jsxs(XY,{children:[a.jsx(Qd,{tag:"button",className:"btn btn-light btn-sm",children:a.jsx("i",{className:"bx bx-dots-vertical-rounded"})}),a.jsxs(Nf,{end:!0,children:[a.jsxs(nf,{onClick:()=>Y(z),children:[a.jsx("i",{className:"bx bx-detail me-2 text-primary"}),""]}),a.jsxs(nf,{onClick:()=>D(z),children:[a.jsx("i",{className:"bx bx-edit me-2 text-info"}),""]}),a.jsx(nf,{divider:!0}),a.jsxs(nf,{onClick:()=>P(z.id),className:"text-danger",children:[a.jsx("i",{className:"bx bx-trash me-2"}),""]})]})]})})]},z.id)}):a.jsx("tr",{children:a.jsxs("td",{colSpan:"9",className:"text-center py-5",children:[a.jsx("i",{className:"bx bx-folder-open font-size-48 d-block mb-3 text-secondary"}),a.jsx("h5",{className:"text-muted",children:"   "}),a.jsx("p",{className:"text-muted",children:i||l!=="all"?"      ":"        "})]})})})]})]})}),a.jsxs(Mi,{isOpen:u,toggle:()=>d(!u),centered:!0,children:[a.jsxs(Bo,{toggle:()=>d(!u),children:[a.jsx("i",{className:"bx bx-edit me-2"}),"   ",f.id]}),a.jsx(Qa,{children:a.jsxs(pe,{className:"gy-3",children:[a.jsxs(M,{md:12,children:[a.jsxs(ee,{className:"fw-bold",children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("div",{style:{direction:"rtl"},children:a.jsx(pi,{value:f.date,onChange:z=>{z!=null&&z.toDate&&m({...f,date:z.toDate().toISOString().slice(0,10)})}})})]}),a.jsxs(M,{md:12,children:[a.jsxs(ee,{className:"fw-bold",children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(ie,{type:"textarea",rows:"3",value:f.description,onChange:z=>m({...f,description:z.target.value}),placeholder:"     ..."})]}),a.jsxs(M,{md:12,children:[a.jsx(ee,{className:"fw-bold",children:"  / "}),a.jsx(ie,{value:f.manual_no,onChange:z=>m({...f,manual_no:z.target.value}),placeholder:""})]}),a.jsx(M,{md:12,children:a.jsxs("div",{className:"alert alert-warning p-3 mb-0",children:[a.jsx("i",{className:"bx bx-error-circle me-2"}),a.jsx("strong",{children:":"}),"              ."]})})]})}),a.jsxs(bc,{children:[a.jsx(_e,{color:"primary",onClick:F,disabled:p,children:p?a.jsxs(a.Fragment,{children:[a.jsx(Wn,{size:"sm",className:"me-2"}),"   ..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bx bx-check me-2"})," "]})}),a.jsx(_e,{color:"secondary",outline:!0,onClick:()=>d(!1),children:""})]})]}),a.jsxs(Mi,{isOpen:_,toggle:()=>b(!_),size:"lg",centered:!0,children:[a.jsxs(Bo,{toggle:()=>b(!_),children:[a.jsx("i",{className:"bx bx-detail me-2"}),"   ",x==null?void 0:x.id]}),a.jsx(Qa,{children:x&&a.jsxs("div",{children:[a.jsxs(pe,{className:"mb-3",children:[a.jsxs(M,{md:6,children:[a.jsx("p",{className:"text-muted mb-1",children:" :"}),a.jsx("p",{className:"fw-bold",children:G(x.description)})]}),a.jsxs(M,{md:6,children:[a.jsx("p",{className:"text-muted mb-1",children:" :"}),a.jsx("p",{className:"fw-bold",children:E(x.doc_date)})]}),a.jsxs(M,{md:6,children:[a.jsx("p",{className:"text-muted mb-1",children:" :"}),a.jsxs("p",{className:"fw-bold text-primary fs-5",children:[x.total_amount?Number(x.total_amount).toLocaleString():"0"," "]})]}),a.jsxs(M,{md:6,children:[a.jsx("p",{className:"text-muted mb-1",children:" :"}),a.jsx("p",{className:"fw-bold",children:x.manual_no||"-"})]}),a.jsxs(M,{md:12,children:[a.jsx("p",{className:"text-muted mb-1",children:":"}),a.jsx("div",{className:"alert alert-light mb-0",children:x.description})]})]}),x.financial_entries&&x.financial_entries.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("h6",{className:"fw-bold mb-3",children:" :"}),a.jsxs(Yn,{size:"sm",bordered:!0,className:"mb-0",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:x.financial_entries.map((z,Z)=>a.jsxs("tr",{children:[a.jsx("td",{children:Z+1}),a.jsx("td",{className:"text-danger fw-bold",children:z.bed?Number(z.bed).toLocaleString():"-"}),a.jsx("td",{className:"text-success fw-bold",children:z.bes?Number(z.bes).toLocaleString():"-"})]},Z))})]})]})]})}),a.jsx(bc,{children:a.jsx(_e,{color:"secondary",onClick:()=>b(!1),children:""})})]})]})})}function M8e(){const[t,e]=C.useState("1"),[n,r]=C.useState(!1),[s,i]=C.useState([]),[o,l]=C.useState([]),[c,u]=C.useState([]),[d,f]=C.useState([]),[m,p]=C.useState([]),[y,_]=C.useState(!1),[b,x]=C.useState(""),[w,E]=C.useState({}),[T,N]=C.useState(!1),P=async()=>{r(!0);try{const B=await aZ();i(B);const G=await yb();l(G);const J=await A0();u(J);const W=await oZ();f(W);const z=await $De();p(z)}catch{de.error("   ")}finally{r(!1)}};C.useEffect(()=>{P()},[]);const D=(B="")=>{x(B),E({}),N(!1),_(!y)},F=(B,G)=>{x(G),E(B),N(!0),_(!0)},Y=async()=>{try{if(b==="bank"){if(!w.bank_name||!w.account_no)return de.warn("     ");T?(await PDe(w.id,w),de.success("  ")):(await RDe(w),de.success("  "))}else if(b==="cash"){if(!w.title)return de.warn("   ");T?(await MDe(w.id,w),de.success("  ")):(await LDe(w),de.success("  "))}else if(b==="pos"){if(!w.title||!w.bank_id)return de.warn("     ");await BDe(w),de.success("  ")}else if(b==="check"){if(!w.bank_id||!w.serial_start)return de.warn("  ");await FDe(w),de.success("  ")}_(!1),P()}catch(B){console.error(B),de.error("   ")}},q=async(B,G)=>{if(window.confirm("  "))try{G==="bank"&&await DDe(B),de.success(" "),P()}catch{de.error("  ")}};return a.jsx("div",{className:"page-content",children:a.jsxs(An,{fluid:!0,children:[a.jsx("h4",{className:"mb-4 font-size-18 fw-bold",children:" "}),a.jsx(Ct,{children:a.jsxs(At,{children:[a.jsxs(hb,{tabs:!0,className:"nav-tabs-custom mb-4",children:[a.jsx(Io,{children:a.jsx(ko,{className:Rt({active:t==="1"}),onClick:()=>e("1"),style:{cursor:"pointer"},children:"1. "})}),a.jsx(Io,{children:a.jsx(ko,{className:Rt({active:t==="2"}),onClick:()=>e("2"),style:{cursor:"pointer"},children:"2. "})}),a.jsx(Io,{children:a.jsx(ko,{className:Rt({active:t==="3"}),onClick:()=>e("3"),style:{cursor:"pointer"},children:"3. "})}),a.jsx(Io,{children:a.jsx(ko,{className:Rt({active:t==="4"}),onClick:()=>e("4"),style:{cursor:"pointer"},children:"4. "})})]}),a.jsxs(K$,{activeTab:t,children:[a.jsxs(Pd,{tabId:"1",children:[a.jsx(_e,{color:"primary",className:"mb-3",onClick:()=>D("bank"),children:"+   "}),a.jsxs(Yn,{bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:o.map(B=>a.jsxs("tr",{children:[a.jsxs("td",{className:"fw-bold",children:[B.bank_name," - ",B.branch_name]}),a.jsx("td",{children:B.account_no}),a.jsx("td",{children:B.card_no}),a.jsx("td",{children:B.accounting_tafsili?a.jsxs("span",{className:"badge bg-success font-size-12",children:[B.accounting_tafsili.code," - ",B.accounting_tafsili.title]}):a.jsx("span",{className:"text-muted",children:"-"})}),a.jsx("td",{children:a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(_e,{size:"sm",color:"warning",outline:!0,onClick:()=>F(B,"bank"),children:a.jsx("i",{className:"bx bx-edit"})}),a.jsx(_e,{size:"sm",color:"danger",outline:!0,onClick:()=>q(B.id,"bank"),children:a.jsx("i",{className:"bx bx-trash"})})]})})]},B.id))})]})]}),a.jsxs(Pd,{tabId:"2",children:[a.jsx(_e,{color:"primary",className:"mb-3",onClick:()=>D("cash"),children:"+  "}),a.jsxs(Yn,{bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:c.map(B=>a.jsxs("tr",{children:[a.jsx("td",{className:"fw-bold",children:B.title}),a.jsx("td",{children:B.keeper_name}),a.jsx("td",{children:B.accounting_tafsili?a.jsxs("span",{className:"badge bg-success font-size-12",children:[B.accounting_tafsili.code," - ",B.accounting_tafsili.title]}):a.jsx("span",{className:"text-muted",children:"-"})}),a.jsx("td",{children:a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(_e,{size:"sm",color:"warning",outline:!0,onClick:()=>F(B,"cash"),children:a.jsx("i",{className:"bx bx-edit"})}),a.jsx(_e,{size:"sm",color:"danger",outline:!0,onClick:()=>q(B.id,"bank"),children:a.jsx("i",{className:"bx bx-trash"})})]})})]},B.id))})]})]}),a.jsxs(Pd,{tabId:"3",children:[a.jsx(_e,{color:"primary",className:"mb-3",onClick:()=>D("pos"),children:"+  "}),a.jsxs(Yn,{bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:""}),a.jsx("th",{children:"  "}),a.jsx("th",{children:" "})]})}),a.jsx("tbody",{children:d.map(B=>{var G,J,W;return a.jsxs("tr",{children:[a.jsx("td",{className:"fw-bold",children:B.title}),a.jsxs("td",{children:[(G=B.treasury_banks)==null?void 0:G.bank_name," (",(J=B.treasury_banks)==null?void 0:J.account_no,")"]}),a.jsx("td",{children:a.jsx("span",{className:"badge bg-success font-size-12",children:(W=B.accounting_tafsili)==null?void 0:W.code})})]},B.id)})})]})]}),a.jsxs(Pd,{tabId:"4",children:[a.jsx(_e,{color:"primary",className:"mb-3",onClick:()=>D("check"),children:"+  "}),a.jsxs(Yn,{bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:m.map(B=>{var G;return a.jsxs("tr",{children:[a.jsx("td",{children:(G=B.treasury_banks)==null?void 0:G.bank_name}),a.jsxs("td",{children:[B.serial_start,"  ",B.serial_end]}),a.jsx("td",{children:B.status})]},B.id)})})]})]})]})]})}),a.jsxs(Mi,{isOpen:y,toggle:()=>_(!y),centered:!0,children:[a.jsx(Bo,{toggle:()=>_(!y),children:T?" ":"  "}),a.jsx(Qa,{children:a.jsxs(pe,{className:"gy-3",children:[b==="bank"&&a.jsxs(a.Fragment,{children:[a.jsxs(M,{md:6,children:[a.jsxs(ee,{children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs(ie,{type:"select",value:w.bank_name||"",onChange:B=>E({...w,bank_name:B.target.value}),children:[a.jsx("option",{value:"",children:" ..."}),s.map(B=>a.jsx("option",{value:B.name,children:B.name},B.id))]})]}),a.jsxs(M,{md:6,children:[a.jsx(ee,{children:" "}),a.jsx(ie,{value:w.branch_name||"",onChange:B=>E({...w,branch_name:B.target.value})})]}),a.jsxs(M,{md:12,children:[a.jsxs(ee,{children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(ie,{value:w.account_no||"",onChange:B=>E({...w,account_no:B.target.value})})]}),a.jsxs(M,{md:12,children:[a.jsx(ee,{children:" "}),a.jsx(ie,{value:w.card_no||"",onChange:B=>E({...w,card_no:B.target.value})})]}),a.jsxs(M,{md:12,children:[a.jsx(ee,{children:" "}),a.jsx(ie,{value:w.sheba_no||"",onChange:B=>E({...w,sheba_no:B.target.value}),placeholder:"IR..."})]})]}),b==="cash"&&a.jsxs(a.Fragment,{children:[a.jsxs(M,{md:12,children:[a.jsxs(ee,{children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(ie,{value:w.title||"",onChange:B=>E({...w,title:B.target.value}),placeholder:"  "})]}),a.jsxs(M,{md:12,children:[a.jsx(ee,{children:" "}),a.jsx(ie,{value:w.keeper_name||"",onChange:B=>E({...w,keeper_name:B.target.value})})]})]}),b==="pos"&&a.jsxs(a.Fragment,{children:[a.jsxs(M,{md:12,children:[a.jsx(ee,{children:" "}),a.jsx(ie,{value:w.title||"",onChange:B=>E({...w,title:B.target.value})})]}),a.jsxs(M,{md:12,children:[a.jsx(ee,{children:"   "}),a.jsxs(ie,{type:"select",onChange:B=>E({...w,bank_id:B.target.value}),children:[a.jsx("option",{value:"",children:" ..."}),o.map(B=>a.jsxs("option",{value:B.id,children:[B.bank_name," - ",B.account_no]},B.id))]})]}),a.jsxs(M,{md:12,children:[a.jsx(ee,{children:" "}),a.jsx(ie,{value:w.terminal_id||"",onChange:B=>E({...w,terminal_id:B.target.value})})]})]}),b==="check"&&a.jsxs(a.Fragment,{children:[a.jsxs(M,{md:12,children:[a.jsx(ee,{children:" "}),a.jsxs(ie,{type:"select",onChange:B=>E({...w,bank_id:B.target.value}),children:[a.jsx("option",{value:"",children:" ..."}),o.map(B=>a.jsxs("option",{value:B.id,children:[B.bank_name," - ",B.account_no]},B.id))]})]}),a.jsxs(M,{md:6,children:[a.jsx(ee,{children:" "}),a.jsx(ie,{type:"number",value:w.serial_start||"",onChange:B=>E({...w,serial_start:B.target.value})})]}),a.jsxs(M,{md:6,children:[a.jsx(ee,{children:" "}),a.jsx(ie,{type:"number",value:w.serial_end||"",onChange:B=>E({...w,serial_end:B.target.value})})]})]})]})}),a.jsxs(bc,{children:[a.jsx(_e,{color:"success",onClick:Y,children:T?"  ":""}),a.jsx(_e,{color:"secondary",onClick:()=>_(!y),children:""})]})]})]})})}const dte="/assets/profile-img-CRd73P5u.png",M0="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2022.0.1,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20225%20225'%20style='enable-background:new%200%200%20225%20225;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:none;stroke:%23ffffff;stroke-width:20;stroke-linecap:round;stroke-miterlimit:3;}%20%3c/style%3e%3cg%20transform='matrix(%201,%200,%200,%201,%200,0)%20'%3e%3cg%3e%3cpath%20id='Layer0_0_1_STROKES'%20class='st0'%20d='M173.8,151.5l13.6-13.6%20M35.4,89.9l29.1-29%20M89.4,34.9v1%20M137.4,187.9l-0.6-0.4%20M36.6,138.7l0.2-0.2%20M56.1,169.1l27.7-27.6%20M63.8,111.5l74.3-74.4%20M87.1,188.1L187.6,87.6%20M110.8,114.5l57.8-57.8'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",S4="CHANGE_LAYOUT",j4="CHANGE_LAYOUT_WIDTH",T4="CHANGE_SIDEBAR_THEME",C4="CHANGE_SIDEBAR_THEME_IMAGE",A4="CHANGE_SIDEBAR_TYPE",N4="CHANGE_TOPBAR_THEME",$8e="SHOW_SIDEBAR",hte="TOGGLE_LEFTMENU",I4="SHOW_RIGHT_SIDEBAR",fte="CHANGE_PRELOADER",k4="CHANGE_LAYOUT_MODE",O4=t=>({type:S4,payload:t}),F8e=t=>({type:fte,payload:t}),iN=t=>({type:k4,payload:t}),R4=t=>({type:j4,payload:t}),mte=t=>({type:T4,payload:t}),pte=t=>({type:C4,payload:t}),Ef=(t,e)=>({type:A4,payload:{sidebarType:t,isMobile:e}}),P4=t=>({type:N4,payload:t}),$0=t=>({type:I4,payload:t}),gte=t=>({type:hte,payload:t}),D4="register_user",yte="register_user_successfull",vte="register_user_failed",V8e=t=>({type:D4,payload:{user:t}}),ER=t=>({type:yte,payload:t}),U8e=t=>({type:vte,payload:t}),bte="LOGIN_USER",_te="LOGIN_SUCCESS",L4="LOGOUT_USER",wte="LOGOUT_USER_SUCCESS",xte="LOGIN_API_ERROR",B8e="SOCIAL_LOGIN",Tw=t=>({type:_te,payload:t}),z8e=t=>({type:L4,payload:{history:t}}),W8e=()=>({type:wte,payload:{}}),aN=t=>({type:xte,payload:t}),Ete="FORGET_PASSWORD",Ste="FORGET_PASSWORD_SUCCESS",jte="FORGET_PASSWORD_ERROR",SR=t=>({type:Ste,payload:t}),G8e=t=>({type:jte,payload:t}),Tte="EDIT_PROFILE",Cte="PROFILE_SUCCESS",Ate="PROFILE_ERROR",H8e="RESET_PROFILE_FLAG",jR=t=>({type:Cte,payload:t}),q8e=t=>({type:Ate,payload:t}),Y8e="GET_PRODUCTS",Nte="GET_PRODUCTS_SUCCESS",Ite="GET_PRODUCTS_FAIL",K8e="GET_PRODUCT_DETAIL",kte="GET_PRODUCT_DETAIL_SUCCESS",Ote="GET_PRODUCT_DETAIL_FAIL",J8e="GET_PRODUCT_COMMENTS",Rte="GET_PRODUCT_COMMENTS_SUCCESS",Pte="GET_PRODUCT_COMMENTS_FAIL",Q8e="ON_LIKE_COMMENT",Dte="ON_LIKE_COMMENT_SUCCESS",Z8e="ON_LIKE_COMMENT_FAIL",X8e="ON_LIKE_REPLY",Lte="ON_LIKE_REPLY_SUCCESS",eWe="ON_LIKE_REPLY_FAIL",tWe="ON_ADD_REPLY",Mte="ON_ADD_REPLY_SUCCESS",nWe="ON_ADD_REPLY_FAIL",rWe="ON_ADD_COMMENT",$te="ON_ADD_COMMENT_SUCCESS",sWe="ON_ADD_COMMENT_FAIL",iWe="GET_ORDERS",Fte="GET_ORDERS_SUCCESS",Vte="GET_ORDERS_FAIL",aWe="ADD_NEW_ORDER",Ute="ADD_ORDER_SUCCESS",Bte="ADD_ORDER_FAIL",oWe="UPDATE_ORDER",zte="UPDATE_ORDER_SUCCESS",Wte="UPDATE_ORDER_FAIL",lWe="DELETE_ORDER",Gte="DELETE_ORDER_SUCCESS",Hte="DELETE_ORDER_FAIL",cWe="GET_CART_DATA",qte="GET_CART_DATA_SUCCESS",Yte="GET_CART_DATA_FAIL",uWe="GET_CUSTOMERS",Kte="GET_CUSTOMERS_SUCCESS",Jte="GET_CUSTOMERS_FAIL",dWe="ADD_NEW_CUSTOMER",Qte="ADD_CUSTOMER_SUCCESS",Zte="ADD_CUSTOMER_FAIL",hWe="UPDATE_CUSTOMER",Xte="UPDATE_CUSTOMER_SUCCESS",ene="UPDATE_CUSTOMER_FAIL",fWe="DELETE_CUSTOMER",tne="DELETE_CUSTOMER_SUCCESS",nne="DELETE_CUSTOMER_FAIL",mWe="GET_SHOPS",rne="GET_SHOPS_SUCCESS",sne="GET_SHOPS_FAIL",pWe=t=>({type:Nte,payload:t}),gWe=t=>({type:Ite,payload:t}),yWe=t=>({type:kte,payload:t}),vWe=t=>({type:Ote,payload:t}),bWe=t=>({type:Fte,payload:t}),_We=t=>({type:Vte,payload:t}),wWe=t=>({type:Ute,payload:t}),xWe=t=>({type:Bte,payload:t}),EWe=t=>({type:zte,payload:t}),SWe=t=>({type:Wte,payload:t}),jWe=t=>({type:Gte,payload:t}),TWe=t=>({type:Hte,payload:t}),CWe=t=>({type:qte,payload:t}),AWe=t=>({type:Yte,payload:t}),NWe=t=>({type:Kte,payload:t}),IWe=t=>({type:Jte,payload:t}),kWe=t=>({type:Qte,payload:t}),OWe=t=>({type:Zte,payload:t}),RWe=t=>({type:Xte,payload:t}),PWe=t=>({type:ene,payload:t}),DWe=t=>({type:tne,payload:t}),LWe=t=>({type:nne,payload:t}),MWe=t=>({type:rne,payload:t}),$We=t=>({type:sne,payload:t}),FWe=t=>({type:Rte,payload:t}),VWe=t=>({type:Pte,payload:t}),UWe=t=>({type:Dte,payload:t}),BWe=t=>({type:Z8e,payload:t}),zWe=t=>({type:Lte,payload:t}),WWe=t=>({type:eWe,payload:t}),GWe=t=>({type:Mte,payload:t}),HWe=t=>({type:nWe,payload:t}),qWe=t=>({type:$te,payload:t}),YWe=t=>({type:sWe,payload:t}),KWe="GET_EVENTS",ine="GET_EVENTS_SUCCESS",ane="GET_EVENTS_FAIL",JWe="ADD_NEW_EVENT",one="ADD_EVENT_SUCCESS",lne="ADD_EVENT_FAIL",QWe="UPDATE_EVENT",cne="UPDATE_EVENT_SUCCESS",une="UPDATE_EVENT_FAIL",ZWe="DELETE_EVENT",dne="DELETE_EVENT_SUCCESS",hne="DELETE_EVENT_FAIL",XWe="GET_CATEGORIES",fne="GET_CATEGORIES_SUCCESS",mne="GET_CATEGORIES_FAIL",eGe=t=>({type:ine,payload:t}),tGe=t=>({type:ane,payload:t}),nGe=t=>({type:one,payload:t}),rGe=t=>({type:lne,payload:t}),sGe=t=>({type:cne,payload:t}),iGe=t=>({type:une,payload:t}),aGe=t=>({type:dne,payload:t}),oGe=t=>({type:hne,payload:t}),lGe=t=>({type:fne,payload:t}),cGe=t=>({type:mne,payload:t}),uGe="GET_CHATS",pne="GET_CHATS_SUCCESS",gne="GET_CHATS_FAIL",dGe="GET_GROUPS",yne="GET_GROUPS_SUCCESS",vne="GET_GROUPS_FAIL",hGe="GET_CONTACTS",bne="GET_CONTACTS_SUCCESS",_ne="GET_CONTACTS_FAIL",fGe="GET_MESSAGES",wne="GET_MESSAGES_SUCCESS",xne="GET_MESSAGES_FAIL",mGe="POST_ADD_MESSAGE",Ene="POST_ADD_MESSAGE_SUCCESS",Sne="POST_ADD_MESSAGE_FAIL",pGe="DELETE_MESSAGE",jne="DELETE_MESSAGE_SUCCESS",Tne="DELETE_MESSAGE_FAIL",gGe=t=>({type:pne,payload:t}),yGe=t=>({type:gne,payload:t}),vGe=t=>({type:yne,payload:t}),bGe=t=>({type:vne,payload:t}),_Ge=t=>({type:bne,payload:t}),wGe=t=>({type:_ne,payload:t}),xGe=t=>({type:wne,payload:t}),EGe=t=>({type:xne,payload:t}),SGe=t=>({type:Ene,payload:t}),jGe=t=>({type:Sne,payload:t}),TGe=t=>({type:jne,payload:t}),CGe=t=>({type:Tne,payload:t}),AGe="GET_WALLET",Cne="GET_WALLET_SUCCESS",Ane="GET_WALLET_FAIL",NGe="GET_CRYPTO_ORDERS",Nne="GET_CRYPTO_ORDERS_SUCCESS",Ine="GET_CRYPTO_ORDERS_FAIL",IGe="GET_CRYPTO_PRODUCTS",kne="GET_CRYPTO_PRODUCTS_SUCCESS",One="GET_CRYPTO_PRODUCTS_FAIL",kGe=t=>({type:Cne,payload:t}),OGe=t=>({type:Ane,payload:t}),RGe=t=>({type:Nne,payload:t}),PGe=t=>({type:Ine,payload:t}),DGe=t=>({type:kne,payload:t}),LGe=t=>({type:One,payload:t}),MGe="GET_INVOICES",Rne="GET_INVOICES_SUCCESS",Pne="GET_INVOICES_FAIL",$Ge="GET_INVOICE_DETAIL",Dne="GET_INVOICE_DETAIL_SUCCESS",Lne="GET_INVOICE_DETAIL_FAIL",FGe=t=>({type:Rne,payload:t}),VGe=t=>({type:Pne,payload:t}),UGe=t=>({type:Dne,payload:t}),BGe=t=>({type:Lne,payload:t}),zGe="GET_JOBLIST",Mne="GET_JOB_LIST_FAIL",$ne="GET_JOB_LIST_SUCCESS",WGe="ADD_NEW_JOB_LIST",Fne="ADD_JOB_LIST_SUCCESS",Vne="ADD_JOB_LIST_FAIL",GGe="UPDATE_JOB_LIST",Une="UPDATE_JOB_LIST_SUCCESS",Bne="UPDATE_JOB_LIST_FAIL",HGe="DELETE_JOB_LIST",zne="DELETE_JOB_LIST_SUCCESS",Wne="DELETE_JOB_LIST_FAIL",qGe="GET_APPLY_JOB",Gne="GET_APPLY_JOB_SUCCESS",Hne="GET_APPLY_JOB_FAIL",YGe="DELETE_APPLY_JOB",qne="DELETE_APPLY_JOB_SUCCESS",Yne="DELETE_APPLY_JOB_FAIL",KGe=t=>({type:$ne,payload:t}),JGe=t=>({type:Mne,payload:t}),QGe=t=>({type:Fne,payload:t}),ZGe=t=>({type:Vne,payload:t}),XGe=t=>({type:Une,payload:t}),eHe=t=>({type:Bne,payload:t}),tHe=t=>({type:zne,payload:t}),nHe=t=>({type:Wne,payload:t}),rHe=t=>({type:Gne,payload:t}),sHe=t=>({type:Hne,payload:t}),iHe=t=>({type:qne,payload:t}),aHe=t=>({type:Yne,payload:t}),oHe="GET_PROJECTS",Kne="GET_PROJECTS_SUCCESS",Jne="GET_PROJECTS_FAIL",lHe="GET_PROJECT_DETAIL",Qne="GET_PROJECT_DETAIL_SUCCESS",Zne="GET_PROJECT_DETAIL_FAIL",cHe="UPDATE_PROJECT",Xne="UPDATE_PROJECT_SUCCESS",ere="UPDATE_PROJECT_FAIL",uHe="DELETE_PROJECT",tre="DELETE_PROJECT_SUCCESS",nre="DELETE_PROJECT_FAIL",dHe=t=>({type:Kne,payload:t}),hHe=t=>({type:Xne,payload:t}),fHe=t=>({type:ere,payload:t}),mHe=t=>({type:tre,payload:t}),pHe=t=>({type:nre,payload:t}),gHe=t=>({type:Jne,payload:t}),yHe=t=>({type:Qne,payload:t}),vHe=t=>({type:Zne,payload:t}),bHe="GET_TASKS",rre="GET_TASKS_SUCCESS",sre="GET_TASKS_FAIL",ire="DELETE_KANBAN",are="DELETE_KANBAN_SUCCESS",ore="DELETE_KANBAN_FAIL",_He="ADD_CARD_DATA",lre="ADD_CARD_DATA_SUCCESS",cre="ADD_CARD_DATA_FAIL",wHe="UPDATE_CARD_DATA",ure="UPDATE_CARD_DATA_SUCCESS",dre="UPDATE_CARD_DATA_FAIL",xHe=t=>({type:rre,payload:t}),EHe=t=>({type:sre,payload:t}),SHe=t=>({type:are,payload:t}),jHe=t=>({type:ore,payload:t}),THe=t=>({type:lre,payload:t}),CHe=t=>({type:cre,payload:t}),AHe=t=>({type:ure,payload:t}),NHe=t=>({type:dre,payload:t}),IHe="GET_USERS",hre="GET_USERS_SUCCESS",fre="GET_USERS_FAIL",kHe="GET_USER_PROFILE",mre="GET_USER_PROFILE_SUCCESS",pre="GET_USER_PROFILE_FAIL",OHe="ADD_NEW_USER",gre="ADD_USER_SUCCESS",yre="ADD_USER_FAIL",RHe="UPDATE_USER",vre="UPDATE_USER_SUCCESS",bre="UPDATE_USER_FAIL",PHe="DELETE_USER",_re="DELETE_USER_SUCCESS",wre="DELETE_USER_FAIL",DHe=t=>({type:hre,payload:t}),LHe=t=>({type:gre,payload:t}),MHe=t=>({type:yre,payload:t}),$He=t=>({type:fre,payload:t}),FHe=t=>({type:mre,payload:t}),VHe=t=>({type:pre,payload:t}),UHe=t=>({type:vre,payload:t}),BHe=t=>({type:bre,payload:t}),zHe=t=>({type:_re,payload:t}),WHe=t=>({type:wre,payload:t}),GHe="GET_MAILS_LIST",xre="GET_MAILS_LIST_SUCCESS",Ere="GET_MAILS_LIST_FAIL",HHe="SELECT_FOLDER",Sre="SELECT_FOLDER_SUCCESS",jre="SELECT_FOLDER_FAIL",qHe="GET_SELECTED_MAILS",Tre="GET_SELECTED_MAILS_SUCCESS",Cre="GET_SELECTED_MAILS_FAIL",YHe="SET_FOLDER_SELECTED_MAILS",Are="SET_FOLDER_SELECTED_MAILS_SUCCESS",Nre="SET_FOLDER_SELECTED_MAILS_FAIL",KHe="DELETE_MAIL",Ire="DELETE_MAIL_SUCCESS",kre="DELETE_MAIL_FAIL",JHe="TRASH_MAIL",Ore="TRASH_MAIL_SUCCESS",Rre="TRASH_MAIL_FAIL",QHe="STARED_MAIL",Pre="STARED_MAIL_SUCCESS",Dre="STARED_MAIL_FAIL",ZHe="GET_MAIL_ID",Lre="GET_MAIL_ID_SUCCESS",Mre="GET_MAIL_ID_FAIL",$re=t=>({type:xre,payload:t}),Fre=t=>({type:Ere,payload:t}),Vre=t=>({type:Tre,payload:t}),Ure=t=>({type:Cre,payload:t}),XHe=()=>({type:Are}),eqe=t=>({type:Nre,payload:t}),tqe=t=>({type:Sre,payload:t}),nqe=t=>({type:jre,payload:t}),rqe=t=>({type:Ire,payload:t}),sqe=t=>({type:kre,payload:t}),iqe=t=>({type:Ore,payload:t}),aqe=t=>({type:Rre,payload:t}),oqe=t=>({type:Pre,payload:t}),lqe=t=>({type:Dre,payload:t}),cqe=t=>({type:Lre,payload:t}),uqe=t=>({type:Mre,payload:t}),Bre="API_SUCCESS",zre="API_FAIL",jx="GET_DASHBOARD_EMAILCHART",dqe=(t,e)=>({type:Bre,payload:{actionType:t,data:e}}),hqe=(t,e)=>({type:zre,payload:{actionType:t,error:e}}),Wre="API_SUCCESS",Gre="API_FAIL",Tx="GET_WALLET_DATA",fqe=(t,e)=>({type:Wre,payload:{actionType:t,data:e}}),mqe=(t,e)=>({type:Gre,payload:{actionType:t,error:e}}),Hre="API_SUCCESS",qre="API_FAIL",Cx="GET_TOP_SELLING_PRODUCT",Ax="GET_EARNING_DATA",Yre=(t,e)=>({type:Hre,payload:{actionType:t,data:e}}),Kre=(t,e)=>({type:qre,payload:{actionType:t,error:e}}),Jre="API_SUCCESS",Qre="API_FAIL",Nx="GET_VISITOR_DATA",pqe=(t,e)=>({type:Jre,payload:{actionType:t,data:e}}),gqe=(t,e)=>({type:Qre,payload:{actionType:t,error:e}}),Zre="API_SUCCESS",Xre="API_FAIL",Ix="GET_STATISTICS_DATA",yqe=(t,e)=>({type:Zre,payload:{actionType:t,data:e}}),vqe=(t,e)=>({type:Xre,payload:{actionType:t,error:e}}),bqe=()=>{document.title="   | ";const t=ub(),[e,n]=C.useState(1),[r,s]=C.useState(""),[i,o]=C.useState(""),[l,c]=C.useState(!1),u=Cl({initialValues:{mobile:""},validationSchema:to({mobile:jn().required("    ").matches(/^09[0-9]{9}$/,"   ")}),onSubmit:async m=>{o(""),c(!0);try{const p=await WT(m.mobile);p.success?(s(m.mobile),n(2)):o(p.error||p.message||"   ")}catch{o("    ")}c(!1)}}),d=Cl({initialValues:{otp:""},validationSchema:to({otp:jn().required("   ").matches(/^[0-9]{6}$/,"    ")}),onSubmit:async m=>{o(""),c(!0);try{const p=await o4(r,m.otp);if(!p.success||!p.token){o(p.error||"  "),c(!1);return}const y=p.user;localStorage.setItem("authToken",p.token),localStorage.setItem("user",JSON.stringify(y)),t(Tw({token:p.token,user:y})),setTimeout(()=>{window.location.assign("/dashboard")},80)}catch{o("    ")}c(!1)}}),f=async()=>{o(""),c(!0);try{const m=await WT(r);m.success?alert("   "):o(m.message||"   ")}catch{o("  ")}c(!1)};return a.jsx("div",{className:"account-pages my-5 pt-sm-5",children:a.jsx(An,{children:a.jsx(pe,{className:"justify-content-center",children:a.jsxs(M,{md:8,lg:6,xl:5,children:[a.jsxs(Ct,{className:"overflow-hidden",children:[a.jsx("div",{className:"bg-primary-subtle",children:a.jsxs(pe,{children:[a.jsx(M,{xs:7,children:a.jsxs("div",{className:"text-primary p-4",children:[a.jsx("h5",{className:"text-primary",children:" !"}),a.jsx("p",{children:"      "})]})}),a.jsx(M,{className:"col-5 align-self-end",children:a.jsx("img",{src:dte,alt:"",className:"img-fluid"})})]})}),a.jsxs(At,{className:"pt-0",children:[a.jsx("div",{className:"auth-logo text-center mt-4",children:a.jsx("div",{className:"avatar-md profile-user-wid mx-auto",children:a.jsx("span",{className:"avatar-title rounded-circle bg-light",children:a.jsx("img",{src:M0,alt:"",height:"34"})})})}),a.jsxs("div",{className:"p-3",children:[i&&a.jsx(tr,{color:"danger",children:i}),e===1&&a.jsxs(zo,{onSubmit:m=>{m.preventDefault(),u.handleSubmit()},children:[a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:" "}),a.jsx(ie,{name:"mobile",type:"text",placeholder:"09121234567",value:u.values.mobile,onChange:u.handleChange,onBlur:u.handleBlur,invalid:u.touched.mobile&&!!u.errors.mobile,disabled:l}),a.jsx(Dt,{children:u.errors.mobile})]}),a.jsx(_e,{color:"primary",className:"w-100",type:"submit",disabled:l,children:l?"  ...":" "})]}),e===2&&a.jsxs(zo,{onSubmit:m=>{m.preventDefault(),d.handleSubmit()},children:[a.jsxs("p",{className:"text-muted mb-2",children:["   ",a.jsx("strong",{children:r}),"  "]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{children:" "}),a.jsx(ie,{name:"otp",type:"text",placeholder:"123456",value:d.values.otp,onChange:d.handleChange,onBlur:d.handleBlur,invalid:d.touched.otp&&!!d.errors.otp,maxLength:6,disabled:l}),a.jsx(Dt,{children:d.errors.otp})]}),a.jsx(_e,{color:"success",className:"w-100",type:"submit",disabled:l,children:l?"  ...":""}),a.jsxs("div",{className:"mt-3 d-flex justify-content-between",children:[a.jsx(_e,{color:"link",disabled:l,onClick:()=>{n(1),d.resetForm()},children:" "}),a.jsx(_e,{color:"link",onClick:f,disabled:l,children:"  "})]})]})]})]})]}),a.jsx("div",{className:"mt-5 text-center",children:a.jsxs("p",{children:[" ",new Date().getFullYear(),"  "]})})]})})})})},oN="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2022.0.1,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20225%20225'%20style='enable-background:new%200%200%20225%20225;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:none;stroke:%23000000;stroke-width:20;stroke-linecap:round;stroke-miterlimit:3;}%20%3c/style%3e%3cg%20transform='matrix(%201,%200,%200,%201,%200,0)%20'%3e%3cg%3e%3cpath%20id='Layer0_0_1_STROKES'%20class='st0'%20d='M173.8,151.5l13.6-13.6%20M35.4,89.9l29.1-29%20M89.4,34.9v1%20M137.4,187.9l-0.6-0.4%20M36.6,138.7l0.2-0.2%20M56.1,169.1l27.7-27.6%20M63.8,111.5l74.3-74.4%20M87.1,188.1L187.6,87.6%20M110.8,114.5l57.8-57.8'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",_qe=()=>{document.title="Register | Skote -     Vite React ";const t=ub(),e=Cl({enableReinitialize:!0,initialValues:{email:"",username:"",password:""},validationSchema:to({email:jn().required("     "),username:jn().required("      "),password:jn().required("      ")}),onSubmit:i=>{t(V8e(i))}}),n=db(i=>i.Account,i=>({user:i.user,registrationError:i.registrationError})),{user:r,registrationError:s}=g0(n);return C.useEffect(()=>{t(aN(""))},[]),a.jsxs(ae.Fragment,{children:[a.jsx("div",{className:"home-btn d-none d-sm-block",children:a.jsx(Ce,{to:"/",className:"text-dark",children:a.jsx("i",{className:"bx bx-home h2"})})}),a.jsx("div",{className:"account-pages my-5 pt-sm-5",children:a.jsx(An,{children:a.jsx(pe,{className:"justify-content-center",children:a.jsxs(M,{md:8,lg:6,xl:5,children:[a.jsxs(Ct,{className:"overflow-hidden",children:[a.jsx("div",{className:"bg-primary-subtle",children:a.jsxs(pe,{children:[a.jsx(M,{className:"col-7",children:a.jsxs("div",{className:"text-primary p-4",children:[a.jsx("h5",{className:"text-primary",children:"  "}),a.jsx("p",{children:"  Skote     "})]})}),a.jsx(M,{className:"col-5 align-self-end",children:a.jsx("img",{src:dte,alt:"",className:"img-fluid"})})]})}),a.jsxs(At,{className:"pt-0",children:[a.jsxs("div",{className:"auth-logo",children:[a.jsx(Ce,{to:"/",className:"auth-logo-light",children:a.jsx("div",{className:"avatar-md profile-user-wid mb-4",children:a.jsx("span",{className:"avatar-title rounded-circle bg-light",children:a.jsx("img",{src:M0,alt:"",className:"rounded-circle",height:"34"})})})}),a.jsx(Ce,{to:"/",className:"auth-logo-dark",children:a.jsx("div",{className:"avatar-md profile-user-wid mb-4",children:a.jsx("span",{className:"avatar-title rounded-circle bg-light",children:a.jsx("img",{src:oN,alt:"",className:"rounded-circle",height:"34"})})})})]}),a.jsx("div",{className:"p-2",children:a.jsxs(zo,{className:"form-horizontal",onSubmit:i=>(i.preventDefault(),e.handleSubmit(),!1),children:[r&&r?a.jsx(tr,{color:"success",children:"Register User Successfully"}):null,s&&s?a.jsx(tr,{color:"danger",children:s}):null,a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{className:"form-label",children:""}),a.jsx(ie,{id:"email",name:"email",className:"form-control",placeholder:"   ",type:"email",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.email||"",invalid:!!(e.touched.email&&e.errors.email)}),e.touched.email&&e.errors.email?a.jsx(Dt,{type:"invalid",children:e.errors.email}):null]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{className:"form-label",children:" "}),a.jsx(ie,{name:"username",type:"text",placeholder:"    ",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.username||"",invalid:!!(e.touched.username&&e.errors.username)}),e.touched.username&&e.errors.username?a.jsx(Dt,{type:"invalid",children:e.errors.username}):null]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(ee,{className:"form-label",children:" "}),a.jsx(ie,{name:"password",type:"password",placeholder:"    ",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.password||"",invalid:!!(e.touched.password&&e.errors.password)}),e.touched.password&&e.errors.password?a.jsx(Dt,{type:"invalid",children:e.errors.password}):null]}),a.jsx("div",{className:"mt-4",children:a.jsx("button",{className:"btn btn-primary btn-block ",type:"submit",children:" "})}),a.jsx("div",{className:"mt-4 text-center",children:a.jsxs("p",{className:"mb-0",children:["    Skote   "," ",a.jsx(Ce,{to:"#",className:"text-primary",children:" "})]})})]})})]})]}),a.jsxs("div",{className:"mt-5 text-center",children:[a.jsxs("p",{children:["    "," ",a.jsxs(Ce,{to:"/login",className:"font-weight-medium text-primary",children:[" ",""]})," "]}),a.jsxs("p",{children:[" ",new Date().getFullYear()," Skote.   "," ",a.jsx("i",{className:"mdi mdi-heart text-danger"}),"    "]})]})]})})})})]})};function dg(t){function e(n){let r=ih(),s=is(),i=su();return a.jsx(t,{...n,router:{location:r,navigate:s,params:i}})}return e}const ese=()=>{const t=is(),e=ub();return C.useEffect(()=>{e(z8e(t))},[e,t]),a.jsx(a.Fragment,{})};ese.propTypes={history:R.object};const wqe=dg(ese),xqe=[{path:"/dashboard",component:a.jsx(HCe,{})},{path:"/members/list",component:a.jsx(dRe,{})},{path:"/members/add",component:a.jsx(hRe,{})},{path:"/members/edit/:id",component:a.jsx(fRe,{})},{path:"/customers/list",component:a.jsx(mRe,{})},{path:"/customers/add",component:a.jsx(nPe,{})},{path:"/customers/edit/:id",component:a.jsx(rPe,{})},{path:"/inventory/unit-list",component:a.jsx(qCe,{})},{path:"/inventory/add-unit",component:a.jsx(rRe,{})},{path:"/inventory/edit-unit/:id",component:a.jsx(sRe,{})},{path:"/inventory/category-list",component:a.jsx(iRe,{})},{path:"/inventory/add-category",component:a.jsx(aRe,{})},{path:"/inventory/edit-category/:id",component:a.jsx(oRe,{})},{path:"/inventory/product-list",component:a.jsx(lRe,{})},{path:"/inventory/add-product",component:a.jsx(cRe,{})},{path:"/inventory/edit-product/:id",component:a.jsx(uRe,{})},{path:"/receipts",component:a.jsx(J4e,{})},{path:"/receipt/form",component:a.jsx(gR,{mode:"create"})},{path:"/receipt/form/edit/:id",component:a.jsx(gR,{mode:"edit"})},{path:"/receipt/view/:id",component:a.jsx(gR,{mode:"view"})},{path:"/receipt/list",component:a.jsx(XP,{to:"/receipts"})},{path:"/clearances/form",component:a.jsx(F5e,{})},{path:"/clearances/report",component:a.jsx(V5e,{})},{path:"/clearances/edit/:id",component:a.jsx(z5e,{})},{path:"/loading/create",component:a.jsx(K5e,{})},{path:"/loading/list",component:a.jsx(J5e,{})},{path:"/loading/print/:id",component:a.jsx(Z5e,{})},{path:"/exit/list",component:a.jsx(q9e,{})},{path:"/exit/create",component:a.jsx(s8e,{})},{path:"/exit/print/:id",component:a.jsx(i8e,{})},{path:"/accounting/documents",component:a.jsx(d8e,{})},{path:"/accounting/coding",component:a.jsx(T8e,{})},{path:"/accounting/new",component:a.jsx(A8,{})},{path:"/accounting/edit/:id",component:a.jsx(A8,{})},{path:"/accounting/reports/journal",component:a.jsx(I8e,{})},{path:"/accounting/reports/customers",component:a.jsx(k8e,{})},{path:"/accounting/reports/ledger",component:a.jsx(O8e,{})},{path:"/accounting/reports/comprehensive",component:a.jsx(R8e,{})},{path:"/accounting/list",component:a.jsx(L8e,{})},{path:"/accounting/treasury-form",component:a.jsx(P8e,{})},{path:"/accounting/check-operations",component:a.jsx(D8e,{})},{path:"/accounting/definitions",component:a.jsx(M8e,{})},{path:"/",exact:!0,component:a.jsx(XP,{to:"/dashboard"})}],Eqe=[{path:"/login",component:a.jsx(bqe,{})},{path:"/register",component:a.jsx(_qe,{})},{path:"/logout",component:a.jsx(wqe,{})}],Sqe=t=>localStorage.getItem("token")?a.jsx(a.Fragment,{children:t.children}):a.jsx(XP,{to:"/login",replace:!0});var TR=function(){return iu.Date.now()},jqe=/\s/;function Tqe(t){for(var e=t.length;e--&&jqe.test(t.charAt(e)););return e}var Cqe=/^\s+/;function Aqe(t){return t&&t.slice(0,Tqe(t)+1).replace(Cqe,"")}var N8=NaN,Nqe=/^[-+]0x[0-9a-f]+$/i,Iqe=/^0b[01]+$/i,kqe=/^0o[0-7]+$/i,Oqe=parseInt;function I8(t){if(typeof t=="number")return t;if(hA(t))return N8;if(Zd(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Zd(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Aqe(t);var n=Iqe.test(t);return n||kqe.test(t)?Oqe(t.slice(2),n?2:8):Nqe.test(t)?N8:+t}var Rqe="Expected a function",Pqe=Math.max,Dqe=Math.min;function Xj(t,e,n){var r,s,i,o,l,c,u=0,d=!1,f=!1,m=!0;if(typeof t!="function")throw new TypeError(Rqe);e=I8(e)||0,Zd(n)&&(d=!!n.leading,f="maxWait"in n,i=f?Pqe(I8(n.maxWait)||0,e):i,m="trailing"in n?!!n.trailing:m);function p(P){var D=r,F=s;return r=s=void 0,u=P,o=t.apply(F,D),o}function y(P){return u=P,l=setTimeout(x,e),d?p(P):o}function _(P){var D=P-c,F=P-u,Y=e-D;return f?Dqe(Y,i-F):Y}function b(P){var D=P-c,F=P-u;return c===void 0||D>=e||D<0||f&&F>=i}function x(){var P=TR();if(b(P))return w(P);l=setTimeout(x,_(P))}function w(P){return l=void 0,m&&r?p(P):(r=s=void 0,o)}function E(){l!==void 0&&clearTimeout(l),u=0,r=c=s=l=void 0}function T(){return l===void 0?o:w(TR())}function N(){var P=TR(),D=b(P);if(r=arguments,s=this,c=P,D){if(l===void 0)return y(c);if(f)return clearTimeout(l),l=setTimeout(x,e),p(c)}return l===void 0&&(l=setTimeout(x,e)),o}return N.cancel=E,N.flush=T,N}var Lqe="Expected a function";function Mqe(t,e,n){var r=!0,s=!0;if(typeof t!="function")throw new TypeError(Lqe);return Zd(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),Xj(t,e,{leading:r,maxWait:e,trailing:s})}var Gy=function(){return Gy=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Gy.apply(this,arguments)};function tse(t){return!t||!t.ownerDocument||!t.ownerDocument.defaultView?window:t.ownerDocument.defaultView}function nse(t){return!t||!t.ownerDocument?document:t.ownerDocument}var rse=function(t){var e={},n=Array.prototype.reduce.call(t,function(r,s){var i=s.name.match(/data-simplebar-(.+)/);if(i){var o=i[1].replace(/\W+(.)/g,function(l,c){return c.toUpperCase()});switch(s.value){case"true":r[o]=!0;break;case"false":r[o]=!1;break;case void 0:r[o]=!0;break;default:r[o]=s.value}}return r},e);return n};function sse(t,e){var n;t&&(n=t.classList).add.apply(n,e.split(" "))}function ise(t,e){t&&e.split(" ").forEach(function(n){t.classList.remove(n)})}function ase(t){return".".concat(t.split(" ").join("."))}var M4=!!(typeof window<"u"&&window.document&&window.document.createElement),$qe=Object.freeze({__proto__:null,addClasses:sse,canUseDOM:M4,classNamesToQuery:ase,getElementDocument:nse,getElementWindow:tse,getOptions:rse,removeClasses:ise}),Ey=null,k8=null;M4&&window.addEventListener("resize",function(){k8!==window.devicePixelRatio&&(k8=window.devicePixelRatio,Ey=null)});function O8(){if(Ey===null){if(typeof document>"u")return Ey=0,Ey;var t=document.body,e=document.createElement("div");e.classList.add("simplebar-hide-scrollbar"),t.appendChild(e);var n=e.getBoundingClientRect().right;t.removeChild(e),Ey=n}return Ey}var Ph=tse,CR=nse,Fqe=rse,Dh=sse,Lh=ise,_o=ase,T_=function(){function t(e,n){n===void 0&&(n={});var r=this;if(this.removePreventClickId=null,this.minScrollbarWidth=20,this.stopScrollDelay=175,this.isScrolling=!1,this.isMouseEntering=!1,this.isDragging=!1,this.scrollXTicking=!1,this.scrollYTicking=!1,this.wrapperEl=null,this.contentWrapperEl=null,this.contentEl=null,this.offsetEl=null,this.maskEl=null,this.placeholderEl=null,this.heightAutoObserverWrapperEl=null,this.heightAutoObserverEl=null,this.rtlHelpers=null,this.scrollbarWidth=0,this.resizeObserver=null,this.mutationObserver=null,this.elStyles=null,this.isRtl=null,this.mouseX=0,this.mouseY=0,this.onMouseMove=function(){},this.onWindowResize=function(){},this.onStopScrolling=function(){},this.onMouseEntered=function(){},this.onScroll=function(){var s=Ph(r.el);r.scrollXTicking||(s.requestAnimationFrame(r.scrollX),r.scrollXTicking=!0),r.scrollYTicking||(s.requestAnimationFrame(r.scrollY),r.scrollYTicking=!0),r.isScrolling||(r.isScrolling=!0,Dh(r.el,r.classNames.scrolling)),r.showScrollbar("x"),r.showScrollbar("y"),r.onStopScrolling()},this.scrollX=function(){r.axis.x.isOverflowing&&r.positionScrollbar("x"),r.scrollXTicking=!1},this.scrollY=function(){r.axis.y.isOverflowing&&r.positionScrollbar("y"),r.scrollYTicking=!1},this._onStopScrolling=function(){Lh(r.el,r.classNames.scrolling),r.options.autoHide&&(r.hideScrollbar("x"),r.hideScrollbar("y")),r.isScrolling=!1},this.onMouseEnter=function(){r.isMouseEntering||(Dh(r.el,r.classNames.mouseEntered),r.showScrollbar("x"),r.showScrollbar("y"),r.isMouseEntering=!0),r.onMouseEntered()},this._onMouseEntered=function(){Lh(r.el,r.classNames.mouseEntered),r.options.autoHide&&(r.hideScrollbar("x"),r.hideScrollbar("y")),r.isMouseEntering=!1},this._onMouseMove=function(s){r.mouseX=s.clientX,r.mouseY=s.clientY,(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&r.onMouseMoveForAxis("x"),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&r.onMouseMoveForAxis("y")},this.onMouseLeave=function(){r.onMouseMove.cancel(),(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&r.onMouseLeaveForAxis("x"),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&r.onMouseLeaveForAxis("y"),r.mouseX=-1,r.mouseY=-1},this._onWindowResize=function(){r.scrollbarWidth=r.getScrollbarWidth(),r.hideNativeScrollbar()},this.onPointerEvent=function(s){if(!(!r.axis.x.track.el||!r.axis.y.track.el||!r.axis.x.scrollbar.el||!r.axis.y.scrollbar.el)){var i,o;r.axis.x.track.rect=r.axis.x.track.el.getBoundingClientRect(),r.axis.y.track.rect=r.axis.y.track.el.getBoundingClientRect(),(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&(i=r.isWithinBounds(r.axis.x.track.rect)),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&(o=r.isWithinBounds(r.axis.y.track.rect)),(i||o)&&(s.stopPropagation(),s.type==="pointerdown"&&s.pointerType!=="touch"&&(i&&(r.axis.x.scrollbar.rect=r.axis.x.scrollbar.el.getBoundingClientRect(),r.isWithinBounds(r.axis.x.scrollbar.rect)?r.onDragStart(s,"x"):r.onTrackClick(s,"x")),o&&(r.axis.y.scrollbar.rect=r.axis.y.scrollbar.el.getBoundingClientRect(),r.isWithinBounds(r.axis.y.scrollbar.rect)?r.onDragStart(s,"y"):r.onTrackClick(s,"y"))))}},this.drag=function(s){var i,o,l,c,u,d,f,m,p,y,_;if(!(!r.draggedAxis||!r.contentWrapperEl)){var b,x=r.axis[r.draggedAxis].track,w=(o=(i=x.rect)===null||i===void 0?void 0:i[r.axis[r.draggedAxis].sizeAttr])!==null&&o!==void 0?o:0,E=r.axis[r.draggedAxis].scrollbar,T=(c=(l=r.contentWrapperEl)===null||l===void 0?void 0:l[r.axis[r.draggedAxis].scrollSizeAttr])!==null&&c!==void 0?c:0,N=parseInt((d=(u=r.elStyles)===null||u===void 0?void 0:u[r.axis[r.draggedAxis].sizeAttr])!==null&&d!==void 0?d:"0px",10);s.preventDefault(),s.stopPropagation(),r.draggedAxis==="y"?b=s.pageY:b=s.pageX;var P=b-((m=(f=x.rect)===null||f===void 0?void 0:f[r.axis[r.draggedAxis].offsetAttr])!==null&&m!==void 0?m:0)-r.axis[r.draggedAxis].dragOffset;P=r.draggedAxis==="x"&&r.isRtl?((y=(p=x.rect)===null||p===void 0?void 0:p[r.axis[r.draggedAxis].sizeAttr])!==null&&y!==void 0?y:0)-E.size-P:P;var D=P/(w-E.size),F=D*(T-N);r.draggedAxis==="x"&&r.isRtl&&(F=!((_=t.getRtlHelpers())===null||_===void 0)&&_.isScrollingToNegative?-F:F),r.contentWrapperEl[r.axis[r.draggedAxis].scrollOffsetAttr]=F}},this.onEndDrag=function(s){r.isDragging=!1;var i=CR(r.el),o=Ph(r.el);s.preventDefault(),s.stopPropagation(),Lh(r.el,r.classNames.dragging),r.onStopScrolling(),i.removeEventListener("mousemove",r.drag,!0),i.removeEventListener("mouseup",r.onEndDrag,!0),r.removePreventClickId=o.setTimeout(function(){i.removeEventListener("click",r.preventClick,!0),i.removeEventListener("dblclick",r.preventClick,!0),r.removePreventClickId=null})},this.preventClick=function(s){s.preventDefault(),s.stopPropagation()},this.el=e,this.options=Gy(Gy({},t.defaultOptions),n),this.classNames=Gy(Gy({},t.defaultOptions.classNames),n.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}}},typeof this.el!="object"||!this.el.nodeName)throw new Error("Argument passed to SimpleBar must be an HTML element instead of ".concat(this.el));this.onMouseMove=Mqe(this._onMouseMove,64),this.onWindowResize=Xj(this._onWindowResize,64,{leading:!0}),this.onStopScrolling=Xj(this._onStopScrolling,this.stopScrollDelay),this.onMouseEntered=Xj(this._onMouseEntered,this.stopScrollDelay),this.init()}return t.getRtlHelpers=function(){if(t.rtlHelpers)return t.rtlHelpers;var e=document.createElement("div");e.innerHTML='<div class="simplebar-dummy-scrollbar-size"><div></div></div>';var n=e.firstElementChild,r=n==null?void 0:n.firstElementChild;if(!r)return null;document.body.appendChild(n),n.scrollLeft=0;var s=t.getOffset(n),i=t.getOffset(r);n.scrollLeft=-999;var o=t.getOffset(r);return document.body.removeChild(n),t.rtlHelpers={isScrollOriginAtZero:s.left!==i.left,isScrollingToNegative:i.left!==o.left},t.rtlHelpers},t.prototype.getScrollbarWidth=function(){try{return this.contentWrapperEl&&getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display==="none"||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:O8()}catch{return O8()}},t.getOffset=function(e){var n=e.getBoundingClientRect(),r=CR(e),s=Ph(e);return{top:n.top+(s.pageYOffset||r.documentElement.scrollTop),left:n.left+(s.pageXOffset||r.documentElement.scrollLeft)}},t.prototype.init=function(){M4&&(this.initDOM(),this.rtlHelpers=t.getRtlHelpers(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},t.prototype.initDOM=function(){var e,n;this.wrapperEl=this.el.querySelector(_o(this.classNames.wrapper)),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector(_o(this.classNames.contentWrapper)),this.contentEl=this.options.contentNode||this.el.querySelector(_o(this.classNames.contentEl)),this.offsetEl=this.el.querySelector(_o(this.classNames.offset)),this.maskEl=this.el.querySelector(_o(this.classNames.mask)),this.placeholderEl=this.findChild(this.wrapperEl,_o(this.classNames.placeholder)),this.heightAutoObserverWrapperEl=this.el.querySelector(_o(this.classNames.heightAutoObserverWrapperEl)),this.heightAutoObserverEl=this.el.querySelector(_o(this.classNames.heightAutoObserverEl)),this.axis.x.track.el=this.findChild(this.el,"".concat(_o(this.classNames.track)).concat(_o(this.classNames.horizontal))),this.axis.y.track.el=this.findChild(this.el,"".concat(_o(this.classNames.track)).concat(_o(this.classNames.vertical))),this.axis.x.scrollbar.el=((e=this.axis.x.track.el)===null||e===void 0?void 0:e.querySelector(_o(this.classNames.scrollbar)))||null,this.axis.y.scrollbar.el=((n=this.axis.y.track.el)===null||n===void 0?void 0:n.querySelector(_o(this.classNames.scrollbar)))||null,this.options.autoHide||(Dh(this.axis.x.scrollbar.el,this.classNames.visible),Dh(this.axis.y.scrollbar.el,this.classNames.visible))},t.prototype.initListeners=function(){var e=this,n,r=Ph(this.el);if(this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("pointerdown",this.onPointerEvent,!0),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),(n=this.contentWrapperEl)===null||n===void 0||n.addEventListener("scroll",this.onScroll),r.addEventListener("resize",this.onWindowResize),!!this.contentEl){if(window.ResizeObserver){var s=!1,i=r.ResizeObserver||ResizeObserver;this.resizeObserver=new i(function(){s&&r.requestAnimationFrame(function(){e.recalculate()})}),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),r.requestAnimationFrame(function(){s=!0})}this.mutationObserver=new r.MutationObserver(function(){r.requestAnimationFrame(function(){e.recalculate()})}),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})}},t.prototype.recalculate=function(){if(!(!this.heightAutoObserverEl||!this.contentEl||!this.contentWrapperEl||!this.wrapperEl||!this.placeholderEl)){var e=Ph(this.el);this.elStyles=e.getComputedStyle(this.el),this.isRtl=this.elStyles.direction==="rtl";var n=this.contentEl.offsetWidth,r=this.heightAutoObserverEl.offsetHeight<=1,s=this.heightAutoObserverEl.offsetWidth<=1||n>0,i=this.contentWrapperEl.offsetWidth,o=this.elStyles.overflowX,l=this.elStyles.overflowY;this.contentEl.style.padding="".concat(this.elStyles.paddingTop," ").concat(this.elStyles.paddingRight," ").concat(this.elStyles.paddingBottom," ").concat(this.elStyles.paddingLeft),this.wrapperEl.style.margin="-".concat(this.elStyles.paddingTop," -").concat(this.elStyles.paddingRight," -").concat(this.elStyles.paddingBottom," -").concat(this.elStyles.paddingLeft);var c=this.contentEl.scrollHeight,u=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=r?"auto":"100%",this.placeholderEl.style.width=s?"".concat(n||u,"px"):"auto",this.placeholderEl.style.height="".concat(c,"px");var d=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=n!==0&&u>n,this.axis.y.isOverflowing=c>d,this.axis.x.isOverflowing=o==="hidden"?!1:this.axis.x.isOverflowing,this.axis.y.isOverflowing=l==="hidden"?!1:this.axis.y.isOverflowing,this.axis.x.forceVisible=this.options.forceVisible==="x"||this.options.forceVisible===!0,this.axis.y.forceVisible=this.options.forceVisible==="y"||this.options.forceVisible===!0,this.hideNativeScrollbar();var f=this.axis.x.isOverflowing?this.scrollbarWidth:0,m=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&u>i-m,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&c>d-f,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el&&(this.axis.x.scrollbar.el.style.width="".concat(this.axis.x.scrollbar.size,"px")),this.axis.y.scrollbar.el&&(this.axis.y.scrollbar.el.style.height="".concat(this.axis.y.scrollbar.size,"px")),this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")}},t.prototype.getScrollbarSize=function(e){var n,r;if(e===void 0&&(e="y"),!this.axis[e].isOverflowing||!this.contentEl)return 0;var s=this.contentEl[this.axis[e].scrollSizeAttr],i=(r=(n=this.axis[e].track.el)===null||n===void 0?void 0:n[this.axis[e].offsetSizeAttr])!==null&&r!==void 0?r:0,o=i/s,l;return l=Math.max(~~(o*i),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(l=Math.min(l,this.options.scrollbarMaxSize)),l},t.prototype.positionScrollbar=function(e){var n,r,s;e===void 0&&(e="y");var i=this.axis[e].scrollbar;if(!(!this.axis[e].isOverflowing||!this.contentWrapperEl||!i.el||!this.elStyles)){var o=this.contentWrapperEl[this.axis[e].scrollSizeAttr],l=((n=this.axis[e].track.el)===null||n===void 0?void 0:n[this.axis[e].offsetSizeAttr])||0,c=parseInt(this.elStyles[this.axis[e].sizeAttr],10),u=this.contentWrapperEl[this.axis[e].scrollOffsetAttr];u=e==="x"&&this.isRtl&&(!((r=t.getRtlHelpers())===null||r===void 0)&&r.isScrollOriginAtZero)?-u:u,e==="x"&&this.isRtl&&(u=!((s=t.getRtlHelpers())===null||s===void 0)&&s.isScrollingToNegative?u:-u);var d=u/(o-c),f=~~((l-i.size)*d);f=e==="x"&&this.isRtl?-f+(l-i.size):f,i.el.style.transform=e==="x"?"translate3d(".concat(f,"px, 0, 0)"):"translate3d(0, ".concat(f,"px, 0)")}},t.prototype.toggleTrackVisibility=function(e){e===void 0&&(e="y");var n=this.axis[e].track.el,r=this.axis[e].scrollbar.el;!n||!r||!this.contentWrapperEl||(this.axis[e].isOverflowing||this.axis[e].forceVisible?(n.style.visibility="visible",this.contentWrapperEl.style[this.axis[e].overflowAttr]="scroll",this.el.classList.add("".concat(this.classNames.scrollable,"-").concat(e))):(n.style.visibility="hidden",this.contentWrapperEl.style[this.axis[e].overflowAttr]="hidden",this.el.classList.remove("".concat(this.classNames.scrollable,"-").concat(e))),this.axis[e].isOverflowing?r.style.display="block":r.style.display="none")},t.prototype.showScrollbar=function(e){e===void 0&&(e="y"),this.axis[e].isOverflowing&&!this.axis[e].scrollbar.isVisible&&(Dh(this.axis[e].scrollbar.el,this.classNames.visible),this.axis[e].scrollbar.isVisible=!0)},t.prototype.hideScrollbar=function(e){e===void 0&&(e="y"),!this.isDragging&&this.axis[e].isOverflowing&&this.axis[e].scrollbar.isVisible&&(Lh(this.axis[e].scrollbar.el,this.classNames.visible),this.axis[e].scrollbar.isVisible=!1)},t.prototype.hideNativeScrollbar=function(){this.offsetEl&&(this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px",this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px")},t.prototype.onMouseMoveForAxis=function(e){e===void 0&&(e="y");var n=this.axis[e];!n.track.el||!n.scrollbar.el||(n.track.rect=n.track.el.getBoundingClientRect(),n.scrollbar.rect=n.scrollbar.el.getBoundingClientRect(),this.isWithinBounds(n.track.rect)?(this.showScrollbar(e),Dh(n.track.el,this.classNames.hover),this.isWithinBounds(n.scrollbar.rect)?Dh(n.scrollbar.el,this.classNames.hover):Lh(n.scrollbar.el,this.classNames.hover)):(Lh(n.track.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(e)))},t.prototype.onMouseLeaveForAxis=function(e){e===void 0&&(e="y"),Lh(this.axis[e].track.el,this.classNames.hover),Lh(this.axis[e].scrollbar.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(e)},t.prototype.onDragStart=function(e,n){var r;n===void 0&&(n="y"),this.isDragging=!0;var s=CR(this.el),i=Ph(this.el),o=this.axis[n].scrollbar,l=n==="y"?e.pageY:e.pageX;this.axis[n].dragOffset=l-(((r=o.rect)===null||r===void 0?void 0:r[this.axis[n].offsetAttr])||0),this.draggedAxis=n,Dh(this.el,this.classNames.dragging),s.addEventListener("mousemove",this.drag,!0),s.addEventListener("mouseup",this.onEndDrag,!0),this.removePreventClickId===null?(s.addEventListener("click",this.preventClick,!0),s.addEventListener("dblclick",this.preventClick,!0)):(i.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},t.prototype.onTrackClick=function(e,n){var r=this,s,i,o,l;n===void 0&&(n="y");var c=this.axis[n];if(!(!this.options.clickOnTrack||!c.scrollbar.el||!this.contentWrapperEl)){e.preventDefault();var u=Ph(this.el);this.axis[n].scrollbar.rect=c.scrollbar.el.getBoundingClientRect();var d=this.axis[n].scrollbar,f=(i=(s=d.rect)===null||s===void 0?void 0:s[this.axis[n].offsetAttr])!==null&&i!==void 0?i:0,m=parseInt((l=(o=this.elStyles)===null||o===void 0?void 0:o[this.axis[n].sizeAttr])!==null&&l!==void 0?l:"0px",10),p=this.contentWrapperEl[this.axis[n].scrollOffsetAttr],y=n==="y"?this.mouseY-f:this.mouseX-f,_=y<0?-1:1,b=_===-1?p-m:p+m,x=40,w=function(){r.contentWrapperEl&&(_===-1?p>b&&(p-=x,r.contentWrapperEl[r.axis[n].scrollOffsetAttr]=p,u.requestAnimationFrame(w)):p<b&&(p+=x,r.contentWrapperEl[r.axis[n].scrollOffsetAttr]=p,u.requestAnimationFrame(w)))};w()}},t.prototype.getContentElement=function(){return this.contentEl},t.prototype.getScrollElement=function(){return this.contentWrapperEl},t.prototype.removeListeners=function(){var e=Ph(this.el);this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("pointerdown",this.onPointerEvent,!0),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.onMouseMove.cancel(),this.onWindowResize.cancel(),this.onStopScrolling.cancel(),this.onMouseEntered.cancel()},t.prototype.unMount=function(){this.removeListeners()},t.prototype.isWithinBounds=function(e){return this.mouseX>=e.left&&this.mouseX<=e.left+e.width&&this.mouseY>=e.top&&this.mouseY<=e.top+e.height},t.prototype.findChild=function(e,n){var r=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return Array.prototype.filter.call(e.children,function(s){return r.call(s,n)})[0]},t.rtlHelpers=null,t.defaultOptions={forceVisible:!1,clickOnTrack:!0,scrollbarMinSize:25,scrollbarMaxSize:0,ariaLabel:"scrollable content",tabIndex:0,classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging",scrolling:"simplebar-scrolling",scrollable:"simplebar-scrollable",mouseEntered:"simplebar-mouse-entered"},scrollableNode:null,contentNode:null,autoHide:!0},t.getOptions=Fqe,t.helpers=$qe,t}(),cl=function(){return cl=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},cl.apply(this,arguments)};function Vqe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}var lN=C.forwardRef(function(t,e){var n=t.children,r=t.scrollableNodeProps,s=r===void 0?{}:r,i=Vqe(t,["children","scrollableNodeProps"]),o=C.useRef(),l=C.useRef(),c=C.useRef(),u={},d={};Object.keys(i).forEach(function(p){Object.prototype.hasOwnProperty.call(T_.defaultOptions,p)?u[p]=i[p]:d[p]=i[p]});var f=cl(cl({},T_.defaultOptions.classNames),u.classNames),m=cl(cl({},s),{className:"".concat(f.contentWrapper).concat(s.className?" ".concat(s.className):""),tabIndex:u.tabIndex||T_.defaultOptions.tabIndex,role:"region","aria-label":u.ariaLabel||T_.defaultOptions.ariaLabel});return C.useEffect(function(){var p;return l.current=m.ref?m.ref.current:l.current,o.current&&(p=new T_(o.current,cl(cl(cl({},u),l.current&&{scrollableNode:l.current}),c.current&&{contentNode:c.current})),typeof e=="function"?e(p):e&&(e.current=p)),function(){p==null||p.unMount(),p=null,typeof e=="function"&&e(null)}},[]),C.createElement("div",cl({"data-simplebar":"init",ref:o},d),C.createElement("div",{className:f.wrapper},C.createElement("div",{className:f.heightAutoObserverWrapperEl},C.createElement("div",{className:f.heightAutoObserverEl})),C.createElement("div",{className:f.mask},C.createElement("div",{className:f.offset},typeof n=="function"?n({scrollableNodeRef:l,scrollableNodeProps:cl(cl({},m),{ref:l}),contentNodeRef:c,contentNodeProps:{className:f.contentEl,ref:c}}):C.createElement("div",cl({},m),C.createElement("div",{className:f.contentEl},n)))),C.createElement("div",{className:f.placeholder})),C.createElement("div",{className:"".concat(f.track," ").concat(f.horizontal)},C.createElement("div",{className:f.scrollbar})),C.createElement("div",{className:"".concat(f.track," ").concat(f.vertical)},C.createElement("div",{className:f.scrollbar})))});lN.displayName="SimpleBar";const Uqe=t=>{const e=new Date,n=new Date(t),r=Math.floor((e-n)/1e3);return r<60?" ":r<3600?`${Math.floor(r/60)}  `:r<86400?`${Math.floor(r/3600)}  `:r<604800?`${Math.floor(r/86400)}  `:`${Math.floor(r/604800)}  `},Bqe=t=>{const e={success:{icon:"bx-badge-check",color:"success"},info:{icon:"bx-info-circle",color:"info"},warning:{icon:"bx-error",color:"warning"},danger:{icon:"bx-x-circle",color:"danger"},order:{icon:"bx-cart",color:"primary"},user:{icon:"bx-user",color:"secondary"},product:{icon:"bx-package",color:"info"},stock:{icon:"bx-layer",color:"warning"},default:{icon:"bx-bell",color:"primary"}};return e[t]||e.default},ose=()=>{const[t,e]=C.useState(!1),[n,r]=C.useState([]),[s,i]=C.useState(0),[o,l]=C.useState(!0);C.useEffect(()=>{t&&c()},[t]);const c=async()=>{l(!0);try{const f=await Bt("/notifications"),m=Array.isArray(f)?f:f.notifications||[];r(m);const p=m.filter(y=>!y.is_read).length;i(p)}catch{r([{id:1,type:"order",title:"   ",message:"  1234    ",is_read:!1,created_at:new Date(Date.now()-18e4).toISOString()},{id:2,type:"stock",title:" ",message:"       ",is_read:!1,created_at:new Date(Date.now()-36e5).toISOString()},{id:3,type:"success",title:"  ",message:"     ",is_read:!0,created_at:new Date(Date.now()-72e5).toISOString()}]),i(2)}l(!1)},u=async f=>{try{await fx(`/notifications/${f}/read`),r(m=>m.map(p=>p.id===f?{...p,is_read:!0}:p)),i(m=>Math.max(0,m-1))}catch{}},d=async()=>{try{await fx("/notifications/read-all"),r(f=>f.map(m=>({...m,is_read:!0}))),i(0)}catch{}};return a.jsx(ae.Fragment,{children:a.jsxs(Zc,{isOpen:t,toggle:()=>e(!t),className:"dropdown d-inline-block",tag:"li",children:[a.jsxs(Qd,{className:"btn header-item noti-icon position-relative",tag:"button",id:"page-header-notifications-dropdown",children:[a.jsx("i",{className:"bx bx-bell bx-tada"}),s>0&&a.jsx("span",{className:"badge bg-danger rounded-pill",children:s>99?"99+":s})]}),a.jsxs(Nf,{className:"dropdown-menu dropdown-menu-lg p-0 dropdown-menu-end",children:[a.jsx("div",{className:"p-3",children:a.jsxs(pe,{className:"align-items-center",children:[a.jsx(M,{children:a.jsx("h6",{className:"m-0",children:""})}),a.jsx("div",{className:"col-auto",children:s>0&&a.jsx("button",{onClick:d,className:"btn btn-sm btn-link text-decoration-none p-0",children:" "})})]})}),a.jsx(lN,{style:{maxHeight:"300px"},children:o?a.jsx("div",{className:"text-center p-4",children:a.jsx("div",{className:"spinner-border spinner-border-sm text-primary",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"  ..."})})}):n.length===0?a.jsxs("div",{className:"text-center p-4",children:[a.jsx("i",{className:"bx bx-bell-off display-4 text-muted d-block mb-2"}),a.jsx("p",{className:"text-muted mb-0",children:"  "})]}):n.map(f=>{const m=Bqe(f.type);return a.jsx(Ce,{to:"#",className:`text-reset notification-item ${f.is_read?"":"bg-light"}`,onClick:()=>{f.is_read||u(f.id)},children:a.jsxs("div",{className:"d-flex",children:[a.jsx("div",{className:"avatar-xs me-3",children:a.jsx("span",{className:`avatar-title bg-${m.color} rounded-circle font-size-16`,children:a.jsx("i",{className:`bx ${m.icon}`})})}),a.jsxs("div",{className:"flex-grow-1",children:[a.jsxs("h6",{className:"mt-0 mb-1",children:[f.title,!f.is_read&&a.jsx("span",{className:"badge bg-danger ms-2",children:""})]}),a.jsxs("div",{className:"font-size-12 text-muted",children:[a.jsx("p",{className:"mb-1",children:f.message}),a.jsxs("p",{className:"mb-0",children:[a.jsx("i",{className:"mdi mdi-clock-outline"})," ",Uqe(f.created_at)]})]})]})]})},f.id)})}),n.length>0&&a.jsx("div",{className:"p-2 border-top d-grid",children:a.jsxs(Ce,{className:"btn btn-sm btn-link font-size-14 text-center",to:"/notifications",children:[a.jsx("i",{className:"mdi mdi-arrow-left-circle me-1"})," "]})})]})]})})},Bd="/assets/avatar-1-DgTBisRd.jpg",lse=()=>{const[t,e]=C.useState(!1),[n,r]=C.useState(null);C.useEffect(()=>{try{const l=localStorage.getItem("member");if(!l){r({full_name:"",member_image:null});return}const c=JSON.parse(l);r(c)}catch{r({full_name:"",member_image:null})}},[]);const s=(n==null?void 0:n.full_name)||(n==null?void 0:n.name)||(n==null?void 0:n.email)||"",o=(()=>{var c,u,d;if(!n)return Bd;const l=((c=n.member_image)==null?void 0:c.url)||((u=n.avatar)==null?void 0:u.url)||((d=n.image)==null?void 0:d.url)||null;return l?l.startsWith("/")?GCe+l:l:Bd})();return a.jsxs(Zc,{isOpen:t,toggle:()=>e(!t),className:"d-inline-block",children:[a.jsxs(Qd,{className:"btn header-item",id:"page-header-user-dropdown",tag:"button",children:[a.jsx("img",{className:"rounded-circle header-profile-user",src:o,alt:s,style:{width:32,height:32,objectFit:"cover"},onError:l=>l.target.src=Bd}),a.jsx("span",{className:"d-none d-xl-inline-block ms-2 me-1",children:s}),a.jsx("i",{className:"mdi mdi-chevron-down d-none d-xl-inline-block"})]}),a.jsxs(Nf,{className:"dropdown-menu-end",children:[a.jsxs(nf,{tag:Ce,to:"/profile",children:[a.jsx("i",{className:"bx bx-user font-size-16 align-middle me-1"}),""]}),a.jsx("div",{className:"dropdown-divider"}),a.jsxs(Ce,{to:"/logout",className:"dropdown-item",children:[a.jsx("i",{className:"bx bx-power-off font-size-16 align-middle me-1 text-danger"}),""]})]})]})},cse=t=>{const[e,n]=C.useState(!1);function r(){!document.fullscreenElement&&!document.mozFullScreenElement&&!document.webkitFullscreenElement?document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()}function s(){var i=document.body;window.screen.width<=998||i.classList.toggle("vertical-collpsed"),i.classList.toggle("sidebar-enable")}return a.jsx(ae.Fragment,{children:a.jsx("header",{id:"page-topbar",children:a.jsxs("div",{className:"navbar-header",children:[a.jsxs("div",{className:"d-flex",children:[a.jsxs("div",{className:"navbar-brand-box d-lg-none d-md-block",children:[a.jsx(Ce,{to:"/",className:"logo logo-dark",children:a.jsx("span",{className:"logo-sm",children:a.jsx("img",{src:oN,alt:"",height:"22"})})}),a.jsx(Ce,{to:"/",className:"logo logo-light",children:a.jsx("span",{className:"logo-sm",children:a.jsx("img",{src:M0,alt:"",height:"22"})})})]}),a.jsx("button",{type:"button",onClick:()=>{s()},className:"btn btn-sm px-3 font-size-16 header-item",id:"vertical-menu-btn",children:a.jsx("i",{className:"fa fa-fw fa-bars"})}),a.jsx("form",{className:"app-search d-none d-lg-block",children:a.jsxs("div",{className:"position-relative",children:[a.jsx("input",{type:"text",className:"form-control",placeholder:"..."}),a.jsx("span",{className:"bx bx-search-alt"})]})})]}),a.jsxs("div",{className:"d-flex",children:[a.jsxs("div",{className:"dropdown d-inline-block d-lg-none ms-2",children:[a.jsx("button",{onClick:()=>{n(!e)},type:"button",className:"btn header-item noti-icon",id:"page-header-search-dropdown",children:a.jsx("i",{className:"mdi mdi-magnify"})}),a.jsx("div",{className:e?"dropdown-menu dropdown-menu-lg dropdown-menu-end p-0 show":"dropdown-menu dropdown-menu-lg dropdown-menu-end p-0","aria-labelledby":"page-header-search-dropdown",children:a.jsx("form",{className:"p-3",children:a.jsx("div",{className:"form-group m-0",children:a.jsxs("div",{className:"input-group",children:[a.jsx("input",{type:"text",className:"form-control",placeholder:"...","aria-label":"Search"}),a.jsx("div",{className:"input-group-append",children:a.jsx("button",{className:"btn btn-primary",type:"submit",children:a.jsx("i",{className:"mdi mdi-magnify"})})})]})})})})]}),a.jsx("div",{className:"dropdown d-none d-lg-inline-block ms-1",children:a.jsx("button",{type:"button",onClick:()=>{r()},className:"btn header-item noti-icon","data-toggle":"fullscreen",children:a.jsx("i",{className:"bx bx-fullscreen"})})}),a.jsx(ose,{}),a.jsx(lse,{}),a.jsx("div",{onClick:()=>{t.showRightSidebarAction(!t.showRightSidebar)},className:"dropdown d-inline-block",children:a.jsx("button",{type:"button",className:"btn header-item noti-icon right-bar-toggle",children:a.jsx("i",{className:"bx bx-cog bx-spin"})})})]})]})})})};cse.propTypes={changeSidebarType:R.func,leftMenu:R.any,leftSideBarType:R.any,showRightSidebar:R.any,showRightSidebarAction:R.func,toggleLeftmenu:R.func};const zqe=t=>{const{layoutType:e,showRightSidebar:n,leftMenu:r,leftSideBarType:s}=t.Layout;return{layoutType:e,showRightSidebar:n,leftMenu:r,leftSideBarType:s}},Wqe=cb(zqe,{showRightSidebarAction:$0,toggleLeftmenu:gte,changeSidebarType:Ef})(cse);function Gqe(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const R8={};function RL(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&R8[e[0]]||(typeof e[0]=="string"&&(R8[e[0]]=new Date),Gqe(...e))}const use=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}};function P8(t,e,n){t.loadNamespaces(e,use(t,n))}function D8(t,e,n,r){typeof n=="string"&&(n=[n]),n.forEach(s=>{t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,use(t,r))}function Hqe(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=e.languages[0],s=e.options?e.options.fallbackLng:!1,i=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=e.services.backendConnector.state[`${l}|${c}`];return u===-1||u===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(r,t)&&(!s||o(i,t)))}function qqe(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(RL("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(s,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!i(s.isLanguageChangingTo,t))return!1}}):Hqe(t,e,n)}function Yqe(t){return t.displayName||t.name||(typeof t=="string"&&t.length>0?t:"Unknown")}const Kqe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Jqe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Qqe=t=>Jqe[t],Zqe=t=>t.replace(Kqe,Qqe);let PL={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Zqe};function Xqe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};PL={...PL,...t}}function e7e(){return PL}let dse;function t7e(t){dse=t}function n7e(){return dse}const r7e={type:"3rdParty",init(t){Xqe(t.options.react),t7e(t)}},s7e=C.createContext();class i7e{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const a7e=(t,e)=>{const n=C.useRef();return C.useEffect(()=>{n.current=t},[t,e]),n.current};function o7e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:r,defaultNS:s}=C.useContext(s7e)||{},i=n||r||n7e();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new i7e),!i){RL("You will need to pass in an i18next instance by using initReactI18next");const E=(N,P)=>typeof P=="string"?P:P&&typeof P=="object"&&typeof P.defaultValue=="string"?P.defaultValue:Array.isArray(N)?N[N.length-1]:N,T=[E,{},!1];return T.t=E,T.i18n={},T.ready=!1,T}i.options.react&&i.options.react.wait!==void 0&&RL("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...e7e(),...i.options.react,...e},{useSuspense:l,keyPrefix:c}=o;let u=s||i.options&&i.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(u);const d=(i.isInitialized||i.initializedStoreOnce)&&u.every(E=>qqe(E,i,o));function f(){return i.getFixedT(e.lng||null,o.nsMode==="fallback"?u:u[0],c)}const[m,p]=C.useState(f);let y=u.join();e.lng&&(y=`${e.lng}${y}`);const _=a7e(y),b=C.useRef(!0);C.useEffect(()=>{const{bindI18n:E,bindI18nStore:T}=o;b.current=!0,!d&&!l&&(e.lng?D8(i,e.lng,u,()=>{b.current&&p(f)}):P8(i,u,()=>{b.current&&p(f)})),d&&_&&_!==y&&b.current&&p(f);function N(){b.current&&p(f)}return E&&i&&i.on(E,N),T&&i&&i.store.on(T,N),()=>{b.current=!1,E&&i&&E.split(" ").forEach(P=>i.off(P,N)),T&&i&&T.split(" ").forEach(P=>i.store.off(P,N))}},[i,y]);const x=C.useRef(!0);C.useEffect(()=>{b.current&&!x.current&&p(f),x.current=!1},[i,c]);const w=[m,i,d];if(w.t=m,w.i18n=i,w.ready=d,d||!d&&!l)return w;throw new Promise(E=>{e.lng?D8(i,e.lng,u,()=>E()):P8(i,u,()=>E())})}function cN(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(r){function s(o){let{forwardedRef:l,...c}=o;const[u,d,f]=o7e(t,{...c,keyPrefix:e.keyPrefix}),m={...c,t:u,i18n:d,tReady:f};return e.withRef&&l?m.ref=l:!e.withRef&&l&&(m.forwardedRef=l),C.createElement(r,m)}s.displayName=`withI18nextTranslation(${Yqe(r)})`,s.WrappedComponent=r;const i=(o,l)=>C.createElement(s,Object.assign({},o,{forwardedRef:l}));return e.withRef?C.forwardRef(i):s}}/*!
* metismenujs - v1.4.0
* MetisMenu: Collapsible menu plugin with Vanilla-JS
* https://github.com/onokumus/metismenujs#readme
*
* Made by Osman Nuri Okumus <onokumus@gmail.com> (https://github.com/onokumus)
* Under MIT License
*/const l7e={parentTrigger:"li",subMenu:"ul",toggle:!0,triggerElement:"a"},rj={ACTIVE:"mm-active",COLLAPSE:"mm-collapse",COLLAPSED:"mm-collapsed",COLLAPSING:"mm-collapsing",METIS:"metismenu",SHOW:"mm-show"};class nC{constructor(e,n){this.element=nC.isElement(e)?e:document.querySelector(e),this.config=Object.assign(Object.assign({},l7e),n),this.disposed=!1,this.triggerArr=[],this.boundEventHandler=this.clickEvent.bind(this),this.init()}static attach(e,n){return new nC(e,n)}init(){const{METIS:e,ACTIVE:n,COLLAPSE:r}=rj;this.element.classList.add(e);const s=[...this.element.querySelectorAll(this.config.subMenu)];s.length!==0&&s.forEach(i=>{i.classList.add(r);const o=i.closest(this.config.parentTrigger);o!=null&&o.classList.contains(n)?this.show(i):this.hide(i);const l=o==null?void 0:o.querySelector(this.config.triggerElement);(l==null?void 0:l.getAttribute("aria-disabled"))!=="true"&&(l==null||l.setAttribute("aria-expanded","false"),l==null||l.addEventListener("click",this.boundEventHandler),this.triggerArr.push(l))})}clickEvent(e){if(!this.disposed){const n=e==null?void 0:e.currentTarget;n&&n.tagName==="A"&&e.preventDefault();const r=n.closest(this.config.parentTrigger),s=r==null?void 0:r.querySelector(this.config.subMenu);this.toggle(s)}}update(){this.disposed=!1,this.init()}dispose(){this.triggerArr.forEach(e=>{e.removeEventListener("click",this.boundEventHandler)}),this.disposed=!0}on(e,n,r){return this.element.addEventListener(e,n,r),this}off(e,n,r){return this.element.removeEventListener(e,n,r),this}emit(e,n,r=!1){const s=new CustomEvent(e,{bubbles:r,detail:n});this.element.dispatchEvent(s)}toggle(e){const n=e.closest(this.config.parentTrigger);n!=null&&n.classList.contains(rj.ACTIVE)?this.hide(e):this.show(e)}show(e){var n;const r=e,{ACTIVE:s,COLLAPSE:i,COLLAPSED:o,COLLAPSING:l,SHOW:c}=rj;if(this.isTransitioning||r.classList.contains(l))return;const u=()=>{r.classList.remove(l),r.style.height="",r.removeEventListener("transitionend",u),this.setTransitioning(!1),this.emit("shown.metisMenu",{shownElement:r})},d=r.closest(this.config.parentTrigger);d==null||d.classList.add(s);const f=d==null?void 0:d.querySelector(this.config.triggerElement);f==null||f.setAttribute("aria-expanded","true"),f==null||f.classList.remove(o),r.style.height="0px",r.classList.remove(i),r.classList.remove(c),r.classList.add(l);const m=[].slice.call((n=d==null?void 0:d.parentNode)===null||n===void 0?void 0:n.children).filter(p=>p!==d);this.config.toggle&&m.length>0&&m.forEach(p=>{const y=p.querySelector(this.config.subMenu);y&&this.hide(y)}),this.setTransitioning(!0),r.classList.add(i),r.classList.add(c),r.style.height=`${r.scrollHeight}px`,this.emit("show.metisMenu",{showElement:r}),r.addEventListener("transitionend",u)}hide(e){const{ACTIVE:n,COLLAPSE:r,COLLAPSED:s,COLLAPSING:i,SHOW:o}=rj,l=e;if(this.isTransitioning||!l.classList.contains(o))return;this.emit("hide.metisMenu",{hideElement:l});const c=l.closest(this.config.parentTrigger);c==null||c.classList.remove(n);const u=()=>{l.classList.remove(i),l.classList.add(r),l.style.height="",l.removeEventListener("transitionend",u),this.setTransitioning(!1),this.emit("hidden.metisMenu",{hiddenElement:l})};l.style.height=`${l.getBoundingClientRect().height}px`,l.style.height=`${l.offsetHeight}px`,l.classList.add(i),l.classList.remove(r),l.classList.remove(o),this.setTransitioning(!0),l.addEventListener("transitionend",u),l.style.height="0px";const d=c==null?void 0:c.querySelector(this.config.triggerElement);d==null||d.setAttribute("aria-expanded","false"),d==null||d.classList.add(s)}setTransitioning(e){this.isTransitioning=e}static isElement(e){return!!e.classList}}const hse=()=>{const t=C.useRef(),e=ih(),n=C.useCallback(o=>{o.classList.add("active");const l=o.parentElement,c=l.childNodes[1];if(c&&c.id!=="side-menu"&&c.classList.add("mm-show"),l){l.classList.add("mm-active");const u=l.parentElement;if(u){u.classList.add("mm-show");const d=u.parentElement;if(d){d.classList.add("mm-active"),d.childNodes[0].classList.add("mm-active");const f=d.parentElement;if(f){f.classList.add("mm-show");const m=f.parentElement;m&&(m.classList.add("mm-show"),m.childNodes[0].classList.add("mm-active"))}}}i(o)}},[]),r=o=>{var l;for(let c=0;c<o.length;++c){const u=o[c],d=u.parentElement;if(u.classList.remove("active"),!d)continue;const f=(l=d.childNodes)!=null&&l.length&&d.childNodes[1]?d.childNodes[1]:null;f&&f.id!=="side-menu"&&f.classList.remove("mm-show"),d.classList.remove("mm-active");const m=d.parentElement;if(m){m.classList.remove("mm-show");const p=m.parentElement;if(p){p.classList.remove("mm-active"),p.childNodes[0].classList.remove("mm-active");const y=p.parentElement;if(y){y.classList.remove("mm-show");const _=y.parentElement;_&&(_.classList.remove("mm-show"),_.childNodes[0].classList.remove("mm-active"))}}}}},s=C.useCallback(()=>{const o=e.pathname;let l=null;const u=document.getElementById("side-menu").getElementsByTagName("a");r(u);for(let d=0;d<u.length;d++)if(o===u[d].pathname){l=u[d];break}l&&n(l)},[e.pathname,n]);C.useEffect(()=>{t.current.recalculate()},[]),C.useEffect(()=>{new nC("#side-menu"),s()},[]),C.useEffect(()=>{s()},[s]);function i(o){if(o){const l=o.offsetTop;l>window.innerHeight&&(t.current.getScrollElement().scrollTop=l-300)}}return a.jsx(ae.Fragment,{children:a.jsx(lN,{className:"h-100",ref:t,children:a.jsx("div",{id:"sidebar-menu",children:a.jsxs("ul",{className:"metismenu list-unstyled",id:"side-menu",children:[a.jsx("li",{className:"menu-title",children:""}),a.jsx("li",{children:a.jsxs(Ce,{to:"/dashboard",children:[a.jsx("i",{className:"bx bx-home-circle"}),a.jsx("span",{children:" "})]})}),a.jsx("li",{className:"menu-title",children:" "}),a.jsxs("li",{children:[a.jsxs(Ce,{to:"/#",className:"has-arrow",children:[a.jsx("i",{className:"bx bx-user-pin"}),a.jsx("span",{children:" "})]}),a.jsxs("ul",{className:"sub-menu",children:[a.jsx("li",{children:a.jsx(Ce,{to:"/members/add",children:"  "})}),a.jsx("li",{children:a.jsx(Ce,{to:"/members/list",children:" "})})]})]}),a.jsxs("li",{children:[a.jsxs(Ce,{to:"/#",className:"has-arrow",children:[a.jsx("i",{className:"bx bx-group"}),a.jsx("span",{children:""})]}),a.jsxs("ul",{className:"sub-menu",children:[a.jsx("li",{children:a.jsx(Ce,{to:"/customers/add",children:" "})}),a.jsx("li",{children:a.jsx(Ce,{to:"/customers/list",children:" "})})]})]}),a.jsxs("li",{children:[a.jsxs(Ce,{to:"/#",className:"has-arrow",children:[a.jsx("i",{className:"bx bx-cube"}),a.jsx("span",{children:"  "})]}),a.jsxs("ul",{className:"sub-menu",children:[a.jsx("li",{children:a.jsx(Ce,{to:"/inventory/add-product",children:" "})}),a.jsx("li",{children:a.jsx(Ce,{to:"/inventory/product-list",children:" "})}),a.jsx("li",{children:a.jsx(Ce,{to:"/inventory/category-list",children:""})}),a.jsx("li",{children:a.jsx(Ce,{to:"/inventory/unit-list",children:" "})})]})]}),a.jsx("li",{className:"menu-title",children:" "}),a.jsxs("li",{children:[a.jsxs(Ce,{to:"/#",className:"has-arrow",children:[a.jsx("i",{className:"bx bx-import"}),a.jsx("span",{children:"  ()"})]}),a.jsxs("ul",{className:"sub-menu",children:[a.jsx("li",{children:a.jsx(Ce,{to:"/receipt/form",children:"  "})}),a.jsx("li",{children:a.jsx(Ce,{to:"/receipt/list",children:" "})})]})]}),a.jsxs("li",{children:[a.jsxs(Ce,{to:"/#",className:"has-arrow",children:[a.jsx("i",{className:"bx bx-task"}),a.jsx("span",{children:" "})]}),a.jsxs("ul",{className:"sub-menu",children:[a.jsx("li",{children:a.jsx(Ce,{to:"/clearances/form",children:" "})}),a.jsx("li",{children:a.jsx(Ce,{to:"/clearances/report",children:" "})})]})]}),a.jsxs("li",{children:[a.jsxs(Ce,{to:"/#",className:"has-arrow",children:[a.jsx("i",{className:"bx bx-truck"}),a.jsx("span",{children:""})]}),a.jsxs("ul",{className:"sub-menu",children:[a.jsx("li",{children:a.jsx(Ce,{to:"/loading/create",children:"  "})}),a.jsx("li",{children:a.jsx(Ce,{to:"/loading/list",children:" "})})]})]}),a.jsxs("li",{children:[a.jsxs(Ce,{to:"/#",className:"has-arrow",children:[a.jsx("i",{className:"bx bx-exit"}),a.jsx("span",{children:"  "})]}),a.jsxs("ul",{className:"sub-menu",children:[a.jsx("li",{children:a.jsx(Ce,{to:"/exit/create",children:"  "})}),a.jsx("li",{children:a.jsx(Ce,{to:"/exit/list",children:" "})})]})]}),a.jsx("li",{className:"menu-title",children:" "}),a.jsxs("li",{children:[a.jsxs(Ce,{to:"/#",className:"has-arrow",children:[a.jsx("i",{className:"bx bx-file"}),a.jsx("span",{children:""})]}),a.jsxs("ul",{className:"sub-menu",children:[a.jsx("li",{children:a.jsx(Ce,{to:"/accounting/coding",children:"  (GL)"})}),a.jsx("li",{children:a.jsx(Ce,{to:"/accounting/documents",children:"  "})}),a.jsx("li",{children:a.jsx(Ce,{to:"/accounting/new",children:"  "})})]})]}),a.jsxs("li",{children:[a.jsxs(Ce,{to:"/#",className:"has-arrow",children:[a.jsx("i",{className:"bx bx-money"}),a.jsx("span",{children:"  "})]}),a.jsxs("ul",{className:"sub-menu",children:[a.jsx("li",{children:a.jsx(Ce,{to:"/accounting/treasury-form",children:"   "})}),a.jsx("li",{children:a.jsx(Ce,{to:"/accounting/list",children:"  "})}),a.jsx("li",{children:a.jsx(Ce,{to:"/accounting/check-operations",children:" "})}),a.jsx("li",{children:a.jsx(Ce,{to:"/accounting/definitions",children:" (/)"})})]})]}),a.jsx("li",{className:"menu-title",children:""}),a.jsxs("li",{children:[a.jsxs(Ce,{to:"/#",className:"has-arrow",children:[a.jsx("i",{className:"bx bx-bar-chart-square"}),a.jsx("span",{children:" "})]}),a.jsxs("ul",{className:"sub-menu",children:[a.jsx("li",{children:a.jsx(Ce,{to:"/accounting/reports/journal",children:" "})}),a.jsx("li",{children:a.jsx(Ce,{to:"/accounting/reports/customers",children:"  "})}),a.jsx("li",{children:a.jsx(Ce,{to:"/accounting/reports/comprehensive",children:"  "})}),a.jsx("li",{children:a.jsx(Ce,{to:"/accounting/reports/ledger",children:"  (/)"})})]})]}),a.jsx("li",{className:"menu-title",children:""}),a.jsx("li",{children:a.jsxs(Ce,{to:"/settings",children:[a.jsx("i",{className:"bx bx-cog"}),a.jsx("span",{children:""})]})})]})})})})};hse.propTypes={location:R.object,t:R.any};const L8=dg(cN()(hse)),fse="/assets/logo-light-BlQtlCZa.png",mse="/assets/logo-dark-J_X7roAB.png",pse=t=>a.jsx(ae.Fragment,{children:a.jsxs("div",{className:"vertical-menu",children:[a.jsxs("div",{className:"navbar-brand-box",children:[a.jsxs(Ce,{to:"/",className:"logo logo-dark",children:[a.jsx("span",{className:"logo-sm",children:a.jsx("img",{src:oN,alt:"",height:"22"})}),a.jsx("span",{className:"logo-lg",children:a.jsx("img",{src:mse,alt:"",height:"17"})})]}),a.jsxs(Ce,{to:"/",className:"logo logo-light",children:[a.jsx("span",{className:"logo-sm",children:a.jsx("img",{src:M0,alt:"",height:"22"})}),a.jsx("span",{className:"logo-lg",children:a.jsx("img",{src:fse,alt:"",height:"19"})})]})]}),a.jsx("div",{"data-simplebar":!0,className:"h-100",children:t.type!=="condensed"?a.jsx(L8,{}):a.jsx(L8,{})}),a.jsx("div",{className:"sidebar-background"})]})});pse.propTypes={type:R.string};const c7e=t=>({layout:t.Layout}),u7e=cb(c7e,{})(dg(cN()(pse))),d7e=()=>a.jsx(ae.Fragment,{children:a.jsx("footer",{className:"footer",children:a.jsx(An,{fluid:!0,children:a.jsxs(pe,{children:[a.jsxs(M,{md:6,children:[new Date().getFullYear(),"  Skote."]}),a.jsx(M,{md:6,children:a.jsx("div",{className:"text-sm-end d-none d-sm-block",children:"      "})})]})})})}),h7e="/assets/img1-C96tXIsY.jpg",f7e="/assets/img2-qFI2s88c.jpg",m7e="/assets/img3-DttWeaB9.jpg",p7e="/assets/img4-D-MgRLyP.jpg",g7e="/assets/layout-1-D0y5W9JW.jpg",y7e="/assets/layout-2-CaCZ5c4n.jpg",v7e="/assets/layout-3-CS1mEtcQ.jpg",Q_={HORIZONTAL:"horizontal",VERTICAL:"vertical"},zm={FLUID:"fluid",BOXED:"boxed",SCROLLABLE:"scrollable"},Z_={DARK:"dark",LIGHT:"light"},Wm={LIGHT:"light",DARK:"dark",COLORED:"colored"},Mc={NONE:"none",IMG1:"img1",IMG2:"img2",IMG3:"img3",IMG4:"img4"},Gm={DEFAULT:"default",COMPACT:"compact",ICON:"icon"},na={LIGHT:"light",COLORED:"colored",DARK:"dark",WINTER:"winter",LADYLIP:"ladylip",PLUMPLATE:"plumplate",STRONGBLISS:"strongbliss",GREATWHALE:"greatwhale"},gse=t=>a.jsxs(ae.Fragment,{children:[a.jsx("div",{className:"right-bar",id:"right-bar",children:a.jsx(lN,{style:{height:"900px"},children:a.jsxs("div",{"data-simplebar":!0,className:"h-100",children:[a.jsxs("div",{className:"rightbar-title px-3 py-4",children:[a.jsx(Ce,{to:"#",onClick:e=>{e.preventDefault(),t.showRightSidebarAction(!1)},className:"right-bar-toggle float-end",children:a.jsx("i",{className:"mdi mdi-close noti-icon"})}),a.jsx("h5",{className:"m-0",children:""})]}),a.jsx("hr",{className:"my-0"}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"radio-toolbar",children:[a.jsx("span",{className:"mb-2 d-block",children:"  "}),a.jsx("input",{type:"radio",id:"radioVertical",name:"radioFruit",value:Q_.VERTICAL,checked:t.layoutType===Q_.VERTICAL,onChange:e=>{e.target.checked&&t.changeLayout(e.target.value)}}),a.jsx("label",{className:"me-1",htmlFor:"radioVertical",children:""}),a.jsx("input",{type:"radio",id:"radioHorizontal",name:"radioFruit",value:Q_.HORIZONTAL,checked:t.layoutType===Q_.HORIZONTAL,onChange:e=>{e.target.checked&&t.changeLayout(e.target.value)}}),a.jsx("label",{htmlFor:"radioHorizontal",children:""})]}),a.jsx("hr",{className:"mt-1"}),a.jsxs("div",{className:"radio-toolbar",children:[a.jsx("span",{className:"mb-2 d-block",children:" "}),a.jsx("input",{type:"radio",id:"radioLight",name:"radioLight",value:Z_.LIGHT,checked:t.layoutModeType===Z_.LIGHT,onChange:e=>{e.target.checked&&t.changeLayoutMode(e.target.value)}}),a.jsx("label",{className:"me-1",htmlFor:"radioLight",children:""}),a.jsx("input",{type:"radio",id:"radioDark",name:"radioDark",value:Z_.DARK,checked:t.layoutModeType===Z_.DARK,onChange:e=>{e.target.checked&&t.changeLayoutMode(e.target.value)}}),a.jsx("label",{htmlFor:"radioDark",children:""})]}),a.jsx("hr",{className:"mt-1"}),a.jsxs("div",{className:"radio-toolbar",children:[a.jsx("span",{className:"mb-2 d-block",id:"radio-title",children:" "}),a.jsx("input",{type:"radio",id:"radioFluid",name:"radioWidth",value:zm.FLUID,checked:t.layoutWidth===zm.FLUID,onChange:e=>{e.target.checked&&t.changeLayoutWidth(e.target.value)}}),a.jsx("label",{className:"me-1",htmlFor:"radioFluid",children:""}),a.jsx("input",{type:"radio",id:"radioBoxed",name:"radioWidth",value:zm.BOXED,checked:t.layoutWidth===zm.BOXED,onChange:e=>{e.target.checked&&t.changeLayoutWidth(e.target.value)}}),a.jsx("label",{htmlFor:"radioBoxed",className:"me-1",children:" "}),a.jsx("input",{type:"radio",id:"radioscrollable",name:"radioscrollable",value:zm.SCROLLABLE,checked:t.layoutWidth===zm.SCROLLABLE,onChange:e=>{e.target.checked&&t.changeLayoutWidth(e.target.value)}}),a.jsx("label",{htmlFor:"radioscrollable",children:" "})]}),a.jsx("hr",{className:"mt-1"}),a.jsxs("div",{className:"radio-toolbar",children:[a.jsx("span",{className:"mb-2 d-block",id:"radio-title",children:"   "}),a.jsx("input",{type:"radio",id:"radioThemeLight",name:"radioTheme",value:Wm.LIGHT,checked:t.topbarTheme===Wm.LIGHT,onChange:e=>{e.target.checked&&t.changeTopbarTheme(e.target.value)}}),a.jsx("label",{className:"me-1",htmlFor:"radioThemeLight",children:""}),a.jsx("input",{type:"radio",id:"radioThemeDark",name:"radioTheme",value:Wm.DARK,checked:t.topbarTheme===Wm.DARK,onChange:e=>{e.target.checked&&t.changeTopbarTheme(e.target.value)}}),a.jsx("label",{className:"me-1",htmlFor:"radioThemeDark",children:""}),t.layoutType==="vertical"?null:a.jsxs(a.Fragment,{children:[a.jsx("input",{type:"radio",id:"radioThemeColored",name:"radioTheme",value:Wm.COLORED,checked:t.topbarTheme===Wm.COLORED,onChange:e=>{e.target.checked&&t.changeTopbarTheme(e.target.value)}}),a.jsx("label",{className:"me-1",htmlFor:"radioThemeColored",children:""})," "]})]}),t.layoutType==="vertical"?a.jsxs(ae.Fragment,{children:[a.jsx("hr",{className:"mt-1"}),a.jsxs("div",{className:"radio-toolbar",children:[a.jsxs("span",{className:"mb-2 d-block",id:"radio-title",children:["    "," "]}),a.jsx("input",{type:"radio",id:"sidebarDefault",name:"sidebarType",value:Gm.DEFAULT,checked:t.leftSideBarType===Gm.DEFAULT,onChange:e=>{e.target.checked&&t.changeSidebarType(e.target.value)}}),a.jsx("label",{className:"me-1",htmlFor:"sidebarDefault",children:" "}),a.jsx("input",{type:"radio",id:"sidebarCompact",name:"sidebarType",value:Gm.COMPACT,checked:t.leftSideBarType===Gm.COMPACT,onChange:e=>{e.target.checked&&t.changeSidebarType(e.target.value)}}),a.jsx("label",{className:"me-1",htmlFor:"sidebarCompact",children:""}),a.jsx("input",{type:"radio",id:"sidebarIcon",name:"sidebarType",value:Gm.ICON,checked:t.leftSideBarType===Gm.ICON,onChange:e=>{e.target.checked&&t.changeSidebarType(e.target.value)}}),a.jsx("label",{className:"me-1",htmlFor:"sidebarIcon",children:""})]}),a.jsx("hr",{className:"mt-1"}),a.jsxs("div",{className:"radio-toolbar coloropt-radio",children:[a.jsx("span",{className:"mb-2 d-block",id:"radio-title",children:"      "}),a.jsx(pe,{children:a.jsxs(M,{children:[a.jsx("input",{type:"radio",id:"leftsidebarThemelight",name:"leftsidebarTheme",value:na.LIGHT,checked:t.leftSideBarTheme===na.LIGHT,onChange:e=>{e.target.checked&&t.changeSidebarTheme(e.target.value)}}),a.jsx("label",{htmlFor:"leftsidebarThemelight",className:t.layoutModeType==="dark"?"bg-dark rounded-circle wh-30 me-1":"bg-light rounded-circle wh-30 me-1"}),a.jsx("input",{type:"radio",id:"leftsidebarThemedark",name:"leftsidebarTheme",value:na.DARK,checked:t.leftSideBarTheme===na.DARK,onChange:e=>{e.target.checked&&t.changeSidebarTheme(e.target.value)}}),a.jsx("label",{htmlFor:"leftsidebarThemedark",className:t.layoutModeType==="light"?"bg-dark rounded-circle wh-30 me-1":"bg-light rounded-circle wh-30 me-1"}),a.jsx("input",{type:"radio",id:"leftsidebarThemecolored",name:"leftsidebarTheme",value:na.COLORED,checked:t.leftSideBarTheme===na.COLORED,onChange:e=>{e.target.checked&&t.changeSidebarTheme(e.target.value)}}),a.jsx("label",{htmlFor:"leftsidebarThemecolored",className:"bg-colored rounded-circle wh-30 me-1"})]})}),a.jsx(pe,{children:a.jsxs(M,{children:[a.jsx("input",{type:"radio",id:"leftsidebarThemewinter",name:"leftsidebarTheme",value:na.WINTER,checked:t.leftSideBarTheme===na.WINTER,onChange:e=>{e.target.checked&&t.changeSidebarTheme(e.target.value)}}),a.jsx("label",{htmlFor:"leftsidebarThemewinter",className:"gradient-winter rounded-circle wh-30 me-1"}),a.jsx("input",{type:"radio",id:"leftsidebarThemeladylip",name:"leftsidebarTheme",value:na.LADYLIP,checked:t.leftSideBarTheme===na.LADYLIP,onChange:e=>{e.target.checked&&t.changeSidebarTheme(e.target.value)}}),a.jsx("label",{htmlFor:"leftsidebarThemeladylip",className:"gradient-lady-lip rounded-circle wh-30 me-1"}),a.jsx("input",{type:"radio",id:"leftsidebarThemeplumplate",name:"leftsidebarTheme",value:na.PLUMPLATE,checked:t.leftSideBarTheme===na.PLUMPLATE,onChange:e=>{e.target.checked&&t.changeSidebarTheme(e.target.value)}}),a.jsx("label",{htmlFor:"leftsidebarThemeplumplate",className:"gradient-plum-plate rounded-circle wh-30 me-1"}),a.jsx("input",{type:"radio",id:"leftsidebarThemestrongbliss",name:"leftsidebarTheme",value:na.STRONGBLISS,checked:t.leftSideBarTheme===na.STRONGBLISS,onChange:e=>{e.target.checked&&t.changeSidebarTheme(e.target.value)}}),a.jsx("label",{htmlFor:"leftsidebarThemestrongbliss",className:"gradient-strong-bliss rounded-circle wh-30 me-1"}),a.jsx("input",{type:"radio",id:"leftsidebarThemesgreatwhale",name:"leftsidebarTheme",value:na.GREATWHALE,checked:t.leftSideBarTheme===na.GREATWHALE,onChange:e=>{e.target.checked&&t.changeSidebarTheme(e.target.value)}}),a.jsx("label",{htmlFor:"leftsidebarThemesgreatwhale",className:"gradient-strong-great-whale rounded-circle wh-30 me-1"})]})})]}),a.jsxs("div",{className:"radio-toolbar imgopt-radio",children:[a.jsx("span",{className:"mb-2 d-block",id:"radio-bgimg",children:"      "}),a.jsxs("div",{className:"d-flex gap-2 flex-wrap",children:[a.jsx("input",{type:"radio",id:"leftsidebarThemebgimg1",name:"leftsidebarThemeImage",value:Mc.IMG1,checked:t.leftSideBarThemeImage===Mc.IMG1,onChange:e=>{e.target.checked&&t.changeSidebarThemeImage(e.target.value)}}),a.jsx("label",{htmlFor:"leftsidebarThemebgimg1",children:a.jsx("img",{alt:"sidebar bg image",width:"90",className:"themesideimage rounded",src:h7e})}),"   ",a.jsx("input",{type:"radio",id:"leftsidebarThemebgimg2",name:"leftsidebarThemeImage",value:Mc.IMG2,checked:t.leftSideBarThemeImage===Mc.IMG2,onChange:e=>{e.target.checked&&t.changeSidebarThemeImage(e.target.value)}}),a.jsx("label",{htmlFor:"leftsidebarThemebgimg2",children:a.jsx("img",{alt:"sidebar bg image",width:"90",className:"themesideimage rounded",src:f7e})}),"   ",a.jsx("input",{type:"radio",id:"leftsidebarThemebgimg3",name:"leftsidebarThemeImage",value:Mc.IMG3,checked:t.leftSideBarThemeImage===Mc.IMG3,onChange:e=>{e.target.checked&&t.changeSidebarThemeImage(e.target.value)}}),a.jsx("label",{htmlFor:"leftsidebarThemebgimg3",children:a.jsx("img",{alt:"sidebar bg image",width:"90",className:"themesideimage rounded",src:m7e})}),"   ",a.jsx("input",{type:"radio",id:"leftsidebarThemebgimg4",name:"leftsidebarThemeImage",value:Mc.IMG4,checked:t.leftSideBarThemeImage===Mc.IMG4,onChange:e=>{e.target.checked&&t.changeSidebarThemeImage(e.target.value)}}),a.jsx("label",{htmlFor:"leftsidebarThemebgimg4",children:a.jsx("img",{alt:"sidebar bg image",width:"90",className:"themesideimage rounded",src:p7e})}),"   ",a.jsx("input",{type:"radio",id:"leftsidebarThemenone",name:"leftsidebarThemeImage",value:Mc.NONE,checked:t.leftSideBarThemeImage===Mc.NONE,onChange:e=>{e.target.checked&&t.changeSidebarThemeImage(e.target.value)}}),a.jsx("label",{htmlFor:"leftsidebarThemenone",children:a.jsx("div",{style:{width:"40px",height:"80px"},children:a.jsx("div",{className:"bg-light border px-2 h-100 shadow-none",children:a.jsx("div",{className:"verticalcontent",children:""})})})}),"   "]})]}),a.jsx("hr",{className:"mt-1"})]}):null,a.jsxs(KY,{children:[a.jsx("span",{className:"mb-2 d-block",id:"radio-title",children:" "}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{type:"checkbox",className:"form-check-input checkbox",id:"checkbox_1",checked:t.isPreloader,onChange:()=>{t.changePreloader(!t.isPreloader)}}),a.jsx("label",{className:"form-check-label",htmlFor:"checkbox_1",children:" "})]})]}),a.jsx("h6",{className:"text-center",children:" "}),a.jsx("div",{className:"mb-2",children:a.jsx(Ce,{to:"//skote-v-light.react.themesbrand.com",target:"_blank",children:a.jsx("img",{src:g7e,className:"img-fluid img-thumbnail",alt:""})})}),a.jsx("div",{className:"mb-2",children:a.jsx(Ce,{to:"//skote-v-dark.react.themesbrand.com",target:"_blank",children:a.jsx("img",{src:y7e,className:"img-fluid img-thumbnail",alt:""})})}),a.jsx("div",{className:"mb-2",children:a.jsx(Ce,{to:"//skote-v-rtl.react.themesbrand.com",target:"_blank",children:a.jsx("img",{src:v7e,className:"img-fluid img-thumbnail",alt:""})})}),a.jsxs(Ce,{to:"//1.envato.market/skotereact",className:"btn btn-primary btn-block mt-3",target:"_blank",children:[a.jsx("i",{className:"mdi mdi-cart ms-1"}),"   "]})]})]})})}),a.jsx("div",{className:"rightbar-overlay"})]});gse.propTypes={changeLayout:R.func,changeLayoutWidth:R.func,changePreloader:R.func,changeSidebarTheme:R.func,changeSidebarThemeImage:R.func,changeSidebarType:R.func,changeTopbarTheme:R.func,isPreloader:R.any,layoutType:R.any,layoutModeType:R.any,changeLayoutMode:R.func,layoutWidth:R.any,leftSideBarTheme:R.any,leftSideBarThemeImage:R.any,leftSideBarType:R.any,showRightSidebarAction:R.func,topbarTheme:R.any,onClose:R.func};const b7e=t=>({...t.Layout}),yse=cb(b7e,{changeLayout:O4,changeLayoutMode:iN,changeSidebarTheme:mte,changeSidebarThemeImage:pte,changeSidebarType:Ef,changeLayoutWidth:R4,changeTopbarTheme:P4,changePreloader:F8e,showRightSidebarAction:$0})(gse),vse=t=>{const e=ub(),n=db(y=>y.Layout,y=>({isPreloader:y.isPreloader,layoutModeType:y.layoutModeType,leftSideBarThemeImage:y.leftSideBarThemeImage,leftSideBarType:y.leftSideBarType,layoutWidth:y.layoutWidth,topbarTheme:y.topbarTheme,showRightSidebar:y.showRightSidebar,leftSideBarTheme:y.leftSideBarTheme})),{isPreloader:r,leftSideBarThemeImage:s,layoutWidth:i,leftSideBarType:o,topbarTheme:l,showRightSidebar:c,leftSideBarTheme:u,layoutModeType:d}=g0(n),f=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),m=()=>{o==="default"?e(Ef("condensed",f)):o==="condensed"&&e(Ef("default",f))},p=y=>{var _=document.getElementById("right-bar");_&&_.contains(y.target)||e($0(!1))};return C.useEffect(()=>{document.body.addEventListener("click",p,!0),r===!0?(document.getElementById("preloader").style.display="block",document.getElementById("status").style.display="block",setTimeout(function(){document.getElementById("preloader").style.display="none",document.getElementById("status").style.display="none"},2500)):(document.getElementById("preloader").style.display="none",document.getElementById("status").style.display="none")},[r]),C.useEffect(()=>{window.scrollTo(0,0)},[]),C.useEffect(()=>{e(O4("vertical"))},[e]),C.useEffect(()=>{u&&e(mte(u))},[u,e]),C.useEffect(()=>{d&&e(iN(d))},[d,e]),C.useEffect(()=>{s&&e(pte(s))},[s,e]),C.useEffect(()=>{i&&e(R4(i))},[i,e]),C.useEffect(()=>{o&&e(Ef(o))},[o,e]),C.useEffect(()=>{l&&e(P4(l))},[l,e]),a.jsxs(ae.Fragment,{children:[a.jsx("div",{id:"preloader",children:a.jsx("div",{id:"status",children:a.jsxs("div",{className:"spinner-chase",children:[a.jsx("div",{className:"chase-dot"}),a.jsx("div",{className:"chase-dot"}),a.jsx("div",{className:"chase-dot"}),a.jsx("div",{className:"chase-dot"}),a.jsx("div",{className:"chase-dot"}),a.jsx("div",{className:"chase-dot"})]})})}),a.jsxs("div",{id:"layout-wrapper",children:[a.jsx(Wqe,{toggleMenuCallback:m}),a.jsx(u7e,{theme:u,type:o,isMobile:f}),a.jsx("div",{className:"main-content",children:t.children}),a.jsx(d7e,{})]}),c?a.jsx(yse,{}):null]})};vse.propTypes={changeLayoutWidth:R.func,changeSidebarTheme:R.func,changeSidebarThemeImage:R.func,changeSidebarType:R.func,changeTopbarTheme:R.func,isPreloader:R.any,layoutWidth:R.any,leftSideBarTheme:R.any,leftSideBarThemeImage:R.any,leftSideBarType:R.any,location:R.object,showRightSidebar:R.any,topbarTheme:R.any};const M8=dg(vse),bse=t=>{var p,y;const[e,n]=C.useState(!1),[r,s]=C.useState(!1),[i,o]=C.useState(!1),[l,c]=C.useState(null),[u,d]=C.useState(!0);C.useEffect(()=>{async function _(){d(!0);try{const b=await Bt("/users/me");c(b)}catch{}d(!1)}_()},[]),C.useEffect(()=>{var _=null,b=document.getElementById("navigation"),x=b.getElementsByTagName("a");f(x);for(var w=0;w<x.length;++w)if(window.location.pathname===x[w].pathname){_=x[w];break}_&&m(_)});const f=_=>{for(var b=0;b<_.length;++b){var x=_[b];const w=_[b].parentElement;x&&x.classList.contains("active")&&x.classList.remove("active"),w&&w.classList.contains("active")&&w.classList.remove("active")}};function m(_){_.classList.add("active");const b=_.parentElement;if(b){b.classList.add("active");const x=b.parentElement;if(x){x.classList.add("active");const w=x.parentElement;if(w){w.classList.add("active");const E=w.parentElement;E&&E.classList.add("active")}}}return!1}return a.jsx(ae.Fragment,{children:a.jsx("div",{className:"topnav",children:a.jsx("div",{className:"container-fluid",children:a.jsx("nav",{className:"navbar navbar-light navbar-expand-lg topnav-menu",id:"navigation",children:a.jsx(b0,{isOpen:t.leftMenu,className:"navbar-collapse",id:"topnav-menu-content",children:a.jsxs("ul",{className:"navbar-nav",children:[a.jsx("li",{className:"nav-item",children:a.jsxs(Ce,{className:"nav-link",to:"/dashboard",children:[a.jsx("i",{className:"bx bx-home-circle me-2"}),""]})}),a.jsxs("li",{className:"nav-item dropdown",children:[a.jsxs(Ce,{to:"/#",onClick:_=>{_.preventDefault(),n(!e)},className:"nav-link dropdown-toggle arrow-none",children:[a.jsx("i",{className:"bx bx-layer me-2"})," ",a.jsx("div",{className:"arrow-down"})]}),a.jsxs("div",{className:Rt("dropdown-menu",{show:e}),children:[a.jsxs(Ce,{to:"/inventory/unit-list",className:"dropdown-item",children:[a.jsx("i",{className:"bx bx-layer font-size-16 me-2"})," "]}),a.jsxs(Ce,{to:"/inventory/category-list",className:"dropdown-item",children:[a.jsx("i",{className:"bx bx-category font-size-16 me-2"}),""]}),a.jsxs(Ce,{to:"/inventory/product-list",className:"dropdown-item",children:[a.jsx("i",{className:"bx bx-package font-size-16 me-2"}),""]}),a.jsxs(Ce,{to:"/inventory/warehouse-list",className:"dropdown-item",children:[a.jsx("i",{className:"bx bx-store font-size-16 me-2"}),""]})]})]}),a.jsxs("li",{className:"nav-item dropdown",children:[a.jsxs(Ce,{to:"/#",onClick:_=>{_.preventDefault(),s(!r)},className:"nav-link dropdown-toggle arrow-none",children:[a.jsx("i",{className:"bx bx-transfer me-2"}),"  ",a.jsx("div",{className:"arrow-down"})]}),a.jsxs("div",{className:Rt("dropdown-menu",{show:r}),children:[a.jsxs(Ce,{to:"/transactions/stock-in",className:"dropdown-item",children:[a.jsx("i",{className:"bx bx-import font-size-16 me-2"})," "]}),a.jsxs(Ce,{to:"/transactions/stock-out",className:"dropdown-item",children:[a.jsx("i",{className:"bx bx-export font-size-16 me-2"})," "]}),a.jsxs(Ce,{to:"/transactions/transfer",className:"dropdown-item",children:[a.jsx("i",{className:"bx bx-transfer font-size-16 me-2"}),"  "]})]})]}),a.jsxs("li",{className:"nav-item dropdown",children:[a.jsxs(Ce,{to:"/#",onClick:_=>{_.preventDefault(),o(!i)},className:"nav-link dropdown-toggle arrow-none",children:[a.jsx("i",{className:"bx bx-bar-chart-alt-2 me-2"})," ",a.jsx("div",{className:"arrow-down"})]}),a.jsxs("div",{className:Rt("dropdown-menu",{show:i}),children:[a.jsxs(Ce,{to:"/reports/stock",className:"dropdown-item",children:[a.jsx("i",{className:"bx bx-list-ul font-size-16 me-2"})," "]}),a.jsxs(Ce,{to:"/reports/transactions",className:"dropdown-item",children:[a.jsx("i",{className:"bx bx-history font-size-16 me-2"})," "]}),a.jsxs(Ce,{to:"/reports/value",className:"dropdown-item",children:[a.jsx("i",{className:"bx bx-dollar-circle font-size-16 me-2"}),"  "]})]})]}),!u&&l&&a.jsx("li",{className:"nav-item ms-auto",children:a.jsx(Ce,{className:"nav-link",to:"/profile",children:a.jsxs("div",{className:"d-flex align-items-center",children:[(p=l.avatar)!=null&&p.url?a.jsx("img",{src:l.avatar.url,alt:l.full_name,className:"avatar-xs rounded-circle me-2"}):a.jsx("div",{className:"avatar-xs me-2",children:a.jsx("span",{className:"avatar-title rounded-circle bg-soft-primary text-primary",children:((y=l.full_name)==null?void 0:y.charAt(0))||"U"})}),a.jsx("span",{className:"d-none d-md-inline-block",children:l.full_name})]})})})]})})})})})})};bse.propTypes={leftMenu:R.any,location:R.any};const _7e=t=>{const{leftMenu:e}=t.Layout;return{leftMenu:e}},w7e=dg(cb(_7e,{})(bse));var rC={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */rC.exports;(function(t,e){(function(){var n,r="4.17.21",s=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",u=500,d="__lodash_placeholder__",f=1,m=2,p=4,y=1,_=2,b=1,x=2,w=4,E=8,T=16,N=32,P=64,D=128,F=256,Y=512,q=30,B="...",G=800,J=16,W=1,z=2,Z=3,X=1/0,ne=9007199254740991,le=17976931348623157e292,ge=NaN,Ue=4294967295,Ie=Ue-1,ot=Ue>>>1,it=[["ary",D],["bind",b],["bindKey",x],["curry",E],["curryRight",T],["flip",Y],["partial",N],["partialRight",P],["rearg",F]],Te="[object Arguments]",St="[object Array]",ut="[object AsyncFunction]",ft="[object Boolean]",gt="[object Date]",qt="[object DOMException]",It="[object Error]",zt="[object Function]",en="[object GeneratorFunction]",xe="[object Map]",We="[object Number]",Qt="[object Null]",Oe="[object Object]",lt="[object Promise]",ve="[object Proxy]",K="[object RegExp]",te="[object Set]",Q="[object String]",me="[object Symbol]",ye="[object Undefined]",A="[object WeakMap]",$="[object WeakSet]",re="[object ArrayBuffer]",ue="[object DataView]",Ee="[object Float32Array]",be="[object Float64Array]",Me="[object Int8Array]",tt="[object Int16Array]",Pe="[object Int32Array]",qe="[object Uint8Array]",Je="[object Uint8ClampedArray]",nt="[object Uint16Array]",rt="[object Uint32Array]",Lt=/\b__p \+= '';/g,pn=/\b(__p \+=) '' \+/g,gn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Yt=/&(?:amp|lt|gt|quot|#39);/g,nn=/[&<>"']/g,Jn=RegExp(Yt.source),Gn=RegExp(nn.source),Qe=/<%-([\s\S]+?)%>/g,ir=/<%([\s\S]+?)%>/g,on=/<%=([\s\S]+?)%>/g,$n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ht=/^\w*$/,Ze=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Tt=/[\\^$.*+?()[\]{}|]/g,at=RegExp(Tt.source),Pt=/^\s+/,vn=/\s/,Zt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,_t=/\{\n\/\* \[wrapped with (.+)\] \*/,xt=/,? & /,Mt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,kt=/[()=,{}\[\]\/\s]/,Wt=/\\(\\)?/g,wr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fr=/\w*$/,ya=/^[-+]0x[0-9a-f]+$/i,Nn=/^0b[01]+$/i,In=/^\[object .+?Constructor\]$/,Lr=/^0o[0-7]+$/i,Cr=/^(?:0|[1-9]\d*)$/,as=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Fn=/($^)/,Gi=/['\n\r\u2028\u2029\\]/g,ys="\\ud800-\\udfff",Ci="\\u0300-\\u036f",Os="\\ufe20-\\ufe2f",Vn="\\u20d0-\\u20ff",Vr=Ci+Os+Vn,lr="\\u2700-\\u27bf",mr="a-z\\xdf-\\xf6\\xf8-\\xff",zr="\\xac\\xb1\\xd7\\xf7",vs="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Qr="\\u2000-\\u206f",Pa=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Hi="A-Z\\xc0-\\xd6\\xd8-\\xde",qi="\\ufe0e\\ufe0f",Ai=zr+vs+Qr+Pa,Da="[']",yi="["+ys+"]",Ko="["+Ai+"]",oo="["+Vr+"]",ou="\\d+",Ml="["+lr+"]",Jo="["+mr+"]",lo="[^"+ys+Ai+ou+lr+mr+Hi+"]",$l="\\ud83c[\\udffb-\\udfff]",lu="(?:"+oo+"|"+$l+")",co="[^"+ys+"]",Ys="(?:\\ud83c[\\udde6-\\uddff]){2}",Ec="[\\ud800-\\udbff][\\udc00-\\udfff]",bs="["+Hi+"]",va="\\u200d",La="(?:"+Jo+"|"+lo+")",vi="(?:"+bs+"|"+lo+")",uo="(?:"+Da+"(?:d|ll|m|re|s|t|ve))?",Ni="(?:"+Da+"(?:D|LL|M|RE|S|T|VE))?",cu=lu+"?",Ii="["+qi+"]?",uu="(?:"+va+"(?:"+[co,Ys,Ec].join("|")+")"+Ii+cu+")*",du="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",hu="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",fu=Ii+cu+uu,Qo="(?:"+[Ml,Ys,Ec].join("|")+")"+fu,ho="(?:"+[co+oo+"?",oo,Ys,Ec,yi].join("|")+")",Zo=RegExp(Da,"g"),Qn=RegExp(oo,"g"),Yi=RegExp($l+"(?="+$l+")|"+ho+fu,"g"),sd=RegExp([bs+"?"+Jo+"+"+uo+"(?="+[Ko,bs,"$"].join("|")+")",vi+"+"+Ni+"(?="+[Ko,bs+La,"$"].join("|")+")",bs+"?"+La+"+"+uo,bs+"+"+Ni,hu,du,ou,Qo].join("|"),"g"),mt=RegExp("["+va+ys+Vr+qi+"]"),Dn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Tn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],En=-1,bn={};bn[Ee]=bn[be]=bn[Me]=bn[tt]=bn[Pe]=bn[qe]=bn[Je]=bn[nt]=bn[rt]=!0,bn[Te]=bn[St]=bn[re]=bn[ft]=bn[ue]=bn[gt]=bn[It]=bn[zt]=bn[xe]=bn[We]=bn[Oe]=bn[K]=bn[te]=bn[Q]=bn[A]=!1;var ln={};ln[Te]=ln[St]=ln[re]=ln[ue]=ln[ft]=ln[gt]=ln[Ee]=ln[be]=ln[Me]=ln[tt]=ln[Pe]=ln[xe]=ln[We]=ln[Oe]=ln[K]=ln[te]=ln[Q]=ln[me]=ln[qe]=ln[Je]=ln[nt]=ln[rt]=!0,ln[It]=ln[zt]=ln[A]=!1;var xr={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},os={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ks={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ma={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$a=parseFloat,ba=parseInt,Ge=typeof fl=="object"&&fl&&fl.Object===Object&&fl,rn=typeof self=="object"&&self&&self.Object===Object&&self,un=Ge||rn||Function("return this")(),Rs=e&&!e.nodeType&&e,ls=Rs&&!0&&t&&!t.nodeType&&t,Sn=ls&&ls.exports===Rs,_s=Sn&&Ge.process,cs=function(){try{var he=ls&&ls.require&&ls.require("util").types;return he||_s&&_s.binding&&_s.binding("util")}catch{}}(),mu=cs&&cs.isArrayBuffer,pr=cs&&cs.isDate,pu=cs&&cs.isMap,lm=cs&&cs.isRegExp,id=cs&&cs.isSet,Xo=cs&&cs.isTypedArray;function Ki(he,Le,Ae){switch(Ae.length){case 0:return he.call(Le);case 1:return he.call(Le,Ae[0]);case 2:return he.call(Le,Ae[0],Ae[1]);case 3:return he.call(Le,Ae[0],Ae[1],Ae[2])}return he.apply(Le,Ae)}function hI(he,Le,Ae,jt){for(var xn=-1,gr=he==null?0:he.length;++xn<gr;){var Js=he[xn];Le(jt,Js,Ae(Js),he)}return jt}function Ps(he,Le){for(var Ae=-1,jt=he==null?0:he.length;++Ae<jt&&Le(he[Ae],Ae,he)!==!1;);return he}function fI(he,Le){for(var Ae=he==null?0:he.length;Ae--&&Le(he[Ae],Ae,he)!==!1;);return he}function _g(he,Le){for(var Ae=-1,jt=he==null?0:he.length;++Ae<jt;)if(!Le(he[Ae],Ae,he))return!1;return!0}function gu(he,Le){for(var Ae=-1,jt=he==null?0:he.length,xn=0,gr=[];++Ae<jt;){var Js=he[Ae];Le(Js,Ae,he)&&(gr[xn++]=Js)}return gr}function wg(he,Le){var Ae=he==null?0:he.length;return!!Ae&&gh(he,Le,0)>-1}function Fb(he,Le,Ae){for(var jt=-1,xn=he==null?0:he.length;++jt<xn;)if(Ae(Le,he[jt]))return!0;return!1}function Nr(he,Le){for(var Ae=-1,jt=he==null?0:he.length,xn=Array(jt);++Ae<jt;)xn[Ae]=Le(he[Ae],Ae,he);return xn}function Fl(he,Le){for(var Ae=-1,jt=Le.length,xn=he.length;++Ae<jt;)he[xn+Ae]=Le[Ae];return he}function Vb(he,Le,Ae,jt){var xn=-1,gr=he==null?0:he.length;for(jt&&gr&&(Ae=he[++xn]);++xn<gr;)Ae=Le(Ae,he[xn],xn,he);return Ae}function mI(he,Le,Ae,jt){var xn=he==null?0:he.length;for(jt&&xn&&(Ae=he[--xn]);xn--;)Ae=Le(Ae,he[xn],xn,he);return Ae}function Ub(he,Le){for(var Ae=-1,jt=he==null?0:he.length;++Ae<jt;)if(Le(he[Ae],Ae,he))return!0;return!1}var hE=Bb("length");function pI(he){return he.split("")}function gI(he){return he.match(Mt)||[]}function fE(he,Le,Ae){var jt;return Ae(he,function(xn,gr,Js){if(Le(xn,gr,Js))return jt=gr,!1}),jt}function xg(he,Le,Ae,jt){for(var xn=he.length,gr=Ae+(jt?1:-1);jt?gr--:++gr<xn;)if(Le(he[gr],gr,he))return gr;return-1}function gh(he,Le,Ae){return Le===Le?_E(he,Le,Ae):xg(he,pE,Ae)}function mE(he,Le,Ae,jt){for(var xn=Ae-1,gr=he.length;++xn<gr;)if(jt(he[xn],Le))return xn;return-1}function pE(he){return he!==he}function ad(he,Le){var Ae=he==null?0:he.length;return Ae?Wb(he,Le)/Ae:ge}function Bb(he){return function(Le){return Le==null?n:Le[he]}}function cm(he){return function(Le){return he==null?n:he[Le]}}function gE(he,Le,Ae,jt,xn){return xn(he,function(gr,Js,Hn){Ae=jt?(jt=!1,gr):Le(Ae,gr,Js,Hn)}),Ae}function zb(he,Le){var Ae=he.length;for(he.sort(Le);Ae--;)he[Ae]=he[Ae].value;return he}function Wb(he,Le){for(var Ae,jt=-1,xn=he.length;++jt<xn;){var gr=Le(he[jt]);gr!==n&&(Ae=Ae===n?gr:Ae+gr)}return Ae}function Gb(he,Le){for(var Ae=-1,jt=Array(he);++Ae<he;)jt[Ae]=Le(Ae);return jt}function yI(he,Le){return Nr(Le,function(Ae){return[Ae,he[Ae]]})}function yE(he){return he&&he.slice(0,Eg(he)+1).replace(Pt,"")}function _a(he){return function(Le){return he(Le)}}function Hb(he,Le){return Nr(Le,function(Ae){return he[Ae]})}function yh(he,Le){return he.has(Le)}function Mr(he,Le){for(var Ae=-1,jt=he.length;++Ae<jt&&gh(Le,he[Ae],0)>-1;);return Ae}function vE(he,Le){for(var Ae=he.length;Ae--&&gh(Le,he[Ae],0)>-1;);return Ae}function vI(he,Le){for(var Ae=he.length,jt=0;Ae--;)he[Ae]===Le&&++jt;return jt}var bE=cm(xr),bI=cm(os);function _I(he){return"\\"+Ma[he]}function wI(he,Le){return he==null?n:he[Le]}function Vl(he){return mt.test(he)}function xI(he){return Dn.test(he)}function EI(he){for(var Le,Ae=[];!(Le=he.next()).done;)Ae.push(Le.value);return Ae}function qb(he){var Le=-1,Ae=Array(he.size);return he.forEach(function(jt,xn){Ae[++Le]=[xn,jt]}),Ae}function um(he,Le){return function(Ae){return he(Le(Ae))}}function el(he,Le){for(var Ae=-1,jt=he.length,xn=0,gr=[];++Ae<jt;){var Js=he[Ae];(Js===Le||Js===d)&&(he[Ae]=d,gr[xn++]=Ae)}return gr}function vh(he){var Le=-1,Ae=Array(he.size);return he.forEach(function(jt){Ae[++Le]=jt}),Ae}function SI(he){var Le=-1,Ae=Array(he.size);return he.forEach(function(jt){Ae[++Le]=[jt,jt]}),Ae}function _E(he,Le,Ae){for(var jt=Ae-1,xn=he.length;++jt<xn;)if(he[jt]===Le)return jt;return-1}function jI(he,Le,Ae){for(var jt=Ae+1;jt--;)if(he[jt]===Le)return jt;return jt}function yu(he){return Vl(he)?CI(he):hE(he)}function Fa(he){return Vl(he)?AI(he):pI(he)}function Eg(he){for(var Le=he.length;Le--&&vn.test(he.charAt(Le)););return Le}var TI=cm(Ks);function CI(he){for(var Le=Yi.lastIndex=0;Yi.test(he);)++Le;return Le}function AI(he){return he.match(Yi)||[]}function NI(he){return he.match(sd)||[]}var II=function he(Le){Le=Le==null?un:bh.defaults(un.Object(),Le,bh.pick(un,Tn));var Ae=Le.Array,jt=Le.Date,xn=Le.Error,gr=Le.Function,Js=Le.Math,Hn=Le.Object,Sc=Le.RegExp,wE=Le.String,fo=Le.TypeError,dm=Ae.prototype,xE=gr.prototype,_h=Hn.prototype,Sg=Le["__core-js_shared__"],hm=xE.toString,Er=_h.hasOwnProperty,kI=0,EE=function(){var h=/[^.]+$/.exec(Sg&&Sg.keys&&Sg.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),jg=_h.toString,OI=hm.call(Hn),RI=un._,PI=Sc("^"+hm.call(Er).replace(Tt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Tg=Sn?Le.Buffer:n,vu=Le.Symbol,Cg=Le.Uint8Array,SE=Tg?Tg.allocUnsafe:n,Ag=um(Hn.getPrototypeOf,Hn),jE=Hn.create,TE=_h.propertyIsEnumerable,od=dm.splice,CE=vu?vu.isConcatSpreadable:n,fm=vu?vu.iterator:n,ld=vu?vu.toStringTag:n,Ng=function(){try{var h=Em(Hn,"defineProperty");return h({},"",{}),h}catch{}}(),DI=Le.clearTimeout!==un.clearTimeout&&Le.clearTimeout,LI=jt&&jt.now!==un.Date.now&&jt.now,MI=Le.setTimeout!==un.setTimeout&&Le.setTimeout,Ig=Js.ceil,mm=Js.floor,kg=Hn.getOwnPropertySymbols,AE=Tg?Tg.isBuffer:n,pm=Le.isFinite,wh=dm.join,Og=um(Hn.keys,Hn),Ds=Js.max,ws=Js.min,NE=jt.now,IE=Le.parseInt,kE=Js.random,$I=dm.reverse,Yb=Em(Le,"DataView"),gm=Em(Le,"Map"),Kb=Em(Le,"Promise"),xh=Em(Le,"Set"),ym=Em(Le,"WeakMap"),vm=Em(Hn,"create"),Rg=ym&&new ym,Eh={},FI=Sm(Yb),VI=Sm(gm),UI=Sm(Kb),BI=Sm(xh),zI=Sm(ym),Pg=vu?vu.prototype:n,bm=Pg?Pg.valueOf:n,OE=Pg?Pg.toString:n;function U(h){if(Ls(h)&&!kn(h)&&!(h instanceof Un)){if(h instanceof mo)return h;if(Er.call(h,"__wrapped__"))return AU(h)}return new mo(h)}var Sh=function(){function h(){}return function(g){if(!xs(g))return{};if(jE)return jE(g);h.prototype=g;var S=new h;return h.prototype=n,S}}();function Dg(){}function mo(h,g){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=n}U.templateSettings={escape:Qe,evaluate:ir,interpolate:on,variable:"",imports:{_:U}},U.prototype=Dg.prototype,U.prototype.constructor=U,mo.prototype=Sh(Dg.prototype),mo.prototype.constructor=mo;function Un(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ue,this.__views__=[]}function WI(){var h=new Un(this.__wrapped__);return h.__actions__=go(this.__actions__),h.__dir__=this.__dir__,h.__filtered__=this.__filtered__,h.__iteratees__=go(this.__iteratees__),h.__takeCount__=this.__takeCount__,h.__views__=go(this.__views__),h}function GI(){if(this.__filtered__){var h=new Un(this);h.__dir__=-1,h.__filtered__=!0}else h=this.clone(),h.__dir__*=-1;return h}function HI(){var h=this.__wrapped__.value(),g=this.__dir__,S=kn(h),I=g<0,L=S?h.length:0,H=Bde(0,L,this.__views__),se=H.start,ce=H.end,fe=ce-se,$e=I?ce:se-1,Fe=this.__iteratees__,Ye=Fe.length,yt=0,Ft=ws(fe,this.__takeCount__);if(!S||!I&&L==fe&&Ft==fe)return QV(h,this.__actions__);var dn=[];e:for(;fe--&&yt<Ft;){$e+=g;for(var zn=-1,hn=h[$e];++zn<Ye;){var Zn=Fe[zn],ar=Zn.iteratee,sl=Zn.type,Ba=ar(hn);if(sl==z)hn=Ba;else if(!Ba){if(sl==W)continue e;break e}}dn[yt++]=hn}return dn}Un.prototype=Sh(Dg.prototype),Un.prototype.constructor=Un;function jc(h){var g=-1,S=h==null?0:h.length;for(this.clear();++g<S;){var I=h[g];this.set(I[0],I[1])}}function Lg(){this.__data__=vm?vm(null):{},this.size=0}function qI(h){var g=this.has(h)&&delete this.__data__[h];return this.size-=g?1:0,g}function YI(h){var g=this.__data__;if(vm){var S=g[h];return S===c?n:S}return Er.call(g,h)?g[h]:n}function KI(h){var g=this.__data__;return vm?g[h]!==n:Er.call(g,h)}function JI(h,g){var S=this.__data__;return this.size+=this.has(h)?0:1,S[h]=vm&&g===n?c:g,this}jc.prototype.clear=Lg,jc.prototype.delete=qI,jc.prototype.get=YI,jc.prototype.has=KI,jc.prototype.set=JI;function Tc(h){var g=-1,S=h==null?0:h.length;for(this.clear();++g<S;){var I=h[g];this.set(I[0],I[1])}}function QI(){this.__data__=[],this.size=0}function RE(h){var g=this.__data__,S=po(g,h);if(S<0)return!1;var I=g.length-1;return S==I?g.pop():od.call(g,S,1),--this.size,!0}function ZI(h){var g=this.__data__,S=po(g,h);return S<0?n:g[S][1]}function XI(h){return po(this.__data__,h)>-1}function PE(h,g){var S=this.__data__,I=po(S,h);return I<0?(++this.size,S.push([h,g])):S[I][1]=g,this}Tc.prototype.clear=QI,Tc.prototype.delete=RE,Tc.prototype.get=ZI,Tc.prototype.has=XI,Tc.prototype.set=PE;function Cc(h){var g=-1,S=h==null?0:h.length;for(this.clear();++g<S;){var I=h[g];this.set(I[0],I[1])}}function ek(){this.size=0,this.__data__={hash:new jc,map:new(gm||Tc),string:new jc}}function tk(h){var g=XE(this,h).delete(h);return this.size-=g?1:0,g}function bu(h){return XE(this,h).get(h)}function DE(h){return XE(this,h).has(h)}function nk(h,g){var S=XE(this,h),I=S.size;return S.set(h,g),this.size+=S.size==I?0:1,this}Cc.prototype.clear=ek,Cc.prototype.delete=tk,Cc.prototype.get=bu,Cc.prototype.has=DE,Cc.prototype.set=nk;function cd(h){var g=-1,S=h==null?0:h.length;for(this.__data__=new Cc;++g<S;)this.add(h[g])}function rk(h){return this.__data__.set(h,c),this}function Xe(h){return this.__data__.has(h)}cd.prototype.add=cd.prototype.push=rk,cd.prototype.has=Xe;function tl(h){var g=this.__data__=new Tc(h);this.size=g.size}function sk(){this.__data__=new Tc,this.size=0}function LE(h){var g=this.__data__,S=g.delete(h);return this.size=g.size,S}function cr(h){return this.__data__.get(h)}function Mg(h){return this.__data__.has(h)}function ME(h,g){var S=this.__data__;if(S instanceof Tc){var I=S.__data__;if(!gm||I.length<s-1)return I.push([h,g]),this.size=++S.size,this;S=this.__data__=new Cc(I)}return S.set(h,g),this.size=S.size,this}tl.prototype.clear=sk,tl.prototype.delete=LE,tl.prototype.get=cr,tl.prototype.has=Mg,tl.prototype.set=ME;function $g(h,g){var S=kn(h),I=!S&&jm(h),L=!S&&!I&&Nh(h),H=!S&&!I&&!L&&Wg(h),se=S||I||L||H,ce=se?Gb(h.length,wE):[],fe=ce.length;for(var $e in h)(g||Er.call(h,$e))&&!(se&&($e=="length"||L&&($e=="offset"||$e=="parent")||H&&($e=="buffer"||$e=="byteLength"||$e=="byteOffset")||md($e,fe)))&&ce.push($e);return ce}function $E(h){var g=h.length;return g?h[vk(0,g-1)]:n}function ik(h,g){return eS(go(h),ud(g,0,h.length))}function ak(h){return eS(go(h))}function Jb(h,g,S){(S!==n&&!kc(h[g],S)||S===n&&!(g in h))&&Ac(h,g,S)}function _m(h,g,S){var I=h[g];(!(Er.call(h,g)&&kc(I,S))||S===n&&!(g in h))&&Ac(h,g,S)}function po(h,g){for(var S=h.length;S--;)if(kc(h[S][0],g))return S;return-1}function ok(h,g,S,I){return _u(h,function(L,H,se){g(I,L,S(L),se)}),I}function Qb(h,g){return h&&xu(g,ki(g),h)}function lk(h,g){return h&&xu(g,vo(g),h)}function Ac(h,g,S){g=="__proto__"&&Ng?Ng(h,g,{configurable:!0,enumerable:!0,value:S,writable:!0}):h[g]=S}function Fg(h,g){for(var S=-1,I=g.length,L=Ae(I),H=h==null;++S<I;)L[S]=H?n:zk(h,g[S]);return L}function ud(h,g,S){return h===h&&(S!==n&&(h=h<=S?h:S),g!==n&&(h=h>=g?h:g)),h}function Va(h,g,S,I,L,H){var se,ce=g&f,fe=g&m,$e=g&p;if(S&&(se=L?S(h,I,L,H):S(h)),se!==n)return se;if(!xs(h))return h;var Fe=kn(h);if(Fe){if(se=Wde(h),!ce)return go(h,se)}else{var Ye=wa(h),yt=Ye==zt||Ye==en;if(Nh(h))return eU(h,ce);if(Ye==Oe||Ye==Te||yt&&!L){if(se=fe||yt?{}:bU(h),!ce)return fe?Rde(h,lk(se,h)):Ode(h,Qb(se,h))}else{if(!ln[Ye])return L?h:{};se=Gde(h,Ye,ce)}}H||(H=new tl);var Ft=H.get(h);if(Ft)return Ft;H.set(h,se),YU(h)?h.forEach(function(hn){se.add(Va(hn,g,S,hn,h,H))}):HU(h)&&h.forEach(function(hn,Zn){se.set(Zn,Va(hn,g,S,Zn,h,H))});var dn=$e?fe?Nk:Ak:fe?vo:ki,zn=Fe?n:dn(h);return Ps(zn||h,function(hn,Zn){zn&&(Zn=hn,hn=h[Zn]),_m(se,Zn,Va(hn,g,S,Zn,h,H))}),se}function Zb(h){var g=ki(h);return function(S){return FE(S,h,g)}}function FE(h,g,S){var I=S.length;if(h==null)return!I;for(h=Hn(h);I--;){var L=S[I],H=g[L],se=h[L];if(se===n&&!(L in h)||!H(se))return!1}return!0}function Ul(h,g,S){if(typeof h!="function")throw new fo(o);return o_(function(){h.apply(n,S)},g)}function jh(h,g,S,I){var L=-1,H=wg,se=!0,ce=h.length,fe=[],$e=g.length;if(!ce)return fe;S&&(g=Nr(g,_a(S))),I?(H=Fb,se=!1):g.length>=s&&(H=yh,se=!1,g=new cd(g));e:for(;++L<ce;){var Fe=h[L],Ye=S==null?Fe:S(Fe);if(Fe=I||Fe!==0?Fe:0,se&&Ye===Ye){for(var yt=$e;yt--;)if(g[yt]===Ye)continue e;fe.push(Fe)}else H(g,Ye,I)||fe.push(Fe)}return fe}var _u=iU(Bl),VE=iU(e_,!0);function ck(h,g){var S=!0;return _u(h,function(I,L,H){return S=!!g(I,L,H),S}),S}function Vg(h,g,S){for(var I=-1,L=h.length;++I<L;){var H=h[I],se=g(H);if(se!=null&&(ce===n?se===se&&!rl(se):S(se,ce)))var ce=se,fe=H}return fe}function uk(h,g,S,I){var L=h.length;for(S=Ln(S),S<0&&(S=-S>L?0:L+S),I=I===n||I>L?L:Ln(I),I<0&&(I+=L),I=S>I?0:JU(I);S<I;)h[S++]=g;return h}function UE(h,g){var S=[];return _u(h,function(I,L,H){g(I,L,H)&&S.push(I)}),S}function bi(h,g,S,I,L){var H=-1,se=h.length;for(S||(S=qde),L||(L=[]);++H<se;){var ce=h[H];g>0&&S(ce)?g>1?bi(ce,g-1,S,I,L):Fl(L,ce):I||(L[L.length]=ce)}return L}var Xb=aU(),BE=aU(!0);function Bl(h,g){return h&&Xb(h,g,ki)}function e_(h,g){return h&&BE(h,g,ki)}function zl(h,g){return gu(g,function(S){return pd(h[S])})}function dd(h,g){g=Ch(g,h);for(var S=0,I=g.length;h!=null&&S<I;)h=h[Eu(g[S++])];return S&&S==I?h:n}function zE(h,g,S){var I=g(h);return kn(h)?I:Fl(I,S(h))}function Ji(h){return h==null?h===n?ye:Qt:ld&&ld in Hn(h)?Ude(h):ehe(h)}function t_(h,g){return h>g}function dk(h,g){return h!=null&&Er.call(h,g)}function hk(h,g){return h!=null&&g in Hn(h)}function fk(h,g,S){return h>=ws(g,S)&&h<Ds(g,S)}function n_(h,g,S){for(var I=S?Fb:wg,L=h[0].length,H=h.length,se=H,ce=Ae(H),fe=1/0,$e=[];se--;){var Fe=h[se];se&&g&&(Fe=Nr(Fe,_a(g))),fe=ws(Fe.length,fe),ce[se]=!S&&(g||L>=120&&Fe.length>=120)?new cd(se&&Fe):n}Fe=h[0];var Ye=-1,yt=ce[0];e:for(;++Ye<L&&$e.length<fe;){var Ft=Fe[Ye],dn=g?g(Ft):Ft;if(Ft=S||Ft!==0?Ft:0,!(yt?yh(yt,dn):I($e,dn,S))){for(se=H;--se;){var zn=ce[se];if(!(zn?yh(zn,dn):I(h[se],dn,S)))continue e}yt&&yt.push(dn),$e.push(Ft)}}return $e}function Nc(h,g,S,I){return Bl(h,function(L,H,se){g(I,S(L),H,se)}),I}function Wl(h,g,S){g=Ch(g,h),h=EU(h,g);var I=h==null?h:h[Eu(ql(g))];return I==null?n:Ki(I,h,S)}function WE(h){return Ls(h)&&Ji(h)==Te}function mk(h){return Ls(h)&&Ji(h)==re}function pk(h){return Ls(h)&&Ji(h)==gt}function wm(h,g,S,I,L){return h===g?!0:h==null||g==null||!Ls(h)&&!Ls(g)?h!==h&&g!==g:gk(h,g,S,I,wm,L)}function gk(h,g,S,I,L,H){var se=kn(h),ce=kn(g),fe=se?St:wa(h),$e=ce?St:wa(g);fe=fe==Te?Oe:fe,$e=$e==Te?Oe:$e;var Fe=fe==Oe,Ye=$e==Oe,yt=fe==$e;if(yt&&Nh(h)){if(!Nh(g))return!1;se=!0,Fe=!1}if(yt&&!Fe)return H||(H=new tl),se||Wg(h)?gU(h,g,S,I,L,H):Fde(h,g,fe,S,I,L,H);if(!(S&y)){var Ft=Fe&&Er.call(h,"__wrapped__"),dn=Ye&&Er.call(g,"__wrapped__");if(Ft||dn){var zn=Ft?h.value():h,hn=dn?g.value():g;return H||(H=new tl),L(zn,hn,S,I,H)}}return yt?(H||(H=new tl),Vde(h,g,S,I,L,H)):!1}function r_(h){return Ls(h)&&wa(h)==xe}function wu(h,g,S,I){var L=S.length,H=L,se=!I;if(h==null)return!H;for(h=Hn(h);L--;){var ce=S[L];if(se&&ce[2]?ce[1]!==h[ce[0]]:!(ce[0]in h))return!1}for(;++L<H;){ce=S[L];var fe=ce[0],$e=h[fe],Fe=ce[1];if(se&&ce[2]){if($e===n&&!(fe in h))return!1}else{var Ye=new tl;if(I)var yt=I($e,Fe,fe,h,g,Ye);if(!(yt===n?wm(Fe,$e,y|_,I,Ye):yt))return!1}}return!0}function xm(h){if(!xs(h)||Kde(h))return!1;var g=pd(h)?PI:In;return g.test(Sm(h))}function rr(h){return Ls(h)&&Ji(h)==K}function v(h){return Ls(h)&&wa(h)==te}function j(h){return Ls(h)&&aS(h.length)&&!!bn[Ji(h)]}function k(h){return typeof h=="function"?h:h==null?bo:typeof h=="object"?kn(h)?yn(h[0],h[1]):Et(h):oB(h)}function O(h){if(!a_(h))return Og(h);var g=[];for(var S in Hn(h))Er.call(h,S)&&S!="constructor"&&g.push(S);return g}function V(h){if(!xs(h))return Xde(h);var g=a_(h),S=[];for(var I in h)I=="constructor"&&(g||!Er.call(h,I))||S.push(I);return S}function oe(h,g){return h<g}function ke(h,g){var S=-1,I=yo(h)?Ae(h.length):[];return _u(h,function(L,H,se){I[++S]=g(L,H,se)}),I}function Et(h){var g=kk(h);return g.length==1&&g[0][2]?wU(g[0][0],g[0][1]):function(S){return S===h||wu(S,h,g)}}function yn(h,g){return Rk(h)&&_U(g)?wU(Eu(h),g):function(S){var I=zk(S,h);return I===n&&I===g?Wk(S,h):wm(g,I,y|_)}}function Bn(h,g,S,I,L){h!==g&&Xb(g,function(H,se){if(L||(L=new tl),xs(H))Qi(h,g,se,S,Bn,I,L);else{var ce=I?I(Dk(h,se),H,se+"",h,g,L):n;ce===n&&(ce=H),Jb(h,se,ce)}},vo)}function Qi(h,g,S,I,L,H,se){var ce=Dk(h,S),fe=Dk(g,S),$e=se.get(fe);if($e){Jb(h,S,$e);return}var Fe=H?H(ce,fe,S+"",h,g,se):n,Ye=Fe===n;if(Ye){var yt=kn(fe),Ft=!yt&&Nh(fe),dn=!yt&&!Ft&&Wg(fe);Fe=fe,yt||Ft||dn?kn(ce)?Fe=ce:Qs(ce)?Fe=go(ce):Ft?(Ye=!1,Fe=eU(fe,!0)):dn?(Ye=!1,Fe=tU(fe,!0)):Fe=[]:l_(fe)||jm(fe)?(Fe=ce,jm(ce)?Fe=QU(ce):(!xs(ce)||pd(ce))&&(Fe=bU(fe))):Ye=!1}Ye&&(se.set(fe,Fe),L(Fe,fe,I,H,se),se.delete(fe)),Jb(h,S,Fe)}function Gl(h,g){var S=h.length;if(S)return g+=g<0?S:0,md(g,S)?h[g]:n}function Ic(h,g,S){g.length?g=Nr(g,function(H){return kn(H)?function(se){return dd(se,H.length===1?H[0]:H)}:H}):g=[bo];var I=-1;g=Nr(g,_a(cn()));var L=ke(h,function(H,se,ce){var fe=Nr(g,function($e){return $e(H)});return{criteria:fe,index:++I,value:H}});return zb(L,function(H,se){return kde(H,se,S)})}function bde(h,g){return GV(h,g,function(S,I){return Wk(h,I)})}function GV(h,g,S){for(var I=-1,L=g.length,H={};++I<L;){var se=g[I],ce=dd(h,se);S(ce,se)&&s_(H,Ch(se,h),ce)}return H}function _de(h){return function(g){return dd(g,h)}}function yk(h,g,S,I){var L=I?mE:gh,H=-1,se=g.length,ce=h;for(h===g&&(g=go(g)),S&&(ce=Nr(h,_a(S)));++H<se;)for(var fe=0,$e=g[H],Fe=S?S($e):$e;(fe=L(ce,Fe,fe,I))>-1;)ce!==h&&od.call(ce,fe,1),od.call(h,fe,1);return h}function HV(h,g){for(var S=h?g.length:0,I=S-1;S--;){var L=g[S];if(S==I||L!==H){var H=L;md(L)?od.call(h,L,1):wk(h,L)}}return h}function vk(h,g){return h+mm(kE()*(g-h+1))}function wde(h,g,S,I){for(var L=-1,H=Ds(Ig((g-h)/(S||1)),0),se=Ae(H);H--;)se[I?H:++L]=h,h+=S;return se}function bk(h,g){var S="";if(!h||g<1||g>ne)return S;do g%2&&(S+=h),g=mm(g/2),g&&(h+=h);while(g);return S}function qn(h,g){return Lk(xU(h,g,bo),h+"")}function xde(h){return $E(Gg(h))}function Ede(h,g){var S=Gg(h);return eS(S,ud(g,0,S.length))}function s_(h,g,S,I){if(!xs(h))return h;g=Ch(g,h);for(var L=-1,H=g.length,se=H-1,ce=h;ce!=null&&++L<H;){var fe=Eu(g[L]),$e=S;if(fe==="__proto__"||fe==="constructor"||fe==="prototype")return h;if(L!=se){var Fe=ce[fe];$e=I?I(Fe,fe,ce):n,$e===n&&($e=xs(Fe)?Fe:md(g[L+1])?[]:{})}_m(ce,fe,$e),ce=ce[fe]}return h}var qV=Rg?function(h,g){return Rg.set(h,g),h}:bo,Sde=Ng?function(h,g){return Ng(h,"toString",{configurable:!0,enumerable:!1,value:Hk(g),writable:!0})}:bo;function jde(h){return eS(Gg(h))}function Hl(h,g,S){var I=-1,L=h.length;g<0&&(g=-g>L?0:L+g),S=S>L?L:S,S<0&&(S+=L),L=g>S?0:S-g>>>0,g>>>=0;for(var H=Ae(L);++I<L;)H[I]=h[I+g];return H}function Tde(h,g){var S;return _u(h,function(I,L,H){return S=g(I,L,H),!S}),!!S}function GE(h,g,S){var I=0,L=h==null?I:h.length;if(typeof g=="number"&&g===g&&L<=ot){for(;I<L;){var H=I+L>>>1,se=h[H];se!==null&&!rl(se)&&(S?se<=g:se<g)?I=H+1:L=H}return L}return _k(h,g,bo,S)}function _k(h,g,S,I){var L=0,H=h==null?0:h.length;if(H===0)return 0;g=S(g);for(var se=g!==g,ce=g===null,fe=rl(g),$e=g===n;L<H;){var Fe=mm((L+H)/2),Ye=S(h[Fe]),yt=Ye!==n,Ft=Ye===null,dn=Ye===Ye,zn=rl(Ye);if(se)var hn=I||dn;else $e?hn=dn&&(I||yt):ce?hn=dn&&yt&&(I||!Ft):fe?hn=dn&&yt&&!Ft&&(I||!zn):Ft||zn?hn=!1:hn=I?Ye<=g:Ye<g;hn?L=Fe+1:H=Fe}return ws(H,Ie)}function YV(h,g){for(var S=-1,I=h.length,L=0,H=[];++S<I;){var se=h[S],ce=g?g(se):se;if(!S||!kc(ce,fe)){var fe=ce;H[L++]=se===0?0:se}}return H}function KV(h){return typeof h=="number"?h:rl(h)?ge:+h}function nl(h){if(typeof h=="string")return h;if(kn(h))return Nr(h,nl)+"";if(rl(h))return OE?OE.call(h):"";var g=h+"";return g=="0"&&1/h==-X?"-0":g}function Th(h,g,S){var I=-1,L=wg,H=h.length,se=!0,ce=[],fe=ce;if(S)se=!1,L=Fb;else if(H>=s){var $e=g?null:Mde(h);if($e)return vh($e);se=!1,L=yh,fe=new cd}else fe=g?[]:ce;e:for(;++I<H;){var Fe=h[I],Ye=g?g(Fe):Fe;if(Fe=S||Fe!==0?Fe:0,se&&Ye===Ye){for(var yt=fe.length;yt--;)if(fe[yt]===Ye)continue e;g&&fe.push(Ye),ce.push(Fe)}else L(fe,Ye,S)||(fe!==ce&&fe.push(Ye),ce.push(Fe))}return ce}function wk(h,g){return g=Ch(g,h),h=EU(h,g),h==null||delete h[Eu(ql(g))]}function JV(h,g,S,I){return s_(h,g,S(dd(h,g)),I)}function HE(h,g,S,I){for(var L=h.length,H=I?L:-1;(I?H--:++H<L)&&g(h[H],H,h););return S?Hl(h,I?0:H,I?H+1:L):Hl(h,I?H+1:0,I?L:H)}function QV(h,g){var S=h;return S instanceof Un&&(S=S.value()),Vb(g,function(I,L){return L.func.apply(L.thisArg,Fl([I],L.args))},S)}function xk(h,g,S){var I=h.length;if(I<2)return I?Th(h[0]):[];for(var L=-1,H=Ae(I);++L<I;)for(var se=h[L],ce=-1;++ce<I;)ce!=L&&(H[L]=jh(H[L]||se,h[ce],g,S));return Th(bi(H,1),g,S)}function ZV(h,g,S){for(var I=-1,L=h.length,H=g.length,se={};++I<L;){var ce=I<H?g[I]:n;S(se,h[I],ce)}return se}function Ek(h){return Qs(h)?h:[]}function Sk(h){return typeof h=="function"?h:bo}function Ch(h,g){return kn(h)?h:Rk(h,g)?[h]:CU(Ar(h))}var Cde=qn;function Ah(h,g,S){var I=h.length;return S=S===n?I:S,!g&&S>=I?h:Hl(h,g,S)}var XV=DI||function(h){return un.clearTimeout(h)};function eU(h,g){if(g)return h.slice();var S=h.length,I=SE?SE(S):new h.constructor(S);return h.copy(I),I}function jk(h){var g=new h.constructor(h.byteLength);return new Cg(g).set(new Cg(h)),g}function Ade(h,g){var S=g?jk(h.buffer):h.buffer;return new h.constructor(S,h.byteOffset,h.byteLength)}function Nde(h){var g=new h.constructor(h.source,fr.exec(h));return g.lastIndex=h.lastIndex,g}function Ide(h){return bm?Hn(bm.call(h)):{}}function tU(h,g){var S=g?jk(h.buffer):h.buffer;return new h.constructor(S,h.byteOffset,h.length)}function nU(h,g){if(h!==g){var S=h!==n,I=h===null,L=h===h,H=rl(h),se=g!==n,ce=g===null,fe=g===g,$e=rl(g);if(!ce&&!$e&&!H&&h>g||H&&se&&fe&&!ce&&!$e||I&&se&&fe||!S&&fe||!L)return 1;if(!I&&!H&&!$e&&h<g||$e&&S&&L&&!I&&!H||ce&&S&&L||!se&&L||!fe)return-1}return 0}function kde(h,g,S){for(var I=-1,L=h.criteria,H=g.criteria,se=L.length,ce=S.length;++I<se;){var fe=nU(L[I],H[I]);if(fe){if(I>=ce)return fe;var $e=S[I];return fe*($e=="desc"?-1:1)}}return h.index-g.index}function rU(h,g,S,I){for(var L=-1,H=h.length,se=S.length,ce=-1,fe=g.length,$e=Ds(H-se,0),Fe=Ae(fe+$e),Ye=!I;++ce<fe;)Fe[ce]=g[ce];for(;++L<se;)(Ye||L<H)&&(Fe[S[L]]=h[L]);for(;$e--;)Fe[ce++]=h[L++];return Fe}function sU(h,g,S,I){for(var L=-1,H=h.length,se=-1,ce=S.length,fe=-1,$e=g.length,Fe=Ds(H-ce,0),Ye=Ae(Fe+$e),yt=!I;++L<Fe;)Ye[L]=h[L];for(var Ft=L;++fe<$e;)Ye[Ft+fe]=g[fe];for(;++se<ce;)(yt||L<H)&&(Ye[Ft+S[se]]=h[L++]);return Ye}function go(h,g){var S=-1,I=h.length;for(g||(g=Ae(I));++S<I;)g[S]=h[S];return g}function xu(h,g,S,I){var L=!S;S||(S={});for(var H=-1,se=g.length;++H<se;){var ce=g[H],fe=I?I(S[ce],h[ce],ce,S,h):n;fe===n&&(fe=h[ce]),L?Ac(S,ce,fe):_m(S,ce,fe)}return S}function Ode(h,g){return xu(h,Ok(h),g)}function Rde(h,g){return xu(h,yU(h),g)}function qE(h,g){return function(S,I){var L=kn(S)?hI:ok,H=g?g():{};return L(S,h,cn(I,2),H)}}function Ug(h){return qn(function(g,S){var I=-1,L=S.length,H=L>1?S[L-1]:n,se=L>2?S[2]:n;for(H=h.length>3&&typeof H=="function"?(L--,H):n,se&&Ua(S[0],S[1],se)&&(H=L<3?n:H,L=1),g=Hn(g);++I<L;){var ce=S[I];ce&&h(g,ce,I,H)}return g})}function iU(h,g){return function(S,I){if(S==null)return S;if(!yo(S))return h(S,I);for(var L=S.length,H=g?L:-1,se=Hn(S);(g?H--:++H<L)&&I(se[H],H,se)!==!1;);return S}}function aU(h){return function(g,S,I){for(var L=-1,H=Hn(g),se=I(g),ce=se.length;ce--;){var fe=se[h?ce:++L];if(S(H[fe],fe,H)===!1)break}return g}}function Pde(h,g,S){var I=g&b,L=i_(h);function H(){var se=this&&this!==un&&this instanceof H?L:h;return se.apply(I?S:this,arguments)}return H}function oU(h){return function(g){g=Ar(g);var S=Vl(g)?Fa(g):n,I=S?S[0]:g.charAt(0),L=S?Ah(S,1).join(""):g.slice(1);return I[h]()+L}}function Bg(h){return function(g){return Vb(iB(sB(g).replace(Zo,"")),h,"")}}function i_(h){return function(){var g=arguments;switch(g.length){case 0:return new h;case 1:return new h(g[0]);case 2:return new h(g[0],g[1]);case 3:return new h(g[0],g[1],g[2]);case 4:return new h(g[0],g[1],g[2],g[3]);case 5:return new h(g[0],g[1],g[2],g[3],g[4]);case 6:return new h(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new h(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var S=Sh(h.prototype),I=h.apply(S,g);return xs(I)?I:S}}function Dde(h,g,S){var I=i_(h);function L(){for(var H=arguments.length,se=Ae(H),ce=H,fe=zg(L);ce--;)se[ce]=arguments[ce];var $e=H<3&&se[0]!==fe&&se[H-1]!==fe?[]:el(se,fe);if(H-=$e.length,H<S)return hU(h,g,YE,L.placeholder,n,se,$e,n,n,S-H);var Fe=this&&this!==un&&this instanceof L?I:h;return Ki(Fe,this,se)}return L}function lU(h){return function(g,S,I){var L=Hn(g);if(!yo(g)){var H=cn(S,3);g=ki(g),S=function(ce){return H(L[ce],ce,L)}}var se=h(g,S,I);return se>-1?L[H?g[se]:se]:n}}function cU(h){return fd(function(g){var S=g.length,I=S,L=mo.prototype.thru;for(h&&g.reverse();I--;){var H=g[I];if(typeof H!="function")throw new fo(o);if(L&&!se&&ZE(H)=="wrapper")var se=new mo([],!0)}for(I=se?I:S;++I<S;){H=g[I];var ce=ZE(H),fe=ce=="wrapper"?Ik(H):n;fe&&Pk(fe[0])&&fe[1]==(D|E|N|F)&&!fe[4].length&&fe[9]==1?se=se[ZE(fe[0])].apply(se,fe[3]):se=H.length==1&&Pk(H)?se[ce]():se.thru(H)}return function(){var $e=arguments,Fe=$e[0];if(se&&$e.length==1&&kn(Fe))return se.plant(Fe).value();for(var Ye=0,yt=S?g[Ye].apply(this,$e):Fe;++Ye<S;)yt=g[Ye].call(this,yt);return yt}})}function YE(h,g,S,I,L,H,se,ce,fe,$e){var Fe=g&D,Ye=g&b,yt=g&x,Ft=g&(E|T),dn=g&Y,zn=yt?n:i_(h);function hn(){for(var Zn=arguments.length,ar=Ae(Zn),sl=Zn;sl--;)ar[sl]=arguments[sl];if(Ft)var Ba=zg(hn),il=vI(ar,Ba);if(I&&(ar=rU(ar,I,L,Ft)),H&&(ar=sU(ar,H,se,Ft)),Zn-=il,Ft&&Zn<$e){var Zs=el(ar,Ba);return hU(h,g,YE,hn.placeholder,S,ar,Zs,ce,fe,$e-Zn)}var Oc=Ye?S:this,yd=yt?Oc[h]:h;return Zn=ar.length,ce?ar=the(ar,ce):dn&&Zn>1&&ar.reverse(),Fe&&fe<Zn&&(ar.length=fe),this&&this!==un&&this instanceof hn&&(yd=zn||i_(yd)),yd.apply(Oc,ar)}return hn}function uU(h,g){return function(S,I){return Nc(S,h,g(I),{})}}function KE(h,g){return function(S,I){var L;if(S===n&&I===n)return g;if(S!==n&&(L=S),I!==n){if(L===n)return I;typeof S=="string"||typeof I=="string"?(S=nl(S),I=nl(I)):(S=KV(S),I=KV(I)),L=h(S,I)}return L}}function Tk(h){return fd(function(g){return g=Nr(g,_a(cn())),qn(function(S){var I=this;return h(g,function(L){return Ki(L,I,S)})})})}function JE(h,g){g=g===n?" ":nl(g);var S=g.length;if(S<2)return S?bk(g,h):g;var I=bk(g,Ig(h/yu(g)));return Vl(g)?Ah(Fa(I),0,h).join(""):I.slice(0,h)}function Lde(h,g,S,I){var L=g&b,H=i_(h);function se(){for(var ce=-1,fe=arguments.length,$e=-1,Fe=I.length,Ye=Ae(Fe+fe),yt=this&&this!==un&&this instanceof se?H:h;++$e<Fe;)Ye[$e]=I[$e];for(;fe--;)Ye[$e++]=arguments[++ce];return Ki(yt,L?S:this,Ye)}return se}function dU(h){return function(g,S,I){return I&&typeof I!="number"&&Ua(g,S,I)&&(S=I=n),g=gd(g),S===n?(S=g,g=0):S=gd(S),I=I===n?g<S?1:-1:gd(I),wde(g,S,I,h)}}function QE(h){return function(g,S){return typeof g=="string"&&typeof S=="string"||(g=Yl(g),S=Yl(S)),h(g,S)}}function hU(h,g,S,I,L,H,se,ce,fe,$e){var Fe=g&E,Ye=Fe?se:n,yt=Fe?n:se,Ft=Fe?H:n,dn=Fe?n:H;g|=Fe?N:P,g&=~(Fe?P:N),g&w||(g&=-4);var zn=[h,g,L,Ft,Ye,dn,yt,ce,fe,$e],hn=S.apply(n,zn);return Pk(h)&&SU(hn,zn),hn.placeholder=I,jU(hn,h,g)}function Ck(h){var g=Js[h];return function(S,I){if(S=Yl(S),I=I==null?0:ws(Ln(I),292),I&&pm(S)){var L=(Ar(S)+"e").split("e"),H=g(L[0]+"e"+(+L[1]+I));return L=(Ar(H)+"e").split("e"),+(L[0]+"e"+(+L[1]-I))}return g(S)}}var Mde=xh&&1/vh(new xh([,-0]))[1]==X?function(h){return new xh(h)}:Kk;function fU(h){return function(g){var S=wa(g);return S==xe?qb(g):S==te?SI(g):yI(g,h(g))}}function hd(h,g,S,I,L,H,se,ce){var fe=g&x;if(!fe&&typeof h!="function")throw new fo(o);var $e=I?I.length:0;if($e||(g&=-97,I=L=n),se=se===n?se:Ds(Ln(se),0),ce=ce===n?ce:Ln(ce),$e-=L?L.length:0,g&P){var Fe=I,Ye=L;I=L=n}var yt=fe?n:Ik(h),Ft=[h,g,S,I,L,Fe,Ye,H,se,ce];if(yt&&Zde(Ft,yt),h=Ft[0],g=Ft[1],S=Ft[2],I=Ft[3],L=Ft[4],ce=Ft[9]=Ft[9]===n?fe?0:h.length:Ds(Ft[9]-$e,0),!ce&&g&(E|T)&&(g&=-25),!g||g==b)var dn=Pde(h,g,S);else g==E||g==T?dn=Dde(h,g,ce):(g==N||g==(b|N))&&!L.length?dn=Lde(h,g,S,I):dn=YE.apply(n,Ft);var zn=yt?qV:SU;return jU(zn(dn,Ft),h,g)}function mU(h,g,S,I){return h===n||kc(h,_h[S])&&!Er.call(I,S)?g:h}function pU(h,g,S,I,L,H){return xs(h)&&xs(g)&&(H.set(g,h),Bn(h,g,n,pU,H),H.delete(g)),h}function $de(h){return l_(h)?n:h}function gU(h,g,S,I,L,H){var se=S&y,ce=h.length,fe=g.length;if(ce!=fe&&!(se&&fe>ce))return!1;var $e=H.get(h),Fe=H.get(g);if($e&&Fe)return $e==g&&Fe==h;var Ye=-1,yt=!0,Ft=S&_?new cd:n;for(H.set(h,g),H.set(g,h);++Ye<ce;){var dn=h[Ye],zn=g[Ye];if(I)var hn=se?I(zn,dn,Ye,g,h,H):I(dn,zn,Ye,h,g,H);if(hn!==n){if(hn)continue;yt=!1;break}if(Ft){if(!Ub(g,function(Zn,ar){if(!yh(Ft,ar)&&(dn===Zn||L(dn,Zn,S,I,H)))return Ft.push(ar)})){yt=!1;break}}else if(!(dn===zn||L(dn,zn,S,I,H))){yt=!1;break}}return H.delete(h),H.delete(g),yt}function Fde(h,g,S,I,L,H,se){switch(S){case ue:if(h.byteLength!=g.byteLength||h.byteOffset!=g.byteOffset)return!1;h=h.buffer,g=g.buffer;case re:return!(h.byteLength!=g.byteLength||!H(new Cg(h),new Cg(g)));case ft:case gt:case We:return kc(+h,+g);case It:return h.name==g.name&&h.message==g.message;case K:case Q:return h==g+"";case xe:var ce=qb;case te:var fe=I&y;if(ce||(ce=vh),h.size!=g.size&&!fe)return!1;var $e=se.get(h);if($e)return $e==g;I|=_,se.set(h,g);var Fe=gU(ce(h),ce(g),I,L,H,se);return se.delete(h),Fe;case me:if(bm)return bm.call(h)==bm.call(g)}return!1}function Vde(h,g,S,I,L,H){var se=S&y,ce=Ak(h),fe=ce.length,$e=Ak(g),Fe=$e.length;if(fe!=Fe&&!se)return!1;for(var Ye=fe;Ye--;){var yt=ce[Ye];if(!(se?yt in g:Er.call(g,yt)))return!1}var Ft=H.get(h),dn=H.get(g);if(Ft&&dn)return Ft==g&&dn==h;var zn=!0;H.set(h,g),H.set(g,h);for(var hn=se;++Ye<fe;){yt=ce[Ye];var Zn=h[yt],ar=g[yt];if(I)var sl=se?I(ar,Zn,yt,g,h,H):I(Zn,ar,yt,h,g,H);if(!(sl===n?Zn===ar||L(Zn,ar,S,I,H):sl)){zn=!1;break}hn||(hn=yt=="constructor")}if(zn&&!hn){var Ba=h.constructor,il=g.constructor;Ba!=il&&"constructor"in h&&"constructor"in g&&!(typeof Ba=="function"&&Ba instanceof Ba&&typeof il=="function"&&il instanceof il)&&(zn=!1)}return H.delete(h),H.delete(g),zn}function fd(h){return Lk(xU(h,n,kU),h+"")}function Ak(h){return zE(h,ki,Ok)}function Nk(h){return zE(h,vo,yU)}var Ik=Rg?function(h){return Rg.get(h)}:Kk;function ZE(h){for(var g=h.name+"",S=Eh[g],I=Er.call(Eh,g)?S.length:0;I--;){var L=S[I],H=L.func;if(H==null||H==h)return L.name}return g}function zg(h){var g=Er.call(U,"placeholder")?U:h;return g.placeholder}function cn(){var h=U.iteratee||qk;return h=h===qk?k:h,arguments.length?h(arguments[0],arguments[1]):h}function XE(h,g){var S=h.__data__;return Yde(g)?S[typeof g=="string"?"string":"hash"]:S.map}function kk(h){for(var g=ki(h),S=g.length;S--;){var I=g[S],L=h[I];g[S]=[I,L,_U(L)]}return g}function Em(h,g){var S=wI(h,g);return xm(S)?S:n}function Ude(h){var g=Er.call(h,ld),S=h[ld];try{h[ld]=n;var I=!0}catch{}var L=jg.call(h);return I&&(g?h[ld]=S:delete h[ld]),L}var Ok=kg?function(h){return h==null?[]:(h=Hn(h),gu(kg(h),function(g){return TE.call(h,g)}))}:Jk,yU=kg?function(h){for(var g=[];h;)Fl(g,Ok(h)),h=Ag(h);return g}:Jk,wa=Ji;(Yb&&wa(new Yb(new ArrayBuffer(1)))!=ue||gm&&wa(new gm)!=xe||Kb&&wa(Kb.resolve())!=lt||xh&&wa(new xh)!=te||ym&&wa(new ym)!=A)&&(wa=function(h){var g=Ji(h),S=g==Oe?h.constructor:n,I=S?Sm(S):"";if(I)switch(I){case FI:return ue;case VI:return xe;case UI:return lt;case BI:return te;case zI:return A}return g});function Bde(h,g,S){for(var I=-1,L=S.length;++I<L;){var H=S[I],se=H.size;switch(H.type){case"drop":h+=se;break;case"dropRight":g-=se;break;case"take":g=ws(g,h+se);break;case"takeRight":h=Ds(h,g-se);break}}return{start:h,end:g}}function zde(h){var g=h.match(_t);return g?g[1].split(xt):[]}function vU(h,g,S){g=Ch(g,h);for(var I=-1,L=g.length,H=!1;++I<L;){var se=Eu(g[I]);if(!(H=h!=null&&S(h,se)))break;h=h[se]}return H||++I!=L?H:(L=h==null?0:h.length,!!L&&aS(L)&&md(se,L)&&(kn(h)||jm(h)))}function Wde(h){var g=h.length,S=new h.constructor(g);return g&&typeof h[0]=="string"&&Er.call(h,"index")&&(S.index=h.index,S.input=h.input),S}function bU(h){return typeof h.constructor=="function"&&!a_(h)?Sh(Ag(h)):{}}function Gde(h,g,S){var I=h.constructor;switch(g){case re:return jk(h);case ft:case gt:return new I(+h);case ue:return Ade(h,S);case Ee:case be:case Me:case tt:case Pe:case qe:case Je:case nt:case rt:return tU(h,S);case xe:return new I;case We:case Q:return new I(h);case K:return Nde(h);case te:return new I;case me:return Ide(h)}}function Hde(h,g){var S=g.length;if(!S)return h;var I=S-1;return g[I]=(S>1?"& ":"")+g[I],g=g.join(S>2?", ":" "),h.replace(Zt,`{
/* [wrapped with `+g+`] */
`)}function qde(h){return kn(h)||jm(h)||!!(CE&&h&&h[CE])}function md(h,g){var S=typeof h;return g=g??ne,!!g&&(S=="number"||S!="symbol"&&Cr.test(h))&&h>-1&&h%1==0&&h<g}function Ua(h,g,S){if(!xs(S))return!1;var I=typeof g;return(I=="number"?yo(S)&&md(g,S.length):I=="string"&&g in S)?kc(S[g],h):!1}function Rk(h,g){if(kn(h))return!1;var S=typeof h;return S=="number"||S=="symbol"||S=="boolean"||h==null||rl(h)?!0:Ht.test(h)||!$n.test(h)||g!=null&&h in Hn(g)}function Yde(h){var g=typeof h;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?h!=="__proto__":h===null}function Pk(h){var g=ZE(h),S=U[g];if(typeof S!="function"||!(g in Un.prototype))return!1;if(h===S)return!0;var I=Ik(S);return!!I&&h===I[0]}function Kde(h){return!!EE&&EE in h}var Jde=Sg?pd:Qk;function a_(h){var g=h&&h.constructor,S=typeof g=="function"&&g.prototype||_h;return h===S}function _U(h){return h===h&&!xs(h)}function wU(h,g){return function(S){return S==null?!1:S[h]===g&&(g!==n||h in Hn(S))}}function Qde(h){var g=sS(h,function(I){return S.size===u&&S.clear(),I}),S=g.cache;return g}function Zde(h,g){var S=h[1],I=g[1],L=S|I,H=L<(b|x|D),se=I==D&&S==E||I==D&&S==F&&h[7].length<=g[8]||I==(D|F)&&g[7].length<=g[8]&&S==E;if(!(H||se))return h;I&b&&(h[2]=g[2],L|=S&b?0:w);var ce=g[3];if(ce){var fe=h[3];h[3]=fe?rU(fe,ce,g[4]):ce,h[4]=fe?el(h[3],d):g[4]}return ce=g[5],ce&&(fe=h[5],h[5]=fe?sU(fe,ce,g[6]):ce,h[6]=fe?el(h[5],d):g[6]),ce=g[7],ce&&(h[7]=ce),I&D&&(h[8]=h[8]==null?g[8]:ws(h[8],g[8])),h[9]==null&&(h[9]=g[9]),h[0]=g[0],h[1]=L,h}function Xde(h){var g=[];if(h!=null)for(var S in Hn(h))g.push(S);return g}function ehe(h){return jg.call(h)}function xU(h,g,S){return g=Ds(g===n?h.length-1:g,0),function(){for(var I=arguments,L=-1,H=Ds(I.length-g,0),se=Ae(H);++L<H;)se[L]=I[g+L];L=-1;for(var ce=Ae(g+1);++L<g;)ce[L]=I[L];return ce[g]=S(se),Ki(h,this,ce)}}function EU(h,g){return g.length<2?h:dd(h,Hl(g,0,-1))}function the(h,g){for(var S=h.length,I=ws(g.length,S),L=go(h);I--;){var H=g[I];h[I]=md(H,S)?L[H]:n}return h}function Dk(h,g){if(!(g==="constructor"&&typeof h[g]=="function")&&g!="__proto__")return h[g]}var SU=TU(qV),o_=MI||function(h,g){return un.setTimeout(h,g)},Lk=TU(Sde);function jU(h,g,S){var I=g+"";return Lk(h,Hde(I,nhe(zde(I),S)))}function TU(h){var g=0,S=0;return function(){var I=NE(),L=J-(I-S);if(S=I,L>0){if(++g>=G)return arguments[0]}else g=0;return h.apply(n,arguments)}}function eS(h,g){var S=-1,I=h.length,L=I-1;for(g=g===n?I:g;++S<g;){var H=vk(S,L),se=h[H];h[H]=h[S],h[S]=se}return h.length=g,h}var CU=Qde(function(h){var g=[];return h.charCodeAt(0)===46&&g.push(""),h.replace(Ze,function(S,I,L,H){g.push(L?H.replace(Wt,"$1"):I||S)}),g});function Eu(h){if(typeof h=="string"||rl(h))return h;var g=h+"";return g=="0"&&1/h==-X?"-0":g}function Sm(h){if(h!=null){try{return hm.call(h)}catch{}try{return h+""}catch{}}return""}function nhe(h,g){return Ps(it,function(S){var I="_."+S[0];g&S[1]&&!wg(h,I)&&h.push(I)}),h.sort()}function AU(h){if(h instanceof Un)return h.clone();var g=new mo(h.__wrapped__,h.__chain__);return g.__actions__=go(h.__actions__),g.__index__=h.__index__,g.__values__=h.__values__,g}function rhe(h,g,S){(S?Ua(h,g,S):g===n)?g=1:g=Ds(Ln(g),0);var I=h==null?0:h.length;if(!I||g<1)return[];for(var L=0,H=0,se=Ae(Ig(I/g));L<I;)se[H++]=Hl(h,L,L+=g);return se}function she(h){for(var g=-1,S=h==null?0:h.length,I=0,L=[];++g<S;){var H=h[g];H&&(L[I++]=H)}return L}function ihe(){var h=arguments.length;if(!h)return[];for(var g=Ae(h-1),S=arguments[0],I=h;I--;)g[I-1]=arguments[I];return Fl(kn(S)?go(S):[S],bi(g,1))}var ahe=qn(function(h,g){return Qs(h)?jh(h,bi(g,1,Qs,!0)):[]}),ohe=qn(function(h,g){var S=ql(g);return Qs(S)&&(S=n),Qs(h)?jh(h,bi(g,1,Qs,!0),cn(S,2)):[]}),lhe=qn(function(h,g){var S=ql(g);return Qs(S)&&(S=n),Qs(h)?jh(h,bi(g,1,Qs,!0),n,S):[]});function che(h,g,S){var I=h==null?0:h.length;return I?(g=S||g===n?1:Ln(g),Hl(h,g<0?0:g,I)):[]}function uhe(h,g,S){var I=h==null?0:h.length;return I?(g=S||g===n?1:Ln(g),g=I-g,Hl(h,0,g<0?0:g)):[]}function dhe(h,g){return h&&h.length?HE(h,cn(g,3),!0,!0):[]}function hhe(h,g){return h&&h.length?HE(h,cn(g,3),!0):[]}function fhe(h,g,S,I){var L=h==null?0:h.length;return L?(S&&typeof S!="number"&&Ua(h,g,S)&&(S=0,I=L),uk(h,g,S,I)):[]}function NU(h,g,S){var I=h==null?0:h.length;if(!I)return-1;var L=S==null?0:Ln(S);return L<0&&(L=Ds(I+L,0)),xg(h,cn(g,3),L)}function IU(h,g,S){var I=h==null?0:h.length;if(!I)return-1;var L=I-1;return S!==n&&(L=Ln(S),L=S<0?Ds(I+L,0):ws(L,I-1)),xg(h,cn(g,3),L,!0)}function kU(h){var g=h==null?0:h.length;return g?bi(h,1):[]}function mhe(h){var g=h==null?0:h.length;return g?bi(h,X):[]}function phe(h,g){var S=h==null?0:h.length;return S?(g=g===n?1:Ln(g),bi(h,g)):[]}function ghe(h){for(var g=-1,S=h==null?0:h.length,I={};++g<S;){var L=h[g];I[L[0]]=L[1]}return I}function OU(h){return h&&h.length?h[0]:n}function yhe(h,g,S){var I=h==null?0:h.length;if(!I)return-1;var L=S==null?0:Ln(S);return L<0&&(L=Ds(I+L,0)),gh(h,g,L)}function vhe(h){var g=h==null?0:h.length;return g?Hl(h,0,-1):[]}var bhe=qn(function(h){var g=Nr(h,Ek);return g.length&&g[0]===h[0]?n_(g):[]}),_he=qn(function(h){var g=ql(h),S=Nr(h,Ek);return g===ql(S)?g=n:S.pop(),S.length&&S[0]===h[0]?n_(S,cn(g,2)):[]}),whe=qn(function(h){var g=ql(h),S=Nr(h,Ek);return g=typeof g=="function"?g:n,g&&S.pop(),S.length&&S[0]===h[0]?n_(S,n,g):[]});function xhe(h,g){return h==null?"":wh.call(h,g)}function ql(h){var g=h==null?0:h.length;return g?h[g-1]:n}function Ehe(h,g,S){var I=h==null?0:h.length;if(!I)return-1;var L=I;return S!==n&&(L=Ln(S),L=L<0?Ds(I+L,0):ws(L,I-1)),g===g?jI(h,g,L):xg(h,pE,L,!0)}function She(h,g){return h&&h.length?Gl(h,Ln(g)):n}var jhe=qn(RU);function RU(h,g){return h&&h.length&&g&&g.length?yk(h,g):h}function The(h,g,S){return h&&h.length&&g&&g.length?yk(h,g,cn(S,2)):h}function Che(h,g,S){return h&&h.length&&g&&g.length?yk(h,g,n,S):h}var Ahe=fd(function(h,g){var S=h==null?0:h.length,I=Fg(h,g);return HV(h,Nr(g,function(L){return md(L,S)?+L:L}).sort(nU)),I});function Nhe(h,g){var S=[];if(!(h&&h.length))return S;var I=-1,L=[],H=h.length;for(g=cn(g,3);++I<H;){var se=h[I];g(se,I,h)&&(S.push(se),L.push(I))}return HV(h,L),S}function Mk(h){return h==null?h:$I.call(h)}function Ihe(h,g,S){var I=h==null?0:h.length;return I?(S&&typeof S!="number"&&Ua(h,g,S)?(g=0,S=I):(g=g==null?0:Ln(g),S=S===n?I:Ln(S)),Hl(h,g,S)):[]}function khe(h,g){return GE(h,g)}function Ohe(h,g,S){return _k(h,g,cn(S,2))}function Rhe(h,g){var S=h==null?0:h.length;if(S){var I=GE(h,g);if(I<S&&kc(h[I],g))return I}return-1}function Phe(h,g){return GE(h,g,!0)}function Dhe(h,g,S){return _k(h,g,cn(S,2),!0)}function Lhe(h,g){var S=h==null?0:h.length;if(S){var I=GE(h,g,!0)-1;if(kc(h[I],g))return I}return-1}function Mhe(h){return h&&h.length?YV(h):[]}function $he(h,g){return h&&h.length?YV(h,cn(g,2)):[]}function Fhe(h){var g=h==null?0:h.length;return g?Hl(h,1,g):[]}function Vhe(h,g,S){return h&&h.length?(g=S||g===n?1:Ln(g),Hl(h,0,g<0?0:g)):[]}function Uhe(h,g,S){var I=h==null?0:h.length;return I?(g=S||g===n?1:Ln(g),g=I-g,Hl(h,g<0?0:g,I)):[]}function Bhe(h,g){return h&&h.length?HE(h,cn(g,3),!1,!0):[]}function zhe(h,g){return h&&h.length?HE(h,cn(g,3)):[]}var Whe=qn(function(h){return Th(bi(h,1,Qs,!0))}),Ghe=qn(function(h){var g=ql(h);return Qs(g)&&(g=n),Th(bi(h,1,Qs,!0),cn(g,2))}),Hhe=qn(function(h){var g=ql(h);return g=typeof g=="function"?g:n,Th(bi(h,1,Qs,!0),n,g)});function qhe(h){return h&&h.length?Th(h):[]}function Yhe(h,g){return h&&h.length?Th(h,cn(g,2)):[]}function Khe(h,g){return g=typeof g=="function"?g:n,h&&h.length?Th(h,n,g):[]}function $k(h){if(!(h&&h.length))return[];var g=0;return h=gu(h,function(S){if(Qs(S))return g=Ds(S.length,g),!0}),Gb(g,function(S){return Nr(h,Bb(S))})}function PU(h,g){if(!(h&&h.length))return[];var S=$k(h);return g==null?S:Nr(S,function(I){return Ki(g,n,I)})}var Jhe=qn(function(h,g){return Qs(h)?jh(h,g):[]}),Qhe=qn(function(h){return xk(gu(h,Qs))}),Zhe=qn(function(h){var g=ql(h);return Qs(g)&&(g=n),xk(gu(h,Qs),cn(g,2))}),Xhe=qn(function(h){var g=ql(h);return g=typeof g=="function"?g:n,xk(gu(h,Qs),n,g)}),efe=qn($k);function tfe(h,g){return ZV(h||[],g||[],_m)}function nfe(h,g){return ZV(h||[],g||[],s_)}var rfe=qn(function(h){var g=h.length,S=g>1?h[g-1]:n;return S=typeof S=="function"?(h.pop(),S):n,PU(h,S)});function DU(h){var g=U(h);return g.__chain__=!0,g}function sfe(h,g){return g(h),h}function tS(h,g){return g(h)}var ife=fd(function(h){var g=h.length,S=g?h[0]:0,I=this.__wrapped__,L=function(H){return Fg(H,h)};return g>1||this.__actions__.length||!(I instanceof Un)||!md(S)?this.thru(L):(I=I.slice(S,+S+(g?1:0)),I.__actions__.push({func:tS,args:[L],thisArg:n}),new mo(I,this.__chain__).thru(function(H){return g&&!H.length&&H.push(n),H}))});function afe(){return DU(this)}function ofe(){return new mo(this.value(),this.__chain__)}function lfe(){this.__values__===n&&(this.__values__=KU(this.value()));var h=this.__index__>=this.__values__.length,g=h?n:this.__values__[this.__index__++];return{done:h,value:g}}function cfe(){return this}function ufe(h){for(var g,S=this;S instanceof Dg;){var I=AU(S);I.__index__=0,I.__values__=n,g?L.__wrapped__=I:g=I;var L=I;S=S.__wrapped__}return L.__wrapped__=h,g}function dfe(){var h=this.__wrapped__;if(h instanceof Un){var g=h;return this.__actions__.length&&(g=new Un(this)),g=g.reverse(),g.__actions__.push({func:tS,args:[Mk],thisArg:n}),new mo(g,this.__chain__)}return this.thru(Mk)}function hfe(){return QV(this.__wrapped__,this.__actions__)}var ffe=qE(function(h,g,S){Er.call(h,S)?++h[S]:Ac(h,S,1)});function mfe(h,g,S){var I=kn(h)?_g:ck;return S&&Ua(h,g,S)&&(g=n),I(h,cn(g,3))}function pfe(h,g){var S=kn(h)?gu:UE;return S(h,cn(g,3))}var gfe=lU(NU),yfe=lU(IU);function vfe(h,g){return bi(nS(h,g),1)}function bfe(h,g){return bi(nS(h,g),X)}function _fe(h,g,S){return S=S===n?1:Ln(S),bi(nS(h,g),S)}function LU(h,g){var S=kn(h)?Ps:_u;return S(h,cn(g,3))}function MU(h,g){var S=kn(h)?fI:VE;return S(h,cn(g,3))}var wfe=qE(function(h,g,S){Er.call(h,S)?h[S].push(g):Ac(h,S,[g])});function xfe(h,g,S,I){h=yo(h)?h:Gg(h),S=S&&!I?Ln(S):0;var L=h.length;return S<0&&(S=Ds(L+S,0)),oS(h)?S<=L&&h.indexOf(g,S)>-1:!!L&&gh(h,g,S)>-1}var Efe=qn(function(h,g,S){var I=-1,L=typeof g=="function",H=yo(h)?Ae(h.length):[];return _u(h,function(se){H[++I]=L?Ki(g,se,S):Wl(se,g,S)}),H}),Sfe=qE(function(h,g,S){Ac(h,S,g)});function nS(h,g){var S=kn(h)?Nr:ke;return S(h,cn(g,3))}function jfe(h,g,S,I){return h==null?[]:(kn(g)||(g=g==null?[]:[g]),S=I?n:S,kn(S)||(S=S==null?[]:[S]),Ic(h,g,S))}var Tfe=qE(function(h,g,S){h[S?0:1].push(g)},function(){return[[],[]]});function Cfe(h,g,S){var I=kn(h)?Vb:gE,L=arguments.length<3;return I(h,cn(g,4),S,L,_u)}function Afe(h,g,S){var I=kn(h)?mI:gE,L=arguments.length<3;return I(h,cn(g,4),S,L,VE)}function Nfe(h,g){var S=kn(h)?gu:UE;return S(h,iS(cn(g,3)))}function Ife(h){var g=kn(h)?$E:xde;return g(h)}function kfe(h,g,S){(S?Ua(h,g,S):g===n)?g=1:g=Ln(g);var I=kn(h)?ik:Ede;return I(h,g)}function Ofe(h){var g=kn(h)?ak:jde;return g(h)}function Rfe(h){if(h==null)return 0;if(yo(h))return oS(h)?yu(h):h.length;var g=wa(h);return g==xe||g==te?h.size:O(h).length}function Pfe(h,g,S){var I=kn(h)?Ub:Tde;return S&&Ua(h,g,S)&&(g=n),I(h,cn(g,3))}var Dfe=qn(function(h,g){if(h==null)return[];var S=g.length;return S>1&&Ua(h,g[0],g[1])?g=[]:S>2&&Ua(g[0],g[1],g[2])&&(g=[g[0]]),Ic(h,bi(g,1),[])}),rS=LI||function(){return un.Date.now()};function Lfe(h,g){if(typeof g!="function")throw new fo(o);return h=Ln(h),function(){if(--h<1)return g.apply(this,arguments)}}function $U(h,g,S){return g=S?n:g,g=h&&g==null?h.length:g,hd(h,D,n,n,n,n,g)}function FU(h,g){var S;if(typeof g!="function")throw new fo(o);return h=Ln(h),function(){return--h>0&&(S=g.apply(this,arguments)),h<=1&&(g=n),S}}var Fk=qn(function(h,g,S){var I=b;if(S.length){var L=el(S,zg(Fk));I|=N}return hd(h,I,g,S,L)}),VU=qn(function(h,g,S){var I=b|x;if(S.length){var L=el(S,zg(VU));I|=N}return hd(g,I,h,S,L)});function UU(h,g,S){g=S?n:g;var I=hd(h,E,n,n,n,n,n,g);return I.placeholder=UU.placeholder,I}function BU(h,g,S){g=S?n:g;var I=hd(h,T,n,n,n,n,n,g);return I.placeholder=BU.placeholder,I}function zU(h,g,S){var I,L,H,se,ce,fe,$e=0,Fe=!1,Ye=!1,yt=!0;if(typeof h!="function")throw new fo(o);g=Yl(g)||0,xs(S)&&(Fe=!!S.leading,Ye="maxWait"in S,H=Ye?Ds(Yl(S.maxWait)||0,g):H,yt="trailing"in S?!!S.trailing:yt);function Ft(Zs){var Oc=I,yd=L;return I=L=n,$e=Zs,se=h.apply(yd,Oc),se}function dn(Zs){return $e=Zs,ce=o_(Zn,g),Fe?Ft(Zs):se}function zn(Zs){var Oc=Zs-fe,yd=Zs-$e,lB=g-Oc;return Ye?ws(lB,H-yd):lB}function hn(Zs){var Oc=Zs-fe,yd=Zs-$e;return fe===n||Oc>=g||Oc<0||Ye&&yd>=H}function Zn(){var Zs=rS();if(hn(Zs))return ar(Zs);ce=o_(Zn,zn(Zs))}function ar(Zs){return ce=n,yt&&I?Ft(Zs):(I=L=n,se)}function sl(){ce!==n&&XV(ce),$e=0,I=fe=L=ce=n}function Ba(){return ce===n?se:ar(rS())}function il(){var Zs=rS(),Oc=hn(Zs);if(I=arguments,L=this,fe=Zs,Oc){if(ce===n)return dn(fe);if(Ye)return XV(ce),ce=o_(Zn,g),Ft(fe)}return ce===n&&(ce=o_(Zn,g)),se}return il.cancel=sl,il.flush=Ba,il}var Mfe=qn(function(h,g){return Ul(h,1,g)}),$fe=qn(function(h,g,S){return Ul(h,Yl(g)||0,S)});function Ffe(h){return hd(h,Y)}function sS(h,g){if(typeof h!="function"||g!=null&&typeof g!="function")throw new fo(o);var S=function(){var I=arguments,L=g?g.apply(this,I):I[0],H=S.cache;if(H.has(L))return H.get(L);var se=h.apply(this,I);return S.cache=H.set(L,se)||H,se};return S.cache=new(sS.Cache||Cc),S}sS.Cache=Cc;function iS(h){if(typeof h!="function")throw new fo(o);return function(){var g=arguments;switch(g.length){case 0:return!h.call(this);case 1:return!h.call(this,g[0]);case 2:return!h.call(this,g[0],g[1]);case 3:return!h.call(this,g[0],g[1],g[2])}return!h.apply(this,g)}}function Vfe(h){return FU(2,h)}var Ufe=Cde(function(h,g){g=g.length==1&&kn(g[0])?Nr(g[0],_a(cn())):Nr(bi(g,1),_a(cn()));var S=g.length;return qn(function(I){for(var L=-1,H=ws(I.length,S);++L<H;)I[L]=g[L].call(this,I[L]);return Ki(h,this,I)})}),Vk=qn(function(h,g){var S=el(g,zg(Vk));return hd(h,N,n,g,S)}),WU=qn(function(h,g){var S=el(g,zg(WU));return hd(h,P,n,g,S)}),Bfe=fd(function(h,g){return hd(h,F,n,n,n,g)});function zfe(h,g){if(typeof h!="function")throw new fo(o);return g=g===n?g:Ln(g),qn(h,g)}function Wfe(h,g){if(typeof h!="function")throw new fo(o);return g=g==null?0:Ds(Ln(g),0),qn(function(S){var I=S[g],L=Ah(S,0,g);return I&&Fl(L,I),Ki(h,this,L)})}function Gfe(h,g,S){var I=!0,L=!0;if(typeof h!="function")throw new fo(o);return xs(S)&&(I="leading"in S?!!S.leading:I,L="trailing"in S?!!S.trailing:L),zU(h,g,{leading:I,maxWait:g,trailing:L})}function Hfe(h){return $U(h,1)}function qfe(h,g){return Vk(Sk(g),h)}function Yfe(){if(!arguments.length)return[];var h=arguments[0];return kn(h)?h:[h]}function Kfe(h){return Va(h,p)}function Jfe(h,g){return g=typeof g=="function"?g:n,Va(h,p,g)}function Qfe(h){return Va(h,f|p)}function Zfe(h,g){return g=typeof g=="function"?g:n,Va(h,f|p,g)}function Xfe(h,g){return g==null||FE(h,g,ki(g))}function kc(h,g){return h===g||h!==h&&g!==g}var eme=QE(t_),tme=QE(function(h,g){return h>=g}),jm=WE(function(){return arguments}())?WE:function(h){return Ls(h)&&Er.call(h,"callee")&&!TE.call(h,"callee")},kn=Ae.isArray,nme=mu?_a(mu):mk;function yo(h){return h!=null&&aS(h.length)&&!pd(h)}function Qs(h){return Ls(h)&&yo(h)}function rme(h){return h===!0||h===!1||Ls(h)&&Ji(h)==ft}var Nh=AE||Qk,sme=pr?_a(pr):pk;function ime(h){return Ls(h)&&h.nodeType===1&&!l_(h)}function ame(h){if(h==null)return!0;if(yo(h)&&(kn(h)||typeof h=="string"||typeof h.splice=="function"||Nh(h)||Wg(h)||jm(h)))return!h.length;var g=wa(h);if(g==xe||g==te)return!h.size;if(a_(h))return!O(h).length;for(var S in h)if(Er.call(h,S))return!1;return!0}function ome(h,g){return wm(h,g)}function lme(h,g,S){S=typeof S=="function"?S:n;var I=S?S(h,g):n;return I===n?wm(h,g,n,S):!!I}function Uk(h){if(!Ls(h))return!1;var g=Ji(h);return g==It||g==qt||typeof h.message=="string"&&typeof h.name=="string"&&!l_(h)}function cme(h){return typeof h=="number"&&pm(h)}function pd(h){if(!xs(h))return!1;var g=Ji(h);return g==zt||g==en||g==ut||g==ve}function GU(h){return typeof h=="number"&&h==Ln(h)}function aS(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=ne}function xs(h){var g=typeof h;return h!=null&&(g=="object"||g=="function")}function Ls(h){return h!=null&&typeof h=="object"}var HU=pu?_a(pu):r_;function ume(h,g){return h===g||wu(h,g,kk(g))}function dme(h,g,S){return S=typeof S=="function"?S:n,wu(h,g,kk(g),S)}function hme(h){return qU(h)&&h!=+h}function fme(h){if(Jde(h))throw new xn(i);return xm(h)}function mme(h){return h===null}function pme(h){return h==null}function qU(h){return typeof h=="number"||Ls(h)&&Ji(h)==We}function l_(h){if(!Ls(h)||Ji(h)!=Oe)return!1;var g=Ag(h);if(g===null)return!0;var S=Er.call(g,"constructor")&&g.constructor;return typeof S=="function"&&S instanceof S&&hm.call(S)==OI}var Bk=lm?_a(lm):rr;function gme(h){return GU(h)&&h>=-ne&&h<=ne}var YU=id?_a(id):v;function oS(h){return typeof h=="string"||!kn(h)&&Ls(h)&&Ji(h)==Q}function rl(h){return typeof h=="symbol"||Ls(h)&&Ji(h)==me}var Wg=Xo?_a(Xo):j;function yme(h){return h===n}function vme(h){return Ls(h)&&wa(h)==A}function bme(h){return Ls(h)&&Ji(h)==$}var _me=QE(oe),wme=QE(function(h,g){return h<=g});function KU(h){if(!h)return[];if(yo(h))return oS(h)?Fa(h):go(h);if(fm&&h[fm])return EI(h[fm]());var g=wa(h),S=g==xe?qb:g==te?vh:Gg;return S(h)}function gd(h){if(!h)return h===0?h:0;if(h=Yl(h),h===X||h===-X){var g=h<0?-1:1;return g*le}return h===h?h:0}function Ln(h){var g=gd(h),S=g%1;return g===g?S?g-S:g:0}function JU(h){return h?ud(Ln(h),0,Ue):0}function Yl(h){if(typeof h=="number")return h;if(rl(h))return ge;if(xs(h)){var g=typeof h.valueOf=="function"?h.valueOf():h;h=xs(g)?g+"":g}if(typeof h!="string")return h===0?h:+h;h=yE(h);var S=Nn.test(h);return S||Lr.test(h)?ba(h.slice(2),S?2:8):ya.test(h)?ge:+h}function QU(h){return xu(h,vo(h))}function xme(h){return h?ud(Ln(h),-ne,ne):h===0?h:0}function Ar(h){return h==null?"":nl(h)}var Eme=Ug(function(h,g){if(a_(g)||yo(g)){xu(g,ki(g),h);return}for(var S in g)Er.call(g,S)&&_m(h,S,g[S])}),ZU=Ug(function(h,g){xu(g,vo(g),h)}),lS=Ug(function(h,g,S,I){xu(g,vo(g),h,I)}),Sme=Ug(function(h,g,S,I){xu(g,ki(g),h,I)}),jme=fd(Fg);function Tme(h,g){var S=Sh(h);return g==null?S:Qb(S,g)}var Cme=qn(function(h,g){h=Hn(h);var S=-1,I=g.length,L=I>2?g[2]:n;for(L&&Ua(g[0],g[1],L)&&(I=1);++S<I;)for(var H=g[S],se=vo(H),ce=-1,fe=se.length;++ce<fe;){var $e=se[ce],Fe=h[$e];(Fe===n||kc(Fe,_h[$e])&&!Er.call(h,$e))&&(h[$e]=H[$e])}return h}),Ame=qn(function(h){return h.push(n,pU),Ki(XU,n,h)});function Nme(h,g){return fE(h,cn(g,3),Bl)}function Ime(h,g){return fE(h,cn(g,3),e_)}function kme(h,g){return h==null?h:Xb(h,cn(g,3),vo)}function Ome(h,g){return h==null?h:BE(h,cn(g,3),vo)}function Rme(h,g){return h&&Bl(h,cn(g,3))}function Pme(h,g){return h&&e_(h,cn(g,3))}function Dme(h){return h==null?[]:zl(h,ki(h))}function Lme(h){return h==null?[]:zl(h,vo(h))}function zk(h,g,S){var I=h==null?n:dd(h,g);return I===n?S:I}function Mme(h,g){return h!=null&&vU(h,g,dk)}function Wk(h,g){return h!=null&&vU(h,g,hk)}var $me=uU(function(h,g,S){g!=null&&typeof g.toString!="function"&&(g=jg.call(g)),h[g]=S},Hk(bo)),Fme=uU(function(h,g,S){g!=null&&typeof g.toString!="function"&&(g=jg.call(g)),Er.call(h,g)?h[g].push(S):h[g]=[S]},cn),Vme=qn(Wl);function ki(h){return yo(h)?$g(h):O(h)}function vo(h){return yo(h)?$g(h,!0):V(h)}function Ume(h,g){var S={};return g=cn(g,3),Bl(h,function(I,L,H){Ac(S,g(I,L,H),I)}),S}function Bme(h,g){var S={};return g=cn(g,3),Bl(h,function(I,L,H){Ac(S,L,g(I,L,H))}),S}var zme=Ug(function(h,g,S){Bn(h,g,S)}),XU=Ug(function(h,g,S,I){Bn(h,g,S,I)}),Wme=fd(function(h,g){var S={};if(h==null)return S;var I=!1;g=Nr(g,function(H){return H=Ch(H,h),I||(I=H.length>1),H}),xu(h,Nk(h),S),I&&(S=Va(S,f|m|p,$de));for(var L=g.length;L--;)wk(S,g[L]);return S});function Gme(h,g){return eB(h,iS(cn(g)))}var Hme=fd(function(h,g){return h==null?{}:bde(h,g)});function eB(h,g){if(h==null)return{};var S=Nr(Nk(h),function(I){return[I]});return g=cn(g),GV(h,S,function(I,L){return g(I,L[0])})}function qme(h,g,S){g=Ch(g,h);var I=-1,L=g.length;for(L||(L=1,h=n);++I<L;){var H=h==null?n:h[Eu(g[I])];H===n&&(I=L,H=S),h=pd(H)?H.call(h):H}return h}function Yme(h,g,S){return h==null?h:s_(h,g,S)}function Kme(h,g,S,I){return I=typeof I=="function"?I:n,h==null?h:s_(h,g,S,I)}var tB=fU(ki),nB=fU(vo);function Jme(h,g,S){var I=kn(h),L=I||Nh(h)||Wg(h);if(g=cn(g,4),S==null){var H=h&&h.constructor;L?S=I?new H:[]:xs(h)?S=pd(H)?Sh(Ag(h)):{}:S={}}return(L?Ps:Bl)(h,function(se,ce,fe){return g(S,se,ce,fe)}),S}function Qme(h,g){return h==null?!0:wk(h,g)}function Zme(h,g,S){return h==null?h:JV(h,g,Sk(S))}function Xme(h,g,S,I){return I=typeof I=="function"?I:n,h==null?h:JV(h,g,Sk(S),I)}function Gg(h){return h==null?[]:Hb(h,ki(h))}function epe(h){return h==null?[]:Hb(h,vo(h))}function tpe(h,g,S){return S===n&&(S=g,g=n),S!==n&&(S=Yl(S),S=S===S?S:0),g!==n&&(g=Yl(g),g=g===g?g:0),ud(Yl(h),g,S)}function npe(h,g,S){return g=gd(g),S===n?(S=g,g=0):S=gd(S),h=Yl(h),fk(h,g,S)}function rpe(h,g,S){if(S&&typeof S!="boolean"&&Ua(h,g,S)&&(g=S=n),S===n&&(typeof g=="boolean"?(S=g,g=n):typeof h=="boolean"&&(S=h,h=n)),h===n&&g===n?(h=0,g=1):(h=gd(h),g===n?(g=h,h=0):g=gd(g)),h>g){var I=h;h=g,g=I}if(S||h%1||g%1){var L=kE();return ws(h+L*(g-h+$a("1e-"+((L+"").length-1))),g)}return vk(h,g)}var spe=Bg(function(h,g,S){return g=g.toLowerCase(),h+(S?rB(g):g)});function rB(h){return Gk(Ar(h).toLowerCase())}function sB(h){return h=Ar(h),h&&h.replace(as,bE).replace(Qn,"")}function ipe(h,g,S){h=Ar(h),g=nl(g);var I=h.length;S=S===n?I:ud(Ln(S),0,I);var L=S;return S-=g.length,S>=0&&h.slice(S,L)==g}function ape(h){return h=Ar(h),h&&Gn.test(h)?h.replace(nn,bI):h}function ope(h){return h=Ar(h),h&&at.test(h)?h.replace(Tt,"\\$&"):h}var lpe=Bg(function(h,g,S){return h+(S?"-":"")+g.toLowerCase()}),cpe=Bg(function(h,g,S){return h+(S?" ":"")+g.toLowerCase()}),upe=oU("toLowerCase");function dpe(h,g,S){h=Ar(h),g=Ln(g);var I=g?yu(h):0;if(!g||I>=g)return h;var L=(g-I)/2;return JE(mm(L),S)+h+JE(Ig(L),S)}function hpe(h,g,S){h=Ar(h),g=Ln(g);var I=g?yu(h):0;return g&&I<g?h+JE(g-I,S):h}function fpe(h,g,S){h=Ar(h),g=Ln(g);var I=g?yu(h):0;return g&&I<g?JE(g-I,S)+h:h}function mpe(h,g,S){return S||g==null?g=0:g&&(g=+g),IE(Ar(h).replace(Pt,""),g||0)}function ppe(h,g,S){return(S?Ua(h,g,S):g===n)?g=1:g=Ln(g),bk(Ar(h),g)}function gpe(){var h=arguments,g=Ar(h[0]);return h.length<3?g:g.replace(h[1],h[2])}var ype=Bg(function(h,g,S){return h+(S?"_":"")+g.toLowerCase()});function vpe(h,g,S){return S&&typeof S!="number"&&Ua(h,g,S)&&(g=S=n),S=S===n?Ue:S>>>0,S?(h=Ar(h),h&&(typeof g=="string"||g!=null&&!Bk(g))&&(g=nl(g),!g&&Vl(h))?Ah(Fa(h),0,S):h.split(g,S)):[]}var bpe=Bg(function(h,g,S){return h+(S?" ":"")+Gk(g)});function _pe(h,g,S){return h=Ar(h),S=S==null?0:ud(Ln(S),0,h.length),g=nl(g),h.slice(S,S+g.length)==g}function wpe(h,g,S){var I=U.templateSettings;S&&Ua(h,g,S)&&(g=n),h=Ar(h),g=lS({},g,I,mU);var L=lS({},g.imports,I.imports,mU),H=ki(L),se=Hb(L,H),ce,fe,$e=0,Fe=g.interpolate||Fn,Ye="__p += '",yt=Sc((g.escape||Fn).source+"|"+Fe.source+"|"+(Fe===on?wr:Fn).source+"|"+(g.evaluate||Fn).source+"|$","g"),Ft="//# sourceURL="+(Er.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++En+"]")+`
`;h.replace(yt,function(hn,Zn,ar,sl,Ba,il){return ar||(ar=sl),Ye+=h.slice($e,il).replace(Gi,_I),Zn&&(ce=!0,Ye+=`' +
__e(`+Zn+`) +
'`),Ba&&(fe=!0,Ye+=`';
`+Ba+`;
__p += '`),ar&&(Ye+=`' +
((__t = (`+ar+`)) == null ? '' : __t) +
'`),$e=il+hn.length,hn}),Ye+=`';
`;var dn=Er.call(g,"variable")&&g.variable;if(!dn)Ye=`with (obj) {
`+Ye+`
}
`;else if(kt.test(dn))throw new xn(l);Ye=(fe?Ye.replace(Lt,""):Ye).replace(pn,"$1").replace(gn,"$1;"),Ye="function("+(dn||"obj")+`) {
`+(dn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ce?", __e = _.escape":"")+(fe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ye+`return __p
}`;var zn=aB(function(){return gr(H,Ft+"return "+Ye).apply(n,se)});if(zn.source=Ye,Uk(zn))throw zn;return zn}function xpe(h){return Ar(h).toLowerCase()}function Epe(h){return Ar(h).toUpperCase()}function Spe(h,g,S){if(h=Ar(h),h&&(S||g===n))return yE(h);if(!h||!(g=nl(g)))return h;var I=Fa(h),L=Fa(g),H=Mr(I,L),se=vE(I,L)+1;return Ah(I,H,se).join("")}function jpe(h,g,S){if(h=Ar(h),h&&(S||g===n))return h.slice(0,Eg(h)+1);if(!h||!(g=nl(g)))return h;var I=Fa(h),L=vE(I,Fa(g))+1;return Ah(I,0,L).join("")}function Tpe(h,g,S){if(h=Ar(h),h&&(S||g===n))return h.replace(Pt,"");if(!h||!(g=nl(g)))return h;var I=Fa(h),L=Mr(I,Fa(g));return Ah(I,L).join("")}function Cpe(h,g){var S=q,I=B;if(xs(g)){var L="separator"in g?g.separator:L;S="length"in g?Ln(g.length):S,I="omission"in g?nl(g.omission):I}h=Ar(h);var H=h.length;if(Vl(h)){var se=Fa(h);H=se.length}if(S>=H)return h;var ce=S-yu(I);if(ce<1)return I;var fe=se?Ah(se,0,ce).join(""):h.slice(0,ce);if(L===n)return fe+I;if(se&&(ce+=fe.length-ce),Bk(L)){if(h.slice(ce).search(L)){var $e,Fe=fe;for(L.global||(L=Sc(L.source,Ar(fr.exec(L))+"g")),L.lastIndex=0;$e=L.exec(Fe);)var Ye=$e.index;fe=fe.slice(0,Ye===n?ce:Ye)}}else if(h.indexOf(nl(L),ce)!=ce){var yt=fe.lastIndexOf(L);yt>-1&&(fe=fe.slice(0,yt))}return fe+I}function Ape(h){return h=Ar(h),h&&Jn.test(h)?h.replace(Yt,TI):h}var Npe=Bg(function(h,g,S){return h+(S?" ":"")+g.toUpperCase()}),Gk=oU("toUpperCase");function iB(h,g,S){return h=Ar(h),g=S?n:g,g===n?xI(h)?NI(h):gI(h):h.match(g)||[]}var aB=qn(function(h,g){try{return Ki(h,n,g)}catch(S){return Uk(S)?S:new xn(S)}}),Ipe=fd(function(h,g){return Ps(g,function(S){S=Eu(S),Ac(h,S,Fk(h[S],h))}),h});function kpe(h){var g=h==null?0:h.length,S=cn();return h=g?Nr(h,function(I){if(typeof I[1]!="function")throw new fo(o);return[S(I[0]),I[1]]}):[],qn(function(I){for(var L=-1;++L<g;){var H=h[L];if(Ki(H[0],this,I))return Ki(H[1],this,I)}})}function Ope(h){return Zb(Va(h,f))}function Hk(h){return function(){return h}}function Rpe(h,g){return h==null||h!==h?g:h}var Ppe=cU(),Dpe=cU(!0);function bo(h){return h}function qk(h){return k(typeof h=="function"?h:Va(h,f))}function Lpe(h){return Et(Va(h,f))}function Mpe(h,g){return yn(h,Va(g,f))}var $pe=qn(function(h,g){return function(S){return Wl(S,h,g)}}),Fpe=qn(function(h,g){return function(S){return Wl(h,S,g)}});function Yk(h,g,S){var I=ki(g),L=zl(g,I);S==null&&!(xs(g)&&(L.length||!I.length))&&(S=g,g=h,h=this,L=zl(g,ki(g)));var H=!(xs(S)&&"chain"in S)||!!S.chain,se=pd(h);return Ps(L,function(ce){var fe=g[ce];h[ce]=fe,se&&(h.prototype[ce]=function(){var $e=this.__chain__;if(H||$e){var Fe=h(this.__wrapped__),Ye=Fe.__actions__=go(this.__actions__);return Ye.push({func:fe,args:arguments,thisArg:h}),Fe.__chain__=$e,Fe}return fe.apply(h,Fl([this.value()],arguments))})}),h}function Vpe(){return un._===this&&(un._=RI),this}function Kk(){}function Upe(h){return h=Ln(h),qn(function(g){return Gl(g,h)})}var Bpe=Tk(Nr),zpe=Tk(_g),Wpe=Tk(Ub);function oB(h){return Rk(h)?Bb(Eu(h)):_de(h)}function Gpe(h){return function(g){return h==null?n:dd(h,g)}}var Hpe=dU(),qpe=dU(!0);function Jk(){return[]}function Qk(){return!1}function Ype(){return{}}function Kpe(){return""}function Jpe(){return!0}function Qpe(h,g){if(h=Ln(h),h<1||h>ne)return[];var S=Ue,I=ws(h,Ue);g=cn(g),h-=Ue;for(var L=Gb(I,g);++S<h;)g(S);return L}function Zpe(h){return kn(h)?Nr(h,Eu):rl(h)?[h]:go(CU(Ar(h)))}function Xpe(h){var g=++kI;return Ar(h)+g}var ege=KE(function(h,g){return h+g},0),tge=Ck("ceil"),nge=KE(function(h,g){return h/g},1),rge=Ck("floor");function sge(h){return h&&h.length?Vg(h,bo,t_):n}function ige(h,g){return h&&h.length?Vg(h,cn(g,2),t_):n}function age(h){return ad(h,bo)}function oge(h,g){return ad(h,cn(g,2))}function lge(h){return h&&h.length?Vg(h,bo,oe):n}function cge(h,g){return h&&h.length?Vg(h,cn(g,2),oe):n}var uge=KE(function(h,g){return h*g},1),dge=Ck("round"),hge=KE(function(h,g){return h-g},0);function fge(h){return h&&h.length?Wb(h,bo):0}function mge(h,g){return h&&h.length?Wb(h,cn(g,2)):0}return U.after=Lfe,U.ary=$U,U.assign=Eme,U.assignIn=ZU,U.assignInWith=lS,U.assignWith=Sme,U.at=jme,U.before=FU,U.bind=Fk,U.bindAll=Ipe,U.bindKey=VU,U.castArray=Yfe,U.chain=DU,U.chunk=rhe,U.compact=she,U.concat=ihe,U.cond=kpe,U.conforms=Ope,U.constant=Hk,U.countBy=ffe,U.create=Tme,U.curry=UU,U.curryRight=BU,U.debounce=zU,U.defaults=Cme,U.defaultsDeep=Ame,U.defer=Mfe,U.delay=$fe,U.difference=ahe,U.differenceBy=ohe,U.differenceWith=lhe,U.drop=che,U.dropRight=uhe,U.dropRightWhile=dhe,U.dropWhile=hhe,U.fill=fhe,U.filter=pfe,U.flatMap=vfe,U.flatMapDeep=bfe,U.flatMapDepth=_fe,U.flatten=kU,U.flattenDeep=mhe,U.flattenDepth=phe,U.flip=Ffe,U.flow=Ppe,U.flowRight=Dpe,U.fromPairs=ghe,U.functions=Dme,U.functionsIn=Lme,U.groupBy=wfe,U.initial=vhe,U.intersection=bhe,U.intersectionBy=_he,U.intersectionWith=whe,U.invert=$me,U.invertBy=Fme,U.invokeMap=Efe,U.iteratee=qk,U.keyBy=Sfe,U.keys=ki,U.keysIn=vo,U.map=nS,U.mapKeys=Ume,U.mapValues=Bme,U.matches=Lpe,U.matchesProperty=Mpe,U.memoize=sS,U.merge=zme,U.mergeWith=XU,U.method=$pe,U.methodOf=Fpe,U.mixin=Yk,U.negate=iS,U.nthArg=Upe,U.omit=Wme,U.omitBy=Gme,U.once=Vfe,U.orderBy=jfe,U.over=Bpe,U.overArgs=Ufe,U.overEvery=zpe,U.overSome=Wpe,U.partial=Vk,U.partialRight=WU,U.partition=Tfe,U.pick=Hme,U.pickBy=eB,U.property=oB,U.propertyOf=Gpe,U.pull=jhe,U.pullAll=RU,U.pullAllBy=The,U.pullAllWith=Che,U.pullAt=Ahe,U.range=Hpe,U.rangeRight=qpe,U.rearg=Bfe,U.reject=Nfe,U.remove=Nhe,U.rest=zfe,U.reverse=Mk,U.sampleSize=kfe,U.set=Yme,U.setWith=Kme,U.shuffle=Ofe,U.slice=Ihe,U.sortBy=Dfe,U.sortedUniq=Mhe,U.sortedUniqBy=$he,U.split=vpe,U.spread=Wfe,U.tail=Fhe,U.take=Vhe,U.takeRight=Uhe,U.takeRightWhile=Bhe,U.takeWhile=zhe,U.tap=sfe,U.throttle=Gfe,U.thru=tS,U.toArray=KU,U.toPairs=tB,U.toPairsIn=nB,U.toPath=Zpe,U.toPlainObject=QU,U.transform=Jme,U.unary=Hfe,U.union=Whe,U.unionBy=Ghe,U.unionWith=Hhe,U.uniq=qhe,U.uniqBy=Yhe,U.uniqWith=Khe,U.unset=Qme,U.unzip=$k,U.unzipWith=PU,U.update=Zme,U.updateWith=Xme,U.values=Gg,U.valuesIn=epe,U.without=Jhe,U.words=iB,U.wrap=qfe,U.xor=Qhe,U.xorBy=Zhe,U.xorWith=Xhe,U.zip=efe,U.zipObject=tfe,U.zipObjectDeep=nfe,U.zipWith=rfe,U.entries=tB,U.entriesIn=nB,U.extend=ZU,U.extendWith=lS,Yk(U,U),U.add=ege,U.attempt=aB,U.camelCase=spe,U.capitalize=rB,U.ceil=tge,U.clamp=tpe,U.clone=Kfe,U.cloneDeep=Qfe,U.cloneDeepWith=Zfe,U.cloneWith=Jfe,U.conformsTo=Xfe,U.deburr=sB,U.defaultTo=Rpe,U.divide=nge,U.endsWith=ipe,U.eq=kc,U.escape=ape,U.escapeRegExp=ope,U.every=mfe,U.find=gfe,U.findIndex=NU,U.findKey=Nme,U.findLast=yfe,U.findLastIndex=IU,U.findLastKey=Ime,U.floor=rge,U.forEach=LU,U.forEachRight=MU,U.forIn=kme,U.forInRight=Ome,U.forOwn=Rme,U.forOwnRight=Pme,U.get=zk,U.gt=eme,U.gte=tme,U.has=Mme,U.hasIn=Wk,U.head=OU,U.identity=bo,U.includes=xfe,U.indexOf=yhe,U.inRange=npe,U.invoke=Vme,U.isArguments=jm,U.isArray=kn,U.isArrayBuffer=nme,U.isArrayLike=yo,U.isArrayLikeObject=Qs,U.isBoolean=rme,U.isBuffer=Nh,U.isDate=sme,U.isElement=ime,U.isEmpty=ame,U.isEqual=ome,U.isEqualWith=lme,U.isError=Uk,U.isFinite=cme,U.isFunction=pd,U.isInteger=GU,U.isLength=aS,U.isMap=HU,U.isMatch=ume,U.isMatchWith=dme,U.isNaN=hme,U.isNative=fme,U.isNil=pme,U.isNull=mme,U.isNumber=qU,U.isObject=xs,U.isObjectLike=Ls,U.isPlainObject=l_,U.isRegExp=Bk,U.isSafeInteger=gme,U.isSet=YU,U.isString=oS,U.isSymbol=rl,U.isTypedArray=Wg,U.isUndefined=yme,U.isWeakMap=vme,U.isWeakSet=bme,U.join=xhe,U.kebabCase=lpe,U.last=ql,U.lastIndexOf=Ehe,U.lowerCase=cpe,U.lowerFirst=upe,U.lt=_me,U.lte=wme,U.max=sge,U.maxBy=ige,U.mean=age,U.meanBy=oge,U.min=lge,U.minBy=cge,U.stubArray=Jk,U.stubFalse=Qk,U.stubObject=Ype,U.stubString=Kpe,U.stubTrue=Jpe,U.multiply=uge,U.nth=She,U.noConflict=Vpe,U.noop=Kk,U.now=rS,U.pad=dpe,U.padEnd=hpe,U.padStart=fpe,U.parseInt=mpe,U.random=rpe,U.reduce=Cfe,U.reduceRight=Afe,U.repeat=ppe,U.replace=gpe,U.result=qme,U.round=dge,U.runInContext=he,U.sample=Ife,U.size=Rfe,U.snakeCase=ype,U.some=Pfe,U.sortedIndex=khe,U.sortedIndexBy=Ohe,U.sortedIndexOf=Rhe,U.sortedLastIndex=Phe,U.sortedLastIndexBy=Dhe,U.sortedLastIndexOf=Lhe,U.startCase=bpe,U.startsWith=_pe,U.subtract=hge,U.sum=fge,U.sumBy=mge,U.template=wpe,U.times=Qpe,U.toFinite=gd,U.toInteger=Ln,U.toLength=JU,U.toLower=xpe,U.toNumber=Yl,U.toSafeInteger=xme,U.toString=Ar,U.toUpper=Epe,U.trim=Spe,U.trimEnd=jpe,U.trimStart=Tpe,U.truncate=Cpe,U.unescape=Ape,U.uniqueId=Xpe,U.upperCase=Npe,U.upperFirst=Gk,U.each=LU,U.eachRight=MU,U.first=OU,Yk(U,function(){var h={};return Bl(U,function(g,S){Er.call(U.prototype,S)||(h[S]=g)}),h}(),{chain:!1}),U.VERSION=r,Ps(["bind","bindKey","curry","curryRight","partial","partialRight"],function(h){U[h].placeholder=U}),Ps(["drop","take"],function(h,g){Un.prototype[h]=function(S){S=S===n?1:Ds(Ln(S),0);var I=this.__filtered__&&!g?new Un(this):this.clone();return I.__filtered__?I.__takeCount__=ws(S,I.__takeCount__):I.__views__.push({size:ws(S,Ue),type:h+(I.__dir__<0?"Right":"")}),I},Un.prototype[h+"Right"]=function(S){return this.reverse()[h](S).reverse()}}),Ps(["filter","map","takeWhile"],function(h,g){var S=g+1,I=S==W||S==Z;Un.prototype[h]=function(L){var H=this.clone();return H.__iteratees__.push({iteratee:cn(L,3),type:S}),H.__filtered__=H.__filtered__||I,H}}),Ps(["head","last"],function(h,g){var S="take"+(g?"Right":"");Un.prototype[h]=function(){return this[S](1).value()[0]}}),Ps(["initial","tail"],function(h,g){var S="drop"+(g?"":"Right");Un.prototype[h]=function(){return this.__filtered__?new Un(this):this[S](1)}}),Un.prototype.compact=function(){return this.filter(bo)},Un.prototype.find=function(h){return this.filter(h).head()},Un.prototype.findLast=function(h){return this.reverse().find(h)},Un.prototype.invokeMap=qn(function(h,g){return typeof h=="function"?new Un(this):this.map(function(S){return Wl(S,h,g)})}),Un.prototype.reject=function(h){return this.filter(iS(cn(h)))},Un.prototype.slice=function(h,g){h=Ln(h);var S=this;return S.__filtered__&&(h>0||g<0)?new Un(S):(h<0?S=S.takeRight(-h):h&&(S=S.drop(h)),g!==n&&(g=Ln(g),S=g<0?S.dropRight(-g):S.take(g-h)),S)},Un.prototype.takeRightWhile=function(h){return this.reverse().takeWhile(h).reverse()},Un.prototype.toArray=function(){return this.take(Ue)},Bl(Un.prototype,function(h,g){var S=/^(?:filter|find|map|reject)|While$/.test(g),I=/^(?:head|last)$/.test(g),L=U[I?"take"+(g=="last"?"Right":""):g],H=I||/^find/.test(g);L&&(U.prototype[g]=function(){var se=this.__wrapped__,ce=I?[1]:arguments,fe=se instanceof Un,$e=ce[0],Fe=fe||kn(se),Ye=function(Zn){var ar=L.apply(U,Fl([Zn],ce));return I&&yt?ar[0]:ar};Fe&&S&&typeof $e=="function"&&$e.length!=1&&(fe=Fe=!1);var yt=this.__chain__,Ft=!!this.__actions__.length,dn=H&&!yt,zn=fe&&!Ft;if(!H&&Fe){se=zn?se:new Un(this);var hn=h.apply(se,ce);return hn.__actions__.push({func:tS,args:[Ye],thisArg:n}),new mo(hn,yt)}return dn&&zn?h.apply(this,ce):(hn=this.thru(Ye),dn?I?hn.value()[0]:hn.value():hn)})}),Ps(["pop","push","shift","sort","splice","unshift"],function(h){var g=dm[h],S=/^(?:push|sort|unshift)$/.test(h)?"tap":"thru",I=/^(?:pop|shift)$/.test(h);U.prototype[h]=function(){var L=arguments;if(I&&!this.__chain__){var H=this.value();return g.apply(kn(H)?H:[],L)}return this[S](function(se){return g.apply(kn(se)?se:[],L)})}}),Bl(Un.prototype,function(h,g){var S=U[g];if(S){var I=S.name+"";Er.call(Eh,I)||(Eh[I]=[]),Eh[I].push({name:g,func:S})}}),Eh[YE(n,x).name]=[{name:"wrapper",func:n}],Un.prototype.clone=WI,Un.prototype.reverse=GI,Un.prototype.value=HI,U.prototype.at=ife,U.prototype.chain=afe,U.prototype.commit=ofe,U.prototype.next=lfe,U.prototype.plant=ufe,U.prototype.reverse=dfe,U.prototype.toJSON=U.prototype.valueOf=U.prototype.value=hfe,U.prototype.first=U.prototype.head,fm&&(U.prototype[fm]=cfe),U},bh=II();ls?((ls.exports=bh)._=bh,Rs._=bh):un._=bh}).call(fl)})(rC,rC.exports);var sj=rC.exports;const x7e={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};let E7e=class DL{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||x7e,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,s){return s&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new DL(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new DL(this.logger,e)}};var Fu=new E7e;class uN{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]=this.observers[r]||[],this.observers[r].push(n)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e]=this.observers[e].filter(r=>r!==n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];this.observers[e]&&[].concat(this.observers[e]).forEach(o=>{o(...r)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(o=>{o.apply(o,[e,...r])})}}function C_(){let t,e;const n=new Promise((r,s)=>{t=r,e=s});return n.resolve=t,n.reject=e,n}function $8(t){return t==null?"":""+t}function S7e(t,e,n){t.forEach(r=>{e[r]&&(n[r]=e[r])})}function $4(t,e,n){function r(o){return o&&o.indexOf("###")>-1?o.replace(/###/g,"."):o}function s(){return!t||typeof t=="string"}const i=typeof e!="string"?[].concat(e):e.split(".");for(;i.length>1;){if(s())return{};const o=r(i.shift());!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={}}return s()?{}:{obj:t,k:r(i.shift())}}function F8(t,e,n){const{obj:r,k:s}=$4(t,e,Object);r[s]=n}function j7e(t,e,n,r){const{obj:s,k:i}=$4(t,e,Object);s[i]=s[i]||[],s[i].push(n)}function sC(t,e){const{obj:n,k:r}=$4(t,e);if(n)return n[r]}function T7e(t,e,n){const r=sC(t,n);return r!==void 0?r:sC(e,n)}function _se(t,e,n){for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):_se(t[r],e[r],n):t[r]=e[r]);return t}function uy(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var C7e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function A7e(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>C7e[e]):t}const N7e=[" ",",","?","!",";"];function I7e(t,e,n){e=e||"",n=n||"";const r=N7e.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const s=new RegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!s.test(t);if(!i){const o=t.indexOf(n);o>0&&!s.test(t.substring(0,o))&&(i=!0)}return i}function iC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let s=t;for(let i=0;i<r.length;++i){if(!s||typeof s[r[i]]=="string"&&i+1<r.length)return;if(s[r[i]]===void 0){let o=2,l=r.slice(i,i+o).join(n),c=s[l];for(;c===void 0&&r.length>i+o;)o++,l=r.slice(i,i+o).join(n),c=s[l];if(c===void 0)return;if(c===null)return null;if(e.endsWith(l)){if(typeof c=="string")return c;if(l&&typeof c[l]=="string")return c[l]}const u=r.slice(i+o).join(n);return u?iC(c,u,n):void 0}s=s[r[i]]}return s}function aC(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}class V8 extends uN{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let l=[e,n];r&&typeof r!="string"&&(l=l.concat(r)),r&&typeof r=="string"&&(l=l.concat(i?r.split(i):r)),e.indexOf(".")>-1&&(l=e.split("."));const c=sC(this.data,l);return c||!o||typeof r!="string"?c:iC(this.data&&this.data[e]&&this.data[e][n],r,i)}addResource(e,n,r,s){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[e,n];r&&(l=l.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(l=e.split("."),s=n,n=l[1]),this.addNamespaces(n),F8(this.data,l,s),i.silent||this.emit("added",e,n,r,s)}addResources(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)(typeof r[i]=="string"||Object.prototype.toString.apply(r[i])==="[object Array]")&&this.addResource(e,n,i,r[i],{silent:!0});s.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,s,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},l=[e,n];e.indexOf(".")>-1&&(l=e.split("."),s=r,r=n,n=l[1]),this.addNamespaces(n);let c=sC(this.data,l)||{};s?_se(c,r,i):c={...c,...r},F8(this.data,l,c),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var wse={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,s){return t.forEach(i=>{this.processors[i]&&(e=this.processors[i].process(e,n,r,s))}),e}};const U8={};class oC extends uN{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),S7e(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Fu.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!I7e(e,r,s);if(o&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:i};const u=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(s)}return typeof i=="string"&&(i=[i]),{key:e,namespaces:i}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],n),c=l[l.length-1],u=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(d){const T=n.nsSeparator||this.options.nsSeparator;return s?{res:`${c}${T}${o}`,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:`${c}${T}${o}`}return s?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:o}const f=this.resolve(e,n);let m=f&&f.res;const p=f&&f.usedKey||o,y=f&&f.exactUsedKey||o,_=Object.prototype.toString.apply(m),b=["[object Number]","[object Function]","[object RegExp]"],x=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject;if(w&&m&&(typeof m!="string"&&typeof m!="boolean"&&typeof m!="number")&&b.indexOf(_)<0&&!(typeof x=="string"&&_==="[object Array]")){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const T=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,m,{...n,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return s?(f.res=T,f.usedParams=this.getUsedParamsDetails(n),f):T}if(i){const T=_==="[object Array]",N=T?[]:{},P=T?y:p;for(const D in m)if(Object.prototype.hasOwnProperty.call(m,D)){const F=`${P}${i}${D}`;N[D]=this.translate(F,{...n,joinArrays:!1,ns:l}),N[D]===F&&(N[D]=m[D])}m=N}}else if(w&&typeof x=="string"&&_==="[object Array]")m=m.join(x),m&&(m=this.extendTranslation(m,e,n,r));else{let T=!1,N=!1;const P=n.count!==void 0&&typeof n.count!="string",D=oC.hasDefaultValue(n),F=P?this.pluralResolver.getSuffix(u,n.count,n):"",Y=n.ordinal&&P?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",q=n[`defaultValue${F}`]||n[`defaultValue${Y}`]||n.defaultValue;!this.isValidLookup(m)&&D&&(T=!0,m=q),this.isValidLookup(m)||(N=!0,m=o);const G=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&N?void 0:m,J=D&&q!==m&&this.options.updateMissing;if(N||T||J){if(this.logger.log(J?"updateKey":"missingKey",u,c,o,J?q:m),i){const X=this.resolve(o,{...n,keySeparator:!1});X&&X.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let W=[];const z=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&z&&z[0])for(let X=0;X<z.length;X++)W.push(z[X]);else this.options.saveMissingTo==="all"?W=this.languageUtils.toResolveHierarchy(n.lng||this.language):W.push(n.lng||this.language);const Z=(X,ne,le)=>{const ge=D&&le!==m?le:G;this.options.missingKeyHandler?this.options.missingKeyHandler(X,c,ne,ge,J,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(X,c,ne,ge,J,n),this.emit("missingKey",X,c,ne,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&P?W.forEach(X=>{this.pluralResolver.getSuffixes(X,n).forEach(ne=>{Z([X],o+ne,n[`defaultValue${ne}`]||q)})}):Z(W,o,q))}m=this.extendTranslation(m,e,n,f,r),N&&m===o&&this.options.appendNamespaceToMissingKey&&(m=`${c}:${o}`),(N||T)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${o}`:o,T?m:void 0):m=this.options.parseMissingKeyHandler(m))}return s?(f.res=m,f.usedParams=this.getUsedParamsDetails(n),f):m}extendTranslation(e,n,r,s,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=typeof e=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const m=e.match(this.interpolator.nestingRegexp);d=m&&m.length}let f=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,r.lng||this.language,r),u){const m=e.match(this.interpolator.nestingRegexp),p=m&&m.length;d<p&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(r.lng=s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var m=arguments.length,p=new Array(m),y=0;y<m;y++)p[y]=arguments[y];return i&&i[0]===p[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):o.translate(...p,n)},r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,c=typeof l=="string"?[l]:l;return e!=null&&c&&c.length&&r.applyPostProcessor!==!1&&(e=wse.handle(c,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,s,i,o,l;return typeof e=="string"&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(c,n),d=u.key;s=d;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const m=n.count!==void 0&&typeof n.count!="string",p=m&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),y=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",_=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(b=>{this.isValidLookup(r)||(l=b,!U8[`${_[0]}-${b}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(U8[`${_[0]}-${b}`]=!0,this.logger.warn(`key "${s}" for languages "${_.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),_.forEach(x=>{if(this.isValidLookup(r))return;o=x;const w=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(w,d,x,b,n);else{let T;m&&(T=this.pluralResolver.getSuffix(x,n.count,n));const N=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(w.push(d+T),n.ordinal&&T.indexOf(P)===0&&w.push(d+T.replace(P,this.options.pluralSeparator)),p&&w.push(d+N)),y){const D=`${d}${this.options.contextSeparator}${n.context}`;w.push(D),m&&(w.push(D+T),n.ordinal&&T.indexOf(P)===0&&w.push(D+T.replace(P,this.options.pluralSeparator)),p&&w.push(D+N))}}let E;for(;E=w.pop();)this.isValidLookup(r)||(i=E,r=this.getResource(x,b,E,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:o,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,s):this.resourceStore.getResource(e,n,r,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&typeof e.replace!="string";let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}function AR(t){return t.charAt(0).toUpperCase()+t.slice(1)}class B8{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Fu.create("languageUtils")}getScriptPartFromCode(e){if(e=aC(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=aC(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(s=>s.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=AR(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=AR(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=AR(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(i=>{if(i===s)return i;if(!(i.indexOf("-")<0&&s.indexOf("-")<0)&&i.indexOf(s)===0)return i})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),typeof e=="string"&&(e=[e]),Object.prototype.toString.apply(e)==="[object Array]")return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),s=[],i=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):typeof e=="string"&&i(this.formatLanguageCode(e)),r.forEach(o=>{s.indexOf(o)<0&&i(this.formatLanguageCode(o))}),s}}let k7e=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],O7e={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}};const R7e=["v1","v2","v3"],P7e=["v4"],z8={zero:0,one:1,two:2,few:3,many:4,other:5};function D7e(){const t={};return k7e.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:O7e[e.fc]}})}),t}class L7e{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=Fu.create("pluralResolver"),(!this.options.compatibilityJSON||P7e.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=D7e()}addRule(e,n){this.rules[e]=n}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(aC(e),{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(s=>`${n}${s}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((s,i)=>z8[s]-z8[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):r.numbers.map(s=>this.getSuffix(e,s,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,r);return s?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:this.getSuffixRetroCompatible(s,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let s=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const i=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!R7e.includes(this.options.compatibilityJSON)}}function W8(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=T7e(t,e,n);return!i&&s&&typeof n=="string"&&(i=iC(t,n,r),i===void 0&&(i=iC(e,n,r))),i}class M7e{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Fu.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const n=e.interpolation;this.escape=n.escape!==void 0?n.escape:A7e,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?uy(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?uy(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?uy(n.nestingPrefix):n.nestingPrefixEscaped||uy("$t("),this.nestingSuffix=n.nestingSuffix?uy(n.nestingSuffix):n.nestingSuffixEscaped||uy(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(e,"g");const n=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(n,"g");const r=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp(r,"g")}interpolate(e,n,r,s){let i,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(y){return y.replace(/\$/g,"$$$$")}const d=y=>{if(y.indexOf(this.formatSeparator)<0){const w=W8(n,c,y,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,r,{...s,...n,interpolationkey:y}):w}const _=y.split(this.formatSeparator),b=_.shift().trim(),x=_.join(this.formatSeparator).trim();return this.format(W8(n,c,b,this.options.keySeparator,this.options.ignoreJSONStructure),x,r,{...s,...n,interpolationkey:b})};this.resetRegExp();const f=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,m=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:y=>u(y)},{regex:this.regexp,safeValue:y=>this.escapeValue?u(this.escape(y)):u(y)}].forEach(y=>{for(l=0;i=y.regex.exec(e);){const _=i[1].trim();if(o=d(_),o===void 0)if(typeof f=="function"){const x=f(e,i,s);o=typeof x=="string"?x:""}else if(s&&Object.prototype.hasOwnProperty.call(s,_))o="";else if(m){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${_} for interpolating ${e}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=$8(o));const b=y.safeValue(o);if(e=e.replace(i[0],b),m?(y.regex.lastIndex+=o.length,y.regex.lastIndex-=i[0].length):y.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,i,o;function l(c,u){const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const f=c.split(new RegExp(`${d}[ ]*{`));let m=`{${f[1]}`;c=f[0],m=this.interpolate(m,o);const p=m.match(/'/g),y=m.match(/"/g);(p&&p.length%2===0&&!y||y.length%2!==0)&&(m=m.replace(/'/g,'"'));try{o=JSON.parse(m),u&&(o={...u,...o})}catch(_){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,_),`${c}${d}${m}`}return delete o.defaultValue,c}for(;s=this.nestingRegexp.exec(e);){let c=[];o={...r},o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const d=s[1].split(this.formatSeparator).map(f=>f.trim());s[1]=d.shift(),c=d,u=!0}if(i=n(l.call(this,s[1].trim(),o),o),i&&s[0]===e&&typeof i!="string")return i;typeof i!="string"&&(i=$8(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),u&&(i=c.reduce((d,f)=>this.format(d,f,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}function $7e(t){let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(o=>{if(!o)return;const[l,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,"");n[l.trim()]||(n[l.trim()]=u),u==="false"&&(n[l.trim()]=!1),u==="true"&&(n[l.trim()]=!0),isNaN(u)||(n[l.trim()]=parseInt(u,10))})}return{formatName:e,formatOptions:n}}function dy(t){const e={};return function(r,s,i){const o=s+JSON.stringify(i);let l=e[o];return l||(l=t(aC(s),i),e[o]=l),l(r)}}class F7e{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Fu.create("formatter"),this.options=e,this.formats={number:dy((n,r)=>{const s=new Intl.NumberFormat(n,{...r});return i=>s.format(i)}),currency:dy((n,r)=>{const s=new Intl.NumberFormat(n,{...r,style:"currency"});return i=>s.format(i)}),datetime:dy((n,r)=>{const s=new Intl.DateTimeFormat(n,{...r});return i=>s.format(i)}),relativetime:dy((n,r)=>{const s=new Intl.RelativeTimeFormat(n,{...r});return i=>s.format(i,r.range||"day")}),list:dy((n,r)=>{const s=new Intl.ListFormat(n,{...r});return i=>s.format(i)})},this.init(e)}init(e){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=dy(n)}format(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((l,c)=>{const{formatName:u,formatOptions:d}=$7e(c);if(this.formats[u]){let f=l;try{const m=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},p=m.locale||m.lng||s.locale||s.lng||r;f=this.formats[u](l,p,{...d,...s,...m})}catch(m){this.logger.warn(m)}return f}else this.logger.warn(`there was no format function for ${u}`);return l},e)}}function V7e(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}class U7e extends uN{constructor(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=Fu.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,s.backend,s)}queueLoad(e,n,r,s){const i={},o={},l={},c={};return e.forEach(u=>{let d=!0;n.forEach(f=>{const m=`${u}|${f}`;!r.reload&&this.store.hasResourceBundle(u,f)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?o[m]===void 0&&(o[m]=!0):(this.state[m]=1,d=!1,o[m]===void 0&&(o[m]=!0),i[m]===void 0&&(i[m]=!0),c[f]===void 0&&(c[f]=!0)))}),d||(l[u]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,n,r){const s=e.split("|"),i=s[0],o=s[1];n&&this.emit("failedLoading",i,o,n),r&&this.store.addResourceBundle(i,o,r),this.state[e]=n?-1:2;const l={};this.queue.forEach(c=>{j7e(c.loaded,[i],o),V7e(c,e),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(f=>{l[u][f]===void 0&&(l[u][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:s,wait:i,callback:o});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&d&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,s+1,i*2,o)},i);return}o(u,d)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const u=c(e,n);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(e,n,l)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof n=="string"&&(n=[n]);const i=this.queueLoad(e,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,o),!o&&l&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,l),this.loaded(e,o,l)})}saveMissing(e,n,r,s,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const c={...o,isUpdate:i},u=this.backend.create.bind(this.backend);if(u.length<6)try{let d;u.length===5?d=u(e,n,r,s,c):d=u(e,n,r,s),d&&typeof d.then=="function"?d.then(f=>l(null,f)).catch(l):l(null,d)}catch(d){l(d)}else u(e,n,r,s,l,c)}!e||!e[0]||this.store.addResource(e[0],n,r,s)}}}function G8(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let n={};if(typeof e[1]=="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(s=>{n[s]=r[s]})}return n},interpolation:{escapeValue:!0,format:(t,e,n,r)=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function H8(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function ij(){}function B7e(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}class kx extends uN{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=H8(e),this.services={},this.logger=Fu,this.modules={external:[]},B7e(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const s=G8();this.options={...s,...this.options,...H8(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);function i(d){return d?typeof d=="function"?new d:d:null}if(!this.options.isClone){this.modules.logger?Fu.init(i(this.modules.logger),this.options):Fu.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=F7e);const f=new B8(this.options);this.store=new V8(this.options.resources,this.options);const m=this.services;m.logger=Fu,m.resourceStore=this.store,m.languageUtils=f,m.pluralResolver=new L7e(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(m.formatter=i(d),m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new M7e(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new U7e(i(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",function(p){for(var y=arguments.length,_=new Array(y>1?y-1:0),b=1;b<y;b++)_[b-1]=arguments[b];e.emit(p,..._)}),this.modules.languageDetector&&(m.languageDetector=i(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=i(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new oC(this.services,this.options),this.translator.on("*",function(p){for(var y=arguments.length,_=new Array(y>1?y-1:0),b=1;b<y;b++)_[b-1]=arguments[b];e.emit(p,..._)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,r||(r=ij),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});const c=C_(),u=()=>{const d=(f,m)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(m),r(f,m)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),c}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ij;const s=typeof e=="string"?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],o=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(u=>{u!=="cimode"&&i.indexOf(u)<0&&i.push(u)})};s?o(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload&&this.options.preload.forEach(l=>o(l)),this.services.backendConnector.load(i,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(l)})}else r(null)}reloadResources(e,n,r){const s=C_();return e||(e=this.languages),n||(n=this.options.ns),r||(r=ij),this.services.backendConnector.reload(e,n,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&wse.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const s=C_();this.emit("languageChanging",e);const i=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,u)=>{u?(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,s.resolve(function(){return r.t(...arguments)}),n&&n(c,function(){return r.t(...arguments)})},l=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const u=typeof c=="string"?c:this.services.languageUtils.getBestMatchFromCodes(c);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,d=>{o(d,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),s}getFixedT(e,n,r){var s=this;const i=function(o,l){let c;if(typeof l!="object"){for(var u=arguments.length,d=new Array(u>2?u-2:0),f=2;f<u;f++)d[f-2]=arguments[f];c=s.options.overloadTranslationOptionHandler([o,l].concat(d))}else c={...l};c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix=c.keyPrefix||r||i.keyPrefix;const m=s.options.keySeparator||".";let p;return c.keyPrefix&&Array.isArray(o)?p=o.map(y=>`${c.keyPrefix}${m}${y}`):p=c.keyPrefix?`${c.keyPrefix}${m}${o}`:o,s.t(p,c)};return typeof e=="string"?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===2};if(n.precheck){const l=n.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!s||o(i,e)))}loadNamespaces(e,n){const r=C_();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=C_();typeof e=="string"&&(e=[e]);const s=this.options.preload||[],i=e.filter(o=>s.indexOf(o)<0);return i.length?(this.options.preload=s.concat(i),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new B8(G8());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new kx(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ij;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new kx(s);return(e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r&&(i.store=new V8(this.store.data,s),i.services.resourceStore=i.store),i.translator=new oC(i.services,s),i.translator.on("*",function(l){for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];i.emit(l,...u)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ga=kx.createInstance();ga.createInstance=kx.createInstance;ga.createInstance;ga.dir;ga.init;ga.loadResources;ga.reloadResources;ga.use;ga.changeLanguage;ga.getFixedT;ga.t;ga.exists;ga.setDefaultNamespace;ga.hasLoadedNamespace;ga.loadNamespaces;ga.loadLanguages;var xse=[],z7e=xse.forEach,W7e=xse.slice;function G7e(t){return z7e.call(W7e.call(arguments,1),function(e){if(e)for(var n in e)t[n]===void 0&&(t[n]=e[n])}),t}var q8=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,H7e=function(e,n,r){var s=r||{};s.path=s.path||"/";var i=encodeURIComponent(n),o="".concat(e,"=").concat(i);if(s.maxAge>0){var l=s.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(l))}if(s.domain){if(!q8.test(s.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(s.domain)}if(s.path){if(!q8.test(s.path))throw new TypeError("option path is invalid");o+="; Path=".concat(s.path)}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires=".concat(s.expires.toUTCString())}if(s.httpOnly&&(o+="; HttpOnly"),s.secure&&(o+="; Secure"),s.sameSite){var c=typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite;switch(c){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o},Y8={create:function(e,n,r,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+r*60*1e3)),s&&(i.domain=s),document.cookie=H7e(e,encodeURIComponent(n),i)},read:function(e){for(var n="".concat(e,"="),r=document.cookie.split(";"),s=0;s<r.length;s++){for(var i=r[s];i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(n)===0)return i.substring(n.length,i.length)}return null},remove:function(e){this.create(e,"",-1)}},q7e={name:"cookie",lookup:function(e){var n;if(e.lookupCookie&&typeof document<"u"){var r=Y8.read(e.lookupCookie);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupCookie&&typeof document<"u"&&Y8.create(n.lookupCookie,e,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},Y7e={name:"querystring",lookup:function(e){var n;if(typeof window<"u"){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var s=r.substring(1),i=s.split("&"),o=0;o<i.length;o++){var l=i[o].indexOf("=");if(l>0){var c=i[o].substring(0,l);c===e.lookupQuerystring&&(n=i[o].substring(l+1))}}}return n}},A_=null,K8=function(){if(A_!==null)return A_;try{A_=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{A_=!1}return A_},K7e={name:"localStorage",lookup:function(e){var n;if(e.lookupLocalStorage&&K8()){var r=window.localStorage.getItem(e.lookupLocalStorage);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupLocalStorage&&K8()&&window.localStorage.setItem(n.lookupLocalStorage,e)}},N_=null,J8=function(){if(N_!==null)return N_;try{N_=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{N_=!1}return N_},J7e={name:"sessionStorage",lookup:function(e){var n;if(e.lookupSessionStorage&&J8()){var r=window.sessionStorage.getItem(e.lookupSessionStorage);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupSessionStorage&&J8()&&window.sessionStorage.setItem(n.lookupSessionStorage,e)}},Q7e={name:"navigator",lookup:function(e){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)n.push(navigator.languages[r]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},Z7e={name:"htmlTag",lookup:function(e){var n,r=e.htmlTag||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},X7e={name:"path",lookup:function(e){var n;if(typeof window<"u"){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof r[e.lookupFromPathIndex]!="string")return;n=r[e.lookupFromPathIndex].replace("/","")}else n=r[0].replace("/","")}return n}},eYe={name:"subdomain",lookup:function(e){var n=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,r=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}};function tYe(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var Ese=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};uZ(this,t),this.type="languageDetector",this.detectors={},this.init(e,n)}return dZ(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n||{languageUtils:{}},this.options=G7e(r,this.options||{},tYe()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(i){return i.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(q7e),this.addDetector(Y7e),this.addDetector(K7e),this.addDetector(J7e),this.addDetector(Q7e),this.addDetector(Z7e),this.addDetector(X7e),this.addDetector(eYe)}},{key:"addDetector",value:function(n){this.detectors[n.name]=n}},{key:"detect",value:function(n){var r=this;n||(n=this.options.order);var s=[];return n.forEach(function(i){if(r.detectors[i]){var o=r.detectors[i].lookup(r.options);o&&typeof o=="string"&&(o=[o]),o&&(s=s.concat(o))}}),s=s.map(function(i){return r.options.convertDetectedLanguage(i)}),this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}},{key:"cacheUserLanguage",value:function(n,r){var s=this;r||(r=this.options.caches),r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||r.forEach(function(i){s.detectors[i]&&s.detectors[i].cacheUserLanguage(n,s.options)}))}}]),t}();Ese.type="languageDetector";const nYe="",rYe="",sYe="",iYe="",aYe="",oYe="Saas",lYe="",cYe="",uYe="",dYe="",hYe="",fYe=" ",mYe="",pYe="",gYe="",yYe="",vYe=" ",bYe="",_Ye=" ",wYe="",xYe="",EYe="",SYe=" ",jYe="",TYe="",CYe="",AYe="",NYe="",IYe="",kYe="",OYe=" ",RYe="",PYe="",DYe="",LYe="",MYe=" ",$Ye=" ",FYe="",VYe="",UYe="",BYe="",zYe="",WYe="",GYe="",HYe="",qYe="",YYe="",KYe="",JYe="",QYe="",ZYe="",XYe="",eKe="",tKe="",nKe="",rKe="",sKe="",iKe="",aKe="Boxicons",oKe="Dripicons",lKe="",cKe="",uKe="",dKe="",hKe={"Mega Menu":" ",Search:nYe,Menu:rYe,Dashboards:sYe,Dashboard:iYe,Default:aYe,Saas:oYe,Crypto:lYe,Apps:cYe,Calendar:uYe,New:dYe,Chat:hYe,Ecommerce:fYe,Products:mYe,"Product Detail":" ",Orders:pYe,Customers:gYe,Cart:yYe,Checkout:vYe,Shops:bYe,"Add Product":" ",Wallet:_Ye,"Buy/Sell":"/",Exchange:wYe,Lending:xYe,"KYC Application":" KYC","ICO Landing":" ICO",Email:EYe,Inbox:SYe,"Read Email":" ",Invoices:jYe,"Invoice List":" ","Invoice Detail":" ",Projects:TYe,"Projects Grid":" ","Projects List":" ","Project Overview":"  ","Create New":" ",Tasks:CYe,"Task List":" ",Blog:AYe,"File Manager":" ","Blog List":" ","Blog Grid":" ","Blog Details":" ",Templates:NYe,"Basic Action":" ","Alert Email":" ","Billing Email":" ","Login 2":" ","Register 2":" ","Recover Password":"  ","Recover Password 2":"   ","Lock Screen 2":"  ","Confirm Mail":" ","Confirm Mail 2":"  ","Email verification":" ","Email verification 2":"  ","Two step verification":"  ","Two step verification 2":"   ","Create Task":" ",Contacts:IYe,"User Grid":" ","User List":" ",Profile:kYe,Authentication:OYe,Login:RYe,Register:PYe,"Forget Password":"  ",Utility:DYe,"Starter Page":" ",Maintenance:LYe,"Coming Soon":" ",Timeline:MYe,FAQs:$Ye,Pricing:FYe,"Error 404":" ","Error 500":" ",Components:VYe,"UI Elements":"  UI",Alerts:UYe,Buttons:BYe,Cards:zYe,Carousel:WYe,Dropdowns:GYe,Grid:HYe,Images:qYe,Lightbox:YYe,Modals:KYe,"Range Slider":" ","Session Timeout":" ","Progress Bars":" ","Sweet-Alert":" ","Tabs & Accordions":"  ",Typography:JYe,Video:QYe,General:ZYe,Colors:XYe,Rating:eKe,Notifications:tKe,"Image Cropper":"  ",Forms:nKe,"Form Elements":" ","Form Validation":" ","Form Layouts":" ","Form Advanced":" ","Form Editors":" ","Form File Upload":"  ","Form Xeditable":" Xeditable","Form Repeater":"  ","Form Wizard":" ","Form Mask":" ",Tables:rKe,"Basic Tables":" ","Data Tables":" ","Responsive Table":" ","Editable Table":"  ",Charts:sKe,"Apex charts":" Apex","Chartist Chart":" Chartist","Chartjs Chart":" Chartjs","E Chart":" E","Sparkline Chart":" Sparkline","Toast UI Chart":" Toast UI",Icons:iKe,Boxicons:aKe,"Material Design":" ",Dripicons:oKe,"Font awesome":" ",Maps:lKe,"Google Maps":" ","Vector Maps":" ","Level 1.1":" 1.1","Multi Level":" ","Level 1.2":" 1.2","Level 2.1":" 2.1","Level 2.2":" 2.2","My Wallet":"  ",Settings:cKe,"Lock screen":" ","View all":" ",Logout:uKe,"Your order is placed":"   ","It will seem like simplified English":"       ","Your item is shipped":"   ","If several languages coalesce the grammar":"       ","3 min ago":"  ","As a skeptical Cambridge friend of mine occidental":"       ","1 hours ago":"  ","UI Components":" UI",Applications:dKe,"Extra Pages":" ","Horizontal layout":" ","Light Sidebar":"  ","Compact Sidebar":"  "},fKe="Suche",mKe="Speisekarte",pKe="Dashboards",gKe="Dashboard",yKe="Standard",vKe="Sass",bKe="Krypto",_Ke="Apps",wKe="Kalender",xKe="Neu",EKe="Plaudern",SKe="E-Commerce",jKe="Produkte",TKe="Kunden",CKe="Wagen",AKe="Auschecken",NKe="Geschfte",IKe="Brieftasche",kKe="Austausch",OKe="Ausleihe",RKe="Auftrge",PKe="Email",DKe="Posteingang",LKe="Rechnungen",MKe="Projekte",$Ke="Aufgaben",FKe="Blog",VKe="Arbeit",UKe="Arbeitspltze",BKe="Kandidatin",zKe="Auffhren",WKe="berblick",GKe="Vorlage",HKe="Kontakte",qKe="Profil",YKe="Authentifizierung",KKe="Anmeldung",JKe="Registrieren",QKe="Ntzlichkeit",ZKe="Instandhaltung",XKe="Zeitleiste",eJe="FAQs",tJe="Preisgestaltung",nJe="Komponenten",rJe="Warnungen",sJe="Tasten",iJe="Karten",aJe="Karussell",oJe="Dropdowns",lJe="Gitter",cJe="Bilder",uJe="Leuchtkasten",dJe="Platzhalter",hJe="OffCanvas",fJe="Toasts",mJe="Modale",pJe="Typografie",gJe="Video",yJe="Allgemeines",vJe="Farben",bJe="Bewertung",_Je="Benachrichtigungen",wJe="Formen",xJe="Tabellen",EJe="Diagramme",SJe="Symbole",jJe="Boxicons",TJe="Dripicons",CJe="Karten",AJe="die Einstellungen",NJe="Ausloggen",IJe="Anwendungen",kJe={"Mega Menu":"Mega-Men",Search:fKe,Menu:mKe,Dashboards:pKe,Dashboard:gKe,Default:yKe,Saas:vKe,Crypto:bKe,Apps:_Ke,Calendar:wKe,New:xKe,Chat:EKe,Ecommerce:SKe,Products:jKe,"Product Detail":"Produktdetail",Customers:TKe,Cart:CKe,Checkout:AKe,Shops:NKe,"Add Product":"Produkt hinzufgen",Wallet:IKe,"Buy/Sell":"Kaufen Verkaufen",Exchange:kKe,Lending:OKe,Orders:RKe,"KYC Application":"KYC-Anwendung","ICO Landing":"ICO Landung",Email:PKe,Inbox:DKe,"Read Email":"E-Mail lesen",Invoices:LKe,"Invoice List":"Rechnungsliste","Invoice Detail":"Rechnungsdetail",Projects:MKe,"Projects Grid":"Projektraster","Projects List":"Projektliste","Project Overview":"Projektbersicht","Create New":"Erstelle neu",Tasks:$Ke,"Task List":"Aufgabenliste","Kanban Board":"Kanban Board","Create Task":"Aufgabe erstellen",Blog:FKe,Job:VKe,"File Manager":"Dateimanager","Blog List":"Blog-Liste","Blog Grid":"Blog-Raster","Blog Details":"Blog-Details",Jobs:UKe,"Job List":"Job-Liste","Job Grid":"Job-Raster","Apply Job":"Stelle bewerben","Job Details":"Auftragsdetails","Jobs Categories":"Job-Kategorien",Candidate:BKe,List:zKe,Overview:WKe,Templates:GKe,"Basic Action":"Grundlegende Aktion","Alert Email":"Benachrichtigungs-E-Mail","Billing Email":"Abrechnung per E-Mail","Login 2":"Anmeldung 2","Register 2":"Registrieren 2","Recover Password":"Passwort wiederherstellen","Recover Password 2":"Passwort wiederherstellen 2","Lock Screen 2":"Bildschirm sperren 2","Confirm Mail":"Mail besttigen","Confirm Mail 2":"Mail besttigen 2","Email verification":"E-Mail-Verifizierung","Email verification 2":"E-Mail-Verifizierung 2","Two step verification":"berprfung in zwei Schritten","Two step verification 2":"berprfung in zwei Schritten 2",Contacts:HKe,"User Grid":"User Grid","User List":"Benutzerliste",Profile:qKe,Authentication:YKe,Login:KKe,Register:JKe,"Forget Password":"Passwort vergessen",Utility:QKe,"Starter Page":"Startseite",Maintenance:ZKe,"Coming Soon":"Demnchst",Timeline:XKe,FAQs:eJe,Pricing:tJe,"Error 404":"Fehler 404","Error 500":"Fehler 500",Components:nJe,"UI Elements":"UI-Elemente",Alerts:rJe,Buttons:sJe,Cards:iJe,Carousel:aJe,Dropdowns:oJe,Grid:lJe,Images:cJe,Lightbox:uJe,Placeholders:dJe,OffCanvas:hJe,Toasts:fJe,Modals:mJe,"Range Slider":"Range Slider","Session Timeout":"Session-Timeout","Progress Bars":"Fortschrittsbalken","Sweet-Alert":"Sweet-Alert","Tabs & Accordions":"Tabs & Akkordeons",Typography:pJe,Video:gJe,General:yJe,Colors:vJe,Rating:bJe,Notifications:_Je,"Image Cropper":"Bild Cropper",Forms:wJe,"Form Elements":"Formularelemente","Form Layouts":"Formularlayout","Form Validation":"Formularvalidierung","Form Advanced":"Formular erweitert","Form Editors":"Formulareditoren","Form File Upload":"Hochladen von Formulardateien","Form Xeditable":"Formular Xeditable","Form Repeater":"Form Repeater","Form Wizard":"Formzauberer","Form Mask":"Formularmaske",Tables:xJe,"Basic Tables":"Grundtabellen","Data Tables":"Datentabellen","Responsive Table":"Antworttabelle","Editable Table":"Bearbeitbare Tabelle",Charts:EJe,"Apex charts":"Apex-Diagramme","Chartist Chart":"Chartist Diagramm","Chartjs Chart":"Chartjs Diagramm","E Chart":"E Diagramm","Sparkline Chart":"Sparkline-Diagramm","Toast UI Chart":"Toast UI Chart",Icons:SJe,Boxicons:jJe,"Material Design":"Material Design",Dripicons:TJe,"Font awesome":"Schriftart fantastisch",Maps:CJe,"Google Maps":"Google Maps","Vector Maps":"Vektorkarten","Level 1.1":"Stufe 1.1","Multi Level":"Multi Level","Level 1.2":"Stufe 1.2","Level 2.1":"Stufe 2.1","Level 2.2":"Stufe 2.2","My Wallet":"Bildschirm sperren",Settings:AJe,"Lock Screen":"Bildschirm sperren",Logout:NJe,"View all":"Alle ansehen","Your order is placed":"Ihre Bestellung wird aufgegeben","If several languages coalesce the grammar":"Wenn mehrere Sprachen die Grammatik verschmelzen","3 min ago":"Vor 3 min","It will seem like simplified English":"Es wird wie vereinfachtes Englisch erscheinen","1 hours ago":"Vor 1 Stunde","Your item is shipped":"Ihr Artikel wird versendet","As a skeptical Cambridge friend of mine occidental":"","UI Components":"UI-Komponenten",Applications:IJe,"Extra Pages":"Zustzliche Seiten","Horizontal layout":"Horizontales Layout","Light Sidebar":"Leichte Seitenleiste","Compact Sidebar":"Kompakte Seitenleiste"},OJe="Ricerca",RJe="Men",PJe="cruscotti",DJe="Pannello di controllo",LJe="Predefinita",MJe="Sass",$Je="Crypto",FJe="applicazioni",VJe="Calendario",UJe="Nuova",BJe="Chiacchierare",zJe="ecommerce",WJe="Prodotti",GJe="I clienti",HJe="Carrello",qJe="Check-out",YJe="negozi",KJe="Portafoglio",JJe="Scambio",QJe="prestito",ZJe="Blog",XJe="Lavoro",eQe="Lavoro",tQe="Candidata",nQe="Elenco",rQe="Panoramica",sQe="Modella",iQe="Ordini",aQe="E-mail",oQe="Posta in arrivo",lQe="Fatture",cQe="progetti",uQe="Compiti",dQe="Contatti",hQe="Profilo",fQe="Autenticazione",mQe="Accesso",pQe="Registrati",gQe="Utilit",yQe="Manutenzione",vQe="Sequenza temporale",bQe="FAQs",_Qe="Prezzi",wQe="componenti",xQe="avvisi",EQe="pulsanti",SQe="Carte",jQe="Giostra",TQe="menu a discesa",CQe="Griglia",AQe="immagini",NQe="ID",IQe="segnaposto",kQe="Fuori tela",OQe="brindisi",RQe="Modals",PQe="Tipografia",DQe="Video",LQe="Generale",MQe="Colori",$Qe="Valutazione",FQe="notifiche",VQe="Le forme",UQe="tabelle",BQe="Grafici",zQe="Icone",WQe="Boxicons",GQe="Dripicons",HQe="Mappe",qQe="impostazioni",YQe="Disconnettersi",KQe="applicazioni",JQe={"Mega Menu":"Mega Menu",Search:OJe,Menu:RJe,Dashboards:PJe,Dashboard:DJe,Default:LJe,Saas:MJe,Crypto:$Je,Apps:FJe,Calendar:VJe,New:UJe,Chat:BJe,Ecommerce:zJe,Products:WJe,"Product Detail":"Dettagli del prodotto",Customers:GJe,Cart:HJe,Checkout:qJe,Shops:YJe,"Add Product":"Aggiungi prodotto",Wallet:KJe,"Buy/Sell":"Comprare vendere",Exchange:JJe,Lending:QJe,Blog:ZJe,Job:XJe,"File Manager":"File Manager","Blog List":"Elenco blog","Blog Grid":"Blog Grid","Blog Details":"Dettagli del blog",Jobs:eQe,"Job List":"Elenco dei lavori","Job Grid":"Griglia di lavoro","Apply Job":"Applica lavoro","Job Details":"Dettagli di lavoro","Jobs Categories":"Categorie di lavoro",Candidate:tQe,List:nQe,Overview:rQe,Template:sQe,"Basic Action":"Azione di base","Alert Email":"Email di avviso","Billing Email":"Email di fatturazione","Login 2":"Accedi 2","Register 2":"Registrati 2","Recover Password":"Recupera la password","Recover Password 2":"Recupera password 2","Lock Screen 2":"Schermata di blocco 2","Confirm Mail":"Conferma posta","Confirm Mail 2":"Conferma posta 2","Email verification":"Verifica email","Email verification 2":"Verifica email 2","Two step verification":"Verifica in due passaggi","Two step verification 2":"Verifica in due passaggi 2",Orders:iQe,"KYC Application":"Applicazione KYC","ICO Landing":"Atterraggio ICO",Email:aQe,"Read Email":"Leggi l'email",Inbox:oQe,Invoices:lQe,"Invoice List":"Elenco fatture","Invoice Detail":"Dettaglio fattura",Projects:cQe,"Projects Grid":"Griglia dei progetti","Projects List":"Elenco dei progetti","Project Overview":"Panoramica del progetto","Create New":"Creare nuovo",Tasks:uQe,"Task List":"Elenco delle attivit","Kanban Board":"Kanban Board","Create Task":"Crea attivit",Contacts:dQe,"User Grid":"Griglia utente","User List":"lista degli utenti",Profile:hQe,Authentication:fQe,Login:mQe,Register:pQe,"Forget Password":"Dimenticare la password",Utility:gQe,"Starter Page":"Pagina iniziale",Maintenance:yQe,"Coming Soon":"Prossimamente",Timeline:vQe,FAQs:bQe,Pricing:_Qe,"Error 404":"Errore 404","Error 500":"Errore 500",Components:wQe,"UI Elements":"Elementi dell'interfaccia utente",Alerts:xQe,Buttons:EQe,Cards:SQe,Carousel:jQe,Dropdowns:TQe,Grid:CQe,Images:AQe,Lightbox:NQe,Placeholders:IQe,OffCanvas:kQe,Toasts:OQe,Modals:RQe,"Range Slider":"Cursore gamma","Session Timeout":"Timeout della sessione","Progress Bars":"Indicatori di stato","Sweet-Alert":"Sweet-Alert","Tabs & Accordions":"Schede e fisarmoniche",Typography:PQe,Video:DQe,General:LQe,Colors:MQe,Rating:$Qe,Notifications:FQe,"Image Cropper":"Image Cropper",Forms:VQe,"Form Elements":"Elementi della forma","Form Validation":"Convalida del modulo","Form Advanced":"Modulo avanzato","Form Layouts":"Layout del modulo","Form Editors":"Redattori di moduli","Form File Upload":"Caricamento file modulo","Form Xeditable":"Modulo Xeditable","Form Repeater":"Ripetitore di moduli","Form Wizard":"Procedura guidata modulo","Form Mask":"Maschera di forma",Tables:UQe,"Basic Tables":"Tabelle di base","Data Tables":"Tabelle dati","Responsive Table":"Tabella reattiva","Editable Table":"Tabella modificabile",Charts:BQe,"Apex charts":"Grafici apicali","Chartist Chart":"Chart Chartist","Chartjs Chart":"Grafico di Chartjs","E Chart":"E Chart","Sparkline Chart":"Grafico sparkline","Toast UI Chart":"Grafico dell'interfaccia utente di Toast",Icons:zQe,Boxicons:WQe,"Material Design":"Design materiale",Dripicons:GQe,"Font awesome":"Carattere fantastico",Maps:HQe,"Google Maps":"Google Maps","Vector Maps":"Mappe vettoriali","Level 1.1":"Livello 1.1","Multi Level":"Multi livello","Level 1.2":"Livello 1.2","Level 2.1":"Livello 2.1","Level 2.2":"Livello 2.2","My Wallet":"Il mio portafoglio",Settings:qQe,"Lock screen":"Blocca schermo",Logout:YQe,"View all":"Mostra tutto","Your order is placed":"Il tuo ordine  stato effettuato","If several languages coalesce the grammar":"Se diverse lingue fondono la grammatica","3 min ago":"3 min fa","It will seem like simplified English":"Sembrer un inglese semplificato","1 hours ago":"1 ora fa","Your item is shipped":"Il tuo articolo viene spedito","As a skeptical Cambridge friend of mine occidental":"Come un mio scettico amico di Cambridge occidentale","UI Components":"Componenti dell'interfaccia utente",Applications:KQe,"Extra Pages":"Pagine extra","Horizontal layout":"Layout orizzontale","Light Sidebar":"Barra laterale leggera","Compact Sidebar":"Barra laterale compatta"},QQe="",ZQe="Menu",XQe="",eZe=" ",tZe=" ",nZe="",rZe="-",sZe="",iZe="Nuova",aZe="",oZe="",lZe=" ",cZe="",uZe="",dZe="",hZe="",fZe=", ",mZe="",pZe="",gZe="",yZe="",vZe="",bZe="",_Ze="",wZe="",xZe="",EZe="",SZe="",jZe=" ",TZe="",CZe="-",AZe="",NZe="",IZe="",kZe="",OZe="",RZe="",PZe="",DZe="",LZe=" ",MZe=" ",$Ze="  ",FZe="",VZe="",UZe="",BZe="",zZe="",WZe="",GZe="Dropdowns",HZe="",qZe="",YZe="Lightbox",KZe="",JZe="OffCanvas",QZe="",ZZe="",XZe="",eXe="",tXe="",nXe="",rXe="",sXe="",iXe="",aXe="",oXe="",lXe="",cXe="",uXe="Dripicons",dXe="",hXe="",fXe="",mXe="",pXe={"Mega Menu":" ",Search:QQe,Menu:ZQe,Dashboards:XQe,Dashboard:eZe,Default:tZe,Saas:nZe,Crypto:rZe,Apps:sZe,New:iZe,Calendar:aZe,Chat:oZe,Ecommerce:lZe,Products:cZe,"Product Detail":"  ",Orders:uZe,Customers:dZe,Cart:hZe,Checkout:fZe,Shops:mZe,"Add Product":" ",Blog:pZe,Job:gZe,"File Manager":" ","Blog List":" ","Blog Grid":" ","Blog Details":" ",Jobs:yZe,"Job List":" ","Job Grid":" ","Apply Job":" ","Job Details":" ","Jobs Categories":" ",Candidate:vZe,List:bZe,Overview:_Ze,Templates:wZe,"Basic Action":" ","Alert Email":"   ","Billing Email":"    ","Login 2":" 2","Register 2":" 2","Recover Password":" ","Recover Password 2":"  2","Lock Screen 2":"  2","Confirm Mail":" ","Confirm Mail 2":"  2","Email verification":"   ","Email verification 2":"    2","Two step verification":" ","Two step verification 2":"  2",Wallet:xZe,"Buy/Sell":" ",Exchange:EZe,Lending:SZe,"KYC Application":" KYC","ICO Landing":"ICO Landing",Email:jZe,"Read Email":"  ",Inbox:TZe,Invoices:CZe,"Invoice List":" ","Invoice Detail":" ",Projects:AZe,"Projects Grid":" ","Projects List":" ","Project Overview":" ","Create New":" ",Tasks:NZe,"Task List":" ","Kanban Board":" ","Create Task":" ",Contacts:IZe,"User Grid":" ","User List":" ",Profile:kZe,Authentication:OZe,Login:RZe,Register:PZe,"Forget Password":" ",Utility:DZe,"Starter Page":" ",Maintenance:LZe,"Coming Soon":" ",Timeline:MZe,FAQs:$Ze,Pricing:FZe,"Error 404":" 404","Error 500":" 500",Components:VZe,"UI Elements":"  ",Alerts:UZe,Buttons:BZe,Cards:zZe,Carousel:WZe,Dropdowns:GZe,Grid:HZe,Images:qZe,Lightbox:YZe,Placeholders:KZe,OffCanvas:JZe,Toasts:QZe,Modals:ZZe,"Range Slider":" ","Session Timeout":"- ","Progress Bars":" ","Sweet-Alert":"Sweet-","Tabs & Accordions":"  ",Typography:XZe,Video:eXe,General:tXe,Colors:nXe,Rating:rXe,Notifications:sXe,"Image Cropper":" ",Forms:iXe,"Form Elements":" ","Form Validation":" ","Form Advanced":" Advanced","Form Editors":" ","Form File Upload":"  ","Form Layouts":" ","Form Xeditable":" Xeditable","Form Repeater":" ","Form Wizard":" ","Form Mask":" ",Tables:aXe,"Basic Tables":" ","Data Tables":" ","Responsive Table":" ","Editable Table":" ",Charts:oXe,"Apex charts":" ","Chartist Chart":" ","Chartjs Chart":" Chartjs","E Chart":" ","Sparkline Chart":"Sparkline Chart","Toast UI Chart":" ",Icons:lXe,Boxicons:cXe,"Material Design":" ",Dripicons:uXe,"Font awesome":" ",Maps:dXe,"Google Maps":" ","Vector Maps":" ","Level 1.1":" 1.1","Multi Level":"","Level 1.2":" 1.2","Level 2.1":" 2.1","Level 2.2":" 2.2","My Wallet":" ",Settings:hXe,"Lock screen":" ",Logout:fXe,"View all":" ","Your order is placed":"  ","If several languages coalesce the grammar":"    ","3 min ago":"3 . ","It will seem like simplified English":"     ","1 hours ago":"1  ","Your item is shipped":"  ","As a skeptical Cambridge friend of mine occidental":"      ","UI Components":"UI ",Applications:mXe,"Extra Pages":" ","Horizontal layout":" ","Light Sidebar":"  ","Compact Sidebar":"  "},gXe="Buscar",yXe="Men",vXe="Cuadros de mando",bXe="Tablero",_Xe="Defecto",wXe="Saas",xXe="Cripto",EXe="Aplicaciones",SXe="Calendario",jXe="Nuova",TXe="Charla",CXe="Productos",AXe="Comercio electrnico",NXe="Pedidos",IXe="Clientes",kXe="Carro",OXe="Revisa",RXe="Tiendas",PXe="Billetera",DXe="Blog",LXe="Modelo",MXe="Intercambiar",$Xe="Prstamo",FXe="Correo electrnico",VXe="Bandeja de entrada",UXe="Facturas",BXe="progetti",zXe="Compiti",WXe="Contatti",GXe="Proyectos",HXe="Autenticacin",qXe="Iniciar sesin",YXe="Registrarse",KXe="Utilidad",JXe="Mantenimiento",QXe="Cronograma",ZXe="Preguntas frecuentes",XXe="Precios",eet="Componentes",tet="Alertas",net="Botones",ret="Tarjetas",set="Carrusel",iet="Listas deplegables",aet="Cuadrcula",oet="Imgenes",cet="Modals",uet="Caja ligera",det="Tipografa",het="Vdeo",fet="General",met="Colores",pet="Clasificacin",get="Notificaciones",yet="Formas",vet="Mesas",bet="Grficos",_et="conos",wet="Boxicones",xet="Dripicons",Eet="Mapas",jet="Configuraciones",Tet="Cerrar sesin",Cet="Aplicaciones",Aet={"Mega Menu":"Mega men",Search:gXe,Menu:yXe,Dashboards:vXe,Dashboard:bXe,Default:_Xe,Saas:wXe,Crypto:xXe,Apps:EXe,Calendar:SXe,New:jXe,Chat:TXe,Products:CXe,Ecommerce:AXe,"Product Detail":"Detalle del producto",Orders:NXe,Customers:IXe,Cart:kXe,Checkout:OXe,Shops:RXe,"Add Product":"Aadir Producto",Wallet:PXe,"Buy/Sell":"Compra venta",Blog:DXe,"File Manager":"Administradora de archivos","Blog List":"Lista de blogs","Blog Grid":"Blog Grid","Blog Details":"Detalles del blog",Templates:LXe,"Basic Action":"Accin bsica","Alert Email":"Correo electrnico de alerta","Billing Email":"Correo Electrnico de Facturas","Login 2":"Login 2","Register 2":"Iniciar sesin 2","Recover Password":"Recuperar contrasea","Recover Password 2":"Recuperar contrasea 2","Lock Screen 2":"Bloquear pantalla 2","Confirm Mail":"Confirmar correo","Confirm Mail 2":"Confirmar correo 2","Email verification":"Verificacion de email","Email verification 2":"Verificacion de email 2","Two step verification":"Verificacin de dos pasos","Two step verification 2":"Verificacin de dos pasos 2",Exchange:MXe,Lending:$Xe,"KYC Application":"Solicitud KYC","ICO Landing":"Aterrizaje ICO",Email:FXe,"Read Email":"Leer el correo electrnico",Inbox:VXe,Invoices:UXe,"Invoice List":"Lista de facturas","Invoice Detail":"Detalle de factura",Projects:BXe,"Projects Grid":"Griglia dei progetti","Projects List":"Elenco dei progetti","Project Overview":"Panoramica del progetto","Create New":"Creare nuovo",Tasks:zXe,"Task List":"Elenco delle attivit","Create Task":"Crea attivit",Contacts:WXe,"User Grid":"Griglia utente","User List":"lista degli utenti",Profile:GXe,Authentication:HXe,Login:qXe,Register:YXe,"Forget Password":"Contrasea olvidada",Utility:KXe,"Starter Page":"Pgina de inicio",Maintenance:JXe,"Coming Soon":"Prximamente",Timeline:QXe,FAQs:ZXe,Pricing:XXe,"Error 404":"error 404","Error 500":"Error 500",Components:eet,"UI Elements":"Elementos de la IU",Alerts:tet,Buttons:net,Cards:ret,Carousel:set,Dropdowns:iet,Grid:aet,Images:oet,Modals:cet,Lightbox:uet,"Range Slider":"Control deslizante de rango","Session Timeout":"Hora de trmino de la sesin","Progress Bars":"Barras de progreso","Sweet-Alert":"Alerta dulce","Tabs & Accordions":"Pestaas y acordeones",Typography:det,Video:het,General:fet,Colors:met,Rating:pet,Notifications:get,"Image Cropper":"Recortador de imagen",Forms:yet,"Form Elements":"Elementos de formulario","Form Validation":"Validacin de formulario","Form Advanced":"Formulario avanzado","Form Editors":"Editores de formularios","Form Layouts":"Diseos de formulario","Form File Upload":"Subir archivo de formulario","Form Xeditable":"Formulario Xeditable","Form Repeater":"Repetidor de forma","Form Wizard":"Asistente de formulario","Form Mask":"Mscara de forma",Tables:vet,"Basic Tables":"Tablas Bsicas","Data Tables":"Tablas de datos","Responsive Table":"Mesa receptiva","Editable Table":"Tabla editable",Charts:bet,"Apex charts":"Tablas de Apex","Chartist Chart":"Grfico Chartist","Chartjs Chart":"Grfico de Chartjs","E Chart":"Grfico E","Sparkline Chart":"Grfico de minigrfico","Toast UI Chart":"Toast UI Chart",Icons:_et,Boxicons:wet,"Material Design":"Diseo de materiales",Dripicons:xet,"Font awesome":"Font awesome",Maps:Eet,"Google Maps":"mapas de Google","Vector Maps":"Mapas vectoriales","Level 1.1":"Nivel 1.1","Multi Level":"Multi nivel","Level 1.2":"Nivel 1.2","Level 2.1":"Nivel 2.1","Level 2.2":"Nivel 2.2","My Wallet":"Mi billetera",Settings:jet,"Lock screen":"Bloquear pantalla",Logout:Tet,"View all":"Ver todo","Your order is placed":"Su pedido es realizado","If several languages coalesce the grammar":"Si varios idiomas fusionan la gramtica","3 min ago":"Hace 3 minutos","It will seem like simplified English":"Parecer un ingls simplificado","1 hours ago":"Hace 1 hora","Your item is shipped":"Su artculo es enviado","As a skeptical Cambridge friend of mine occidental":"Como escptico amigo mio de Cambridge occidental","UI Components":"Componentes de la IU",Applications:Cet,"Extra Pages":"Pginas extra","Horizontal layout":"Diseo horizontal","Light Sidebar":"Barra lateral ligera","Compact Sidebar":"Barra lateral compacta"},Net="Search",Iet="Menu",ket="Dashboards",Oet="Dashboard",Ret="Default",Pet="Saas",Det="Crypto",Let="Apps",Met="Calendar",$et="New",Fet="Chat",Vet="Ecommerce",Uet="Products",Bet="Orders",zet="Customers",Wet="Cart",Get="Checkout",Het="Shops",qet="Wallet",Yet="Exchange",Ket="Lending",Jet="Email",Qet="Inbox",Zet="Invoices",Xet="Projects",ett="Tasks",ttt="Blog",ntt="Templates",rtt="Contacts",stt="Profile",itt="Authentication",att="Login",ott="Register",ltt="Utility",ctt="Maintenance",utt="Timeline",dtt="FAQs",htt="Pricing",ftt="Components",mtt="Alerts",ptt="Buttons",gtt="Cards",ytt="Carousel",vtt="Dropdowns",btt="Grid",_tt="Images",wtt="Lightbox",xtt="Modals",Ett="Typography",Stt="Video",jtt="General",Ttt="Colors",Ctt="Rating",Att="Notifications",Ntt="Forms",Itt="Tables",ktt="Charts",Ott="Icons",Rtt="Boxicons",Ptt="Dripicons",Dtt="Maps",Ltt="Settings",Mtt="Logout",$tt="Applications",Ftt={"Mega Menu":"Mega Menu",Search:Net,Menu:Iet,Dashboards:ket,Dashboard:Oet,Default:Ret,Saas:Pet,Crypto:Det,Apps:Let,Calendar:Met,New:$et,Chat:Fet,Ecommerce:Vet,Products:Uet,"Product Detail":"Product Detail",Orders:Bet,Customers:zet,Cart:Wet,Checkout:Get,Shops:Het,"Add Product":"Add Product",Wallet:qet,"Buy/Sell":"Buy/Sell",Exchange:Yet,Lending:Ket,"KYC Application":"KYC Application","ICO Landing":"ICO Landing",Email:Jet,Inbox:Qet,"Read Email":"Read Email",Invoices:Zet,"Invoice List":"Invoice List","Invoice Detail":"Invoice Detail",Projects:Xet,"Projects Grid":"Projects Grid","Projects List":"Projects List","Project Overview":"Project Overview","Create New":"Create New",Tasks:ett,"Task List":"Task List",Blog:ttt,"File Manager":"File Manager","Blog List":"Blog List","Blog Grid":"Blog Grid","Blog Details":"Blog Details",Templates:ntt,"Basic Action":"Basic Action","Alert Email":"Alert Email","Billing Email":"Billing Email","Login 2":"Login 2","Register 2":"Register 2","Recover Password":"Recover Password","Recover Password 2":"Recover Password 2","Lock Screen 2":"Lock Screen 2","Confirm Mail":"Confirm Mail","Confirm Mail 2":"Confirm Mail 2","Email verification":"Email verification","Email verification 2":"Email verification 2","Two step verification":"Two Step verification","Two step verification 2":"Two Step verification 2","Create Task":",Create Task",Contacts:rtt,"User Grid":"User Grid","User List":"User List",Profile:stt,Authentication:itt,Login:att,Register:ott,"Forget Password":"Forget Password",Utility:ltt,"Starter Page":"Starter Page",Maintenance:ctt,"Coming Soon":"Coming Soon",Timeline:utt,FAQs:dtt,Pricing:htt,"Error 404":"Error 404","Error 500":"Error 500",Components:ftt,"UI Elements":"UI Elements",Alerts:mtt,Buttons:ptt,Cards:gtt,Carousel:ytt,Dropdowns:vtt,Grid:btt,Images:_tt,Lightbox:wtt,Modals:xtt,"Range Slider":"Range Slider","Session Timeout":"Session Timeout","Progress Bars":"Progress Bars","Sweet-Alert":"Sweet-Alert","Tabs & Accordions":"Tabs & Accordions",Typography:Ett,Video:Stt,General:jtt,Colors:Ttt,Rating:Ctt,Notifications:Att,"Image Cropper":"Image Cropper",Forms:Ntt,"Form Elements":"Form Elements","Form Validation":"Form Validation","Form Layouts":"Form Layouts","Form Advanced":"Form Advanced","Form Editors":"Form Editors","Form File Upload":"Form File Upload","Form Xeditable":"Form Xeditable","Form Repeater":"Form Repeater","Form Wizard":"Form Wizard","Form Mask":"Form Mask",Tables:Itt,"Basic Tables":"Basic Tables","Data Tables":"Data Tables","Responsive Table":"Responsive Table","Editable Table":"Editable Table",Charts:ktt,"Apex charts":"Apex charts","Chartist Chart":"Chartist Chart","Chartjs Chart":"Chartjs Chart","E Chart":"E Chart","Sparkline Chart":"Sparkline Chart","Toast UI Chart":"Toast UI Chart",Icons:Ott,Boxicons:Rtt,"Material Design":"Material Design",Dripicons:Ptt,"Font awesome":"Font awesome",Maps:Dtt,"Google Maps":"Google Maps","Vector Maps":"Vector Maps","Level 1.1":"Level 1.1","Multi Level":"Multi Level","Level 1.2":"Level 1.2","Level 2.1":"Level 2.1","Level 2.2":"Level 2.2","My Wallet":"My Wallet",Settings:Ltt,"Lock screen":"Lock screen","View all":"View all",Logout:Mtt,"Your order is placed":"Your order is placed","It will seem like simplified English":"It will seem like simplified English","Your item is shipped":"Your item is shipped","If several languages coalesce the grammar":"If several languages coalesce the grammar","3 min ago":"3 min ago","As a skeptical Cambridge friend of mine occidental":"As a skeptical Cambridge friend of mine occidental","1 hours ago":"1 hours ago","UI Components":"UI Components",Applications:$tt,"Extra Pages":"Extra Pages","Horizontal layout":"Horizontal layout","Light Sidebar":"Light Sidebar","Compact Sidebar":"Compact Sidebar"},Vtt={fa:{translation:hKe},gr:{translation:kJe},it:{translation:JQe},rs:{translation:pXe},sp:{translation:Aet},eng:{translation:Ftt}},Utt=localStorage.getItem("I18N_LANGUAGE");Utt||localStorage.setItem("I18N_LANGUAGE","fa");ga.use(Ese).use(r7e).init({resources:Vtt,lng:localStorage.getItem("I18N_LANGUAGE")||"fa",fallbackLng:"fa",keySeparator:!1,interpolation:{escapeValue:!1}});const Btt="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAQEBAQEBAQEBAQGBgUGBggHBwcHCAwJCQkJCQwTDA4MDA4MExEUEA8QFBEeFxUVFx4iHRsdIiolJSo0MjRERFz/2wBDAQQEBAQEBAQEBAQGBgUGBggHBwcHCAwJCQkJCQwTDA4MDA4MExEUEA8QFBEeFxUVFx4iHRsdIiolJSo0MjRERFz/wAARCAAqAEADASIAAhEBAxEB/8QAGwAAAgIDAQAAAAAAAAAAAAAAAAcDBgEEBQj/xAA1EAABAgIHBwIFAwUAAAAAAAABAgQAAwUGBxESFlYTFBVRk6HTMVciI5GS0hdBYiElRVKC/8QAGgEAAgMBAQAAAAAAAAAAAAAAAAYBBQcDBP/EADERAAAEAwMKBQUAAAAAAAAAAAABAgMEBRESIZETFBUWUVRWkpPSBjIzZoExQVNk0f/aAAwDAQACEQMRAD8AoRouTPo5m9mKnNJ0yS7nrcOydi8VLWAJbYpQSV88X7x0zV9nxZcnc6RwCcuVwr/KACRtNqRgw4L+0RtEhtQzadMG6hwwfoTOegOJLoiYkYGyMB2MwemOO0W39wNF7k62ofTF8Mxp4okbpftN6wXGX++CNHU4ojWRKOlFl8VFeK23oNotqsrcmbj3A7/JxFoz3kkLQ6vReFD+MWWqNDUPx+r8mlHDpk0cSX22fkjd5+xKwhTclIOH+lxjUbqQuXIfCdLmIbIohK3siQENGhxH4XkjB89Q/wBo6lW10QxrDVt/TlFOXFGzUUkpSpaxu7n4lpC20v5eySk+qY8UzWapfHktRWci5W15fTreLCUm4U0lxtG7lM5as5EiNytovJauqHXlazfWk76p/CDK1m+tJ31T+EGYbK9KPPtHlgzDZXpR59o8sZRRjZCYrG1VnXuTkhAZWs31pO+qfwjKas2cJIUmuk4KBvBBSCCP+IxmGyvSjz7R5YMw2V6UefaPLBRj9TFYKzo7j1k5IQI9FS6/MWqGrGpdJSXCpLhs8nYDOTPlzFAgJSQQjliTG2aqVzLhUn9P6T4Nty4Sw+PGJhlbPFt8OP8AlHpHglrOp2HbwwcEtZ1Ow7eGHHWmIP6y06/P9GZaswnEkr6jnYPNMuq9ooSifOqdSUykWwaJYuRKwiQlqSQlSAnDNv5qixVQoGu9DViomnBUN4HTdDsuVzQrZz1uMVygj0Rdf6CHpwS1nU7Dt4YOCWs6nYdvDHJ/xJEPsvM6PUjKINFpJXlUqbR2h/DsEw+y8ufyp1KFpUaFuu2VU+x0QIs0V90IjprgzRX3QiOmuJeCWs6nYdvDBwS1nU7Dt4YW6vbYrlQGazKPbvXihFmivuhEdNcGaK+6ER01xLwS1nU7Dt4YOCWs6nYdvDBV7bFcqAWZR7d68UK1lep3uIrrIgyvU73EV1kQqXqEIeukIQAkTZgAAuAuMa1w5RW5w3uyMVB/TI5goiPWOLvL8THYG/lep3uIrrIgyvU73EV1kQoLhyguHKDOW92RioToGYcRxfSY7A38r1O9xFdZEGV6ne4iusiFBcOUFw5QZy3uyMVA0DMOI4vpMdgb+V6ne4iusiDK9TvcRXWRCguHKNlkhC3rVC0ApM2WCCLwbzBnDe7IxUIVI5glJnrHF3FX0mOwf//Z",ztt="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAQEBAQEBAQEBAQGBgUGBggHBwcHCAwJCQkJCQwTDA4MDA4MExEUEA8QFBEeFxUVFx4iHRsdIiolJSo0MjRERFz/2wBDAQQEBAQEBAQEBAQGBgUGBggHBwcHCAwJCQkJCQwTDA4MDA4MExEUEA8QFBEeFxUVFx4iHRsdIiolJSo0MjRERFz/wAARCAAqAEADASIAAhEBAxEB/8QAGgAAAwEBAQEAAAAAAAAAAAAAAAUIBgQBAv/EACkQAAIBAgQFBAMBAAAAAAAAAAECAwAEBQYREhUWVZTRExRRUiIxQXH/xAAaAQACAwEBAAAAAAAAAAAAAAAABgEDBwQC/8QAKREAAgEDAgUDBQEAAAAAAAAAAQIDAAQRIVQFEhMUkhWRkwYWNFNxgf/aAAwDAQACEQMRAD8AyzSSSMWZ2ZmbVmJJJJ/przc32aq04BgXRrDtk8V8PguW4Y5JrrDcNggiR3eR7eMKqqNST+NZfH9WxSukcdhKzuQqgMNSa2b1+ID8Z/epO3N9mo3N9mqlbC7yLiF/Lh8WHwRS+pshe5w4QpK2u3buK/idw0Aan/AMC6NYdsniui6+omsigueHSLzZ5SJFIOP5Xo8dVTyvZyqcA4bTQ/0VJe5vs1G5vs1VpwDAujWHbJ4o4BgXRrDtk8VyfeFvspPIVHr8W3f3qS9zfZq9WSSNgyuysraqwJBBH9FVnwDAujWHbJ4o4BgXRrDtk8UfeFvspPIUevRbZ/enFYLMM/D0ZbLD8QtPd3UbX07e3kUxsCm5VjaRwGAGm5K3tZWe1fFbO4w9cCTCgzBzcL6Tes4kDEuI2JJPyaW+ENbIl7JcdPRY+UO4U5LjUAnXFLkcqxTwBwSjNhsAkf7iluRsTytMbuC6ksPd2uIMDLd7bZxbFQFKkiMFtQdRWlshavcXN9Dhl5BLcNtmmlkt2icwnaoURO5BA+wFZmfIqJbotpiVuXnhMd0TAwOpZ9HTQjcdH0/KtLbPuugnLiWuxHT32sReZQw2hthLf5rTJxm74XcWkkNrFbo8VmoEglQu7FkY5xy5Oh0ql2w5m7h5WmkcEBHVUQEkDBNOKKKKQKsooooooqT+aMx9cv8AuH80c0Zj65f9w/mubEY40v75ERVVbiVVAGgAB/Qrl2r8Cto7S120PxrT6IoSAehH4LTPmjMfXL/uH80c0Zj65f8AcP5pZtX4FG1fgUdpa7aH41qejD+mPwWmfNGY+uX/AHD+aOaMx9cv+4fzSzavwKNq/Ao7S120PxrR0Yf0x+C0z5ozH1y/7h/NHNGY+uX/AHD+aWbV+BXVh0cb39ijorK1xErAjUEE/o0dna7aH41qDFCBnoR+C1//2Q==",Wtt="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAQEBAQEBAQEBAQGBgUGBggHBwcHCAwJCQkJCQwTDA4MDA4MExEUEA8QFBEeFxUVFx4iHRsdIiolJSo0MjRERFz/2wBDAQQEBAQEBAQEBAQGBgUGBggHBwcHCAwJCQkJCQwTDA4MDA4MExEUEA8QFBEeFxUVFx4iHRsdIiolJSo0MjRERFz/wAARCAAqAEADASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAcCBQH/xAAlEAABAgILAQEAAAAAAAAAAAABAAIDUQUREhYXVFWjpNLiITL/xAAYAQEBAQEBAAAAAAAAAAAAAAAABwEDBf/EACURAAACCQUBAQAAAAAAAAAAAAABAgMEBREVVKPRFBZVkpTSUf/aAAwDAQACEQMRAD8AiL4sWI98SJFe57nEucSSST9JJK8tOmV3bs03kdyH2S7NN5Hch9l31bLVKe5D1JA/eEb/ADLMDhWnTKWnTK7t2abyO5D7Jdmm8juQ+yaxlqlPcgkD94Rv8yzA4Vp0ylp0yu7dmm8juQ+yXZpvI7kPsmsZapT3IJA/eEb/ADLMDhWnTK9ZFiw3siQ4r2va4FrgSCCPoIIXcuzTeR3IfZLs03kdyH2TVstUp7kEgfvCN/mWYFWRVjC8a5xfaYXjXOL7UunzqqraeBft0uKutLPkSdFWMLxrnF9pheNc4vtJ86qq2ngN0uKutLPkSdFWMLxrnF9pheNc4vtJ86qq2ngN0uKutLPkSdFWMLxrnF9pheNc4vtJ86qq2ngN0uKutLPkVpFt/wC3iRSoSU5SRgZlER+Iwi3UJJUJLIBEYRbqEkqEkgERhFuoSRn7YJlaSMTIv0wiP//Z",Gtt="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAQEBAQEBAQEBAQGBgUGBggHBwcHCAwJCQkJCQwTDA4MDA4MExEUEA8QFBEeFxUVFx4iHRsdIiolJSo0MjRERFz/2wBDAQQEBAQEBAQEBAQGBgUGBggHBwcHCAwJCQkJCQwTDA4MDA4MExEUEA8QFBEeFxUVFx4iHRsdIiolJSo0MjRERFz/wAARCAAqAEADASIAAhEBAxEB/8QAGwAAAgIDAQAAAAAAAAAAAAAAAAgCBwEDBAX/xAAjEAACAQMEAgMBAAAAAAAAAAABAgADBzYEEXSxUbISIUQW/8QAFwEBAQEBAAAAAAAAAAAAAAAABwYFCP/EACcRAAIAAgkEAwAAAAAAAAAAAAABAgMEBQYHETM0dII1NrHBEiEx/9oADAMBAAIRAxEAPwD1mdmYu7sWLbkk7kkyO58yMJzKT5ZtqSf6at9/gre6xi4ulqcmrcCr7rGLjRYXoS3Ez0atDyeTCLPdnKl+/wAVLtozEWa7OVrwqPbShrPTc4RGu77he1m+UVlufMyrupDK5UqdwQdiCJiEnh2aT+mjuhCEFzi4s21OTVuBV91jFxdLU5NW4FX3WMXGiwnQluJno1aFk8mEWa7OVrwqPbRmYs12crXhUe2lDWem5wiNd33C9rN8orKEISeHc7oT0NaiJrdWiIFUVXAAGwABmj4r4EGYocG1icWliWpyatwKvusYuLvazJq3Cq+yxiozWF6EtxM9GrQsnkyMWa7OVrwqPbRm4tF18qXhUu2lDWem5wiNd33A9rN8oq6E27DxOnRIj63So6AqatMEEbg7mTw6RR/GFvD8WJ//2Q==",Htt="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAQEBAQEBAQEBAQGBgUGBggHBwcHCAwJCQkJCQwTDA4MDA4MExEUEA8QFBEeFxUVFx4iHRsdIiolJSo0MjRERFz/2wBDAQQEBAQEBAQEBAQGBgUGBggHBwcHCAwJCQkJCQwTDA4MDA4MExEUEA8QFBEeFxUVFx4iHRsdIiolJSo0MjRERFz/wAARCAAqAEADASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAMGBwQI/8QAIxAAAgACCwEAAAAAAAAAAAAAAAECBAcRFhdRVFajpNPiA//EABoBAQACAwEAAAAAAAAAAAAAAAABBgIEBwj/xAAmEQAAAwUJAQEAAAAAAAAAAAAAAQIDBhZUowQRExRSVZPR0hIx/9oADAMBAAIRAxEAPwD3UDLL6qM9S8Oa6xfVRnqXhzXWbeQt0k341dDDERrIamDLL6qM9S8Oa6xfVRnqXhzXWMhbpJvxq6DERrIamDLL6qM9S8Oa6xfVRnqXhzXWMhbpJvxq6DERrIamDLL6qM9S8Oa6xfVRnqXhzXWMhbpJvxq6DERrIeBgXOySz+16Fkln9r0WmLHfn6TXyLBAD27TXY+xTAXOySz+16Fkln9r0Isd+fpNfIQA9u012PsUwFzsks/tehZJZ/a9CLHfn6TXyEAPbtNdj7FMBc7JLP7XoWSWf2vQix35+k18hAD27TXY+xcwd07BBBOzUEECUK+v0SSVSVTOapYHGR6SSv6Iju/SIxECWpYCpYATeIgS1LAVLABeIgS1LA6ZKCCOdlYI4E4X9fmmmq062BCl/KTO78K8f//Z",qtt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP8AAACSCAMAAAC9vOx8AAAAn1BMVEX////aAAAjn0DreHiLzJphunbpZWXkSEjf8eP1vb16xYzfICA/q1jwmpqo2bPkRETx+fP97+/62trG5s7cEREypU3uiIjmVVX4zc3nWlrhMzNPsmbU7NqY0qb++vrgKyu338Bsv4Dzq6tLsGLqcHD74eHjPDzcDQ386en2xMTeGhovpEpYtm7M6dPc8OHgJibvkZH51NTypaXwm5vrdHRHGBp5AAAFQUlEQVR4nO2aa3OiShBApzGACoo8BCQJrInKI+6aZPf//7bbPQMYtlK1nxIv9JyqaIPNwAGmZ6AiDN6IWx/AjdH+vNH+vNH+vNH+vNH+vNH+vNH+vNH+vNH+vNH+vNH+vNH+vNH+vNH+vNH+vNH+vNH+vNH+vNH+vCH/Z3PAy73rPr+YxnDt2TCN89Z93g5Xu+79C/0wyjZa/8f5ADdc3v243xgPg7U/tmL7sH9cn4fJy2XoCmNujrIN4/P7v93mL67bDGj3O9Y2yH8tiO2DEGtThmqbDYXYqhBml4HbdBlCXDNwv6Nso/NfYycRW9ddr82567o/222wU92FhutiqypD7ldlvLhml6H2O8Y2Ov/H83orfobhHM9ZGLrhr/nmAbe5v9svN2EY4jmbh5Sx+YUZc4MywpAyHkLM+CkoY4xttP7ne3dvLInzFj9eTBkby635/CzD7Xm57DMw6DOWyz5jjG20/uZdh+n24Z1xDd2JZpD/fr8PRUf42Ieb/aaPHyeage5Co9FoNJrvpcrbIK9uehy3op4J4Vu+ELP61odyE/ymSJqmSYom/3fyFElPza7eNaf01gfy/VSB+n7P3lUQcKoBqX3I30h4BhfAKiCqNLdsLrdBbsFBpDGFO2hgR0GcigNYLOpAVUAi/Iu833cQKX//4gsbCgadoLqA4wtLWqN/CW1kCd+By+RPQH4CWIga/4gdQOu/gBr/4DT1LjADsIWwS+V59c/LBFeDrIYT5lgCpCKAk1q8+osTBCIFKI+3O7hv4ACkHoOlFj/4W4AjQgY4NEyYPAJ4FcKDWC1/8J+BJ8QrwKQnwzX6BtjX6SQQH/xfAWtCgMtTfhiKASIsAvCJP/6Egx/eH/HtDu/LsYDu8hQ+uf/R/416RlcaJkkidRe9JJ6PD2EtT0hyu8P7chJZ39+gG/9wOOgK/kle/8O0/S2pWwG08x+cDbUzHqyJ1P8P077/Y6lHrotuuS0FC1kZ6QRNuf7Vsv7RPFddZRzv26HAUje+N+3xD+c/jZDapU/LK/T/TUFVqhPRQDTl+Y/4A3CUBUB1+3cM5AswLARlJWcGf257gF8MPv+shLzbS3oD+IT+T2q17BGrqT//qGk+jYDyG6uerITY7Wn0uz4YTJacnnPVwBer54FaDQPUH96m//5DVBea8OaZ7Pk4E4ZUVoGMxHfTf/+FJyCjF91HB6VX9LwX/MYPh7p9mjHQx2v/Ttc6aGjuDyVYnX7+6t/60L6TI874cRigD2/iRf9z8ljKQzn1mv85eRoX0r+I08lX/b/I61mGF7/JIIIMC0F5mtXczoHI0dgrPBUw5WizLH1XWA15Go1G838iSZJFv7C4TkX95Fqa44lmoLvACag967CdPjzAoY+diWagO/mfrAGlfSm8aAe7wdoEH1QTJzs1w+TiYpf4QzPKNlr/w2JAs7BmT5kPT4O1q0hEaRKvsmFyYi0cAUdvlG20/pFDQOM4UUlRrbaRaxv6KimjUNvIDKekL5kxU/sdZRut/0pWgygVYuXJUG0jawa2ik8pXQZu02VgVekzcL+jbKPzl/+WQP96sPKO9Ea63SYDsOgNNbaqMuR+VQZAn6H2O8Y2en/7KRJBEPgrLw+CZlFV/pG2ebUsXA5yb+UHlJFXPrVKGUFAGccAM46CMsbYRutfXJoT2EQR4UeZUeiBV2ZOI1dHhW33GRj0GbbdZ4yxjdafM9qfN9qfN9qfN9qfN9qfN9qfN9qfN9qfN9qfN9qfN9qfN9qfN9qfN9qfN9qfN9qfN9qfN9qfN9qfN9z9/wOZ/2Mbq2n5OQAAAABJRU5ErkJggg==",aj={fa:{label:"",flag:qtt},sp:{label:"",flag:ztt},gr:{label:"",flag:Wtt},it:{label:"",flag:Gtt},rs:{label:"",flag:Htt},en:{label:"",flag:Btt}},Ytt=()=>{const[t,e]=C.useState(""),[n,r]=C.useState(!1);C.useEffect(()=>{const o=localStorage.getItem("I18N_LANGUAGE");e(o)},[]);const s=o=>{ga.changeLanguage(o),localStorage.setItem("I18N_LANGUAGE",o),e(o)},i=()=>{r(!n)};return a.jsx(a.Fragment,{children:a.jsxs(Zc,{isOpen:n,toggle:i,className:"d-inline-block",children:[a.jsx(Qd,{className:"btn header-item ",tag:"button",children:a.jsx("img",{src:sj.get(aj,`${t}.flag`),alt:"Skote",height:"16",className:"me-1"})}),a.jsx(Nf,{className:"language-switch dropdown-menu-end",children:sj.map(Object.keys(aj),o=>a.jsxs(nf,{onClick:()=>s(o),className:`notify-item ${t===o?"active":"none"}`,children:[a.jsx("img",{src:sj.get(aj,`${o}.flag`),alt:"Skote",className:"me-1",height:"12"}),a.jsx("span",{className:"align-middle",children:sj.get(aj,`${o}.label`)})]},o))})]})})},Ktt=cN()(Ytt),Jtt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAeCAMAAACR41cYAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAJ/UExURUdwTCEgIB8fHyAfHyAfHyAfHyAfHx8eHiAfHx8eHiAfHyAfHyAfHx8eHiAfH5jU5h8eHiAfHyAfHyAfHx8eHh8eHiAfHyAfIAQBAxgWFiEhISEgIAwCACAgIB0bGi40NhkVFCAfH5za8FBncENVXKTm95vZ8Jza8J7c8R0bGhMTEx0cHCAfHyEgH73//yEgIJ7c8QAAAIfF6TM7PwwJCh4cHHm45SAfHyAfH5za8CAfH5za8Jza8Jza8Jza8CAfH5za8G6VokRVWxIKCJza8JvY7pza8DtITTlFSZ3b8AMHCgAABJza8ElBPDA4PFVLRK3z/zEvLRcXGEVBPTA5PJza8AADB5vZ74XD6QIAAIrJ67T+/4HA6BAIByAfH4zK7IrI6zE4O7D5/yAfHwEAACIgIJza8BUWGAACBhoaGvXLsQ0PEZ/g957c8RATFf/oy1p4hfzRticqLIC+6Jrm///jxiMiIvDEq//Xu/bHq//fxG5eVRgXF////P/z0P/22lNHQv/gv//877H5/xcTEhUOC76cicyolCcjIf/avdivlpvY7mZaUQMHC1lNRfrNsPTJr//o0v/cwf3WuHtnXIshF4VuYvTEqfrcyM+oqOrW1PTm4v716zM7PqHf8v/t1SkpJsD//1RueGebxaPn/IXK/TVIV3OapbmXheK0mNuymv/GrdWZhu/Tx+u7pI54adymkf/658+dlMifn+S1mafq+7uhizYvLeLCufLs7/rk1mNVTf/NrtOskqeHd8aXlXFgVv/kwZU1LNW1neK9tJAuJsCMirJwa+nKv9zFx2CRtVuKronG6naszSUnKUZaZG+TmUFPU3agr3GkxIu8xSfH+3sAAABzdFJOUwD97RwqJTMat/4VL6DlCwmSOh2qV77yhGEIms8njIj9+xEk6wESA6CMcwRtUGQlwnjIs9iu9u3fsS5e3hvwhB66hguP9eJfotdT9nPf4o7mPNW62Kc/5MnTMeRzzcTG3/LkYv////////////////////54WQMpAAACTklEQVQYGXXABVMiYRgA4BdYdhkExa5TR8Xuvu7u7v5g2V06XFGxO7C72+vu7s74Qaczd87sIg/85yeUJMMCsUK+FFzIEEISvwSZxF8iSwpEczyBT4L4xMAXhniE4CIQ8QRgwCMWID458PgipEYag0ZD07TGYHCgOcuBI1GIWA3lqEcOrVbrUNdXUzSLfIHDB7EG7fXGi411tRdq6y7dedrl1KjTgGMNop3PSm+WGO35+fkNHSUlpT0U8geO4ABneUX7w9tXWxmGKXzU/7HyyX2tBLhCVT0vh/q7b7W3MW1Fb169H6p4TIXAP1IRQfiIMV/qRUXl8+4HHUwnY//w9l1lZ7kzHBP7EIRICpg3juMemLd2zGwcHOjrLbjB9PYNDI72sgYc88Bx3BsDQiSN9FQCpFDFxrKyVvO1KwXmwtGy0i4qBUDpGSkVEbDA73D5vYIGo/2y3Vhkfl28PQl4NoQABAdl79vV0lzc3LLnwP4dBPB4rbNkwbwM1byMRHAVk7qe3gIAyWpWIBCwKAgWFTS8dfdBQY5cIMsRsv6wuARLhIU+rUBhKCQgFNwIPrYkTR6uVqjD80LBvWxhIFKgsLxT4IYy9XyWJbo6ujo64tyJvbGwiM1H9OM/kalmosb0bXhct2m1F/DExpG6KZPqxy/Vd9XsrGriro5cEQVcUSSp05s+T0XU/HGM6T6Z9DqSjAcur7Vkk77KNjnzu+rrzKStSt9ErloGfOk7yRGr1Tb9ZdpmtY6QG+NWgivlofTMk2dyz+YeP5oZvy0GFvwFlSbPVswTomsAAAAASUVORK5CYII=",Qtt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAdCAMAAABopjdHAAAAwFBMVEVHcEwAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4Mri5Y4AAAAP3RSTlMAIwhydxy28hIWIc+je6u9P/b9BUziKJcMxKdZAjyMXjfXu8Hm1eou2t0z+rKRRq+A7my6Qp/M34PrU1YPiL7YsJ9AAAABbUlEQVQYGW3Bh3aiQAAF0EedoSMiYu+isdcka7Lv//9qYTib3eR4LwB9b9yilWBtefeN2NFR6h3WJOfeLIqizn3REiQXgdaEMSdb5uiaWTLXc+mOH5+XOSlGaJDJDN+NSJ7QILn0zcegcJ2SpWUvaZcleFROk44d+jf/MF1sWHlHl895OPI5GyM+10bML97US/iXiazB2jIo8uJtzlqSQptQWZ6hxzoMQaU1gGVTCfUsbPnaR0hllkG2WUkCmCQDmFRuEk2TlcSESdJAQCVoAj0q4YfWXrRduaXyC0BKRQRAARwFK5sxAGdL5X0YW/HniUrkomQNWVt11lQ2swFq4+GK/7RsA7XrzkKWGu3Q/h3Z4c7YQw5yVHpiYTpAX1quJZuATKO1hsqLR+H556smc6mNH0c74dZBxbFZEuv77DLtTARLZx2Vvs+f4j6UIX+yUCte+V03R60/PvA/ouvii7N/m742yESsLrtejsofWqVrkBSdwYAAAAAASUVORK5CYII=",Ztt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAA0lBMVEVHcEzEI2HDI2HDI2HEI2HDI2HDI2HEI2HDImHDI2HDI2HDImDDI2HEI2HDI2HDI2HDI2HEI2HDI2HDI2HDI2HDI2HDI2HDI2HDI2HDI2HDI2HEJGLDI2HDI2HDI2HqTInxU5C9HFq7GlnyVJHEI2HpS4jwUY/BIV/tTou3FlTCImDzVZK6GVfUNXPfP32+HVziQ4DaOnjrTYrFJWO/Hl3MLGrKKmjAH17uUI3cPXrXN3XSMnC1FFLoSYf1V5T4WpfPLm3mR4TIKGbQMG7wU5DqS4gW3fYwAAAAH3RSTlMAlnPA0mVNzNyLQuQo7zUfxPFVXWx6pPMCRX/1A3yvLDJKvgAAAk1JREFUGBllwIV2GmkUAOAbIUD8bCrp2v1dx10ZBmbf/5WW0DZtTz/44X518fzwef3pwyP87uZKiJhRSlns1iv41f2Vpk73bdumYVUwff0FfvKS07rUNJz4wrlJwpqJj/Dug2D5vNsHrPUS0Sx+rgqxhW/+EKxsuMpEoKWSiCj5rqTiTzh7EqzkSkof0WBPMkRpfORYIW7hzZrmjZKIGd8HrPUSCe8Cmx7pA5zcOpp4iYhSSRfkxvOxtDacUNeXALBmR45n0reUhSaMh7jlxnfsAeDJ0YRjZoxaiG8OsXBDsB95JtWs9S2s4spz1Rg5R+mxcrWu99Gi8ETt6RYu6qrr92WV18wOVuSFyHYZZojIU/YMVzkdBmstK0QVtpgUQTepE0KmhG5go8uwD8M0SkZD/LQrg7zrj8c+TJO0voMNjSa1ELIoY3jT9rlzwWCtHQZbizu4oinHN7LhyYENTNeHtG3bri+F28AFCwmeyKXpmaWHJAxytVsIX3YpfYZVcTAGUfLxYIND1ExzwVqOJ7ynW3hycUJQ8lnbuGu8yZrSlipDbEanvwCsWe8lH7XViTcSkXc2Hw1Kn7LPrwA3ukimLB/c6PGNSmIaEakyV/wDJ9e08v2gR49nBnPbEeP37K9XOLkX9UHTyP+HXy29LdWuY+4Gzl5EHKQTfsfTIDcp01v46vVSFOXsVYZnZK5FVegLeLcStAjnhpNlIZwkoo7dFn7yuNasLrs2itq0dE5sbuBXL2tHGY1jyqjeXP4Nv3m8/LS+u7v+9+MtvPsfo0R0DDqUOxMAAAAASUVORK5CYII=",Xtt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAhCAMAAABkz+JgAAAAxlBMVEVHcEwAfuYAfuYAfuYAfuYAfecAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuUAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAf+UAfuYAfuYAfuYAfuYAfuYAfuYAfuYAf+YAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuUAfuYAgOcAfuYAfeYAf+YAfuYAfuZXV9ysAAAAQXRSTlMACxEy+QLr/PX+2xgHGh58vjZgQeTHDu1k6RWMKIbTudej4Jipy0cFcPPvL3MkTBNn0HfFVq5Q6LVrOh8GnFk8kkQ6JVUAAAGsSURBVBgZfcEHgppAAAXQjw4Mgi5iD/Yu9o6uW/Lvf6kgiowmm/cQq3y1G0g0hvMKXuTaksESMdei2LhQaWuTIbOQxZW+9xnyJys8NMqCEVHXAYybPiNyOMNNZW3wYWBjVZeMmVsPocVOMiE3bl4yITdpYFSlShyKXZ8qs4ZcmYrSKIvxd4+KzQXQ+oJ31X4OV5VmlXdyYCM0rklGrLSOG/0tz4jcZnGz7JEMnCwS2sQiWSroiHlDnlY6nngDGjMo3tseXun9dyi8jiyn8MzeyamLh31A0ndSSKQmPZJBLYuI7kheZaouYpcWI7KJK+9T8M7sL3CVq5uMHS5ArkOFudeB4pSK0gWjElXiMOoKqn6tgVReMpEZvuUzTMjWBSGt1mMs8zmrp+uCselcw01uJxkRzqXDanouGJFlGw/jQsCQUThaJIPC0WAoOKeg0k6SRnHpM+I0LMrWAs/m6a/urCl4I7ru6ewV8KxtLO0uE3m7OG3j2dmXFlWdKZt44bYEVZlOEX/RagYTxsTGv1S6Pm/MfAM/+CiWeWUds/jZh1Oi8VvDf+mLbVrHsz8x4n90MIcLhQAAAABJRU5ErkJggg==",ent="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAjCAMAAADCMPhoAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAJAUExURUdwTGVPRGVPRHVeUGVPRGVPRGRPRWVPRGVPRGVPRGRQRWVPRWVPRGVPRGVPRGRPRWVPRGVPRGVPRGVPRGVPRGBVUmVPRGVPRGtUR2VPRGVPRGVPRGVPRGVPRGVPRGVPRF9LQ3NZSZ6IdmVPRGNVT3poX2VPRGVPRHlhRl9gZIFnR2VPRJBpTP3rzvTSqxIgNEme1yyDwhUiNY5oTGZQRGlSRfzoyf3qzffbuPXixZpzVfTVsGBMQ/PQqXpbSIRiSnFWRvjlyP///39fSW1URrKUeIhkSkM8Pe/Np4tmSyx8tvrgvv37+ZRtT5ZwUuPDn1VHQ595WnNYR5FqTVKCo2NOQ/vlxdrBpCEpN9y7mPXUrj1IWZV7ZzWKxqqTfunIo/PRq7mafsm/ubipoP338LispLyrmKWNeFtlcPzy55yBa/PNo9e2lCcsOO3AkO7Gm1lZXhUpQi6CvsilgzA8TaeCY0SZ05yDbysuOTExOvbYs/HdwaqHaeDBnc62nGJqeOXQtBspPLKch8ytj/327fjz7sO3r35sWb+yqbOObk5jdmNdXzR7sPHJnfDbvUVujVd1inhxcVJgb7+aeerXvDZ5qo2Aeyg0Rh9PdkhphShzq/fixBxFaRk1UZ97XjpznjZCUzQzO15LQydrnq6Vf829sPnn06GGcIRlTy4+UqCeoPLv7s7Hw+Hd2+zp546UnqCjpc62e7uoayhfiqmRSHWAjlBTROa+T9KxTFKFqe/HTp+XXllwgsW4a5e0njlHS3QagBcAAAArdFJOUwChif0QVMAFATnZ3hjoM8j3bbLSKPesC/SV9JpILoBY8Pz9kf3wgnaT/pqvGFBIAAACu0lEQVQ4y3WU5VsiURTGCZFBxcCu7ebOXBiQRgQBRbBwLbCwde3uWN1Ht7u7w+3u/df23mGYhcf1/fp776k5Z3i8CIklObm8rZWbndr9c+2QmCeOF22P34Tj+Ae/KX79/vHlQObeK+dPViRERWBCtOewQqH48/3rx3cvFmkIYX90RPLMbgVWyef3b/0Qc0hLw3hUwjmGN3741A1Z0bFhPBaHV0w8fP5mGdJI2DCV/Y/HMLzx1r1Fum7qvslkKuqH9A4xlz/67ATiI8P+MXraJA9quiiJC7DthFKJyoP+5TqM1XmWQq9dncZxyZBSqWwsgWN0EcJ5hSqA5eSaJGJOIUMJfRVWIOwCQVWV7UxnDaILiI8M05h7ASg1GEqrQFm9r1bGGmSXkeEahCi+HQCDdYbCMg8MxrCGVMRvQFiH8qPsZ3ynB44wluJww21IV6MCAHAYzYMMpuqbk1kD/7ry7oNqxOX5ACxQ6HlfOXovLE/gxjTkRbFdankhAKP4ce8kpXMbizNEoTkUoNpG51AEFSgzI4Oj13jJMa/R7+IHDfssoNJMNaARokDHWyjKWKMlrVqS1DYJgkW4QMBnRgacA1T21ZAh6RrisEFgAXMa3Roy2F2gcl4TwtqZZmEcW0NVYCmAP6HTUBziGl1LoC24MsRu1B9QMX1e1CGm17h1LStd6683pESw0aSMAm8eM8nxmyT56HFra+vLVx6bzXY0NCyxgFkSFSidJa0rT3ra23t6PDbPuj6LuwnWAGpJsulY++qqx7bR0WntEnFLkYYNFgDGSXK2s62jo61zQe+eD9/rRLxNTgD0bBc1bl+zMCXsMiQ4hN0JHCGHtl64P+L2RNihtqju1FoxXuqSC4jI442XYoe6IP/Z06ZJoTwradN5E/xEOafolP/9INIFyYxHKpNs+RMhUnIk4T+Gv3cNvzi99G5fAAAAAElFTkSuQmCC",tnt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAACplBMVEVHcEz////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////60uX///////////////////////////////9uytzmmQDpqCA+uZHgFWPkkQAWjnjODgjIAQNVwdYarX3XADfcAEj5/f3cAE7L7PN/1e7ppAuw49I2t42G1bjjFnJkyuXsqyX22qE8uJDyn75zzN70qcViegRUgh/ZAT245ddB2aIzACb34LAFgmbMAgpFsrj//vTS7/QVqnr+/PrppxwwvIzvw2Puu1BKvdT+8PXI7OEOqHaS1+XfA15cw9f96r7E6vFcz/pLdARCvZTw+fbfDV9lhhv/ryHpU4zhGmj2vtH7AlgdtIEYDjGm3+oKlG8bk3zrtwmd2+ggl4FSwpoIimozpJrIkgDe9PrPJQB12v/rtiT8//8rpoR/0N6v4/LtwBxSwtvlO3vI6+pgxqVGu9MLp3NzzLC95++Zkxzwibb/GW0bfWb33qvumwD+c6cUACE3ADAvs4k5UVo3EDnvzCxsxK/kfUb96vnSNgD+rBznnh81r4zUEil7ysTpf4H384miwZjWOxfcag395/cPjW714Hn3ynT6nABVvc9gx+D44rVkx9rbWhfkjxzmS4V3ih1Lj03fFV7TDCJmnV5staHhK2njMHNuxc0nn4Jv0e+wVX9dqo3sFmem6P9Eu9JtAC/IvG1Jfhxym1BsgQqh5/9AEjyoAErufqr01pXrsDYoDjQ4Gj0cy47Alw5wLFTuAVp6z7PYJWp43rueFVRmEkb0ZprVAEUgt4QsiG94nZYsIT9Gx5y9/+uQ18Ci3coAom6/ICZyAAAAKXRSTlMAP9pMoGFRR+eup71y+9DzuF0xoyLgFQKyWWadV4P2w5b+kQivDFtcxZCJTt8AAAKlSURBVBgZdcCDU2QBGADwrxXaai/76oTvvbdmNnezbetqsjHZOtu2bdvGf3K1u9NMN9cPFmPzOOtZsBQ6jiX5IxP+z5bjLxKJnprCP+wtGSwAsMJnpB9J4Vq2I8MeFliiZziuBLDBZJKixrNR5eaGxmBgrupNTx9ANoDj2HhxMXn3YZAsJUNlDno8z/4Ar7g0S1sWL4Z6NfQgtNuXIPpyeKC3zFMuEMR5861Vsbfu590LDbnYQpxIcbMDPXqBl1d+Yl1sZ5As90ZIUVHIhdxuWRUagZ4Test3tB+M9s0irl0pCgnNC+3obEIT0FlHw6Zd9WJxZIM7QRC5Z/PODDVmc5wtQIeNg0G+R8XianEt4SvLatnb6Fd85LA1GJjl9GUR7g311eLIaPeq2LaYbR6Uh1+8EVhZrAIA04yUIMI9OlJcu2ETzksiKYrMNuMickwAaDm3ZbJjxNV2QWIdzosgqdaaQwcCT196gubAxsGODDeVd0V+gDwN522s2b5/X6laqVYMcwCYNOQzzMLlAkGcN87ZsnmrRCoN8xGWhpWYwhwrG3AqCJgWJGowNbjERyGNkkh2+hQqFYE0MOC/f6kJGL0+olRmnpNIJNIodWZPMNJBh+7KDx+deTF5p1woFPqcl0qjmnevQBc66Lhi2ad3Wu3U80fCm4XqTEXzyVMee0wtQI8VXxKmLP9YOTtb+bhcfXm4rLWry8Mvxgj0lgUrCoUjHyqntJOvJ8qQtjyJpCgywhj0eIEKofDNZ+33ma8/2rhGsPq4KCFBFMEFPYfUnjBl6cS3Co3mS5ozAAuTRaLkeBYY2GFgcCr+rBAI5G/5awCM0d8fGbCAacxgmxR4TefLe9EGAJhcLhMWs8Vff9L7Pa1hCSb4eyAc2bAUBzOOCx0W+QuvxroExNCXxAAAAABJRU5ErkJggg==",Sse=t=>{const[e,n]=C.useState(!1),[r,s]=C.useState(!1),[i,o]=C.useState(!1);function l(){!document.fullscreenElement&&!document.mozFullScreenElement&&!document.webkitFullscreenElement?document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()}return a.jsx(ae.Fragment,{children:a.jsx("header",{id:"page-topbar",children:a.jsxs("div",{className:"navbar-header",children:[a.jsxs("div",{className:"d-flex",children:[a.jsxs("div",{className:"navbar-brand-box",children:[a.jsxs(Ce,{to:"/",className:"logo logo-dark",children:[a.jsx("span",{className:"logo-sm",children:a.jsx("img",{src:oN,alt:"",height:"22"})}),a.jsx("span",{className:"logo-lg",children:a.jsx("img",{src:mse,alt:"",height:"17"})})]}),a.jsxs(Ce,{to:"/",className:"logo logo-light",children:[a.jsx("span",{className:"logo-sm",children:a.jsx("img",{src:M0,alt:"",height:"22"})}),a.jsx("span",{className:"logo-lg",children:a.jsx("img",{src:fse,alt:"",height:"19"})})]})]}),a.jsx("button",{type:"button",className:"btn btn-sm px-3 font-size-16 d-lg-none header-item","data-toggle":"collapse",onClick:()=>{t.toggleLeftmenu(!t.leftMenu)},"data-target":"#topnav-menu-content",children:a.jsx("i",{className:"fa fa-fw fa-bars"})}),a.jsx("form",{className:"app-search d-none d-lg-block",children:a.jsxs("div",{className:"position-relative",children:[a.jsx("input",{type:"text",className:"form-control",placeholder:"..."}),a.jsx("span",{className:"bx bx-search-alt"})]})}),a.jsxs(Zc,{className:"dropdown-mega d-none d-lg-block ms-2",isOpen:e,toggle:()=>n(!e),children:[a.jsxs(Qd,{className:"btn header-item ",caret:!0,tag:"button",children:[t.t("Mega Menu")," ",a.jsx("i",{className:"mdi mdi-chevron-down"})]}),a.jsx(Nf,{className:"dropdown-megamenu",children:a.jsxs(pe,{children:[a.jsx(M,{sm:8,children:a.jsxs(pe,{children:[a.jsxs(M,{md:4,children:[a.jsx("h5",{className:"font-size-14 mt-0",children:t.t("    ")}),a.jsxs("ul",{className:"list-unstyled megamenu-list",children:[a.jsx("li",{children:a.jsx(Ce,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Ce,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Ce,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Ce,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Ce,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Ce,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Ce,{to:"#",children:t.t(" ")})})]})]}),a.jsxs(M,{md:4,children:[a.jsx("h5",{className:"font-size-14 mt-0",children:t.t("  ")}),a.jsxs("ul",{className:"list-unstyled megamenu-list",children:[a.jsx("li",{children:a.jsx(Ce,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Ce,{to:"#",children:t.t("")})}),a.jsx("li",{children:a.jsx(Ce,{to:"#",children:t.t("")})}),a.jsx("li",{children:a.jsx(Ce,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Ce,{to:"#",children:t.t("")})}),a.jsx("li",{children:a.jsx(Ce,{to:"#",children:t.t("")})})]})]}),a.jsxs(M,{md:4,children:[a.jsx("h5",{className:"font-size-14 mt-0",children:t.t(" ")}),a.jsxs("ul",{className:"list-unstyled megamenu-list",children:[a.jsx("li",{children:a.jsx(Ce,{to:"#",children:t.t("  ")})}),a.jsx("li",{children:a.jsx(Ce,{to:"#",children:t.t("  ")})}),a.jsx("li",{children:a.jsx(Ce,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsxs(Ce,{to:"#",children:[" ",t.t("")]})}),a.jsx("li",{children:a.jsx(Ce,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Ce,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Ce,{to:"#",children:t.t(" ")})})]})]})]})}),a.jsx(M,{sm:4,children:a.jsx(pe,{children:a.jsxs(M,{sm:6,children:[a.jsx("h5",{className:"font-size-14 mt-0",children:t.t("  ")}),a.jsxs("ul",{className:"list-unstyled megamenu-list",children:[a.jsx("li",{children:a.jsx(Ce,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Ce,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Ce,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Ce,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Ce,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Ce,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Ce,{to:"#",children:t.t(" ")})})]})]})})})]})})]})]}),a.jsxs("div",{className:"d-flex",children:[a.jsxs("div",{className:"dropdown d-inline-block d-lg-none ms-2",children:[a.jsx("button",{type:"button",className:"btn header-item noti-icon ",id:"page-header-search-dropdown",onClick:()=>s(!r),children:a.jsx("i",{className:"mdi mdi-magnify"})}),a.jsx("div",{className:r?"dropdown-menu dropdown-menu-lg dropdown-menu-end p-0 show":"dropdown-menu dropdown-menu-lg dropdown-menu-end p-0","aria-labelledby":"page-header-search-dropdown",children:a.jsx("form",{className:"p-3",children:a.jsx("div",{className:"form-group m-0",children:a.jsxs("div",{className:"input-group",children:[a.jsx("input",{type:"text",className:"form-control",placeholder:t.t("")+"...","aria-label":"Recipient's username"}),a.jsx("div",{className:"input-group-append",children:a.jsx("button",{className:"btn btn-primary",type:"submit",children:a.jsx("i",{className:"mdi mdi-magnify"})})})]})})})})]}),a.jsx(Ktt,{}),a.jsxs(Zc,{className:"d-none d-lg-inline-block ms-1",isOpen:i,toggle:()=>{o(!i)},children:[a.jsx(Qd,{className:"btn header-item noti-icon ",caret:!0,tag:"button",children:a.jsx("i",{className:"bx bx-customize"})}),a.jsx(Nf,{className:"dropdown-menu-lg dropdown-menu-end",children:a.jsxs("div",{className:"px-lg-2",children:[a.jsxs(pe,{className:"no-gutters",children:[a.jsx(M,{children:a.jsxs(Ce,{className:"dropdown-icon-item",to:"#",children:[a.jsx("img",{src:Jtt,alt:"Github"}),a.jsx("span",{children:"GitHub"})]})}),a.jsx(M,{children:a.jsxs(Ce,{className:"dropdown-icon-item",to:"#",children:[a.jsx("img",{src:Qtt,alt:"bitbucket"}),a.jsx("span",{children:"Bitbucket"})]})}),a.jsx(M,{children:a.jsxs(Ce,{className:"dropdown-icon-item",to:"#",children:[a.jsx("img",{src:Ztt,alt:"dribbble"}),a.jsx("span",{children:"Dribbble"})]})})]}),a.jsxs(pe,{className:"no-gutters",children:[a.jsx(M,{children:a.jsxs(Ce,{className:"dropdown-icon-item",to:"#",children:[a.jsx("img",{src:Xtt,alt:"dropbox"}),a.jsx("span",{children:"Dropbox"})]})}),a.jsx(M,{children:a.jsxs(Ce,{className:"dropdown-icon-item",to:"#",children:[a.jsx("img",{src:ent,alt:"mail_chimp"}),a.jsx("span",{children:"Mail Chimp"})]})}),a.jsx(M,{children:a.jsxs(Ce,{className:"dropdown-icon-item",to:"#",children:[a.jsx("img",{src:tnt,alt:"slack"}),a.jsx("span",{children:"Slack"})]})})]})]})})]}),a.jsx("div",{className:"dropdown d-none d-lg-inline-block ms-1",children:a.jsx("button",{type:"button",className:"btn header-item noti-icon ",onClick:()=>{l()},"data-toggle":"fullscreen",children:a.jsx("i",{className:"bx bx-fullscreen"})})}),a.jsx(ose,{}),a.jsx(lse,{}),a.jsx("div",{className:"dropdown d-inline-block",children:a.jsx("button",{onClick:()=>{t.showRightSidebarAction(!t.showRightSidebar)},type:"button",className:"btn header-item noti-icon right-bar-toggle ",children:a.jsx("i",{className:"bx bx-cog bx-spin"})})})]})]})})})};Sse.propTypes={leftMenu:R.any,showRightSidebar:R.any,showRightSidebarAction:R.func,t:R.any,toggleLeftmenu:R.func};const nnt=t=>{const{layoutType:e,showRightSidebar:n,leftMenu:r}=t.Layout;return{layoutType:e,showRightSidebar:n,leftMenu:r}},rnt=cb(nnt,{showRightSidebarAction:$0,toggleLeftmenu:gte})(cN()(Sse)),snt=()=>a.jsx(ae.Fragment,{children:a.jsx("footer",{className:"footer",children:a.jsx(An,{fluid:!0,children:a.jsxs(pe,{children:[a.jsxs(M,{md:6,children:[new Date().getFullYear(),"  ."]}),a.jsx(M,{md:6,children:a.jsx("div",{className:"text-sm-end d-none d-sm-block",children:"      "})})]})})})}),jse=t=>{const e=ub(),n=db(p=>p.Layout,p=>({topbarTheme:p.topbarTheme,layoutWidth:p.layoutWidth,isPreloader:p.isPreloader,showRightSidebar:p.showRightSidebar,layoutModeType:p.layoutModeType})),{topbarTheme:r,layoutModeType:s,layoutWidth:i,isPreloader:o,showRightSidebar:l}=g0(n),c=ih();C.useEffect(()=>{const p=c.pathname;let y=p.charAt(1).toUpperCase()+p.slice(2);document.title=y+" |     "},[c.pathname]),C.useEffect(()=>{window.scrollTo(0,0)},[]);const u=p=>{var y=document.getElementById("right-bar");y&&y.contains(p.target)||e($0(!1))};C.useEffect(()=>{e(O4("horizontal"))},[e]),C.useEffect(()=>{document.body.addEventListener("click",u,!0),o===!0?(document.getElementById("preloader").style.display="block",document.getElementById("status").style.display="block",setTimeout(function(){document.getElementById("preloader").style.display="none",document.getElementById("status").style.display="none"},2500)):(document.getElementById("preloader").style.display="none",document.getElementById("status").style.display="none")},[o]),C.useEffect(()=>{r&&e(P4(r))},[e,r]),C.useEffect(()=>{s&&e(iN(s))},[s,e]),C.useEffect(()=>{i&&e(R4(i))},[e,i]);const[d,f]=C.useState(!1),m=()=>{f(!d)};return a.jsxs(ae.Fragment,{children:[a.jsx("div",{id:"preloader",children:a.jsx("div",{id:"status",children:a.jsxs("div",{className:"spinner-chase",children:[a.jsx("div",{className:"chase-dot"}),a.jsx("div",{className:"chase-dot"}),a.jsx("div",{className:"chase-dot"}),a.jsx("div",{className:"chase-dot"}),a.jsx("div",{className:"chase-dot"}),a.jsx("div",{className:"chase-dot"})]})})}),a.jsxs("div",{id:"layout-wrapper",children:[a.jsx(rnt,{theme:r,isMenuOpened:d,openLeftMenuCallBack:m}),a.jsx(w7e,{menuOpen:d}),a.jsx("div",{className:"main-content",children:t.children}),a.jsx(snt,{})]}),l?a.jsx(yse,{}):null]})};jse.propTypes={changeLayout:R.func,changeLayoutWidth:R.func,changeTopbarTheme:R.func,children:R.object,isPreloader:R.any,layoutWidth:R.any,location:R.object,showRightSidebar:R.any,topbarTheme:R.any};const int=dg(jse),Tse=t=>{const e=ub(),n=db(s=>s.Layout,s=>({layoutModeType:s.layoutModeType})),{layoutModeType:r}=g0(n);return C.useEffect(()=>{r&&e(iN(r))},[r]),a.jsx(ae.Fragment,{children:t.children})};Tse.propTypes={children:R.any,location:R.object};const ant=dg(Tse);var F4={exports:{}};const ont=Qp(WCe);var lnt=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n};/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var cnt=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)};/*!
 * MIT License
 *
 * Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (https://sindresorhus.com)
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated
 * documentation files (the "Software"), to deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit
 * persons to whom the Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the
 * Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
 * WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
 * OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */function unt(t){return typeof Blob>"u"?!1:t instanceof Blob||Object.prototype.toString.call(t)==="[object Blob]"}var dnt=unt,Q8=ont,Cse=lnt,hnt=cnt,fnt=dnt,Ase=Object.prototype.toString;function Nse(t,e){for(var n=t.length,r=0;r<n;r++){var s=t[r];if(e(s))return s}}function Ise(t){return Ase.call(t)==="[object Function]"}function kse(t){return t!==null&&typeof t=="object"}function mnt(t){return kse(t)&&Ise(t.pipe)}function pnt(t){return Ase.call(t)==="[object ArrayBuffer]"}function Z8(t,e){return t?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):e}function gnt(t,e,n,r,s,i,o){return Nse(t[e.toLowerCase()],function(l){if(typeof l[0]=="string")return(X8(n,l[0])||X8(Z8(o,n),l[0]))&&LL(e,r,s,l[1])&&lC(i,l[2]);if(l[0]instanceof RegExp)return(l[0].test(n)||l[0].test(Z8(o,n)))&&LL(e,r,s,l[1])&&lC(i,l[2])})}function X8(t,e){var n=t[0]==="/"?t.substr(1):t,r=e[0]==="/"?e.substr(1):e;return n===r}function LL(t,e,n,r){var s=["delete","get","head","options"];if(s.indexOf(t.toLowerCase())>=0){var i=r?r.data:void 0,o=r?r.params:void 0;return lC(n,o)&&eW(e,i)}else return eW(e,r)}function lC(t,e){return e===void 0?!0:typeof e.asymmetricMatch=="function"?e.asymmetricMatch(t):Cse(t,e)}function eW(t,e){if(e===void 0)return!0;var n;try{n=JSON.parse(t)}catch{}return lC(n||t,e)}function ynt(t,e){Object.keys(t.handlers).forEach(function(n){var r=t.handlers[n].indexOf(e);r>-1&&t.handlers[n].splice(r,1)})}function Ose(t,e,n,r){if(r>0){setTimeout(Ose,r,t,e,n);return}!n.config.validateStatus||n.config.validateStatus(n.status)?t(n):e(Rse("Request failed with status code "+n.status,n.config,n))}function Rse(t,e,n,r){if(typeof Q8.AxiosError=="function")return Q8.AxiosError.from(new Error(t),r,e,null,n);var s=new Error(t);return s.isAxiosError=!0,s.config=e,n!==void 0&&(s.response=n),r!==void 0&&(s.code=r),s.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},s}function vnt(t){var e=`Could not find mock for: 
`+JSON.stringify(t,["method","url"],2),n=new Error(e);return n.isCouldNotFindMockError=!0,n.url=t.url,n.method=t.method,n}var Pse={find:Nse,findHandler:gnt,purgeIfReplyOnce:ynt,settle:Ose,isStream:mnt,isArrayBuffer:pnt,isFunction:Ise,isObjectOrArray:kse,isBuffer:hnt,isBlob:fnt,isBodyOrParametersMatching:LL,isEqual:Cse,createAxiosError:Rse,createCouldNotFindMockError:vnt},dl=Pse;function bnt(t){return dl.isArrayBuffer(t)||dl.isBuffer(t)||dl.isStream(t)||dl.isBlob(t)?t:dl.isObjectOrArray(t)?JSON.parse(JSON.stringify(t)):t}function oj(t,e){return{status:t[0],data:bnt(t[1]),headers:t[2],config:e,request:{responseURL:e.url}}}function tW(t,e,n,r){var s=r.baseURL;if(r.baseURL&&!/^https?:/.test(r.baseURL)&&(s=void 0),typeof t.originalAdapter=="function")return t.originalAdapter(r).then(e,n);t.axiosInstanceWithoutInterceptors(Object.assign({},r,{baseURL:s,adapter:t.originalAdapter,transformRequest:[],transformResponse:[]})).then(e,n)}function _nt(t,e,n,r){var s=r.url||"";r.baseURL&&s.substr(0,r.baseURL.length)===r.baseURL&&(s=s.slice(r.baseURL.length)),delete r.adapter,t.history[r.method].push(r);var i=dl.findHandler(t.handlers,r.method,s,r.data,r.params,r.headers&&r.headers.constructor.name==="AxiosHeaders"?Object.assign({},r.headers):r.headers,r.baseURL);if(i)if(i.length===7&&dl.purgeIfReplyOnce(t,i),i.length===2)tW(t,e,n,r);else if(typeof i[3]!="function")dl.settle(e,n,oj(i.slice(3),r),lj(t,i));else{var o=i[3](r);typeof o.then!="function"?dl.settle(e,n,oj(o,r),lj(t,i)):o.then(function(l){l.config&&l.status?dl.settle(e,n,oj([l.status,l.data,l.headers],l.config),0):dl.settle(e,n,oj(l,r),lj(t,i))},function(l){t.delayResponse>0?setTimeout(function(){n(l)},lj(t,i)):n(l)})}else switch(t.onNoMatch){case"passthrough":tW(t,e,n,r);break;case"throwException":throw dl.createCouldNotFindMockError(r);default:dl.settle(e,n,{status:404,config:r},t.delayResponse)}}function lj(t,e){var n;return e.length===8&&(n=e[7]),n||t.delayResponse}var wnt=_nt,xnt=wnt,Hh=Pse,V4=["get","post","head","delete","patch","put","options","list","link","unlink"];function Ent(){return(function(t){var e=this;return new Promise(function(n,r){xnt(e,n,r,t)})}).bind(this)}function Dse(){return V4.reduce(function(t,e){return t[e]=[],t},{})}function Lse(){Mse.call(this),$se.call(this)}function Mse(){this.handlers=Dse()}function $se(){this.history=Dse()}function Zf(t,e){if(Lse.call(this),t)this.axiosInstance=t,this.axiosInstanceWithoutInterceptors=t.create?t.create():void 0,this.originalAdapter=t.defaults.adapter,this.delayResponse=e&&e.delayResponse>0?e.delayResponse:null,this.onNoMatch=e&&e.onNoMatch||null,t.defaults.adapter=this.adapter.call(this);else throw new Error("Please provide an instance of axios to mock")}Zf.prototype.adapter=Ent;Zf.prototype.restore=function(){this.axiosInstance&&(this.axiosInstance.defaults.adapter=this.originalAdapter,this.axiosInstance=void 0)};Zf.prototype.reset=Lse;Zf.prototype.resetHandlers=Mse;Zf.prototype.resetHistory=$se;V4.concat("any").forEach(function(t){var e="on"+t.charAt(0).toUpperCase()+t.slice(1);Zf.prototype[e]=function(o,r,s){var i=this,o=o===void 0?/.*/:o;function l(f,m,p){var y=[o,r,s,f,m,p];return cj(t,i.handlers,y),i}function c(f,m,p,y){var _=[o,r,s,m,p,y,!1,f];return cj(t,i.handlers,_),i}function u(f){return function(m,p,y){c(f,m,p,y)}}function d(f,m,p){var y=[o,r,s,f,m,p,!0];return cj(t,i.handlers,y),i}return{reply:l,replyOnce:d,withDelayInMs:u,passThrough:function(){var m=[o,r];return cj(t,i.handlers,m),i},abortRequest:function(){return l(function(f){var m=Hh.createAxiosError("Request aborted",f,void 0,"ECONNABORTED");return Promise.reject(m)})},abortRequestOnce:function(){return d(function(f){var m=Hh.createAxiosError("Request aborted",f,void 0,"ECONNABORTED");return Promise.reject(m)})},networkError:function(){return l(function(f){var m=Hh.createAxiosError("Network Error",f);return Promise.reject(m)})},networkErrorOnce:function(){return d(function(f){var m=Hh.createAxiosError("Network Error",f);return Promise.reject(m)})},timeout:function(){return l(function(f){var m=Hh.createAxiosError(f.timeoutErrorMessage||"timeout of "+f.timeout+"ms exceeded",f,void 0,f.transitional&&f.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED");return Promise.reject(m)})},timeoutOnce:function(){return d(function(f){var m=Hh.createAxiosError(f.timeoutErrorMessage||"timeout of "+f.timeout+"ms exceeded",f,void 0,f.transitional&&f.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED");return Promise.reject(m)})}}}});function Snt(t,e,n){for(var r=-1,s=0;s<e[t].length;s+=1){var i=e[t][s],o=i.length===7,l=i[0]instanceof RegExp&&n[0]instanceof RegExp?String(i[0])===String(n[0]):i[0]===n[0],c=l&&Hh.isEqual(i[1],n[1])&&Hh.isEqual(i[2],n[2]);c&&!o&&(r=s)}return r}function cj(t,e,n){if(t==="any")V4.forEach(function(s){e[s].push(n)});else{var r=Snt(t,e,n);r>-1&&n.length<7?e[t].splice(r,1,n):e[t].push(n)}}F4.exports=Zf;F4.exports.default=Zf;var jnt=F4.exports;const Tnt=Ho(jnt),Fse="/post-fake-register",Cnt="/post-fake-login",Ant="/post-jwt-login",Nnt="/fake-forget-pwd",Int="/jwt-forget-pwd",knt="/post-jwt-profile",Ont="/post-fake-profile",Vse="/products",Use="/product",Bse="/mailslists",zse="/folders",Wse="/selectedmails",Gse="/setfolderonmail",Hse="/delete/mail",qse="/trash/mail",Yse="/stared/mail",Kse="/mail:id",Jse="/events",Qse="/add/event",Zse="/update/event",Xse="/delete/event",eie="/categories",tie="/chats",nie="/groups",rie="/contacts",sie="/messages",iie="/add/messages",aie="/delete/message",oie="/orders",lie="/add/order",cie="/update/order",uie="/delete/order",die="/cart",hie="/customers",fie="/add/customer",mie="/update/customer",pie="/delete/customer",gie="/shops",yie="/wallet",vie="/crypto/orders",bie="/crypto-products",_ie="/invoices",wie="/invoice",xie="/jobs",Eie="/add/job",Sie="/update/job",jie="/delete/job",Tie="/jobApply",Cie="add/applyjob",Aie="/projects",Nie="/project",Iie="/update/project",kie="/delete/project",Oie="/tasks",Rie="/delete/tasks",Pie="/add/tasks",Die="/update/tasks",Lie="/users",Mie="/user",$ie="/add/user",Fie="/update/user",Vie="/delete/user",Uie="/visitor-data",Bie="/top-selling-data",zie="/dashboard/email-chart",Wie="/wallet-balance-data",Gie="/Statistics-data",Hie="/earning-charts-data",qie="/comments-product",U4="/comments-product-action",Yie="/comments-product-add-reply",Kie="/comments-product-add-comment",NR="Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6ImFkbWluIiwiYWRtaW4iOnRydWUsImp0aSI6ImQ2MTEwYzAxLWMwYjUtNDUzNy1iNDZhLTI0NTk5Mjc2YjY1NiIsImlhdCI6MTU5MjU2MDk2MCwiZXhwIjoxNTkyNTY0NjE5fQ.QgFSQtFaK_Ktauadttq1Is7f9w0SUtKcL8xCmkAvGLw",$s="/assets/avatar-2-BuERsa_0.jpg",xo="/assets/avatar-3-l0xLIBQ8.jpg",cC="/assets/avatar-8-D9ToPDH5.jpg",ac="/assets/avatar-5-D6a0w9Bd.jpg",nW={id:"#SK0234",userName:" ",email:"sara@abc.com",availableBalance:" 9148.23",lastMonthDifference:"+  248.35",lastMonthDifferencePercent:"+ 1.3 %",send:" 654.42",receive:" 1054.32",withdraw:" 824.34",series:[{type:"area",name:"BTC",data:[87,57,74,99,75,38,62,47,82,56,45,47]},{type:"area",name:"ETH",data:[28,41,52,42,13,18,29,18,36,51,55,35]},{type:"line",name:"LTC",data:[45,52,38,24,33,65,45,75,54,18,28,10]}],options:{chart:{toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2,dashArray:[0,0,3]},fill:{type:"solid",opacity:[.15,.05,1]},xaxis:{categories:["","","","","","","","","","","",""]},colors:["#f1b44c","#3452e1","#50a5f1"]},walletHistory:[{id:"#SK3215",date:"03 , 1402",type:"",currency:" ",amount:"1.00952 BTC",amountinUSD:" 9067.62"},{id:"#SK3216",date:"04 , 1402",type:"",currency:"",amount:"0.00413 ETH",amountinUSD:" 2123.01"},{id:"#SK3217",date:"04 , 1402",type:"",currency:" ",amount:"1.00952 BTC",amountinUSD:" 9067.62"},{id:"#SK3218",date:"03 , 1402",type:"",currency:" ",amount:"1.00952 BTC",amountinUSD:" 9067.62"},{id:"#SK3219",date:"03 , 1402",type:"",currency:" ",amount:"1.00952 BTC",amountinUSD:" 9067.62"},{id:"#SK3220",date:"03 , 1402",type:"",currency:" ",amount:"1.00952 BTC",amountinUSD:" 9067.62"},{id:"#SK3221",date:"03 , 1402",type:"",currency:" ",amount:"1.00952 BTC",amountinUSD:" 9067.62"},{id:"#SK3222",date:"03 , 1402",type:"",currency:" ",amount:"1.00952 BTC",amountinUSD:" 9067.62"},{id:"#SK3223",date:"03 , 1402",type:"",currency:" ",amount:"1.00952 BTC",amountinUSD:" 9067.62"},{id:"#SK3224",date:"03 , 1402",type:"",currency:" ",amount:"1.00952 BTC",amountinUSD:" 9067.62"},{id:"#SK3225",date:"03 , 1402",type:"",currency:" ",amount:"1.00952 BTC",amountinUSD:" 9067.62"},{id:"#SK3226",date:"03 , 1402",type:"",currency:" ",amount:"1.00952 BTC",amountinUSD:" 9067.62"}]},rW=[{id:1,idno:"#SK3215",pdate:"03 , 1402",type:"",coin:" ",amount:"1.00952 BTC",valueInUsd:" 9067.62"},{id:2,idno:"#SK3216",pdate:"04 , 1402",type:"",coin:"",amount:"0.00413 ETH",valueInUsd:" 2123.01"},{id:3,idno:"#SK3217",pdate:"04 , 1402",type:"",coin:" ",amount:"0.00321 BTC",valueInUsd:" 1802.621"},{id:4,idno:"#SK3218",pdate:"05 , 1402",type:"",coin:" ",amount:"0.00224 LTC",valueInUsd:" 1773.01"},{id:5,idno:"#SK3219",pdate:"06 , 1402",type:"",coin:"",amount:"1.04321 ETH",valueInUsd:" 9423.73"},{id:6,idno:"#SK3220",pdate:"07 , 1402",type:"",coin:" ",amount:"0.00413 LTC",valueInUsd:" 2123.01"},{id:7,idno:"#SK3221",pdate:"07 , 1402",type:"",coin:" ",amount:"1.00952 BTC",valueInUsd:" 9067.62"},{id:8,idno:"#SK3222",pdate:"08 , 1402",type:"",coin:"",amount:"0.00413 ETH",valueInUsd:" 2123.01"},{id:9,idno:"#SK3223",pdate:"09 , 1402",type:"",coin:"Litecoin",amount:"1.00952 LTC",valueInUsd:" 9067.62"},{id:10,idno:"#SK3224",pdate:"10 , 1402",type:"",coin:"",amount:"0.00413 ETH",valueInUsd:" 2123.01"},{id:11,idno:"#SK3225",pdate:"11 , 1402",type:"",coin:" ",amount:"1.00952 BTC",valueInUsd:" 9067.62"},{id:12,idno:"#SK3226",pdate:"12 , 1402",type:"",coin:"",amount:"0.00413 ETH",valueInUsd:" 2123.01"}],sW=[{id:1,pdate:"03-03-1402",type:"",coin:" ",value:"1.00952 BTC",valueInUsd:" 9067.62",status:" "},{id:2,pdate:"04-03-1402",type:"",coin:"",value:"0.00413 ETH",valueInUsd:" 2123.01",status:" "},{id:3,pdate:"04-03-1402",type:"",coin:" ",value:"0.00321 BTC",valueInUsd:" 1802.62",status:" "},{id:4,pdate:"05-03-1402",type:"",coin:" ",value:"0.00224 LTC",valueInUsd:" 1773.01",status:" "},{id:5,pdate:"06-03-1402",type:"",coin:"",value:"1.04321 ETH",valueInUsd:" 9423.73",status:""},{id:6,pdate:"07-03-1402",type:"",coin:" ",value:"0.00413 ETH",valueInUsd:" 2123.01",status:" "},{id:7,pdate:"07-03-1402",type:"",coin:" ",value:"1.00952 BTC",valueInUsd:" 9067.62",status:" "},{id:8,pdate:"08-03-1402",type:"",coin:"",value:"0.00413 ETH",valueInUsd:" 2123.01",status:" "},{id:9,pdate:"09-03-1402",type:"",coin:" ",value:"1.00952 LTC",valueInUsd:" 9067.62",status:" "},{id:10,pdate:"10-03-1402",type:"",coin:"",value:"0.00413 ETH",valueInUsd:" 2123.01",status:" "},{id:11,pdate:"11-03-1402",type:"",coin:"",value:"1.04321 ETH",valueInUsd:" 9423.73",status:" "},{id:12,pdate:"12-03-1402",type:"",coin:" ",value:"0.00413 ETH",valueInUsd:" 2123.01",status:" "},{id:13,pdate:"03-03-1402",type:"",coin:" ",value:"1.00952 BTC",valueInUsd:" 9067.62",status:" "},{id:14,pdate:"4-03-1402",type:"",coin:"",value:"0.00413 ETH",valueInUsd:" 2123.01",status:" "},{id:15,pdate:"4-03-1402",type:"",coin:" ",value:"0.00321 BTC",valueInUsd:" 1802.62",status:" "},{id:16,pdate:"05-03-1402",type:"",coin:" ",value:"0.00224 LTC",valueInUsd:" 1773.01",status:" "},{id:17,pdate:"06-03-1402",type:"",coin:"",value:"1.04321 ETH",valueInUsd:" 9423.73",status:""},{id:18,pdate:"07-03-1402",type:"",coin:" ",value:"0.00413 ETH",valueInUsd:" 2123.01",status:" "},{id:19,pdate:"07-03-1402",type:"",coin:" ",value:"1.00952 BTC",valueInUsd:" 9067.62",status:" "},{id:20,pdate:"08-03-1402",type:"",coin:"",value:"0.00413 ETH",valueInUsd:" 2123.01",status:" "},{id:21,pdate:"09-03-1402",type:"",coin:" ",value:"1.00952 LTC",valueInUsd:" 9067.62",status:" "},{id:22,pdate:"10-03-1402",type:"",coin:"",value:"0.00413 ETH",valueInUsd:" 2123.01",status:" "},{id:23,pdate:"11-03-1402",type:"",coin:"",value:"1.04321 ETH",valueInUsd:" 9423.73",status:" "},{id:24,pdate:"12-03-1402",type:"",coin:" ",value:"0.00413 ETH",valueInUsd:" 2123.01",status:" "}],oc="/assets/avatar-4-BKMMMj7m.jpg",hv="/assets/avatar-7-Dw38KNwE.jpg",uj=[{id:1,founder:" ",founderAt:"Skote",invoiceID:"14251",company:"   Skote",invoicePrice:"1455",date:" 10 , 19",color:"primary",text:"primary",orderId:"12345",billingAddress:"  12657  ",shippingAddress:"         ",card:"  **** 4242",email:"hemati@email.com",orderDate:" 16, 1402",orderSummary:{items:[{id:1,item:"  Skote - Bootstrap 4",price:" 499.00"},{id:2,item:"Skote -  ",price:" 399.00"}],subTotal:" 898.00",shipping:" 13.00",total:" 911.00"}},{id:2,image:$s,founder:" ",founderAt:"Skote",invoiceID:"14252",company:"  ",invoicePrice:"1024",date:" 11 , 19",orderId:"12345",billingAddress:"  18765 ",shippingAddress:"         ",card:"Visa ending **** 4242",email:"hhhh@email.com",orderDate:" 16, 1402",orderSummary:{items:[{id:1,item:"  Skote - Bootstrap 4",price:" 499.00"},{id:2,item:"  Veltrix Bootstrap 4",price:" 499.00"}],subTotal:" 998.00",shipping:" 13.00",total:" 1011.00"}},{id:3,image:hv,founder:" ",founderAt:"Skote",invoiceID:"14253",company:"  ",invoicePrice:"1189",date:" 12 , 19",orderId:"12345",billingAddress:"  19885 ",shippingAddress:"         ",card:"Visa ending **** 4242",email:"taha@email.com",orderDate:" 16, 1402",orderSummary:{items:[{id:1,item:"  Skote - Bootstrap 4",price:" 399.00"},{id:2,item:"  Veltrix Bootstrap 4",price:" 499.00"}],subTotal:" 898.00",shipping:" 13.00",total:" 911.00"}},{id:4,image:cC,founder:" ",founderAt:"Skote",invoiceID:"14254",company:"  -  ",invoicePrice:"1245",date:" 12 , 19",orderId:"12345",billingAddress:"  45689 ",shippingAddress:"         ",card:"  **** 4242",email:"negin@email.com",orderDate:" 16, 1402",orderSummary:{items:[{id:1,item:"  Skote - Bootstrap 4",price:" 499.00"},{id:2,item:"Skote - Bootstrap 4 Landing Template",price:" 399.00"},{id:3,item:"  Veltrix Bootstrap 4",price:" 499.00"}],subTotal:" 1397.00",shipping:" 13.00",total:" 1410.00"}},{id:5,image:ac,founder:" ",founderAt:"Skote",invoiceID:"14255",company:"  ",invoicePrice:"1024",date:" 11 , 19",orderId:"12345",billingAddress:"  448548 ",shippingAddress:"         ",card:"  **** 4242",email:"ana@email.com",orderDate:" 16, 1402",orderSummary:{items:[{id:1,item:"  Skote - Bootstrap 4",price:" 499.00"},{id:2,item:"  Veltrix Bootstrap 4",price:" 499.00"}],subTotal:" 998.00",shipping:" 13.00",total:" 1010.00"}},{id:6,founder:" ",founderAt:"Skote",invoiceID:"14256",company:"  ",invoicePrice:"1189",date:" 13 , 19",color:"info",text:"primary",orderId:"12345",billingAddress:"  46345 ",shippingAddress:"         ",card:"  **** 4242",email:"arman@email.com",orderDate:" 16, 1402",orderSummary:{items:[{id:1,item:"  Skote - Bootstrap 4",price:"$499.00"},{id:2,item:"  Veltrix Bootstrap 4",price:" 399.00"}],subTotal:" 898.00",shipping:" 13.00",total:" 911.00"}},{id:7,image:Bd,founder:" ",founderAt:"Skote",invoiceID:"14257",company:"   ",invoicePrice:"1148",date:" 14 , 19",orderId:"12345",billingAddress:"  54849 ",shippingAddress:"         ",card:"  **** 4242",email:"sara@email.com",orderDate:" 16, 1402",orderSummary:{items:[{id:1,item:"  Skote - Bootstrap 4",price:"$399.00"},{id:2,item:"  Veltrix Bootstrap 4",price:" 499.00"}],subTotal:" 898.00",shipping:" 13.00",total:" 911.00"}},{id:8,founder:" ",founderAt:"Skote",invoiceID:"14258",company:"  - ",invoicePrice:"1259",date:" 15 , 19",color:"success",text:"success",orderId:"12345",billingAddress:"  5438975 ",shippingAddress:"         ",card:"  **** 4242",email:"ali@email.com",orderDate:" 16, 1402",orderSummary:{items:[{id:1,item:"  Skote - Bootstrap 4",price:" 499.00"}],subTotal:" 499.00",shipping:" 13.00",total:" 512.00"}},{id:9,image:oc,founder:" ",founderAt:"Skote",invoiceID:"14259",company:"   ",invoicePrice:"1355",date:" 15 , 19",orderId:"12345",billingAddress:"  454894 ",shippingAddress:"         ",card:"  **** 4242",email:"samane@email.com",orderDate:" 16, 1402",orderSummary:{items:[{id:3,item:"Veltrix - Bootstrap 4 Admin Template",price:"499.00"}],subTotal:" 499.00",shipping:" 13.00",total:" 512.00"}}],uC="/assets/avatar-6-CyMLtFAW.jpg",Jie="/assets/img-1-Bj6XGib_.png",X_="/assets/img-2-D4HwKVFr.png",ML="/assets/img-3-DjS5c7EI.png",iW="/assets/img-4-CqxwJAhp.png",Rnt="/assets/img-5-CSLn8iyX.png",Pnt="/assets/img-6-CI3kTg48.png",dj=[{id:1,img:X_,name:"  ",description:"      ",status:"  ",color:"warning",dueDate:"22 , 19",commentsCount:183,team:[{id:1,img:cC,fullname:" "},{id:2,img:$s,fullname:" "}],startDate:"08 , 1402",projectDetails:{description:"                 .                               ",points:["      ","     .","      "]},files:[{name:"Skote Landing.Zip",size:"3.25 MB",link:"#"},{name:"Skote Admin.Zip",size:"3.15 MB",link:"#"},{name:"Skote Logo.Zip",size:"2.02 MB",link:"#"},{name:"Veltrix admin.Zip",size:"2.25 MB",link:"#"}],comments:[{id:1,username:" ",userImg:$s,comment:"     "},{id:2,username:" ",userImg:xo,comment:"@       ",reply:{username:" ",comment:"       "}},{id:3,username:" ",comment:"      "}]},{id:2,img:ML,name:"  ",description:"     ",status:"  ",color:"danger",dueDate:"13 , 19",commentsCount:175,team:[{id:3,img:"Null",name:"K",color:"info"},{id:4,img:$s,fullname:" "}],startDate:"08 , 1402",projectDetails:{description:"                 .                               ",points:["      ","     ","      "]},files:[{name:"Skote Landing.Zip",size:"3.25 MB",link:"#"},{name:"Skote Admin.Zip",size:"3.15 MB",link:"#"},{name:"Skote Logo.Zip",size:"2.02 MB",link:"#"},{name:"Veltrix admin.Zip",size:"2.25 MB",link:"#"}],comments:[{id:1,username:" ",userImg:$s,comment:"     ."},{id:2,username:" ",userImg:xo,comment:"        ",reply:{username:" ",comment:"    "}},{id:3,username:" ",comment:"      ."}]},{id:3,img:iW,name:"  -  ",description:"      ",status:" ",color:"success",dueDate:"14 , 19",commentsCount:202,team:[{id:5,img:Bd,fullname:" "},{id:6,img:uC,fullname:" "},{id:7,img:hv,fullname:" "}],startDate:"08 , 1402",projectDetails:{description:"                 .                               ",points:["      ","     .","      "]},files:[{name:"Skote Landing.Zip",size:"3.25 MB",link:"#"},{name:"Skote Admin.Zip",size:"3.15 MB",link:"#"},{name:"Skote Logo.Zip",size:"2.02 MB",link:"#"},{name:"Veltrix admin.Zip",size:"2.25 MB",link:"#"}],comments:[{id:1,username:"David Lambert",userImg:$s,comment:"     ."},{id:2,username:" ",userImg:xo,comment:"@       ",reply:{username:" ",comment:"      "}},{id:3,username:" ",comment:"      ."}]},{id:4,img:Rnt,name:" UI",description:"     ",status:" ",color:"success",dueDate:"13 , 19",commentsCount:194,team:[{id:8,img:Bd,fullname:" "},{id:9,img:xo,fullname:" "},{id:10,img:"Null",name:"3+",color:"danger"}],startDate:"08 , 1402",projectDetails:{description:"                 .                               ",points:["      ","     .","      "]},files:[{name:"Skote Landing.Zip",size:"3.25 MB",link:"#"},{name:"Skote Admin.Zip",size:"3.15 MB",link:"#"},{name:"Skote Logo.Zip",size:"2.02 MB",link:"#"},{name:"Veltrix admin.Zip",size:"2.25 MB",link:"#"}],comments:[{id:1,username:" ",userImg:$s,comment:"     ."},{id:2,username:" ",userImg:xo,comment:"      ",reply:{username:" ",comment:"      "}},{id:3,username:" ",comment:"      ."}]},{id:5,img:Pnt,name:"   ",description:"     ",status:"  ",color:"warning",dueDate:"24 , 19",commentsCount:122,team:[{id:11,img:oc,fullname:" "},{id:12,img:ac,fullname:" "}],startDate:"08 , 1402",projectDetails:{description:"                 .                               ",points:["      ","     .","      "]},files:[{name:"Skote Landing.Zip",size:"3.25 MB",link:"#"},{name:"Skote Admin.Zip",size:"3.15 MB",link:"#"},{name:"Skote Logo.Zip",size:"2.02 MB",link:"#"},{name:"Veltrix admin.Zip",size:"2.25 MB",link:"#"}],comments:[{id:1,username:" ",userImg:$s,comment:"     ."},{id:2,username:" ",userImg:xo,comment:"        ",reply:{username:" ",comment:"    "}},{id:3,username:"Steven Carlson",comment:"      ."}]},{id:6,img:ML,name:"  ",description:"  Occidental  ",status:"  ",color:"danger",dueDate:"15 , 19",commentsCount:214,team:[{id:13,img:ac,fullname:" "},{id:14,img:"Null",name:"R",color:"warning",fullname:" "}]},{id:7,img:iW,name:"   ",description:"      ",status:" ",color:"success",dueDate:"11 , 19",commentsCount:185,team:[{id:15,img:"Null",name:"L",color:"pink",fullname:"Lony Mackay"},{id:16,img:$s,fullname:" "}],startDate:"08 , 1402",projectDetails:{description:"                 .                               ",points:["      ","     .","      "]},files:[{name:"Skote Landing.Zip",size:"3.25 MB",link:"#"},{name:"Skote Admin.Zip",size:"3.15 MB",link:"#"},{name:"Skote Logo.Zip",size:"2.02 MB",link:"#"},{name:"Veltrix admin.Zip",size:"2.25 MB",link:"#"}],comments:[{id:1,username:"David Lambert",userImg:$s,comment:"     ."},{id:2,username:"Steve Foster",userImg:xo,comment:"        d",reply:{username:"Jeffrey Walker",comment:"    "}},{id:3,username:"Steven Carlson",comment:"      ."}]},{id:8,img:X_,name:"  ",description:"Their most common words.",status:" ",color:"success",dueDate:"12 , 19",commentsCount:106,team:[{id:17,img:oc,fullname:" "},{id:18,img:ac,fullname:" "},{id:19,img:"Null",name:"A",color:"success",fullname:"Aeffrey Walker"},{id:20,img:$s,fullname:" "}],startDate:"08 , 1402",projectDetails:{description:"                 .                               ",points:["      ","     ","      "]},files:[{name:"Skote Landing.Zip",size:"3.25 MB",link:"#"},{name:"Skote Admin.Zip",size:"3.15 MB",link:"#"},{name:"Skote Logo.Zip",size:"2.02 MB",link:"#"},{name:"Veltrix admin.Zip",size:"2.25 MB",link:"#"}],comments:[{id:1,username:" ",userImg:$s,comment:"     ."},{id:2,username:" ",userImg:xo,comment:"        ",reply:{username:" ",comment:"    "}},{id:3,username:" ",comment:"      ."}]},{id:9,img:Jie,name:"  ",description:"  Occidental  ",status:" ",color:"success",dueDate:"15 , 19",commentsCount:214,team:[{id:21,img:oc,fullname:"Janice Cole",skills:[{id:1,name:" "},{id:2,name:""}]},{id:22,img:ac,fullname:" ",skills:[{id:1,name:"UI/UX"}]},{id:23,img:"Null",name:"A",color:"success",fullname:" ",skills:[{id:1,name:" "}]},{id:24,img:$s,fullname:" ",skills:[{id:1,name:" "},{id:2,name:"UI"}]}],startDate:"08 , 1402",projectDetails:{description:"                 .                               ",points:["      ","     .","      "]},files:[{name:"Skote Landing.Zip",size:"3.25 MB",link:"#"},{name:"Skote Admin.Zip",size:"3.15 MB",link:"#"},{name:"Skote Logo.Zip",size:"2.02 MB",link:"#"},{name:"Veltrix admin.Zip",size:"2.25 MB",link:"#"}],comments:[{id:1,username:" ",userImg:$s,comment:"     ."},{id:2,username:" ",userImg:xo,comment:"        ",reply:{username:" ",comment:"    "}},{id:3,username:" ",comment:"      ."}]},{id:10,img:X_,name:" ",description:"  Occidental  ",status:" ",color:"success",dueDate:"15 , 19",commentsCount:214,team:[{id:25,img:"Null",name:"L",color:"pink",fullname:"Lony Mackay"},{id:26,img:$s,fullname:" "}],startDate:"08 , 1402",projectDetails:{description:"                 .                               ",points:["      ","     .","      "]},files:[{name:"Skote Landing.Zip",size:"3.25 MB",link:"#"},{name:"Skote Admin.Zip",size:"3.15 MB",link:"#"},{name:"Skote Logo.Zip",size:"2.02 MB",link:"#"},{name:"Veltrix admin.Zip",size:"2.25 MB",link:"#"}],comments:[{id:1,username:" ",userImg:$s,comment:"     ."},{id:2,username:" ",userImg:xo,comment:"        ",reply:{username:" ",comment:"    "}},{id:3,username:" ",comment:"      ."}]},{id:11,img:X_,name:"  ",description:"  Occidental  ",status:" ",color:"success",dueDate:"15 , 19",commentsCount:214,team:[{id:27,img:oc,fullname:"  ",skills:[{id:1,name:"Frontend"},{id:2,name:"UI"}]},{id:28,img:"Null",name:"A",color:"success",fullname:" ",skills:[{id:1,name:" "}]},{id:29,img:ac,fullname:" ",skills:[{id:1,name:"UI/UX"}]}],startDate:"08 , 1402",projectDetails:{description:"                 .                               ",points:["      ","     .","      "]},files:[{name:"Skote Landing.Zip",size:"3.25 MB",link:"#"},{name:"Skote Admin.Zip",size:"3.15 MB",link:"#"},{name:"Skote Logo.Zip",size:"2.02 MB",link:"#"},{name:"Veltrix admin.Zip",size:"2.25 MB",link:"#"}],comments:[{id:1,username:" ",userImg:$s,comment:"     ."},{id:2,username:" ",userImg:xo,comment:"        ",reply:{username:" ",comment:"    "}},{id:3,username:" ",comment:"      ."}]}],Dnt="/assets/img-4-BKhXHz3A.jpg",Lnt="/assets/img-5-CryunUaP.jpg",Mnt="/assets/img-6-BG6V9DmB.jpg",aW=[{id:"1",name:"",cards:[{id:"1",title:"  Topnav",date:"14 , 1402",badgeText:" ",badgeColor:"secondary",budget:"145",kanbanImgtextColor:"bg-info",kanbanImgtext:[{id:1,imageText:"3+"}],userImages:[{id:4,img:oc},{id:5,img:ac},{id:2,img:$s}],taskdesc:"   "},{id:"2",title:"     ",date:"15 , 2021",badgeText:" ",badgeColor:"primary",taskdesc:"    ",taskdesc1:"    ",budget:"112",imageTextColor:"bg-success",userImages:[{id:1,img:Bd},{id:2,img:$s},{id:0,imageText:"A"},{id:5,img:ac}],taskdesc:"  "},{id:"3",title:" Skote ",date:"15 , 1402",badgeText:" ",badgeColor:"secondary",budget:"86",imageTextColor:"bg-warning",kanbanImgtextColor:"bg-danger",kanbanImgtext:[{id:1,imageText:"9+"}],userImages:[{id:4,img:oc},{id:0,imageText:"R"},{id:5,img:ac}],taskdesc:"solved issue"}]},{id:"4",name:"   ",cards:[{id:"5",title:"  ",date:"12 , 1402",badgeText:"",badgeColor:"success",budget:"132",userImages:[{id:7,img:hv},{id:8,img:cC}],brandLogo:[{id:1,img:Jie},{id:2,img:X_},{id:3,img:ML}],taskdesc:" "},{id:"6",title:"      ",date:"13 , 1402",badgeText:" ",badgeColor:"warning",budget:"103",imageTextColor:"bg-success",kanbanImgtextColor:"bg-info",kanbanImgtext:[{id:1,imageText:"3+"}],userImages:[{id:0,imageText:"A"},{id:6,img:uC},{id:4,img:oc},{id:7,img:hv}],taskdesc:"Create a Blog "},{id:"7",title:"      ",date:"13 , 1402",badgeText:" ",badgeColor:"warning",budget:"103",imageTextColor:"bg-success",kanbanImgtextColor:"bg-primary",kanbanImgtext:[{id:1,imageText:"7+"}],userImages:[{id:0,imageText:"A"},{id:4,img:oc},{id:5,img:ac}],taskdesc:"    "}]},{id:"8",name:" ",cards:[{id:"9",title:"  - ",date:"10 , 1402",badgeText:"",badgeColor:"success",imageTextColor:"",budget:"145",imageTextColor:"bg-danger",userImages:[{id:1,img:Bd},{id:2,img:$s},{id:0,imageText:"K"},{id:3,img:xo}],taskdesc:"  - "},{id:"10",title:"  ",date:"09 , 1402",badgeText:"",badgeColor:"success",budget:"92",kanbanImgtextColor:"bg-pink",kanbanImgtext:[{id:1,imageText:"5+"}],userImages:[{id:4,img:oc},{id:5,img:ac},{id:6,img:uC}],brandLogo:[{id:1,imges:Dnt},{id:2,imges:Lnt},{id:3,imges:Mnt}],taskdesc:"     "},{id:"11",title:"Skote ",date:"15 , 1402",badgeText:" ",badgeColor:"secondary",budget:"86",imageTextColor:"bg-danger",kanbanImgtextColor:"bg-info",kanbanImgtext:[{id:1,imageText:"2+"}],userImages:[{id:7,img:hv},{id:8,img:cC},{id:0,imageText:"D"}],taskdesc:"  Skote "}]}],Mh={allmail:[{id:1,name:",  (3)",description:"<a class='subject' href='#'>  <span class='teaser'>                 . :)</span></a>",read:!0,starred:!0,date:" 6",category:" "},{id:2,name:",  (7)",description:"<a href='#' class='subject'> <span class='bg-warning badge me-2'>  </span>                     <span class='teaser'>               </span></a>",read:!0,starred:!1,date:" 6",category:" "},{id:3,name:"  ",description:"<a href='#' class='subject'>   <span class='teaser'>          </span></a>",read:!0,starred:!1,date:" 7",category:""},{id:4,name:",  (2)",description:"<a href='#' class='subject'> <span class='bg-info badge me-2'>  </span>    - <span class='teaser'>                   </span></a>",read:!0,starred:!1,date:" 4",category:""},{id:5,name:"",description:"<a href='#' class='subject'> <span class='bg-primary badge me-2'>  </span>       <span class='teaser'>              </span></a>",read:!0,starred:!0,date:" 28",category:" "},{id:6,name:" ",description:"<a href='#' class='subject'>  <span class='teaser'>          </span></a>",read:!0,starred:!1,date:" 28",category:2},{id:7,name:",  (5)",description:"<a href='#' class='subject'> <span class='bg-success badge me-2'>  </span>              </span></a>",read:!1,starred:!1,date:"5:01 .",category:""},{id:8,name:" ",description:"<a href='#' class='subject'>     <span class='teaser'>             </span></a>",read:!0,starred:!1,date:" 8",category:""},{id:9,name:" HR",description:"<a href='#' class='subject'>      <span class='teaser'>        </span></a>",read:!0,starred:!1,date:" 8",category:""},{id:10,name:"",description:"<a href='#' class='subject'> <span class='bg-danger badge me-2'>  </span>      <span class='teaser'>               </span></a>",read:!0,starred:!1,date:" 27",category:""},{id:11,name:",  (5)",description:"<a href='#' class='subject'>      <span class='teaser'>    </span></a>",read:!0,starred:!0,date:" 24",category:" "},{id:12,name:"",description:"<a href='#' class='subject'> <span class='bg-primary badge me-2'>  </span>   :     ARP - <span class='teaser'>  Alex@Work            . </span></a>",read:!0,starred:!1,date:" 24",category:""},{id:13,name:"  ",description:"<a href='#' class='subject'>      <span class='teaser'>           </span></a>",read:!0,starred:!1,date:" 23",category:" "},{id:14,name:",  (7)",description:"<a href='#' class='subject'>  <span class='teaser'>         </span></a>",read:!0,starred:!0,date:" 23",category:" "},{id:15,name:",  (5)",description:"<a href='#' class='subject'> <span class='bg-info badge me-2'>  </span>  !  <span class='teaser'>     </span></a>",read:!1,starred:!1,date:" 21",category:" "},{id:16,name:" ",description:"<a href='#' class='subject'>1      Stackexchange   <span class='teaser'>               Stack Exchange    </span></a>",read:!0,starred:!1,date:" 21",category:""},{id:17,name:"Google Drive ",description:"<a href='#' class='subject'>          Google Drive    <span class='teaser'>  !        Google Drive </span></a>",read:!0,starred:!0,date:" 20",category:" "},{id:18,name:",  (11)",description:"<a href='#' class='subject'>  /   <span class='teaser'>     </span></a>",read:!0,starred:!1,date:" 19",category:""}],folders:[{id:0,handle:"inbox",title:""},{id:1,handle:"important",title:""},{id:2,handle:"drafts",title:" "},{id:3,handle:"sent",title:" "},{id:4,handle:"trash",title:" "}]},Ed="/assets/img-1-CcFJDHYH.png",Om="/assets/img-2-BjKJO-LC.png",IR="/assets/img-3-Cbjl7Pmz.png",e1="/assets/img-4-DvR987FO.png",hj="/assets/img-5-C3axgz3s.png",Hm="/assets/img-6-AsEaabJ6.png",$nt="/assets/img-7-yTyzhdeD.png",Fnt="/assets/Pro-12b-BBlTDTpf.png",oW="/assets/Pro-17-2jaIFaQq.png",Vnt="/assets/Pro-17a-CM-CrHLz.png",fj=[{id:1,image:Ed,name:"  ",link:"#",category:"",rating:5,oldPrice:500,newPrice:450,isOffer:!0,offer:0,reviews:0,subImage:[Ed,Hm,Om],specification:[{type:" ",value:""},{type:"",value:""},{type:"",value:""},{type:"",value:""}],features:[{icon:"fa fa-caret-right",type:"",value:" "},{icon:"fa fa-caret-right",type:"",value:"   "},{icon:"fa fa-caret-right",type:"",value:"      "},{icon:"fa fa-caret-right",type:"",value:"    "}],colorOptions:[{image:Ed,color:""},{image:Om,color:""}]},{id:2,image:Om,name:"  ",link:"#",category:"",rating:4,oldPrice:225,newPrice:175,isOffer:!0,offer:30,reviews:0,subImage:[Om,hj,Hm],specification:[{type:" ",value:""},{type:"",value:""},{type:"",value:""},{type:"",value:" "}],features:[{icon:"fa fa-caret-right",type:"Fit",value:" "},{icon:"fa fa-caret-right",type:"",value:"   "},{icon:"fa fa-caret-right",type:"",value:"      "},{icon:"fa fa-caret-right",type:"",value:"    "}],colorOptions:[{image:Om,color:""},{image:hj,color:""}]},{id:3,image:IR,name:"  ",link:"#",category:"",rating:4,oldPrice:177,newPrice:152,isOffer:!0,offer:10,reviews:0,subImage:[IR,Ed,Hm],specification:[{type:" ",value:""},{type:"",value:""},{type:"",value:" "},{type:"",value:""}],features:[{icon:"fa fa-caret-right",type:"Fit",value:" "},{icon:"fa fa-caret-right",type:"",value:"   "},{icon:"fa fa-caret-right",type:"",value:"      "},{icon:"fa fa-caret-right",type:"",value:"    "}],colorOptions:[{image:IR,color:""},{image:Ed,color:""}]},{id:4,image:e1,name:" ()",link:"#",category:"",rating:3,oldPrice:150,newPrice:145,reviews:0,offer:20,subImage:[e1,Ed,Fnt],specification:[{type:" ",value:""},{type:"",value:""},{type:"",value:""},{type:"",value:""}],features:[{icon:"fa fa-caret-right",type:"Fit",value:" "},{icon:"fa fa-caret-right",type:"",value:"   "},{icon:"fa fa-caret-right",type:"",value:"      "},{icon:"fa fa-caret-right",type:"",value:"    "}],colorOptions:[{image:e1,color:" "},{image:Ed,color:""}]},{id:5,image:hj,name:"   ",link:"#",category:"",rating:3,oldPrice:177,newPrice:152,isOffer:!0,offer:40,reviews:5,subImage:[hj,Om,Ed],specification:[{type:"Size",value:""},{type:"Color",value:""}],features:[{icon:"fa fa-caret-right",type:"Fit",value:" "},{icon:"fa fa-caret-right",type:"",value:"   "},{icon:"fa fa-caret-right",type:"",value:"      "},{icon:"fa fa-caret-right",type:"",value:"    "}],colorOptions:[{image:Ed,color:""},{image:Om,color:""}]},{id:6,image:Hm,name:"  ",link:"#",category:"",rating:2,oldPrice:200,newPrice:100,isOffer:!0,offer:30,reviews:10,subImage:[Hm,oW,Vnt],specification:[{type:" ",value:""},{type:"",value:""},{type:"",value:"L"},{type:"",value:""}],features:[{icon:"fa fa-caret-right",type:"Fit",value:" "},{icon:"fa fa-caret-right",type:"",value:"   "},{icon:"fa fa-caret-right",type:"",value:"      "},{icon:"fa fa-caret-right",type:"",value:"    "}],colorOptions:[{image:Hm,color:""},{image:oW,color:" "}]}],Unt=[{id:1,img:$nt,name:"  ",link:"",rating:4,oldPrice:240,newPrice:225},{id:2,img:e1,name:"  ",link:"",rating:4,oldPrice:150,newPrice:145},{id:3,img:Hm,name:"   ",link:"",rating:4,oldPrice:138,newPrice:135}],Bnt=[{id:1,img:"avatar2",name:"",description:"             ",date:"5  "},{id:2,img:"avatar4",name:"",description:"    2       ",date:"07 , 1402",childComment:[{id:1,img:"avatar5",name:"",description:"        ",date:"08 , 1402"}]},{id:3,img:"Null",name:"",description:"            ",date:"05 , 1402"}],lW=[{id:"customCheck2",orderId:"#SK2540",billingName:" ",orderDate:"1402-10-08",total:" 400.000",badgeClass:"success",paymentStatus:" ",methodIcon:"fa-cc-mastercard",paymentMethod:"",coin:" ",type:""},{id:"customCheck3",orderId:"#SK2541",billingName:" ",orderDate:"1402-10-07",total:" 380.000",badgeClass:"danger",paymentStatus:" ",methodIcon:"fa-cc-visa",paymentMethod:"",coin:"",type:""},{id:"customCheck4",orderId:"#SK2542",billingName:" ",orderDate:"1401-10-06",total:" 384.000",badgeClass:"success",paymentStatus:" ",methodIcon:"fa-cc-paypal",paymentMethod:" ",coin:" ",type:""},{id:"customCheck5",orderId:"#SK2543",billingName:" ",orderDate:"1400-10-05",total:" 412.000",badgeClass:"success",paymentStatus:" ",methodIcon:"fa-cc-mastercard",paymentMethod:"",coin:" ",type:""},{id:"customCheck6",orderId:"#SK2544",billingName:" ",orderDate:"1402-10-04",total:" 404.000",badgeClass:"warning",paymentStatus:"",methodIcon:"fa-cc-visa",paymentMethod:"",coin:" ",type:""},{id:"customCheck7",orderId:"#SK2545",billingName:" ",orderDate:"1402-10-04",total:" 392.000",badgeClass:"success",paymentStatus:" ",methodIcon:"fa-cc-paypal",paymentMethod:" ",coin:"",type:""},{id:"customCheck8",orderId:"#SK2546",billingName:" ",orderDate:"1400-10-03",total:" 374.000",badgeClass:"success",paymentStatus:" ",methodIcon:"fas fa-money-bill-alt",paymentMethod:"COD",coin:" ",type:""},{id:"customCheck9",orderId:"#SK2547",billingName:" ",orderDate:"1401-10-02",total:"  350.000",badgeClass:"success",paymentStatus:" ",methodIcon:"fa-cc-paypal",paymentMethod:"",coin:" ",type:""},{id:"customCheck10",orderId:"#SK2548",billingName:" ",orderDate:"1400-10-01",total:"  345",badgeClass:"warning",paymentStatus:"",methodIcon:"fa-cc-paypal",paymentMethod:"",coin:"",type:""},{id:"customCheck11",orderId:"#SK2540",billingName:" ",orderDate:"1402-10-08",total:"  400",badgeClass:"success",paymentStatus:" ",methodIcon:"fa-cc-mastercard",paymentMethod:"",coin:"",type:""},{id:"customCheck12",orderId:"#SK2541",billingName:" ",orderDate:"1402-10-07",total:"  380",badgeClass:"danger",paymentStatus:" ",methodIcon:"fa-cc-visa",paymentMethod:"",coin:" ",type:""},{id:"customCheck13",orderId:"#SK2542",billingName:" ",orderDate:"1400-10-06",total:"  384",badgeClass:"success",paymentStatus:" ",methodIcon:"fa-cc-paypal",paymentMethod:" ",coin:" ",type:""},{id:"customCheck14",orderId:"#SK2543",billingName:" ",orderDate:"1401-10-05",total:"  412",badgeClass:"success",paymentStatus:" ",methodIcon:"fa-cc-mastercard",paymentMethod:"",coin:" ",type:""}],cW={products:[{id:1,img:"img1",name:"  ",color:" ",price:"450.000",data_attr:2,total:900},{id:2,img:"img2",name:"   ",color:" ",price:"225.000",data_attr:6,total:225},{id:3,img:"img3",name:"  ",color:"",price:"152.000",data_attr:2,total:304},{id:4,img:"img4",name:" ()",color:"",price:"145.000",data_attr:2,total:290},{id:5,img:"img5",name:"  ",color:" ",price:"138.000",data_attr:8,total:138},{id:6,img:"img6",name:"  ",color:"",price:"152.000",data_attr:2,total:304}],orderSummary:{grandTotal:" 1,857,000",discount:" 157,000",shippingCharge:" 25,000",estimatedTax:" 19.22,",total:" 1744.22"}},uW=[{id:1,username:" ",phone:"0912567987",email:"setare@teleworm.us",address:"     ",rating:"4.2",walletBalance:" 5,412",joiningDate:"1400-10-07"},{id:2,username:" ",phone:"0912567987",email:"erfamiri@armyspy.com",address:"     11",rating:"4.0",walletBalance:" 5,632",joiningDate:"1400-10-06"},{id:3,username:" ",phone:"0912567987",email:"sooba@jourrapide.com",address:"       ",rating:"4.4",walletBalance:" 7,523",joiningDate:"1402-10-06"},{id:4,username:" ",phone:"0912567987",email:"elnaz@armyspy.com",address:"     ",rating:"4.1",walletBalance:" 6,325",joiningDate:"1400-10-05"},{id:5,username:" ",phone:"0912567987",email:"nura@dayrep.com",address:"    2",rating:"3.8",walletBalance:" 4,523",joiningDate:"1401-10-04"},{id:6,username:" ",phone:"0912567987",email:"arman@teleworm.us",address:"     ",rating:"4.0",walletBalance:" 5,412",joiningDate:"1401-10-03"},{id:7,username:" ",phone:"0912567987",email:"niasalehi@teleworm.us",address:"     2",rating:"4.2",walletBalance:" 6,180",joiningDate:"1402-10-02"},{id:8,username:" ",phone:"0912567987",email:"alitehrani@armyspy.com",address:"      ",rating:"4.1",walletBalance:" 5,2870",joiningDate:"1400-10-02"},{id:9,username:" ",phone:"0912567987",email:"elahe@teleworm.us",address:"    4",rating:"4.2",walletBalance:" 5,412",joiningDate:"1400-10-07"},{id:10,username:" ",phone:"0912567987",email:"darabi@armyspy.com",address:"     12",rating:"4.0",walletBalance:" 5,632",joiningDate:"1400-10-06"},{id:11,username:" ",phone:"0912567987",email:"hossein@jourrapide.com",address:"   ",rating:"4.4",walletBalance:" 7,523",joiningDate:"1401-10-06"},{id:12,username:" ",phone:"0912567987",email:"elnaz@armyspy.com",address:"     ",rating:"4.1",walletBalance:" 6,325",joiningDate:"1401-10-05"},{id:13,username:" ",phone:"0912567987",email:"farahani@dayrep.com",address:"    11",rating:"3.8",walletBalance:" 4,523",joiningDate:"1401-10-04"}],dW=[{id:1,color:"primary",name:" ",product:112,balance:"13,575",profileLink:"#"},{id:2,color:"warning",name:" ",product:104,balance:"11,145",profileLink:"#"},{id:3,color:"danger",name:" ",product:126,balance:"12,356",profileLink:"#"},{id:4,color:"success",name:" ",product:102,balance:"11,228",profileLink:"#"},{id:5,color:"info",name:" ",product:96,balance:"9,235",profileLink:"#"},{id:6,color:"dark",name:" ",product:120,balance:"14,794",profileLink:"#"},{id:7,color:"dark",name:" ",product:104,balance:"11,145",profileLink:"#"},{id:8,color:"primary",name:" ",product:112,balance:"13,575",profileLink:"#"},{id:9,color:"success",name:" ",product:120,balance:"12,356",profileLink:"#"}],Sd=[{commentId:1,user:{name:"",profile:"avatar2"},comment:"           ",time:"5   ",hasLiked:!1},{commentId:2,user:{name:"",profile:"avatar4"},comment:"      ",time:"07 , 1402",hasLiked:!1,replies:[{commentId:2,replyId:1,user:{name:"",profile:"avatar5"},comment:"        ",time:"08 , 1402",hasLiked:!1}]},{commentId:3,user:{name:"",profile:"avatar3"},comment:"",time:"05 , 1402",hasLiked:!1}],hW=[{id:1,roomId:1,status:" ",image:$s,name:" ",description:"!     ",time:"05 "},{id:2,roomId:2,status:"",image:xo,name:" ",description:"  !  ",time:"12 "},{id:3,roomId:3,status:"",name:" ",description:"   !",time:"24 ",isImg:!0,profile:"K"},{id:4,roomId:4,status:" ",image:oc,name:" ",description:"   ",time:"1 "},{id:5,roomId:5,status:"",name:" ",description:"!     ",time:"3 ",isImg:!0,profile:"M"},{id:6,roomId:6,status:"",image:uC,name:" ",description:"  !  ",time:"5 "},{id:7,roomId:7,status:"",name:" ",description:"   !",time:"24 ",isImg:!0,profile:"K"}],fW=[{id:1,roomId:1,image:"G",name:"",status:" "},{id:2,roomId:2,image:"R",name:" ",status:""},{id:3,roomId:3,image:"M",name:"",status:" "},{id:4,roomId:4,image:"A",name:" A",status:""},{id:5,roomId:5,image:"B",name:" B",status:" "}],mW=[{id:1,category:"A",child:[{id:1,roomId:1,name:" ",status:""},{id:2,roomId:2,name:" ",status:" "}]},{id:2,roomId:2,category:"B",child:[{id:3,roomId:3,name:" ",status:""}]},{id:3,roomId:3,category:"C",child:[{id:4,roomId:4,name:" ",status:" "},{id:5,roomId:5,name:" ",status:""},{id:6,roomId:6,name:" ",status:" "}]},{id:4,roomId:4,category:"D",child:[{id:7,roomId:7,name:" ",status:""}]}],pW=[{id:1,roomId:1,sender:" ",message:"!",isToday:"",userMessages:[{id:1,to_id:1,msg:"  ",time:"10:00",isImages:!1},{id:2,to_id:2,msg:".     ",isImages:!1,time:"10:02"},{id:3,to_id:1,msg:"   ",isImages:!1,time:"10:06"},{id:4,to_id:2,msg:"     10 ",isImages:!1,time:"10:06"},{id:5,to_id:1,msg:" ",isImages:!1,time:"10:07"}]},{id:2,roomId:2,sender:" ",message:"!",isToday:"",userMessages:[{id:6,to_id:1,msg:".     ",time:"10:02"},{id:7,to_id:2,msg:"   ",time:"10:06"},{id:8,to_id:1,msg:"     10 ",time:"10:06"}]},{id:3,roomId:3,sender:" ",message:"!",time:"11:02",isToday:"5 ",userMessages:[{id:1,to_id:1,msg:"   ",time:"10:06"},{id:2,to_id:2,msg:"     10 ",time:"10:06"},{id:3,to_id:1,msg:" ",time:"10:07"}]},{id:4,roomId:4,sender:" ",message:"!",time:"1 ",isToday:"1 ",userMessages:[{id:1,to_id:1,msg:"  ",time:"10:00"},{id:2,to_id:2,msg:"   ",time:"10:06"}]},{id:5,roomId:5,sender:" ",message:"!",time:"11:05",isToday:"1 ",userMessages:[{id:1,to_id:1,msg:"  ",time:"10:00"},{id:2,to_id:2,msg:"     10 ",time:"10:06"},{id:3,to_id:1,msg:" ",time:"10:07"}]},{id:6,roomId:6,sender:" ",message:"!",time:"1 ",isToday:"30 ",userMessages:[{id:1,to_id:1,msg:"  ",time:"10:00"},{id:2,to_id:2,msg:".     ",time:"10:02"},{id:3,to_id:1,msg:"   ",time:"10:06"},{id:4,to_id:2,msg:"     10 ",time:"10:06"}]},{id:7,roomId:7,sender:" ",message:"",time:"1 ",isToday:"30 ",userMessages:[{id:1,to_id:1,msg:"  ",time:"10:00"},{id:2,to_id:2,msg:".     ",time:"10:02"},{id:3,to_id:1,msg:"Yeah everything is fine",time:"10:06"},{id:4,to_id:2,msg:"     10 ",time:"10:06"},{id:5,to_id:1,msg:" ",time:"10:07"}]}],gW=[{id:1,title:"[ ]",start:new Date().setDate(new Date().getDate()+1),className:"bg-success text-white"},{id:2,title:"",start:new Date,end:new Date,className:"bg-success text-white"},{id:3,title:"  ",start:new Date().setDate(new Date().getDate()+18),className:"bg-dark text-white"},{id:4,title:"   ",start:new Date().setDate(new Date().getDate()-9),className:"bg-primary text-white"},{id:5,title:" ",start:new Date().setDate(new Date().getDate()-3),className:"bg-info text-white"},{id:6,title:"",start:new Date().setDate(new Date().getDate()),className:"bg-danger text-white"},{id:7,title:" ",start:new Date().setDate(new Date().getDate()+4),className:"bg-primary text-white"},{id:8,title:" ",start:new Date().setDate(new Date().getDate()-5),end:new Date().setDate(new Date().getDate()-3),className:"bg-warning text-white"}],yW=[{id:1,title:"   ",type:"bg-success"},{id:2,title:"",type:"bg-info"},{id:3,title:"  ",type:"bg-warning"},{id:4,title:"  ",type:"bg-danger"}],vW=[{id:1,name:" ",designation:"UI/UX ",color:"primary",email:"david@skote.com",projects:"125",tags:["",""]},{id:2,img:$s,name:" ",designation:"  Frontend",email:"ali@skote.com",projects:"132",tags:["Html","Css","Php"]},{id:3,img:xo,name:" ",designation:"Backend   ",email:"mmss@skote.com",projects:"1112",tags:["Php","","","Html"]},{id:4,name:" ",designation:"Full Stack   ",color:"success",email:"sara@skote.com",projects:"121",tags:["","Php","UI/UX "]},{id:5,img:oc,name:" ",designation:"  Frontend",email:"mahshid@skote.com",projects:"145",tags:["Html","Css",""]},{id:6,img:ac,name:" ",designation:"UI/UX Designer",email:"samira@skote.com",projects:"136",tags:["",""]},{id:7,name:" ",designation:"Full Stack   ",color:"info",email:"sahel@skote.com",projects:"125",tags:["","Php",""]},{id:8,img:hv,name:" ",designation:"Backend   ",color:"",email:"zaniar@skote.com",projects:"136",tags:["Php","",""]}],bW={id:1,name:" ",designation:"UI/UX ",img:Bd,projectCount:125,revenue:1245,personalDetail:"                     .                               ",phone:"(123) 123 1234",email:"saratavasoli@gmail.com",location:", ",experiences:[{id:1,iconClass:"bx-server",link:"#",designation:"Back end   ",timeDuration:"1400 - 19"},{id:2,iconClass:"bx-code",link:"#",designation:"Front end   ",timeDuration:"1398 - 16"},{id:3,iconClass:"bx-edit",link:"#",designation:"UI /UX ",timeDuration:"1399 - 13"}],projects:[{id:1,name:"   Skote",startDate:"2 , 1401",deadline:"20 , 1401",budget:" 506"},{id:2,name:"  Skote",startDate:"1 , 1401",deadline:"2 , 1401",budget:" 94"},{id:3,name:"  -   ",startDate:"21 , 1401",deadline:"29 , 1401",budget:" 156"},{id:4,name:"   ",startDate:"29 , 1401",deadline:"04 , 1401",budget:" 122"},{id:5,name:" ",startDate:"05 , 1401",deadline:"16 , 1401",budget:" 164"},{id:6,name:"  -   ",startDate:"17 , 1401",deadline:"05 , 1401",budget:" 192"},{id:7,name:" ",startDate:"04 , 1401",deadline:"05 , 1401",budget:" 94"}]},_W=[{id:"Year",Year:[{name:" A",data:[44,55,41,67,22,43,36,52,24,18,36,48]},{name:" B",data:[13,23,20,8,13,27,18,22,10,16,24,22]},{name:" C",data:[11,17,15,15,21,14,11,18,17,12,20,18]}]},{id:"Month",Month:[{name:" A",type:"bar",data:[34,55,21,77,32,63,86,42,34,18,16,41]},{name:" B",type:"bar",data:[10,63,40,80,52,41,11,32,30,86,44,33]},{name:" C",type:"bar",data:[11,17,15,85,21,14,80,58,17,12,20,18]}]},{id:"Week",Week:[{name:" A",type:"bar",data:[14,52,11,57,22,33,31,22,64,14,32,68]},{name:" B",type:"bar",data:[13,23,20,8,13,27,18,22,10,16,24,22]},{name:" C",type:"bar",data:[11,17,15,15,34,55,21,18,17,12,20,18]}]}],wW=[{id:1,jobId:"#SK2540",jobTitle:"Magento  ",companyName:"  ",location:"",experience:"0-2 ",position:2,type:" ",typeBadgeColor:"success",postedDate:"02  1401",lastDate:"25  1401",status:"",statusBadgeColor:"success"},{id:2,jobId:"#SK2541",jobTitle:" ",companyName:"  pvt.ltd",location:"",experience:"1-2 ",position:3,type:" ",typeBadgeColor:"danger",postedDate:"15  1401",lastDate:"28  1401",status:"",statusBadgeColor:"info"},{id:3,jobId:"#SK2542",jobTitle:" ",companyName:" ",location:"",experience:"-",position:5,type:" ",typeBadgeColor:"success",postedDate:"02  1401",lastDate:"25  1401",status:"",statusBadgeColor:"danger"},{id:4,jobId:"#SK2543",jobTitle:"HTML  ",companyName:"  pvt.ltd",location:"",experience:"0-4 ",position:8,type:" ",typeBadgeColor:"success",postedDate:"02  1401",lastDate:"25  1401",status:"",statusBadgeColor:"success"},{id:5,jobId:"#SK2544",jobTitle:"  ",companyName:" Skote Technology Pvt.Ltd",location:"",experience:"5+ ",position:1,type:" ",typeBadgeColor:"danger",postedDate:"02  1401",lastDate:"25  1401",status:"",statusBadgeColor:"info"},{id:6,jobId:"#SK2545",jobTitle:"Magento  ",companyName:"  pvt.ltd",location:"",experience:"0-2 ",position:2,type:"",typeBadgeColor:"info",postedDate:"02  1401",lastDate:"25  1401",status:"",statusBadgeColor:"info"},{id:7,jobId:"#SK2546",jobTitle:" ",companyName:"  pvt.ltd",location:"",experience:"0-2 ",position:2,type:" ",typeBadgeColor:"success",postedDate:"02  2021",lastDate:"25  1401",status:"",statusBadgeColor:"success"},{id:8,jobId:"#SK2547",jobTitle:"Magento  ",companyName:" Adobe",location:"",experience:"0-2 ",position:2,type:" ",typeBadgeColor:"success",postedDate:"02  1401",lastDate:"25  1401",status:"",statusBadgeColor:"danger"},{id:9,jobId:"#SK2548",jobTitle:"HTML  ",companyName:"  pvt.ltd",location:"",experience:"0-2 ",position:2,type:" ",typeBadgeColor:"danger",postedDate:"02  1401",lastDate:"25  1401",status:"",statusBadgeColor:"info"},{id:10,jobId:"#SK2549",jobTitle:" ",companyName:"  pvt.ltd",location:"",experience:"0-2 ",position:2,type:"",typeBadgeColor:"warning",postedDate:"02  1401",lastDate:"25  1401",status:"",statusBadgeColor:"success"}],xW=[{id:10,no:10,jobTitle:"Magento  ",companyName:"  Pvt.Ltd",type:"",applyDate:"02  1402",status:""},{id:9,no:9,jobTitle:"Magento  ",companyName:" Adobe",type:"",applyDate:"02  1402",status:""},{id:8,no:8,jobTitle:"Magento  ",companyName:"  Pvt.Ltd",type:" ",applyDate:"02  1402",status:""},{id:7,no:7,jobTitle:"Magento  ",companyName:"  Pvt.Ltd",type:" ",applyDate:"25  1402",status:""},{id:6,no:6,jobTitle:"Magento  ",companyName:"  ",type:"",applyDate:"25  1402",status:""},{id:5,no:5,jobTitle:" ",companyName:" New Technology Pvt.Ltd",type:" ",applyDate:"25  1402",status:""},{id:4,no:4,jobTitle:"HTML  ",companyName:" Skote Technology Pvt.Ltd",type:" ",applyDate:"02  1402",status:""},{id:3,no:3,jobTitle:"Magento  ",companyName:"  Pvt.Ltd",type:" ",applyDate:"02  1402",status:""},{id:2,no:2,jobTitle:" ",companyName:"  ",type:" ",applyDate:"15  1402",status:""},{id:1,no:1,jobTitle:"Magento  ",companyName:" ",type:" ",applyDate:"02  1402",status:""}],EW=[{id:"jan",jan:[{name:" A",desc:"   ",value:37},{name:" B",desc:"  ",value:72},{name:" C",desc:"  ",value:54}]},{id:"dec",dec:[{name:" D",desc:"   ",value:18},{name:" E",desc:"    ",value:51},{name:" F",desc:"   ",value:48}]},{id:"nov",nov:[{name:" G",desc:"  ",value:27},{name:" H",desc:"    ",value:75},{name:" I",desc:"   ",value:39}]},{id:"oct",oct:[{name:" J",desc:" ",value:56},{name:" K",desc:"   ",value:41},{name:" L",desc:" ",value:20}]}],SW=[{id:"jan",jan:[31,40,36,51,49,72,69,56,68,82,68,76]},{id:"dec",dec:[42,19,32,51,49,44,14,56,68,82,68,60]},{id:"nov",nov:[31,40,30,51,49,72,69,15,35,42,18,70]},{id:"oct",oct:[31,40,49,44,14,56,69,31,40,36,51,40]}],jW=[{id:"1",series:[76,67,61],availablebalance:9575.39,income:5749.46,Expense:1698.38,Ethereum:{ETH:1.5236,Dollar:1123.64},Bitcoin:{BTC:.4412,Dollar:2968.29},Litecoin:{LTC:17.4169,Dollar:1169.47}},{id:"2",series:[76,40,60],availablebalance:6134.39,income:2698.46,Expense:845.38,Ethereum:{ETH:7.5698,Dollar:3657.19},Bitcoin:{BTC:2.8527,Dollar:7459.62},Litecoin:{LTC:43.4985,Dollar:4789.93}},{id:"3",series:[20,55,61],availablebalance:5296.39,income:4126.12,Expense:568.49,Ethereum:{ETH:5.6781,Dollar:958.52},Bitcoin:{BTC:1.5269,Dollar:5239.16},Litecoin:{LTC:49.5987,Dollar:3698.13}},{id:"4",series:[70,67,40],availablebalance:6134.39,income:2632.46,Expense:924.38,Ethereum:{ETH:4.5701,Dollar:1123.64},Bitcoin:{BTC:.4412,Dollar:4025.32},Litecoin:{LTC:35.3811,Dollar:2263.09}}],TW=[{id:1,data:{company:[30,48,28,74,39,87,54,36,50,87,84],newJobs:[20,50,42,10,24,28,60,35,47,64,78],totalJobs:[44,55,41,67,22,43,21,41,56,27,43],jobView:[30,25,36,30,45,35,64,52,59,36,39]}},{id:2,data:{company:[25,95,87,14,56,12,14,56,35,14,25],newJobs:[85,87,56,45,14,87,56,98,19,51,78,49],totalJobs:[85,75,95,48,59,68,15,35,26,45,59,57],jobView:[78,89,84,98,67,59,48,42,35,29,18,59]}},{id:3,data:{company:[30,48,28,74,39,87,54,56,35,14,30],newJobs:[52,43,69,75,49,28,56,19,51,60,49],totalJobs:[57,49,68,87,71,29,49,26,50,59,57],jobView:[78,84,95,76,68,57,48,35,29,20,59]}}],CW=[{id:1,data:{categories:["28' ","13' 05' ","13' ","13' ","13' ","13' ","13' ","13' ","13' ","13' ","13' ","13' "],CurrentData:[18,21,45,36,65,47,51,32,40,28,31,26],PreviousData:[30,11,22,18,32,23,58,45,30,36,15,34]},today:1024,thisMonth:12356,thisYear:102354},{id:2,data:{categories:["Jul","Aug","Sep","Oct","Nov","Dec"],CurrentData:[51,32,40,28,31,26],PreviousData:[58,45,30,36,15,34]},today:2022,thisMonth:39485,thisYear:102938},{id:3,data:{categories:[" '21"," '21"," '21"," '21"," '21"," '21"," '21"," '21"," '21"," '21"," '21","2022"],CurrentData:[19,27,47,56,68,41,57,22,29,58,20,18],PreviousData:[51,46,28,17,67,13,49,47,57,84,72,16]},today:1029,thisMonth:56473,thisYear:938271},{id:4,data:{categories:["","","","","","","","","","","",""],CurrentData:[18,21,45,36,65,47,50,32,45,28,30,26],PreviousData:[20,11,22,20,32,23,58,25,30,36,25,34]},today:6095,thisMonth:47893,thisYear:348098}];let ec=[{uid:1,username:"admin",role:"admin",password:"123456",email:"admin@themesbrand.com"}];const znt=()=>{const t=new Tnt(ss,{onNoMatch:"passthrough"});t.onPost(Fse).reply(e=>{const n=JSON.parse(e.data);return ec.push(n),new Promise((r,s)=>{setTimeout(()=>{r([200,n])})})}),t.onPost("/post-fake-login").reply(e=>{const n=JSON.parse(e.data),r=ec.filter(s=>s.email===n.email&&s.password===n.password);return new Promise((s,i)=>{setTimeout(()=>{r.length===1?s([200,r[0]]):i(["      .          "])})})}),t.onPost("/fake-forget-pwd").reply(e=>new Promise((n,r)=>{setTimeout(()=>{n([200,"           "])})})),t.onPost("/post-jwt-register").reply(e=>{const n=JSON.parse(e.data);return ec.push(n),new Promise((r,s)=>{setTimeout(()=>{r([200,n])})})}),t.onPost("/post-jwt-login").reply(e=>{const n=JSON.parse(e.data),r=ec.filter(s=>s.email===n.email&&s.password===n.password);return new Promise((s,i)=>{setTimeout(()=>{if(r.length===1){const o=NR,l=n.name,c={accessToken:o,username:l},u={...r[0],...c,...n.name};s([200,u])}else i([400,"      .          "])})})}),t.onPost("/post-jwt-profile").reply(e=>{const n=JSON.parse(e.data);let s=e.headers.Authorization;const i=ec.filter(o=>o.uid===n.idx);return new Promise((o,l)=>{setTimeout(()=>{if(s===NR)if(i.length===1){let c;c=ec.findIndex(u=>u.uid===n.idx),ec[c].username=n.username,localStorage.removeItem("authUser"),localStorage.setItem("authUser",JSON.stringify(ec[c])),o([200,"     "])}else l([400,"     "]);else l([400,"   !!"])})})}),t.onPost("/post-fake-profile").reply(e=>{const n=JSON.parse(e.data),r=ec.filter(s=>s.uid===n.idx);return new Promise((s,i)=>{setTimeout(()=>{if(r.length===1){let o;o=ec.findIndex(l=>l.uid===n.idx),ec[o].username=n.username,localStorage.removeItem("authUser"),localStorage.setItem("authUser",JSON.stringify(ec[o])),s([200,"     "])}else i([400,"           "])})})}),t.onPost("/jwt-forget-pwd").reply(e=>new Promise((n,r)=>{setTimeout(()=>{n([200,"           "])})})),t.onPost("/social-login").reply(e=>{const n=JSON.parse(e.data);return new Promise((r,s)=>{setTimeout(()=>{if(n&&n.token){const i=NR,o=n.name,l={accessToken:i,username:o},c={...n[0],...l,...n.name};r([200,c])}else s([400,"      .          "])})})}),t.onGet(Vse).reply(()=>new Promise((e,n)=>{setTimeout(()=>{fj?e([200,fj]):n([400,"     "])})})),t.onGet(new RegExp(`${Use}/*`)).reply(e=>new Promise((n,r)=>{setTimeout(()=>{if(fj){const{params:s}=e,i=fj.find(o=>o.id.toString()===s.id.toString());n([200,{...i,recentProducts:Unt,comments:Bnt}])}else r([400,"      "])})})),t.onGet(Jse).reply(()=>new Promise((e,n)=>{setTimeout(()=>{gW?e([200,gW]):n([400,"    "])})})),t.onGet(zse).reply(()=>new Promise((e,n)=>{setTimeout(()=>{Mh.folders?e([200,Mh.folders]):n([400,"    "])})})),t.onPost(Bse).reply(e=>new Promise((n,r)=>{setTimeout(()=>{Mh.allmail?n([200,Mh.allmail]):r([400,"       "])})})),t.onPost(Wse).reply(e=>new Promise((n,r)=>{setTimeout(()=>{if(e&&e.data){const s=JSON.parse(e.data),i=Object.keys(s).map(o=>parseInt(s[o]));n([200,i.length>1?i:s[0]])}else r([400,"        "])})})),t.onPost(Gse).reply(e=>new Promise((n,r)=>{setTimeout(()=>{if(e&&e.data){const s=JSON.parse(e.data),{selectedmails:i,folderId:o}=s;Mh.allmail=Mh.allmail.map(l=>i.includes(l.id)?{...l,folder:parseInt(o)}:l),n([200])}else r([400,"       "])})})),t.onDelete(Hse).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.headers?n([200,e.headers.mail]):r([400,"     "])})})),t.onDelete(qse).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.headers?n([200,e.headers.mail]):r([400,"    "])})})),t.onDelete(Yse).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.headers?n([200,e.headers.mail]):r([400,"     "])})})),t.onGet(new RegExp(`${Kse}/*`)).reply(e=>new Promise((n,r)=>{setTimeout(()=>{if(Mh.allmail){const{params:s}=e,i=Mh.allmail.find(o=>o.id.toString()===s.id.toString());n([200,i])}else r([400,"    "])})})),t.onPost($ie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.data?n([200,e.data]):r([400,"     "])})})),t.onPut(Fie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.data?n([200,e.data]):r([400,"    "])})})),t.onDelete(Vie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.headers?n([200,e.headers.user]):r([400,"    "])})})),t.onPut(Iie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.data?n([200,e.data]):r([400,"     "])})})),t.onDelete(kie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.headers?n([200,e.headers.project]):r([400,"     "])})})),t.onPost(Qse).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.data?n([200,e.data]):r([400,"     "])})})),t.onPut(Zse).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.data?n([200,e.data]):r([400,"  "])})})),t.onDelete(Xse).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.headers?n([200,e.headers.event]):r([400,"  "])})})),t.onGet(eie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{yW?e([200,yW]):n([400,"      "])})})),t.onGet(tie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{hW?e([200,hW]):n([400,"      "])})})),t.onGet(nie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{fW?e([200,fW]):n([400,"      "])})})),t.onGet(rie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{mW?e([200,mW]):n([400,"      "])})})),t.onGet(new RegExp(`${sie}/*`)).reply(e=>new Promise((n,r)=>{setTimeout(()=>{if(pW){const{params:s}=e,i=pW.filter(o=>o.roomId===s.roomId);n([200,i])}else r([400,"      "])})})),t.onPost(iie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e.data?n([200,e.data]):r([400,"    "])})})),t.onDelete(aie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.headers?n([200,e.headers.data]):r([400,"    "])})})),t.onGet(oie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{lW?e([200,lW]):n([400,"    "])})})),t.onPost(lie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.data?n([200,e.data]):r([400,"   "])})})),t.onPut(cie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.data?n([200,e.data]):r([400,"      "])})})),t.onDelete(uie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.headers?n([200,e.headers.order]):r([400,"      "])})})),t.onGet(die).reply(()=>new Promise((e,n)=>{setTimeout(()=>{cW?e([200,cW]):n([400,"       "])})})),t.onGet(hie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{uW?e([200,uW]):n([400,"      "])})})),t.onPost(fie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.data?n([200,e.data]):r([400,"    "])})})),t.onPut(mie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.data?n([200,e.data]):r([400,"      "])})})),t.onDelete(pie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.headers?n([200,e.headers.customer]):r([400,"     "])})})),t.onGet(gie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{dW?e([200,dW]):n([400,"       "])})})),t.onGet(yie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{nW?e([200,nW]):n([400,"        "])})})),t.onGet(bie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{rW?e([200,rW]):n([400,"      "])})})),t.onGet(vie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{sW?e([200,sW]):n([400,"    "])})})),t.onGet(_ie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{uj?e([200,uj]):n([400,"     "])})})),t.onGet(new RegExp(`${wie}/*`)).reply(e=>new Promise((n,r)=>{setTimeout(()=>{if(uj){const{params:s}=e,i=uj.find(o=>o.id.toString()===s.id.toString());n([200,i])}else r([400,"     "])})})),t.onGet(Aie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{dj?e([200,dj]):n([400,"      "])})})),t.onGet(xie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{wW?e([200,wW]):n([400,"      "])})})),t.onPost(Eie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.data?n([200,e.data]):r([400,"      "])})})),t.onPut(Sie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.data?n([200,e.data]):r([400,"       "])})})),t.onDelete(jie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.headers?n([200,e.headers.job]):r([400,"      "])})})),t.onGet(Tie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{xW?e([200,xW]):n([400,"    "])})})),t.onDelete(Cie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.headers?n([200,e.headers.data]):r([400,"     "])})})),t.onGet(new RegExp(`${Nie}/*`)).reply(e=>new Promise((n,r)=>{setTimeout(()=>{if(dj){const{params:s}=e,i=dj.find(o=>o.id.toString()===s.id.toString());n([200,i])}else r([400,"      "])})})),t.onGet(Oie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{aW?e([200,aW]):n([400,"     "])})})),t.onPost(Pie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.data?n([200,e.data]):r([400,"  Kanban Data   "])})})),t.onPut(Die).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.data?n([200,e.data]):r([400,"       "])})})),t.onDelete(Rie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.headers?n([200,e.headers.kanban]):r([400,"     "])})})),t.onGet(Lie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{vW?e([200,vW]):n([400,"     "])})})),t.onGet(Mie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{bW?e([200,bW]):n([400,"      "])})})),t.onGet(new RegExp(`${zie}/*`)).reply(e=>new Promise((n,r)=>{setTimeout(()=>{const{param:s}=e;if(_W){const o=_W.filter(l=>l.id===s).map(l=>l[s]);n([200,o[0]])}else r([400,"     "])})})),t.onGet(new RegExp(`${Bie}/*`)).reply(e=>new Promise((n,r)=>{setTimeout(()=>{const{params:s}=e;if(EW){const o=EW.filter(l=>l.id===s.month).map(l=>l[s.month]);n([200,o[0]])}else r([400,"       "])})})),t.onGet(new RegExp(`${Hie}/*`)).reply(e=>new Promise((n,r)=>{setTimeout(()=>{const{params:s}=e;if(SW){const o=SW.filter(l=>l.id===s.month).map(l=>l[s.month]);n([200,o[0]])}else r([400,"        "])})})),t.onGet(new RegExp(`${Uie}/*`)).reply(e=>new Promise((n,r)=>{setTimeout(()=>{const{params:s}=e;if(CW){const i=CW.filter(o=>o.id===s.roomId);n([200,i])}else r([400,"        "])})})),t.onGet(new RegExp(`${Gie}/*`)).reply(e=>new Promise((n,r)=>{setTimeout(()=>{const{params:s}=e;if(TW){const i=TW.filter(o=>o.id===s.roomId);n([200,i])}else r([400,"       "])})})),t.onGet(new RegExp(`${Wie}/*`)).reply(e=>new Promise((n,r)=>{setTimeout(()=>{if(jW){const{params:s}=e,i=(jW||[]).filter(o=>o.id===s.roomId);n([200,i])}else r([400,"         "])})})),t.onGet(qie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{Sd?e([200,Sd]):n([400,"       "])})})),t.onPost(new RegExp(`${U4}/*`)).reply(e=>new Promise((n,r)=>{const{data:s}=e,{params:i}=JSON.parse(s);setTimeout(()=>{if(Sd){var o=[...Sd];const l=(o||[]).findIndex(c=>c.commentId.toString()===i.commentId.toString());if(l>-1)if(i.replyId&&o[l].replies){const c=(o[l].replies||[]).findIndex(u=>u.replyId.toString()===i.replyId.toString());c>-1&&(o[l].replies[c].hasLiked?o[l].replies[c].hasLiked=!1:o[l].replies[c].hasLiked=!0)}else o[l].hasLiked?o[l].hasLiked=!1:o[l].hasLiked=!0;n([200,o])}else r([400,"    "])})})),t.onPost(new RegExp(`${Yie}/*`)).reply(e=>new Promise((n,r)=>{const{data:s}=e,{params:i}=JSON.parse(s);setTimeout(()=>{if(Sd){const l=[...Sd],c=(l||[]).findIndex(f=>f.commentId.toString()===i.commentId.toString()),d=new Date().getMinutes();if(c>-1){var o=1;if(l[c].replies&&l[c].replies.length){const f=l[c].replies;o=f[f.length-1]+1;const m={commentId:i.commentId,replyId:o,user:{name:"Admin",profile:"avatar1"},comment:i.replyText,time:`${d} mins ago`,hasLiked:!1};l[c].replies.push({...m}),l[c].showAddComment=!1}else{l[c].replies=[];const f={commentId:i.commentId,replyId:o,user:{name:"Admin",profile:"avatar1"},comment:i.replyText,time:`${d} mins ago`,hasLiked:!1};l[c].replies.push({...f})}}n([200,l])}else r([400,"    "])})})),t.onPost(new RegExp(`${Kie}/*`)).reply(e=>new Promise((n,r)=>{const{data:s}=e,{params:i}=JSON.parse(s);setTimeout(()=>{if(Sd){const o=[...Sd],c=new Date().getMinutes(),u={commentId:o.length+1,user:{name:"Admin",profile:"avatar1"},comment:i.commentText,time:`${c} mins ago`,hasLiked:!1};o.push({...u}),Sd.push({...u}),n([200,o])}else r([400,"    "])})}))};znt();const Qie=t=>{const e=db(i=>i.Layout,i=>({layoutType:i.layoutType})),{layoutType:n}=g0(e);function r(i){let o=M8;switch(i){case"horizontal":o=int;break;default:o=M8;break}return o}const s=r(n);return a.jsx(ae.Fragment,{children:a.jsxs(Rbe,{children:[Eqe.map((i,o)=>a.jsx(e2,{path:i.path,element:a.jsx(ant,{children:i.component}),exact:!0},o)),xqe.map((i,o)=>a.jsx(e2,{path:i.path,element:a.jsx(Sqe,{children:a.jsx(s,{children:i.component})}),exact:!0},o))]})})};Qie.propTypes={layout:R.any};const Wnt=t=>({layout:t.Layout}),Gnt=cb(Wnt,null)(Qie);window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/);function Hnt(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(t=>{t.unregister()}).catch(t=>{console.error(t.message)})}function sa(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var qnt=typeof Symbol=="function"&&Symbol.observable||"@@observable",AW=qnt,kR=()=>Math.random().toString(36).substring(7).split("").join("."),Ynt={INIT:`@@redux/INIT${kR()}`,REPLACE:`@@redux/REPLACE${kR()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${kR()}`},dC=Ynt;function Knt(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Zie(t,e,n){if(typeof t!="function")throw new Error(sa(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(sa(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(sa(1));return n(Zie)(t,e)}let r=t,s=e,i=new Map,o=i,l=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((b,x)=>{o.set(x,b)}))}function d(){if(c)throw new Error(sa(3));return s}function f(b){if(typeof b!="function")throw new Error(sa(4));if(c)throw new Error(sa(5));let x=!0;u();const w=l++;return o.set(w,b),function(){if(x){if(c)throw new Error(sa(6));x=!1,u(),o.delete(w),i=null}}}function m(b){if(!Knt(b))throw new Error(sa(7));if(typeof b.type>"u")throw new Error(sa(8));if(typeof b.type!="string")throw new Error(sa(17));if(c)throw new Error(sa(9));try{c=!0,s=r(s,b)}finally{c=!1}return(i=o).forEach(w=>{w()}),b}function p(b){if(typeof b!="function")throw new Error(sa(10));r=b,m({type:dC.REPLACE})}function y(){const b=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(sa(11));function w(){const T=x;T.next&&T.next(d())}return w(),{unsubscribe:b(w)}},[AW](){return this}}}return m({type:dC.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:p,[AW]:y}}function Jnt(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:dC.INIT})>"u")throw new Error(sa(12));if(typeof n(void 0,{type:dC.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(sa(13))})}function Qnt(t){const e=Object.keys(t),n={};for(let i=0;i<e.length;i++){const o=e[i];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let s;try{Jnt(n)}catch(i){s=i}return function(o={},l){if(s)throw s;let c=!1;const u={};for(let d=0;d<r.length;d++){const f=r[d],m=n[f],p=o[f],y=m(p,l);if(typeof y>"u")throw l&&l.type,new Error(sa(14));u[f]=y,c=c||y!==p}return c=c||r.length!==Object.keys(o).length,c?u:o}}function Xie(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Znt(...t){return e=>(n,r)=>{const s=e(n,r);let i=()=>{throw new Error(sa(15))};const o={getState:s.getState,dispatch:(c,...u)=>i(c,...u)},l=t.map(c=>c(o));return i=Xie(...l)(s.dispatch),{...s,dispatch:i}}}var au=function(e){return"@@redux-saga/"+e},Xnt=au("CANCEL_PROMISE"),eae=au("CHANNEL_END"),tae=au("IO"),NW=au("MATCH"),nae=au("MULTICAST"),rae=au("SAGA_ACTION"),sae=au("SELF_CANCELLATION"),ert=au("TASK"),fv=au("TASK_CANCEL"),iae=au("TERMINATE"),trt=au("LOCATION");function hC(){return hC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hC.apply(null,arguments)}function nrt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var aae=function(e){return e==null},t1=function(e){return e!=null},Go=function(e){return typeof e=="function"},B4=function(e){return typeof e=="string"},Xf=Array.isArray,dN=function(e){return e&&Go(e.then)},z4=function(e){return e&&Go(e.next)&&Go(e.throw)},$L=function(e){return e&&(B4(e)||lae(e)||Go(e)||Xf(e)&&e.every($L))},W4=function(e){return e&&Go(e.take)&&Go(e.close)},oae=function(e){return Go(e)&&e.hasOwnProperty("toString")},lae=function(e){return!!e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype},rrt=function(e){return W4(e)&&e[nae]},srt=function(e){return function(){return e}},irt=srt(!0),qa=function(){},art=function(e){return e},G4=function(e,n){hC(e,n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(n).forEach(function(r){e[r]=n[r]})},ort=function(e,n){var r;return(r=[]).concat.apply(r,n.map(e))};function hN(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}function lrt(t){var e=!1;return function(){e||(e=!0,t())}}var crt=function(e){throw e},urt=function(e){return{value:e,done:!0}};function FL(t,e,n){e===void 0&&(e=crt),n===void 0&&(n="iterator");var r={meta:{name:n},next:t,throw:e,return:urt,isSagaIterator:!0};return typeof Symbol<"u"&&(r[Symbol.iterator]=function(){return r}),r}function drt(t,e){var n=e.sagaStack;console.error(t),console.error(n)}var cae=function(e){return Array.apply(null,new Array(e))},hrt=function(e){return function(n){return e(Object.defineProperty(n,rae,{value:!0}))}},uae=function(e){return e===iae},dae=function(e){return e===fv},hae=function(e){return uae(e)||dae(e)};function fae(t,e){var n=Object.keys(t),r=n.length,s=0,i,o=Xf(t)?cae(r):{},l={};function c(){s===r&&(i=!0,e(o))}return n.forEach(function(u){var d=function(m,p){i||(p||hae(m)?(e.cancel(),e(m,p)):(o[u]=m,s++,c()))};d.cancel=qa,l[u]=d}),e.cancel=function(){i||(i=!0,n.forEach(function(u){return l[u].cancel()}))},l}function H4(t){return{name:t.name||"anonymous",location:mae(t)}}function mae(t){return t[trt]}function frt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,s){return function(){return r(s.apply(void 0,arguments))}})}var mrt="Channel's Buffer overflow!",prt=1,grt=3,pae=4;function yrt(t,e){t===void 0&&(t=10);var n=new Array(t),r=0,s=0,i=0,o=function(d){n[s]=d,s=(s+1)%t,r++},l=function(){if(r!=0){var d=n[i];return n[i]=null,r--,i=(i+1)%t,d}},c=function(){for(var d=[];r;)d.push(l());return d};return{isEmpty:function(){return r==0},put:function(d){if(r<t)o(d);else{var f;switch(e){case prt:throw new Error(mrt);case grt:n[s]=d,s=(s+1)%t,i=s;break;case pae:f=2*t,n=c(),r=n.length,s=n.length,i=0,n.length=f,t=f,o(d);break}}},take:l,flush:c}}var vrt=function(e){return yrt(e,pae)},n1="TAKE",gae="PUT",yae="ALL",brt="RACE",vae="CALL",_rt="CPS",bae="FORK",wrt="JOIN",_ae="CANCEL",xrt="SELECT",Ert="ACTION_CHANNEL",Srt="CANCELLED",jrt="FLUSH",Trt="GET_CONTEXT",Crt="SET_CONTEXT",Sf=function(e,n){var r;return r={},r[tae]=!0,r.combinator=!1,r.type=e,r.payload=n,r};function wae(t,e){if(t===void 0&&(t="*"),$L(t))return t1(e)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),Sf(n1,{pattern:t});if(rrt(t)&&t1(e)&&$L(e))return Sf(n1,{channel:t,pattern:e});if(W4(t))return t1(e)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),Sf(n1,{channel:t})}function we(t,e){return aae(e)&&(e=t,t=void 0),Sf(gae,{channel:t,action:e})}function eu(t){var e=Sf(yae,t);return e.combinator=!0,e}function xae(t,e){var n=null,r;return Go(t)?r=t:(Xf(t)?(n=t[0],r=t[1]):(n=t.context,r=t.fn),n&&B4(r)&&Go(n[r])&&(r=n[r])),{context:n,fn:r,args:e}}function ze(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Sf(vae,xae(t,n))}function Mn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Sf(bae,xae(t,n))}function Art(t){return t===void 0&&(t=sae),Sf(_ae,t)}function Nrt(){var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t}var Eae=[],fN=0;function Irt(t){try{q4(),t()}finally{Tae()}}function Sae(t){Eae.push(t),fN||(q4(),Cae())}function jae(t){try{return q4(),t()}finally{Cae()}}function q4(){fN++}function Tae(){fN--}function Cae(){Tae();for(var t;!fN&&(t=Eae.shift())!==void 0;)Irt(t)}var krt=function(e){return function(n){return e.some(function(r){return Y4(r)(n)})}},Ort=function(e){return function(n){return e(n)}},IW=function(e){return function(n){return n.type===String(e)}},Rrt=function(e){return function(n){return n.type===e}},Aae=function(){return irt};function Y4(t){var e=t==="*"?Aae:B4(t)?IW:Xf(t)?krt:oae(t)?IW:Go(t)?Ort:lae(t)?Rrt:null;if(e===null)throw new Error("invalid pattern: "+t);return e(t)}var Cw={type:eae},K4=function(e){return e&&e.type===eae};function Prt(t){t===void 0&&(t=vrt());var e=!1,n=[];function r(l){if(!e){if(n.length===0)return t.put(l);var c=n.shift();c(l)}}function s(l){e&&t.isEmpty()?l(Cw):t.isEmpty()?(n.push(l),l.cancel=function(){hN(n,l)}):l(t.take())}function i(l){if(e&&t.isEmpty()){l(Cw);return}l(t.flush())}function o(){if(!e){e=!0;var l=n;n=[];for(var c=0,u=l.length;c<u;c++){var d=l[c];d(Cw)}}}return{take:s,put:r,flush:i,close:o}}function Drt(){var t,e=!1,n=[],r=n,s=function(){r===n&&(r=n.slice())},i=function(){e=!0;var l=n=r;r=[],l.forEach(function(c){c(Cw)})};return t={},t[nae]=!0,t.put=function(l){if(!e){if(K4(l)){i();return}for(var c=n=r,u=0,d=c.length;u<d;u++){var f=c[u];f[NW](l)&&(f.cancel(),f(l))}}},t.take=function(l,c){if(c===void 0&&(c=Aae),e){l(Cw);return}l[NW]=c,s(),r.push(l),l.cancel=lrt(function(){s(),hN(r,l)})},t.close=i,t}function Nae(){var t=Drt(),e=t.put;return t.put=function(n){if(n[rae]){e(n);return}Sae(function(){e(n)})},t}var Qm=0,Id=1,r1=2,Iae=3;function J4(t,e){var n=t[Xnt];Go(n)&&(e.cancel=n),t.then(e,function(r){e(r,!0)})}var F0=0,kae=function(){return++F0},ta;function Lrt(t,e){return t.isSagaIterator?{name:t.meta.name}:H4(e)}function Mrt(t){var e=t.context,n=t.fn,r=t.args;try{var s=n.apply(e,r);if(z4(s))return s;var i=!1,o=function(c){return i?{value:c,done:!0}:(i=!0,{value:s,done:!dN(s)})};return FL(o)}catch(l){return FL(function(){throw l})}}function $rt(t,e,n){var r=e.channel,s=e.action,i=e.resolve;Sae(function(){var o;try{o=(r?r.put:t.dispatch)(s)}catch(l){n(l,!0);return}i&&dN(o)?J4(o,n):n(o)})}function Frt(t,e,n){var r=e.channel,s=r===void 0?t.channel:r,i=e.pattern,o=e.maybe,l=function(u){if(u instanceof Error){n(u,!0);return}if(K4(u)&&!o){n(iae);return}n(u)};try{s.take(l,t1(i)?Y4(i):null)}catch(c){n(c,!0);return}n.cancel=l.cancel}function Vrt(t,e,n,r){var s=e.context,i=e.fn,o=e.args,l=r.task;try{var c=i.apply(s,o);if(dN(c)){J4(c,n);return}if(z4(c)){mN(t,c,l.context,F0,H4(i),!1,n);return}n(c)}catch(u){n(u,!0)}}function Urt(t,e,n){var r=e.context,s=e.fn,i=e.args;try{var o=function(c,u){aae(c)?n(u):n(c,!0)};s.apply(r,i.concat(o)),o.cancel&&(n.cancel=o.cancel)}catch(l){n(l,!0)}}function Brt(t,e,n,r){var s=e.context,i=e.fn,o=e.args,l=e.detached,c=r.task,u=Mrt({context:s,fn:i,args:o}),d=Lrt(u,i);jae(function(){var f=mN(t,u,c.context,F0,d,l,void 0);l?n(f):f.isRunning()?(c.queue.addTask(f),n(f)):f.isAborted()?c.queue.abort(f.error()):n(f)})}function zrt(t,e,n,r){var s=r.task,i=function(c,u){if(c.isRunning()){var d={task:s,cb:u};u.cancel=function(){c.isRunning()&&hN(c.joiners,d)},c.joiners.push(d)}else c.isAborted()?u(c.error(),!0):u(c.result())};if(Xf(e)){if(e.length===0){n([]);return}var o=fae(e,n);e.forEach(function(l,c){i(l,o[c])})}else i(e,n)}function OR(t){t.isRunning()&&t.cancel()}function Wrt(t,e,n,r){var s=r.task;e===sae?OR(s):Xf(e)?e.forEach(OR):OR(e),n()}function Grt(t,e,n,r){var s=r.digestEffect,i=F0,o=Object.keys(e);if(o.length===0){n(Xf(e)?[]:{});return}var l=fae(e,n);o.forEach(function(c){s(e[c],i,l[c],c)})}function Hrt(t,e,n,r){var s=r.digestEffect,i=F0,o=Object.keys(e),l=Xf(e)?cae(o.length):{},c={},u=!1;o.forEach(function(d){var f=function(p,y){u||(y||hae(p)?(n.cancel(),n(p,y)):(n.cancel(),u=!0,l[d]=p,n(l)))};f.cancel=qa,c[d]=f}),n.cancel=function(){u||(u=!0,o.forEach(function(d){return c[d].cancel()}))},o.forEach(function(d){u||s(e[d],i,c[d],d)})}function qrt(t,e,n){var r=e.selector,s=e.args;try{var i=r.apply(void 0,[t.getState()].concat(s));n(i)}catch(o){n(o,!0)}}function Yrt(t,e,n){var r=e.pattern,s=e.buffer,i=Prt(s),o=Y4(r),l=function(d){K4(d)||t.channel.take(l,o),i.put(d)},c=i.close;i.close=function(){l.cancel(),c()},t.channel.take(l,o),n(i)}function Krt(t,e,n,r){var s=r.task;n(s.isCancelled())}function Jrt(t,e,n){e.flush(n)}function Qrt(t,e,n,r){var s=r.task;n(s.context[e])}function Zrt(t,e,n,r){var s=r.task;G4(s.context,e),n()}var Xrt=(ta={},ta[n1]=Frt,ta[gae]=$rt,ta[yae]=Grt,ta[brt]=Hrt,ta[vae]=Vrt,ta[_rt]=Urt,ta[bae]=Brt,ta[wrt]=zrt,ta[_ae]=Wrt,ta[xrt]=qrt,ta[Ert]=Yrt,ta[Srt]=Krt,ta[jrt]=Jrt,ta[Trt]=Qrt,ta[Crt]=Zrt,ta);function est(t,e,n){var r=[],s,i=!1;c(t);var o=function(){return r};function l(d){e(),u(),n(d,!0)}function c(d){r.push(d),d.cont=function(f,m){i||(hN(r,d),d.cont=qa,m?l(f):(d===t&&(s=f),r.length||(i=!0,n(s))))}}function u(){i||(i=!0,r.forEach(function(d){d.cont=qa,d.cancel()}),r=[])}return{addTask:c,cancelAll:u,abort:l,getTasks:o}}function Oae(t,e){return t+"?"+e}function tst(t){var e=mae(t);if(e){var n=e.code,r=e.fileName,s=e.lineNumber,i=n+"  "+Oae(r,s);return i}return""}function kW(t){var e=t.name,n=t.location;return n?e+"  "+Oae(n.fileName,n.lineNumber):e}function nst(t){var e=ort(function(n){return n.cancelledTasks},t);return e.length?["Tasks cancelled due to error:"].concat(e).join(`
`):""}var Q4=null,Aw=[],rst=function(e){e.crashedEffect=Q4,Aw.push(e)},Rae=function(){Q4=null,Aw.length=0},sst=function(e){Q4=e},ist=function(){var e=Aw[0],n=Aw.slice(1),r=e.crashedEffect?tst(e.crashedEffect):null,s="The above error occurred in task "+kW(e.meta)+(r?` 
 when executing effect `+r:"");return[s].concat(n.map(function(i){return"    created by "+kW(i.meta)}),[nst(Aw)]).join(`
`)};function ast(t,e,n,r,s,i,o){var l;o===void 0&&(o=qa);var c=Qm,u,d,f=null,m=[],p=Object.create(n),y=est(e,function(){m.push.apply(m,y.getTasks().map(function(N){return N.meta.name}))},b);function _(){c===Qm&&(c=Id,y.cancelAll(),b(fv,!1))}function b(T,N){if(!N)T===fv?c=Id:c!==Id&&(c=Iae),u=T,f&&f.resolve(T);else{if(c=r1,rst({meta:s,cancelledTasks:m}),E.isRoot){var P=ist();Rae(),t.onError(T,{sagaStack:P})}d=T,f&&f.reject(T)}E.cont(T,N),E.joiners.forEach(function(D){D.cb(T,N)}),E.joiners=null}function x(T){G4(p,T)}function w(){return f||(f=Nrt(),c===r1?f.reject(d):c!==Qm&&f.resolve(u)),f.promise}var E=(l={},l[ert]=!0,l.id=r,l.meta=s,l.isRoot=i,l.context=p,l.joiners=[],l.queue=y,l.cancel=_,l.cont=o,l.end=b,l.setContext=x,l.toPromise=w,l.isRunning=function(){return c===Qm},l.isCancelled=function(){return c===Id||c===Qm&&e.status===Id},l.isAborted=function(){return c===r1},l.result=function(){return u},l.error=function(){return d},l);return E}function mN(t,e,n,r,s,i,o){var l=t.finalizeRunEffect(p);m.cancel=qa;var c={meta:s,cancel:f,status:Qm},u=ast(t,c,n,r,s,i,o),d={task:u,digestEffect:y};function f(){c.status===Qm&&(c.status=Id,m(fv))}return o&&(o.cancel=u.cancel),m(),u;function m(_,b){try{var x;b?(x=e.throw(_),Rae()):dae(_)?(c.status=Id,m.cancel(),x=Go(e.return)?e.return(fv):{done:!0,value:fv}):uae(_)?x=Go(e.return)?e.return():{done:!0}:x=e.next(_),x.done?(c.status!==Id&&(c.status=Iae),c.cont(x.value)):y(x.value,r,m)}catch(w){if(c.status===Id)throw w;c.status=r1,c.cont(w,!0)}}function p(_,b,x){if(dN(_))J4(_,x);else if(z4(_))mN(t,_,u.context,b,s,!1,x);else if(_&&_[tae]){var w=Xrt[_.type];w(t,_.payload,x,d)}else x(_)}function y(_,b,x,w){w===void 0&&(w="");var E=kae();t.sagaMonitor&&t.sagaMonitor.effectTriggered({effectId:E,parentEffectId:b,label:w,effect:_});var T;function N(P,D){T||(T=!0,x.cancel=qa,t.sagaMonitor&&(D?t.sagaMonitor.effectRejected(E,P):t.sagaMonitor.effectResolved(E,P)),D&&sst(_),x(P,D))}N.cancel=qa,x.cancel=function(){T||(T=!0,N.cancel(),N.cancel=qa,t.sagaMonitor&&t.sagaMonitor.effectCancelled(E))},l(_,E,N)}}function ost(t,e){for(var n=t.channel,r=n===void 0?Nae():n,s=t.dispatch,i=t.getState,o=t.context,l=o===void 0?{}:o,c=t.sagaMonitor,u=t.effectMiddlewares,d=t.onError,f=d===void 0?drt:d,m=arguments.length,p=new Array(m>2?m-2:0),y=2;y<m;y++)p[y-2]=arguments[y];var _=e.apply(void 0,p),b=kae();c&&(c.rootSagaStarted=c.rootSagaStarted||qa,c.effectTriggered=c.effectTriggered||qa,c.effectResolved=c.effectResolved||qa,c.effectRejected=c.effectRejected||qa,c.effectCancelled=c.effectCancelled||qa,c.actionDispatched=c.actionDispatched||qa,c.rootSagaStarted({effectId:b,saga:e,args:p}));var x;if(u){var w=frt.apply(void 0,u);x=function(N){return function(P,D,F){var Y=function(B){return N(B,D,F)};return w(Y)(P)}}}else x=art;var E={channel:r,dispatch:hrt(s),getState:i,sagaMonitor:c,onError:f,finalizeRunEffect:x};return jae(function(){var T=mN(E,_,l,b,H4(e),!0,void 0);return c&&c.effectResolved(b,T),T})}var lst=["context","channel","sagaMonitor"];function cst(t){var e={},n=e.context,r=n===void 0?{}:n,s=e.channel,i=s===void 0?Nae():s,o=e.sagaMonitor,l=nrt(e,lst),c;function u(d){var f=d.getState,m=d.dispatch;return c=ost.bind(null,hC({},l,{context:r,channel:i,dispatch:m,getState:f,sagaMonitor:o})),function(p){return function(y){o&&o.actionDispatched&&o.actionDispatched(y);var _=p(y);return i.put(y),_}}}return u.run=function(){return c.apply(void 0,arguments)},u.setContext=function(d){G4(r,d)},u}const ust={layoutType:Q_.VERTICAL,layoutModeType:Z_.LIGHT,layoutWidth:zm.FLUID,leftSideBarTheme:na.DARK,leftSideBarThemeImage:Mc.NONE,leftSideBarType:Gm.DEFAULT,topbarTheme:Wm.LIGHT,isPreloader:!1,showRightSidebar:!1,isMobile:!1,showSidebar:!0,leftMenu:!1},dst=(t=ust,e)=>{switch(e.type){case S4:return{...t,layoutType:e.payload};case fte:return{...t,isPreloader:e.payload};case k4:return{...t,layoutModeType:e.payload};case j4:return{...t,layoutWidth:e.payload};case T4:return{...t,leftSideBarTheme:e.payload};case C4:return{...t,leftSideBarThemeImage:e.payload};case A4:return{...t,leftSideBarType:e.payload.sidebarType};case N4:return{...t,topbarTheme:e.payload};case I4:return{...t,showRightSidebar:e.payload};case $8e:return{...t,showSidebar:e.payload};case hte:return{...t,leftMenu:e.payload};default:return t}},hst={user:JSON.parse(localStorage.getItem("authUser"))||null,token:localStorage.getItem("token")||null,loading:!1,error:""},fst=(t=hst,e)=>{switch(e.type){case bte:return{...t,loading:!0,error:""};case _te:return{...t,loading:!1,user:e.payload,token:localStorage.getItem("token")};case L4:return{...t};case wte:return localStorage.removeItem("token"),localStorage.removeItem("authUser"),{...t,user:null,token:null,loading:!1};case xte:return{...t,loading:!1,error:e.payload};default:return t}},mst={registrationError:null,message:null,loading:!1,user:null},pst=(t=mst,e)=>{switch(e.type){case D4:t={...t,loading:!0,registrationError:null};break;case yte:t={...t,loading:!1,user:e.payload,registrationError:null};break;case vte:t={...t,user:null,loading:!1,registrationError:e.payload};break;default:t={...t};break}return t},gst={forgetSuccessMsg:null,forgetError:null},yst=(t=gst,e)=>{switch(e.type){case Ete:t={...t,forgetSuccessMsg:null,forgetError:null};break;case Ste:t={...t,forgetSuccessMsg:e.payload};break;case jte:t={...t,forgetError:e.payload};break;default:t={...t};break}return t},vst={error:"",success:""},bst=(t=vst,e)=>{switch(e.type){case Tte:t={...t};break;case Cte:t={...t,success:e.payload};break;case Ate:t={...t,error:e.payload};break;case H8e:t={...t,success:null};break;default:t={...t};break}return t},_st={products:[],product:{},orders:[],cartData:{},customers:[],shops:[],error:{},productComments:[],loading:!0},wst=(t=_st,e)=>{switch(e.type){case Nte:return{...t,products:e.payload,loading:!0};case Ite:return{...t,error:e.payload};case kte:return{...t,product:e.payload};case Ote:return{...t,error:e.payload};case Fte:return{...t,orders:e.payload,loading:!0};case Vte:return{...t,error:e.payload};case Ute:return{...t,orders:[e.payload,...t.orders]};case Bte:return{...t,error:e.payload};case zte:return{...t,orders:t.orders.map(n=>n.id.toString()===e.payload.id.toString()?{order:n,...e.payload}:n)};case Wte:return{...t,error:e.payload};case Gte:return{...t,orders:t.orders.filter(n=>n.id.toString()!==e.payload.toString())};case Hte:return{...t,error:e.payload};case qte:return{...t,cartData:e.payload};case Yte:return{...t,error:e.payload};case Kte:return{...t,customers:e.payload,loading:!0};case Jte:return{...t,error:e.payload};case Qte:return{...t,customers:[e.payload,...t.customers]};case Zte:return{...t,error:e.payload};case Xte:return{...t,customers:t.customers.map(n=>n.id.toString()===e.payload.id.toString()?{customer:n,...e.payload}:n)};case ene:return{...t,error:e.payload};case tne:return{...t,customers:t.customers.filter(n=>n.id.toString()!==e.payload.toString())};case nne:return{...t,error:e.payload};case rne:return{...t,shops:e.payload,loading:!0};case sne:return{...t,error:e.payload};case Rte:case Dte:case Lte:case Mte:case $te:return{...t,productComments:e.payload};case Pte:return{...t,error:e.payload};default:return t}},xst={events:[],categories:[],error:{}},Est=(t=xst,e)=>{switch(e.type){case ine:return{...t,events:e.payload};case ane:return{...t,error:e.payload};case one:return{...t,events:[...t.events,e.payload]};case lne:return{...t,error:e.payload};case cne:return{...t,events:t.events.map(n=>n.id.toString()===e.payload.id.toString()?{event:n,...e.payload}:n)};case une:return{...t,error:e.payload};case dne:return{...t,events:t.events.filter(n=>n.id.toString()!==e.payload.toString())};case hne:return{...t,error:e.payload};case fne:return{...t,categories:e.payload};case mne:return{...t,error:e.payload};default:return t}},Sst={chats:[],groups:[],contacts:[],messages:[],error:{},loading:!0},jst=(t=Sst,e)=>{switch(e.type){case pne:return{...t,chats:e.payload,loading:!0};case gne:return{...t,error:e.payload};case yne:return{...t,groups:e.payload};case vne:return{...t,error:e.payload};case bne:return{...t,contacts:e.payload};case _ne:return{...t,error:e.payload};case wne:return{...t,messages:e.payload,loading:!0};case xne:return{...t,error:e.payload};case Ene:return{...t,messages:t.messages.map(n=>({...n,userMessages:[...n.userMessages,e.payload]}))};case Sne:return{...t,error:e.payload};case jne:return{...t,messages:t.messages.map(n=>({...n,userMessages:n.userMessages.filter(r=>r.id!==e.payload)}))};case Tne:return{...t,error:e.payload};default:return t}},Tst={wallet:{},orders:[],products:[],loading:!0},Cst=(t=Tst,e)=>{switch(e.type){case Cne:return{...t,wallet:e.payload,loading:!0};case Ane:return{...t,error:e.payload};case Nne:return{...t,orders:e.payload};case Ine:return{...t,error:e.payload};case kne:return{...t,products:e.payload};case One:return{...t,error:e.payload};default:return t}},Ast={invoices:[],invoiceDetail:{},error:{},loading:!0},Nst=(t=Ast,e)=>{switch(e.type){case Rne:return{...t,invoices:e.payload,loading:!0};case Pne:return{...t,error:e.payload};case Dne:return{...t,invoiceDetail:e.payload};case Lne:return{...t,error:e.payload};default:return t}},Ist={jobs:[],error:{},loading:!0},kst=(t=Ist,e)=>{switch(e.type){case $ne:return{...t,jobs:e.payload,loading:!0};case Mne:return{...t,error:e.payload};case Fne:return{...t,jobs:[e.payload,...t.jobs]};case Vne:return{...t,error:e.payload};case Une:return{...t,jobs:t.jobs.map(n=>n.id.toString()===e.payload.id.toString()?{job:n,...e.payload}:n)};case Bne:return{...t,error:e.payload};case zne:return{...t,jobs:t.jobs.filter(n=>n.id.toString()!==e.payload.toString())};case Wne:return{...t,error:e.payload};case Gne:return{...t,jobApply:e.payload,loading:!0};case Hne:return{...t,error:e.payload};case qne:return{...t,jobApply:t.jobApply.filter(n=>n.id.toString()!==e.payload.toString())};case Yne:return{...t,error:e.payload};default:return t}},Ost={projects:[],projectDetail:{},error:{},loading:!0},Rst=(t=Ost,e)=>{switch(e.type){case Kne:return{...t,projects:e.payload,loading:!0};case Jne:return{...t,error:e.payload};case Qne:return{...t,projectDetail:e.payload};case Xne:return{...t,projects:t.projects.map(n=>n.id.toString()===e.payload.id.toString()?{project:n,...e.payload}:n)};case ere:return{...t,error:e.payload};case tre:return{...t,projects:t.projects.filter(n=>n.id.toString()!==e.payload.toString())};case nre:return{...t,error:e.payload};case Zne:return{...t,error:e.payload};default:return t}},Pst={tasks:[],error:{},loading:!0},Dst=(t=Pst,e)=>{switch(e.type){case rre:return{...t,tasks:e.payload,loading:!0};case sre:return{...t,error:e.payload};case lre:return{...t,tasks:t.tasks.map(n=>n.id===e.payload.kanId?{...n,cards:[...n.cards,e.payload]}:n)};case cre:return{...t,error:e.payload};case ure:return{...t,tasks:t.tasks.map(n=>n.id===e.payload.kanId?{...n,cards:n.cards.map(r=>r.id.toString()===e.payload.id.toString()?{card:r,...e.payload}:r)}:n)};case dre:return{...t,error:e.payload};case ire:return{...t,tasks:t.tasks.map(n=>{const r=n.cards.filter(s=>s.id!==e.payload);return{...n,cards:r}})};case are:return{...t,tasks:t.tasks.filter(n=>n.id.toString()!==e.payload.toString())};case ore:return{...t,error:e.payload};default:return t}},Lst={users:[],userProfile:{},error:{},loading:!0},Mst=(t=Lst,e)=>{switch(e.type){case hre:return{...t,users:e.payload,loading:!0};case fre:return{...t,error:e.payload};case gre:return{...t,users:[e.payload,...t.users]};case yre:return{...t,error:e.payload};case mre:return{...t,userProfile:e.payload};case vre:return{...t,users:t.users.map(n=>n.id.toString()===e.payload.id.toString()?{user:n,...e.payload}:n)};case bre:return{...t,error:e.payload};case _re:return{...t,users:t.users.filter(n=>n.id.toString()!==e.payload.toString())};case wre:return{...t,error:e.payload};case pre:return{...t,error:e.payload};default:return t}},$st={mailslists:[],mailsListsId:[],error:{},selectedmails:[],folderId:[],folders:[],loading:!0},Fst=(t=$st,e)=>{switch(e.type){case xre:return{...t,mailslists:e.payload,loading:!0};case Ere:return{...t,error:e.payload};case Sre:return{...t,folders:e.payload};case jre:return{...t,error:e.payload};case Tre:return{...t,selectedmails:e.payload?e.payload.length>1?e.payload:t.selectedmails.includes(e.payload)?t.selectedmails.filter(n=>n!==e.payload):[...t.selectedmails,e.payload]:[]};case Cre:return{...t,error:e.payload};case Ire:return{...t,mailslists:t.mailslists.filter(n=>n.id!==e.payload)};case kre:return{...t,error:e.payload};case Ore:return{...t,mailslists:t.mailslists.map(n=>n.id===e.payload?{...n,category:"trash"}:n)};case Rre:return{...t,error:e.payload};case Pre:return{...t,mailslists:t.mailslists.map(n=>{if(n.id===e.payload){const r=n.category==="starred"?"inbox":"starred";return{...n,category:r}}return n})};case Dre:return{...t,error:e.payload};case Are:return{...t,selectedmails:t.selectedmails,folderId:e.payload};case Nre:return{...t,error:e.payload};case Lre:return{...t,mailsListsId:e.payload};case Mre:return{...t,error:e.payload};default:return t}},Vst={chartsData:[]},Ust=(t=Vst,e)=>{switch(e.type){case Bre:switch(e.payload.actionType){case jx:return{...t,chartsData:e.payload.data};default:return t}case zre:switch(e.payload.actionType){case jx:return{...t,chartsDataError:e.payload.error};default:return t}default:return t}},Bst={sellingData:[],earningChartData:[]},zst=(t=Bst,e)=>{switch(e.type){case Hre:switch(e.payload.actionType){case Cx:return{...t,sellingData:e.payload.data};case Ax:return{...t,earningChartData:e.payload.data};default:return t}case qre:switch(e.payload.actionType){case Cx:return{...t,sellingDataError:e.payload.error};case Ax:return{...t,earningChartDataError:e.payload.error};default:return t}default:return t}},Wst={walletbalanceData:[]},Gst=(t=Wst,e)=>{switch(e.type){case Wre:switch(e.payload.actionType){case Tx:return{...t,walletbalanceData:e.payload.data};default:return t}case Gre:switch(e.payload.actionType){case Tx:return{...t,error:e.payload.error};default:return t}default:return t}},Hst={visitor:[]},qst=(t=Hst,e)=>{switch(e.type){case Jre:switch(e.payload.actionType){case Nx:return{...t,visitor:e.payload.data};default:return t}case Qre:switch(e.payload.actionType){case Nx:return{...t,error:e.payload.error};default:return t}default:return t}},Yst={statistic_data:[]},Kst=(t=Yst,e)=>{switch(e.type){case Zre:switch(e.payload.actionType){case Ix:return{...t,statistic_data:e.payload.data};default:return t}case Xre:switch(e.payload.actionType){case Ix:return{...t,error:e.payload.error};default:return t}default:return t}},Jst=Qnt({Layout:dst,Login:fst,Account:pst,ForgetPassword:yst,Profile:bst,ecommerce:wst,calendar:Est,chat:jst,mails:Fst,crypto:Cst,invoices:Nst,JobReducer:kst,projects:Rst,tasks:Dst,contacts:Mst,Dashboard:Ust,DashboardSaas:zst,DashboardCrypto:Gst,DashboardBlog:qst,DashboardJob:Kst});var OW=function(e){return{done:!0,value:e}},RR={};function Pae(t){return W4(t)?"channel":oae(t)?String(t):Go(t)?t.name:String(t)}function Dae(t,e,n){var r,s,i,o=e;function l(c,u){if(o===RR)return OW(c);if(u&&!s)throw o=RR,u;r&&r(c);var d=u?t[s](u):t[o]();return o=d.nextState,i=d.effect,r=d.stateUpdater,s=d.errorState,o===RR?OW(c):i}return FL(l,function(c){return l(null,c)},n)}function Qst(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var i={done:!1,value:wae(t)},o=function(d){return{done:!1,value:Mn.apply(void 0,[e].concat(r,[d]))}},l,c=function(d){return l=d};return Dae({q1:function(){return{nextState:"q2",effect:i,stateUpdater:c}},q2:function(){return{nextState:"q1",effect:o(l)}}},"q1","takeEvery("+Pae(t)+", "+e.name+")")}function Zst(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var i={done:!1,value:wae(t)},o=function(p){return{done:!1,value:Mn.apply(void 0,[e].concat(r,[p]))}},l=function(p){return{done:!1,value:Art(p)}},c,u,d=function(p){return c=p},f=function(p){return u=p};return Dae({q1:function(){return{nextState:"q2",effect:i,stateUpdater:f}},q2:function(){return c?{nextState:"q3",effect:l(c)}:{nextState:"q1",effect:o(u),stateUpdater:d}},q3:function(){return{nextState:"q1",effect:o(u),stateUpdater:d}}},"q1","takeLatest("+Pae(t)+", "+e.name+")")}function dt(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return Mn.apply(void 0,[Qst,t,e].concat(r))}function Xst(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return Mn.apply(void 0,[Zst,t,e].concat(r))}var RW={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lae=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},eit=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Mae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,f=(i&3)<<4|l>>4;let m=(l&15)<<2|u>>6,p=u&63;c||(p=64,o||(m=64)),r.push(n[d],n[f],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Lae(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eit(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||f==null)throw new tit;const m=i<<2|l>>4;if(r.push(m),u!==64){const p=l<<4&240|u>>2;if(r.push(p),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tit extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nit=function(t){const e=Lae(t);return Mae.encodeByteArray(e,!0)},fC=function(t){return nit(t).replace(/\./g,"")},$ae=function(t){try{return Mae.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function mC(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!rit(n)||(t[n]=mC(t[n],e[n]));return t}function rit(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sit(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iit=()=>sit().__FIREBASE_DEFAULTS__,ait=()=>{if(typeof process>"u"||typeof RW>"u")return;const t=RW.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oit=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$ae(t[1]);return e&&JSON.parse(e)},Z4=()=>{try{return iit()||ait()||oit()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Fae=()=>{var t;return(t=Z4())===null||t===void 0?void 0:t.config},lit=t=>{var e;return(e=Z4())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cit{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uit(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[fC(JSON.stringify(n)),fC(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dit(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Is())}function X4(){var t;const e=(t=Z4())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hit(){return typeof self=="object"&&self.self===self}function Vae(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function e3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Uae(){const t=Is();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fit(){return!X4()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ox(){try{return typeof indexedDB=="object"}catch{return!1}}function mit(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pit="FirebaseError";class Za extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pit,Object.setPrototypeOf(this,Za.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hg.prototype.create)}}class hg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?git(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Za(s,l,r)}}function git(t,e){return t.replace(yit,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const yit=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PW(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function vit(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function VL(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(DW(i)&&DW(o)){if(!VL(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function DW(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hy(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ew(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Bae(t,e){const n=new bit(t,e);return n.subscribe.bind(n)}class bit{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_it(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=PR),s.error===void 0&&(s.error=PR),s.complete===void 0&&(s.complete=PR);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _it(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function PR(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t){return t&&t._delegate?t._delegate:t}class Xu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wit{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new cit;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Eit(e))try{this.getOrInitializeService({instanceIdentifier:qm})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=qm){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qm){return this.instances.has(e)}getOptions(e=qm){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xit(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qm){return this.component?this.component.multipleInstances?e:qm:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xit(t){return t===qm?void 0:t}function Eit(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sit{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wit(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=[];var er;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(er||(er={}));const zae={debug:er.DEBUG,verbose:er.VERBOSE,info:er.INFO,warn:er.WARN,error:er.ERROR,silent:er.SILENT},jit=er.INFO,Tit={[er.DEBUG]:"log",[er.VERBOSE]:"log",[er.INFO]:"info",[er.WARN]:"warn",[er.ERROR]:"error"},Cit=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Tit[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pN{constructor(e){this.name=e,this._logLevel=jit,this._logHandler=Cit,this._userLogHandler=null,t3.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in er))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zae[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,er.DEBUG,...e),this._logHandler(this,er.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,er.VERBOSE,...e),this._logHandler(this,er.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,er.INFO,...e),this._logHandler(this,er.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,er.WARN,...e),this._logHandler(this,er.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,er.ERROR,...e),this._logHandler(this,er.ERROR,...e)}}function Ait(t){t3.forEach(e=>{e.setLogLevel(t)})}function Nit(t,e){for(const n of t3){let r=null;e&&e.level&&(r=zae[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(s,i,...o)=>{const l=o.map(c=>{if(c==null)return null;if(typeof c=="string")return c;if(typeof c=="number"||typeof c=="boolean")return c.toString();if(c instanceof Error)return c.message;try{return JSON.stringify(c)}catch{return null}}).filter(c=>c).join(" ");i>=(r??s.logLevel)&&t({level:er[i].toLowerCase(),message:l,args:o,type:s.name})}}}const Iit=(t,e)=>e.some(n=>t instanceof n);let LW,MW;function kit(){return LW||(LW=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Oit(){return MW||(MW=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wae=new WeakMap,UL=new WeakMap,Gae=new WeakMap,DR=new WeakMap,n3=new WeakMap;function Rit(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(jf(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Wae.set(n,t)}).catch(()=>{}),n3.set(e,t),e}function Pit(t){if(UL.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});UL.set(t,e)}let BL={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return UL.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Gae.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jf(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Dit(t){BL=t(BL)}function Lit(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(LR(this),e,...n);return Gae.set(r,e.sort?e.sort():[e]),jf(r)}:Oit().includes(t)?function(...e){return t.apply(LR(this),e),jf(Wae.get(this))}:function(...e){return jf(t.apply(LR(this),e))}}function Mit(t){return typeof t=="function"?Lit(t):(t instanceof IDBTransaction&&Pit(t),Iit(t,kit())?new Proxy(t,BL):t)}function jf(t){if(t instanceof IDBRequest)return Rit(t);if(DR.has(t))return DR.get(t);const e=Mit(t);return e!==t&&(DR.set(t,e),n3.set(e,t)),e}const LR=t=>n3.get(t);function $it(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=jf(o);return r&&o.addEventListener("upgradeneeded",c=>{r(jf(o.result),c.oldVersion,c.newVersion,jf(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const Fit=["get","getKey","getAll","getAllKeys","count"],Vit=["put","add","delete","clear"],MR=new Map;function $W(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(MR.get(e))return MR.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Vit.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Fit.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return MR.set(e,i),i}Dit(t=>({...t,get:(e,n,r)=>$W(e,n)||t.get(e,n,r),has:(e,n)=>!!$W(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uit{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Bit(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Bit(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zL="@firebase/app",FW="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=new pN("@firebase/app"),zit="@firebase/app-compat",Wit="@firebase/analytics-compat",Git="@firebase/analytics",Hit="@firebase/app-check-compat",qit="@firebase/app-check",Yit="@firebase/auth",Kit="@firebase/auth-compat",Jit="@firebase/database",Qit="@firebase/database-compat",Zit="@firebase/functions",Xit="@firebase/functions-compat",eat="@firebase/installations",tat="@firebase/installations-compat",nat="@firebase/messaging",rat="@firebase/messaging-compat",sat="@firebase/performance",iat="@firebase/performance-compat",aat="@firebase/remote-config",oat="@firebase/remote-config-compat",lat="@firebase/storage",cat="@firebase/storage-compat",uat="@firebase/firestore",dat="@firebase/firestore-compat",hat="firebase",fat="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="[DEFAULT]",mat={[zL]:"fire-core",[zit]:"fire-core-compat",[Git]:"fire-analytics",[Wit]:"fire-analytics-compat",[qit]:"fire-app-check",[Hit]:"fire-app-check-compat",[Yit]:"fire-auth",[Kit]:"fire-auth-compat",[Jit]:"fire-rtdb",[Qit]:"fire-rtdb-compat",[Zit]:"fire-fn",[Xit]:"fire-fn-compat",[eat]:"fire-iid",[tat]:"fire-iid-compat",[nat]:"fire-fcm",[rat]:"fire-fcm-compat",[sat]:"fire-perf",[iat]:"fire-perf-compat",[aat]:"fire-rc",[oat]:"fire-rc-compat",[lat]:"fire-gcs",[cat]:"fire-gcs-compat",[uat]:"fire-fst",[dat]:"fire-fst-compat","fire-js":"fire-js",[hat]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf=new Map,Rx=new Map;function pC(t,e){try{t.container.addComponent(e)}catch(n){$p.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hae(t,e){t.container.addOrOverwriteComponent(e)}function Df(t){const e=t.name;if(Rx.has(e))return $p.debug(`There were multiple attempts to register component ${e}.`),!1;Rx.set(e,t);for(const n of Pf.values())pC(n,t);return!0}function qae(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pat(t,e,n=Rf){qae(t,e).clearInstance(n)}function gat(){Rx.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yat={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},zd=new hg("app","Firebase",yat);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vat=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zd.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=fat;function r3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Rf,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw zd.create("bad-app-name",{appName:String(s)});if(n||(n=Fae()),!n)throw zd.create("no-options");const i=Pf.get(s);if(i){if(VL(n,i.options)&&VL(r,i.config))return i;throw zd.create("duplicate-app",{appName:s})}const o=new Sit(s);for(const c of Rx.values())o.addComponent(c);const l=new vat(n,r,o);return Pf.set(s,l),l}function bat(t=Rf){const e=Pf.get(t);if(!e&&t===Rf&&Fae())return r3();if(!e)throw zd.create("no-app",{appName:t});return e}function _at(){return Array.from(Pf.values())}async function Yae(t){const e=t.name;Pf.has(e)&&(Pf.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Ku(t,e,n){var r;let s=(r=mat[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$p.warn(l.join(" "));return}Df(new Xu(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function Kae(t,e){if(t!==null&&typeof t!="function")throw zd.create("invalid-log-argument");Nit(t,e)}function Jae(t){Ait(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wat="firebase-heartbeat-database",xat=1,Px="firebase-heartbeat-store";let $R=null;function Qae(){return $R||($R=$it(wat,xat,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Px)}}}).catch(t=>{throw zd.create("idb-open",{originalErrorMessage:t.message})})),$R}async function Eat(t){try{return await(await Qae()).transaction(Px).objectStore(Px).get(Zae(t))}catch(e){if(e instanceof Za)$p.warn(e.message);else{const n=zd.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$p.warn(n.message)}}}async function VW(t,e){try{const r=(await Qae()).transaction(Px,"readwrite");await r.objectStore(Px).put(e,Zae(t)),await r.done}catch(n){if(n instanceof Za)$p.warn(n.message);else{const r=zd.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$p.warn(r.message)}}}function Zae(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sat=1024,jat=30*24*60*60*1e3;class Tat{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Aat(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=UW();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=jat}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=UW(),{heartbeatsToSend:r,unsentEntries:s}=Cat(this._heartbeatsCache.heartbeats),i=fC(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function UW(){return new Date().toISOString().substring(0,10)}function Cat(t,e=Sat){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),BW(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),BW(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Aat{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ox()?mit().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Eat(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return VW(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return VW(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function BW(t){return fC(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nat(t){Df(new Xu("platform-logger",e=>new Uit(e),"PRIVATE")),Df(new Xu("heartbeat",e=>new Tat(e),"PRIVATE")),Ku(zL,FW,t),Ku(zL,FW,"esm2017"),Ku("fire-js","")}Nat("");const Iat=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Za,SDK_VERSION:em,_DEFAULT_ENTRY_NAME:Rf,_addComponent:pC,_addOrOverwriteComponent:Hae,_apps:Pf,_clearComponents:gat,_components:Rx,_getProvider:qae,_registerComponent:Df,_removeServiceInstance:pat,deleteApp:Yae,getApp:bat,getApps:_at,initializeApp:r3,onLog:Kae,registerVersion:Ku,setLogLevel:Jae},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kat{constructor(e,n){this._delegate=e,this.firebase=n,pC(e,new Xu("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Yae(this._delegate)))}_getService(e,n=Rf){var r;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(e);return!s.isInitialized()&&((r=s.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:n})}_removeServiceInstance(e,n=Rf){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){pC(this._delegate,e)}_addOrOverwriteComponent(e){Hae(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oat={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},zW=new hg("app-compat","Firebase",Oat);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rat(t){const e={},n={__esModule:!0,initializeApp:i,app:s,registerVersion:Ku,setLogLevel:Jae,onLog:Kae,apps:null,SDK_VERSION:em,INTERNAL:{registerComponent:l,removeApp:r,useAsService:c,modularAPIs:Iat}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function s(u){if(u=u||Rf,!PW(e,u))throw zW.create("no-app",{appName:u});return e[u]}s.App=t;function i(u,d={}){const f=r3(u,d);if(PW(e,f.name))return e[f.name];const m=new t(f,n);return e[f.name]=m,m}function o(){return Object.keys(e).map(u=>e[u])}function l(u){const d=u.name,f=d.replace("-compat","");if(Df(u)&&u.type==="PUBLIC"){const m=(p=s())=>{if(typeof p[f]!="function")throw zW.create("invalid-app-argument",{appName:d});return p[f]()};u.serviceProps!==void 0&&mC(m,u.serviceProps),n[f]=m,t.prototype[f]=function(...p){return this._getService.bind(this,d).apply(this,u.multipleInstances?p:[])}}return u.type==="PUBLIC"?n[f]:null}function c(u,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xae(){const t=Rat(kat);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:Xae,extendNamespace:e,createSubscribe:Bae,ErrorFactory:hg,deepExtend:mC});function e(n){mC(t,n)}return t}const Pat=Xae();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WW=new pN("@firebase/app-compat"),Dat="@firebase/app-compat",Lat="0.2.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mat(t){Ku(Dat,Lat,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(hit()&&self.firebase!==void 0){WW.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&WW.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const V0=Pat;Mat();var $at="firebase",Fat="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */V0.registerVersion($at,Fat,"app-compat");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function s3(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}const I_={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},hy={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vat(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function eoe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Uat=Vat,Bat=eoe,toe=new hg("auth","Firebase",eoe());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=new pN("@firebase/auth");function zat(t,...e){gC.logLevel<=er.WARN&&gC.warn(`Auth (${em}): ${t}`,...e)}function s1(t,...e){gC.logLevel<=er.ERROR&&gC.error(`Auth (${em}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(t,...e){throw i3(t,...e)}function da(t,...e){return i3(t,...e)}function noe(t,e,n){const r=Object.assign(Object.assign({},Bat()),{[e]:n});return new hg("auth","Firebase",r).create(e,{appName:t.name})}function jb(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ma(t,"argument-error"),noe(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function i3(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return toe.create(t,...e)}function st(t,e,...n){if(!t)throw i3(e,...n)}function Vu(t){const e="INTERNAL ASSERTION FAILED: "+t;throw s1(e),new Error(e)}function tu(t,e){t||Vu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function a3(){return GW()==="http:"||GW()==="https:"}function GW(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wat(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(a3()||Vae()||"connection"in navigator)?navigator.onLine:!0}function Gat(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,n){this.shortDelay=e,this.longDelay=n,tu(n>e,"Short delay should be less than long delay!"),this.isMobile=dit()||e3()}get(){return Wat()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(t,e){tu(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class roe{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hat={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qat=new U0(3e4,6e4);function Hs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function qs(t,e,n,r,s={}){return soe(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=Sb(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),roe.fetch()(ioe(t,t.config.apiHost,n,l),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},i))})}async function soe(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Hat),e);try{const s=new Kat(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw tw(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw tw(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw tw(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw tw(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw noe(t,d,u);ma(t,d)}}catch(s){if(s instanceof Za)throw s;ma(t,"network-request-failed",{message:String(s)})}}async function dh(t,e,n,r,s={}){const i=await qs(t,e,n,r,s);return"mfaPendingCredential"in i&&ma(t,"multi-factor-auth-required",{_serverResponse:i}),i}function ioe(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?o3(t.config,s):`${t.config.apiScheme}://${s}`}function Yat(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Kat{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(da(this.auth,"network-request-failed")),qat.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tw(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=da(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HW(t){return t!==void 0&&t.getResponse!==void 0}function qW(t){return t!==void 0&&t.enterprise!==void 0}class Jat{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Yat(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qat(t){return(await qs(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function Zat(t,e){return qs(t,"GET","/v2/recaptchaConfig",Hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xat(t,e){return qs(t,"POST","/v1/accounts:delete",e)}async function eot(t,e){return qs(t,"POST","/v1/accounts:update",e)}async function tot(t,e){return qs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function not(t,e=!1){const n=an(t),r=await n.getIdToken(e),s=gN(r);st(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Nw(FR(s.auth_time)),issuedAtTime:Nw(FR(s.iat)),expirationTime:Nw(FR(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function FR(t){return Number(t)*1e3}function gN(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return s1("JWT malformed, contained fewer than 3 sections"),null;try{const s=$ae(n);return s?JSON.parse(s):(s1("Failed to decode base64 JWT payload"),null)}catch(s){return s1("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function rot(t){const e=gN(t);return st(e,"internal-error"),st(typeof e.exp<"u","internal-error"),st(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Za&&sot(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function sot({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iot{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aoe{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nw(this.lastLoginAt),this.creationTime=Nw(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(t){var e;const n=t.auth,r=await t.getIdToken(),s=await eh(t,tot(n,{idToken:r}));st(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?lot(i.providerUserInfo):[],l=oot(t.providerData,o),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new aoe(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function aot(t){const e=an(t);await Lx(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oot(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function lot(t){return t.map(e=>{var{providerId:n}=e,r=s3(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cot(t,e){const n=await soe(t,{},async()=>{const r=Sb({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=ioe(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",roe.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uot(t,e){return qs(t,"POST","/v2/accounts:revokeToken",Hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){st(e.idToken,"internal-error"),st(typeof e.idToken<"u","internal-error"),st(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rot(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return st(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await cot(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Mx;return r&&(st(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(st(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(st(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mx,this.toJSON())}_performRefresh(){return Vu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(t,e){st(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wp{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=s3(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iot(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new aoe(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await eh(this,this.stsTokenManager.getToken(this.auth,e));return st(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return not(this,e)}reload(){return aot(this)}_assign(e){this!==e&&(st(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wp(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){st(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Lx(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await eh(this,Xat(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,l,c,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(l=n.tenantId)!==null&&l!==void 0?l:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:T,isAnonymous:N,providerData:P,stsTokenManager:D}=n;st(E&&D,e,"internal-error");const F=Mx.fromJSON(this.name,D);st(typeof E=="string",e,"internal-error"),$h(f,e.name),$h(m,e.name),st(typeof T=="boolean",e,"internal-error"),st(typeof N=="boolean",e,"internal-error"),$h(p,e.name),$h(y,e.name),$h(_,e.name),$h(b,e.name),$h(x,e.name),$h(w,e.name);const Y=new wp({uid:E,auth:e,email:m,emailVerified:T,displayName:f,isAnonymous:N,photoURL:y,phoneNumber:p,tenantId:_,stsTokenManager:F,createdAt:x,lastLoginAt:w});return P&&Array.isArray(P)&&(Y.providerData=P.map(q=>Object.assign({},q))),b&&(Y._redirectEventId=b),Y}static async _fromIdTokenResponse(e,n,r=!1){const s=new Mx;s.updateFromServerResponse(n);const i=new wp({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Lx(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YW=new Map;function _l(t){tu(t instanceof Function,"Expected a class definition");let e=YW.get(t);return e?(tu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,YW.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ooe{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ooe.type="NONE";const Bv=ooe;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(t,e,n){return`firebase:${t}:${e}:${n}`}class mv{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=xp(this.userKey,s.apiKey,i),this.fullPersistenceKey=xp("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?wp._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new mv(_l(Bv),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||_l(Bv);const o=xp(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(o);if(d){const f=wp._fromJSON(e,d);u!==i&&(l=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new mv(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new mv(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KW(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uoe(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(loe(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(doe(e))return"Blackberry";if(hoe(e))return"Webos";if(l3(e))return"Safari";if((e.includes("chrome/")||coe(e))&&!e.includes("edge/"))return"Chrome";if(B0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function loe(t=Is()){return/firefox\//i.test(t)}function l3(t=Is()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function coe(t=Is()){return/crios\//i.test(t)}function uoe(t=Is()){return/iemobile/i.test(t)}function B0(t=Is()){return/android/i.test(t)}function doe(t=Is()){return/blackberry/i.test(t)}function hoe(t=Is()){return/webos/i.test(t)}function Tb(t=Is()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dot(t=Is()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function hot(t=Is()){var e;return Tb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fot(){return Uae()&&document.documentMode===10}function foe(t=Is()){return Tb(t)||B0(t)||hoe(t)||doe(t)||/windows phone/i.test(t)||uoe(t)}function mot(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function moe(t,e=[]){let n;switch(t){case"Browser":n=KW(Is());break;case"Worker":n=`${KW(Is())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${em}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pot{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function got(t,e={}){return qs(t,"GET","/v2/passwordPolicy",Hs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yot=6;class vot{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:yot,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bot{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JW(this),this.idTokenSubscription=new JW(this),this.beforeStateQueue=new pot(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=toe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_l(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await mv.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return st(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lx(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Gat()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?an(e):null;return n&&st(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&st(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(_l(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await got(this),n=new vot(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new hg("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await uot(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_l(e)||this._popupRedirectResolver;st(n,this,"argument-error"),this.redirectPersistenceManager=await mv.create(this,[_l(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(st(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return st(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=moe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&zat(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function zs(t){return an(t)}class JW{constructor(e){this.auth=e,this.observer=null,this.addObserver=Bae(n=>this.observer=n)}get next(){return st(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ot(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function c3(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=da("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",_ot().appendChild(r)})}function poe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const wot="https://www.google.com/recaptcha/enterprise.js?render=",xot="recaptcha-enterprise",Eot="NO_RECAPTCHA";class Sot{constructor(e){this.type=xot,this.auth=zs(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{Zat(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new Jat(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,o,l){const c=window.grecaptcha;qW(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(Eot)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(l=>{if(!n&&qW(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}c3(wot+l).then(()=>{s(l,i,o)}).catch(c=>{o(c)})}}).catch(l=>{o(l)})})}}async function QW(t,e,n,r=!1){const s=new Sot(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function $x(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await QW(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await QW(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}function jot(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_l);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Tot(t,e,n){const r=zs(t);st(r._canInitEmulator,r,"emulator-config-failed"),st(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=goe(e),{host:o,port:l}=Cot(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||Aot()}function goe(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Cot(t){const e=goe(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:ZW(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:ZW(o)}}}function ZW(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Aot(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vu("not implemented")}_getIdTokenResponse(e){return Vu("not implemented")}_linkToIdToken(e,n){return Vu("not implemented")}_getReauthenticationResolver(e){return Vu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yoe(t,e){return qs(t,"POST","/v1/accounts:resetPassword",Hs(t,e))}async function Not(t,e){return qs(t,"POST","/v1/accounts:update",e)}async function Iot(t,e){return qs(t,"POST","/v1/accounts:signUp",e)}async function kot(t,e){return qs(t,"POST","/v1/accounts:update",Hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oot(t,e){return dh(t,"POST","/v1/accounts:signInWithPassword",Hs(t,e))}async function yN(t,e){return qs(t,"POST","/v1/accounts:sendOobCode",Hs(t,e))}async function Rot(t,e){return yN(t,e)}async function Pot(t,e){return yN(t,e)}async function Dot(t,e){return yN(t,e)}async function Lot(t,e){return yN(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mot(t,e){return dh(t,"POST","/v1/accounts:signInWithEmailLink",Hs(t,e))}async function $ot(t,e){return dh(t,"POST","/v1/accounts:signInWithEmailLink",Hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx extends Cb{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Fx(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Fx(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $x(e,n,"signInWithPassword",Oot);case"emailLink":return Mot(e,{email:this._email,oobCode:this._password});default:ma(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $x(e,r,"signUpPassword",Iot);case"emailLink":return $ot(e,{idToken:n,email:this._email,oobCode:this._password});default:ma(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wd(t,e){return dh(t,"POST","/v1/accounts:signInWithIdp",Hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fot="http://localhost";class ed extends Cb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ed(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ma("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=s3(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ed(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Wd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Wd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wd(e,n)}buildRequest(){const e={requestUri:Fot,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Sb(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vot(t,e){return qs(t,"POST","/v1/accounts:sendVerificationCode",Hs(t,e))}async function Uot(t,e){return dh(t,"POST","/v1/accounts:signInWithPhoneNumber",Hs(t,e))}async function Bot(t,e){const n=await dh(t,"POST","/v1/accounts:signInWithPhoneNumber",Hs(t,e));if(n.temporaryProof)throw tw(t,"account-exists-with-different-credential",n);return n}const zot={USER_NOT_FOUND:"user-not-found"};async function Wot(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return dh(t,"POST","/v1/accounts:signInWithPhoneNumber",Hs(t,n),zot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep extends Cb{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Ep({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Ep({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return Uot(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return Bot(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return Wot(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:s}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:i}=e;return!r&&!n&&!s&&!i?null:new Ep({verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Got(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Hot(t){const e=Hy(ew(t)).link,n=e?Hy(ew(e)).deep_link_id:null,r=Hy(ew(t)).deep_link_id;return(r?Hy(ew(r)).link:null)||r||n||e||t}class vN{constructor(e){var n,r,s,i,o,l;const c=Hy(ew(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=Got((s=c.mode)!==null&&s!==void 0?s:null);st(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=Hot(e);try{return new vN(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(){this.providerId=tm.PROVIDER_ID}static credential(e,n){return Fx._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=vN.parseLink(n);return st(r,"argument-error"),Fx._fromEmailAndCode(e,r.code,r.tenantId)}}tm.PROVIDER_ID="password";tm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab extends hh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class pv extends Ab{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return st("providerId"in n&&"signInMethod"in n,"argument-error"),ed._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return st(e.idToken||e.accessToken,"argument-error"),ed._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return pv.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return pv.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:s,pendingToken:i,nonce:o,providerId:l}=e;if(!r&&!s&&!n&&!i||!l)return null;try{return new pv(l)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:i})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends Ab{constructor(){super("facebook.com")}static credential(e){return ed._fromParams({providerId:Ru.PROVIDER_ID,signInMethod:Ru.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ru.credentialFromTaggedObject(e)}static credentialFromError(e){return Ru.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ru.credential(e.oauthAccessToken)}catch{return null}}}Ru.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ru.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends Ab{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ed._fromParams({providerId:Pu.PROVIDER_ID,signInMethod:Pu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pu.credentialFromTaggedObject(e)}static credentialFromError(e){return Pu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Pu.credential(n,r)}catch{return null}}}Pu.GOOGLE_SIGN_IN_METHOD="google.com";Pu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends Ab{constructor(){super("github.com")}static credential(e){return ed._fromParams({providerId:Du.PROVIDER_ID,signInMethod:Du.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Du.credentialFromTaggedObject(e)}static credentialFromError(e){return Du.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Du.credential(e.oauthAccessToken)}catch{return null}}}Du.GITHUB_SIGN_IN_METHOD="github.com";Du.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qot="http://localhost";class zv extends Cb{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Wd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Wd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wd(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,pendingToken:i}=n;return!r||!s||!i||r!==s?null:new zv(r,i)}static _create(e,n){return new zv(e,n)}buildRequest(){return{requestUri:qot,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yot="saml.";class yC extends hh{constructor(e){st(e.startsWith(Yot),"argument-error"),super(e)}static credentialFromResult(e){return yC.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return yC.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=zv.fromJSON(e);return st(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return zv._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends Ab{constructor(){super("twitter.com")}static credential(e,n){return ed._fromParams({providerId:Lu.PROVIDER_ID,signInMethod:Lu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Lu.credentialFromTaggedObject(e)}static credentialFromError(e){return Lu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Lu.credential(n,r)}catch{return null}}}Lu.TWITTER_SIGN_IN_METHOD="twitter.com";Lu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function voe(t,e){return dh(t,"POST","/v1/accounts:signUp",Hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await wp._fromIdTokenResponse(e,r,s),o=XW(r);return new wc({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=XW(r);return new wc({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function XW(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kot(t){var e;const n=zs(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new wc({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await voe(n,{returnSecureToken:!0}),s=await wc._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC extends Za{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,vC.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new vC(e,n,r,s)}}function boe(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?vC._fromErrorAndOperation(t,i,e,r):i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _oe(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jot(t,e){const n=an(t);await bN(!0,n,e);const{providerUserInfo:r}=await eot(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),s=_oe(r||[]);return n.providerData=n.providerData.filter(i=>s.has(i.providerId)),s.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function u3(t,e,n=!1){const r=await eh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return wc._forOperation(t,"link",r)}async function bN(t,e,n){await Lx(e);const r=_oe(e.providerData),s=t===!1?"provider-already-linked":"no-such-provider";st(r.has(n)===t,e.auth,s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function woe(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await eh(t,boe(r,s,e,t),n);st(i.idToken,r,"internal-error");const o=gN(i.idToken);st(o,r,"internal-error");const{sub:l}=o;return st(t.uid===l,r,"user-mismatch"),wc._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ma(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xoe(t,e,n=!1){const r="signIn",s=await boe(t,r,e),i=await wc._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function _N(t,e){return xoe(zs(t),e)}async function Eoe(t,e){const n=an(t);return await bN(!1,n,e.providerId),u3(n,e)}async function Soe(t,e){return woe(an(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qot(t,e){return dh(t,"POST","/v1/accounts:signInWithCustomToken",Hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zot(t,e){const n=zs(t),r=await Qot(n,{token:e,returnSecureToken:!0}),s=await wc._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?d3._fromServerResponse(e,n):"totpInfo"in n?h3._fromServerResponse(e,n):ma(e,"internal-error")}}class d3 extends z0{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new d3(n)}}class h3 extends z0{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new h3(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(t,e,n){var r;st(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),st(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(st(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(st(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(t){const e=zs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Xot(t,e,n){const r=zs(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&wN(r,s,n),await $x(r,s,"getOobCode",Pot)}async function elt(t,e,n){await yoe(an(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&f3(t),r})}async function tlt(t,e){await kot(an(t),{oobCode:e})}async function joe(t,e){const n=an(t),r=await yoe(n,{oobCode:e}),s=r.requestType;switch(st(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":st(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":st(r.mfaInfo,n,"internal-error");default:st(r.email,n,"internal-error")}let i=null;return r.mfaInfo&&(i=z0._fromServerResponse(zs(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:i},operation:s}}async function nlt(t,e){const{data:n}=await joe(an(t),e);return n.email}async function rlt(t,e,n){const r=zs(t),o=await $x(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",voe).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&f3(t),c}),l=await wc._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function slt(t,e,n){return _N(an(t),tm.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&f3(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ilt(t,e,n){const r=zs(t),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function i(o,l){st(l.handleCodeInApp,r,"argument-error"),l&&wN(r,o,l)}i(s,n),await $x(r,s,"getOobCode",Dot)}function alt(t,e){const n=vN.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function olt(t,e,n){const r=an(t),s=tm.credentialWithLink(e,n||Dx());return st(s._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),_N(r,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function llt(t,e){return qs(t,"POST","/v1/accounts:createAuthUri",Hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function clt(t,e){const n=a3()?Dx():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:s}=await llt(an(t),r);return s||[]}async function ult(t,e){const n=an(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&wN(n.auth,s,e);const{email:i}=await Rot(n.auth,s);i!==t.email&&await t.reload()}async function dlt(t,e,n){const r=an(t),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&wN(r.auth,i,n);const{email:o}=await Lot(r.auth,i);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hlt(t,e){return qs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function flt(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=an(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await eh(r,hlt(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function mlt(t,e){return Toe(an(t),e,null)}function plt(t,e){return Toe(an(t),null,e)}async function Toe(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(i.email=e),n&&(i.password=n);const o=await eh(t,Not(r,i));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function glt(t){var e,n;if(!t)return null;const{providerId:r}=t,s=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},i=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=gN(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const l=o!=="anonymous"&&o!=="custom"?o:null;return new gv(i,l)}}if(!r)return null;switch(r){case"facebook.com":return new ylt(i,s);case"github.com":return new vlt(i,s);case"google.com":return new blt(i,s);case"twitter.com":return new _lt(i,s,t.screenName||null);case"custom":case"anonymous":return new gv(i,null);default:return new gv(i,r,s)}}class gv{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class Coe extends gv{constructor(e,n,r,s){super(e,n,r),this.username=s}}class ylt extends gv{constructor(e,n){super(e,"facebook.com",n)}}class vlt extends Coe{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class blt extends gv{constructor(e,n){super(e,"google.com",n)}}class _lt extends Coe{constructor(e,n,r){super(e,"twitter.com",n,r)}}function wlt(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:glt(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new cp("enroll",e,n)}static _fromMfaPendingCredential(e){return new cp("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return cp._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return cp._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=zs(e),s=n.customData._serverResponse,i=(s.mfaInfo||[]).map(l=>z0._fromServerResponse(r,l));st(s.mfaPendingCredential,r,"internal-error");const o=cp._fromMfaPendingCredential(s.mfaPendingCredential);return new m3(o,i,async l=>{const c=await l._process(r,o);delete s.mfaInfo,delete s.mfaPendingCredential;const u=Object.assign(Object.assign({},s),{idToken:c.idToken,refreshToken:c.refreshToken});switch(n.operationType){case"signIn":const d=await wc._fromIdTokenResponse(r,n.operationType,u);return await r._updateCurrentUser(d.user),d;case"reauthenticate":return st(n.user,r,"internal-error"),wc._forOperation(n.user,n.operationType,u);default:ma(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function xlt(t,e){var n;const r=an(t),s=e;return st(e.customData.operationType,r,"argument-error"),st((n=s.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),m3._fromError(r,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Elt(t,e){return qs(t,"POST","/v2/accounts/mfaEnrollment:start",Hs(t,e))}function Slt(t,e){return qs(t,"POST","/v2/accounts/mfaEnrollment:finalize",Hs(t,e))}function jlt(t,e){return qs(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Hs(t,e))}class p3{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>z0._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new p3(e)}async getSession(){return cp._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,s=await this.getSession(),i=await eh(this.user,r._process(this.user.auth,s,n));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const s=await eh(this.user,jlt(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:i})=>i!==n),await this.user._updateTokensIfNecessary(s),await this.user.reload()}catch(s){throw s}}}const VR=new WeakMap;function Tlt(t){const e=an(t);return VR.has(e)||VR.set(e,p3._fromUser(e)),VR.get(e)}const bC="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aoe{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bC,"1"),this.storage.removeItem(bC),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Clt(){const t=Is();return l3(t)||Tb(t)}const Alt=1e3,Nlt=10;class Noe extends Aoe{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Clt()&&mot(),this.fallbackToPolling=foe(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);fot()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Nlt):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Alt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Noe.type="LOCAL";const g3=Noe;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ioe extends Aoe{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ioe.type="SESSION";const Fp=Ioe;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ilt(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new xN(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async u=>u(n.origin,i)),c=await Ilt(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xN.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class klt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const u=W0("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(){return window}function Olt(t){di().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(){return typeof di().WorkerGlobalScope<"u"&&typeof di().importScripts=="function"}async function Rlt(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Plt(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Dlt(){return y3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const koe="firebaseLocalStorageDb",Llt=1,_C="firebaseLocalStorage",Ooe="fbase_key";class G0{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function EN(t,e){return t.transaction([_C],e?"readwrite":"readonly").objectStore(_C)}function Mlt(){const t=indexedDB.deleteDatabase(koe);return new G0(t).toPromise()}function WL(){const t=indexedDB.open(koe,Llt);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_C,{keyPath:Ooe})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_C)?e(r):(r.close(),await Mlt(),e(await WL()))})})}async function eG(t,e,n){const r=EN(t,!0).put({[Ooe]:e,value:n});return new G0(r).toPromise()}async function $lt(t,e){const n=EN(t,!1).get(e),r=await new G0(n).toPromise();return r===void 0?null:r.value}function tG(t,e){const n=EN(t,!0).delete(e);return new G0(n).toPromise()}const Flt=800,Vlt=3;class Roe{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await WL(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Vlt)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return y3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xN._getInstance(Dlt()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Rlt(),!this.activeServiceWorker)return;this.sender=new klt(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Plt()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await WL();return await eG(e,bC,"1"),await tG(e,bC),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>eG(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>$lt(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tG(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=EN(s,!1).getAll();return new G0(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Flt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Roe.type="LOCAL";const Vx=Roe;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ult(t,e){return qs(t,"POST","/v2/accounts/mfaSignIn:start",Hs(t,e))}function Blt(t,e){return qs(t,"POST","/v2/accounts/mfaSignIn:finalize",Hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zlt=500,Wlt=6e4,mj=1e12;class Glt{constructor(e){this.auth=e,this.counter=mj,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new Hlt(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||mj;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||mj;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||mj;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class Hlt{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;st(s,"argument-error",{appName:n}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=qlt(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},Wlt)},zlt))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function qlt(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=poe("rcb"),Ylt=new U0(3e4,6e4),Klt="https://www.google.com/recaptcha/api.js?";class Jlt{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=di().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return st(Qlt(n),e,"argument-error"),this.shouldResolveImmediately(n)&&HW(di().grecaptcha)?Promise.resolve(di().grecaptcha):new Promise((r,s)=>{const i=di().setTimeout(()=>{s(da(e,"network-request-failed"))},Ylt.get());di()[UR]=()=>{di().clearTimeout(i),delete di()[UR];const l=di().grecaptcha;if(!l||!HW(l)){s(da(e,"internal-error"));return}const c=l.render;l.render=(u,d)=>{const f=c(u,d);return this.counter++,f},this.hostLanguage=n,r(l)};const o=`${Klt}?${Sb({onload:UR,render:"explicit",hl:n})}`;c3(o).catch(()=>{clearTimeout(i),s(da(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=di().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function Qlt(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class Zlt{async load(e){return new Glt(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Poe="recaptcha",Xlt={theme:"light",type:"image"};let ect=class{constructor(e,n,r=Object.assign({},Xlt)){this.parameters=r,this.type=Poe,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=zs(e),this.isInvisible=this.parameters.size==="invisible",st(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof n=="string"?document.getElementById(n):n;st(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Zlt:new Jlt,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(s=>{const i=o=>{o&&(this.tokenChangeListeners.delete(i),s(o))};this.tokenChangeListeners.add(i),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){st(!this.parameters.sitekey,this.auth,"argument-error"),st(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),st(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=di()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){st(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){st(a3()&&!y3(),this.auth,"internal-error"),await tct(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Qat(this.auth);st(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return st(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function tct(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Ep._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function nct(t,e,n){const r=zs(t),s=await SN(r,e,an(n));return new v3(s,i=>_N(r,i))}async function rct(t,e,n){const r=an(t);await bN(!1,r,"phone");const s=await SN(r.auth,e,an(n));return new v3(s,i=>Eoe(r,i))}async function sct(t,e,n){const r=an(t),s=await SN(r.auth,e,an(n));return new v3(s,i=>Soe(r,i))}async function SN(t,e,n){var r;const s=await n.verify();try{st(typeof s=="string",t,"argument-error"),st(n.type===Poe,t,"argument-error");let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const o=i.session;if("phoneNumber"in i)return st(o.type==="enroll",t,"internal-error"),(await Elt(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,recaptchaToken:s}})).phoneSessionInfo.sessionInfo;{st(o.type==="signin",t,"internal-error");const l=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;return st(l,t,"missing-multi-factor-info"),(await Ult(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:s}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await Vot(t,{phoneNumber:i.phoneNumber,recaptchaToken:s});return o}}finally{n._reset()}}async function ict(t,e){await u3(an(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vp=class i1{constructor(e){this.providerId=i1.PROVIDER_ID,this.auth=zs(e)}verifyPhoneNumber(e,n){return SN(this.auth,e,an(n))}static credential(e,n){return Ep._fromVerification(e,n)}static credentialFromResult(e){const n=e;return i1.credentialFromTaggedObject(n)}static credentialFromError(e){return i1.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Ep._fromTokenResponse(n,r):null}};Vp.PROVIDER_ID="phone";Vp.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t,e){return e?_l(e):(st(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3 extends Cb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function act(t){return xoe(t.auth,new b3(t),t.bypassAuthState)}function oct(t){const{auth:e,user:n}=t;return st(n,e,"internal-error"),woe(n,new b3(t),t.bypassAuthState)}async function lct(t){const{auth:e,user:n}=t;return st(n,e,"internal-error"),u3(n,new b3(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Doe{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return act;case"linkViaPopup":case"linkViaRedirect":return lct;case"reauthViaPopup":case"reauthViaRedirect":return oct;default:ma(this.auth,"internal-error")}}resolve(e){tu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cct=new U0(2e3,1e4);async function uct(t,e,n){const r=zs(t);jb(t,e,hh);const s=fg(r,n);return new Ld(r,"signInViaPopup",e,s).executeNotNull()}async function dct(t,e,n){const r=an(t);jb(r.auth,e,hh);const s=fg(r.auth,n);return new Ld(r.auth,"reauthViaPopup",e,s,r).executeNotNull()}async function hct(t,e,n){const r=an(t);jb(r.auth,e,hh);const s=fg(r.auth,n);return new Ld(r.auth,"linkViaPopup",e,s,r).executeNotNull()}class Ld extends Doe{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ld.currentPopupAction&&Ld.currentPopupAction.cancel(),Ld.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return st(e,this.auth,"internal-error"),e}async onExecution(){tu(this.filter.length===1,"Popup operations only handle one event");const e=W0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(da(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(da(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ld.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(da(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cct.get())};e()}}Ld.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fct="pendingRedirect",Iw=new Map;class mct extends Doe{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Iw.get(this.auth._key());if(!e){try{const r=await pct(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Iw.set(this.auth._key(),e)}return this.bypassAuthState||Iw.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pct(t,e){const n=Moe(e),r=Loe(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}async function _3(t,e){return Loe(t)._set(Moe(e),"true")}function gct(){Iw.clear()}function w3(t,e){Iw.set(t._key(),e)}function Loe(t){return _l(t._redirectPersistence)}function Moe(t){return xp(fct,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yct(t,e,n){return vct(t,e,n)}async function vct(t,e,n){const r=zs(t);jb(t,e,hh),await r._initializationPromise;const s=fg(r,n);return await _3(s,r),s._openRedirect(r,e,"signInViaRedirect")}function bct(t,e,n){return _ct(t,e,n)}async function _ct(t,e,n){const r=an(t);jb(r.auth,e,hh),await r.auth._initializationPromise;const s=fg(r.auth,n);await _3(s,r.auth);const i=await $oe(r);return s._openRedirect(r.auth,e,"reauthViaRedirect",i)}function wct(t,e,n){return xct(t,e,n)}async function xct(t,e,n){const r=an(t);jb(r.auth,e,hh),await r.auth._initializationPromise;const s=fg(r.auth,n);await bN(!1,r,e.providerId),await _3(s,r.auth);const i=await $oe(r);return s._openRedirect(r.auth,e,"linkViaRedirect",i)}async function Ect(t,e){return await zs(t)._initializationPromise,jN(t,e,!1)}async function jN(t,e,n=!1){const r=zs(t),s=fg(r,e),o=await new mct(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function $oe(t){const e=W0(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sct=10*60*1e3;class Foe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jct(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Voe(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(da(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Sct&&this.cachedEventUids.clear(),this.cachedEventUids.has(nG(e))}saveEventToCache(e){this.cachedEventUids.add(nG(e)),this.lastProcessedEventTime=Date.now()}}function nG(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Voe({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jct(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Voe(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uoe(t,e={}){return qs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tct=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cct=/^https?/;async function Act(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Uoe(t);for(const n of e)try{if(Nct(n))return}catch{}ma(t,"unauthorized-domain")}function Nct(t){const e=Dx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Cct.test(n))return!1;if(Tct.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ict=new U0(3e4,6e4);function rG(){const t=di().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kct(t){return new Promise((e,n)=>{var r,s,i;function o(){rG(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rG(),n(da(t,"network-request-failed"))},timeout:Ict.get()})}if(!((s=(r=di().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=di().gapi)===null||i===void 0)&&i.load)o();else{const l=poe("iframefcb");return di()[l]=()=>{gapi.load?o():n(da(t,"network-request-failed"))},c3(`https://apis.google.com/js/api.js?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw a1=null,e})}let a1=null;function Oct(t){return a1=a1||kct(t),a1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rct=new U0(5e3,15e3),Pct="__/auth/iframe",Dct="emulator/auth/iframe",Lct={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mct=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $ct(t){const e=t.config;st(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?o3(e,Dct):`https://${t.config.authDomain}/${Pct}`,r={apiKey:e.apiKey,appName:t.name,v:em},s=Mct.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Sb(r).slice(1)}`}async function Fct(t){const e=await Oct(t),n=di().gapi;return st(n,t,"internal-error"),e.open({where:document.body,url:$ct(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lct,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=da(t,"network-request-failed"),l=di().setTimeout(()=>{i(o)},Rct.get());function c(){di().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vct={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Uct=500,Bct=600,zct="_blank",Wct="http://localhost";class sG{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Gct(t,e,n,r=Uct,s=Bct){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Vct),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Is().toLowerCase();n&&(l=coe(u)?zct:n),loe(u)&&(e=e||Wct,c.scrollbars="yes");const d=Object.entries(c).reduce((m,[p,y])=>`${m}${p}=${y},`,"");if(hot(u)&&l!=="_self")return Hct(e||"",l),new sG(null);const f=window.open(e||"",l,d);st(f,t,"popup-blocked");try{f.focus()}catch{}return new sG(f)}function Hct(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qct="__/auth/handler",Yct="emulator/auth/handler",Kct=encodeURIComponent("fac");async function GL(t,e,n,r,s,i){st(t.config.authDomain,t,"auth-domain-config-required"),st(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:em,eventId:s};if(e instanceof hh){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",vit(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(i||{}))o[d]=f}if(e instanceof Ab){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${Kct}=${encodeURIComponent(c)}`:"";return`${Jct(t)}?${Sb(l).slice(1)}${u}`}function Jct({config:t}){return t.emulator?o3(t,Yct):`https://${t.authDomain}/${qct}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="webStorageSupport";class Qct{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fp,this._completeRedirectFn=jN,this._overrideRedirectResult=w3}async _openPopup(e,n,r,s){var i;tu((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await GL(e,n,r,Dx(),s);return Gct(e,o,W0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await GL(e,n,r,Dx(),s);return Olt(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(tu(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Fct(e),r=new Foe(e);return n.register("authEvent",s=>(st(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(BR,{type:BR},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[BR];o!==void 0&&n(!!o),ma(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Act(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return foe()||l3()||Tb()}}const Zct=Qct;class Xct{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Vu("unexpected MultiFactorSessionType")}}}class x3 extends Xct{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new x3(e)}_finalizeEnroll(e,n,r){return Slt(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return Blt(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Boe{constructor(){}static assertion(e){return x3._fromCredential(e)}}Boe.FACTOR_ID="phone";var iG="@firebase/auth",aG="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eut{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){st(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tut(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function nut(t){Df(new Xu("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;st(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:moe(t)},u=new bot(r,s,i,c);return jot(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Df(new Xu("auth-internal",e=>{const n=zs(e.getProvider("auth").getImmediate());return(r=>new eut(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ku(iG,aG,tut(t)),Ku(iG,aG,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rut=5*60;lit("authIdTokenMaxAge");nut("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sut=2e3;async function iut(t,e,n){var r;const{BuildInfo:s}=Up();tu(e.sessionId,"AuthEvent did not contain a session ID");const i=await uut(e.sessionId),o={};return Tb()?o.ibi=s.packageName:B0()?o.apn=s.packageName:ma(t,"operation-not-supported-in-this-environment"),s.displayName&&(o.appDisplayName=s.displayName),o.sessionId=i,GL(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function aut(t){const{BuildInfo:e}=Up(),n={};Tb()?n.iosBundleId=e.packageName:B0()?n.androidPackageName=e.packageName:ma(t,"operation-not-supported-in-this-environment"),await Uoe(t,n)}function out(t){const{cordova:e}=Up();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let s=null;r?e.plugins.browsertab.openUrl(t):s=e.InAppBrowser.open(t,dot()?"_blank":"_system","location=yes"),n(s)})})}async function lut(t,e,n){const{cordova:r}=Up();let s=()=>{};try{await new Promise((i,o)=>{let l=null;function c(){var f;i();const m=(f=r.plugins.browsertab)===null||f===void 0?void 0:f.close;typeof m=="function"&&m(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function u(){l||(l=window.setTimeout(()=>{o(da(t,"redirect-cancelled-by-user"))},sut))}function d(){(document==null?void 0:document.visibilityState)==="visible"&&u()}e.addPassiveListener(c),document.addEventListener("resume",u,!1),B0()&&document.addEventListener("visibilitychange",d,!1),s=()=>{e.removePassiveListener(c),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",d,!1),l&&window.clearTimeout(l)}})}finally{s()}}function cut(t){var e,n,r,s,i,o,l,c,u,d;const f=Up();st(typeof((e=f==null?void 0:f.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),st(typeof((n=f==null?void 0:f.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),st(typeof((i=(s=(r=f==null?void 0:f.cordova)===null||r===void 0?void 0:r.plugins)===null||s===void 0?void 0:s.browsertab)===null||i===void 0?void 0:i.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),st(typeof((c=(l=(o=f==null?void 0:f.cordova)===null||o===void 0?void 0:o.plugins)===null||l===void 0?void 0:l.browsertab)===null||c===void 0?void 0:c.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),st(typeof((d=(u=f==null?void 0:f.cordova)===null||u===void 0?void 0:u.InAppBrowser)===null||d===void 0?void 0:d.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function uut(t){const e=dut(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}function dut(t){if(tu(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hut=20;class fut extends Foe{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function mut(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:yut(),postBody:null,tenantId:t.tenantId,error:da(t,"no-auth-event")}}function put(t,e){return HL()._set(qL(t),e)}async function oG(t){const e=await HL()._get(qL(t));return e&&await HL()._remove(qL(t)),e}function gut(t,e){var n,r;const s=but(e);if(s.includes("/__/auth/callback")){const i=o1(s),o=i.firebaseError?vut(decodeURIComponent(i.firebaseError)):null,l=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],c=l?da(l):null;return c?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:c,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:s,postBody:null}}return null}function yut(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<hut;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function HL(){return _l(g3)}function qL(t){return xp("authEvent",t.config.apiKey,t.name)}function vut(t){try{return JSON.parse(t)}catch{return null}}function but(t){const e=o1(t),n=e.link?decodeURIComponent(e.link):void 0,r=o1(n).link,s=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return o1(s).link||s||r||n||t}function o1(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Hy(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ut=500;class wut{constructor(){this._redirectPersistence=Fp,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=jN,this._overrideRedirectResult=w3}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new fut(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){ma(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,s){cut(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),gct(),await this._originValidation(e);const o=mut(e,r,s);await put(e,o);const l=await iut(e,o,n),c=await out(l);return lut(e,i,c)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aut(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:s,BuildInfo:i}=Up(),o=setTimeout(async()=>{await oG(e),n.onEvent(lG())},_ut),l=async d=>{clearTimeout(o);const f=await oG(e);let m=null;f&&(d!=null&&d.url)&&(m=gut(f,d.url)),n.onEvent(m||lG())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,l);const c=s,u=`${i.packageName.toLowerCase()}://`;Up().handleOpenURL=async d=>{if(d.toLowerCase().startsWith(u)&&l({url:d}),typeof c=="function")try{c(d)}catch(f){console.error(f)}}}}const xut=wut;function lG(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:da("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eut(t,e){zs(t)._logFramework(e)}var Sut="@firebase/auth-compat",jut="0.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tut=1e3;function kw(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function Cut(){return kw()==="http:"||kw()==="https:"}function zoe(t=Is()){return!!((kw()==="file:"||kw()==="ionic:"||kw()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Aut(){return e3()||X4()}function Nut(){return Uae()&&(document==null?void 0:document.documentMode)===11}function Iut(t=Is()){return/Edge\/\d+/.test(t)}function kut(t=Is()){return Nut()||Iut(t)}function Woe(){try{const t=self.localStorage,e=W0();if(t)return t.setItem(e,"1"),t.removeItem(e),kut()?Ox():!0}catch{return E3()&&Ox()}return!1}function E3(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function zR(){return(Cut()||Vae()||zoe())&&!Aut()&&Woe()&&!E3()}function Goe(){return zoe()&&typeof document<"u"}async function Out(){return Goe()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},Tut);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function Rut(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml={LOCAL:"local",NONE:"none",SESSION:"session"},k_=st,Hoe="persistence";function Put(t,e){if(k_(Object.values(ml).includes(e),t,"invalid-persistence-type"),e3()){k_(e!==ml.SESSION,t,"unsupported-persistence-type");return}if(X4()){k_(e===ml.NONE,t,"unsupported-persistence-type");return}if(E3()){k_(e===ml.NONE||e===ml.LOCAL&&Ox(),t,"unsupported-persistence-type");return}k_(e===ml.NONE||Woe(),t,"unsupported-persistence-type")}async function YL(t){await t._initializationPromise;const e=qoe(),n=xp(Hoe,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function Dut(t,e){const n=qoe();if(!n)return[];const r=xp(Hoe,t,e);switch(n.getItem(r)){case ml.NONE:return[Bv];case ml.LOCAL:return[Vx,Fp];case ml.SESSION:return[Fp];default:return[]}}function qoe(){var t;try{return((t=Rut())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lut=st;class cf{constructor(){this.browserResolver=_l(Zct),this.cordovaResolver=_l(xut),this.underlyingResolver=null,this._redirectPersistence=Fp,this._completeRedirectFn=jN,this._overrideRedirectResult=w3}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,s)}async _openRedirect(e,n,r,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,s)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Goe()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Lut(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await Out();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yoe(t){return t.unwrap()}function Mut(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ut(t){return Koe(t)}function Fut(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const s=e;s.resolver=new Vut(t,xlt(t,e))}else if(r){const s=Koe(e),i=e;s&&(i.credential=s,i.tenantId=r.tenantId||void 0,i.email=r.email||void 0,i.phoneNumber=r.phoneNumber||void 0)}}function Koe(t){const{_tokenResponse:e}=t instanceof Za?t.customData:t;if(!e)return null;if(!(t instanceof Za)&&"temporaryProof"in e&&"phoneNumber"in e)return Vp.credentialFromResult(t);const n=e.providerId;if(!n||n===I_.PASSWORD)return null;let r;switch(n){case I_.GOOGLE:r=Pu;break;case I_.FACEBOOK:r=Ru;break;case I_.GITHUB:r=Du;break;case I_.TWITTER:r=Lu;break;default:const{oauthIdToken:s,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:l,nonce:c}=e;return!i&&!o&&!s&&!l?null:l?n.startsWith("saml.")?zv._create(n,l):ed._fromParams({providerId:n,signInMethod:n,pendingToken:l,idToken:s,accessToken:i}):new pv(n).credential({idToken:s,accessToken:i,rawNonce:c})}return t instanceof Za?r.credentialFromError(t):r.credentialFromResult(t)}function So(t,e){return e.catch(n=>{throw n instanceof Za&&Fut(t,n),n}).then(n=>{const r=n.operationType,s=n.user;return{operationType:r,credential:$ut(n),additionalUserInfo:wlt(n),user:TN.getOrCreate(s)}})}async function KL(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>So(t,n.confirm(r))}}class Vut{constructor(e,n){this.resolver=n,this.auth=Mut(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return So(Yoe(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TN=class nw{constructor(e){this._delegate=e,this.multiFactor=Tlt(e)}static getOrCreate(e){return nw.USER_MAP.has(e)||nw.USER_MAP.set(e,new nw(e)),nw.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return So(this.auth,Eoe(this._delegate,e))}async linkWithPhoneNumber(e,n){return KL(this.auth,rct(this._delegate,e,n))}async linkWithPopup(e){return So(this.auth,hct(this._delegate,e,cf))}async linkWithRedirect(e){return await YL(zs(this.auth)),wct(this._delegate,e,cf)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return So(this.auth,Soe(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return KL(this.auth,sct(this._delegate,e,n))}reauthenticateWithPopup(e){return So(this.auth,dct(this._delegate,e,cf))}async reauthenticateWithRedirect(e){return await YL(zs(this.auth)),bct(this._delegate,e,cf)}sendEmailVerification(e){return ult(this._delegate,e)}async unlink(e){return await Jot(this._delegate,e),this}updateEmail(e){return mlt(this._delegate,e)}updatePassword(e){return plt(this._delegate,e)}updatePhoneNumber(e){return ict(this._delegate,e)}updateProfile(e){return flt(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return dlt(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};TN.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=st;class JL{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;O_(r,"invalid-api-key",{appName:e.name}),O_(r,"invalid-api-key",{appName:e.name});const s=typeof window<"u"?cf:void 0;this._delegate=n.initialize({options:{persistence:Uut(r,e.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(Uat),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?TN.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){Tot(this._delegate,e,n)}applyActionCode(e){return tlt(this._delegate,e)}checkActionCode(e){return joe(this._delegate,e)}confirmPasswordReset(e,n){return elt(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return So(this._delegate,rlt(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return clt(this._delegate,e)}isSignInWithEmailLink(e){return alt(this._delegate,e)}async getRedirectResult(){O_(zR(),this._delegate,"operation-not-supported-in-this-environment");const e=await Ect(this._delegate,cf);return e?So(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){Eut(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:s,error:i,complete:o}=cG(e,n,r);return this._delegate.onAuthStateChanged(s,i,o)}onIdTokenChanged(e,n,r){const{next:s,error:i,complete:o}=cG(e,n,r);return this._delegate.onIdTokenChanged(s,i,o)}sendSignInLinkToEmail(e,n){return ilt(this._delegate,e,n)}sendPasswordResetEmail(e,n){return Xot(this._delegate,e,n||void 0)}async setPersistence(e){Put(this._delegate,e);let n;switch(e){case ml.SESSION:n=Fp;break;case ml.LOCAL:n=await _l(Vx)._isAvailable()?Vx:g3;break;case ml.NONE:n=Bv;break;default:return ma("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return So(this._delegate,Kot(this._delegate))}signInWithCredential(e){return So(this._delegate,_N(this._delegate,e))}signInWithCustomToken(e){return So(this._delegate,Zot(this._delegate,e))}signInWithEmailAndPassword(e,n){return So(this._delegate,slt(this._delegate,e,n))}signInWithEmailLink(e,n){return So(this._delegate,olt(this._delegate,e,n))}signInWithPhoneNumber(e,n){return KL(this._delegate,nct(this._delegate,e,n))}async signInWithPopup(e){return O_(zR(),this._delegate,"operation-not-supported-in-this-environment"),So(this._delegate,uct(this._delegate,e,cf))}async signInWithRedirect(e){return O_(zR(),this._delegate,"operation-not-supported-in-this-environment"),await YL(this._delegate),yct(this._delegate,e,cf)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return nlt(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}JL.Persistence=ml;function cG(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const s=r;return{next:o=>s(o&&TN.getOrCreate(o)),error:e,complete:n}}function Uut(t,e){const n=Dut(t,e);if(typeof self<"u"&&!n.includes(Vx)&&n.push(Vx),typeof window<"u")for(const r of[g3,Fp])n.includes(r)||n.push(r);return n.includes(Bv)||n.push(Bv),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(){this.providerId="phone",this._delegate=new Vp(Yoe(V0.auth()))}static credential(e,n){return Vp.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}S3.PHONE_SIGN_IN_METHOD=Vp.PHONE_SIGN_IN_METHOD;S3.PROVIDER_ID=Vp.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const But=st;class zut{constructor(e,n,r=V0.app()){var s;But((s=r.options)===null||s===void 0?void 0:s.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new ect(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wut="auth-compat";function Gut(t){t.INTERNAL.registerComponent(new Xu(Wut,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new JL(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:hy.EMAIL_SIGNIN,PASSWORD_RESET:hy.PASSWORD_RESET,RECOVER_EMAIL:hy.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:hy.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:hy.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:hy.VERIFY_EMAIL}},EmailAuthProvider:tm,FacebookAuthProvider:Ru,GithubAuthProvider:Du,GoogleAuthProvider:Pu,OAuthProvider:pv,SAMLAuthProvider:yC,PhoneAuthProvider:S3,PhoneMultiFactorGenerator:Boe,RecaptchaVerifier:zut,TwitterAuthProvider:Lu,Auth:JL,AuthCredential:Cb,Error:Za}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(Sut,jut)}Gut(V0);var Hut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bt,j3=j3||{},Cn=Hut||self;function CN(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function AN(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function qut(t,e,n){return t.call.apply(t.bind,arguments)}function Yut(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Ia(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ia=qut:Ia=Yut,Ia.apply(null,arguments)}function pj(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Bi(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return e.prototype[s].apply(r,o)}}function nm(){this.s=this.s,this.o=this.o}var Kut=0;nm.prototype.s=!1;nm.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Kut!=0)};nm.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Joe=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function T3(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function uG(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(CN(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function ka(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ka.prototype.h=function(){this.defaultPrevented=!0};var Jut=function(){if(!Cn.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Cn.addEventListener("test",n,e),Cn.removeEventListener("test",n,e)}catch{}return t}();function Ux(t){return/^[\s\xa0]*$/.test(t)}function NN(){var t=Cn.navigator;return t&&(t=t.userAgent)?t:""}function Mu(t){return NN().indexOf(t)!=-1}function C3(t){return C3[" "](t),t}C3[" "]=function(){};function Qut(t,e){var n=Wdt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Zut=Mu("Opera"),Wv=Mu("Trident")||Mu("MSIE"),Qoe=Mu("Edge"),QL=Qoe||Wv,Zoe=Mu("Gecko")&&!(NN().toLowerCase().indexOf("webkit")!=-1&&!Mu("Edge"))&&!(Mu("Trident")||Mu("MSIE"))&&!Mu("Edge"),Xut=NN().toLowerCase().indexOf("webkit")!=-1&&!Mu("Edge");function Xoe(){var t=Cn.document;return t?t.documentMode:void 0}var ZL;e:{var WR="",GR=function(){var t=NN();if(Zoe)return/rv:([^\);]+)(\)|;)/.exec(t);if(Qoe)return/Edge\/([\d\.]+)/.exec(t);if(Wv)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Xut)return/WebKit\/(\S+)/.exec(t);if(Zut)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(GR&&(WR=GR?GR[1]:""),Wv){var HR=Xoe();if(HR!=null&&HR>parseFloat(WR)){ZL=String(HR);break e}}ZL=WR}var XL;if(Cn.document&&Wv){var dG=Xoe();XL=dG||parseInt(ZL,10)||void 0}else XL=void 0;var edt=XL;function Bx(t,e){if(ka.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Zoe){e:{try{C3(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:tdt[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Bx.$.h.call(this)}}Bi(Bx,ka);var tdt={2:"touch",3:"pen",4:"mouse"};Bx.prototype.h=function(){Bx.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var IN="closure_listenable_"+(1e6*Math.random()|0),ndt=0;function rdt(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++ndt,this.fa=this.ia=!1}function kN(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function A3(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function sdt(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function ele(t){const e={};for(const n in t)e[n]=t[n];return e}const hG="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tle(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<hG.length;i++)n=hG[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ON(t){this.src=t,this.g={},this.h=0}ON.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=tM(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new rdt(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function eM(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=Joe(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(kN(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function tM(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var N3="closure_lm_"+(1e6*Math.random()|0),qR={};function nle(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)nle(t,e[i],n,r,s);return null}return n=ile(n),t&&t[IN]?t.O(e,n,AN(r)?!!r.capture:!1,s):idt(t,e,n,!1,r,s)}function idt(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=AN(s)?!!s.capture:!!s,l=k3(t);if(l||(t[N3]=l=new ON(t)),n=l.add(e,n,r,o,i),n.proxy)return n;if(r=adt(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Jut||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(sle(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function adt(){function t(n){return e.call(t.src,t.listener,n)}const e=odt;return t}function rle(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)rle(t,e[i],n,r,s);else r=AN(r)?!!r.capture:!!r,n=ile(n),t&&t[IN]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=tM(i,n,r,s),-1<n&&(kN(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=k3(t))&&(e=t.g[e.toString()],t=-1,e&&(t=tM(e,n,r,s)),(n=-1<t?e[t]:null)&&I3(n))}function I3(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[IN])eM(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(sle(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=k3(e))?(eM(n,t),n.h==0&&(n.src=null,e[N3]=null)):kN(t)}}}function sle(t){return t in qR?qR[t]:qR[t]="on"+t}function odt(t,e){if(t.fa)t=!0;else{e=new Bx(e,this);var n=t.listener,r=t.la||t.src;t.ia&&I3(t),t=n.call(r,e)}return t}function k3(t){return t=t[N3],t instanceof ON?t:null}var YR="__closure_events_fn_"+(1e9*Math.random()>>>0);function ile(t){return typeof t=="function"?t:(t[YR]||(t[YR]=function(e){return t.handleEvent(e)}),t[YR])}function Vi(){nm.call(this),this.i=new ON(this),this.S=this,this.J=null}Bi(Vi,nm);Vi.prototype[IN]=!0;Vi.prototype.removeEventListener=function(t,e,n,r){rle(this,t,e,n,r)};function ha(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ka(e,t);else if(e instanceof ka)e.target=e.target||t;else{var s=e;e=new ka(r,t),tle(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=gj(o,r,!0,e)&&s}if(o=e.g=t,s=gj(o,r,!0,e)&&s,s=gj(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=gj(o,r,!1,e)&&s}Vi.prototype.N=function(){if(Vi.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)kN(n[r]);delete t.g[e],t.h--}}this.J=null};Vi.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Vi.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function gj(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var l=o.listener,c=o.la||o.src;o.ia&&eM(t.i,o),s=l.call(c,r)!==!1&&s}}return s&&!r.defaultPrevented}var O3=Cn.JSON.stringify;class ldt{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function cdt(){var t=R3;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class udt{constructor(){this.h=this.g=null}add(e,n){const r=ale.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var ale=new ldt(()=>new ddt,t=>t.reset());class ddt{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function hdt(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function fdt(t){Cn.setTimeout(()=>{throw t},0)}let zx,Wx=!1,R3=new udt,ole=()=>{const t=Cn.Promise.resolve(void 0);zx=()=>{t.then(mdt)}};var mdt=()=>{for(var t;t=cdt();){try{t.h.call(t.g)}catch(n){fdt(n)}var e=ale;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Wx=!1};function RN(t,e){Vi.call(this),this.h=t||1,this.g=e||Cn,this.j=Ia(this.qb,this),this.l=Date.now()}Bi(RN,Vi);bt=RN.prototype;bt.ga=!1;bt.T=null;bt.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ha(this,"tick"),this.ga&&(P3(this),this.start()))}};bt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function P3(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}bt.N=function(){RN.$.N.call(this),P3(this),delete this.g};function D3(t,e,n){if(typeof t=="function")n&&(t=Ia(t,n));else if(t&&typeof t.handleEvent=="function")t=Ia(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Cn.setTimeout(t,e||0)}function lle(t){t.g=D3(()=>{t.g=null,t.i&&(t.i=!1,lle(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class pdt extends nm{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lle(this)}N(){super.N(),this.g&&(Cn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gx(t){nm.call(this),this.h=t,this.g={}}Bi(Gx,nm);var fG=[];function cle(t,e,n,r){Array.isArray(n)||(n&&(fG[0]=n.toString()),n=fG);for(var s=0;s<n.length;s++){var i=nle(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function ule(t){A3(t.g,function(e,n){this.g.hasOwnProperty(n)&&I3(e)},t),t.g={}}Gx.prototype.N=function(){Gx.$.N.call(this),ule(this)};Gx.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function PN(){this.g=!0}PN.prototype.Ea=function(){this.g=!1};function gdt(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",l=i.split("&"),c=0;c<l.length;c++){var u=l[c].split("=");if(1<u.length){var d=u[0];u=u[1];var f=d.split("_");o=2<=f.length&&f[1]=="type"?o+(d+"="+u+"&"):o+(d+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function ydt(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function qy(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+bdt(t,n)+(r?" "+r:"")})}function vdt(t,e){t.info(function(){return"TIMEOUT: "+e})}PN.prototype.info=function(){};function bdt(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return O3(n)}catch{return e}}var mg={},mG=null;function DN(){return mG=mG||new Vi}mg.Ta="serverreachability";function dle(t){ka.call(this,mg.Ta,t)}Bi(dle,ka);function Hx(t){const e=DN();ha(e,new dle(e))}mg.STAT_EVENT="statevent";function hle(t,e){ka.call(this,mg.STAT_EVENT,t),this.stat=e}Bi(hle,ka);function Ka(t){const e=DN();ha(e,new hle(e,t))}mg.Ua="timingevent";function fle(t,e){ka.call(this,mg.Ua,t),this.size=e}Bi(fle,ka);function H0(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Cn.setTimeout(function(){t()},e)}var LN={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},mle={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function L3(){}L3.prototype.h=null;function pG(t){return t.h||(t.h=t.i())}function ple(){}var q0={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function M3(){ka.call(this,"d")}Bi(M3,ka);function $3(){ka.call(this,"c")}Bi($3,ka);var nM;function MN(){}Bi(MN,L3);MN.prototype.g=function(){return new XMLHttpRequest};MN.prototype.i=function(){return{}};nM=new MN;function Y0(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Gx(this),this.P=_dt,t=QL?125:void 0,this.V=new RN(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new gle}function gle(){this.i=null,this.g="",this.h=!1}var _dt=45e3,yle={},rM={};bt=Y0.prototype;bt.setTimeout=function(t){this.P=t};function sM(t,e,n){t.L=1,t.A=FN(th(e)),t.u=n,t.S=!0,vle(t,null)}function vle(t,e){t.G=Date.now(),K0(t),t.B=th(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),Tle(n.i,"t",r),t.o=0,n=t.l.J,t.h=new gle,t.g=qle(t.l,n?e:null,!t.u),0<t.O&&(t.M=new pdt(Ia(t.Pa,t,t.g),t.O)),cle(t.U,t.g,"readystatechange",t.nb),e=t.I?ele(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Hx(),gdt(t.j,t.v,t.B,t.m,t.W,t.u)}bt.nb=function(t){t=t.target;const e=this.M;e&&Uu(t)==3?e.l():this.Pa(t)};bt.Pa=function(t){try{if(t==this.g)e:{const d=Uu(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>d)&&(d!=3||QL||this.g&&(this.h.h||this.g.ja()||bG(this.g)))){this.J||d!=4||e==7||(e==8||0>=f?Hx(3):Hx(2)),$N(this);var n=this.g.da();this.ca=n;t:if(ble(this)){var r=bG(this.g);t="";var s=r.length,i=Uu(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){up(this),Ow(this);var o="";break t}this.h.i=new Cn.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,ydt(this.j,this.v,this.B,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ux(l)){var u=l;break t}}u=null}if(n=u)qy(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,iM(this,n);else{this.i=!1,this.s=3,Ka(12),up(this),Ow(this);break e}}this.S?(_le(this,d,o),QL&&this.i&&d==3&&(cle(this.U,this.V,"tick",this.mb),this.V.start())):(qy(this.j,this.m,o,null),iM(this,o)),d==4&&up(this),this.i&&!this.J&&(d==4?zle(this.l,this):(this.i=!1,K0(this)))}else Udt(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Ka(12)):(this.s=0,Ka(13)),up(this),Ow(this)}}}catch{}finally{}};function ble(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function _le(t,e,n){let r=!0,s;for(;!t.J&&t.o<n.length;)if(s=wdt(t,n),s==rM){e==4&&(t.s=4,Ka(14),r=!1),qy(t.j,t.m,null,"[Incomplete Response]");break}else if(s==yle){t.s=4,Ka(15),qy(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else qy(t.j,t.m,s,null),iM(t,s);ble(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Ka(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),W3(e),e.M=!0,Ka(11))):(qy(t.j,t.m,n,"[Invalid Chunked Response]"),up(t),Ow(t))}bt.mb=function(){if(this.g){var t=Uu(this.g),e=this.g.ja();this.o<e.length&&($N(this),_le(this,t,e),this.i&&t!=4&&K0(this))}};function wdt(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?rM:(n=Number(e.substring(n,r)),isNaN(n)?yle:(r+=1,r+n>e.length?rM:(e=e.slice(r,r+n),t.o=r+n,e)))}bt.cancel=function(){this.J=!0,up(this)};function K0(t){t.Y=Date.now()+t.P,wle(t,t.P)}function wle(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=H0(Ia(t.lb,t),e)}function $N(t){t.C&&(Cn.clearTimeout(t.C),t.C=null)}bt.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(vdt(this.j,this.B),this.L!=2&&(Hx(),Ka(17)),up(this),this.s=2,Ow(this)):wle(this,this.Y-t)};function Ow(t){t.l.H==0||t.J||zle(t.l,t)}function up(t){$N(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,P3(t.V),ule(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function iM(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||aM(n.i,t))){if(!t.K&&aM(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)EC(n),zN(n);else break e;z3(n),Ka(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=H0(Ia(n.ib,n),6e3));if(1>=Nle(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else dp(n,11)}else if((t.K||n.g==t)&&EC(n),!Ux(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const d=u[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const f=u[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const m=u[5];m!=null&&typeof m=="number"&&0<m&&(r=1.5*m,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const y=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var i=r.i;i.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(F3(i,i.h),i.h=null))}if(r.F){const _=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,ts(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=Hle(r,r.J?r.pa:null,r.Y),o.K){Ile(r.i,o);var l=o,c=r.L;c&&l.setTimeout(c),l.C&&($N(l),K0(l)),r.g=o}else Ule(r);0<n.j.length&&WN(n)}else u[0]!="stop"&&u[0]!="close"||dp(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?dp(n,7):B3(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Hx(4)}catch{}}function xdt(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(CN(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Edt(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(CN(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function xle(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(CN(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Edt(t),r=xdt(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var Ele=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sdt(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Sp(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Sp){this.h=t.h,wC(this,t.j),this.s=t.s,this.g=t.g,xC(this,t.m),this.l=t.l;var e=t.i,n=new qx;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),gG(this,n),this.o=t.o}else t&&(e=String(t).match(Ele))?(this.h=!1,wC(this,e[1]||"",!0),this.s=rw(e[2]||""),this.g=rw(e[3]||"",!0),xC(this,e[4]),this.l=rw(e[5]||"",!0),gG(this,e[6]||"",!0),this.o=rw(e[7]||"")):(this.h=!1,this.i=new qx(null,this.h))}Sp.prototype.toString=function(){var t=[],e=this.j;e&&t.push(sw(e,yG,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(sw(e,yG,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(sw(n,n.charAt(0)=="/"?Cdt:Tdt,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",sw(n,Ndt)),t.join("")};function th(t){return new Sp(t)}function wC(t,e,n){t.j=n?rw(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function xC(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function gG(t,e,n){e instanceof qx?(t.i=e,Idt(t.i,t.h)):(n||(e=sw(e,Adt)),t.i=new qx(e,t.h))}function ts(t,e,n){t.i.set(e,n)}function FN(t){return ts(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function rw(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function sw(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,jdt),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function jdt(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var yG=/[#\/\?@]/g,Tdt=/[#\?:]/g,Cdt=/[#\?]/g,Adt=/[#\?@]/g,Ndt=/#/g;function qx(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function rm(t){t.g||(t.g=new Map,t.h=0,t.i&&Sdt(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}bt=qx.prototype;bt.add=function(t,e){rm(this),this.i=null,t=Nb(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Sle(t,e){rm(t),e=Nb(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function jle(t,e){return rm(t),e=Nb(t,e),t.g.has(e)}bt.forEach=function(t,e){rm(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};bt.ta=function(){rm(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};bt.Z=function(t){rm(this);let e=[];if(typeof t=="string")jle(this,t)&&(e=e.concat(this.g.get(Nb(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};bt.set=function(t,e){return rm(this),this.i=null,t=Nb(this,t),jle(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};bt.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Tle(t,e,n){Sle(t,e),0<n.length&&(t.i=null,t.g.set(Nb(t,e),T3(n)),t.h+=n.length)}bt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function Nb(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Idt(t,e){e&&!t.j&&(rm(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(Sle(this,r),Tle(this,s,n))},t)),t.j=e}var kdt=class{constructor(t,e){this.g=t,this.map=e}};function Cle(t){this.l=t||Odt,Cn.PerformanceNavigationTiming?(t=Cn.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Cn.g&&Cn.g.Ka&&Cn.g.Ka()&&Cn.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Odt=10;function Ale(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Nle(t){return t.h?1:t.g?t.g.size:0}function aM(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function F3(t,e){t.g?t.g.add(e):t.h=e}function Ile(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Cle.prototype.cancel=function(){if(this.i=kle(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function kle(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return T3(t.i)}var Rdt=class{stringify(t){return Cn.JSON.stringify(t,void 0)}parse(t){return Cn.JSON.parse(t,void 0)}};function Pdt(){this.g=new Rdt}function Ddt(t,e,n){const r=n||"";try{xle(t,function(s,i){let o=s;AN(s)&&(o=O3(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function Ldt(t,e){const n=new PN;if(Cn.Image){const r=new Image;r.onload=pj(yj,n,r,"TestLoadImage: loaded",!0,e),r.onerror=pj(yj,n,r,"TestLoadImage: error",!1,e),r.onabort=pj(yj,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=pj(yj,n,r,"TestLoadImage: timeout",!1,e),Cn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function yj(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function VN(t){this.l=t.ec||null,this.j=t.ob||!1}Bi(VN,L3);VN.prototype.g=function(){return new UN(this.l,this.j)};VN.prototype.i=function(t){return function(){return t}}({});function UN(t,e){Vi.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=V3,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Bi(UN,Vi);var V3=0;bt=UN.prototype;bt.open=function(t,e){if(this.readyState!=V3)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Yx(this)};bt.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Cn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};bt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,J0(this)),this.readyState=V3};bt.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Yx(this)),this.g&&(this.readyState=3,Yx(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Cn.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ole(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Ole(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}bt.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?J0(this):Yx(this),this.readyState==3&&Ole(this)}};bt.Za=function(t){this.g&&(this.response=this.responseText=t,J0(this))};bt.Ya=function(t){this.g&&(this.response=t,J0(this))};bt.ka=function(){this.g&&J0(this)};function J0(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Yx(t)}bt.setRequestHeader=function(t,e){this.v.append(t,e)};bt.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};bt.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Yx(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(UN.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Mdt=Cn.JSON.parse;function Ws(t){Vi.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Rle,this.L=this.M=!1}Bi(Ws,Vi);var Rle="",$dt=/^https?$/i,Fdt=["POST","PUT"];bt=Ws.prototype;bt.Oa=function(t){this.M=t};bt.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():nM.g(),this.C=this.u?pG(this.u):pG(nM),this.g.onreadystatechange=Ia(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){vG(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=Cn.FormData&&t instanceof Cn.FormData,!(0<=Joe(Fdt,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Lle(this),0<this.B&&((this.L=Vdt(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ia(this.ua,this)):this.A=D3(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){vG(this,i)}};function Vdt(t){return Wv&&typeof t.timeout=="number"&&t.ontimeout!==void 0}bt.ua=function(){typeof j3<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ha(this,"timeout"),this.abort(8))};function vG(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Ple(t),BN(t)}function Ple(t){t.F||(t.F=!0,ha(t,"complete"),ha(t,"error"))}bt.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ha(this,"complete"),ha(this,"abort"),BN(this))};bt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),BN(this,!0)),Ws.$.N.call(this)};bt.La=function(){this.s||(this.G||this.v||this.l?Dle(this):this.kb())};bt.kb=function(){Dle(this)};function Dle(t){if(t.h&&typeof j3<"u"&&(!t.C[1]||Uu(t)!=4||t.da()!=2)){if(t.v&&Uu(t)==4)D3(t.La,0,t);else if(ha(t,"readystatechange"),Uu(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(Ele)[1]||null;!s&&Cn.self&&Cn.self.location&&(s=Cn.self.location.protocol.slice(0,-1)),r=!$dt.test(s?s.toLowerCase():"")}n=r}if(n)ha(t,"complete"),ha(t,"success");else{t.m=6;try{var i=2<Uu(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",Ple(t)}}finally{BN(t)}}}}function BN(t,e){if(t.g){Lle(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ha(t,"ready");try{n.onreadystatechange=r}catch{}}}function Lle(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Cn.clearTimeout(t.A),t.A=null)}bt.isActive=function(){return!!this.g};function Uu(t){return t.g?t.g.readyState:0}bt.da=function(){try{return 2<Uu(this)?this.g.status:-1}catch{return-1}};bt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};bt.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Mdt(e)}};function bG(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Rle:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Udt(t){const e={};t=(t.g&&2<=Uu(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ux(t[r]))continue;var n=hdt(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}sdt(e,function(r){return r.join(", ")})}bt.Ia=function(){return this.m};bt.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Mle(t){let e="";return A3(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function U3(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Mle(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ts(t,e,n))}function R_(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function $le(t){this.Ga=0,this.j=[],this.l=new PN,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=R_("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=R_("baseRetryDelayMs",5e3,t),this.hb=R_("retryDelaySeedMs",1e4,t),this.eb=R_("forwardChannelMaxRetries",2,t),this.xa=R_("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Cle(t&&t.concurrentRequestLimit),this.Ja=new Pdt,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}bt=$le.prototype;bt.ra=8;bt.H=1;function B3(t){if(Fle(t),t.H==3){var e=t.W++,n=th(t.I);if(ts(n,"SID",t.K),ts(n,"RID",e),ts(n,"TYPE","terminate"),Q0(t,n),e=new Y0(t,t.l,e),e.L=2,e.A=FN(th(n)),n=!1,Cn.navigator&&Cn.navigator.sendBeacon)try{n=Cn.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Cn.Image&&(new Image().src=e.A,n=!0),n||(e.g=qle(e.l,null),e.g.ha(e.A)),e.G=Date.now(),K0(e)}Gle(t)}function zN(t){t.g&&(W3(t),t.g.cancel(),t.g=null)}function Fle(t){zN(t),t.u&&(Cn.clearTimeout(t.u),t.u=null),EC(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Cn.clearTimeout(t.m),t.m=null)}function WN(t){if(!Ale(t.i)&&!t.m){t.m=!0;var e=t.Na;zx||ole(),Wx||(zx(),Wx=!0),R3.add(e,t),t.C=0}}function Bdt(t,e){return Nle(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=H0(Ia(t.Na,t,e),Wle(t,t.C)),t.C++,!0)}bt.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Y0(this,this.l,t);let i=this.s;if(this.U&&(i?(i=ele(i),tle(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Vle(this,s,e),n=th(this.I),ts(n,"RID",t),ts(n,"CVER",22),this.F&&ts(n,"X-HTTP-Session-Id",this.F),Q0(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(Mle(i)))+"&"+e:this.o&&U3(n,this.o,i)),F3(this.i,s),this.bb&&ts(n,"TYPE","init"),this.P?(ts(n,"$req",e),ts(n,"SID","null"),s.aa=!0,sM(s,n,null)):sM(s,n,e),this.H=2}}else this.H==3&&(t?_G(this,t):this.j.length==0||Ale(this.i)||_G(this))};function _G(t,e){var n;e?n=e.m:n=t.W++;const r=th(t.I);ts(r,"SID",t.K),ts(r,"RID",n),ts(r,"AID",t.V),Q0(t,r),t.o&&t.s&&U3(r,t.o,t.s),n=new Y0(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Vle(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),F3(t.i,n),sM(n,r,e)}function Q0(t,e){t.na&&A3(t.na,function(n,r){ts(e,r,n)}),t.h&&xle({},function(n,r){ts(e,r,n)})}function Vle(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ia(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let l=!0;for(let c=0;c<n;c++){let u=s[c].g;const d=s[c].map;if(u-=i,0>u)i=Math.max(0,s[c].g-100),l=!1;else try{Ddt(d,o,"req"+u+"_")}catch{r&&r(d)}}if(l){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Ule(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;zx||ole(),Wx||(zx(),Wx=!0),R3.add(e,t),t.A=0}}function z3(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=H0(Ia(t.Ma,t),Wle(t,t.A)),t.A++,!0)}bt.Ma=function(){if(this.u=null,Ble(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=H0(Ia(this.jb,this),t)}};bt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ka(10),zN(this),Ble(this))};function W3(t){t.B!=null&&(Cn.clearTimeout(t.B),t.B=null)}function Ble(t){t.g=new Y0(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=th(t.wa);ts(e,"RID","rpc"),ts(e,"SID",t.K),ts(e,"AID",t.V),ts(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ts(e,"TO",t.qa),ts(e,"TYPE","xmlhttp"),Q0(t,e),t.o&&t.s&&U3(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=FN(th(e)),n.u=null,n.S=!0,vle(n,t)}bt.ib=function(){this.v!=null&&(this.v=null,zN(this),z3(this),Ka(19))};function EC(t){t.v!=null&&(Cn.clearTimeout(t.v),t.v=null)}function zle(t,e){var n=null;if(t.g==e){EC(t),W3(t),t.g=null;var r=2}else if(aM(t.i,e))n=e.F,Ile(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;r=DN(),ha(r,new fle(r,n)),WN(t)}else Ule(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&Bdt(t,e)||r==2&&z3(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:dp(t,5);break;case 4:dp(t,10);break;case 3:dp(t,6);break;default:dp(t,2)}}}function Wle(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function dp(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ia(t.pb,t);n||(n=new Sp("//www.google.com/images/cleardot.gif"),Cn.location&&Cn.location.protocol=="http"||wC(n,"https"),FN(n)),Ldt(n.toString(),r)}else Ka(2);t.H=0,t.h&&t.h.za(e),Gle(t),Fle(t)}bt.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ka(2)):(this.l.info("Failed to ping google.com"),Ka(1))};function Gle(t){if(t.H=0,t.ma=[],t.h){const e=kle(t.i);(e.length!=0||t.j.length!=0)&&(uG(t.ma,e),uG(t.ma,t.j),t.i.i.length=0,T3(t.j),t.j.length=0),t.h.ya()}}function Hle(t,e,n){var r=n instanceof Sp?th(n):new Sp(n);if(r.g!="")e&&(r.g=e+"."+r.g),xC(r,r.m);else{var s=Cn.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Sp(null);r&&wC(i,r),e&&(i.g=e),s&&xC(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&ts(r,n,e),ts(r,"VER",t.ra),Q0(t,r),r}function qle(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ws(new VN({ob:n})):new Ws(t.va),e.Oa(t.J),e}bt.isActive=function(){return!!this.h&&this.h.isActive(this)};function Yle(){}bt=Yle.prototype;bt.Ba=function(){};bt.Aa=function(){};bt.za=function(){};bt.ya=function(){};bt.isActive=function(){return!0};bt.Va=function(){};function SC(){if(Wv&&!(10<=Number(edt)))throw Error("Environmental error: no available transport.")}SC.prototype.g=function(t,e){return new Il(t,e)};function Il(t,e){Vi.call(this),this.g=new $le(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ux(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ux(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ib(this)}Bi(Il,Vi);Il.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ka(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Hle(t,null,t.Y),WN(t)};Il.prototype.close=function(){B3(this.g)};Il.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=O3(t),t=n);e.j.push(new kdt(e.fb++,t)),e.H==3&&WN(e)};Il.prototype.N=function(){this.g.h=null,delete this.j,B3(this.g),delete this.g,Il.$.N.call(this)};function Kle(t){M3.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Bi(Kle,M3);function Jle(){$3.call(this),this.status=1}Bi(Jle,$3);function Ib(t){this.g=t}Bi(Ib,Yle);Ib.prototype.Ba=function(){ha(this.g,"a")};Ib.prototype.Aa=function(t){ha(this.g,new Kle(t))};Ib.prototype.za=function(t){ha(this.g,new Jle)};Ib.prototype.ya=function(){ha(this.g,"b")};function zdt(){this.blockSize=-1}function nu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Bi(nu,zdt);nu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function KR(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}nu.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)KR(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){KR(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){KR(this,r),s=0;break}}this.h=s,this.i+=e};nu.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Pr(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var Wdt={};function G3(t){return-128<=t&&128>t?Qut(t,function(e){return new Pr([e|0],0>e?-1:0)}):new Pr([t|0],0>t?-1:0)}function Bu(t){if(isNaN(t)||!isFinite(t))return yv;if(0>t)return la(Bu(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=oM;return new Pr(e,0)}function Qle(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return la(Qle(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Bu(Math.pow(e,8)),r=yv,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=Bu(Math.pow(e,i)),r=r.R(i).add(Bu(o))):(r=r.R(n),r=r.add(Bu(o)))}return r}var oM=4294967296,yv=G3(0),lM=G3(1),wG=G3(16777216);bt=Pr.prototype;bt.ea=function(){if(lc(this))return-la(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:oM+r)*e,e*=oM}return t};bt.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Md(this))return"0";if(lc(this))return"-"+la(this).toString(t);for(var e=Bu(Math.pow(t,6)),n=this,r="";;){var s=TC(n,e).g;n=jC(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Md(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};bt.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Md(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function lc(t){return t.h==-1}bt.X=function(t){return t=jC(this,t),lc(t)?-1:Md(t)?0:1};function la(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Pr(n,~t.h).add(lM)}bt.abs=function(){return lc(this)?la(this):this};bt.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new Pr(n,n[n.length-1]&-2147483648?-1:0)};function jC(t,e){return t.add(la(e))}bt.R=function(t){if(Md(this)||Md(t))return yv;if(lc(this))return lc(t)?la(this).R(la(t)):la(la(this).R(t));if(lc(t))return la(this.R(la(t)));if(0>this.X(wG)&&0>t.X(wG))return Bu(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,l=t.D(s)>>>16,c=t.D(s)&65535;n[2*r+2*s]+=o*c,vj(n,2*r+2*s),n[2*r+2*s+1]+=i*c,vj(n,2*r+2*s+1),n[2*r+2*s+1]+=o*l,vj(n,2*r+2*s+1),n[2*r+2*s+2]+=i*l,vj(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Pr(n,0)};function vj(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function P_(t,e){this.g=t,this.h=e}function TC(t,e){if(Md(e))throw Error("division by zero");if(Md(t))return new P_(yv,yv);if(lc(t))return e=TC(la(t),e),new P_(la(e.g),la(e.h));if(lc(e))return e=TC(t,la(e)),new P_(la(e.g),e.h);if(30<t.g.length){if(lc(t)||lc(e))throw Error("slowDivide_ only works with positive integers.");for(var n=lM,r=e;0>=r.X(t);)n=xG(n),r=xG(r);var s=fy(n,1),i=fy(r,1);for(r=fy(r,2),n=fy(n,2);!Md(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=fy(r,1),n=fy(n,1)}return e=jC(t,s.R(e)),new P_(s,e)}for(s=yv;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Bu(n),o=i.R(e);lc(o)||0<o.X(t);)n-=r,i=Bu(n),o=i.R(e);Md(i)&&(i=lM),s=s.add(i),t=jC(t,o)}return new P_(s,t)}bt.gb=function(t){return TC(this,t).h};bt.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Pr(n,this.h&t.h)};bt.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Pr(n,this.h|t.h)};bt.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Pr(n,this.h^t.h)};function xG(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Pr(n,t.h)}function fy(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new Pr(s,t.h)}SC.prototype.createWebChannel=SC.prototype.g;Il.prototype.send=Il.prototype.u;Il.prototype.open=Il.prototype.m;Il.prototype.close=Il.prototype.close;LN.NO_ERROR=0;LN.TIMEOUT=8;LN.HTTP_ERROR=6;mle.COMPLETE="complete";ple.EventType=q0;q0.OPEN="a";q0.CLOSE="b";q0.ERROR="c";q0.MESSAGE="d";Vi.prototype.listen=Vi.prototype.O;Ws.prototype.listenOnce=Ws.prototype.P;Ws.prototype.getLastError=Ws.prototype.Sa;Ws.prototype.getLastErrorCode=Ws.prototype.Ia;Ws.prototype.getStatus=Ws.prototype.da;Ws.prototype.getResponseJson=Ws.prototype.Wa;Ws.prototype.getResponseText=Ws.prototype.ja;Ws.prototype.send=Ws.prototype.ha;Ws.prototype.setWithCredentials=Ws.prototype.Oa;nu.prototype.digest=nu.prototype.l;nu.prototype.reset=nu.prototype.reset;nu.prototype.update=nu.prototype.j;Pr.prototype.add=Pr.prototype.add;Pr.prototype.multiply=Pr.prototype.R;Pr.prototype.modulo=Pr.prototype.gb;Pr.prototype.compare=Pr.prototype.X;Pr.prototype.toNumber=Pr.prototype.ea;Pr.prototype.toString=Pr.prototype.toString;Pr.prototype.getBits=Pr.prototype.D;Pr.fromNumber=Bu;Pr.fromString=Qle;var Gdt=function(){return new SC},Hdt=function(){return DN()},JR=LN,qdt=mle,Ydt=mg,EG={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},bj=ple,Kdt=Ws,Jdt=nu,vv=Pr,Qdt={};const SG="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Di.UNAUTHENTICATED=new Di(null),Di.GOOGLE_CREDENTIALS=new Di("google-credentials-uid"),Di.FIRST_PARTY=new Di("first-party-uid"),Di.MOCK_USER=new Di("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kb="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf=new pN("@firebase/firestore");function Sy(){return Lf.logLevel}function Zdt(t){Lf.setLogLevel(t)}function Ke(t,...e){if(Lf.logLevel<=er.DEBUG){const n=e.map(H3);Lf.debug(`Firestore (${kb}): ${t}`,...n)}}function ni(t,...e){if(Lf.logLevel<=er.ERROR){const n=e.map(H3);Lf.error(`Firestore (${kb}): ${t}`,...n)}}function ru(t,...e){if(Lf.logLevel<=er.WARN){const n=e.map(H3);Lf.warn(`Firestore (${kb}): ${t}`,...n)}}function H3(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t="Unexpected state"){const e=`FIRESTORE (${kb}) INTERNAL ASSERTION FAILED: `+t;throw ni(e),new Error(e)}function Ut(t,e){t||Nt()}function Xdt(t,e){t||Nt()}function vt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class He extends Za{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zle{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eht{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Di.UNAUTHENTICATED))}shutdown(){}}class tht{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nht{constructor(e){this.t=e,this.currentUser=Di.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new $i,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new $i)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ut(typeof r.accessToken=="string"),new Zle(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ut(e===null||typeof e=="string"),new Di(e)}}class rht{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Di.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sht{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new rht(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Di.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iht{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aht{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Ke("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ut(typeof n.token=="string"),this.R=n.token,new iht(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oht(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xle{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=oht(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function On(t,e){return t<e?-1:t>e?1:0}function Gv(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}function ece(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new He(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new He(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new He(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new He(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ps.fromMillis(Date.now())}static fromDate(e){return ps.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ps(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?On(this.nanoseconds,e.nanoseconds):On(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Gt(e)}static min(){return new Gt(new ps(0,0))}static max(){return new Gt(new ps(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n,r){n===void 0?n=0:n>e.length&&Nt(),r===void 0?r=e.length-n:r>e.length-n&&Nt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Kx.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kx?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class hr extends Kx{construct(e,n,r){return new hr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new He(Ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new hr(n)}static emptyPath(){return new hr([])}}const lht=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fs extends Kx{construct(e,n,r){return new fs(e,n,r)}static isValidIdentifier(e){return lht.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new fs(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new He(Ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new He(Ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new He(Ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new He(Ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fs(n)}static emptyPath(){return new fs([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht(hr.fromString(e))}static fromName(e){return new ht(hr.fromString(e).popFirst(5))}static empty(){return new ht(hr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&hr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return hr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new hr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function cM(t){return t.fields.find(e=>e.kind===2)}function Ym(t){return t.fields.filter(e=>e.kind!==2)}CC.UNKNOWN_ID=-1;class l1{constructor(e,n){this.fieldPath=e,this.kind=n}}class Jx{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Jx(0,kl.min())}}function tce(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Gt.fromTimestamp(r===1e9?new ps(n+1,0):new ps(n,r));return new kl(s,ht.empty(),e)}function nce(t){return new kl(t.readTime,t.key,-1)}class kl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new kl(Gt.min(),ht.empty(),-1)}static max(){return new kl(Gt.max(),ht.empty(),-1)}}function q3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ht.comparator(t.documentKey,e.documentKey),n!==0?n:On(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rce="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sce{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sm(t){if(t.code!==Ne.FAILED_PRECONDITION||t.message!==rce)throw t;Ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Se((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Se?n:Se.resolve(n)}catch(n){return Se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Se.reject(n)}static resolve(e){return new Se((n,r)=>{n(e)})}static reject(e){return new Se((n,r)=>{r(e)})}static waitFor(e){return new Se((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=Se.resolve(!1);for(const r of e)n=n.next(s=>s?Se.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Se((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++l,l===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new Se((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new $i,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Rw(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=Y3(r.target.error);this.V.reject(new Rw(e,s))}}static open(e,n,r,s){try{return new GN(n,e.transaction(s,r))}catch(i){throw new Rw(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new uht(n)}}class qc{constructor(e,n,r){this.name=e,this.version=n,this.p=r,qc.S(Is())===12.2&&ni("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ke("SimpleDb","Removing database:",e),Zm(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ox())return!1;if(qc.C())return!0;const e=Is(),n=qc.S(e),r=0<n&&n<10,s=qc.v(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static C(){var e;return typeof process<"u"&&((e=Qdt)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(Ke("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new Rw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new He(Ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new He(Ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Rw(e,o))},s.onupgradeneeded=i=>{Ke("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.p.N(o,s.transaction,i.oldVersion,this.version).next(()=>{Ke("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const l=GN.open(this.db,e,i?"readonly":"readwrite",r),c=s(l).next(u=>(l.g(),u)).catch(u=>(l.abort(u),Se.reject(u))).toPromise();return c.catch(()=>{}),await l.m,c}catch(l){const c=l,u=c.name!=="FirebaseError"&&o<3;if(Ke("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}class cht{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Zm(this.k.delete())}}class Rw extends He{constructor(e,n){super(Ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function im(t){return t.name==="IndexedDbTransactionError"}class uht{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Ke("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Zm(r)}add(e){return Ke("SimpleDb","ADD",this.store.name,e,e),Zm(this.store.add(e))}get(e){return Zm(this.store.get(e)).next(n=>(n===void 0&&(n=null),Ke("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Ke("SimpleDb","DELETE",this.store.name,e),Zm(this.store.delete(e))}count(){return Ke("SimpleDb","COUNT",this.store.name),Zm(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const s=this.cursor(r),i=[];return this.G(s,(o,l)=>{i.push(l)}).next(()=>i)}{const s=this.store.getAll(r.range);return new Se((i,o)=>{s.onerror=l=>{o(l.target.error)},s.onsuccess=l=>{i(l.target.result)}})}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Se((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}H(e,n){Ke("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const s=this.cursor(r);return this.G(s,(i,o,l)=>l.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.G(s,n)}Z(e){const n=this.cursor({});return new Se((r,s)=>{n.onerror=i=>{const o=Y3(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(l=>{l?o.continue():r()}):r()}})}G(e,n){const r=[];return new Se((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const l=o.target.result;if(!l)return void s();const c=new cht(l),u=n(l.primaryKey,l.value,c);if(u instanceof Se){const d=u.catch(f=>(c.done(),Se.reject(f)));r.push(d)}c.isDone?s():c.$===null?l.continue():l.continue(c.$)}}).next(()=>Se.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Zm(t){return new Se((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=Y3(r.target.error);n(s)}})}let jG=!1;function Y3(t){const e=qc.S(Is());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new He("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return jG||(jG=!0,setTimeout(()=>{throw r},0)),r}}return t}class dht{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){Ke("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{Ke("IndexBackiller",`Documents written: ${await this.X.te()}`)}catch(n){im(n)?Ke("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await sm(n)}await this.ee(6e4)})}}class hht{constructor(e,n){this.localStore=e,this.persistence=n}async te(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))}ne(e,n){const r=new Set;let s=n,i=!0;return Se.doWhile(()=>i===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return Ke("IndexBackiller",`Processing collection: ${o}`),this.re(e,o,s).next(l=>{s-=l,r.add(o)});i=!1})).next(()=>n-s)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next(i=>{const o=i.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(s,i)).next(l=>(Ke("IndexBackiller",`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,n,l))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((s,i)=>{const o=nce(i);q3(o,r)>0&&(r=o)}),new kl(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Ro._e=-1;function Z0(t){return t==null}function Qx(t){return t===0&&1/t==-1/0}function ice(t){return typeof t=="number"&&Number.isInteger(t)&&!Qx(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=TG(e)),e=fht(t.get(n),e);return TG(e)}function fht(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case"":n+="";break;default:n+=i}}return n}function TG(t){return t+""}function zu(t){const e=t.length;if(Ut(e>=2),e===2)return Ut(t.charAt(0)===""&&t.charAt(1)===""),hr.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const o=t.indexOf("",i);switch((o<0||o>n)&&Nt(),t.charAt(o+1)){case"":const l=t.substring(i,o);let c;s.length===0?c=l:(s+=l,c=s,s=""),r.push(c);break;case"":s+=t.substring(i,o),s+="\0";break;case"":s+=t.substring(i,o+1);break;default:Nt()}i=o+2}return new hr(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CG=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(t,e){return[t,Xa(e)]}function ace(t,e,n){return[t,Xa(e),n]}const mht={},pht=["prefixPath","collectionGroup","readTime","documentId"],ght=["prefixPath","collectionGroup","documentId"],yht=["collectionGroup","readTime","prefixPath","documentId"],vht=["canonicalId","targetId"],bht=["targetId","path"],_ht=["path","targetId"],wht=["collectionId","parent"],xht=["indexId","uid"],Eht=["uid","sequenceNumber"],Sht=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],jht=["indexId","uid","orderedDocumentKey"],Tht=["userId","collectionPath","documentId"],Cht=["userId","collectionPath","largestBatchId"],Aht=["userId","collectionGroup","largestBatchId"],oce=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Nht=[...oce,"documentOverlays"],lce=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],cce=lce,Iht=[...cce,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM extends sce{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function zi(t,e){const n=vt(t);return qc.M(n.ae,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AG(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pg(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uce(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n){this.comparator=e,this.root=n||aa.EMPTY}insert(e,n){return new Jr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,aa.BLACK,null,null))}remove(e){return new Jr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,aa.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _j(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _j(this.root,e,this.comparator,!1)}getReverseIterator(){return new _j(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _j(this.root,e,this.comparator,!0)}}class _j{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class aa{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??aa.RED,this.left=s??aa.EMPTY,this.right=i??aa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new aa(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return aa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return aa.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,aa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,aa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Nt();const e=this.left.check();if(e!==this.right.check())throw Nt();return e+(this.isRed()?0:1)}}aa.EMPTY=null,aa.RED=!0,aa.BLACK=!1;aa.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt()}get value(){throw Nt()}get color(){throw Nt()}get left(){throw Nt()}get right(){throw Nt()}copy(e,n,r,s,i){return this}insert(e,n,r){return new aa(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.comparator=e,this.data=new Jr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NG(this.data.getIterator())}getIteratorFrom(e){return new NG(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Fr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Fr(this.comparator);return n.data=e,n}}class NG{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function my(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.fields=e,e.sort(fs.comparator)}static empty(){return new Po([])}unionWith(e){let n=new Fr(fs.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Po(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gv(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dce extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kht(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new dce("Invalid base64 string: "+i):i}}(e);return new Ti(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Ti(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return On(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ti.EMPTY_BYTE_STRING=new Ti("");const Oht=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mf(t){if(Ut(!!t),typeof t=="string"){let e=0;const n=Oht.exec(t);if(Ut(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Us(t.seconds),nanos:Us(t.nanos)}}function Us(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $f(t){return typeof t=="string"?Ti.fromBase64String(t):Ti.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function K3(t){const e=t.mapValue.fields.__previous_value__;return HN(e)?K3(e):e}function Zx(t){const e=Mf(t.mapValue.fields.__local_write_time__.timestampValue);return new ps(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rht{constructor(e,n,r,s,i,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class Ff{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ff("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ff&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},u1={nullValue:"NULL_VALUE"};function Bp(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?HN(t)?4:hce(t)?9007199254740991:10:Nt()}function td(t,e){if(t===e)return!0;const n=Bp(t);if(n!==Bp(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zx(t).isEqual(Zx(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Mf(s.timestampValue),l=Mf(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return $f(s.bytesValue).isEqual($f(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Us(s.geoPointValue.latitude)===Us(i.geoPointValue.latitude)&&Us(s.geoPointValue.longitude)===Us(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Us(s.integerValue)===Us(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Us(s.doubleValue),l=Us(i.doubleValue);return o===l?Qx(o)===Qx(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Gv(t.arrayValue.values||[],e.arrayValue.values||[],td);case 10:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(AG(o)!==AG(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!td(o[c],l[c])))return!1;return!0}(t,e);default:return Nt()}}function Xx(t,e){return(t.values||[]).find(n=>td(n,e))!==void 0}function Vf(t,e){if(t===e)return 0;const n=Bp(t),r=Bp(e);if(n!==r)return On(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return On(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=Us(i.integerValue||i.doubleValue),c=Us(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return IG(t.timestampValue,e.timestampValue);case 4:return IG(Zx(t),Zx(e));case 5:return On(t.stringValue,e.stringValue);case 6:return function(i,o){const l=$f(i),c=$f(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=On(l[u],c[u]);if(d!==0)return d}return On(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=On(Us(i.latitude),Us(o.latitude));return l!==0?l:On(Us(i.longitude),Us(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const l=i.values||[],c=o.values||[];for(let u=0;u<l.length&&u<c.length;++u){const d=Vf(l[u],c[u]);if(d)return d}return On(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===uf.mapValue&&o===uf.mapValue)return 0;if(i===uf.mapValue)return 1;if(o===uf.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const m=On(c[f],d[f]);if(m!==0)return m;const p=Vf(l[c[f]],u[d[f]]);if(p!==0)return p}return On(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Nt()}}function IG(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return On(t,e);const n=Mf(t),r=Mf(e),s=On(n.seconds,r.seconds);return s!==0?s:On(n.nanos,r.nanos)}function Hv(t){return dM(t)}function dM(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Mf(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return $f(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ht.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=dM(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${dM(n.fields[o])}`;return s+"}"}(t.mapValue):Nt()}function zp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hM(t){return!!t&&"integerValue"in t}function e0(t){return!!t&&"arrayValue"in t}function kG(t){return!!t&&"nullValue"in t}function OG(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function d1(t){return!!t&&"mapValue"in t}function Pw(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return pg(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pw(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pw(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hce(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function Pht(t){return"nullValue"in t?u1:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?zp(Ff.empty(),ht.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Nt()}function Dht(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?zp(Ff.empty(),ht.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?uf:Nt()}function RG(t,e){const n=Vf(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function PG(t,e){const n=Vf(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.value=e}static empty(){return new ca({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!d1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pw(n)}setAll(e){let n=fs.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=Pw(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());d1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return td(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];d1(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){pg(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new ca(Pw(this.value))}}function fce(t){const e=[];return pg(t.fields,(n,r)=>{const s=new fs([n]);if(d1(r)){const i=fce(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Po(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new ns(e,0,Gt.min(),Gt.min(),Gt.min(),ca.empty(),0)}static newFoundDocument(e,n,r,s){return new ns(e,1,n,Gt.min(),r,s,0)}static newNoDocument(e,n){return new ns(e,2,n,Gt.min(),Gt.min(),ca.empty(),0)}static newUnknownDocument(e,n){return new ns(e,3,n,Gt.min(),Gt.min(),ca.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ca.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ca.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ns&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ns(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,n){this.position=e,this.inclusive=n}}function DG(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ht.comparator(ht.fromName(o.referenceValue),n.key):r=Vf(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function LG(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!td(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,n="asc"){this.field=e,this.dir=n}}function Lht(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mce{}class sr extends mce{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Mht(e,n,r):n==="array-contains"?new Vht(e,r):n==="in"?new _ce(e,r):n==="not-in"?new Uht(e,r):n==="array-contains-any"?new Bht(e,r):new sr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $ht(e,r):new Fht(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Vf(n,this.value)):n!==null&&Bp(this.value)===Bp(n)&&this.matchesComparison(Vf(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Or extends mce{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Or(e,n)}matches(e){return qv(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function qv(t){return t.op==="and"}function fM(t){return t.op==="or"}function J3(t){return pce(t)&&qv(t)}function pce(t){for(const e of t.filters)if(e instanceof Or)return!1;return!0}function mM(t){if(t instanceof sr)return t.field.canonicalString()+t.op.toString()+Hv(t.value);if(J3(t))return t.filters.map(e=>mM(e)).join(",");{const e=t.filters.map(n=>mM(n)).join(",");return`${t.op}(${e})`}}function gce(t,e){return t instanceof sr?function(r,s){return s instanceof sr&&r.op===s.op&&r.field.isEqual(s.field)&&td(r.value,s.value)}(t,e):t instanceof Or?function(r,s){return s instanceof Or&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&gce(o,s.filters[l]),!0):!1}(t,e):void Nt()}function yce(t,e){const n=t.filters.concat(e);return Or.create(n,t.op)}function vce(t){return t instanceof sr?function(n){return`${n.field.canonicalString()} ${n.op} ${Hv(n.value)}`}(t):t instanceof Or?function(n){return n.op.toString()+" {"+n.getFilters().map(vce).join(" ,")+"}"}(t):"Filter"}class Mht extends sr{constructor(e,n,r){super(e,n,r),this.key=ht.fromName(r.referenceValue)}matches(e){const n=ht.comparator(e.key,this.key);return this.matchesComparison(n)}}class $ht extends sr{constructor(e,n){super(e,"in",n),this.keys=bce("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Fht extends sr{constructor(e,n){super(e,"not-in",n),this.keys=bce("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bce(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ht.fromName(r.referenceValue))}class Vht extends sr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return e0(n)&&Xx(n.arrayValue,this.value)}}class _ce extends sr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xx(this.value.arrayValue,n)}}class Uht extends sr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xx(this.value.arrayValue,n)}}class Bht extends sr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!e0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xx(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zht{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.ce=null}}function pM(t,e=null,n=[],r=[],s=null,i=null,o=null){return new zht(t,e,n,r,s,i,o)}function Wp(t){const e=vt(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>mM(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Z0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Hv(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Hv(r)).join(",")),e.ce=n}return e.ce}function X0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Lht(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gce(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!LG(t.startAt,e.startAt)&&LG(t.endAt,e.endAt)}function AC(t){return ht.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function NC(t,e){return t.filters.filter(n=>n instanceof sr&&n.field.isEqual(e))}function MG(t,e,n){let r=u1,s=!0;for(const i of NC(t,e)){let o=u1,l=!0;switch(i.op){case"<":case"<=":o=Pht(i.value);break;case"==":case"in":case">=":o=i.value;break;case">":o=i.value,l=!1;break;case"!=":case"not-in":o=u1}RG({value:r,inclusive:s},{value:o,inclusive:l})<0&&(r=o,s=l)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];RG({value:r,inclusive:s},{value:o,inclusive:n.inclusive})<0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}function $G(t,e,n){let r=uf,s=!0;for(const i of NC(t,e)){let o=uf,l=!0;switch(i.op){case">=":case">":o=Dht(i.value),l=!1;break;case"==":case"in":case"<=":o=i.value;break;case"<":o=i.value,l=!1;break;case"!=":case"not-in":o=uf}PG({value:r,inclusive:s},{value:o,inclusive:l})>0&&(r=o,s=l)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];PG({value:r,inclusive:s},{value:o,inclusive:n.inclusive})>0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function wce(t,e,n,r,s,i,o,l){return new fh(t,e,n,r,s,i,o,l)}function Ob(t){return new fh(t)}function FG(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Q3(t){return t.collectionGroup!==null}function bv(t){const e=vt(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Fr(fs.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new t0(i,r))}),n.has(fs.keyField().canonicalString())||e.le.push(new t0(fs.keyField(),r))}return e.le}function eo(t){const e=vt(t);return e.he||(e.he=Wht(e,bv(t))),e.he}function Wht(t,e){if(t.limitType==="F")return pM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new t0(s.field,i)});const n=t.endAt?new Uf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Uf(t.startAt.position,t.startAt.inclusive):null;return pM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function gM(t,e){const n=t.filters.concat([e]);return new fh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function IC(t,e,n){return new fh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function eE(t,e){return X0(eo(t),eo(e))&&t.limitType===e.limitType}function xce(t){return`${Wp(eo(t))}|lt:${t.limitType}`}function jy(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>vce(s)).join(", ")}]`),Z0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Hv(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Hv(s)).join(",")),`Target(${r})`}(eo(t))}; limitType=${t.limitType})`}function tE(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ht.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of bv(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const u=DG(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,bv(r),s)||r.endAt&&!function(o,l,c){const u=DG(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,bv(r),s))}(t,e)}function Ece(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Sce(t){return(e,n)=>{let r=!1;for(const s of bv(t)){const i=Ght(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Ght(t,e,n){const r=t.field.isKeyField()?ht.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),u=l.data.field(i);return c!==null&&u!==null?Vf(c,u):Nt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Nt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){pg(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return uce(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hht=new Jr(ht.comparator);function Do(){return Hht}const jce=new Jr(ht.comparator);function iw(...t){let e=jce;for(const n of t)e=e.insert(n.key,n);return e}function Tce(t){let e=jce;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wu(){return Dw()}function Cce(){return Dw()}function Dw(){return new am(t=>t.toString(),(t,e)=>t.isEqual(e))}const qht=new Jr(ht.comparator),Yht=new Fr(ht.comparator);function Rn(...t){let e=Yht;for(const n of t)e=e.add(n);return e}const Kht=new Fr(On);function Z3(){return Kht}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ace(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qx(e)?"-0":e}}function Nce(t){return{integerValue:""+t}}function Ice(t,e){return ice(e)?Nce(e):Ace(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this._=void 0}}function Jht(t,e,n){return t instanceof Yv?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&HN(i)&&(i=K3(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Gp?Oce(t,e):t instanceof Hp?Rce(t,e):function(s,i){const o=kce(s,i),l=VG(o)+VG(s.Ie);return hM(o)&&hM(s.Ie)?Nce(l):Ace(s.serializer,l)}(t,e)}function Qht(t,e,n){return t instanceof Gp?Oce(t,e):t instanceof Hp?Rce(t,e):n}function kce(t,e){return t instanceof Kv?function(r){return hM(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Yv extends qN{}class Gp extends qN{constructor(e){super(),this.elements=e}}function Oce(t,e){const n=Pce(e);for(const r of t.elements)n.some(s=>td(s,r))||n.push(r);return{arrayValue:{values:n}}}class Hp extends qN{constructor(e){super(),this.elements=e}}function Rce(t,e){let n=Pce(e);for(const r of t.elements)n=n.filter(s=>!td(s,r));return{arrayValue:{values:n}}}class Kv extends qN{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function VG(t){return Us(t.integerValue||t.doubleValue)}function Pce(t){return e0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,n){this.field=e,this.transform=n}}function Zht(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Gp&&s instanceof Gp||r instanceof Hp&&s instanceof Hp?Gv(r.elements,s.elements,td):r instanceof Kv&&s instanceof Kv?td(r.Ie,s.Ie):r instanceof Yv&&s instanceof Yv}(t.transform,e.transform)}class Xht{constructor(e,n){this.version=e,this.transformResults=n}}class ms{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ms}static exists(e){return new ms(void 0,e)}static updateTime(e){return new ms(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function h1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class YN{}function Dce(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Pb(t.key,ms.none()):new Rb(t.key,t.data,ms.none());{const n=t.data,r=ca.empty();let s=new Fr(fs.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new mh(t.key,r,new Po(s.toArray()),ms.none())}}function eft(t,e,n){t instanceof Rb?function(s,i,o){const l=s.value.clone(),c=BG(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof mh?function(s,i,o){if(!h1(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=BG(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(Lce(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Lw(t,e,n,r){return t instanceof Rb?function(i,o,l,c){if(!h1(i.precondition,o))return l;const u=i.value.clone(),d=zG(i.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof mh?function(i,o,l,c){if(!h1(i.precondition,o))return l;const u=zG(i.fieldTransforms,c,o),d=o.data;return d.setAll(Lce(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,l){return h1(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function tft(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=kce(r.transform,s||null);i!=null&&(n===null&&(n=ca.empty()),n.set(r.field,i))}return n||null}function UG(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Gv(r,s,(i,o)=>Zht(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Rb extends YN{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class mh extends YN{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Lce(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function BG(t,e,n){const r=new Map;Ut(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,Qht(o,l,n[s]))}return r}function zG(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,Jht(i,o,e))}return r}class Pb extends YN{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X3 extends YN{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&eft(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Lw(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Lw(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Cce();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=Dce(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(Gt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Rn())}isEqual(e){return this.batchId===e.batchId&&Gv(this.mutations,e.mutations,(n,r)=>UG(n,r))&&Gv(this.baseMutations,e.baseMutations,(n,r)=>UG(n,r))}}class tV{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ut(e.mutations.length===r.length);let s=function(){return qht}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new tV(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nft{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ci,ur;function Mce(t){switch(t){default:return Nt();case Ne.CANCELLED:case Ne.UNKNOWN:case Ne.DEADLINE_EXCEEDED:case Ne.RESOURCE_EXHAUSTED:case Ne.INTERNAL:case Ne.UNAVAILABLE:case Ne.UNAUTHENTICATED:return!1;case Ne.INVALID_ARGUMENT:case Ne.NOT_FOUND:case Ne.ALREADY_EXISTS:case Ne.PERMISSION_DENIED:case Ne.FAILED_PRECONDITION:case Ne.ABORTED:case Ne.OUT_OF_RANGE:case Ne.UNIMPLEMENTED:case Ne.DATA_LOSS:return!0}}function $ce(t){if(t===void 0)return ni("GRPC error has no .code"),Ne.UNKNOWN;switch(t){case ci.OK:return Ne.OK;case ci.CANCELLED:return Ne.CANCELLED;case ci.UNKNOWN:return Ne.UNKNOWN;case ci.DEADLINE_EXCEEDED:return Ne.DEADLINE_EXCEEDED;case ci.RESOURCE_EXHAUSTED:return Ne.RESOURCE_EXHAUSTED;case ci.INTERNAL:return Ne.INTERNAL;case ci.UNAVAILABLE:return Ne.UNAVAILABLE;case ci.UNAUTHENTICATED:return Ne.UNAUTHENTICATED;case ci.INVALID_ARGUMENT:return Ne.INVALID_ARGUMENT;case ci.NOT_FOUND:return Ne.NOT_FOUND;case ci.ALREADY_EXISTS:return Ne.ALREADY_EXISTS;case ci.PERMISSION_DENIED:return Ne.PERMISSION_DENIED;case ci.FAILED_PRECONDITION:return Ne.FAILED_PRECONDITION;case ci.ABORTED:return Ne.ABORTED;case ci.OUT_OF_RANGE:return Ne.OUT_OF_RANGE;case ci.UNIMPLEMENTED:return Ne.UNIMPLEMENTED;case ci.DATA_LOSS:return Ne.DATA_LOSS;default:return Nt()}}(ur=ci||(ci={}))[ur.OK=0]="OK",ur[ur.CANCELLED=1]="CANCELLED",ur[ur.UNKNOWN=2]="UNKNOWN",ur[ur.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ur[ur.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ur[ur.NOT_FOUND=5]="NOT_FOUND",ur[ur.ALREADY_EXISTS=6]="ALREADY_EXISTS",ur[ur.PERMISSION_DENIED=7]="PERMISSION_DENIED",ur[ur.UNAUTHENTICATED=16]="UNAUTHENTICATED",ur[ur.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ur[ur.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ur[ur.ABORTED=10]="ABORTED",ur[ur.OUT_OF_RANGE=11]="OUT_OF_RANGE",ur[ur.UNIMPLEMENTED=12]="UNIMPLEMENTED",ur[ur.INTERNAL=13]="INTERNAL",ur[ur.UNAVAILABLE=14]="UNAVAILABLE",ur[ur.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fce(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rft=new vv([4294967295,4294967295],0);function WG(t){const e=Fce().encode(t),n=new Jdt;return n.update(e),new Uint8Array(n.digest())}function GG(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new vv([n,r],0),new vv([s,i],0)]}class rV{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new aw(`Invalid padding: ${n}`);if(r<0)throw new aw(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new aw(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new aw(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=vv.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(vv.fromNumber(r)));return s.compare(rft)===1&&(s=new vv([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=WG(e),[r,s]=GG(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new rV(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Te===0)return;const n=WG(e),[r,s]=GG(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class aw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,sE.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new rE(Gt.min(),s,new Jr(On),Do(),Rn())}}class sE{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new sE(r,n,Rn(),Rn(),Rn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class Vce{constructor(e,n){this.targetId=e,this.fe=n}}class Uce{constructor(e,n,r=Ti.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class HG{constructor(){this.ge=0,this.pe=YG(),this.ye=Ti.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Rn(),n=Rn(),r=Rn();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Nt()}}),new sE(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=YG()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ut(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class sft{constructor(e){this.Le=e,this.ke=new Map,this.qe=Do(),this.Qe=qG(),this.Ke=new Jr(On)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Nt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(AC(i))if(r===0){const o=new ht(i.path);this.We(n,o,ns.newNoDocument(o,Gt.min()))}else Ut(r===1);else{const o=this.Ze(n);if(o!==r){const l=this.Xe(e),c=l?this.et(l,e,o):1;if(c!==0){this.He(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=$f(r).toUint8Array()}catch(c){if(c instanceof dce)return ru("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new rV(o,s,i)}catch(c){return ru(c instanceof aw?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Te===0?null:l}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.nt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,o)=>{const l=this.Ye(o);if(l){if(i.current&&AC(l.target)){const c=new ht(l.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,ns.newNoDocument(c,e))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=Rn();this.Qe.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(e));const s=new rE(e,n,this.Ke,this.qe,r);return this.qe=Do(),this.Qe=qG(),this.Ke=new Jr(On),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new HG,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Fr(On),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Ke("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new HG),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function qG(){return new Jr(ht.comparator)}function YG(){return new Jr(ht.comparator)}const ift={asc:"ASCENDING",desc:"DESCENDING"},aft={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oft={and:"AND",or:"OR"};class lft{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yM(t,e){return t.useProto3Json||Z0(e)?e:{value:e}}function Jv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bce(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function cft(t,e){return Jv(t,e.toTimestamp())}function si(t){return Ut(!!t),Gt.fromTimestamp(function(n){const r=Mf(n);return new ps(r.seconds,r.nanos)}(t))}function sV(t,e){return function(r){return new hr(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function zce(t){const e=hr.fromString(t);return Ut(Zce(e)),e}function n0(t,e){return sV(t.databaseId,e.path)}function Ju(t,e){const n=zce(e);if(n.get(1)!==t.databaseId.projectId)throw new He(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new He(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ht(Gce(n))}function vM(t,e){return sV(t.databaseId,e)}function Wce(t){const e=zce(t);return e.length===4?hr.emptyPath():Gce(e)}function r0(t){return new hr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Gce(t){return Ut(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function KG(t,e,n){return{name:n0(t,e),fields:n.value.mapValue.fields}}function Hce(t,e,n){const r=Ju(t,e.name),s=si(e.updateTime),i=e.createTime?si(e.createTime):Gt.min(),o=new ca({mapValue:{fields:e.fields}}),l=ns.newFoundDocument(r,s,i,o);return n&&l.setHasCommittedMutations(),n?l.setHasCommittedMutations():l}function uft(t,e){return"found"in e?function(r,s){Ut(!!s.found),s.found.name,s.found.updateTime;const i=Ju(r,s.found.name),o=si(s.found.updateTime),l=s.found.createTime?si(s.found.createTime):Gt.min(),c=new ca({mapValue:{fields:s.found.fields}});return ns.newFoundDocument(i,o,l,c)}(t,e):"missing"in e?function(r,s){Ut(!!s.missing),Ut(!!s.readTime);const i=Ju(r,s.missing),o=si(s.readTime);return ns.newNoDocument(i,o)}(t,e):Nt()}function dft(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Nt()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(Ut(d===void 0||typeof d=="string"),Ti.fromBase64String(d||"")):(Ut(d===void 0||d instanceof Uint8Array),Ti.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?Ne.UNKNOWN:$ce(u.code);return new He(d,u.message||"")}(o);n=new Uce(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ju(t,r.document.name),i=si(r.document.updateTime),o=r.document.createTime?si(r.document.createTime):Gt.min(),l=new ca({mapValue:{fields:r.document.fields}}),c=ns.newFoundDocument(s,i,o,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new f1(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ju(t,r.document),i=r.readTime?si(r.readTime):Gt.min(),o=ns.newNoDocument(s,i),l=r.removedTargetIds||[];n=new f1([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ju(t,r.document),i=r.removedTargetIds||[];n=new f1([],i,s,null)}else{if(!("filter"in e))return Nt();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new nft(s,i),l=r.targetId;n=new Vce(l,o)}}return n}function s0(t,e){let n;if(e instanceof Rb)n={update:KG(t,e.key,e.value)};else if(e instanceof Pb)n={delete:n0(t,e.key)};else if(e instanceof mh)n={update:KG(t,e.key,e.data),updateMask:yft(e.fieldMask)};else{if(!(e instanceof X3))return Nt();n={verify:n0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof Yv)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Gp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Hp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Kv)return{fieldPath:o.field.canonicalString(),increment:l.Ie};throw Nt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:cft(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Nt()}(t,e.precondition)),n}function bM(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?ms.updateTime(si(i.updateTime)):i.exists!==void 0?ms.exists(i.exists):ms.none()}(e.currentDocument):ms.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(o,l){let c=null;if("setToServerValue"in l)Ut(l.setToServerValue==="REQUEST_TIME"),c=new Yv;else if("appendMissingElements"in l){const d=l.appendMissingElements.values||[];c=new Gp(d)}else if("removeAllFromArray"in l){const d=l.removeAllFromArray.values||[];c=new Hp(d)}else"increment"in l?c=new Kv(o,l.increment):Nt();const u=fs.fromServerFormat(l.fieldPath);return new nE(u,c)}(t,s)):[];if(e.update){e.update.name;const s=Ju(t,e.update.name),i=new ca({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(c){const u=c.fieldPaths||[];return new Po(u.map(d=>fs.fromServerFormat(d)))}(e.updateMask);return new mh(s,i,o,n,r)}return new Rb(s,i,n,r)}if(e.delete){const s=Ju(t,e.delete);return new Pb(s,n)}if(e.verify){const s=Ju(t,e.verify);return new X3(s,n)}return Nt()}function hft(t,e){return t&&t.length>0?(Ut(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?si(s.updateTime):si(i);return o.isEqual(Gt.min())&&(o=si(i)),new Xht(o,s.transformResults||[])}(n,e))):[]}function qce(t,e){return{documents:[vM(t,e.path)]}}function Yce(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=vM(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=vM(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(c){if(c.length!==0)return Qce(Or.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:Ty(f.field),direction:mft(f.dir)}}(u))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=yM(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function Kce(t){let e=Wce(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ut(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const m=Jce(f);return m instanceof Or&&J3(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(y){return new t0(Cy(y.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,Z0(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,p=f.values||[];return new Uf(p,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,p=f.values||[];return new Uf(p,m)}(n.endAt)),wce(e,s,o,i,l,"F",c,u)}function fft(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Jce(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Cy(n.unaryFilter.field);return sr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Cy(n.unaryFilter.field);return sr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Cy(n.unaryFilter.field);return sr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Cy(n.unaryFilter.field);return sr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Nt()}}(t):t.fieldFilter!==void 0?function(n){return sr.create(Cy(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Or.create(n.compositeFilter.filters.map(r=>Jce(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Nt()}}(n.compositeFilter.op))}(t):Nt()}function mft(t){return ift[t]}function pft(t){return aft[t]}function gft(t){return oft[t]}function Ty(t){return{fieldPath:t.canonicalString()}}function Cy(t){return fs.fromServerFormat(t.fieldPath)}function Qce(t){return t instanceof sr?function(n){if(n.op==="=="){if(OG(n.value))return{unaryFilter:{field:Ty(n.field),op:"IS_NAN"}};if(kG(n.value))return{unaryFilter:{field:Ty(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(OG(n.value))return{unaryFilter:{field:Ty(n.field),op:"IS_NOT_NAN"}};if(kG(n.value))return{unaryFilter:{field:Ty(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ty(n.field),op:pft(n.op),value:n.value}}}(t):t instanceof Or?function(n){const r=n.getFilters().map(s=>Qce(s));return r.length===1?r[0]:{compositeFilter:{op:gft(n.op),filters:r}}}(t):Nt()}function yft(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Zce(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n,r,s,i=Gt.min(),o=Gt.min(),l=Ti.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new $d(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $d(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $d(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $d(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xce{constructor(e){this.ut=e}}function vft(t,e){let n;if(e.document)n=Hce(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ht.fromSegments(e.noDocument.path),s=Yp(e.noDocument.readTime);n=ns.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Nt();{const r=ht.fromSegments(e.unknownDocument.path),s=Yp(e.unknownDocument.version);n=ns.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime(function(s){const i=new ps(s[0],s[1]);return Gt.fromTimestamp(i)}(e.readTime)),n}function JG(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:kC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,o){return{name:n0(i,o.key),fields:o.data.value.mapValue.fields,updateTime:Jv(i,o.version.toTimestamp()),createTime:Jv(i,o.createTime.toTimestamp())}}(t.ut,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:qp(e.version)};else{if(!e.isUnknownDocument())return Nt();r.unknownDocument={path:n.path.toArray(),version:qp(e.version)}}return r}function kC(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function qp(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Yp(t){const e=new ps(t.seconds,t.nanoseconds);return Gt.fromTimestamp(e)}function Xm(t,e){const n=(e.baseMutations||[]).map(i=>bM(t.ut,i));for(let i=0;i<e.mutations.length-1;++i){const o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const l=e.mutations[i+1];o.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map(i=>bM(t.ut,i)),s=ps.fromMillis(e.localWriteTimeMs);return new eV(e.batchId,s,n,r)}function ow(t){const e=Yp(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Yp(t.lastLimboFreeSnapshotVersion):Gt.min();let r;return r=function(i){return i.documents!==void 0}(t.query)?function(i){return Ut(i.documents.length===1),eo(Ob(Wce(i.documents[0])))}(t.query):function(i){return eo(Kce(i))}(t.query),new $d(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ti.fromBase64String(t.resumeToken))}function eue(t,e){const n=qp(e.snapshotVersion),r=qp(e.lastLimboFreeSnapshotVersion);let s;s=AC(e.target)?qce(t.ut,e.target):Yce(t.ut,e.target);const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Wp(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function iV(t){const e=Kce({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?IC(e,e.limit,"L"):e}function QR(t,e){return new nV(e.largestBatchId,bM(t.ut,e.overlayMutation))}function QG(t,e){const n=e.path.lastSegment();return[t,Xa(e.path.popLast()),n]}function ZG(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:qp(r.readTime),documentKey:Xa(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bft{getBundleMetadata(e,n){return XG(e).get(n).next(r=>{if(r)return function(i){return{id:i.bundleId,createTime:Yp(i.createTime),version:i.version}}(r)})}saveBundleMetadata(e,n){return XG(e).put(function(s){return{bundleId:s.id,createTime:qp(si(s.createTime)),version:s.version}}(n))}getNamedQuery(e,n){return eH(e).get(n).next(r=>{if(r)return function(i){return{name:i.name,query:iV(i.bundledQuery),readTime:Yp(i.readTime)}}(r)})}saveNamedQuery(e,n){return eH(e).put(function(s){return{name:s.name,readTime:qp(si(s.readTime)),bundledQuery:s.bundledQuery}}(n))}}function XG(t){return zi(t,"bundles")}function eH(t){return zi(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){const r=n.uid||"";return new KN(e,r)}getOverlay(e,n){return D_(e).get(QG(this.userId,n)).next(r=>r?QR(this.serializer,r):null)}getOverlays(e,n){const r=Wu();return Se.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){const s=[];return r.forEach((i,o)=>{const l=new nV(n,o);s.push(this.lt(e,l))}),Se.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach(o=>s.add(Xa(o.getCollectionPath())));const i=[];return s.forEach(o=>{const l=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);i.push(D_(e).H("collectionPathOverlayIndex",l))}),Se.waitFor(i)}getOverlaysForCollection(e,n,r){const s=Wu(),i=Xa(n),o=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return D_(e).W("collectionPathOverlayIndex",o).next(l=>{for(const c of l){const u=QR(this.serializer,c);s.set(u.getKey(),u)}return s})}getOverlaysForCollectionGroup(e,n,r,s){const i=Wu();let o;const l=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return D_(e).Y({index:"collectionGroupOverlayIndex",range:l},(c,u,d)=>{const f=QR(this.serializer,u);i.size()<s||f.largestBatchId===o?(i.set(f.getKey(),f),o=f.largestBatchId):d.done()}).next(()=>i)}lt(e,n){return D_(e).put(function(s,i,o){const[l,c,u]=QG(i,o.mutation.key);return{userId:i,collectionPath:c,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:s0(s.ut,o.mutation)}}(this.serializer,this.userId,n))}}function D_(t){return zi(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Us(e.integerValue));else if("doubleValue"in e){const r=Us(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),Qx(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),typeof r=="string"?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt($f(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?hce(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Nt()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const s of Object.keys(r))this.At(s,n),this.Pt(r[s],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const s of r)this.Pt(s,n)}ft(e,n){this.Tt(n,37),ht.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}ep.St=new ep;function _ft(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function tH(t){const e=64-function(r){let s=0;for(let i=0;i<8;++i){const o=_ft(255&r[i]);if(s+=o,o!==8)break}return s}(t);return Math.ceil(e/8)}class wft{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Dt(r.value),r=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const s=n.codePointAt(0);this.Dt(240|s>>>18),this.Dt(128|63&s>>>12),this.Dt(128|63&s>>>6),this.Dt(128|63&s)}}this.Ct()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const s=n.codePointAt(0);this.Ft(240|s>>>18),this.Ft(128|63&s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s)}}this.Mt()}Nt(e){const n=this.Bt(e),r=tH(n);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}kt(e){const n=this.Bt(e),r=tH(n);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Dt(e){const n=255&e;n===0?(this.Qt(0),this.Qt(255)):n===255?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;n===0?(this.$t(0),this.$t(255)):n===255?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class xft{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class Eft{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class L_{constructor(){this.Wt=new wft,this.Gt=new xft(this.Wt),this.zt=new Eft(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return e===0?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n,r,s){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=s}Ht(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new tp(this.indexId,this.documentKey,this.arrayValue,r)}}function Fh(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=nH(t.arrayValue,e.arrayValue),n!==0?n:(n=nH(t.directionalValue,e.directionalValue),n!==0?n:ht.comparator(t.documentKey,e.documentKey)))}function nH(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rH{constructor(e){this.Jt=new Fr((n,r)=>fs.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(Ut(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=cM(e);if(n!==void 0&&!this.tn(n))return!1;const r=Ym(e);let s=new Set,i=0,o=0;for(;i<r.length&&this.tn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.Jt.size>0){const l=this.Jt.getIterator().getNext();if(!s.has(l.field.canonicalString())){const c=r[i];if(!this.nn(l,c)||!this.rn(this.Yt[o++],c))return!1}++i}for(;i<r.length;++i){const l=r[i];if(o>=this.Yt.length||!this.rn(this.Yt[o++],l))return!1}return!0}sn(){if(this.Xt)return null;let e=new Fr(fs.comparator);const n=[];for(const r of this.Zt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new l1(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new l1(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new l1(r.field,r.dir==="asc"?0:1)));return new CC(CC.UNKNOWN_ID,this.collectionId,n,Jx.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tue(t){var e,n;if(Ut(t instanceof sr||t instanceof Or),t instanceof sr){if(t instanceof _ce){const s=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(i=>sr.create(t.field,"==",i)))||[];return Or.create(s,"or")}return t}const r=t.filters.map(s=>tue(s));return Or.create(r,t.op)}function Sft(t){if(t.getFilters().length===0)return[];const e=xM(tue(t));return Ut(nue(e)),_M(e)||wM(e)?[e]:e.getFilters()}function _M(t){return t instanceof sr}function wM(t){return t instanceof Or&&J3(t)}function nue(t){return _M(t)||wM(t)||function(n){if(n instanceof Or&&fM(n)){for(const r of n.getFilters())if(!_M(r)&&!wM(r))return!1;return!0}return!1}(t)}function xM(t){if(Ut(t instanceof sr||t instanceof Or),t instanceof sr)return t;if(t.filters.length===1)return xM(t.filters[0]);const e=t.filters.map(r=>xM(r));let n=Or.create(e,t.op);return n=OC(n),nue(n)?n:(Ut(n instanceof Or),Ut(qv(n)),Ut(n.filters.length>1),n.filters.reduce((r,s)=>aV(r,s)))}function aV(t,e){let n;return Ut(t instanceof sr||t instanceof Or),Ut(e instanceof sr||e instanceof Or),n=t instanceof sr?e instanceof sr?function(s,i){return Or.create([s,i],"and")}(t,e):sH(t,e):e instanceof sr?sH(e,t):function(s,i){if(Ut(s.filters.length>0&&i.filters.length>0),qv(s)&&qv(i))return yce(s,i.getFilters());const o=fM(s)?s:i,l=fM(s)?i:s,c=o.filters.map(u=>aV(u,l));return Or.create(c,"or")}(t,e),OC(n)}function sH(t,e){if(qv(e))return yce(e,t.getFilters());{const n=e.filters.map(r=>aV(t,r));return Or.create(n,"or")}}function OC(t){if(Ut(t instanceof sr||t instanceof Or),t instanceof sr)return t;const e=t.getFilters();if(e.length===1)return OC(e[0]);if(pce(t))return t;const n=e.map(s=>OC(s)),r=[];return n.forEach(s=>{s instanceof sr?r.push(s):s instanceof Or&&(s.op===t.op?r.push(...s.filters):r.push(s))}),r.length===1?r[0]:Or.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jft{constructor(){this.on=new oV}addToCollectionParentIndex(e,n){return this.on.add(n),Se.resolve()}getCollectionParents(e,n){return Se.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return Se.resolve()}deleteFieldIndex(e,n){return Se.resolve()}deleteAllFieldIndexes(e){return Se.resolve()}createTargetIndexes(e,n){return Se.resolve()}getDocumentsMatchingTarget(e,n){return Se.resolve(null)}getIndexType(e,n){return Se.resolve(0)}getFieldIndexes(e,n){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,n){return Se.resolve(kl.min())}getMinOffsetFromCollectionGroup(e,n){return Se.resolve(kl.min())}updateCollectionGroup(e,n,r){return Se.resolve()}updateIndexEntries(e,n){return Se.resolve()}}class oV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Fr(hr.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Fr(hr.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj=new Uint8Array(0);class Tft{constructor(e,n){this.user=e,this.databaseId=n,this._n=new oV,this.an=new am(r=>Wp(r),(r,s)=>X0(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const i={collectionId:r,parent:Xa(s)};return iH(e).put(i)}return Se.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[ece(n),""],!1,!0);return iH(e).W(s).next(i=>{for(const o of i){if(o.collectionId!==n)break;r.push(zu(o.parent))}return r})}addFieldIndex(e,n){const r=M_(e),s=function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete s.indexId;const i=r.add(s);if(n.indexState){const o=gy(e);return i.next(l=>{o.put(ZG(l,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return i.next()}deleteFieldIndex(e,n){const r=M_(e),s=gy(e),i=py(e);return r.delete(n.indexId).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=M_(e),r=py(e),s=gy(e);return n.H().next(()=>r.H()).next(()=>s.H())}createTargetIndexes(e,n){return Se.forEach(this.un(n),r=>this.getIndexType(e,r).next(s=>{if(s===0||s===1){const i=new rH(r).sn();if(i!=null)return this.addFieldIndex(e,i)}}))}getDocumentsMatchingTarget(e,n){const r=py(e);let s=!0;const i=new Map;return Se.forEach(this.un(n),o=>this.cn(e,o).next(l=>{s&&(s=!!l),i.set(o,l)})).next(()=>{if(s){let o=Rn();const l=[];return Se.forEach(i,(c,u)=>{Ke("IndexedDbIndexManager",`Using index ${function(E){return`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(T=>`${T.fieldPath}:${T.kind}`).join(",")}`}(c)} to execute ${Wp(n)}`);const d=function(E,T){const N=cM(T);if(N===void 0)return null;for(const P of NC(E,N.fieldPath))switch(P.op){case"array-contains-any":return P.value.arrayValue.values||[];case"array-contains":return[P.value]}return null}(u,c),f=function(E,T){const N=new Map;for(const P of Ym(T))for(const D of NC(E,P.fieldPath))switch(D.op){case"==":case"in":N.set(P.fieldPath.canonicalString(),D.value);break;case"not-in":case"!=":return N.set(P.fieldPath.canonicalString(),D.value),Array.from(N.values())}return null}(u,c),m=function(E,T){const N=[];let P=!0;for(const D of Ym(T)){const F=D.kind===0?MG(E,D.fieldPath,E.startAt):$G(E,D.fieldPath,E.startAt);N.push(F.value),P&&(P=F.inclusive)}return new Uf(N,P)}(u,c),p=function(E,T){const N=[];let P=!0;for(const D of Ym(T)){const F=D.kind===0?$G(E,D.fieldPath,E.endAt):MG(E,D.fieldPath,E.endAt);N.push(F.value),P&&(P=F.inclusive)}return new Uf(N,P)}(u,c),y=this.ln(c,u,m),_=this.ln(c,u,p),b=this.hn(c,u,f),x=this.Pn(c.indexId,d,y,m.inclusive,_,p.inclusive,b);return Se.forEach(x,w=>r.j(w,n.limit).next(E=>{E.forEach(T=>{const N=ht.fromSegments(T.documentKey);o.has(N)||(o=o.add(N),l.push(N))})}))}).next(()=>l)}return Se.resolve(null)})}un(e){let n=this.an.get(e);return n||(e.filters.length===0?n=[e]:n=Sft(Or.create(e.filters,"and")).map(r=>pM(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,r,s,i,o,l){const c=(n!=null?n.length:1)*Math.max(r.length,i.length),u=c/(n!=null?n.length:1),d=[];for(let f=0;f<c;++f){const m=n?this.In(n[f/u]):wj,p=this.Tn(e,m,r[f%u],s),y=this.En(e,m,i[f%u],o),_=l.map(b=>this.Tn(e,m,b,!0));d.push(...this.createRange(p,y,_))}return d}Tn(e,n,r,s){const i=new tp(e,ht.empty(),n,r);return s?i:i.Ht()}En(e,n,r,s){const i=new tp(e,ht.empty(),n,r);return s?i.Ht():i}cn(e,n){const r=new rH(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next(i=>{let o=null;for(const l of i)r.en(l)&&(!o||l.fields.length>o.fields.length)&&(o=l);return o})}getIndexType(e,n){let r=2;const s=this.un(n);return Se.forEach(s,i=>this.cn(e,i).next(o=>{o?r!==0&&o.fields.length<function(c){let u=new Fr(fs.comparator),d=!1;for(const f of c.filters)for(const m of f.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?d=!0:u=u.add(m.field));for(const f of c.orderBy)f.field.isKeyField()||(u=u.add(f.field));return u.size+(d?1:0)}(i)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&s.length>1&&r===2?1:r)}dn(e,n){const r=new L_;for(const s of Ym(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const o=r.jt(s.kind);ep.St.ht(i,o)}return r.Ut()}In(e){const n=new L_;return ep.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const r=new L_;return ep.St.ht(zp(this.databaseId,n),r.jt(function(i){const o=Ym(i);return o.length===0?0:o[o.length-1].kind}(e))),r.Ut()}hn(e,n,r){if(r===null)return[];let s=[];s.push(new L_);let i=0;for(const o of Ym(e)){const l=r[i++];for(const c of s)if(this.Rn(n,o.fieldPath)&&e0(l))s=this.Vn(s,o,l);else{const u=c.jt(o.kind);ep.St.ht(l,u)}}return this.mn(s)}ln(e,n,r){return this.hn(e,n,r.position)}mn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ut();return n}Vn(e,n,r){const s=[...e],i=[];for(const o of r.arrayValue.values||[])for(const l of s){const c=new L_;c.seed(l.Ut()),ep.St.ht(o,c.jt(n.kind)),i.push(c)}return i}Rn(e,n){return!!e.filters.find(r=>r instanceof sr&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=M_(e),s=gy(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(i=>{const o=[];return Se.forEach(i,l=>s.get([l.indexId,this.uid]).next(c=>{o.push(function(d,f){const m=f?new Jx(f.sequenceNumber,new kl(Yp(f.readTime),new ht(zu(f.documentKey)),f.largestBatchId)):Jx.empty(),p=d.fields.map(([y,_])=>new l1(fs.fromServerFormat(y),_));return new CC(d.indexId,d.collectionGroup,p,m)}(l,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:On(r.collectionGroup,s.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const s=M_(e),i=gy(e);return this.fn(e).next(o=>s.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(l=>Se.forEach(l,c=>i.put(ZG(c.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return Se.forEach(n,(s,i)=>{const o=r.get(s.collectionGroup);return(o?Se.resolve(o):this.getFieldIndexes(e,s.collectionGroup)).next(l=>(r.set(s.collectionGroup,l),Se.forEach(l,c=>this.gn(e,s,c).next(u=>{const d=this.pn(i,c);return u.isEqual(d)?Se.resolve():this.yn(e,i,c,u,d)}))))})}wn(e,n,r,s){return py(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.An(r,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,r,s){return py(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.An(r,n.key),n.key.path.toArray()])}gn(e,n,r){const s=py(e);let i=new Fr(Fh);return s.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,n)])},(o,l)=>{i=i.add(new tp(r.indexId,n,l.arrayValue,l.directionalValue))}).next(()=>i)}pn(e,n){let r=new Fr(Fh);const s=this.dn(n,e);if(s==null)return r;const i=cM(n);if(i!=null){const o=e.data.field(i.fieldPath);if(e0(o))for(const l of o.arrayValue.values||[])r=r.add(new tp(n.indexId,e.key,this.In(l),s))}else r=r.add(new tp(n.indexId,e.key,wj,s));return r}yn(e,n,r,s,i){Ke("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(c,u,d,f,m){const p=c.getIterator(),y=u.getIterator();let _=my(p),b=my(y);for(;_||b;){let x=!1,w=!1;if(_&&b){const E=d(_,b);E<0?w=!0:E>0&&(x=!0)}else _!=null?w=!0:x=!0;x?(f(b),b=my(y)):w?(m(_),_=my(p)):(_=my(p),b=my(y))}}(s,i,Fh,l=>{o.push(this.wn(e,n,r,l))},l=>{o.push(this.Sn(e,n,r,l))}),Se.waitFor(o)}fn(e){let n=1;return gy(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,i)=>{i.done(),n=s.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,l)=>Fh(o,l)).filter((o,l,c)=>!l||Fh(o,c[l-1])!==0);const s=[];s.push(e);for(const o of r){const l=Fh(o,e),c=Fh(o,n);if(l===0)s[0]=e.Ht();else if(l>0&&c<0)s.push(o),s.push(o.Ht());else if(c>0)break}s.push(n);const i=[];for(let o=0;o<s.length;o+=2){if(this.bn(s[o],s[o+1]))return[];const l=[s[o].indexId,this.uid,s[o].arrayValue,s[o].directionalValue,wj,[]],c=[s[o+1].indexId,this.uid,s[o+1].arrayValue,s[o+1].directionalValue,wj,[]];i.push(IDBKeyRange.bound(l,c))}return i}bn(e,n){return Fh(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(aH)}getMinOffset(e,n){return Se.mapArray(this.un(n),r=>this.cn(e,r).next(s=>s||Nt())).next(aH)}}function iH(t){return zi(t,"collectionParents")}function py(t){return zi(t,"indexEntries")}function M_(t){return zi(t,"indexConfiguration")}function gy(t){return zi(t,"indexState")}function aH(t){Ut(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;q3(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new kl(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oH={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class jo{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new jo(e,jo.DEFAULT_COLLECTION_PERCENTILE,jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rue(t,e,n){const r=t.store("mutations"),s=t.store("documentMutations"),i=[],o=IDBKeyRange.only(n.batchId);let l=0;const c=r.Y({range:o},(d,f,m)=>(l++,m.delete()));i.push(c.next(()=>{Ut(l===1)}));const u=[];for(const d of n.mutations){const f=ace(e,d.key.path,n.batchId);i.push(s.delete(f)),u.push(d.key)}return Se.waitFor(i).next(()=>u)}function RC(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Nt();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jo.DEFAULT_COLLECTION_PERCENTILE=10,jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jo.DEFAULT=new jo(41943040,jo.DEFAULT_COLLECTION_PERCENTILE,jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jo.DISABLED=new jo(-1,0,0);class JN{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Dn={}}static ct(e,n,r,s){Ut(e.uid!=="");const i=e.isAuthenticated()?e.uid:"";return new JN(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vh(e).Y({index:"userMutationsIndex",range:r},(s,i,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,s){const i=Ay(e),o=Vh(e);return o.add({}).next(l=>{Ut(typeof l=="number");const c=new eV(l,n,r,s),u=function(p,y,_){const b=_.baseMutations.map(w=>s0(p.ut,w)),x=_.mutations.map(w=>s0(p.ut,w));return{userId:y,batchId:_.batchId,localWriteTimeMs:_.localWriteTime.toMillis(),baseMutations:b,mutations:x}}(this.serializer,this.userId,c),d=[];let f=new Fr((m,p)=>On(m.canonicalString(),p.canonicalString()));for(const m of s){const p=ace(this.userId,m.key.path,l);f=f.add(m.key.path.popLast()),d.push(o.put(u)),d.push(i.put(p,mht))}return f.forEach(m=>{d.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Dn[l]=c.keys()}),Se.waitFor(d).next(()=>c)})}lookupMutationBatch(e,n){return Vh(e).get(n).next(r=>r?(Ut(r.userId===this.userId),Xm(this.serializer,r)):null)}Cn(e,n){return this.Dn[n]?Se.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const s=r.keys();return this.Dn[n]=s,s}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Vh(e).Y({index:"userMutationsIndex",range:s},(o,l,c)=>{l.userId===this.userId&&(Ut(l.batchId>=r),i=Xm(this.serializer,l)),c.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Vh(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(s,i,o)=>{r=i.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vh(e).W("userMutationsIndex",n).next(r=>r.map(s=>Xm(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=c1(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return Ay(e).Y({range:s},(o,l,c)=>{const[u,d,f]=o,m=zu(d);if(u===this.userId&&n.path.isEqual(m))return Vh(e).get(f).next(p=>{if(!p)throw Nt();Ut(p.userId===this.userId),i.push(Xm(this.serializer,p))});c.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fr(On);const s=[];return n.forEach(i=>{const o=c1(this.userId,i.path),l=IDBKeyRange.lowerBound(o),c=Ay(e).Y({range:l},(u,d,f)=>{const[m,p,y]=u,_=zu(p);m===this.userId&&i.path.isEqual(_)?r=r.add(y):f.done()});s.push(c)}),Se.waitFor(s).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=c1(this.userId,r),o=IDBKeyRange.lowerBound(i);let l=new Fr(On);return Ay(e).Y({range:o},(c,u,d)=>{const[f,m,p]=c,y=zu(m);f===this.userId&&r.isPrefixOf(y)?y.length===s&&(l=l.add(p)):d.done()}).next(()=>this.vn(e,l))}vn(e,n){const r=[],s=[];return n.forEach(i=>{s.push(Vh(e).get(i).next(o=>{if(o===null)throw Nt();Ut(o.userId===this.userId),r.push(Xm(this.serializer,o))}))}),Se.waitFor(s).next(()=>r)}removeMutationBatch(e,n){return rue(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),Se.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Se.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),s=[];return Ay(e).Y({range:r},(i,o,l)=>{if(i[0]===this.userId){const c=zu(i[1]);s.push(c)}else l.done()}).next(()=>{Ut(s.length===0)})})}containsKey(e,n){return sue(e,this.userId,n)}Mn(e){return iue(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function sue(t,e,n){const r=c1(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let o=!1;return Ay(t).Y({range:i,J:!0},(l,c,u)=>{const[d,f,m]=l;d===e&&f===s&&(o=!0),u.done()}).next(()=>o)}function Vh(t){return zi(t,"mutations")}function Ay(t){return zi(t,"documentMutations")}function iue(t){return zi(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Kp(0)}static Nn(){return new Kp(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cft{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new Kp(n.highestTargetId);return n.highestTargetId=r.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>Gt.fromTimestamp(new ps(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.Ln(e,s)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(n,r),this.Ln(e,r))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>yy(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(Ut(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,n,r){let s=0;const i=[];return yy(e).Y((o,l)=>{const c=ow(l);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(s++,i.push(this.removeTargetData(e,c)))}).next(()=>Se.waitFor(i)).next(()=>s)}forEachTarget(e,n){return yy(e).Y((r,s)=>{const i=ow(s);n(i)})}Bn(e){return lH(e).get("targetGlobalKey").next(n=>(Ut(n!==null),n))}Ln(e,n){return lH(e).put("targetGlobalKey",n)}kn(e,n){return yy(e).put(eue(this.serializer,n))}qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Wp(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return yy(e).Y({range:s,index:"queryTargetsIndex"},(o,l,c)=>{const u=ow(l);X0(n,u.target)&&(i=u,c.done())}).next(()=>i)}addMatchingKeys(e,n,r){const s=[],i=Qh(e);return n.forEach(o=>{const l=Xa(o.path);s.push(i.put({targetId:r,path:l})),s.push(this.referenceDelegate.addReference(e,r,o))}),Se.waitFor(s)}removeMatchingKeys(e,n,r){const s=Qh(e);return Se.forEach(n,i=>{const o=Xa(i.path);return Se.waitFor([s.delete([r,o]),this.referenceDelegate.removeReference(e,r,i)])})}removeMatchingKeysForTargetId(e,n){const r=Qh(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=Qh(e);let i=Rn();return s.Y({range:r,J:!0},(o,l,c)=>{const u=zu(o[1]),d=new ht(u);i=i.add(d)}).next(()=>i)}containsKey(e,n){const r=Xa(n.path),s=IDBKeyRange.bound([r],[ece(r)],!1,!0);let i=0;return Qh(e).Y({index:"documentTargetsIndex",J:!0,range:s},([o,l],c,u)=>{o!==0&&(i++,u.done())}).next(()=>i>0)}_t(e,n){return yy(e).get(n).next(r=>r?ow(r):null)}}function yy(t){return zi(t,"targets")}function lH(t){return zi(t,"targetGlobal")}function Qh(t){return zi(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cH([t,e],[n,r]){const s=On(t,n);return s===0?On(e,r):s}class Aft{constructor(e){this.Qn=e,this.buffer=new Fr(cH),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();cH(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Nft{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Wn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return this.Wn!==null}Gn(e){Ke("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){im(n)?Ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await sm(n)}await this.Gn(3e5)})}}class Ift{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Se.resolve(Ro._e);const r=new Aft(n);return this.zn.forEachTarget(e,s=>r.Un(s.sequenceNumber)).next(()=>this.zn.Hn(e,s=>r.Un(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(oH)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oH):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let r,s,i,o,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Sy()<=er.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function kft(t,e){return new Ift(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oft{constructor(e,n){this.db=e,this.garbageCollector=kft(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Yn(e){let n=0;return this.Hn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(r,s)=>n(s))}addReference(e,n,r){return xj(e,r)}removeReference(e,n,r){return xj(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return xj(e,n)}Xn(e,n){return function(s,i){let o=!1;return iue(s).Z(l=>sue(s,l,i).next(c=>(c&&(o=!0),Se.resolve(!c)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Zn(e,(o,l)=>{if(l<=n){const c=this.Xn(e,o).next(u=>{if(!u)return i++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Gt.min()),Qh(e).delete(function(f){return[0,Xa(f.path)]}(o))))});s.push(c)}}).next(()=>Se.waitFor(s)).next(()=>r.apply(e)).next(()=>i)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return xj(e,n)}Zn(e,n){const r=Qh(e);let s,i=Ro._e;return r.Y({index:"documentTargetsIndex"},([o,l],{path:c,sequenceNumber:u})=>{o===0?(i!==Ro._e&&n(new ht(zu(s)),i),i=u,s=c):i=Ro._e}).next(()=>{i!==Ro._e&&n(new ht(zu(s)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function xj(t,e){return Qh(t).put(function(r,s){return{targetId:0,path:Xa(r.path),sequenceNumber:s}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aue{constructor(){this.changes=new am(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ns.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rft{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Rm(e).put(r)}removeEntry(e,n,r){return Rm(e).delete(function(i,o){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],kC(o),l[l.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.er(e,r)))}getEntry(e,n){let r=ns.newInvalidDocument(n);return Rm(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only($_(n))},(s,i)=>{r=this.tr(n,i)}).next(()=>r)}nr(e,n){let r={size:0,document:ns.newInvalidDocument(n)};return Rm(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only($_(n))},(s,i)=>{r={document:this.tr(n,i),size:RC(i)}}).next(()=>r)}getEntries(e,n){let r=Do();return this.rr(e,n,(s,i)=>{const o=this.tr(s,i);r=r.insert(s,o)}).next(()=>r)}ir(e,n){let r=Do(),s=new Jr(ht.comparator);return this.rr(e,n,(i,o)=>{const l=this.tr(i,o);r=r.insert(i,l),s=s.insert(i,RC(o))}).next(()=>({documents:r,sr:s}))}rr(e,n,r){if(n.isEmpty())return Se.resolve();let s=new Fr(hH);n.forEach(c=>s=s.add(c));const i=IDBKeyRange.bound($_(s.first()),$_(s.last())),o=s.getIterator();let l=o.getNext();return Rm(e).Y({index:"documentKeyIndex",range:i},(c,u,d)=>{const f=ht.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;l&&hH(l,f)<0;)r(l,null),l=o.getNext();l&&l.isEqual(f)&&(r(l,u),l=o.hasNext()?o.getNext():null),l?d.U($_(l)):d.done()}).next(()=>{for(;l;)r(l,null),l=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,s,i){const o=n.path,l=[o.popLast().toArray(),o.lastSegment(),kC(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Rm(e).W(IDBKeyRange.bound(l,c,!0)).next(u=>{i==null||i.incrementDocumentReadCount(u.length);let d=Do();for(const f of u){const m=this.tr(ht.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);m.isFoundDocument()&&(tE(n,m)||s.has(m.key))&&(d=d.insert(m.key,m))}return d})}getAllFromCollectionGroup(e,n,r,s){let i=Do();const o=dH(n,r),l=dH(n,kl.max());return Rm(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,l,!0)},(c,u,d)=>{const f=this.tr(ht.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);i=i.insert(f.key,f),i.size===s&&d.done()}).next(()=>i)}newChangeBuffer(e){return new Pft(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return uH(e).get("remoteDocumentGlobalKey").next(n=>(Ut(!!n),n))}er(e,n){return uH(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const r=vft(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Gt.min())))return r}return ns.newInvalidDocument(e)}}function oue(t){return new Rft(t)}class Pft extends aue{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new am(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const n=[];let r=0,s=new Fr((i,o)=>On(i.canonicalString(),o.canonicalString()));return this.changes.forEach((i,o)=>{const l=this.ar.get(i);if(n.push(this._r.removeEntry(e,i,l.readTime)),o.isValidDocument()){const c=JG(this._r.serializer,o);s=s.add(i.path.popLast());const u=RC(c);r+=u-l.size,n.push(this._r.addEntry(e,i,c))}else if(r-=l.size,this.trackRemovals){const c=JG(this._r.serializer,o.convertToNoDocument(Gt.min()));n.push(this._r.addEntry(e,i,c))}}),s.forEach(i=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,i))}),n.push(this._r.updateMetadata(e,r)),Se.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(r=>(this.ar.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:r,sr:s})=>(s.forEach((i,o)=>{this.ar.set(i,{size:o,readTime:r.get(i).readTime})}),r))}}function uH(t){return zi(t,"remoteDocumentGlobal")}function Rm(t){return zi(t,"remoteDocumentsV14")}function $_(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function dH(t,e){const n=e.documentKey.path.toArray();return[t,kC(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function hH(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=On(n[i],r[i]),s)return s;return s=On(n.length,r.length),s||(s=On(n[n.length-2],r[r.length-2]),s||On(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dft{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lue{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Lw(r.mutation,s,Po.empty(),ps.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Rn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Rn()){const s=Wu();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=iw();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Wu();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Rn()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=Do();const o=Dw(),l=function(){return Dw()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof mh)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Lw(d.mutation,u,d.mutation.getFieldMask(),ps.now())):o.set(u.key,Po.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return l.set(u,new Dft(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Dw();let s=new Jr((o,l)=>o-l),i=Rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||Po.empty();d=l.applyToLocalView(u,d),r.set(c,d);const f=(s.get(l.batchId)||Rn()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=Cce();d.forEach(m=>{if(!i.has(m)){const p=Dce(n.get(m),r.get(m));p!==null&&f.set(m,p),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return Se.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ht.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Q3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Se.resolve(Wu());let l=-1,c=i;return o.next(u=>Se.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(d)?Se.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,Rn())).next(d=>({batchId:l,changes:Tce(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ht(n)).next(r=>{let s=iw();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=iw();return this.indexManager.getCollectionParents(e,i).next(l=>Se.forEach(l,c=>{const u=function(f,m){return new fh(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,ns.newInvalidDocument(d)))});let l=iw();return o.forEach((c,u)=>{const d=i.get(c);d!==void 0&&Lw(d.mutation,u,Po.empty(),ps.now()),tE(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lft{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return Se.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:si(s.createTime)}}(n)),Se.resolve()}getNamedQuery(e,n){return Se.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(s){return{name:s.name,query:iV(s.bundledQuery),readTime:si(s.readTime)}}(n)),Se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mft{constructor(){this.overlays=new Jr(ht.comparator),this.lr=new Map}getOverlay(e,n){return Se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wu();return Se.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.lt(e,n,i)}),Se.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.lr.delete(r)),Se.resolve()}getOverlaysForCollection(e,n,r){const s=Wu(),i=n.length+1,o=new ht(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return Se.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Jr((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Wu(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Wu(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return Se.resolve(l)}lt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.lr.get(s.largestBatchId).delete(r.key);this.lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new nV(n,r));let i=this.lr.get(n);i===void 0&&(i=Rn(),this.lr.set(n,i)),this.lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(){this.hr=new Fr(Ri.Pr),this.Ir=new Fr(Ri.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Ri(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Ri(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new ht(new hr([])),r=new Ri(n,e),s=new Ri(n,e+1),i=[];return this.Ir.forEachInRange([r,s],o=>{this.dr(o),i.push(o.key)}),i}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new ht(new hr([])),r=new Ri(n,e),s=new Ri(n,e+1);let i=Rn();return this.Ir.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ri(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ri{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return ht.comparator(e.key,n.key)||On(e.gr,n.gr)}static Tr(e,n){return On(e.gr,n.gr)||ht.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ft{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Fr(Ri.Pr)}checkEmpty(e){return Se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new eV(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.yr=this.yr.add(new Ri(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Se.resolve(o)}lookupMutationBatch(e,n){return Se.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Sr(r),i=s<0?0:s;return Se.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ri(n,0),s=new Ri(n,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([r,s],o=>{const l=this.wr(o.gr);i.push(l)}),Se.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fr(On);return n.forEach(s=>{const i=new Ri(s,0),o=new Ri(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([i,o],l=>{r=r.add(l.gr)})}),Se.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ht.isDocumentKey(i)||(i=i.child(""));const o=new Ri(new ht(i),0);let l=new Fr(On);return this.yr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.gr)),!0)},o),Se.resolve(this.br(l))}br(e){const n=[];return e.forEach(r=>{const s=this.wr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ut(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return Se.forEach(n.mutations,s=>{const i=new Ri(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Ri(n,0),s=this.yr.firstAfterOrEqual(r);return Se.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Se.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fft{constructor(e){this.Cr=e,this.docs=function(){return new Jr(ht.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Se.resolve(r?r.document.mutableCopy():ns.newInvalidDocument(n))}getEntries(e,n){let r=Do();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ns.newInvalidDocument(s))}),Se.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Do();const o=n.path,l=new ht(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||q3(nce(d),r)<=0||(s.has(d.key)||tE(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return Se.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Nt()}vr(e,n){return Se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Vft(this)}getSize(e){return Se.resolve(this.size)}}class Vft extends aue{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(r)}),Se.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uft{constructor(e){this.persistence=e,this.Fr=new am(n=>Wp(n),X0),this.lastRemoteSnapshotVersion=Gt.min(),this.highestTargetId=0,this.Mr=0,this.Or=new lV,this.targetCount=0,this.Nr=Kp.On()}forEachTarget(e,n){return this.Fr.forEach((r,s)=>n(s)),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),Se.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Kp(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,Se.resolve()}updateTargetData(e,n){return this.kn(n),Se.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Fr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),Se.waitFor(i).next(()=>s)}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return Se.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),Se.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Se.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),Se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return Se.resolve(r)}containsKey(e,n){return Se.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cue{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Ro(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Uft(this),this.indexManager=new jft,this.remoteDocumentCache=function(s){return new Fft(s)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new Xce(n),this.Kr=new Lft(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Mft,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new $ft(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){Ke("MemoryPersistence","Starting transaction:",e);const s=new Bft(this.Lr.next());return this.referenceDelegate.$r(),r(s).next(i=>this.referenceDelegate.Ur(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Wr(e,n){return Se.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Bft extends sce{constructor(e){super(),this.currentSequenceNumber=e}}class QN{constructor(e){this.persistence=e,this.Gr=new lV,this.zr=null}static jr(e){return new QN(e)}get Hr(){if(this.zr)return this.zr;throw Nt()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),Se.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),Se.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),Se.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Hr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.Hr,r=>{const s=ht.fromPath(r);return this.Jr(e,s).next(i=>{i||n.removeEntry(s,Gt.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return Se.or([()=>Se.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zft{constructor(e){this.serializer=e}N(e,n,r,s){const i=new GN("createOrUpgrade",n);r<1&&s>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",CG,{unique:!0}),c.createObjectStore("documentMutations")}(e),fH(e),function(c){c.createObjectStore("remoteDocuments")}(e));let o=Se.resolve();return r<3&&s>=3&&(r!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),fH(e)),o=o.next(()=>function(c){const u=c.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Gt.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",d)}(i))),r<4&&s>=4&&(r!==0&&(o=o.next(()=>function(c,u){return u.store("mutations").W().next(d=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",CG,{unique:!0});const f=u.store("mutations"),m=d.map(p=>f.put(p));return Se.waitFor(m)})}(e,i))),o=o.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&s>=5&&(o=o.next(()=>this.Zr(i))),r<6&&s>=6&&(o=o.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(i)))),r<7&&s>=7&&(o=o.next(()=>this.ei(i))),r<8&&s>=8&&(o=o.next(()=>this.ti(e,i))),r<9&&s>=9&&(o=o.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&s>=10&&(o=o.next(()=>this.ni(i))),r<11&&s>=11&&(o=o.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(o=o.next(()=>{(function(c){const u=c.createObjectStore("documentOverlays",{keyPath:Tht});u.createIndex("collectionPathOverlayIndex",Cht,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",Aht,{unique:!1})})(e)})),r<13&&s>=13&&(o=o.next(()=>function(c){const u=c.createObjectStore("remoteDocumentsV14",{keyPath:pht});u.createIndex("documentKeyIndex",ght),u.createIndex("collectionGroupIndex",yht)}(e)).next(()=>this.ri(e,i)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(o=o.next(()=>this.ii(e,i))),r<15&&s>=15&&(o=o.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:xht}).createIndex("sequenceNumberIndex",Eht,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:Sht}).createIndex("documentKeyIndex",jht,{unique:!1})}(e))),o}Xr(e){let n=0;return e.store("remoteDocuments").Y((r,s)=>{n+=RC(s)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(s=>Se.forEach(s,i=>{const o=IDBKeyRange.bound([i.userId,-1],[i.userId,i.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(l=>Se.forEach(l,c=>{Ut(c.userId===i.userId);const u=Xm(this.serializer,c);return rue(e,i.userId,u).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const i=[];return r.Y((o,l)=>{const c=new hr(o),u=function(f){return[0,Xa(f)]}(c);i.push(n.get(u).next(d=>d?Se.resolve():(f=>n.put({targetId:0,path:Xa(f),sequenceNumber:s.highestListenSequenceNumber}))(c)))}).next(()=>Se.waitFor(i))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:wht});const r=n.store("collectionParents"),s=new oV,i=o=>{if(s.add(o)){const l=o.lastSegment(),c=o.popLast();return r.put({collectionId:l,parent:Xa(c)})}};return n.store("remoteDocuments").Y({J:!0},(o,l)=>{const c=new hr(o);return i(c.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,l,c],u)=>{const d=zu(l);return i(d.popLast())}))}ni(e){const n=e.store("targets");return n.Y((r,s)=>{const i=ow(s),o=eue(this.serializer,i);return n.put(o)})}ri(e,n){const r=n.store("remoteDocuments"),s=[];return r.Y((i,o)=>{const l=n.store("remoteDocumentsV14"),c=function(f){return f.document?new ht(hr.fromString(f.document.name).popFirst(5)):f.noDocument?ht.fromSegments(f.noDocument.path):f.unknownDocument?ht.fromSegments(f.unknownDocument.path):Nt()}(o).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};s.push(l.put(u))}).next(()=>Se.waitFor(s))}ii(e,n){const r=n.store("mutations"),s=oue(this.serializer),i=new cue(QN.jr,this.serializer.ut);return r.W().next(o=>{const l=new Map;return o.forEach(c=>{var u;let d=(u=l.get(c.userId))!==null&&u!==void 0?u:Rn();Xm(this.serializer,c).keys().forEach(f=>d=d.add(f)),l.set(c.userId,d)}),Se.forEach(l,(c,u)=>{const d=new Di(u),f=KN.ct(this.serializer,d),m=i.getIndexManager(d),p=JN.ct(d,this.serializer,m,i.referenceDelegate);return new lue(s,p,f,m).recalculateAndSaveOverlaysForDocumentKeys(new uM(n,Ro._e),c).next()})})}}function fH(t){t.createObjectStore("targetDocuments",{keyPath:bht}).createIndex("documentTargetsIndex",_ht,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",vht,{unique:!0}),t.createObjectStore("targetGlobal")}const ZR="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class cV{constructor(e,n,r,s,i,o,l,c,u,d,f=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.si=i,this.window=o,this.document=l,this.oi=u,this._i=d,this.ai=f,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=m=>Promise.resolve(),!cV.D())throw new He(Ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Oft(this,s),this.Ii=n+"main",this.serializer=new Xce(c),this.Ti=new qc(this.Ii,this.ai,new zft(this.serializer)),this.qr=new Cft(this.referenceDelegate,this.serializer),this.remoteDocumentCache=oue(this.serializer),this.Kr=new bft,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,d===!1&&ni("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new He(Ne.FAILED_PRECONDITION,ZR);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new Ro(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){return this.Pi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(async()=>{this.started&&await this.di()}))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ej(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(im(e))return Ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return F_(e).get("owner").next(n=>Se.resolve(this.wi(n)))}Si(e){return Ej(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=zi(n,"clientMetadata");return r.W().next(s=>{const i=this.Ci(s,18e5),o=s.filter(l=>i.indexOf(l)===-1);return Se.forEach(o,l=>r.delete(l.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ei)for(const n of e)this.Ei.removeItem(this.vi(n.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?Se.resolve(!0):F_(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new He(Ne.FAILED_PRECONDITION,ZR);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ej(e).W().next(r=>this.Ci(r,5e3).find(s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,o=!this.inForeground&&s.inForeground,l=this.networkEnabled===s.networkEnabled;if(i||o&&l)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&Ke("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new uM(e,Ro._e);return this.pi(n).next(()=>this.Si(n))}),this.Ti.close(),this.Ni()}Ci(e,n){return e.filter(r=>this.Di(r.updateTimeMs,n)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Ej(e).W().next(n=>this.Ci(n,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return JN.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Tft(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return KN.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,r){Ke("IndexedDbPersistence","Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=function(c){return c===15?Iht:c===14?cce:c===13?lce:c===12?Nht:c===11?oce:void Nt()}(this.ai);let o;return this.Ti.runTransaction(e,s,i,l=>(o=new uM(l,this.Lr?this.Lr.next():Ro._e),n==="readwrite-primary"?this.fi(o).next(c=>!!c||this.gi(o)).next(c=>{if(!c)throw ni(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new He(Ne.FAILED_PRECONDITION,rce);return r(o)}).next(c=>this.yi(o).next(()=>c)):this.Li(o).next(()=>r(o)))).then(l=>(o.raiseOnCommittedEvent(),l))}Li(e){return F_(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new He(Ne.FAILED_PRECONDITION,ZR)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return F_(e).put("owner",n)}static D(){return qc.D()}pi(e){const n=F_(e);return n.get("owner").next(r=>this.wi(r)?(Ke("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Se.resolve())}Di(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(ni(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ai(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground=this.document.visibilityState==="visible")}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;fit()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const r=((n=this.Ei)===null||n===void 0?void 0:n.getItem(this.vi(e)))!==null;return Ke("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ni("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){ni("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function F_(t){return zi(t,"owner")}function Ej(t){return zi(t,"clientMetadata")}function uV(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=s}static Qi(e,n){let r=Rn(),s=Rn();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new dV(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wft{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uue{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.zi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ji(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Wft;return this.Hi(e,n,o).next(l=>{if(i.result=l,this.$i)return this.Ji(e,n,o,l.size)})}).next(()=>i.result)}Ji(e,n,r,s){return r.documentReadCount<this.Ui?(Sy()<=er.DEBUG&&Ke("QueryEngine","SDK will not create cache indexes for query:",jy(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Se.resolve()):(Sy()<=er.DEBUG&&Ke("QueryEngine","Query:",jy(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Wi*s?(Sy()<=er.DEBUG&&Ke("QueryEngine","The SDK decides to create cache indexes for query:",jy(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,eo(n))):Se.resolve())}zi(e,n){if(FG(n))return Se.resolve(null);let r=eo(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=IC(n,null,"F"),r=eo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Rn(...i);return this.Gi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Yi(n,l);return this.Zi(n,u,o,c.readTime)?this.zi(e,IC(n,null,"F")):this.Xi(e,u,n,c)}))})))}ji(e,n,r,s){return FG(n)||s.isEqual(Gt.min())?Se.resolve(null):this.Gi.getDocuments(e,r).next(i=>{const o=this.Yi(n,i);return this.Zi(n,o,r,s)?Se.resolve(null):(Sy()<=er.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),jy(n)),this.Xi(e,o,n,tce(s,-1)).next(l=>l))})}Yi(e,n){let r=new Fr(Sce(e));return n.forEach((s,i)=>{tE(e,i)&&(r=r.add(i))}),r}Zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Hi(e,n,r){return Sy()<=er.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",jy(n)),this.Gi.getDocumentsMatchingQuery(e,n,kl.min(),r)}Xi(e,n,r,s){return this.Gi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gft{constructor(e,n,r,s){this.persistence=e,this.es=n,this.serializer=s,this.ts=new Jr(On),this.ns=new am(i=>Wp(i),X0),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lue(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function due(t,e,n,r){return new Gft(t,e,n,r)}async function hue(t,e){const n=vt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=Rn();for(const u of s){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:l}))})})}function Hft(t,e){const n=vt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const f=u.batch,m=f.keys();let p=Se.resolve();return m.forEach(y=>{p=p.next(()=>d.getEntry(c,y)).next(_=>{const b=u.docVersions.get(y);Ut(b!==null),_.version.compareTo(b)<0&&(f.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),d.addEntry(_)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Rn();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function fue(t){const e=vt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function qft(t,e){const n=vt(t),r=e.snapshotVersion;let s=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});s=n.ts;const l=[];e.targetChanges.forEach((d,f)=>{const m=s.get(f);if(!m)return;l.push(n.qr.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.qr.addMatchingKeys(i,d.addedDocuments,f)));let p=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Ti.EMPTY_BYTE_STRING,Gt.min()).withLastLimboFreeSnapshotVersion(Gt.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(f,p),function(_,b,x){return _.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(m,p,d)&&l.push(n.qr.updateTargetData(i,p))});let c=Do(),u=Rn();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(mue(i,o,e.documentUpdates).next(d=>{c=d.us,u=d.cs})),!r.isEqual(Gt.min())){const d=n.qr.getLastRemoteSnapshotVersion(i).next(f=>n.qr.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return Se.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.ts=s,i))}function mue(t,e,n){let r=Rn(),s=Rn();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Do();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Gt.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Ke("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{us:o,cs:s}})}function Yft(t,e){const n=vt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Qv(t,e){const n=vt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.qr.getTargetData(r,e).next(i=>i?(s=i,Se.resolve(s)):n.qr.allocateTargetId(r).next(o=>(s=new $d(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function Zv(t,e,n){const r=vt(t),s=r.ts.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!im(o))throw o;Ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(s.target)}function PC(t,e,n){const r=vt(t);let s=Gt.min(),i=Rn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const f=vt(c),m=f.ns.get(d);return m!==void 0?Se.resolve(f.ts.get(m)):f.qr.getTargetData(u,d)}(r,o,eo(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?s:Gt.min(),n?i:Rn())).next(l=>(yue(r,Ece(e),l),{documents:l,ls:i})))}function pue(t,e){const n=vt(t),r=vt(n.qr),s=n.ts.get(e);return s?Promise.resolve(s.target):n.persistence.runTransaction("Get target data","readonly",i=>r._t(i,e).next(o=>o?o.target:null))}function gue(t,e){const n=vt(t),r=n.rs.get(e)||Gt.min();return n.persistence.runTransaction("Get new document changes","readonly",s=>n.ss.getAllFromCollectionGroup(s,e,tce(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(yue(n,e,s),s))}function yue(t,e,n){let r=t.rs.get(e)||Gt.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.rs.set(e,r)}async function Kft(t,e,n,r){const s=vt(t);let i=Rn(),o=Do();for(const u of n){const d=e.hs(u.metadata.name);u.document&&(i=i.add(d));const f=e.Ps(u);f.setReadTime(e.Is(u.metadata.readTime)),o=o.insert(d,f)}const l=s.ss.newChangeBuffer({trackRemovals:!0}),c=await Qv(s,function(d){return eo(Ob(hr.fromString(`__bundle__/docs/${d}`)))}(r));return s.persistence.runTransaction("Apply bundle documents","readwrite",u=>mue(u,l,o).next(d=>(l.apply(u),d)).next(d=>s.qr.removeMatchingKeysForTargetId(u,c.targetId).next(()=>s.qr.addMatchingKeys(u,i,c.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(u,d.us,d.cs)).next(()=>d.us)))}async function Jft(t,e,n=Rn()){const r=await Qv(t,eo(iV(e.bundledQuery))),s=vt(t);return s.persistence.runTransaction("Save named query","readwrite",i=>{const o=si(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return s.Kr.saveNamedQuery(i,e);const l=r.withResumeToken(Ti.EMPTY_BYTE_STRING,o);return s.ts=s.ts.insert(l.targetId,l),s.qr.updateTargetData(i,l).next(()=>s.qr.removeMatchingKeysForTargetId(i,r.targetId)).next(()=>s.qr.addMatchingKeys(i,n,r.targetId)).next(()=>s.Kr.saveNamedQuery(i,e))})}function mH(t,e){return`firestore_clients_${t}_${e}`}function pH(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function XR(t,e){return`firestore_targets_${t}_${e}`}class DC{constructor(e,n,r,s){this.user=e,this.batchId=n,this.state=r,this.error=s}static Ts(e,n,r){const s=JSON.parse(r);let i,o=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return o&&s.error&&(o=typeof s.error.message=="string"&&typeof s.error.code=="string",o&&(i=new He(s.error.code,s.error.message))),o?new DC(e,n,s.state,i):(ni("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Mw{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ts(e,n){const r=JSON.parse(n);let s,i=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return i&&r.error&&(i=typeof r.error.message=="string"&&typeof r.error.code=="string",i&&(s=new He(r.error.code,r.error.message))),i?new Mw(e,r.state,s):(ni("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class LC{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const r=JSON.parse(n);let s=typeof r=="object"&&r.activeTargetIds instanceof Array,i=Z3();for(let o=0;s&&o<r.activeTargetIds.length;++o)s=ice(r.activeTargetIds[o]),i=i.add(r.activeTargetIds[o]);return s?new LC(e,i):(ni("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class hV{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new hV(n.clientId,n.onlineState):(ni("SharedClientState",`Failed to parse online state: ${e}`),null)}}class EM{constructor(){this.activeTargetIds=Z3()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eP{constructor(e,n,r,s,i){this.window=e,this.si=n,this.persistenceKey=r,this.Rs=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Jr(On),this.started=!1,this.ps=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ys=mH(this.persistenceKey,this.Rs),this.ws=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new EM),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.vs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const r of e){if(r===this.Rs)continue;const s=this.getItem(mH(this.persistenceKey,r));if(s){const i=LC.Ts(r,s);i&&(this.gs=this.gs.insert(i.clientId,i))}}this.Fs();const n=this.storage.getItem(this.Cs);if(n){const r=this.Ms(n);r&&this.xs(r)}for(const r of this.ps)this.fs(r);this.ps=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((r,s)=>{s.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,r){this.Ns(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(XR(this.persistenceKey,e));if(r){const s=Mw.Ts(e,r);s&&(n=s.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(XR(this.persistenceKey,e))}updateQueryState(e,n,r){this.ks(e,n,r)}handleUserChange(e,n,r){n.forEach(s=>{this.Bs(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Ke("SharedClientState","READ",e,n),n}setItem(e,n){Ke("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const n=e;if(n.storageArea===this.storage){if(Ke("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ys)return void ni("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Ss.test(n.key)){if(n.newValue==null){const r=this.Ks(n.key);return this.$s(r,null)}{const r=this.Us(n.key,n.newValue);if(r)return this.$s(r.clientId,r)}}else if(this.bs.test(n.key)){if(n.newValue!==null){const r=this.Ws(n.key,n.newValue);if(r)return this.Gs(r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){const r=this.zs(n.key,n.newValue);if(r)return this.js(r)}}else if(n.key===this.Cs){if(n.newValue!==null){const r=this.Ms(n.newValue);if(r)return this.xs(r)}}else if(n.key===this.ws){const r=function(i){let o=Ro._e;if(i!=null)try{const l=JSON.parse(i);Ut(typeof l=="number"),o=l}catch(l){ni("SharedClientState","Failed to read sequence number from WebStorage",l)}return o}(n.newValue);r!==Ro._e&&this.sequenceNumberHandler(r)}else if(n.key===this.vs){const r=this.Hs(n.newValue);await Promise.all(r.map(s=>this.syncEngine.Js(s)))}}}else this.ps.push(n)})}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,r){const s=new DC(this.currentUser,e,n,r),i=pH(this.persistenceKey,this.currentUser,e);this.setItem(i,s.Es())}Bs(e){const n=pH(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){const n={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(n))}ks(e,n,r){const s=XR(this.persistenceKey,e),i=new Mw(e,n,r);this.setItem(s,i.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const r=this.Ks(e);return LC.Ts(r,n)}Ws(e,n){const r=this.bs.exec(e),s=Number(r[1]),i=r[2]!==void 0?r[2]:null;return DC.Ts(new Di(i),s,n)}zs(e,n){const r=this.Ds.exec(e),s=Number(r[1]);return Mw.Ts(s,n)}Ms(e){return hV.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);Ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const r=n?this.gs.insert(e,n):this.gs.remove(e),s=this.Os(this.gs),i=this.Os(r),o=[],l=[];return i.forEach(c=>{s.has(c)||o.push(c)}),s.forEach(c=>{i.has(c)||l.push(c)}),this.syncEngine.Xs(o,l).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=Z3();return e.forEach((r,s)=>{n=n.unionWith(s.activeTargetIds)}),n}}class vue{constructor(){this.eo=new EM,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new EM,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qft{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sj=null;function tP(){return Sj===null?Sj=function(){return 268435456+Math.round(2147483648*Math.random())}():Sj++,"0x"+Sj.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zft={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xft{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="WebChannelConnection";class emt extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${s}/databases/${i}`,this.po=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get yo(){return!1}wo(n,r,s,i,o){const l=tP(),c=this.So(n,r);Ke("RestConnection",`Sending RPC '${n}' ${l}:`,c,s);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,i,o),this.Do(n,c,u,s).then(d=>(Ke("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw ru("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",c,"request:",s),d})}Co(n,r,s,i,o,l){return this.wo(n,r,s,i,o)}bo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+kb}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}So(n,r){const s=Zft[n];return`${this.mo}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,s){const i=tP();return new Promise((o,l)=>{const c=new Kdt;c.setWithCredentials(!0),c.listenOnce(qdt.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case JR.NO_ERROR:const d=c.getResponseJson();Ke(ja,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case JR.TIMEOUT:Ke(ja,`RPC '${e}' ${i} timed out`),l(new He(Ne.DEADLINE_EXCEEDED,"Request time out"));break;case JR.HTTP_ERROR:const f=c.getStatus();if(Ke(ja,`RPC '${e}' ${i} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const p=m==null?void 0:m.error;if(p&&p.status&&p.message){const y=function(b){const x=b.toLowerCase().replace(/_/g,"-");return Object.values(Ne).indexOf(x)>=0?x:Ne.UNKNOWN}(p.status);l(new He(y,p.message))}else l(new He(Ne.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new He(Ne.UNAVAILABLE,"Connection failed."));break;default:Nt()}}finally{Ke(ja,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);Ke(ja,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",u,r,15)})}vo(e,n,r){const s=tP(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Gdt(),l=Hdt(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");Ke(ja,`Creating RPC '${e}' stream ${s}: ${d}`,c);const f=o.createWebChannel(d,c);let m=!1,p=!1;const y=new Xft({co:b=>{p?Ke(ja,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(m||(Ke(ja,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),Ke(ja,`RPC '${e}' stream ${s} sending:`,b),f.send(b))},lo:()=>f.close()}),_=(b,x,w)=>{b.listen(x,E=>{try{w(E)}catch(T){setTimeout(()=>{throw T},0)}})};return _(f,bj.EventType.OPEN,()=>{p||Ke(ja,`RPC '${e}' stream ${s} transport opened.`)}),_(f,bj.EventType.CLOSE,()=>{p||(p=!0,Ke(ja,`RPC '${e}' stream ${s} transport closed`),y.Ro())}),_(f,bj.EventType.ERROR,b=>{p||(p=!0,ru(ja,`RPC '${e}' stream ${s} transport errored:`,b),y.Ro(new He(Ne.UNAVAILABLE,"The operation could not be completed")))}),_(f,bj.EventType.MESSAGE,b=>{var x;if(!p){const w=b.data[0];Ut(!!w);const E=w,T=E.error||((x=E[0])===null||x===void 0?void 0:x.error);if(T){Ke(ja,`RPC '${e}' stream ${s} received error:`,T);const N=T.status;let P=function(Y){const q=ci[Y];if(q!==void 0)return $ce(q)}(N),D=T.message;P===void 0&&(P=Ne.INTERNAL,D="Unknown error status: "+N+" with message "+T.message),p=!0,y.Ro(new He(P,D)),f.close()}else Ke(ja,`RPC '${e}' stream ${s} received:`,w),y.Vo(w)}}),_(l,Ydt.STAT_EVENT,b=>{b.stat===EG.PROXY?Ke(ja,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===EG.NOPROXY&&Ke(ja,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.Ao()},0),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bue(){return typeof window<"u"?window:null}function m1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(t){return new lft(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,n,r=1e3,s=1.5,i=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=s,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&Ke("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ue{constructor(e,n,r,s,i,o,l,c){this.si=e,this.Ko=r,this.$o=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new fV(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===Ne.RESOURCE_EXHAUSTED?(ni(n.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===Ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Uo===n&&this.s_(r,s)},r=>{e(()=>{const s=new He(Ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(s)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{r(()=>this.o_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return Ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tmt extends _ue{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=dft(this.serializer,e),r=function(i){if(!("targetChange"in i))return Gt.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Gt.min():o.readTime?si(o.readTime):Gt.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=r0(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=AC(c)?{documents:qce(i,c)}:{query:Yce(i,c)},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=Bce(i,o.resumeToken);const u=yM(i,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(Gt.min())>0){l.readTime=Jv(i,o.snapshotVersion.toTimestamp());const u=yM(i,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=fft(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=r0(this.serializer),n.removeTarget=e,this.e_(n)}}class nmt extends _ue{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=hft(e.writeResults,e.commitTime),r=si(e.commitTime);return this.listener.I_(r,n)}return Ut(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=r0(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>s0(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rmt extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new He(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.wo(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new He(Ne.UNKNOWN,s.toString())})}Co(e,n,r,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Co(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new He(Ne.UNKNOWN,i.toString())})}terminate(){this.d_=!0}}class smt{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ni(n),this.f_=!1):Ke("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class imt{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro(o=>{r.enqueueAndForget(async()=>{om(this)&&(Ke("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=vt(c);u.C_.add(4),await Db(u),u.M_.set("Unknown"),u.C_.delete(4),await aE(u)}(this))})}),this.M_=new smt(r,s)}}async function aE(t){if(om(t))for(const e of t.v_)await e(!0)}async function Db(t){for(const e of t.v_)await e(!1)}function ZN(t,e){const n=vt(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),gV(n)?pV(n):Mb(n).Ho()&&mV(n,e))}function i0(t,e){const n=vt(t),r=Mb(n);n.D_.delete(e),r.Ho()&&wue(n,e),n.D_.size===0&&(r.Ho()?r.Zo():om(n)&&n.M_.set("Unknown"))}function mV(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Gt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mb(t).u_(e)}function wue(t,e){t.x_.Oe(e),Mb(t).c_(e)}function pV(t){t.x_=new sft({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Mb(t).start(),t.M_.g_()}function gV(t){return om(t)&&!Mb(t).jo()&&t.D_.size>0}function om(t){return vt(t).C_.size===0}function xue(t){t.x_=void 0}async function amt(t){t.D_.forEach((e,n)=>{mV(t,e)})}async function omt(t,e){xue(t),gV(t)?(t.M_.w_(e),pV(t)):t.M_.set("Unknown")}async function lmt(t,e,n){if(t.M_.set("Online"),e instanceof Uce&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.D_.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.D_.delete(l),s.x_.removeTarget(l))}(t,e)}catch(r){Ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await MC(t,r)}else if(e instanceof f1?t.x_.$e(e):e instanceof Vce?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Gt.min()))try{const r=await fue(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.x_.it(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.D_.get(u);d&&i.D_.set(u,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const d=i.D_.get(c);if(!d)return;i.D_.set(c,d.withResumeToken(Ti.EMPTY_BYTE_STRING,d.snapshotVersion)),wue(i,c);const f=new $d(d.target,c,u,d.sequenceNumber);mV(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Ke("RemoteStore","Failed to raise snapshot:",r),await MC(t,r)}}async function MC(t,e,n){if(!im(e))throw e;t.C_.add(1),await Db(t),t.M_.set("Offline"),n||(n=()=>fue(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ke("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await aE(t)})}function Eue(t,e){return e().catch(n=>MC(t,n,e))}async function Lb(t){const e=vt(t),n=Bf(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;cmt(e);)try{const s=await Yft(e.localStore,r);if(s===null){e.b_.length===0&&n.Zo();break}r=s.batchId,umt(e,s)}catch(s){await MC(e,s)}Sue(e)&&jue(e)}function cmt(t){return om(t)&&t.b_.length<10}function umt(t,e){t.b_.push(e);const n=Bf(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function Sue(t){return om(t)&&!Bf(t).jo()&&t.b_.length>0}function jue(t){Bf(t).start()}async function dmt(t){Bf(t).E_()}async function hmt(t){const e=Bf(t);for(const n of t.b_)e.P_(n.mutations)}async function fmt(t,e,n){const r=t.b_.shift(),s=tV.from(r,e,n);await Eue(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Lb(t)}async function mmt(t,e){e&&Bf(t).h_&&await async function(r,s){if(function(o){return Mce(o)&&o!==Ne.ABORTED}(s.code)){const i=r.b_.shift();Bf(r).Yo(),await Eue(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Lb(r)}}(t,e),Sue(t)&&jue(t)}async function yH(t,e){const n=vt(t);n.asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials");const r=om(n);n.C_.add(3),await Db(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await aE(n)}async function SM(t,e){const n=vt(t);e?(n.C_.delete(2),await aE(n)):e||(n.C_.add(2),await Db(n),n.M_.set("Unknown"))}function Mb(t){return t.O_||(t.O_=function(n,r,s){const i=vt(n);return i.A_(),new tmt(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ho:amt.bind(null,t),Io:omt.bind(null,t),a_:lmt.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),gV(t)?pV(t):t.M_.set("Unknown")):(await t.O_.stop(),xue(t))})),t.O_}function Bf(t){return t.N_||(t.N_=function(n,r,s){const i=vt(n);return i.A_(),new nmt(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ho:dmt.bind(null,t),Io:mmt.bind(null,t),T_:hmt.bind(null,t),I_:fmt.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await Lb(t)):(await t.N_.stop(),t.b_.length>0&&(Ke("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new yV(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new He(Ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $b(t,e){if(ni("AsyncQueue",`${e}: ${t}`),im(t))return new He(Ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ht.comparator(n.key,r.key):(n,r)=>ht.comparator(n.key,r.key),this.keyedMap=iw(),this.sortedSet=new Jr(this.comparator)}static emptySet(e){return new _v(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _v)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _v;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(){this.B_=new Jr(ht.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Nt():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xv{constructor(e,n,r,s,i,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Xv(e,n,_v.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&eE(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pmt{constructor(){this.k_=void 0,this.listeners=[]}}class gmt{constructor(){this.queries=new am(e=>xce(e),eE),this.onlineState="Unknown",this.q_=new Set}}async function vV(t,e){const n=vt(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new pmt),s)try{i.k_=await n.onListen(r)}catch(o){const l=$b(o,`Initialization of query '${jy(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,i),i.listeners.push(e),e.Q_(n.onlineState),i.k_&&e.K_(i.k_)&&_V(n)}async function bV(t,e){const n=vt(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function ymt(t,e){const n=vt(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.listeners)l.K_(s)&&(r=!0);o.k_=s}}r&&_V(n)}function vmt(t,e,n){const r=vt(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function _V(t){t.q_.forEach(e=>{e.next()})}class wV{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Xv(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Xv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bmt{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(e){this.serializer=e}hs(e){return Ju(this.serializer,e)}Ps(e){return e.metadata.exists?Hce(this.serializer,e.document,!1):ns.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return si(e)}}class _mt{constructor(e,n,r){this.X_=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Tue(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const r=hr.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,r=new bH(this.serializer);for(const s of e)if(s.metadata.queries){const i=r.hs(s.metadata.name);for(const o of s.metadata.queries){const l=(n.get(o)||Rn()).add(i);n.set(o,l)}}return n}async complete(){const e=await Kft(this.localStore,new bH(this.serializer),this.documents,this.X_.id),n=this.ta(this.documents);for(const r of this.queries)await Jft(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}}}function Tue(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cue{constructor(e){this.key=e}}class Aue{constructor(e){this.key=e}}class Nue{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Rn(),this.mutatedKeys=Rn(),this._a=Sce(e),this.aa=new _v(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new vH,s=n?n.aa:this.aa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const m=s.get(d),p=tE(this.query,f)?f:null,y=!!m&&this.mutatedKeys.has(m.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;m&&p?m.data.isEqual(p.data)?y!==_&&(r.track({type:3,doc:p}),b=!0):this.ha(m,p)||(r.track({type:2,doc:p}),b=!0,(c&&this._a(p,c)>0||u&&this._a(p,u)<0)&&(l=!0)):!m&&p?(r.track({type:0,doc:p}),b=!0):m&&!p&&(r.track({type:1,doc:m}),b=!0,(c||u)&&(l=!0)),b&&(p?(o=o.add(p),i=_?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{aa:o,la:r,Zi:l,mutatedKeys:i}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((d,f)=>function(p,y){const _=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt()}};return _(p)-_(y)}(d.type,f.type)||this._a(d.doc,f.doc)),this.Pa(r),s=s!=null&&s;const l=n&&!s?this.Ia():[],c=this.oa.size===0&&this.current&&!s?1:0,u=c!==this.sa;return this.sa=c,o.length!==0||u?{snapshot:new Xv(this.query,e.aa,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:l}:{Ta:l}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new vH,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Rn(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new Aue(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new Cue(r))}),n}da(e){this.ia=e.ls,this.oa=Rn();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Xv.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class wmt{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class xmt{constructor(e){this.key=e,this.Ra=!1}}class Emt{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new am(l=>xce(l),eE),this.fa=new Map,this.ga=new Set,this.pa=new Jr(ht.comparator),this.ya=new Map,this.wa=new lV,this.Sa={},this.ba=new Map,this.Da=Kp.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function Smt(t,e){const n=TV(t);let r,s;const i=n.ma.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Aa();else{const o=await Qv(n.localStore,eo(e)),l=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await xV(n,e,r,l==="current",o.resumeToken),n.isPrimaryClient&&ZN(n.remoteStore,o)}return s}async function xV(t,e,n,r,s){t.va=(f,m,p)=>async function(_,b,x,w){let E=b.view.ca(x);E.Zi&&(E=await PC(_.localStore,b.query,!1).then(({documents:D})=>b.view.ca(D,E)));const T=w&&w.targetChanges.get(b.targetId),N=w&&w.targetMismatches.get(b.targetId)!=null,P=b.view.applyChanges(E,_.isPrimaryClient,T,N);return jM(_,b.targetId,P.Ta),P.snapshot}(t,f,m,p);const i=await PC(t.localStore,e,!0),o=new Nue(e,i.ls),l=o.ca(i.documents),c=sE.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(l,t.isPrimaryClient,c);jM(t,n,u.Ta);const d=new wmt(e,n,o);return t.ma.set(e,d),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot}async function jmt(t,e){const n=vt(t),r=n.ma.get(e),s=n.fa.get(r.targetId);if(s.length>1)return n.fa.set(r.targetId,s.filter(i=>!eE(i,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Zv(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),i0(n.remoteStore,r.targetId),eb(n,r.targetId)}).catch(sm)):(eb(n,r.targetId),await Zv(n.localStore,r.targetId,!0))}async function Tmt(t,e,n){const r=CV(t);try{const s=await function(o,l){const c=vt(o),u=ps.now(),d=l.reduce((p,y)=>p.add(y.key),Rn());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=Do(),_=Rn();return c.ss.getEntries(p,d).next(b=>{y=b,y.forEach((x,w)=>{w.isValidDocument()||(_=_.add(x))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,y)).next(b=>{f=b;const x=[];for(const w of l){const E=tft(w,f.get(w.key).overlayedDocument);E!=null&&x.push(new mh(w.key,E,fce(E.value.mapValue),ms.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,x,l)}).next(b=>{m=b;const x=b.applyToLocalDocumentSet(f,_);return c.documentOverlayCache.saveOverlays(p,b.batchId,x)})}).then(()=>({batchId:m.batchId,changes:Tce(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let u=o.Sa[o.currentUser.toKey()];u||(u=new Jr(On)),u=u.insert(l,c),o.Sa[o.currentUser.toKey()]=u}(r,s.batchId,n),await ph(r,s.changes),await Lb(r.remoteStore)}catch(s){const i=$b(s,"Failed to persist write");n.reject(i)}}async function Iue(t,e){const n=vt(t);try{const r=await qft(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.ya.get(i);o&&(Ut(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ra=!0:s.modifiedDocuments.size>0?Ut(o.Ra):s.removedDocuments.size>0&&(Ut(o.Ra),o.Ra=!1))}),await ph(n,r,e)}catch(r){await sm(r)}}function _H(t,e,n){const r=vt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ma.forEach((i,o)=>{const l=o.view.Q_(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=vt(o);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const m of f.listeners)m.Q_(l)&&(u=!0)}),u&&_V(c)}(r.eventManager,e),s.length&&r.Va.a_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Cmt(t,e,n){const r=vt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.ya.get(e),i=s&&s.key;if(i){let o=new Jr(ht.comparator);o=o.insert(i,ns.newNoDocument(i,Gt.min()));const l=Rn().add(i),c=new rE(Gt.min(),new Map,new Jr(On),o,l);await Iue(r,c),r.pa=r.pa.remove(i),r.ya.delete(e),jV(r)}else await Zv(r.localStore,e,!1).then(()=>eb(r,e,n)).catch(sm)}async function Amt(t,e){const n=vt(t),r=e.batch.batchId;try{const s=await Hft(n.localStore,e);SV(n,r,null),EV(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ph(n,s)}catch(s){await sm(s)}}async function Nmt(t,e,n){const r=vt(t);try{const s=await function(o,l){const c=vt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(Ut(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);SV(r,e,n),EV(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ph(r,s)}catch(s){await sm(s)}}async function Imt(t,e){const n=vt(t);om(n.remoteStore)||Ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const l=vt(o);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>l.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(r===-1)return void e.resolve();const s=n.ba.get(r)||[];s.push(e),n.ba.set(r,s)}catch(r){const s=$b(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}function EV(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function SV(t,e,n){const r=vt(t);let s=r.Sa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Sa[r.currentUser.toKey()]=s}}function eb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||kue(t,r)})}function kue(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(i0(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),jV(t))}function jM(t,e,n){for(const r of n)r instanceof Cue?(t.wa.addReference(r.key,e),kmt(t,r)):r instanceof Aue?(Ke("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||kue(t,r.key)):Nt()}function kmt(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(Ke("SyncEngine","New document in limbo: "+n),t.ga.add(r),jV(t))}function jV(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new ht(hr.fromString(e)),r=t.Da.next();t.ya.set(r,new xmt(n)),t.pa=t.pa.insert(n,r),ZN(t.remoteStore,new $d(eo(Ob(n.path)),r,"TargetPurposeLimboResolution",Ro._e))}}async function ph(t,e,n){const r=vt(t),s=[],i=[],o=[];r.ma.isEmpty()||(r.ma.forEach((l,c)=>{o.push(r.va(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u!=null&&u.fromCache?"not-current":"current"),u){s.push(u);const d=dV.Qi(c.targetId,u);i.push(d)}}))}),await Promise.all(o),r.Va.a_(s),await async function(c,u){const d=vt(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Se.forEach(u,m=>Se.forEach(m.ki,p=>d.persistence.referenceDelegate.addReference(f,m.targetId,p)).next(()=>Se.forEach(m.qi,p=>d.persistence.referenceDelegate.removeReference(f,m.targetId,p)))))}catch(f){if(!im(f))throw f;Ke("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const p=d.ts.get(m),y=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(y);d.ts=d.ts.insert(m,_)}}}(r.localStore,i))}async function Omt(t,e){const n=vt(t);if(!n.currentUser.isEqual(e)){Ke("SyncEngine","User change. New user:",e.toKey());const r=await hue(n.localStore,e);n.currentUser=e,function(i,o){i.ba.forEach(l=>{l.forEach(c=>{c.reject(new He(Ne.CANCELLED,o))})}),i.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ph(n,r._s)}}function Rmt(t,e){const n=vt(t),r=n.ya.get(e);if(r&&r.Ra)return Rn().add(r.key);{let s=Rn();const i=n.fa.get(e);if(!i)return s;for(const o of i){const l=n.ma.get(o);s=s.unionWith(l.view.ua)}return s}}async function Pmt(t,e){const n=vt(t),r=await PC(n.localStore,e.query,!0),s=e.view.da(r);return n.isPrimaryClient&&jM(n,e.targetId,s.Ta),s}async function Dmt(t,e){const n=vt(t);return gue(n.localStore,e).then(r=>ph(n,r))}async function Lmt(t,e,n,r){const s=vt(t),i=await function(l,c){const u=vt(l),d=vt(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",f=>d.Cn(f,c).next(m=>m?u.localDocuments.getDocuments(f,m):Se.resolve(null)))}(s.localStore,e);i!==null?(n==="pending"?await Lb(s.remoteStore):n==="acknowledged"||n==="rejected"?(SV(s,e,r||null),EV(s,e),function(l,c){vt(vt(l).mutationQueue).Fn(c)}(s.localStore,e)):Nt(),await ph(s,i)):Ke("SyncEngine","Cannot apply mutation batch with id: "+e)}async function Mmt(t,e){const n=vt(t);if(TV(n),CV(n),e===!0&&n.Ca!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),s=await wH(n,r.toArray());n.Ca=!0,await SM(n.remoteStore,!0);for(const i of s)ZN(n.remoteStore,i)}else if(e===!1&&n.Ca!==!1){const r=[];let s=Promise.resolve();n.fa.forEach((i,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):s=s.then(()=>(eb(n,o),Zv(n.localStore,o,!0))),i0(n.remoteStore,o)}),await s,await wH(n,r),function(o){const l=vt(o);l.ya.forEach((c,u)=>{i0(l.remoteStore,u)}),l.wa.Vr(),l.ya=new Map,l.pa=new Jr(ht.comparator)}(n),n.Ca=!1,await SM(n.remoteStore,!1)}}async function wH(t,e,n){const r=vt(t),s=[],i=[];for(const o of e){let l;const c=r.fa.get(o);if(c&&c.length!==0){l=await Qv(r.localStore,eo(c[0]));for(const u of c){const d=r.ma.get(u),f=await Pmt(r,d);f.snapshot&&i.push(f.snapshot)}}else{const u=await pue(r.localStore,o);l=await Qv(r.localStore,u),await xV(r,Oue(u),o,!1,l.resumeToken)}s.push(l)}return r.Va.a_(i),s}function Oue(t){return wce(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function $mt(t){return function(n){return vt(vt(n).persistence).Bi()}(vt(t).localStore)}async function Fmt(t,e,n,r){const s=vt(t);if(s.Ca)return void Ke("SyncEngine","Ignoring unexpected query state notification.");const i=s.fa.get(e);if(i&&i.length>0)switch(n){case"current":case"not-current":{const o=await gue(s.localStore,Ece(i[0])),l=rE.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Ti.EMPTY_BYTE_STRING);await ph(s,o,l);break}case"rejected":await Zv(s.localStore,e,!0),eb(s,e,r);break;default:Nt()}}async function Vmt(t,e,n){const r=TV(t);if(r.Ca){for(const s of e){if(r.fa.has(s)){Ke("SyncEngine","Adding an already active target "+s);continue}const i=await pue(r.localStore,s),o=await Qv(r.localStore,i);await xV(r,Oue(i),o.targetId,!1,o.resumeToken),ZN(r.remoteStore,o)}for(const s of n)r.fa.has(s)&&await Zv(r.localStore,s,!1).then(()=>{i0(r.remoteStore,s),eb(r,s)}).catch(sm)}}function TV(t){const e=vt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Iue.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rmt.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cmt.bind(null,e),e.Va.a_=ymt.bind(null,e.eventManager),e.Va.Fa=vmt.bind(null,e.eventManager),e}function CV(t){const e=vt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Amt.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nmt.bind(null,e),e}function Umt(t,e,n){const r=vt(t);(async function(i,o,l){try{const c=await o.getMetadata();if(await function(p,y){const _=vt(p),b=si(y.createTime);return _.persistence.runTransaction("hasNewerBundle","readonly",x=>_.Kr.getBundleMetadata(x,y.id)).then(x=>!!x&&x.createTime.compareTo(b)>=0)}(i.localStore,c))return await o.close(),l._completeWith(function(p){return{taskState:"Success",documentsLoaded:p.totalDocuments,bytesLoaded:p.totalBytes,totalDocuments:p.totalDocuments,totalBytes:p.totalBytes}}(c)),Promise.resolve(new Set);l._updateProgress(Tue(c));const u=new _mt(c,i.localStore,o.serializer);let d=await o.Ma();for(;d;){const m=await u.ea(d);m&&l._updateProgress(m),d=await o.Ma()}const f=await u.complete();return await ph(i,f.ra,void 0),await function(p,y){const _=vt(p);return _.persistence.runTransaction("Save bundle","readwrite",b=>_.Kr.saveBundleMetadata(b,y))}(i.localStore,c),l._completeWith(f.progress),Promise.resolve(f.na)}catch(c){return ru("SyncEngine",`Loading bundle failed with ${c}`),l._failWith(c),Promise.resolve(new Set)}})(r,e,n).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}class TM{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=iE(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return due(this.persistence,new uue,e.initialUser,this.serializer)}createPersistence(e){return new cue(QN.jr,this.serializer)}createSharedClientState(e){return new vue}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Rue extends TM{constructor(e,n,r){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xa.initialize(this,e),await CV(this.xa.syncEngine),await Lb(this.xa.remoteStore),await this.persistence.mi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return due(this.persistence,new uue,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new Nft(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new hht(n,this.persistence);return new dht(e.asyncQueue,r)}createPersistence(e){const n=uV(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?jo.withCacheSize(this.cacheSizeBytes):jo.DEFAULT;return new cV(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,bue(),m1(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new vue}}class Bmt extends Rue{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xa.syncEngine;this.sharedClientState instanceof eP&&(this.sharedClientState.syncEngine={Ys:Lmt.bind(null,n),Zs:Fmt.bind(null,n),Xs:Vmt.bind(null,n),Bi:$mt.bind(null,n),Js:Dmt.bind(null,n)},await this.sharedClientState.start()),await this.persistence.mi(async r=>{await Mmt(this.xa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=bue();if(!eP.D(n))throw new He(Ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=uV(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new eP(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class AV{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_H(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Omt.bind(null,this.syncEngine),await SM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gmt}()}createDatastore(e){const n=iE(e.databaseInfo.databaseId),r=function(i){return new emt(i)}(e.databaseInfo);return function(i,o,l,c){return new rmt(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new imt(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>_H(this.syncEngine,n,0),function(){return gH.D()?new gH:new Qft}())}createSyncEngine(e,n){return function(s,i,o,l,c,u,d){const f=new Emt(s,i,o,l,c,u);return d&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=vt(n);Ke("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Db(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xH(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):ni("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zmt{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new $i,this.buffer=new Uint8Array,this.La=function(){return new TextDecoder("utf-8")}(),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}async getMetadata(){return this.metadata.promise}async Ma(){return await this.getMetadata(),this.ka()}async ka(){const e=await this.qa();if(e===null)return null;const n=this.La.decode(e),r=Number(n);isNaN(r)&&this.Qa(`length string (${n}) is not valid number`);const s=await this.Ka(r);return new bmt(JSON.parse(s),e.length+r)}$a(){return this.buffer.findIndex(e=>e===123)}async qa(){for(;this.$a()<0&&!await this.Ua(););if(this.buffer.length===0)return null;const e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ka(e){for(;this.buffer.length<e;)await this.Ua()&&this.Qa("Reached the end of bundle when more is expected.");const n=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ua(){const e=await this.Ba.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wmt{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new He(Ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(s,i){const o=vt(s),l=r0(o.serializer)+"/documents",c={documents:i.map(m=>n0(o.serializer,m))},u=await o.Co("BatchGetDocuments",l,c,i.length),d=new Map;u.forEach(m=>{const p=uft(o.serializer,m);d.set(p.key.toString(),p)});const f=[];return i.forEach(m=>{const p=d.get(m.toString());Ut(!!p),f.push(p)}),f}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Pb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const s=ht.fromPath(r);this.mutations.push(new X3(s,this.precondition(s)))}),await async function(r,s){const i=vt(r),o=r0(i.serializer)+"/documents",l={writes:s.map(c=>s0(i.serializer,c))};await i.wo("Commit",o,l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Nt();n=Gt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new He(Ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Gt.min())?ms.exists(!1):ms.updateTime(n):ms.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Gt.min()))throw new He(Ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ms.updateTime(n)}return ms.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gmt{constructor(e,n,r,s,i){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=i,this.Wa=r.maxAttempts,this.zo=new fV(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko(async()=>{const e=new Wmt(this.datastore),n=this.za(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(s=>{this.ja(s)}))}).catch(r=>{this.ja(r)})})}za(e){try{const n=this.updateFunction(e);return!Z0(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Mce(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hmt{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Di.UNAUTHENTICATED,this.clientId=Xle.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{Ke("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(Ke("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new He(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$b(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function p1(t,e){t.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await hue(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function CM(t,e){t.asyncQueue.verifyOperationInProgress();const n=await NV(t);Ke("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>yH(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>yH(e.remoteStore,i)),t._onlineComponents=e}function Pue(t){return t.name==="FirebaseError"?t.code===Ne.FAILED_PRECONDITION||t.code===Ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function NV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ke("FirestoreClient","Using user provided OfflineComponentProvider");try{await p1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Pue(n))throw n;ru("Error using user provided cache. Falling back to memory cache: "+n),await p1(t,new TM)}}else Ke("FirestoreClient","Using default OfflineComponentProvider"),await p1(t,new TM);return t._offlineComponents}async function eI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ke("FirestoreClient","Using user provided OnlineComponentProvider"),await CM(t,t._uninitializedComponentsProvider._online)):(Ke("FirestoreClient","Using default OnlineComponentProvider"),await CM(t,new AV))),t._onlineComponents}function Due(t){return NV(t).then(e=>e.persistence)}function IV(t){return NV(t).then(e=>e.localStore)}function Lue(t){return eI(t).then(e=>e.remoteStore)}function kV(t){return eI(t).then(e=>e.syncEngine)}function qmt(t){return eI(t).then(e=>e.datastore)}async function tb(t){const e=await eI(t),n=e.eventManager;return n.onListen=Smt.bind(null,e.syncEngine),n.onUnlisten=jmt.bind(null,e.syncEngine),n}function Ymt(t){return t.asyncQueue.enqueue(async()=>{const e=await Due(t),n=await Lue(t);return e.setNetworkEnabled(!0),function(s){const i=vt(s);return i.C_.delete(0),aE(i)}(n)})}function Kmt(t){return t.asyncQueue.enqueue(async()=>{const e=await Due(t),n=await Lue(t);return e.setNetworkEnabled(!1),async function(s){const i=vt(s);i.C_.add(0),await Db(i),i.M_.set("Offline")}(n)})}function Jmt(t,e){const n=new $i;return t.asyncQueue.enqueueAndForget(async()=>async function(s,i,o){try{const l=await function(u,d){const f=vt(u);return f.persistence.runTransaction("read document","readonly",m=>f.localDocuments.getDocument(m,d))}(s,i);l.isFoundDocument()?o.resolve(l):l.isNoDocument()?o.resolve(null):o.reject(new He(Ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const c=$b(l,`Failed to get document '${i} from cache`);o.reject(c)}}(await IV(t),e,n)),n.promise}function Mue(t,e,n={}){const r=new $i;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,u){const d=new XN({next:m=>{o.enqueueAndForget(()=>bV(i,f));const p=m.docs.has(l);!p&&m.fromCache?u.reject(new He(Ne.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&c&&c.source==="server"?u.reject(new He(Ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new wV(Ob(l.path),d,{includeMetadataChanges:!0,J_:!0});return vV(i,f)}(await tb(t),t.asyncQueue,e,n,r)),r.promise}function Qmt(t,e){const n=new $i;return t.asyncQueue.enqueueAndForget(async()=>async function(s,i,o){try{const l=await PC(s,i,!0),c=new Nue(i,l.ls),u=c.ca(l.documents),d=c.applyChanges(u,!1);o.resolve(d.snapshot)}catch(l){const c=$b(l,`Failed to execute query '${i} against cache`);o.reject(c)}}(await IV(t),e,n)),n.promise}function $ue(t,e,n={}){const r=new $i;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,u){const d=new XN({next:m=>{o.enqueueAndForget(()=>bV(i,f)),m.fromCache&&c.source==="server"?u.reject(new He(Ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new wV(l,d,{includeMetadataChanges:!0,J_:!0});return vV(i,f)}(await tb(t),t.asyncQueue,e,n,r)),r.promise}function Zmt(t,e){const n=new XN(e);return t.asyncQueue.enqueueAndForget(async()=>function(s,i){vt(s).q_.add(i),i.next()}(await tb(t),n)),()=>{n.Na(),t.asyncQueue.enqueueAndForget(async()=>function(s,i){vt(s).q_.delete(i)}(await tb(t),n))}}function Xmt(t,e,n,r){const s=function(o,l){let c;return c=typeof o=="string"?Fce().encode(o):o,function(d,f){return new zmt(d,f)}(function(d,f){if(d instanceof Uint8Array)return xH(d,f);if(d instanceof ArrayBuffer)return xH(new Uint8Array(d),f);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),l)}(n,iE(e));t.asyncQueue.enqueueAndForget(async()=>{Umt(await kV(t),s,r)})}function ept(t,e){return t.asyncQueue.enqueue(async()=>function(r,s){const i=vt(r);return i.persistence.runTransaction("Get named query","readonly",o=>i.Kr.getNamedQuery(o,s))}(await IV(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fue(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EH=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(t,e,n){if(!n)throw new He(Ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Vue(t,e,n,r){if(e===!0&&r===!0)throw new He(Ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function SH(t){if(!ht.isDocumentKey(t))throw new He(Ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jH(t){if(ht.isDocumentKey(t))throw new He(Ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tI(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Nt()}function vr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new He(Ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tI(t);throw new He(Ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Uue(t,e){if(e<=0)throw new He(Ne.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new He(Ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new He(Ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Vue("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fue((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new He(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new He(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new He(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oE{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new He(Ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new He(Ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TH(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new eht;switch(r.type){case"firstParty":return new sht(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new He(Ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=EH.get(n);r&&(Ke("ComponentProvider","Removing Datastore"),EH.delete(n),r.terminate())}(this),Promise.resolve()}}function tpt(t,e,n,r={}){var s;const i=(t=vr(t,oE))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&ru("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Di.MOCK_USER;else{l=uit(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new He(Ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Di(u)}t._authCredentials=new tht(new Zle(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ro=class Bue{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bue(this.firestore,e,this._query)}},As=class zue{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zue(this.firestore,e,this._key)}},Tf=class Wue extends ro{constructor(e,n,r){super(e,n,Ob(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new As(this.firestore,null,new ht(e))}withConverter(e){return new Wue(this.firestore,e,this._path)}};function Gue(t,e,...n){if(t=an(t),OV("collection","path",e),t instanceof oE){const r=hr.fromString(e,...n);return jH(r),new Tf(t,null,r)}{if(!(t instanceof As||t instanceof Tf))throw new He(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(hr.fromString(e,...n));return jH(r),new Tf(t.firestore,null,r)}}function npt(t,e){if(t=vr(t,oE),OV("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new He(Ne.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ro(t,null,function(r){return new fh(hr.emptyPath(),r)}(e))}function $C(t,e,...n){if(t=an(t),arguments.length===1&&(e=Xle.newId()),OV("doc","path",e),t instanceof oE){const r=hr.fromString(e,...n);return SH(r),new As(t,null,new ht(r))}{if(!(t instanceof As||t instanceof Tf))throw new He(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(hr.fromString(e,...n));return SH(r),new As(t.firestore,t instanceof Tf?t.converter:null,new ht(r))}}function Hue(t,e){return t=an(t),e=an(e),(t instanceof As||t instanceof Tf)&&(e instanceof As||e instanceof Tf)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function que(t,e){return t=an(t),e=an(e),t instanceof ro&&e instanceof ro&&t.firestore===e.firestore&&eE(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rpt{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new fV(this,"async_queue_retry"),this.iu=()=>{const n=m1();n&&Ke("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=m1();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=m1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new $i;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!im(e))throw e;Ke("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw ni("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const s=yV.createAndSchedule(this,e,n,r,i=>this.au(i));return this.Xa.push(s),s}su(){this.eu&&Nt()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function AM(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class spt{constructor(){this._progressObserver={},this._taskCompletionResolver=new $i,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ipt=-1;let Gs=class extends oE{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new rpt}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Yue(this),this._firestoreClient.terminate()}};function Wi(t){return t._firestoreClient||Yue(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Yue(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,u,d){return new Rht(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Fue(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new Hmt(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}function apt(t,e){Jue(t=vr(t,Gs));const n=Wi(t);if(n._uninitializedComponentsProvider)throw new He(Ne.FAILED_PRECONDITION,"SDK cache is already specified.");ru("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),s=new AV;return Kue(n,s,new Rue(s,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function opt(t){Jue(t=vr(t,Gs));const e=Wi(t);if(e._uninitializedComponentsProvider)throw new He(Ne.FAILED_PRECONDITION,"SDK cache is already specified.");ru("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new AV;return Kue(e,r,new Bmt(r,n.cacheSizeBytes))}function Kue(t,e,n){const r=new $i;return t.asyncQueue.enqueue(async()=>{try{await p1(t,n),await CM(t,e),r.resolve()}catch(s){const i=s;if(!Pue(i))throw i;ru("Error enabling indexeddb cache. Falling back to memory cache: "+i),r.reject(i)}}).then(()=>r.promise)}function lpt(t){if(t._initialized&&!t._terminated)throw new He(Ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new $i;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!qc.D())return Promise.resolve();const s=r+"main";await qc.delete(s)}(uV(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function cpt(t){return function(n){const r=new $i;return n.asyncQueue.enqueueAndForget(async()=>Imt(await kV(n),r)),r.promise}(Wi(t=vr(t,Gs)))}function upt(t){return Ymt(Wi(t=vr(t,Gs)))}function dpt(t){return Kmt(Wi(t=vr(t,Gs)))}function hpt(t,e){const n=Wi(t=vr(t,Gs)),r=new spt;return Xmt(n,t._databaseId,e,r),r}function fpt(t,e){return ept(Wi(t=vr(t,Gs)),e).then(n=>n?new ro(t,null,n.query):null)}function Jue(t){if(t._initialized||t._terminated)throw new He(Ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nd(Ti.fromBase64String(e))}catch(n){throw new He(Ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new nd(Ti.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zf=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new He(Ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gg=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new He(Ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new He(Ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return On(this._lat,e._lat)||On(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mpt=/^__.*__$/;class ppt{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new mh(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rb(e,this.data,n,this.fieldTransforms)}}class Que{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new mh(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Zue(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt()}}class rI{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new rI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:r,du:!1});return s.Au(e),s}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:r,du:!1});return s.Pu(),s}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return FC(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(Zue(this.Iu)&&mpt.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class gpt{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||iE(e)}pu(e,n,r,s=!1){return new rI({Iu:e,methodName:n,gu:r,path:fs.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yg(t){const e=t._freezeSettings(),n=iE(t._databaseId);return new gpt(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sI(t,e,n,r,s,i={}){const o=t.pu(i.merge||i.mergeFields?2:0,e,n,s);LV("Data must be an object, but it was:",o,r);const l=tde(r,o);let c,u;if(i.merge)c=new Po(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const m=NM(e,f,n);if(!o.contains(m))throw new He(Ne.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);rde(d,m)||d.push(m)}c=new Po(d),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new ppt(new ca(l),c,u)}class lE extends gg{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lE}}function Xue(t,e,n){return new rI({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class RV extends gg{_toFieldTransform(e){return new nE(e.path,new Yv)}isEqual(e){return e instanceof RV}}class ypt extends gg{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=Xue(this,e,!0),r=this.yu.map(i=>vg(i,n)),s=new Gp(r);return new nE(e.path,s)}isEqual(e){return this===e}}class vpt extends gg{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=Xue(this,e,!0),r=this.yu.map(i=>vg(i,n)),s=new Hp(r);return new nE(e.path,s)}isEqual(e){return this===e}}class bpt extends gg{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new Kv(e.serializer,Ice(e.serializer,this.wu));return new nE(e.path,n)}isEqual(e){return this===e}}function PV(t,e,n,r){const s=t.pu(1,e,n);LV("Data must be an object, but it was:",s,r);const i=[],o=ca.empty();pg(r,(c,u)=>{const d=MV(e,c,n);u=an(u);const f=s.Ru(d);if(u instanceof lE)i.push(d);else{const m=vg(u,f);m!=null&&(i.push(d),o.set(d,m))}});const l=new Po(i);return new Que(o,l,s.fieldTransforms)}function DV(t,e,n,r,s,i){const o=t.pu(1,e,n),l=[NM(e,r,n)],c=[s];if(i.length%2!=0)throw new He(Ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(NM(e,i[m])),c.push(i[m+1]);const u=[],d=ca.empty();for(let m=l.length-1;m>=0;--m)if(!rde(u,l[m])){const p=l[m];let y=c[m];y=an(y);const _=o.Ru(p);if(y instanceof lE)u.push(p);else{const b=vg(y,_);b!=null&&(u.push(p),d.set(p,b))}}const f=new Po(u);return new Que(d,f,o.fieldTransforms)}function ede(t,e,n,r=!1){return vg(n,t.pu(r?4:3,e))}function vg(t,e){if(nde(t=an(t)))return LV("Unsupported field value:",e,t),tde(t,e);if(t instanceof gg)return function(r,s){if(!Zue(s.Iu))throw s.mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=vg(l,s.Vu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=an(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ice(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ps.fromDate(r);return{timestampValue:Jv(s.serializer,i)}}if(r instanceof ps){const i=new ps(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jv(s.serializer,i)}}if(r instanceof nI)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof nd)return{bytesValue:Bce(s.serializer,r._byteString)};if(r instanceof As){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:sV(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.mu(`Unsupported field value: ${tI(r)}`)}(t,e)}function tde(t,e){const n={};return uce(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pg(t,(r,s)=>{const i=vg(s,e.Eu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function nde(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ps||t instanceof nI||t instanceof nd||t instanceof As||t instanceof gg)}function LV(t,e,n){if(!nde(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=tI(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function NM(t,e,n){if((e=an(e))instanceof zf)return e._internalPath;if(typeof e=="string")return MV(t,e);throw FC("Field path arguments must be of type string or ",t,!1,void 0,n)}const _pt=new RegExp("[~\\*/\\[\\]]");function MV(t,e,n){if(e.search(_pt)>=0)throw FC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zf(...e.split("."))._internalPath}catch{throw FC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function FC(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new He(Ne.INVALID_ARGUMENT,l+t+c)}function rde(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new As(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wpt(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(iI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wpt extends a0{data(){return super.data()}}function iI(t,e){return typeof e=="string"?MV(t,e):e instanceof zf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sde(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new He(Ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $V{}class cE extends $V{}function Uh(t,e,...n){let r=[];e instanceof $V&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof FV).length,l=i.filter(c=>c instanceof aI).length;if(o>1||o>0&&l>0)throw new He(Ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class aI extends cE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new aI(e,n,r)}_apply(e){const n=this._parse(e);return ade(e._query,n),new ro(e.firestore,e.converter,gM(e._query,n))}_parse(e){const n=yg(e.firestore);return function(i,o,l,c,u,d,f){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new He(Ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){AH(f,d);const p=[];for(const y of f)p.push(CH(c,i,y));m={arrayValue:{values:p}}}else m=CH(c,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||AH(f,d),m=ede(l,o,f,d==="in"||d==="not-in");return sr.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function xpt(t,e,n){const r=e,s=iI("where",t);return aI._create(s,r,n)}class FV extends $V{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new FV(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Or.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)ade(o,c),o=gM(o,c)}(e._query,n),new ro(e.firestore,e.converter,gM(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class VV extends cE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new VV(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new He(Ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new He(Ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new t0(i,o)}(e._query,this._field,this._direction);return new ro(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new fh(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Ept(t,e="asc"){const n=e,r=iI("orderBy",t);return VV._create(r,n)}class oI extends cE{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new oI(e,n,r)}_apply(e){return new ro(e.firestore,e.converter,IC(e._query,this._limit,this._limitType))}}function Spt(t){return Uue("limit",t),oI._create("limit",t,"F")}function jpt(t){return Uue("limitToLast",t),oI._create("limitToLast",t,"L")}class lI extends cE{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new lI(e,n,r)}_apply(e){const n=ide(e,this.type,this._docOrFields,this._inclusive);return new ro(e.firestore,e.converter,function(s,i){return new fh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,i,s.endAt)}(e._query,n))}}function Tpt(...t){return lI._create("startAt",t,!0)}function Cpt(...t){return lI._create("startAfter",t,!1)}class cI extends cE{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new cI(e,n,r)}_apply(e){const n=ide(e,this.type,this._docOrFields,this._inclusive);return new ro(e.firestore,e.converter,function(s,i){return new fh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,i)}(e._query,n))}}function Apt(...t){return cI._create("endBefore",t,!1)}function Npt(...t){return cI._create("endAt",t,!0)}function ide(t,e,n,r){if(n[0]=an(n[0]),n[0]instanceof a0)return function(i,o,l,c,u){if(!c)throw new He(Ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const d=[];for(const f of bv(i))if(f.field.isKeyField())d.push(zp(o,c.key));else{const m=c.data.field(f.field);if(HN(m))throw new He(Ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){const p=f.field.canonicalString();throw new He(Ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}d.push(m)}return new Uf(d,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=yg(t.firestore);return function(o,l,c,u,d,f){const m=o.explicitOrderBy;if(d.length>m.length)throw new He(Ne.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let y=0;y<d.length;y++){const _=d[y];if(m[y].field.isKeyField()){if(typeof _!="string")throw new He(Ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof _}`);if(!Q3(o)&&_.indexOf("/")!==-1)throw new He(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${_}' contains a slash.`);const b=o.path.child(hr.fromString(_));if(!ht.isDocumentKey(b))throw new He(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${b}' is not because it contains an odd number of segments.`);const x=new ht(b);p.push(zp(l,x))}else{const b=ede(c,u,_);p.push(b)}}return new Uf(p,f)}(t._query,t.firestore._databaseId,s,e,n,r)}}function CH(t,e,n){if(typeof(n=an(n))=="string"){if(n==="")throw new He(Ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Q3(e)&&n.indexOf("/")!==-1)throw new He(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(hr.fromString(n));if(!ht.isDocumentKey(r))throw new He(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zp(t,new ht(r))}if(n instanceof As)return zp(t,n._key);throw new He(Ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tI(n)}.`)}function AH(t,e){if(!Array.isArray(t)||t.length===0)throw new He(Ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ade(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new He(Ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new He(Ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class UV{convertValue(e,n="none"){switch(Bp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Us(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($f(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Nt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return pg(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new nI(Us(e.latitude),Us(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=K3(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zx(e));default:return null}}convertTimestamp(e){const n=Mf(e);return new ps(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=hr.fromString(e);Ut(Zce(r));const s=new Ff(r.get(1),r.get(3)),i=new ht(r.popFirst(5));return s.isEqual(n)||ni(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ipt extends UV{constructor(e){super(),this.firestore=e}convertBytes(e){return new nd(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new As(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let nh=class extends a0{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $w(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(iI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},$w=class extends nh{data(e={}){return super.data(e)}},Wf=class{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new hp(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new $w(this._firestore,this._userDataWriter,r.key,r,new hp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new He(Ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new $w(s._firestore,s._userDataWriter,l.doc.key,l.doc,new hp(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new $w(s._firestore,s._userDataWriter,l.doc.key,l.doc,new hp(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:kpt(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function kpt(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt()}}function ode(t,e){return t instanceof nh&&e instanceof nh?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Wf&&e instanceof Wf&&t._firestore===e._firestore&&que(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Opt(t){t=vr(t,As);const e=vr(t.firestore,Gs);return Mue(Wi(e),t._key).then(n=>BV(e,t,n))}class bg extends UV{constructor(e){super(),this.firestore=e}convertBytes(e){return new nd(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new As(this.firestore,null,n)}}function Rpt(t){t=vr(t,As);const e=vr(t.firestore,Gs),n=Wi(e),r=new bg(e);return Jmt(n,t._key).then(s=>new nh(e,r,t._key,s,new hp(s!==null&&s.hasLocalMutations,!0),t.converter))}function Ppt(t){t=vr(t,As);const e=vr(t.firestore,Gs);return Mue(Wi(e),t._key,{source:"server"}).then(n=>BV(e,t,n))}function Dpt(t){t=vr(t,ro);const e=vr(t.firestore,Gs),n=Wi(e),r=new bg(e);return sde(t._query),$ue(n,t._query).then(s=>new Wf(e,r,t,s))}function Lpt(t){t=vr(t,ro);const e=vr(t.firestore,Gs),n=Wi(e),r=new bg(e);return Qmt(n,t._query).then(s=>new Wf(e,r,t,s))}function Mpt(t){t=vr(t,ro);const e=vr(t.firestore,Gs),n=Wi(e),r=new bg(e);return $ue(n,t._query,{source:"server"}).then(s=>new Wf(e,r,t,s))}function NH(t,e,n){t=vr(t,As);const r=vr(t.firestore,Gs),s=uI(t.converter,e,n);return uE(r,[sI(yg(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ms.none())])}function IH(t,e,n,...r){t=vr(t,As);const s=vr(t.firestore,Gs),i=yg(s);let o;return o=typeof(e=an(e))=="string"||e instanceof zf?DV(i,"updateDoc",t._key,e,n,r):PV(i,"updateDoc",t._key,e),uE(s,[o.toMutation(t._key,ms.exists(!0))])}function $pt(t){return uE(vr(t.firestore,Gs),[new Pb(t._key,ms.none())])}function Fpt(t,e){const n=vr(t.firestore,Gs),r=$C(t),s=uI(t.converter,e);return uE(n,[sI(yg(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,ms.exists(!1))]).then(()=>r)}function lde(t,...e){var n,r,s;t=an(t);let i={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||AM(e[o])||(i=e[o],o++);const l={includeMetadataChanges:i.includeMetadataChanges};if(AM(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let c,u,d;if(t instanceof As)u=vr(t.firestore,Gs),d=Ob(t._key.path),c={next:f=>{e[o]&&e[o](BV(u,t,f))},error:e[o+1],complete:e[o+2]};else{const f=vr(t,ro);u=vr(f.firestore,Gs),d=f._query;const m=new bg(u);c={next:p=>{e[o]&&e[o](new Wf(u,m,f,p))},error:e[o+1],complete:e[o+2]},sde(t._query)}return function(m,p,y,_){const b=new XN(_),x=new wV(p,b,y);return m.asyncQueue.enqueueAndForget(async()=>vV(await tb(m),x)),()=>{b.Na(),m.asyncQueue.enqueueAndForget(async()=>bV(await tb(m),x))}}(Wi(u),d,l,c)}function Vpt(t,e){return Zmt(Wi(t=vr(t,Gs)),AM(e)?e:{next:e})}function uE(t,e){return function(r,s){const i=new $i;return r.asyncQueue.enqueueAndForget(async()=>Tmt(await kV(r),s,i)),i.promise}(Wi(t),e)}function BV(t,e,n){const r=n.docs.get(e._key),s=new bg(t);return new nh(t,s,e._key,r,new hp(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Upt={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bpt=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=yg(e)}set(e,n,r){this._verifyNotCommitted();const s=Zh(e,this._firestore),i=uI(s.converter,n,r),o=sI(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,ms.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=Zh(e,this._firestore);let o;return o=typeof(n=an(n))=="string"||n instanceof zf?DV(this._dataReader,"WriteBatch.update",i._key,n,r,s):PV(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,ms.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Zh(e,this._firestore);return this._mutations=this._mutations.concat(new Pb(n._key,ms.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new He(Ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Zh(t,e){if((t=an(t)).firestore!==e)throw new He(Ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zpt=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=yg(n)}get(n){const r=Zh(n,this._firestore),s=new Ipt(this._firestore);return this._transaction.lookup([r._key]).then(i=>{if(!i||i.length!==1)return Nt();const o=i[0];if(o.isFoundDocument())return new a0(this._firestore,s,o.key,o,r.converter);if(o.isNoDocument())return new a0(this._firestore,s,r._key,null,r.converter);throw Nt()})}set(n,r,s){const i=Zh(n,this._firestore),o=uI(i.converter,r,s),l=sI(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,s);return this._transaction.set(i._key,l),this}update(n,r,s,...i){const o=Zh(n,this._firestore);let l;return l=typeof(r=an(r))=="string"||r instanceof zf?DV(this._dataReader,"Transaction.update",o._key,r,s,i):PV(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,l),this}delete(n){const r=Zh(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Zh(e,this._firestore),r=new bg(this._firestore);return super.get(e).then(s=>new nh(this._firestore,r,n._key,s._document,new hp(!1,!1),n.converter))}};function Wpt(t,e,n){t=vr(t,Gs);const r=Object.assign(Object.assign({},Upt),n);return function(i){if(i.maxAttempts<1)throw new He(Ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,o,l){const c=new $i;return i.asyncQueue.enqueueAndForget(async()=>{const u=await qmt(i);new Gmt(i.asyncQueue,u,l,o,c).run()}),c.promise}(Wi(t),s=>e(new zpt(t,s)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gpt(){return new lE("deleteField")}function Hpt(){return new RV("serverTimestamp")}function qpt(...t){return new ypt("arrayUnion",t)}function Ypt(...t){return new vpt("arrayRemove",t)}function Kpt(t){return new bpt("increment",t)}(function(e,n=!0){(function(s){kb=s})(em),Df(new Xu("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new Gs(new nht(r.getProvider("auth-internal")),new aht(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new He(Ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ff(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Ku(SG,"4.4.0",e),Ku(SG,"4.4.0","esm2017")})();const Jpt="@firebase/firestore-compat",Qpt="0.3.23";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new He("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kH(){if(typeof Uint8Array>"u")throw new He("unimplemented","Uint8Arrays are not available in this environment.")}function OH(){if(!kht())throw new He("unimplemented","Blobs are unavailable in Firestore in this environment.")}let cde=class IM{constructor(e){this._delegate=e}static fromBase64String(e){return OH(),new IM(nd.fromBase64String(e))}static fromUint8Array(e){return kH(),new IM(nd.fromUint8Array(e))}toBase64(){return OH(),this._delegate.toBase64()}toUint8Array(){return kH(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t){return Zpt(t,["next","error","complete"])}function Zpt(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xpt{enableIndexedDbPersistence(e,n){return apt(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return opt(e._delegate)}clearIndexedDbPersistence(e){return lpt(e._delegate)}}class ude{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ff||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&ru("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){tpt(this._delegate,e,n,r)}enableNetwork(){return upt(this._delegate)}disableNetwork(){return dpt(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Vue("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return cpt(this._delegate)}onSnapshotsInSync(e){return Vpt(this._delegate,e)}get app(){if(!this._appCompat)throw new He("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new nb(this,Gue(this._delegate,e))}catch(n){throw Ha(n,"collection()","Firestore.collection()")}}doc(e){try{return new uc(this,$C(this._delegate,e))}catch(n){throw Ha(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ga(this,npt(this._delegate,e))}catch(n){throw Ha(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Wpt(this._delegate,n=>e(new dde(this,n)))}batch(){return Wi(this._delegate),new hde(new Bpt(this._delegate,e=>uE(this._delegate,e)))}loadBundle(e){return hpt(this._delegate,e)}namedQuery(e){return fpt(this._delegate,e).then(n=>n?new Ga(this,n):null)}}class dI extends UV{constructor(e){super(),this.firestore=e}convertBytes(e){return new cde(new nd(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return uc.forKey(n,this.firestore,null)}}function egt(t){Zdt(t)}class dde{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new dI(e)}get(e){const n=fp(e);return this._delegate.get(n).then(r=>new o0(this._firestore,new nh(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const s=fp(e);return r?(zV("Transaction.set",r),this._delegate.set(s,n,r)):this._delegate.set(s,n),this}update(e,n,r,...s){const i=fp(e);return arguments.length===2?this._delegate.update(i,n):this._delegate.update(i,n,r,...s),this}delete(e){const n=fp(e);return this._delegate.delete(n),this}}class hde{constructor(e){this._delegate=e}set(e,n,r){const s=fp(e);return r?(zV("WriteBatch.set",r),this._delegate.set(s,n,r)):this._delegate.set(s,n),this}update(e,n,r,...s){const i=fp(e);return arguments.length===2?this._delegate.update(i,n):this._delegate.update(i,n,r,...s),this}delete(e){const n=fp(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Jp{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new $w(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new l0(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Jp.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let i=s.get(n);return i||(i=new Jp(e,new dI(e),n),s.set(n,i)),i}}Jp.INSTANCES=new WeakMap;class uc{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new dI(e)}static forPath(e,n,r){if(e.length%2!==0)throw new He("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new uc(n,new As(n._delegate,r,new ht(e)))}static forKey(e,n,r){return new uc(n,new As(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new nb(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new nb(this.firestore,Gue(this._delegate,e))}catch(n){throw Ha(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=an(e),e instanceof As?Hue(this._delegate,e):!1}set(e,n){n=zV("DocumentReference.set",n);try{return n?NH(this._delegate,e,n):NH(this._delegate,e)}catch(r){throw Ha(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?IH(this._delegate,e):IH(this._delegate,e,n,...r)}catch(s){throw Ha(s,"updateDoc()","DocumentReference.update()")}}delete(){return $pt(this._delegate)}onSnapshot(...e){const n=fde(e),r=mde(e,s=>new o0(this.firestore,new nh(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return lde(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Rpt(this._delegate):(e==null?void 0:e.source)==="server"?n=Ppt(this._delegate):n=Opt(this._delegate),n.then(r=>new o0(this.firestore,new nh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new uc(this.firestore,e?this._delegate.withConverter(Jp.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ha(t,e,n){return t.message=t.message.replace(e,n),t}function fde(t){for(const e of t)if(typeof e=="object"&&!kM(e))return e;return{}}function mde(t,e){var n,r;let s;return kM(t[0])?s=t[0]:kM(t[1])?s=t[1]:typeof t[0]=="function"?s={next:t[0],error:t[1],complete:t[2]}:s={next:t[1],error:t[2],complete:t[3]},{next:i=>{s.next&&s.next(e(i))},error:(n=s.error)===null||n===void 0?void 0:n.bind(s),complete:(r=s.complete)===null||r===void 0?void 0:r.bind(s)}}class o0{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new uc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return ode(this._delegate,e._delegate)}}class l0 extends o0{data(e){const n=this._delegate.data(e);return this._delegate._converter||Xdt(n!==void 0),n}}class Ga{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new dI(e)}where(e,n,r){try{return new Ga(this.firestore,Uh(this._delegate,xpt(e,n,r)))}catch(s){throw Ha(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Ga(this.firestore,Uh(this._delegate,Ept(e,n)))}catch(r){throw Ha(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ga(this.firestore,Uh(this._delegate,Spt(e)))}catch(n){throw Ha(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Ga(this.firestore,Uh(this._delegate,jpt(e)))}catch(n){throw Ha(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ga(this.firestore,Uh(this._delegate,Tpt(...e)))}catch(n){throw Ha(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ga(this.firestore,Uh(this._delegate,Cpt(...e)))}catch(n){throw Ha(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ga(this.firestore,Uh(this._delegate,Apt(...e)))}catch(n){throw Ha(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ga(this.firestore,Uh(this._delegate,Npt(...e)))}catch(n){throw Ha(n,"endAt()","Query.endAt()")}}isEqual(e){return que(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Lpt(this._delegate):(e==null?void 0:e.source)==="server"?n=Mpt(this._delegate):n=Dpt(this._delegate),n.then(r=>new OM(this.firestore,new Wf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=fde(e),r=mde(e,s=>new OM(this.firestore,new Wf(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return lde(this._delegate,n,r)}withConverter(e){return new Ga(this.firestore,e?this._delegate.withConverter(Jp.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class tgt{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new l0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class OM{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Ga(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new l0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new tgt(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new l0(this._firestore,r))})}isEqual(e){return ode(this._delegate,e._delegate)}}class nb extends Ga{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new uc(this.firestore,e):null}doc(e){try{return e===void 0?new uc(this.firestore,$C(this._delegate)):new uc(this.firestore,$C(this._delegate,e))}catch(n){throw Ha(n,"doc()","CollectionReference.doc()")}}add(e){return Fpt(this._delegate,e).then(n=>new uc(this.firestore,n))}isEqual(e){return Hue(this._delegate,e._delegate)}withConverter(e){return new nb(this.firestore,e?this._delegate.withConverter(Jp.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function fp(t){return vr(t,As)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(...e){this._delegate=new zf(...e)}static documentId(){return new WV(fs.keyField().canonicalString())}isEqual(e){return e=an(e),e instanceof zf?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e){this._delegate=e}static serverTimestamp(){const e=Hpt();return e._methodName="FieldValue.serverTimestamp",new np(e)}static delete(){const e=Gpt();return e._methodName="FieldValue.delete",new np(e)}static arrayUnion(...e){const n=qpt(...e);return n._methodName="FieldValue.arrayUnion",new np(n)}static arrayRemove(...e){const n=Ypt(...e);return n._methodName="FieldValue.arrayRemove",new np(n)}static increment(e){const n=Kpt(e);return n._methodName="FieldValue.increment",new np(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ngt={Firestore:ude,GeoPoint:nI,Timestamp:ps,Blob:cde,Transaction:dde,WriteBatch:hde,DocumentReference:uc,DocumentSnapshot:o0,Query:Ga,QueryDocumentSnapshot:l0,QuerySnapshot:OM,CollectionReference:nb,FieldPath:WV,FieldValue:np,setLogLevel:egt,CACHE_SIZE_UNLIMITED:ipt};function rgt(t,e){t.INTERNAL.registerComponent(new Xu("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),s=n.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},ngt)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sgt(t){rgt(t,(e,n)=>new ude(e,n,new Xpt)),t.registerVersion(Jpt,Qpt)}sgt(V0);let igt=null;const dE=()=>igt,agt=t=>ss.post(Fse,t).then(e=>{if(e.status>=200||e.status<=299)return e.data;throw e.data}).catch(e=>{let n;if(e.response&&e.response.status)switch(e.response.status){case 404:n="!      ";break;case 500:n="!          ";break;case 401:n="  ";break;default:n=e[1];break}throw n}),ogt=t=>Br(Cnt,t),lgt=t=>Br(Nnt,t),cgt=t=>Br(knt,t),ugt=t=>Br(Ont,t),dgt=(t,e)=>ss.post(t,e).then(n=>{if(n.status>=200||n.status<=299)return n.data;throw n.data}).catch(n=>{var r;if(n.response&&n.response.status)switch(n.response.status){case 404:r="!      ";break;case 500:r="!          ";break;case 401:r="  ";break;default:r=n[1];break}throw r}),hgt=t=>Br(Ant,t),fgt=t=>Br(Int,t),mgt=()=>Bt(Vse),pgt=t=>Bt(`${Use}/${t}`,{params:{id:t}}),ggt=()=>Bt(Jse),ygt=t=>Br(Qse,t),vgt=t=>oh(Zse,t),bgt=t=>pa(Xse,{headers:{event:t}}),_gt=()=>Bt(eie),wgt=t=>Bt(`${zie}/${t}`,{param:t}),xgt=()=>Bt(tie),Egt=()=>Bt(nie),Sgt=()=>Bt(rie),jgt=t=>Bt(`${sie}/${t}`,{params:{roomId:t}}),pde=t=>Br(Wse,t),Tgt=(t,e,n)=>Br(Gse,{selectedmails:t,folderId:e,activeTab:n}),Cgt=()=>Bt(oie),Agt=t=>Br(lie,t),Ngt=t=>oh(cie,t),Igt=t=>pa(uie,{headers:{order:t}}),kgt=()=>Bt(die),Ogt=()=>Bt(hie),Rgt=t=>Br(fie,t),Pgt=t=>oh(mie,t),Dgt=t=>pa(pie,{headers:{customer:t}}),Lgt=()=>Bt(gie),Mgt=()=>Bt(yie),$gt=()=>Bt(vie),Fgt=()=>Bt(bie),Vgt=()=>Bt(_ie),Ugt=t=>Bt(`${wie}/${t}`,{params:{id:t}}),Bgt=()=>Bt(xie),zgt=()=>Bt(Tie),Wgt=()=>Bt(Aie),Ggt=t=>Bt(`${Nie}/${t}`,{params:{id:t}}),Hgt=()=>Bt(Oie),qgt=t=>Br(Pie,t),Ygt=t=>oh(Die,t),Kgt=t=>pa(Rie,{headers:{kanban:t}}),Jgt=()=>Bt(Lie),Qgt=t=>Br($ie,t),Zgt=t=>oh(Fie,t),Xgt=t=>pa(Vie,{headers:{user:t}}),eyt=t=>Br(Eie,t),tyt=t=>oh(Sie,t),nyt=t=>pa(jie,{headers:{job:t}}),ryt=t=>pa(Cie,{headers:{data:t}}),syt=t=>oh(Iie,t),iyt=t=>pa(kie,{headers:{project:t}}),ayt=()=>Bt(Mie),gde=t=>Br(Bse,{params:t}),oyt=t=>pa(Hse,{headers:{mail:t}}),lyt=t=>pa(qse,{headers:{mail:t}}),cyt=t=>pa(Yse,{headers:{mail:t}}),uyt=t=>Bt(`${Kse}/${t}`,{params:{id:t}}),dyt=()=>Bt(zse),hyt=t=>Br(iie,t),fyt=t=>pa(aie,{headers:{data:t}}),myt=t=>Bt(`${Wie}/${t}`,{params:{roomId:t}}),pyt=t=>Bt(`${Gie}/${t}`,{params:{roomId:t}}),gyt=t=>Bt(`${Uie}/${t}`,{params:{roomId:t}}),yyt=t=>Bt(`${Bie}/${t}`,{params:{month:t}}),vyt=t=>Bt(`${Hie}/${t}`,{params:{month:t}}),byt=()=>Bt(qie),_yt=(t,e)=>Br(`${U4}/${e}/${t}`,{params:{commentId:t,productId:e}}),wyt=(t,e,n)=>Br(`${U4}/${e}/${t}/${n}`,{params:{commentId:t,productId:e,replyId:n}}),xyt=(t,e,n)=>Br(`${Yie}/${e}/${t}`,{params:{commentId:t,productId:e,replyText:n}}),Eyt=(t,e)=>Br(`${Kie}/${t}`,{params:{productId:t,commentText:e}});var nP={VITE_API_BASE:"https://api.anbardaranrey.ir/api",VITE_MEDIA_BASE:"https://api.anbardaranrey.ir",VITE_SUPABASE_URL:"https://hcvdgqkhrjkdilqeovkp.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhjdmRncWtocmprZGlscWVvdmtwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxNzkzMDEsImV4cCI6MjA4MDc1NTMwMX0.e5Oeq-1rAgGqIUWp032mESHUADlOk4gtpBmR3-x0Wk4",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Syt=dE();function*jyt({payload:{user:t}}){console.log("using the following url for registration: ");try{if(console.log("Trying to register user (within try block)"),nP.VITE_APP_DEFAULTAUTH==="firebase"){const e=yield ze(Syt.registerUser,t.email,t.password);yield we(ER(e))}else if(nP.VITE_APP_DEFAULTAUTH==="jwt"){const e=yield ze(dgt,"/post-jwt-register",t);yield we(ER(e))}else if(nP.VITE_APP_DEFAULTAUTH==="fake"){const e=yield ze(agt,t);yield we(ER(e))}}catch(e){console.log("There was an error registering: ",e),yield we(U8e(e))}}function*Tyt(){yield dt(D4,jyt)}function*Cyt(){yield eu([Mn(Tyt)])}var Fw={VITE_API_BASE:"https://api.anbardaranrey.ir/api",VITE_MEDIA_BASE:"https://api.anbardaranrey.ir",VITE_SUPABASE_URL:"https://hcvdgqkhrjkdilqeovkp.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhjdmRncWtocmprZGlscWVvdmtwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxNzkzMDEsImV4cCI6MjA4MDc1NTMwMX0.e5Oeq-1rAgGqIUWp032mESHUADlOk4gtpBmR3-x0Wk4",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const yde=dE();function*Ayt({payload:{user:t,history:e}}){try{if(Fw.VITE_APP_DEFAULTAUTH==="firebase"){const n=yield ze(yde.loginUser,t.email,t.password);yield we(Tw(n))}else if(Fw.VITE_APP_DEFAULTAUTH==="jwt"){const n=yield ze(hgt,{email:t.email,password:t.password});localStorage.setItem("authUser",JSON.stringify(n)),yield we(Tw(n))}else if(Fw.VITE_APP_DEFAULTAUTH==="fake"){const n=yield ze(ogt,{email:t.email,password:t.password});localStorage.setItem("authUser",JSON.stringify(n)),yield we(Tw(n))}e("/dashboard")}catch(n){yield we(aN(n))}}function*Nyt({payload:{history:t}}){try{if(localStorage.removeItem("authUser"),Fw.VITE_APP_DEFAULTAUTH==="firebase"){const e=yield ze(yde.logout);yield we(W8e(e))}t("/login")}catch(e){yield we(aN(e))}}function*Iyt({payload:{type:t,history:e}}){try{if(Fw.VITE_APP_DEFAULTAUTH==="firebase"){const n=dE(),r=yield ze(n.socialLoginUser,t);e(r?"/dashboard":"/login"),localStorage.setItem("authUser",JSON.stringify(r)),yield we(Tw(r)),r&&e("/dashboard")}}catch(n){yield we(aN(n))}}function*kyt(){yield dt(bte,Ayt),yield Xst(B8e,Iyt),yield dt(L4,Nyt)}var RH={VITE_API_BASE:"https://api.anbardaranrey.ir/api",VITE_MEDIA_BASE:"https://api.anbardaranrey.ir",VITE_SUPABASE_URL:"https://hcvdgqkhrjkdilqeovkp.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhjdmRncWtocmprZGlscWVvdmtwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxNzkzMDEsImV4cCI6MjA4MDc1NTMwMX0.e5Oeq-1rAgGqIUWp032mESHUADlOk4gtpBmR3-x0Wk4",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Oyt=dE();function*Ryt({payload:{user:t,history:e}}){try{RH.VITE_APP_DEFAULTAUTH==="firebase"?(yield ze(Oyt.forgetPassword,t.email))&&(yield we(SR("Reset link are sended to your mailbox, check there first"))):RH.VITE_APP_DEFAULTAUTH==="jwt"?(yield ze(fgt,"/jwt-forget-pwd",{email:t.email}))&&(yield we(SR("Reset link are sended to your mailbox, check there first"))):(yield ze(lgt,"/fake-forget-pwd",{email:t.email}))&&(yield we(SR("Reset link are sended to your mailbox, check there first")))}catch(n){yield we(G8e(n))}}function*Pyt(){yield dt(Ete,Ryt)}function*Dyt(){yield eu([Mn(Pyt)])}var rP={VITE_API_BASE:"https://api.anbardaranrey.ir/api",VITE_MEDIA_BASE:"https://api.anbardaranrey.ir",VITE_SUPABASE_URL:"https://hcvdgqkhrjkdilqeovkp.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhjdmRncWtocmprZGlscWVvdmtwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxNzkzMDEsImV4cCI6MjA4MDc1NTMwMX0.e5Oeq-1rAgGqIUWp032mESHUADlOk4gtpBmR3-x0Wk4",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Lyt=dE();function*Myt({payload:{user:t}}){try{if(rP.VITE_APP_DEFAULTAUTH==="firebase"){const e=yield ze(Lyt.editProfileAPI,t.username,t.idx);yield we(jR(e))}else if(rP.VITE_APP_DEFAULTAUTH==="jwt"){const e=yield ze(cgt,"/post-jwt-profile",{username:t.username,idx:t.idx});yield we(jR(e))}else if(rP.VITE_APP_DEFAULTAUTH==="fake"){const e=yield ze(ugt,{username:t.username,idx:t.idx});yield we(jR(e))}}catch(e){yield we(q8e(e))}}function*$yt(){yield dt(Tte,Myt)}function*Fyt(){yield eu([Mn($yt)])}function vl(t,e){return document.body&&document.body.setAttribute(t,e),!0}const Vyt=(t,e)=>(document.documentElement&&document.documentElement.setAttribute(t,e),!0);function ol(t,e="toggle"){switch(e){case"add":document.body&&document.body.classList.add(t);break;case"remove":document.body&&document.body.classList.remove(t);break;default:document.body&&document.body.classList.toggle(t);break}return!0}function*Uyt({payload:t}){try{t==="horizontal"&&(document.body.removeAttribute("data-sidebar"),document.body.removeAttribute("data-sidebar-image"),document.body.removeAttribute("data-sidebar-size")),yield ze(vl,"data-layout",t)}catch{}}function*Byt({payload:t}){try{yield ze(Vyt,"data-bs-theme",t)}catch{}}function*zyt({payload:t}){try{t==="boxed"?(yield we(Ef("icon")),yield ze(vl,"data-layout-size",t),yield ze(vl,"data-layout-scrollable",!1)):t==="scrollable"?(yield we(Ef("default")),yield ze(vl,"data-layout-scrollable",!0)):(yield we(Ef("default")),yield ze(vl,"data-layout-size",t),yield ze(vl,"data-layout-scrollable",!1))}catch{}}function*Wyt({payload:t}){try{yield ze(vl,"data-sidebar",t)}catch{}}function*Gyt({payload:t}){try{yield ze(vl,"data-sidebar-image",t)}catch{}}function*Hyt({payload:t}){try{yield ze(vl,"data-topbar",t)}catch{}}function*qyt({payload:{sidebarType:t,isMobile:e}}){try{switch(t){case"compact":yield ze(vl,"data-sidebar-size","small"),yield ze(ol,"sidebar-enable","remove"),yield ze(ol,"vertical-collpsed","remove");break;case"icon":yield ze(vl,"data-sidebar-size",""),yield ze(vl,"data-keep-enlarged","true"),yield ze(ol,"vertical-collpsed","add");break;case"condensed":yield ze(ol,"sidebar-enable","add"),window.screen.width>=992?(yield ze(ol,"vertical-collpsed","remove"),yield ze(ol,"sidebar-enable","remove"),yield ze(ol,"vertical-collpsed","add"),yield ze(ol,"sidebar-enable","add")):(yield ze(ol,"sidebar-enable","add"),yield ze(ol,"vertical-collpsed","add"));break;default:yield ze(vl,"data-sidebar-size",""),yield ze(ol,"sidebar-enable","remove"),e||(yield ze(ol,"vertical-collpsed","remove"));break}}catch{}}function*Yyt(){try{yield ze(ol,"right-bar-enabled","add")}catch{}}function*Kyt(){yield dt(S4,Uyt)}function*Jyt(){yield dt(j4,zyt)}function*Qyt(){yield dt(T4,Wyt)}function*Zyt(){yield dt(C4,Gyt)}function*Xyt(){yield dt(A4,qyt)}function*evt(){yield dt(N4,Hyt)}function*tvt(){yield dt(I4,Yyt)}function*nvt(){yield dt(k4,Byt)}function*rvt(){yield eu([Mn(nvt),Mn(Kyt),Mn(Jyt),Mn(Qyt),Mn(Zyt),Mn(Xyt),Mn(tvt),Mn(evt)])}function*svt(){try{const t=yield ze(mgt);yield we(pWe(t))}catch(t){yield we(gWe(t))}}function*ivt({productId:t}){try{const e=yield ze(pgt,t);yield we(yWe(e))}catch(e){yield we(vWe(e))}}function*avt(){try{const t=yield ze(Cgt);yield we(bWe(t))}catch(t){yield we(_We(t))}}function*ovt(){try{const t=yield ze(kgt);yield we(CWe(t))}catch(t){yield we(AWe(t))}}function*lvt(){try{const t=yield ze(Ogt);yield we(NWe(t))}catch(t){yield we(IWe(t))}}function*cvt({payload:t}){try{const e=yield ze(Pgt,t);yield we(RWe(e)),de.success("     ",{autoClose:2e3})}catch(e){yield we(PWe(e)),de.error("     ",{autoClose:2e3})}}function*uvt({payload:t}){try{const e=yield ze(Dgt,t);yield we(DWe(e)),de.success("    ",{autoClose:2e3})}catch(e){yield we(LWe(e)),de.error("   ",{autoClose:2e3})}}function*dvt({payload:t}){try{const e=yield ze(Rgt,t);yield we(kWe(e)),de.success("    ",{autoClose:2e3})}catch(e){yield we(OWe(e)),de.error("  ",{autoClose:2e3})}}function*hvt(){try{const t=yield ze(Lgt);yield we(MWe(t))}catch(t){yield we($We(t))}}function*fvt({payload:t}){try{const e=yield ze(Ngt,t);yield we(EWe(e)),de.success("       ",{autoClose:2e3})}catch(e){yield we(SWe(e)),de.error("     ",{autoClose:2e3})}}function*mvt({payload:t}){try{const e=yield ze(Igt,t);yield we(jWe(e)),de.success("     ",{autoClose:2e3})}catch(e){yield we(TWe(e)),de.error("  ",{autoClose:2e3})}}function*pvt({payload:t}){try{const e=yield ze(Agt,t);yield we(wWe(e)),de.success("    ",{autoClose:2e3})}catch(e){yield we(xWe(e)),de.error("    ",{autoClose:2e3})}}function*gvt(){try{const t=yield ze(byt);yield we(FWe(t))}catch(t){yield we(VWe(t))}}function*yvt({payload:{commentId:t,productId:e}}){try{const n=yield ze(_yt,t,e);yield we(UWe(n))}catch(n){yield we(BWe(n))}}function*vvt({payload:{commentId:t,productId:e,replyId:n}}){try{const r=yield ze(wyt,t,e,n);yield we(zWe(r))}catch(r){yield we(WWe(r))}}function*bvt({payload:{commentId:t,productId:e,replyText:n}}){try{const r=yield ze(xyt,t,e,n);yield we(GWe(r))}catch(r){yield we(HWe(r))}}function*_vt({payload:{productId:t,commentText:e}}){try{const n=yield ze(Eyt,t,e);yield we(qWe(n))}catch(n){yield we(YWe(n))}}function*wvt(){yield dt(Y8e,svt),yield dt(K8e,ivt),yield dt(iWe,avt),yield dt(cWe,ovt),yield dt(uWe,lvt),yield dt(dWe,dvt),yield dt(hWe,cvt),yield dt(fWe,uvt),yield dt(mWe,hvt),yield dt(aWe,pvt),yield dt(oWe,fvt),yield dt(lWe,mvt),yield dt(J8e,gvt),yield dt(Q8e,yvt),yield dt(X8e,vvt),yield dt(tWe,bvt),yield dt(rWe,_vt)}function*xvt(){try{const t=yield ze(ggt);yield we(eGe(t))}catch(t){yield we(tGe(t))}}function*Evt({payload:t}){try{const e=yield ze(ygt,t);yield we(nGe(e))}catch(e){yield we(rGe(e))}}function*Svt({payload:t}){try{const e=yield ze(vgt,t);yield we(sGe(e))}catch(e){yield we(iGe(e))}}function*jvt({payload:t}){try{const e=yield ze(bgt,t);yield we(aGe(e))}catch(e){yield we(oGe(e))}}function*Tvt(){try{const t=yield ze(_gt);yield we(lGe(t))}catch(t){yield we(cGe(t))}}function*Cvt(){yield dt(KWe,xvt),yield dt(JWe,Evt),yield dt(QWe,Svt),yield dt(ZWe,jvt),yield dt(XWe,Tvt)}function*Avt(){try{const t=yield ze(xgt);yield we(gGe(t))}catch(t){yield we(yGe(t))}}function*Nvt(){try{const t=yield ze(Egt);yield we(vGe(t))}catch(t){yield we(bGe(t))}}function*Ivt(){try{const t=yield ze(Sgt);yield we(_Ge(t))}catch(t){yield we(wGe(t))}}function*kvt({roomId:t}){try{const e=yield ze(jgt,t);yield we(xGe(e))}catch(e){yield we(EGe(e))}}function*Ovt({message:t}){try{const e=yield ze(hyt,t);yield we(SGe(e))}catch(e){yield we(jGe(e))}}function*Rvt({payload:t}){try{const e=yield ze(fyt,t);yield we(TGe(e)),de.success("    ",{autoClose:2e3})}catch(e){yield we(CGe(e)),de.error("  ",{autoClose:2e3})}}function*Pvt(){yield dt(uGe,Avt),yield dt(dGe,Nvt),yield dt(hGe,Ivt),yield dt(fGe,kvt),yield dt(mGe,Ovt),yield dt(pGe,Rvt)}function*Dvt(){try{const t=yield ze(Mgt);yield we(kGe(t))}catch(t){yield we(OGe(t))}}function*Lvt(){try{const t=yield ze($gt);yield we(RGe(t))}catch(t){yield we(PGe(t))}}function*Mvt({payload:t}){try{const e=yield ze(Fgt,t);yield we(DGe(e))}catch(e){yield we(LGe(e))}}function*$vt(){yield dt(AGe,Dvt),yield dt(NGe,Lvt),yield dt(IGe,Mvt)}function*Fvt(){try{const t=yield ze(Vgt);yield we(FGe(t))}catch(t){yield we(VGe(t))}}function*Vvt({invoiceId:t}){try{const e=yield ze(Ugt,t);yield we(UGe(e))}catch(e){yield we(BGe(e))}}function*Uvt(){yield dt(MGe,Fvt),yield dt($Ge,Vvt)}function*Bvt(){try{const t=yield ze(Bgt);yield we(KGe(t))}catch(t){yield we(JGe(t))}}function*zvt({payload:t}){try{const e=yield ze(eyt,t);yield we(QGe(e)),de.success("     ",{autoClose:2e3})}catch(e){yield we(ZGe(e)),de.error("   ",{autoClose:2e3})}}function*Wvt({payload:t}){try{const e=yield ze(tyt,t);yield we(XGe(e)),de.success("      ",{autoClose:2e3})}catch(e){yield we(eHe(e)),de.error("    ",{autoClose:2e3})}}function*Gvt({payload:t}){try{const e=yield ze(nyt,t);yield we(tHe(e)),de.success("     ",{autoClose:2e3})}catch(e){yield we(nHe(e)),de.error("   ",{autoClose:2e3})}}function*Hvt(){try{const t=yield ze(zgt);yield we(rHe(t))}catch(t){yield we(sHe(t))}}function*qvt({payload:t}){try{const e=yield ze(ryt,t);yield we(iHe(e)),de.success("     ",{autoClose:2e3})}catch(e){yield we(aHe(e)),de.error("     ",{autoClose:2e3})}}function*Yvt(){yield dt(zGe,Bvt),yield dt(WGe,zvt),yield dt(GGe,Wvt),yield dt(HGe,Gvt),yield dt(qGe,Hvt),yield dt(YGe,qvt)}function*Kvt(){try{const t=yield ze(Wgt);yield we(dHe(t))}catch(t){yield we(gHe(t))}}function*Jvt({projectId:t}){try{const e=yield ze(Ggt,t);yield we(yHe(e))}catch(e){yield we(vHe(e))}}function*Qvt({payload:t}){try{const e=yield ze(syt,t);yield we(hHe(e)),de.success("       ",{autoClose:2e3})}catch(e){yield we(fHe(e)),de.error("     ",{autoClose:2e3})}}function*Zvt({payload:t}){try{const e=yield ze(iyt,t);yield we(mHe(e)),de.success("    ",{autoClose:2e3})}catch(e){yield we(pHe(e)),de.error("  ",{autoClose:2e3})}}function*Xvt(){yield dt(oHe,Kvt),yield dt(lHe,Jvt),yield dt(cHe,Qvt),yield dt(uHe,Zvt)}function*ebt(){try{const t=yield ze(Hgt);yield we(xHe(t))}catch(t){yield we(EHe(t))}}function*tbt({payload:t}){try{const e=yield ze(Kgt,t);yield we(SHe(e)),de.success("KanBan    ",{autoClose:2e3})}catch(e){yield we(jHe(e)),de.error(" KanBan  ",{autoClose:2e3})}}function*nbt({payload:t}){try{const e=yield ze(qgt,t);yield we(THe(e)),de.success("KanBan    ",{autoClose:2e3})}catch(e){yield we(CHe(e)),de.error("KanBan    ",{autoClose:2e3})}}function*rbt({payload:t}){try{const e=yield ze(Ygt,t);yield we(AHe(e)),de.success("   KanBan  ",{autoClose:2e3})}catch(e){yield we(NHe(e)),de.error(" KanBan  ",{autoClose:2e3})}}function*sbt(){yield dt(bHe,ebt),yield dt(wHe,rbt),yield dt(ire,tbt),yield dt(_He,nbt)}function*ibt({payload:t}){try{const e=yield ze(gde,t);yield we($re(e))}catch(e){yield we(Fre(e))}}function*abt(){try{const t=yield ze(dyt);yield we(tqe(t))}catch(t){yield we(nqe(t))}}function*obt({payload:t}){try{const e=yield ze(pde,t);yield we(Vre(e))}catch(e){yield we(Ure(e))}}function*lbt({payload:{selectedmails:t,folderId:e,activeTab:n}}){try{const r=yield ze(Tgt,t,e);yield we(XHe(r));try{const s=yield ze(gde,parseInt(n));yield we($re(s))}catch(s){yield we(Fre(s))}try{const s=yield ze(pde,null);yield we(Vre(s))}catch(s){yield we(Ure(s))}}catch(r){yield we(eqe(r))}}function*cbt({payload:t}){try{const e=yield ze(oyt,t);yield we(rqe(e))}catch(e){yield we(sqe(e))}}function*ubt({payload:t}){try{const e=yield ze(lyt,t);yield we(iqe(e))}catch(e){yield we(aqe(e))}}function*dbt({payload:t}){try{const e=yield ze(cyt,t);yield we(oqe(e))}catch(e){yield we(lqe(e))}}function*hbt({payload:t}){try{const e=yield ze(uyt,t);yield we(cqe(e))}catch(e){yield we(uqe(e))}}function*fbt(){yield dt(GHe,ibt),yield dt(HHe,abt),yield dt(qHe,obt),yield dt(YHe,lbt),yield dt(KHe,cbt),yield dt(JHe,ubt),yield dt(QHe,dbt),yield dt(ZHe,hbt)}function*mbt(){try{const t=yield ze(Jgt);yield we(DHe(t))}catch(t){yield we($He(t))}}function*pbt(){try{const t=yield ze(ayt);yield we(FHe(t))}catch(t){yield we(VHe(t))}}function*gbt({payload:t}){try{const e=yield ze(Zgt,t);yield we(UHe(e)),de.success("     ",{autoClose:2e3})}catch(e){yield we(BHe(e)),de.error("     ",{autoClose:2e3})}}function*ybt({payload:t}){try{const e=yield ze(Xgt,t);yield we(zHe(e)),de.success("    ",{autoClose:2e3})}catch(e){yield we(WHe(e)),de.error("  ",{autoClose:2e3})}}function*vbt({payload:t}){try{const e=yield ze(Qgt,t);yield we(LHe(e)),de.success("    ",{autoClose:2e3})}catch(e){yield we(MHe(e)),de.error("    ",{autoClose:2e3})}}function*bbt(){yield dt(IHe,mbt),yield dt(kHe,pbt),yield dt(OHe,vbt),yield dt(RHe,gbt),yield dt(PHe,ybt)}function*_bt({payload:t}){try{var e=yield ze(wgt,t);yield we(dqe(jx,e))}catch(n){yield we(hqe(jx,n))}}function*wbt(){yield dt(jx,_bt)}function*xbt(){yield eu([Mn(wbt)])}function*Ebt({payload:t}){try{var e=yield ze(yyt,t);yield we(Yre(Cx,e))}catch(n){yield we(Kre(Cx,n))}}function*Sbt({payload:t}){try{var e=yield ze(vyt,t);yield we(Yre(Ax,e))}catch(n){yield we(Kre(Ax,n))}}function*jbt(){yield dt(Cx,Ebt)}function*Tbt(){yield dt(Ax,Sbt)}function*Cbt(){yield eu([Mn(jbt)],yield eu([Mn(Tbt)]))}function*Abt({payload:t}){try{var e=yield ze(myt,t);yield we(fqe(Tx,e))}catch(n){yield we(mqe(Tx,n))}}function*Nbt(){yield dt(Tx,Abt)}function*Ibt(){yield eu([Mn(Nbt)])}function*kbt({payload:t}){try{var e=yield ze(gyt,t);yield we(pqe(Nx,e))}catch(n){yield we(gqe(Nx,n))}}function*Obt(){yield dt(Nx,kbt)}function*Rbt(){yield eu([Mn(Obt)])}function*Pbt({payload:t}){try{var e=yield ze(pyt,t);yield we(yqe(Ix,e))}catch(n){yield we(vqe(Ix,n))}}function*Dbt(){yield dt(Ix,Pbt)}function*Lbt(){yield eu([Mn(Dbt)])}function*Mbt(){yield eu([Mn(Cyt),Mn(kyt),Mn(Dyt),Mn(Fyt),Mn(rvt),Mn(wvt),Mn(Cvt),Mn(Pvt),Mn(fbt),Mn($vt),Mn(Uvt),Mn(Yvt),Mn(Xvt),Mn(sbt),Mn(bbt),Mn(xbt),Mn(Cbt),Mn(Ibt),Mn(Rbt),Mn(Lbt)])}const vde=cst(),$bt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Xie,Fbt=Zie(Jst,$bt(Znt(vde)));vde.run(Mbt);iP.createRoot(document.getElementById("root")).render(a.jsx(ae.Fragment,{children:a.jsx(G_e,{store:Fbt,children:a.jsx(Vbe,{children:a.jsx(Gnt,{})})})}));Hnt()});export default Vbt();
