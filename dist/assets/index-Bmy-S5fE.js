var Cge=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var T_t=Cge((Tl,Cl)=>{function WH(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var vl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ng(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var GH={exports:{}},UC={},HH={exports:{}},sr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0=Symbol.for("react.element"),Age=Symbol.for("react.portal"),Nge=Symbol.for("react.fragment"),Ige=Symbol.for("react.strict_mode"),kge=Symbol.for("react.profiler"),Oge=Symbol.for("react.provider"),Rge=Symbol.for("react.context"),Pge=Symbol.for("react.forward_ref"),Dge=Symbol.for("react.suspense"),Lge=Symbol.for("react.memo"),Mge=Symbol.for("react.lazy"),m5=Symbol.iterator;function $ge(t){return t===null||typeof t!="object"?null:(t=m5&&t[m5]||t["@@iterator"],typeof t=="function"?t:null)}var qH={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},YH=Object.assign,KH={};function cb(t,e,n){this.props=t,this.context=e,this.refs=KH,this.updater=n||qH}cb.prototype.isReactComponent={};cb.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};cb.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function JH(){}JH.prototype=cb.prototype;function DM(t,e,n){this.props=t,this.context=e,this.refs=KH,this.updater=n||qH}var LM=DM.prototype=new JH;LM.constructor=DM;YH(LM,cb.prototype);LM.isPureReactComponent=!0;var p5=Array.isArray,QH=Object.prototype.hasOwnProperty,MM={current:null},ZH={key:!0,ref:!0,__self:!0,__source:!0};function XH(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)QH.call(e,r)&&!ZH.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:h0,type:t,key:i,ref:o,props:s,_owner:MM.current}}function Fge(t,e){return{$$typeof:h0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $M(t){return typeof t=="object"&&t!==null&&t.$$typeof===h0}function Vge(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var g5=/\/+/g;function Xk(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Vge(""+t.key):e.toString(36)}function Cj(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case h0:case Age:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Xk(o,0):r,p5(s)?(n="",t!=null&&(n=t.replace(g5,"$&/")+"/"),Cj(s,e,n,"",function(u){return u})):s!=null&&($M(s)&&(s=Fge(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(g5,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",p5(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Xk(i,l);o+=Cj(i,e,n,c,s)}else if(c=$ge(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Xk(i,l++),o+=Cj(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function dS(t,e,n){if(t==null)return t;var r=[],s=0;return Cj(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Uge(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var uo={current:null},Aj={transition:null},Bge={ReactCurrentDispatcher:uo,ReactCurrentBatchConfig:Aj,ReactCurrentOwner:MM};function eq(){throw Error("act(...) is not supported in production builds of React.")}sr.Children={map:dS,forEach:function(t,e,n){dS(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return dS(t,function(){e++}),e},toArray:function(t){return dS(t,function(e){return e})||[]},only:function(t){if(!$M(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};sr.Component=cb;sr.Fragment=Nge;sr.Profiler=kge;sr.PureComponent=DM;sr.StrictMode=Ige;sr.Suspense=Dge;sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bge;sr.act=eq;sr.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=YH({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=MM.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)QH.call(e,c)&&!ZH.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:h0,type:t.type,key:s,ref:i,props:r,_owner:o}};sr.createContext=function(t){return t={$$typeof:Rge,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Oge,_context:t},t.Consumer=t};sr.createElement=XH;sr.createFactory=function(t){var e=XH.bind(null,t);return e.type=t,e};sr.createRef=function(){return{current:null}};sr.forwardRef=function(t){return{$$typeof:Pge,render:t}};sr.isValidElement=$M;sr.lazy=function(t){return{$$typeof:Mge,_payload:{_status:-1,_result:t},_init:Uge}};sr.memo=function(t,e){return{$$typeof:Lge,type:t,compare:e===void 0?null:e}};sr.startTransition=function(t){var e=Aj.transition;Aj.transition={};try{t()}finally{Aj.transition=e}};sr.unstable_act=eq;sr.useCallback=function(t,e){return uo.current.useCallback(t,e)};sr.useContext=function(t){return uo.current.useContext(t)};sr.useDebugValue=function(){};sr.useDeferredValue=function(t){return uo.current.useDeferredValue(t)};sr.useEffect=function(t,e){return uo.current.useEffect(t,e)};sr.useId=function(){return uo.current.useId()};sr.useImperativeHandle=function(t,e,n){return uo.current.useImperativeHandle(t,e,n)};sr.useInsertionEffect=function(t,e){return uo.current.useInsertionEffect(t,e)};sr.useLayoutEffect=function(t,e){return uo.current.useLayoutEffect(t,e)};sr.useMemo=function(t,e){return uo.current.useMemo(t,e)};sr.useReducer=function(t,e,n){return uo.current.useReducer(t,e,n)};sr.useRef=function(t){return uo.current.useRef(t)};sr.useState=function(t){return uo.current.useState(t)};sr.useSyncExternalStore=function(t,e,n){return uo.current.useSyncExternalStore(t,e,n)};sr.useTransition=function(){return uo.current.useTransition()};sr.version="18.3.1";HH.exports=sr;var C=HH.exports;const oe=Qo(C),iP=WH({__proto__:null,default:oe},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zge=C,Wge=Symbol.for("react.element"),Gge=Symbol.for("react.fragment"),Hge=Object.prototype.hasOwnProperty,qge=zge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yge={key:!0,ref:!0,__self:!0,__source:!0};function tq(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Hge.call(e,r)&&!Yge.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Wge,type:t,key:i,ref:o,props:s,_owner:qge.current}}UC.Fragment=Gge;UC.jsx=tq;UC.jsxs=tq;GH.exports=UC;var a=GH.exports,aP={},nq={exports:{}},Ll={},rq={exports:{}},sq={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(te,ce){var ve=te.length;te.push(ce);e:for(;0<ve;){var Ue=ve-1>>>1,Ae=te[Ue];if(0<s(Ae,ce))te[Ue]=ce,te[ve]=Ae,ve=Ue;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var ce=te[0],ve=te.pop();if(ve!==ce){te[0]=ve;e:for(var Ue=0,Ae=te.length,at=Ae>>>1;Ue<at;){var it=2*(Ue+1)-1,Te=te[it],Tt=it+1,ct=te[Tt];if(0>s(Te,ve))Tt<Ae&&0>s(ct,Te)?(te[Ue]=ct,te[Tt]=ve,Ue=Tt):(te[Ue]=Te,te[it]=ve,Ue=it);else if(Tt<Ae&&0>s(ct,ve))te[Ue]=ct,te[Tt]=ve,Ue=Tt;else break e}}return ce}function s(te,ce){var ve=te.sortIndex-ce.sortIndex;return ve!==0?ve:te.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,m=3,p=!1,y=!1,w=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(te){for(var ce=n(u);ce!==null;){if(ce.callback===null)r(u);else if(ce.startTime<=te)r(u),ce.sortIndex=ce.expirationTime,e(c,ce);else break;ce=n(u)}}function T(te){if(w=!1,E(te),!y)if(n(c)!==null)y=!0,Y(N);else{var ce=n(u);ce!==null&&ne(T,ce.startTime-te)}}function N(te,ce){y=!1,w&&(w=!1,x(F),F=-1),p=!0;var ve=m;try{for(E(ce),h=n(c);h!==null&&(!(h.expirationTime>ce)||te&&!U());){var Ue=h.callback;if(typeof Ue=="function"){h.callback=null,m=h.priorityLevel;var Ae=Ue(h.expirationTime<=ce);ce=t.unstable_now(),typeof Ae=="function"?h.callback=Ae:h===n(c)&&r(c),E(ce)}else r(c);h=n(c)}if(h!==null)var at=!0;else{var it=n(u);it!==null&&ne(T,it.startTime-ce),at=!1}return at}finally{h=null,m=ve,p=!1}}var D=!1,O=null,F=-1,V=5,z=-1;function U(){return!(t.unstable_now()-z<V)}function H(){if(O!==null){var te=t.unstable_now();z=te;var ce=!0;try{ce=O(!0,te)}finally{ce?J():(D=!1,O=null)}}else D=!1}var J;if(typeof _=="function")J=function(){_(H)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,L=q.port2;q.port1.onmessage=H,J=function(){L.postMessage(null)}}else J=function(){v(H,0)};function Y(te){O=te,D||(D=!0,J())}function ne(te,ce){F=v(function(){te(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,Y(N))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(te){switch(m){case 1:case 2:case 3:var ce=3;break;default:ce=m}var ve=m;m=ce;try{return te()}finally{m=ve}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,ce){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ve=m;m=te;try{return ce()}finally{m=ve}},t.unstable_scheduleCallback=function(te,ce,ve){var Ue=t.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Ue+ve:Ue):ve=Ue,te){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=ve+Ae,te={id:d++,callback:ce,priorityLevel:te,startTime:ve,expirationTime:Ae,sortIndex:-1},ve>Ue?(te.sortIndex=ve,e(u,te),n(c)===null&&te===n(u)&&(w?(x(F),F=-1):w=!0,ne(T,ve-Ue))):(te.sortIndex=Ae,e(c,te),y||p||(y=!0,Y(N))),te},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(te){var ce=m;return function(){var ve=m;m=ce;try{return te.apply(this,arguments)}finally{m=ve}}}})(sq);rq.exports=sq;var Kge=rq.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jge=C,Il=Kge;function et(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iq=new Set,Ww={};function rg(t,e){Cv(t,e),Cv(t+"Capture",e)}function Cv(t,e){for(Ww[t]=e,t=0;t<e.length;t++)iq.add(e[t])}var Yd=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oP=Object.prototype.hasOwnProperty,Qge=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y5={},v5={};function Zge(t){return oP.call(v5,t)?!0:oP.call(y5,t)?!1:Qge.test(t)?v5[t]=!0:(y5[t]=!0,!1)}function Xge(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function eye(t,e,n,r){if(e===null||typeof e>"u"||Xge(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ho(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ya={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ya[t]=new ho(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ya[e]=new ho(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ya[t]=new ho(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ya[t]=new ho(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ya[t]=new ho(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ya[t]=new ho(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ya[t]=new ho(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ya[t]=new ho(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ya[t]=new ho(t,5,!1,t.toLowerCase(),null,!1,!1)});var FM=/[\-:]([a-z])/g;function VM(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(FM,VM);ya[e]=new ho(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(FM,VM);ya[e]=new ho(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(FM,VM);ya[e]=new ho(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ya[t]=new ho(t,1,!1,t.toLowerCase(),null,!1,!1)});ya.xlinkHref=new ho("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ya[t]=new ho(t,1,!1,t.toLowerCase(),null,!0,!0)});function UM(t,e,n,r){var s=ya.hasOwnProperty(e)?ya[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(eye(e,n,s,r)&&(n=null),r||s===null?Zge(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ah=Jge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hS=Symbol.for("react.element"),Dy=Symbol.for("react.portal"),Ly=Symbol.for("react.fragment"),BM=Symbol.for("react.strict_mode"),lP=Symbol.for("react.profiler"),aq=Symbol.for("react.provider"),oq=Symbol.for("react.context"),zM=Symbol.for("react.forward_ref"),cP=Symbol.for("react.suspense"),uP=Symbol.for("react.suspense_list"),WM=Symbol.for("react.memo"),Hh=Symbol.for("react.lazy"),lq=Symbol.for("react.offscreen"),b5=Symbol.iterator;function m_(t){return t===null||typeof t!="object"?null:(t=b5&&t[b5]||t["@@iterator"],typeof t=="function"?t:null)}var Is=Object.assign,eO;function G_(t){if(eO===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);eO=e&&e[1]||""}return`
`+eO+t}var tO=!1;function nO(t,e){if(!t||tO)return"";tO=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{tO=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?G_(t):""}function tye(t){switch(t.tag){case 5:return G_(t.type);case 16:return G_("Lazy");case 13:return G_("Suspense");case 19:return G_("SuspenseList");case 0:case 2:case 15:return t=nO(t.type,!1),t;case 11:return t=nO(t.type.render,!1),t;case 1:return t=nO(t.type,!0),t;default:return""}}function dP(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ly:return"Fragment";case Dy:return"Portal";case lP:return"Profiler";case BM:return"StrictMode";case cP:return"Suspense";case uP:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case oq:return(t.displayName||"Context")+".Consumer";case aq:return(t._context.displayName||"Context")+".Provider";case zM:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case WM:return e=t.displayName||null,e!==null?e:dP(t.type)||"Memo";case Hh:e=t._payload,t=t._init;try{return dP(t(e))}catch{}}return null}function nye(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dP(e);case 8:return e===BM?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Nf(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cq(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rye(t){var e=cq(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fS(t){t._valueTracker||(t._valueTracker=rye(t))}function uq(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cq(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function v1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hP(t,e){var n=e.checked;return Is({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function _5(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Nf(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dq(t,e){e=e.checked,e!=null&&UM(t,"checked",e,!1)}function fP(t,e){dq(t,e);var n=Nf(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mP(t,e.type,n):e.hasOwnProperty("defaultValue")&&mP(t,e.type,Nf(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function w5(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function mP(t,e,n){(e!=="number"||v1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var H_=Array.isArray;function ev(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Nf(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function pP(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(et(91));return Is({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function x5(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(et(92));if(H_(n)){if(1<n.length)throw Error(et(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Nf(n)}}function hq(t,e){var n=Nf(e.value),r=Nf(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function E5(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fq(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gP(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fq(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mS,mq=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(mS=mS||document.createElement("div"),mS.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mS.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gw(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fw={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sye=["Webkit","ms","Moz","O"];Object.keys(fw).forEach(function(t){sye.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fw[e]=fw[t]})});function pq(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fw.hasOwnProperty(t)&&fw[t]?(""+e).trim():e+"px"}function gq(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=pq(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var iye=Is({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yP(t,e){if(e){if(iye[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(et(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(et(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(et(61))}if(e.style!=null&&typeof e.style!="object")throw Error(et(62))}}function vP(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bP=null;function GM(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _P=null,tv=null,nv=null;function S5(t){if(t=p0(t)){if(typeof _P!="function")throw Error(et(280));var e=t.stateNode;e&&(e=HC(e),_P(t.stateNode,t.type,e))}}function yq(t){tv?nv?nv.push(t):nv=[t]:tv=t}function vq(){if(tv){var t=tv,e=nv;if(nv=tv=null,S5(t),e)for(t=0;t<e.length;t++)S5(e[t])}}function bq(t,e){return t(e)}function _q(){}var rO=!1;function wq(t,e,n){if(rO)return t(e,n);rO=!0;try{return bq(t,e,n)}finally{rO=!1,(tv!==null||nv!==null)&&(_q(),vq())}}function Hw(t,e){var n=t.stateNode;if(n===null)return null;var r=HC(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(et(231,e,typeof n));return n}var wP=!1;if(Yd)try{var p_={};Object.defineProperty(p_,"passive",{get:function(){wP=!0}}),window.addEventListener("test",p_,p_),window.removeEventListener("test",p_,p_)}catch{wP=!1}function aye(t,e,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var mw=!1,b1=null,_1=!1,xP=null,oye={onError:function(t){mw=!0,b1=t}};function lye(t,e,n,r,s,i,o,l,c){mw=!1,b1=null,aye.apply(oye,arguments)}function cye(t,e,n,r,s,i,o,l,c){if(lye.apply(this,arguments),mw){if(mw){var u=b1;mw=!1,b1=null}else throw Error(et(198));_1||(_1=!0,xP=u)}}function sg(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xq(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function j5(t){if(sg(t)!==t)throw Error(et(188))}function uye(t){var e=t.alternate;if(!e){if(e=sg(t),e===null)throw Error(et(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return j5(s),t;if(i===r)return j5(s),e;i=i.sibling}throw Error(et(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(et(189))}}if(n.alternate!==r)throw Error(et(190))}if(n.tag!==3)throw Error(et(188));return n.stateNode.current===n?t:e}function Eq(t){return t=uye(t),t!==null?Sq(t):null}function Sq(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Sq(t);if(e!==null)return e;t=t.sibling}return null}var jq=Il.unstable_scheduleCallback,T5=Il.unstable_cancelCallback,dye=Il.unstable_shouldYield,hye=Il.unstable_requestPaint,si=Il.unstable_now,fye=Il.unstable_getCurrentPriorityLevel,HM=Il.unstable_ImmediatePriority,Tq=Il.unstable_UserBlockingPriority,w1=Il.unstable_NormalPriority,mye=Il.unstable_LowPriority,Cq=Il.unstable_IdlePriority,BC=null,Ku=null;function pye(t){if(Ku&&typeof Ku.onCommitFiberRoot=="function")try{Ku.onCommitFiberRoot(BC,t,void 0,(t.current.flags&128)===128)}catch{}}var Qc=Math.clz32?Math.clz32:vye,gye=Math.log,yye=Math.LN2;function vye(t){return t>>>=0,t===0?32:31-(gye(t)/yye|0)|0}var pS=64,gS=4194304;function q_(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function x1(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=q_(l):(i&=o,i!==0&&(r=q_(i)))}else o=n&~s,o!==0?r=q_(o):i!==0&&(r=q_(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qc(e),s=1<<n,r|=t[n],e&=~s;return r}function bye(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _ye(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Qc(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=bye(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function EP(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Aq(){var t=pS;return pS<<=1,!(pS&4194240)&&(pS=64),t}function sO(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function f0(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qc(e),t[e]=n}function wye(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Qc(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function qM(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qc(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Pr=0;function Nq(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Iq,YM,kq,Oq,Rq,SP=!1,yS=[],ff=null,mf=null,pf=null,qw=new Map,Yw=new Map,Kh=[],xye="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C5(t,e){switch(t){case"focusin":case"focusout":ff=null;break;case"dragenter":case"dragleave":mf=null;break;case"mouseover":case"mouseout":pf=null;break;case"pointerover":case"pointerout":qw.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yw.delete(e.pointerId)}}function g_(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=p0(e),e!==null&&YM(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Eye(t,e,n,r,s){switch(e){case"focusin":return ff=g_(ff,t,e,n,r,s),!0;case"dragenter":return mf=g_(mf,t,e,n,r,s),!0;case"mouseover":return pf=g_(pf,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return qw.set(i,g_(qw.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Yw.set(i,g_(Yw.get(i)||null,t,e,n,r,s)),!0}return!1}function Pq(t){var e=lp(t.target);if(e!==null){var n=sg(e);if(n!==null){if(e=n.tag,e===13){if(e=xq(n),e!==null){t.blockedOn=e,Rq(t.priority,function(){kq(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nj(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jP(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);bP=r,n.target.dispatchEvent(r),bP=null}else return e=p0(n),e!==null&&YM(e),t.blockedOn=n,!1;e.shift()}return!0}function A5(t,e,n){Nj(t)&&n.delete(e)}function Sye(){SP=!1,ff!==null&&Nj(ff)&&(ff=null),mf!==null&&Nj(mf)&&(mf=null),pf!==null&&Nj(pf)&&(pf=null),qw.forEach(A5),Yw.forEach(A5)}function y_(t,e){t.blockedOn===e&&(t.blockedOn=null,SP||(SP=!0,Il.unstable_scheduleCallback(Il.unstable_NormalPriority,Sye)))}function Kw(t){function e(s){return y_(s,t)}if(0<yS.length){y_(yS[0],t);for(var n=1;n<yS.length;n++){var r=yS[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ff!==null&&y_(ff,t),mf!==null&&y_(mf,t),pf!==null&&y_(pf,t),qw.forEach(e),Yw.forEach(e),n=0;n<Kh.length;n++)r=Kh[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Kh.length&&(n=Kh[0],n.blockedOn===null);)Pq(n),n.blockedOn===null&&Kh.shift()}var rv=ah.ReactCurrentBatchConfig,E1=!0;function jye(t,e,n,r){var s=Pr,i=rv.transition;rv.transition=null;try{Pr=1,KM(t,e,n,r)}finally{Pr=s,rv.transition=i}}function Tye(t,e,n,r){var s=Pr,i=rv.transition;rv.transition=null;try{Pr=4,KM(t,e,n,r)}finally{Pr=s,rv.transition=i}}function KM(t,e,n,r){if(E1){var s=jP(t,e,n,r);if(s===null)mO(t,e,r,S1,n),C5(t,r);else if(Eye(s,t,e,n,r))r.stopPropagation();else if(C5(t,r),e&4&&-1<xye.indexOf(t)){for(;s!==null;){var i=p0(s);if(i!==null&&Iq(i),i=jP(t,e,n,r),i===null&&mO(t,e,r,S1,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else mO(t,e,r,null,n)}}var S1=null;function jP(t,e,n,r){if(S1=null,t=GM(r),t=lp(t),t!==null)if(e=sg(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xq(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return S1=t,null}function Dq(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fye()){case HM:return 1;case Tq:return 4;case w1:case mye:return 16;case Cq:return 536870912;default:return 16}default:return 16}}var tf=null,JM=null,Ij=null;function Lq(){if(Ij)return Ij;var t,e=JM,n=e.length,r,s="value"in tf?tf.value:tf.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ij=s.slice(t,1<r?1-r:void 0)}function kj(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vS(){return!0}function N5(){return!1}function Ml(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?vS:N5,this.isPropagationStopped=N5,this}return Is(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vS)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vS)},persist:function(){},isPersistent:vS}),e}var ub={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},QM=Ml(ub),m0=Is({},ub,{view:0,detail:0}),Cye=Ml(m0),iO,aO,v_,zC=Is({},m0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ZM,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==v_&&(v_&&t.type==="mousemove"?(iO=t.screenX-v_.screenX,aO=t.screenY-v_.screenY):aO=iO=0,v_=t),iO)},movementY:function(t){return"movementY"in t?t.movementY:aO}}),I5=Ml(zC),Aye=Is({},zC,{dataTransfer:0}),Nye=Ml(Aye),Iye=Is({},m0,{relatedTarget:0}),oO=Ml(Iye),kye=Is({},ub,{animationName:0,elapsedTime:0,pseudoElement:0}),Oye=Ml(kye),Rye=Is({},ub,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pye=Ml(Rye),Dye=Is({},ub,{data:0}),k5=Ml(Dye),Lye={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mye={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$ye={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fye(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$ye[t])?!!e[t]:!1}function ZM(){return Fye}var Vye=Is({},m0,{key:function(t){if(t.key){var e=Lye[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=kj(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mye[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ZM,charCode:function(t){return t.type==="keypress"?kj(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kj(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uye=Ml(Vye),Bye=Is({},zC,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O5=Ml(Bye),zye=Is({},m0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ZM}),Wye=Ml(zye),Gye=Is({},ub,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hye=Ml(Gye),qye=Is({},zC,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Yye=Ml(qye),Kye=[9,13,27,32],XM=Yd&&"CompositionEvent"in window,pw=null;Yd&&"documentMode"in document&&(pw=document.documentMode);var Jye=Yd&&"TextEvent"in window&&!pw,Mq=Yd&&(!XM||pw&&8<pw&&11>=pw),R5=" ",P5=!1;function $q(t,e){switch(t){case"keyup":return Kye.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fq(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var My=!1;function Qye(t,e){switch(t){case"compositionend":return Fq(e);case"keypress":return e.which!==32?null:(P5=!0,R5);case"textInput":return t=e.data,t===R5&&P5?null:t;default:return null}}function Zye(t,e){if(My)return t==="compositionend"||!XM&&$q(t,e)?(t=Lq(),Ij=JM=tf=null,My=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Mq&&e.locale!=="ko"?null:e.data;default:return null}}var Xye={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Xye[t.type]:e==="textarea"}function Vq(t,e,n,r){yq(r),e=j1(e,"onChange"),0<e.length&&(n=new QM("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var gw=null,Jw=null;function eve(t){Qq(t,0)}function WC(t){var e=Vy(t);if(uq(e))return t}function tve(t,e){if(t==="change")return e}var Uq=!1;if(Yd){var lO;if(Yd){var cO="oninput"in document;if(!cO){var L5=document.createElement("div");L5.setAttribute("oninput","return;"),cO=typeof L5.oninput=="function"}lO=cO}else lO=!1;Uq=lO&&(!document.documentMode||9<document.documentMode)}function M5(){gw&&(gw.detachEvent("onpropertychange",Bq),Jw=gw=null)}function Bq(t){if(t.propertyName==="value"&&WC(Jw)){var e=[];Vq(e,Jw,t,GM(t)),wq(eve,e)}}function nve(t,e,n){t==="focusin"?(M5(),gw=e,Jw=n,gw.attachEvent("onpropertychange",Bq)):t==="focusout"&&M5()}function rve(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return WC(Jw)}function sve(t,e){if(t==="click")return WC(e)}function ive(t,e){if(t==="input"||t==="change")return WC(e)}function ave(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var eu=typeof Object.is=="function"?Object.is:ave;function Qw(t,e){if(eu(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!oP.call(e,s)||!eu(t[s],e[s]))return!1}return!0}function $5(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function F5(t,e){var n=$5(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$5(n)}}function zq(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zq(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Wq(){for(var t=window,e=v1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=v1(t.document)}return e}function e$(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ove(t){var e=Wq(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&zq(n.ownerDocument.documentElement,n)){if(r!==null&&e$(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=F5(n,i);var o=F5(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lve=Yd&&"documentMode"in document&&11>=document.documentMode,$y=null,TP=null,yw=null,CP=!1;function V5(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;CP||$y==null||$y!==v1(r)||(r=$y,"selectionStart"in r&&e$(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yw&&Qw(yw,r)||(yw=r,r=j1(TP,"onSelect"),0<r.length&&(e=new QM("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$y)))}function bS(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fy={animationend:bS("Animation","AnimationEnd"),animationiteration:bS("Animation","AnimationIteration"),animationstart:bS("Animation","AnimationStart"),transitionend:bS("Transition","TransitionEnd")},uO={},Gq={};Yd&&(Gq=document.createElement("div").style,"AnimationEvent"in window||(delete Fy.animationend.animation,delete Fy.animationiteration.animation,delete Fy.animationstart.animation),"TransitionEvent"in window||delete Fy.transitionend.transition);function GC(t){if(uO[t])return uO[t];if(!Fy[t])return t;var e=Fy[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Gq)return uO[t]=e[n];return t}var Hq=GC("animationend"),qq=GC("animationiteration"),Yq=GC("animationstart"),Kq=GC("transitionend"),Jq=new Map,U5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yf(t,e){Jq.set(t,e),rg(e,[t])}for(var dO=0;dO<U5.length;dO++){var hO=U5[dO],cve=hO.toLowerCase(),uve=hO[0].toUpperCase()+hO.slice(1);Yf(cve,"on"+uve)}Yf(Hq,"onAnimationEnd");Yf(qq,"onAnimationIteration");Yf(Yq,"onAnimationStart");Yf("dblclick","onDoubleClick");Yf("focusin","onFocus");Yf("focusout","onBlur");Yf(Kq,"onTransitionEnd");Cv("onMouseEnter",["mouseout","mouseover"]);Cv("onMouseLeave",["mouseout","mouseover"]);Cv("onPointerEnter",["pointerout","pointerover"]);Cv("onPointerLeave",["pointerout","pointerover"]);rg("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rg("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rg("onBeforeInput",["compositionend","keypress","textInput","paste"]);rg("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rg("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rg("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Y_="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dve=new Set("cancel close invalid load scroll toggle".split(" ").concat(Y_));function B5(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,cye(r,e,void 0,t),t.currentTarget=null}function Qq(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;B5(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;B5(s,l,u),i=c}}}if(_1)throw t=xP,_1=!1,xP=null,t}function Zr(t,e){var n=e[OP];n===void 0&&(n=e[OP]=new Set);var r=t+"__bubble";n.has(r)||(Zq(e,t,2,!1),n.add(r))}function fO(t,e,n){var r=0;e&&(r|=4),Zq(n,t,r,e)}var _S="_reactListening"+Math.random().toString(36).slice(2);function Zw(t){if(!t[_S]){t[_S]=!0,iq.forEach(function(n){n!=="selectionchange"&&(dve.has(n)||fO(n,!1,t),fO(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_S]||(e[_S]=!0,fO("selectionchange",!1,e))}}function Zq(t,e,n,r){switch(Dq(e)){case 1:var s=jye;break;case 4:s=Tye;break;default:s=KM}n=s.bind(null,e,n,t),s=void 0,!wP||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function mO(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=lp(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}wq(function(){var u=i,d=GM(n),h=[];e:{var m=Jq.get(t);if(m!==void 0){var p=QM,y=t;switch(t){case"keypress":if(kj(n)===0)break e;case"keydown":case"keyup":p=Uye;break;case"focusin":y="focus",p=oO;break;case"focusout":y="blur",p=oO;break;case"beforeblur":case"afterblur":p=oO;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=I5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Nye;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Wye;break;case Hq:case qq:case Yq:p=Oye;break;case Kq:p=Hye;break;case"scroll":p=Cye;break;case"wheel":p=Yye;break;case"copy":case"cut":case"paste":p=Pye;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=O5}var w=(e&4)!==0,v=!w&&t==="scroll",x=w?m!==null?m+"Capture":null:m;w=[];for(var _=u,E;_!==null;){E=_;var T=E.stateNode;if(E.tag===5&&T!==null&&(E=T,x!==null&&(T=Hw(_,x),T!=null&&w.push(Xw(_,T,E)))),v)break;_=_.return}0<w.length&&(m=new p(m,y,null,n,d),h.push({event:m,listeners:w}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==bP&&(y=n.relatedTarget||n.fromElement)&&(lp(y)||y[Kd]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?lp(y):null,y!==null&&(v=sg(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(w=I5,T="onMouseLeave",x="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(w=O5,T="onPointerLeave",x="onPointerEnter",_="pointer"),v=p==null?m:Vy(p),E=y==null?m:Vy(y),m=new w(T,_+"leave",p,n,d),m.target=v,m.relatedTarget=E,T=null,lp(d)===u&&(w=new w(x,_+"enter",y,n,d),w.target=E,w.relatedTarget=v,T=w),v=T,p&&y)t:{for(w=p,x=y,_=0,E=w;E;E=Zg(E))_++;for(E=0,T=x;T;T=Zg(T))E++;for(;0<_-E;)w=Zg(w),_--;for(;0<E-_;)x=Zg(x),E--;for(;_--;){if(w===x||x!==null&&w===x.alternate)break t;w=Zg(w),x=Zg(x)}w=null}else w=null;p!==null&&z5(h,m,p,w,!1),y!==null&&v!==null&&z5(h,v,y,w,!0)}}e:{if(m=u?Vy(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var N=tve;else if(D5(m))if(Uq)N=ive;else{N=rve;var D=nve}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=sve);if(N&&(N=N(t,u))){Vq(h,N,n,d);break e}D&&D(t,m,u),t==="focusout"&&(D=m._wrapperState)&&D.controlled&&m.type==="number"&&mP(m,"number",m.value)}switch(D=u?Vy(u):window,t){case"focusin":(D5(D)||D.contentEditable==="true")&&($y=D,TP=u,yw=null);break;case"focusout":yw=TP=$y=null;break;case"mousedown":CP=!0;break;case"contextmenu":case"mouseup":case"dragend":CP=!1,V5(h,n,d);break;case"selectionchange":if(lve)break;case"keydown":case"keyup":V5(h,n,d)}var O;if(XM)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else My?$q(t,n)&&(F="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(Mq&&n.locale!=="ko"&&(My||F!=="onCompositionStart"?F==="onCompositionEnd"&&My&&(O=Lq()):(tf=d,JM="value"in tf?tf.value:tf.textContent,My=!0)),D=j1(u,F),0<D.length&&(F=new k5(F,t,null,n,d),h.push({event:F,listeners:D}),O?F.data=O:(O=Fq(n),O!==null&&(F.data=O)))),(O=Jye?Qye(t,n):Zye(t,n))&&(u=j1(u,"onBeforeInput"),0<u.length&&(d=new k5("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=O))}Qq(h,e)})}function Xw(t,e,n){return{instance:t,listener:e,currentTarget:n}}function j1(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Hw(t,n),i!=null&&r.unshift(Xw(t,i,s)),i=Hw(t,e),i!=null&&r.push(Xw(t,i,s))),t=t.return}return r}function Zg(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function z5(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Hw(n,i),c!=null&&o.unshift(Xw(n,c,l))):s||(c=Hw(n,i),c!=null&&o.push(Xw(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var hve=/\r\n?/g,fve=/\u0000|\uFFFD/g;function W5(t){return(typeof t=="string"?t:""+t).replace(hve,`
`).replace(fve,"")}function wS(t,e,n){if(e=W5(e),W5(t)!==e&&n)throw Error(et(425))}function T1(){}var AP=null,NP=null;function IP(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kP=typeof setTimeout=="function"?setTimeout:void 0,mve=typeof clearTimeout=="function"?clearTimeout:void 0,G5=typeof Promise=="function"?Promise:void 0,pve=typeof queueMicrotask=="function"?queueMicrotask:typeof G5<"u"?function(t){return G5.resolve(null).then(t).catch(gve)}:kP;function gve(t){setTimeout(function(){throw t})}function pO(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Kw(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Kw(e)}function gf(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function H5(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var db=Math.random().toString(36).slice(2),Lu="__reactFiber$"+db,ex="__reactProps$"+db,Kd="__reactContainer$"+db,OP="__reactEvents$"+db,yve="__reactListeners$"+db,vve="__reactHandles$"+db;function lp(t){var e=t[Lu];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Kd]||n[Lu]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=H5(t);t!==null;){if(n=t[Lu])return n;t=H5(t)}return e}t=n,n=t.parentNode}return null}function p0(t){return t=t[Lu]||t[Kd],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vy(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(et(33))}function HC(t){return t[ex]||null}var RP=[],Uy=-1;function Kf(t){return{current:t}}function ss(t){0>Uy||(t.current=RP[Uy],RP[Uy]=null,Uy--)}function qr(t,e){Uy++,RP[Uy]=t.current,t.current=e}var If={},La=Kf(If),Bo=Kf(!1),Ip=If;function Av(t,e){var n=t.type.contextTypes;if(!n)return If;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function zo(t){return t=t.childContextTypes,t!=null}function C1(){ss(Bo),ss(La)}function q5(t,e,n){if(La.current!==If)throw Error(et(168));qr(La,e),qr(Bo,n)}function Xq(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(et(108,nye(t)||"Unknown",s));return Is({},n,r)}function A1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||If,Ip=La.current,qr(La,t),qr(Bo,Bo.current),!0}function Y5(t,e,n){var r=t.stateNode;if(!r)throw Error(et(169));n?(t=Xq(t,e,Ip),r.__reactInternalMemoizedMergedChildContext=t,ss(Bo),ss(La),qr(La,t)):ss(Bo),qr(Bo,n)}var Od=null,qC=!1,gO=!1;function e7(t){Od===null?Od=[t]:Od.push(t)}function bve(t){qC=!0,e7(t)}function Jf(){if(!gO&&Od!==null){gO=!0;var t=0,e=Pr;try{var n=Od;for(Pr=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Od=null,qC=!1}catch(s){throw Od!==null&&(Od=Od.slice(t+1)),jq(HM,Jf),s}finally{Pr=e,gO=!1}}return null}var By=[],zy=0,N1=null,I1=0,oc=[],lc=0,kp=null,Ld=1,Md="";function $m(t,e){By[zy++]=I1,By[zy++]=N1,N1=t,I1=e}function t7(t,e,n){oc[lc++]=Ld,oc[lc++]=Md,oc[lc++]=kp,kp=t;var r=Ld;t=Md;var s=32-Qc(r)-1;r&=~(1<<s),n+=1;var i=32-Qc(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ld=1<<32-Qc(e)+s|n<<s|r,Md=i+t}else Ld=1<<i|n<<s|r,Md=t}function t$(t){t.return!==null&&($m(t,1),t7(t,1,0))}function n$(t){for(;t===N1;)N1=By[--zy],By[zy]=null,I1=By[--zy],By[zy]=null;for(;t===kp;)kp=oc[--lc],oc[lc]=null,Md=oc[--lc],oc[lc]=null,Ld=oc[--lc],oc[lc]=null}var Al=null,Sl=null,fs=!1,Gc=null;function n7(t,e){var n=fc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function K5(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Al=t,Sl=gf(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Al=t,Sl=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=kp!==null?{id:Ld,overflow:Md}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fc(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Al=t,Sl=null,!0):!1;default:return!1}}function PP(t){return(t.mode&1)!==0&&(t.flags&128)===0}function DP(t){if(fs){var e=Sl;if(e){var n=e;if(!K5(t,e)){if(PP(t))throw Error(et(418));e=gf(n.nextSibling);var r=Al;e&&K5(t,e)?n7(r,n):(t.flags=t.flags&-4097|2,fs=!1,Al=t)}}else{if(PP(t))throw Error(et(418));t.flags=t.flags&-4097|2,fs=!1,Al=t}}}function J5(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Al=t}function xS(t){if(t!==Al)return!1;if(!fs)return J5(t),fs=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!IP(t.type,t.memoizedProps)),e&&(e=Sl)){if(PP(t))throw r7(),Error(et(418));for(;e;)n7(t,e),e=gf(e.nextSibling)}if(J5(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(et(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Sl=gf(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Sl=null}}else Sl=Al?gf(t.stateNode.nextSibling):null;return!0}function r7(){for(var t=Sl;t;)t=gf(t.nextSibling)}function Nv(){Sl=Al=null,fs=!1}function r$(t){Gc===null?Gc=[t]:Gc.push(t)}var _ve=ah.ReactCurrentBatchConfig;function b_(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(et(309));var r=n.stateNode}if(!r)throw Error(et(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(et(284));if(!n._owner)throw Error(et(290,t))}return t}function ES(t,e){throw t=Object.prototype.toString.call(e),Error(et(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Q5(t){var e=t._init;return e(t._payload)}function s7(t){function e(x,_){if(t){var E=x.deletions;E===null?(x.deletions=[_],x.flags|=16):E.push(_)}}function n(x,_){if(!t)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function r(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function s(x,_){return x=_f(x,_),x.index=0,x.sibling=null,x}function i(x,_,E){return x.index=E,t?(E=x.alternate,E!==null?(E=E.index,E<_?(x.flags|=2,_):E):(x.flags|=2,_)):(x.flags|=1048576,_)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,_,E,T){return _===null||_.tag!==6?(_=EO(E,x.mode,T),_.return=x,_):(_=s(_,E),_.return=x,_)}function c(x,_,E,T){var N=E.type;return N===Ly?d(x,_,E.props.children,T,E.key):_!==null&&(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Hh&&Q5(N)===_.type)?(T=s(_,E.props),T.ref=b_(x,_,E),T.return=x,T):(T=$j(E.type,E.key,E.props,null,x.mode,T),T.ref=b_(x,_,E),T.return=x,T)}function u(x,_,E,T){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=SO(E,x.mode,T),_.return=x,_):(_=s(_,E.children||[]),_.return=x,_)}function d(x,_,E,T,N){return _===null||_.tag!==7?(_=_p(E,x.mode,T,N),_.return=x,_):(_=s(_,E),_.return=x,_)}function h(x,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=EO(""+_,x.mode,E),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case hS:return E=$j(_.type,_.key,_.props,null,x.mode,E),E.ref=b_(x,null,_),E.return=x,E;case Dy:return _=SO(_,x.mode,E),_.return=x,_;case Hh:var T=_._init;return h(x,T(_._payload),E)}if(H_(_)||m_(_))return _=_p(_,x.mode,E,null),_.return=x,_;ES(x,_)}return null}function m(x,_,E,T){var N=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return N!==null?null:l(x,_,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case hS:return E.key===N?c(x,_,E,T):null;case Dy:return E.key===N?u(x,_,E,T):null;case Hh:return N=E._init,m(x,_,N(E._payload),T)}if(H_(E)||m_(E))return N!==null?null:d(x,_,E,T,null);ES(x,E)}return null}function p(x,_,E,T,N){if(typeof T=="string"&&T!==""||typeof T=="number")return x=x.get(E)||null,l(_,x,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case hS:return x=x.get(T.key===null?E:T.key)||null,c(_,x,T,N);case Dy:return x=x.get(T.key===null?E:T.key)||null,u(_,x,T,N);case Hh:var D=T._init;return p(x,_,E,D(T._payload),N)}if(H_(T)||m_(T))return x=x.get(E)||null,d(_,x,T,N,null);ES(_,T)}return null}function y(x,_,E,T){for(var N=null,D=null,O=_,F=_=0,V=null;O!==null&&F<E.length;F++){O.index>F?(V=O,O=null):V=O.sibling;var z=m(x,O,E[F],T);if(z===null){O===null&&(O=V);break}t&&O&&z.alternate===null&&e(x,O),_=i(z,_,F),D===null?N=z:D.sibling=z,D=z,O=V}if(F===E.length)return n(x,O),fs&&$m(x,F),N;if(O===null){for(;F<E.length;F++)O=h(x,E[F],T),O!==null&&(_=i(O,_,F),D===null?N=O:D.sibling=O,D=O);return fs&&$m(x,F),N}for(O=r(x,O);F<E.length;F++)V=p(O,x,F,E[F],T),V!==null&&(t&&V.alternate!==null&&O.delete(V.key===null?F:V.key),_=i(V,_,F),D===null?N=V:D.sibling=V,D=V);return t&&O.forEach(function(U){return e(x,U)}),fs&&$m(x,F),N}function w(x,_,E,T){var N=m_(E);if(typeof N!="function")throw Error(et(150));if(E=N.call(E),E==null)throw Error(et(151));for(var D=N=null,O=_,F=_=0,V=null,z=E.next();O!==null&&!z.done;F++,z=E.next()){O.index>F?(V=O,O=null):V=O.sibling;var U=m(x,O,z.value,T);if(U===null){O===null&&(O=V);break}t&&O&&U.alternate===null&&e(x,O),_=i(U,_,F),D===null?N=U:D.sibling=U,D=U,O=V}if(z.done)return n(x,O),fs&&$m(x,F),N;if(O===null){for(;!z.done;F++,z=E.next())z=h(x,z.value,T),z!==null&&(_=i(z,_,F),D===null?N=z:D.sibling=z,D=z);return fs&&$m(x,F),N}for(O=r(x,O);!z.done;F++,z=E.next())z=p(O,x,F,z.value,T),z!==null&&(t&&z.alternate!==null&&O.delete(z.key===null?F:z.key),_=i(z,_,F),D===null?N=z:D.sibling=z,D=z);return t&&O.forEach(function(H){return e(x,H)}),fs&&$m(x,F),N}function v(x,_,E,T){if(typeof E=="object"&&E!==null&&E.type===Ly&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case hS:e:{for(var N=E.key,D=_;D!==null;){if(D.key===N){if(N=E.type,N===Ly){if(D.tag===7){n(x,D.sibling),_=s(D,E.props.children),_.return=x,x=_;break e}}else if(D.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Hh&&Q5(N)===D.type){n(x,D.sibling),_=s(D,E.props),_.ref=b_(x,D,E),_.return=x,x=_;break e}n(x,D);break}else e(x,D);D=D.sibling}E.type===Ly?(_=_p(E.props.children,x.mode,T,E.key),_.return=x,x=_):(T=$j(E.type,E.key,E.props,null,x.mode,T),T.ref=b_(x,_,E),T.return=x,x=T)}return o(x);case Dy:e:{for(D=E.key;_!==null;){if(_.key===D)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){n(x,_.sibling),_=s(_,E.children||[]),_.return=x,x=_;break e}else{n(x,_);break}else e(x,_);_=_.sibling}_=SO(E,x.mode,T),_.return=x,x=_}return o(x);case Hh:return D=E._init,v(x,_,D(E._payload),T)}if(H_(E))return y(x,_,E,T);if(m_(E))return w(x,_,E,T);ES(x,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(n(x,_.sibling),_=s(_,E),_.return=x,x=_):(n(x,_),_=EO(E,x.mode,T),_.return=x,x=_),o(x)):n(x,_)}return v}var Iv=s7(!0),i7=s7(!1),k1=Kf(null),O1=null,Wy=null,s$=null;function i$(){s$=Wy=O1=null}function a$(t){var e=k1.current;ss(k1),t._currentValue=e}function LP(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function sv(t,e){O1=t,s$=Wy=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Do=!0),t.firstContext=null)}function bc(t){var e=t._currentValue;if(s$!==t)if(t={context:t,memoizedValue:e,next:null},Wy===null){if(O1===null)throw Error(et(308));Wy=t,O1.dependencies={lanes:0,firstContext:t}}else Wy=Wy.next=t;return e}var cp=null;function o$(t){cp===null?cp=[t]:cp.push(t)}function a7(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,o$(e)):(n.next=s.next,s.next=n),e.interleaved=n,Jd(t,r)}function Jd(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qh=!1;function l$(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function o7(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zd(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function yf(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,br&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Jd(t,n)}return s=r.interleaved,s===null?(e.next=e,o$(r)):(e.next=s.next,s.next=e),r.interleaved=e,Jd(t,n)}function Oj(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qM(t,n)}}function Z5(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function R1(t,e,n,r){var s=t.updateQueue;qh=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var m=l.lane,p=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,w=l;switch(m=e,p=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(p,h,m);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,m=typeof y=="function"?y.call(p,h,m):y,m==null)break e;h=Is({},h,m);break e;case 2:qh=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Rp|=o,t.lanes=o,t.memoizedState=h}}function X5(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(et(191,s));s.call(r)}}}var g0={},Ju=Kf(g0),tx=Kf(g0),nx=Kf(g0);function up(t){if(t===g0)throw Error(et(174));return t}function c$(t,e){switch(qr(nx,e),qr(tx,t),qr(Ju,g0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gP(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gP(e,t)}ss(Ju),qr(Ju,e)}function kv(){ss(Ju),ss(tx),ss(nx)}function l7(t){up(nx.current);var e=up(Ju.current),n=gP(e,t.type);e!==n&&(qr(tx,t),qr(Ju,n))}function u$(t){tx.current===t&&(ss(Ju),ss(tx))}var Ts=Kf(0);function P1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yO=[];function d$(){for(var t=0;t<yO.length;t++)yO[t]._workInProgressVersionPrimary=null;yO.length=0}var Rj=ah.ReactCurrentDispatcher,vO=ah.ReactCurrentBatchConfig,Op=0,Cs=null,ji=null,$i=null,D1=!1,vw=!1,rx=0,wve=0;function ja(){throw Error(et(321))}function h$(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!eu(t[n],e[n]))return!1;return!0}function f$(t,e,n,r,s,i){if(Op=i,Cs=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Rj.current=t===null||t.memoizedState===null?jve:Tve,t=n(r,s),vw){i=0;do{if(vw=!1,rx=0,25<=i)throw Error(et(301));i+=1,$i=ji=null,e.updateQueue=null,Rj.current=Cve,t=n(r,s)}while(vw)}if(Rj.current=L1,e=ji!==null&&ji.next!==null,Op=0,$i=ji=Cs=null,D1=!1,e)throw Error(et(300));return t}function m$(){var t=rx!==0;return rx=0,t}function Nu(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $i===null?Cs.memoizedState=$i=t:$i=$i.next=t,$i}function _c(){if(ji===null){var t=Cs.alternate;t=t!==null?t.memoizedState:null}else t=ji.next;var e=$i===null?Cs.memoizedState:$i.next;if(e!==null)$i=e,ji=t;else{if(t===null)throw Error(et(310));ji=t,t={memoizedState:ji.memoizedState,baseState:ji.baseState,baseQueue:ji.baseQueue,queue:ji.queue,next:null},$i===null?Cs.memoizedState=$i=t:$i=$i.next=t}return $i}function sx(t,e){return typeof e=="function"?e(t):e}function bO(t){var e=_c(),n=e.queue;if(n===null)throw Error(et(311));n.lastRenderedReducer=t;var r=ji,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Op&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,Cs.lanes|=d,Rp|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,eu(r,e.memoizedState)||(Do=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Cs.lanes|=i,Rp|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _O(t){var e=_c(),n=e.queue;if(n===null)throw Error(et(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);eu(i,e.memoizedState)||(Do=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function c7(){}function u7(t,e){var n=Cs,r=_c(),s=e(),i=!eu(r.memoizedState,s);if(i&&(r.memoizedState=s,Do=!0),r=r.queue,p$(f7.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||$i!==null&&$i.memoizedState.tag&1){if(n.flags|=2048,ix(9,h7.bind(null,n,r,s,e),void 0,null),Vi===null)throw Error(et(349));Op&30||d7(n,e,s)}return s}function d7(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Cs.updateQueue,e===null?(e={lastEffect:null,stores:null},Cs.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function h7(t,e,n,r){e.value=n,e.getSnapshot=r,m7(e)&&p7(t)}function f7(t,e,n){return n(function(){m7(e)&&p7(t)})}function m7(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!eu(t,n)}catch{return!0}}function p7(t){var e=Jd(t,1);e!==null&&Zc(e,t,1,-1)}function eB(t){var e=Nu();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sx,lastRenderedState:t},e.queue=t,t=t.dispatch=Sve.bind(null,Cs,t),[e.memoizedState,t]}function ix(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Cs.updateQueue,e===null?(e={lastEffect:null,stores:null},Cs.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function g7(){return _c().memoizedState}function Pj(t,e,n,r){var s=Nu();Cs.flags|=t,s.memoizedState=ix(1|e,n,void 0,r===void 0?null:r)}function YC(t,e,n,r){var s=_c();r=r===void 0?null:r;var i=void 0;if(ji!==null){var o=ji.memoizedState;if(i=o.destroy,r!==null&&h$(r,o.deps)){s.memoizedState=ix(e,n,i,r);return}}Cs.flags|=t,s.memoizedState=ix(1|e,n,i,r)}function tB(t,e){return Pj(8390656,8,t,e)}function p$(t,e){return YC(2048,8,t,e)}function y7(t,e){return YC(4,2,t,e)}function v7(t,e){return YC(4,4,t,e)}function b7(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _7(t,e,n){return n=n!=null?n.concat([t]):null,YC(4,4,b7.bind(null,e,t),n)}function g$(){}function w7(t,e){var n=_c();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&h$(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function x7(t,e){var n=_c();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&h$(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function E7(t,e,n){return Op&21?(eu(n,e)||(n=Aq(),Cs.lanes|=n,Rp|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Do=!0),t.memoizedState=n)}function xve(t,e){var n=Pr;Pr=n!==0&&4>n?n:4,t(!0);var r=vO.transition;vO.transition={};try{t(!1),e()}finally{Pr=n,vO.transition=r}}function S7(){return _c().memoizedState}function Eve(t,e,n){var r=bf(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},j7(t))T7(e,n);else if(n=a7(t,e,n,r),n!==null){var s=no();Zc(n,t,r,s),C7(n,e,r)}}function Sve(t,e,n){var r=bf(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(j7(t))T7(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,eu(l,o)){var c=e.interleaved;c===null?(s.next=s,o$(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=a7(t,e,s,r),n!==null&&(s=no(),Zc(n,t,r,s),C7(n,e,r))}}function j7(t){var e=t.alternate;return t===Cs||e!==null&&e===Cs}function T7(t,e){vw=D1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function C7(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qM(t,n)}}var L1={readContext:bc,useCallback:ja,useContext:ja,useEffect:ja,useImperativeHandle:ja,useInsertionEffect:ja,useLayoutEffect:ja,useMemo:ja,useReducer:ja,useRef:ja,useState:ja,useDebugValue:ja,useDeferredValue:ja,useTransition:ja,useMutableSource:ja,useSyncExternalStore:ja,useId:ja,unstable_isNewReconciler:!1},jve={readContext:bc,useCallback:function(t,e){return Nu().memoizedState=[t,e===void 0?null:e],t},useContext:bc,useEffect:tB,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Pj(4194308,4,b7.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Pj(4194308,4,t,e)},useInsertionEffect:function(t,e){return Pj(4,2,t,e)},useMemo:function(t,e){var n=Nu();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Nu();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Eve.bind(null,Cs,t),[r.memoizedState,t]},useRef:function(t){var e=Nu();return t={current:t},e.memoizedState=t},useState:eB,useDebugValue:g$,useDeferredValue:function(t){return Nu().memoizedState=t},useTransition:function(){var t=eB(!1),e=t[0];return t=xve.bind(null,t[1]),Nu().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Cs,s=Nu();if(fs){if(n===void 0)throw Error(et(407));n=n()}else{if(n=e(),Vi===null)throw Error(et(349));Op&30||d7(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,tB(f7.bind(null,r,i,t),[t]),r.flags|=2048,ix(9,h7.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Nu(),e=Vi.identifierPrefix;if(fs){var n=Md,r=Ld;n=(r&~(1<<32-Qc(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=rx++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wve++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Tve={readContext:bc,useCallback:w7,useContext:bc,useEffect:p$,useImperativeHandle:_7,useInsertionEffect:y7,useLayoutEffect:v7,useMemo:x7,useReducer:bO,useRef:g7,useState:function(){return bO(sx)},useDebugValue:g$,useDeferredValue:function(t){var e=_c();return E7(e,ji.memoizedState,t)},useTransition:function(){var t=bO(sx)[0],e=_c().memoizedState;return[t,e]},useMutableSource:c7,useSyncExternalStore:u7,useId:S7,unstable_isNewReconciler:!1},Cve={readContext:bc,useCallback:w7,useContext:bc,useEffect:p$,useImperativeHandle:_7,useInsertionEffect:y7,useLayoutEffect:v7,useMemo:x7,useReducer:_O,useRef:g7,useState:function(){return _O(sx)},useDebugValue:g$,useDeferredValue:function(t){var e=_c();return ji===null?e.memoizedState=t:E7(e,ji.memoizedState,t)},useTransition:function(){var t=_O(sx)[0],e=_c().memoizedState;return[t,e]},useMutableSource:c7,useSyncExternalStore:u7,useId:S7,unstable_isNewReconciler:!1};function Uc(t,e){if(t&&t.defaultProps){e=Is({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function MP(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Is({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var KC={isMounted:function(t){return(t=t._reactInternals)?sg(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=no(),s=bf(t),i=zd(r,s);i.payload=e,n!=null&&(i.callback=n),e=yf(t,i,s),e!==null&&(Zc(e,t,s,r),Oj(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=no(),s=bf(t),i=zd(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=yf(t,i,s),e!==null&&(Zc(e,t,s,r),Oj(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=no(),r=bf(t),s=zd(n,r);s.tag=2,e!=null&&(s.callback=e),e=yf(t,s,r),e!==null&&(Zc(e,t,r,n),Oj(e,t,r))}};function nB(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Qw(n,r)||!Qw(s,i):!0}function A7(t,e,n){var r=!1,s=If,i=e.contextType;return typeof i=="object"&&i!==null?i=bc(i):(s=zo(e)?Ip:La.current,r=e.contextTypes,i=(r=r!=null)?Av(t,s):If),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=KC,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function rB(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&KC.enqueueReplaceState(e,e.state,null)}function $P(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},l$(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=bc(i):(i=zo(e)?Ip:La.current,s.context=Av(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(MP(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&KC.enqueueReplaceState(s,s.state,null),R1(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ov(t,e){try{var n="",r=e;do n+=tye(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function wO(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function FP(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ave=typeof WeakMap=="function"?WeakMap:Map;function N7(t,e,n){n=zd(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$1||($1=!0,KP=r),FP(t,e)},n}function I7(t,e,n){n=zd(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){FP(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){FP(t,e),typeof r!="function"&&(vf===null?vf=new Set([this]):vf.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function sB(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ave;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Bve.bind(null,t,e,n),e.then(t,t))}function iB(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function aB(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zd(-1,1),e.tag=2,yf(n,e,1))),n.lanes|=1),t)}var Nve=ah.ReactCurrentOwner,Do=!1;function Ja(t,e,n,r){e.child=t===null?i7(e,null,n,r):Iv(e,t.child,n,r)}function oB(t,e,n,r,s){n=n.render;var i=e.ref;return sv(e,s),r=f$(t,e,n,r,i,s),n=m$(),t!==null&&!Do?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Qd(t,e,s)):(fs&&n&&t$(e),e.flags|=1,Ja(t,e,r,s),e.child)}function lB(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!S$(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,k7(t,e,i,r,s)):(t=$j(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Qw,n(o,r)&&t.ref===e.ref)return Qd(t,e,s)}return e.flags|=1,t=_f(i,r),t.ref=e.ref,t.return=e,e.child=t}function k7(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Qw(i,r)&&t.ref===e.ref)if(Do=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Do=!0);else return e.lanes=t.lanes,Qd(t,e,s)}return VP(t,e,n,r,s)}function O7(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qr(Hy,pl),pl|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qr(Hy,pl),pl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,qr(Hy,pl),pl|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,qr(Hy,pl),pl|=r;return Ja(t,e,s,n),e.child}function R7(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function VP(t,e,n,r,s){var i=zo(n)?Ip:La.current;return i=Av(e,i),sv(e,s),n=f$(t,e,n,r,i,s),r=m$(),t!==null&&!Do?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Qd(t,e,s)):(fs&&r&&t$(e),e.flags|=1,Ja(t,e,n,s),e.child)}function cB(t,e,n,r,s){if(zo(n)){var i=!0;A1(e)}else i=!1;if(sv(e,s),e.stateNode===null)Dj(t,e),A7(e,n,r),$P(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=bc(u):(u=zo(n)?Ip:La.current,u=Av(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&rB(e,o,r,u),qh=!1;var m=e.memoizedState;o.state=m,R1(e,r,o,s),c=e.memoizedState,l!==r||m!==c||Bo.current||qh?(typeof d=="function"&&(MP(e,n,d,r),c=e.memoizedState),(l=qh||nB(e,n,l,r,m,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,o7(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Uc(e.type,l),o.props=u,h=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=bc(c):(c=zo(n)?Ip:La.current,c=Av(e,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&rB(e,o,r,c),qh=!1,m=e.memoizedState,o.state=m,R1(e,r,o,s);var y=e.memoizedState;l!==h||m!==y||Bo.current||qh?(typeof p=="function"&&(MP(e,n,p,r),y=e.memoizedState),(u=qh||nB(e,n,u,r,m,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return UP(t,e,n,r,i,s)}function UP(t,e,n,r,s,i){R7(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Y5(e,n,!1),Qd(t,e,i);r=e.stateNode,Nve.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Iv(e,t.child,null,i),e.child=Iv(e,null,l,i)):Ja(t,e,l,i),e.memoizedState=r.state,s&&Y5(e,n,!0),e.child}function P7(t){var e=t.stateNode;e.pendingContext?q5(t,e.pendingContext,e.pendingContext!==e.context):e.context&&q5(t,e.context,!1),c$(t,e.containerInfo)}function uB(t,e,n,r,s){return Nv(),r$(s),e.flags|=256,Ja(t,e,n,r),e.child}var BP={dehydrated:null,treeContext:null,retryLane:0};function zP(t){return{baseLanes:t,cachePool:null,transitions:null}}function D7(t,e,n){var r=e.pendingProps,s=Ts.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),qr(Ts,s&1),t===null)return DP(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ZC(o,r,0,null),t=_p(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=zP(n),e.memoizedState=BP,t):y$(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Ive(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=_f(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=_f(l,i):(i=_p(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?zP(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=BP,r}return i=t.child,t=i.sibling,r=_f(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function y$(t,e){return e=ZC({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function SS(t,e,n,r){return r!==null&&r$(r),Iv(e,t.child,null,n),t=y$(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ive(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=wO(Error(et(422))),SS(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ZC({mode:"visible",children:r.children},s,0,null),i=_p(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Iv(e,t.child,null,o),e.child.memoizedState=zP(o),e.memoizedState=BP,i);if(!(e.mode&1))return SS(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(et(419)),r=wO(i,r,void 0),SS(t,e,o,r)}if(l=(o&t.childLanes)!==0,Do||l){if(r=Vi,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Jd(t,s),Zc(r,t,s,-1))}return E$(),r=wO(Error(et(421))),SS(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=zve.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Sl=gf(s.nextSibling),Al=e,fs=!0,Gc=null,t!==null&&(oc[lc++]=Ld,oc[lc++]=Md,oc[lc++]=kp,Ld=t.id,Md=t.overflow,kp=e),e=y$(e,r.children),e.flags|=4096,e)}function dB(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),LP(t.return,e,n)}function xO(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function L7(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ja(t,e,r.children,n),r=Ts.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dB(t,n,e);else if(t.tag===19)dB(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qr(Ts,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&P1(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),xO(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&P1(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}xO(e,!0,n,null,i);break;case"together":xO(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dj(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qd(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Rp|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(et(153));if(e.child!==null){for(t=e.child,n=_f(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=_f(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kve(t,e,n){switch(e.tag){case 3:P7(e),Nv();break;case 5:l7(e);break;case 1:zo(e.type)&&A1(e);break;case 4:c$(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;qr(k1,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qr(Ts,Ts.current&1),e.flags|=128,null):n&e.child.childLanes?D7(t,e,n):(qr(Ts,Ts.current&1),t=Qd(t,e,n),t!==null?t.sibling:null);qr(Ts,Ts.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return L7(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qr(Ts,Ts.current),r)break;return null;case 22:case 23:return e.lanes=0,O7(t,e,n)}return Qd(t,e,n)}var M7,WP,$7,F7;M7=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};WP=function(){};$7=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,up(Ju.current);var i=null;switch(n){case"input":s=hP(t,s),r=hP(t,r),i=[];break;case"select":s=Is({},s,{value:void 0}),r=Is({},r,{value:void 0}),i=[];break;case"textarea":s=pP(t,s),r=pP(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=T1)}yP(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ww.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ww.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Zr("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};F7=function(t,e,n,r){n!==r&&(e.flags|=4)};function __(t,e){if(!fs)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ta(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Ove(t,e,n){var r=e.pendingProps;switch(n$(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ta(e),null;case 1:return zo(e.type)&&C1(),Ta(e),null;case 3:return r=e.stateNode,kv(),ss(Bo),ss(La),d$(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xS(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gc!==null&&(ZP(Gc),Gc=null))),WP(t,e),Ta(e),null;case 5:u$(e);var s=up(nx.current);if(n=e.type,t!==null&&e.stateNode!=null)$7(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(et(166));return Ta(e),null}if(t=up(Ju.current),xS(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Lu]=e,r[ex]=i,t=(e.mode&1)!==0,n){case"dialog":Zr("cancel",r),Zr("close",r);break;case"iframe":case"object":case"embed":Zr("load",r);break;case"video":case"audio":for(s=0;s<Y_.length;s++)Zr(Y_[s],r);break;case"source":Zr("error",r);break;case"img":case"image":case"link":Zr("error",r),Zr("load",r);break;case"details":Zr("toggle",r);break;case"input":_5(r,i),Zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Zr("invalid",r);break;case"textarea":x5(r,i),Zr("invalid",r)}yP(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&wS(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&wS(r.textContent,l,t),s=["children",""+l]):Ww.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Zr("scroll",r)}switch(n){case"input":fS(r),w5(r,i,!0);break;case"textarea":fS(r),E5(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=T1)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fq(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Lu]=e,t[ex]=r,M7(t,e,!1,!1),e.stateNode=t;e:{switch(o=vP(n,r),n){case"dialog":Zr("cancel",t),Zr("close",t),s=r;break;case"iframe":case"object":case"embed":Zr("load",t),s=r;break;case"video":case"audio":for(s=0;s<Y_.length;s++)Zr(Y_[s],t);s=r;break;case"source":Zr("error",t),s=r;break;case"img":case"image":case"link":Zr("error",t),Zr("load",t),s=r;break;case"details":Zr("toggle",t),s=r;break;case"input":_5(t,r),s=hP(t,r),Zr("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Is({},r,{value:void 0}),Zr("invalid",t);break;case"textarea":x5(t,r),s=pP(t,r),Zr("invalid",t);break;default:s=r}yP(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?gq(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&mq(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Gw(t,c):typeof c=="number"&&Gw(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ww.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Zr("scroll",t):c!=null&&UM(t,i,c,o))}switch(n){case"input":fS(t),w5(t,r,!1);break;case"textarea":fS(t),E5(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Nf(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ev(t,!!r.multiple,i,!1):r.defaultValue!=null&&ev(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=T1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ta(e),null;case 6:if(t&&e.stateNode!=null)F7(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(et(166));if(n=up(nx.current),up(Ju.current),xS(e)){if(r=e.stateNode,n=e.memoizedProps,r[Lu]=e,(i=r.nodeValue!==n)&&(t=Al,t!==null))switch(t.tag){case 3:wS(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wS(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Lu]=e,e.stateNode=r}return Ta(e),null;case 13:if(ss(Ts),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(fs&&Sl!==null&&e.mode&1&&!(e.flags&128))r7(),Nv(),e.flags|=98560,i=!1;else if(i=xS(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(et(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(et(317));i[Lu]=e}else Nv(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ta(e),i=!1}else Gc!==null&&(ZP(Gc),Gc=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ts.current&1?Ai===0&&(Ai=3):E$())),e.updateQueue!==null&&(e.flags|=4),Ta(e),null);case 4:return kv(),WP(t,e),t===null&&Zw(e.stateNode.containerInfo),Ta(e),null;case 10:return a$(e.type._context),Ta(e),null;case 17:return zo(e.type)&&C1(),Ta(e),null;case 19:if(ss(Ts),i=e.memoizedState,i===null)return Ta(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)__(i,!1);else{if(Ai!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=P1(t),o!==null){for(e.flags|=128,__(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qr(Ts,Ts.current&1|2),e.child}t=t.sibling}i.tail!==null&&si()>Rv&&(e.flags|=128,r=!0,__(i,!1),e.lanes=4194304)}else{if(!r)if(t=P1(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),__(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!fs)return Ta(e),null}else 2*si()-i.renderingStartTime>Rv&&n!==1073741824&&(e.flags|=128,r=!0,__(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=si(),e.sibling=null,n=Ts.current,qr(Ts,r?n&1|2:n&1),e):(Ta(e),null);case 22:case 23:return x$(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?pl&1073741824&&(Ta(e),e.subtreeFlags&6&&(e.flags|=8192)):Ta(e),null;case 24:return null;case 25:return null}throw Error(et(156,e.tag))}function Rve(t,e){switch(n$(e),e.tag){case 1:return zo(e.type)&&C1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return kv(),ss(Bo),ss(La),d$(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return u$(e),null;case 13:if(ss(Ts),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(et(340));Nv()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ss(Ts),null;case 4:return kv(),null;case 10:return a$(e.type._context),null;case 22:case 23:return x$(),null;case 24:return null;default:return null}}var jS=!1,ka=!1,Pve=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function Gy(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Vs(t,e,r)}else n.current=null}function GP(t,e,n){try{n()}catch(r){Vs(t,e,r)}}var hB=!1;function Dve(t,e){if(AP=E1,t=Wq(),e$(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=t,m=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===t)break t;if(m===n&&++u===s&&(l=o),m===i&&++d===r&&(c=o),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(NP={focusedElem:t,selectionRange:n},E1=!1,Ot=e;Ot!==null;)if(e=Ot,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ot=t;else for(;Ot!==null;){e=Ot;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,v=y.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?w:Uc(e.type,w),v);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(et(163))}}catch(T){Vs(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,Ot=t;break}Ot=e.return}return y=hB,hB=!1,y}function bw(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&GP(e,n,i)}s=s.next}while(s!==r)}}function JC(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function HP(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function V7(t){var e=t.alternate;e!==null&&(t.alternate=null,V7(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Lu],delete e[ex],delete e[OP],delete e[yve],delete e[vve])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function U7(t){return t.tag===5||t.tag===3||t.tag===4}function fB(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||U7(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qP(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=T1));else if(r!==4&&(t=t.child,t!==null))for(qP(t,e,n),t=t.sibling;t!==null;)qP(t,e,n),t=t.sibling}function YP(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(YP(t,e,n),t=t.sibling;t!==null;)YP(t,e,n),t=t.sibling}var ca=null,zc=!1;function Oh(t,e,n){for(n=n.child;n!==null;)B7(t,e,n),n=n.sibling}function B7(t,e,n){if(Ku&&typeof Ku.onCommitFiberUnmount=="function")try{Ku.onCommitFiberUnmount(BC,n)}catch{}switch(n.tag){case 5:ka||Gy(n,e);case 6:var r=ca,s=zc;ca=null,Oh(t,e,n),ca=r,zc=s,ca!==null&&(zc?(t=ca,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ca.removeChild(n.stateNode));break;case 18:ca!==null&&(zc?(t=ca,n=n.stateNode,t.nodeType===8?pO(t.parentNode,n):t.nodeType===1&&pO(t,n),Kw(t)):pO(ca,n.stateNode));break;case 4:r=ca,s=zc,ca=n.stateNode.containerInfo,zc=!0,Oh(t,e,n),ca=r,zc=s;break;case 0:case 11:case 14:case 15:if(!ka&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&GP(n,e,o),s=s.next}while(s!==r)}Oh(t,e,n);break;case 1:if(!ka&&(Gy(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Vs(n,e,l)}Oh(t,e,n);break;case 21:Oh(t,e,n);break;case 22:n.mode&1?(ka=(r=ka)||n.memoizedState!==null,Oh(t,e,n),ka=r):Oh(t,e,n);break;default:Oh(t,e,n)}}function mB(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Pve),e.forEach(function(r){var s=Wve.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Lc(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ca=l.stateNode,zc=!1;break e;case 3:ca=l.stateNode.containerInfo,zc=!0;break e;case 4:ca=l.stateNode.containerInfo,zc=!0;break e}l=l.return}if(ca===null)throw Error(et(160));B7(i,o,s),ca=null,zc=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Vs(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)z7(e,t),e=e.sibling}function z7(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Lc(e,t),Au(t),r&4){try{bw(3,t,t.return),JC(3,t)}catch(w){Vs(t,t.return,w)}try{bw(5,t,t.return)}catch(w){Vs(t,t.return,w)}}break;case 1:Lc(e,t),Au(t),r&512&&n!==null&&Gy(n,n.return);break;case 5:if(Lc(e,t),Au(t),r&512&&n!==null&&Gy(n,n.return),t.flags&32){var s=t.stateNode;try{Gw(s,"")}catch(w){Vs(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&dq(s,i),vP(l,o);var u=vP(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?gq(s,h):d==="dangerouslySetInnerHTML"?mq(s,h):d==="children"?Gw(s,h):UM(s,d,h,u)}switch(l){case"input":fP(s,i);break;case"textarea":hq(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ev(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?ev(s,!!i.multiple,i.defaultValue,!0):ev(s,!!i.multiple,i.multiple?[]:"",!1))}s[ex]=i}catch(w){Vs(t,t.return,w)}}break;case 6:if(Lc(e,t),Au(t),r&4){if(t.stateNode===null)throw Error(et(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Vs(t,t.return,w)}}break;case 3:if(Lc(e,t),Au(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Kw(e.containerInfo)}catch(w){Vs(t,t.return,w)}break;case 4:Lc(e,t),Au(t);break;case 13:Lc(e,t),Au(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(_$=si())),r&4&&mB(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ka=(u=ka)||d,Lc(e,t),ka=u):Lc(e,t),Au(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Ot=t,d=t.child;d!==null;){for(h=Ot=d;Ot!==null;){switch(m=Ot,p=m.child,m.tag){case 0:case 11:case 14:case 15:bw(4,m,m.return);break;case 1:Gy(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){Vs(r,n,w)}}break;case 5:Gy(m,m.return);break;case 22:if(m.memoizedState!==null){gB(h);continue}}p!==null?(p.return=m,Ot=p):gB(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=pq("display",o))}catch(w){Vs(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){Vs(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Lc(e,t),Au(t),r&4&&mB(t);break;case 21:break;default:Lc(e,t),Au(t)}}function Au(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(U7(n)){var r=n;break e}n=n.return}throw Error(et(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Gw(s,""),r.flags&=-33);var i=fB(t);YP(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=fB(t);qP(t,l,o);break;default:throw Error(et(161))}}catch(c){Vs(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Lve(t,e,n){Ot=t,W7(t)}function W7(t,e,n){for(var r=(t.mode&1)!==0;Ot!==null;){var s=Ot,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||jS;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||ka;l=jS;var u=ka;if(jS=o,(ka=c)&&!u)for(Ot=s;Ot!==null;)o=Ot,c=o.child,o.tag===22&&o.memoizedState!==null?yB(s):c!==null?(c.return=o,Ot=c):yB(s);for(;i!==null;)Ot=i,W7(i),i=i.sibling;Ot=s,jS=l,ka=u}pB(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ot=i):pB(t)}}function pB(t){for(;Ot!==null;){var e=Ot;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ka||JC(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ka)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Uc(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&X5(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}X5(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Kw(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(et(163))}ka||e.flags&512&&HP(e)}catch(m){Vs(e,e.return,m)}}if(e===t){Ot=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ot=n;break}Ot=e.return}}function gB(t){for(;Ot!==null;){var e=Ot;if(e===t){Ot=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ot=n;break}Ot=e.return}}function yB(t){for(;Ot!==null;){var e=Ot;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{JC(4,e)}catch(c){Vs(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Vs(e,s,c)}}var i=e.return;try{HP(e)}catch(c){Vs(e,i,c)}break;case 5:var o=e.return;try{HP(e)}catch(c){Vs(e,o,c)}}}catch(c){Vs(e,e.return,c)}if(e===t){Ot=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ot=l;break}Ot=e.return}}var Mve=Math.ceil,M1=ah.ReactCurrentDispatcher,v$=ah.ReactCurrentOwner,pc=ah.ReactCurrentBatchConfig,br=0,Vi=null,gi=null,ma=0,pl=0,Hy=Kf(0),Ai=0,ax=null,Rp=0,QC=0,b$=0,_w=null,Oo=null,_$=0,Rv=1/0,Id=null,$1=!1,KP=null,vf=null,TS=!1,nf=null,F1=0,ww=0,JP=null,Lj=-1,Mj=0;function no(){return br&6?si():Lj!==-1?Lj:Lj=si()}function bf(t){return t.mode&1?br&2&&ma!==0?ma&-ma:_ve.transition!==null?(Mj===0&&(Mj=Aq()),Mj):(t=Pr,t!==0||(t=window.event,t=t===void 0?16:Dq(t.type)),t):1}function Zc(t,e,n,r){if(50<ww)throw ww=0,JP=null,Error(et(185));f0(t,n,r),(!(br&2)||t!==Vi)&&(t===Vi&&(!(br&2)&&(QC|=n),Ai===4&&Jh(t,ma)),Wo(t,r),n===1&&br===0&&!(e.mode&1)&&(Rv=si()+500,qC&&Jf()))}function Wo(t,e){var n=t.callbackNode;_ye(t,e);var r=x1(t,t===Vi?ma:0);if(r===0)n!==null&&T5(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&T5(n),e===1)t.tag===0?bve(vB.bind(null,t)):e7(vB.bind(null,t)),pve(function(){!(br&6)&&Jf()}),n=null;else{switch(Nq(r)){case 1:n=HM;break;case 4:n=Tq;break;case 16:n=w1;break;case 536870912:n=Cq;break;default:n=w1}n=Z7(n,G7.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function G7(t,e){if(Lj=-1,Mj=0,br&6)throw Error(et(327));var n=t.callbackNode;if(iv()&&t.callbackNode!==n)return null;var r=x1(t,t===Vi?ma:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=V1(t,r);else{e=r;var s=br;br|=2;var i=q7();(Vi!==t||ma!==e)&&(Id=null,Rv=si()+500,bp(t,e));do try{Vve();break}catch(l){H7(t,l)}while(!0);i$(),M1.current=i,br=s,gi!==null?e=0:(Vi=null,ma=0,e=Ai)}if(e!==0){if(e===2&&(s=EP(t),s!==0&&(r=s,e=QP(t,s))),e===1)throw n=ax,bp(t,0),Jh(t,r),Wo(t,si()),n;if(e===6)Jh(t,r);else{if(s=t.current.alternate,!(r&30)&&!$ve(s)&&(e=V1(t,r),e===2&&(i=EP(t),i!==0&&(r=i,e=QP(t,i))),e===1))throw n=ax,bp(t,0),Jh(t,r),Wo(t,si()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(et(345));case 2:Fm(t,Oo,Id);break;case 3:if(Jh(t,r),(r&130023424)===r&&(e=_$+500-si(),10<e)){if(x1(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){no(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=kP(Fm.bind(null,t,Oo,Id),e);break}Fm(t,Oo,Id);break;case 4:if(Jh(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Qc(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=si()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Mve(r/1960))-r,10<r){t.timeoutHandle=kP(Fm.bind(null,t,Oo,Id),r);break}Fm(t,Oo,Id);break;case 5:Fm(t,Oo,Id);break;default:throw Error(et(329))}}}return Wo(t,si()),t.callbackNode===n?G7.bind(null,t):null}function QP(t,e){var n=_w;return t.current.memoizedState.isDehydrated&&(bp(t,e).flags|=256),t=V1(t,e),t!==2&&(e=Oo,Oo=n,e!==null&&ZP(e)),t}function ZP(t){Oo===null?Oo=t:Oo.push.apply(Oo,t)}function $ve(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!eu(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Jh(t,e){for(e&=~b$,e&=~QC,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qc(e),r=1<<n;t[n]=-1,e&=~r}}function vB(t){if(br&6)throw Error(et(327));iv();var e=x1(t,0);if(!(e&1))return Wo(t,si()),null;var n=V1(t,e);if(t.tag!==0&&n===2){var r=EP(t);r!==0&&(e=r,n=QP(t,r))}if(n===1)throw n=ax,bp(t,0),Jh(t,e),Wo(t,si()),n;if(n===6)throw Error(et(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fm(t,Oo,Id),Wo(t,si()),null}function w$(t,e){var n=br;br|=1;try{return t(e)}finally{br=n,br===0&&(Rv=si()+500,qC&&Jf())}}function Pp(t){nf!==null&&nf.tag===0&&!(br&6)&&iv();var e=br;br|=1;var n=pc.transition,r=Pr;try{if(pc.transition=null,Pr=1,t)return t()}finally{Pr=r,pc.transition=n,br=e,!(br&6)&&Jf()}}function x$(){pl=Hy.current,ss(Hy)}function bp(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,mve(n)),gi!==null)for(n=gi.return;n!==null;){var r=n;switch(n$(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&C1();break;case 3:kv(),ss(Bo),ss(La),d$();break;case 5:u$(r);break;case 4:kv();break;case 13:ss(Ts);break;case 19:ss(Ts);break;case 10:a$(r.type._context);break;case 22:case 23:x$()}n=n.return}if(Vi=t,gi=t=_f(t.current,null),ma=pl=e,Ai=0,ax=null,b$=QC=Rp=0,Oo=_w=null,cp!==null){for(e=0;e<cp.length;e++)if(n=cp[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}cp=null}return t}function H7(t,e){do{var n=gi;try{if(i$(),Rj.current=L1,D1){for(var r=Cs.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}D1=!1}if(Op=0,$i=ji=Cs=null,vw=!1,rx=0,v$.current=null,n===null||n.return===null){Ai=1,ax=e,gi=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=ma,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=iB(o);if(p!==null){p.flags&=-257,aB(p,o,l,i,e),p.mode&1&&sB(i,u,e),e=p,c=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(c),e.updateQueue=w}else y.add(c);break e}else{if(!(e&1)){sB(i,u,e),E$();break e}c=Error(et(426))}}else if(fs&&l.mode&1){var v=iB(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),aB(v,o,l,i,e),r$(Ov(c,l));break e}}i=c=Ov(c,l),Ai!==4&&(Ai=2),_w===null?_w=[i]:_w.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=N7(i,c,e);Z5(i,x);break e;case 1:l=c;var _=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(vf===null||!vf.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var T=I7(i,l,e);Z5(i,T);break e}}i=i.return}while(i!==null)}K7(n)}catch(N){e=N,gi===n&&n!==null&&(gi=n=n.return);continue}break}while(!0)}function q7(){var t=M1.current;return M1.current=L1,t===null?L1:t}function E$(){(Ai===0||Ai===3||Ai===2)&&(Ai=4),Vi===null||!(Rp&268435455)&&!(QC&268435455)||Jh(Vi,ma)}function V1(t,e){var n=br;br|=2;var r=q7();(Vi!==t||ma!==e)&&(Id=null,bp(t,e));do try{Fve();break}catch(s){H7(t,s)}while(!0);if(i$(),br=n,M1.current=r,gi!==null)throw Error(et(261));return Vi=null,ma=0,Ai}function Fve(){for(;gi!==null;)Y7(gi)}function Vve(){for(;gi!==null&&!dye();)Y7(gi)}function Y7(t){var e=Q7(t.alternate,t,pl);t.memoizedProps=t.pendingProps,e===null?K7(t):gi=e,v$.current=null}function K7(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Rve(n,e),n!==null){n.flags&=32767,gi=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ai=6,gi=null;return}}else if(n=Ove(n,e,pl),n!==null){gi=n;return}if(e=e.sibling,e!==null){gi=e;return}gi=e=t}while(e!==null);Ai===0&&(Ai=5)}function Fm(t,e,n){var r=Pr,s=pc.transition;try{pc.transition=null,Pr=1,Uve(t,e,n,r)}finally{pc.transition=s,Pr=r}return null}function Uve(t,e,n,r){do iv();while(nf!==null);if(br&6)throw Error(et(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(et(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(wye(t,i),t===Vi&&(gi=Vi=null,ma=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||TS||(TS=!0,Z7(w1,function(){return iv(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=pc.transition,pc.transition=null;var o=Pr;Pr=1;var l=br;br|=4,v$.current=null,Dve(t,n),z7(n,t),ove(NP),E1=!!AP,NP=AP=null,t.current=n,Lve(n),hye(),br=l,Pr=o,pc.transition=i}else t.current=n;if(TS&&(TS=!1,nf=t,F1=s),i=t.pendingLanes,i===0&&(vf=null),pye(n.stateNode),Wo(t,si()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if($1)throw $1=!1,t=KP,KP=null,t;return F1&1&&t.tag!==0&&iv(),i=t.pendingLanes,i&1?t===JP?ww++:(ww=0,JP=t):ww=0,Jf(),null}function iv(){if(nf!==null){var t=Nq(F1),e=pc.transition,n=Pr;try{if(pc.transition=null,Pr=16>t?16:t,nf===null)var r=!1;else{if(t=nf,nf=null,F1=0,br&6)throw Error(et(331));var s=br;for(br|=4,Ot=t.current;Ot!==null;){var i=Ot,o=i.child;if(Ot.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ot=u;Ot!==null;){var d=Ot;switch(d.tag){case 0:case 11:case 15:bw(8,d,i)}var h=d.child;if(h!==null)h.return=d,Ot=h;else for(;Ot!==null;){d=Ot;var m=d.sibling,p=d.return;if(V7(d),d===u){Ot=null;break}if(m!==null){m.return=p,Ot=m;break}Ot=p}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var v=w.sibling;w.sibling=null,w=v}while(w!==null)}}Ot=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ot=o;else e:for(;Ot!==null;){if(i=Ot,i.flags&2048)switch(i.tag){case 0:case 11:case 15:bw(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Ot=x;break e}Ot=i.return}}var _=t.current;for(Ot=_;Ot!==null;){o=Ot;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,Ot=E;else e:for(o=_;Ot!==null;){if(l=Ot,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:JC(9,l)}}catch(N){Vs(l,l.return,N)}if(l===o){Ot=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,Ot=T;break e}Ot=l.return}}if(br=s,Jf(),Ku&&typeof Ku.onPostCommitFiberRoot=="function")try{Ku.onPostCommitFiberRoot(BC,t)}catch{}r=!0}return r}finally{Pr=n,pc.transition=e}}return!1}function bB(t,e,n){e=Ov(n,e),e=N7(t,e,1),t=yf(t,e,1),e=no(),t!==null&&(f0(t,1,e),Wo(t,e))}function Vs(t,e,n){if(t.tag===3)bB(t,t,n);else for(;e!==null;){if(e.tag===3){bB(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vf===null||!vf.has(r))){t=Ov(n,t),t=I7(e,t,1),e=yf(e,t,1),t=no(),e!==null&&(f0(e,1,t),Wo(e,t));break}}e=e.return}}function Bve(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=no(),t.pingedLanes|=t.suspendedLanes&n,Vi===t&&(ma&n)===n&&(Ai===4||Ai===3&&(ma&130023424)===ma&&500>si()-_$?bp(t,0):b$|=n),Wo(t,e)}function J7(t,e){e===0&&(t.mode&1?(e=gS,gS<<=1,!(gS&130023424)&&(gS=4194304)):e=1);var n=no();t=Jd(t,e),t!==null&&(f0(t,e,n),Wo(t,n))}function zve(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),J7(t,n)}function Wve(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(et(314))}r!==null&&r.delete(e),J7(t,n)}var Q7;Q7=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Bo.current)Do=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Do=!1,kve(t,e,n);Do=!!(t.flags&131072)}else Do=!1,fs&&e.flags&1048576&&t7(e,I1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Dj(t,e),t=e.pendingProps;var s=Av(e,La.current);sv(e,n),s=f$(null,e,r,t,s,n);var i=m$();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zo(r)?(i=!0,A1(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,l$(e),s.updater=KC,e.stateNode=s,s._reactInternals=e,$P(e,r,t,n),e=UP(null,e,r,!0,i,n)):(e.tag=0,fs&&i&&t$(e),Ja(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Dj(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Hve(r),t=Uc(r,t),s){case 0:e=VP(null,e,r,t,n);break e;case 1:e=cB(null,e,r,t,n);break e;case 11:e=oB(null,e,r,t,n);break e;case 14:e=lB(null,e,r,Uc(r.type,t),n);break e}throw Error(et(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Uc(r,s),VP(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Uc(r,s),cB(t,e,r,s,n);case 3:e:{if(P7(e),t===null)throw Error(et(387));r=e.pendingProps,i=e.memoizedState,s=i.element,o7(t,e),R1(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ov(Error(et(423)),e),e=uB(t,e,r,n,s);break e}else if(r!==s){s=Ov(Error(et(424)),e),e=uB(t,e,r,n,s);break e}else for(Sl=gf(e.stateNode.containerInfo.firstChild),Al=e,fs=!0,Gc=null,n=i7(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nv(),r===s){e=Qd(t,e,n);break e}Ja(t,e,r,n)}e=e.child}return e;case 5:return l7(e),t===null&&DP(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,IP(r,s)?o=null:i!==null&&IP(r,i)&&(e.flags|=32),R7(t,e),Ja(t,e,o,n),e.child;case 6:return t===null&&DP(e),null;case 13:return D7(t,e,n);case 4:return c$(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Iv(e,null,r,n):Ja(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Uc(r,s),oB(t,e,r,s,n);case 7:return Ja(t,e,e.pendingProps,n),e.child;case 8:return Ja(t,e,e.pendingProps.children,n),e.child;case 12:return Ja(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,qr(k1,r._currentValue),r._currentValue=o,i!==null)if(eu(i.value,o)){if(i.children===s.children&&!Bo.current){e=Qd(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=zd(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),LP(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(et(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),LP(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ja(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,sv(e,n),s=bc(s),r=r(s),e.flags|=1,Ja(t,e,r,n),e.child;case 14:return r=e.type,s=Uc(r,e.pendingProps),s=Uc(r.type,s),lB(t,e,r,s,n);case 15:return k7(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Uc(r,s),Dj(t,e),e.tag=1,zo(r)?(t=!0,A1(e)):t=!1,sv(e,n),A7(e,r,s),$P(e,r,s,n),UP(null,e,r,!0,t,n);case 19:return L7(t,e,n);case 22:return O7(t,e,n)}throw Error(et(156,e.tag))};function Z7(t,e){return jq(t,e)}function Gve(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fc(t,e,n,r){return new Gve(t,e,n,r)}function S$(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hve(t){if(typeof t=="function")return S$(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zM)return 11;if(t===WM)return 14}return 2}function _f(t,e){var n=t.alternate;return n===null?(n=fc(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $j(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")S$(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ly:return _p(n.children,s,i,e);case BM:o=8,s|=8;break;case lP:return t=fc(12,n,e,s|2),t.elementType=lP,t.lanes=i,t;case cP:return t=fc(13,n,e,s),t.elementType=cP,t.lanes=i,t;case uP:return t=fc(19,n,e,s),t.elementType=uP,t.lanes=i,t;case lq:return ZC(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case aq:o=10;break e;case oq:o=9;break e;case zM:o=11;break e;case WM:o=14;break e;case Hh:o=16,r=null;break e}throw Error(et(130,t==null?t:typeof t,""))}return e=fc(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function _p(t,e,n,r){return t=fc(7,t,r,e),t.lanes=n,t}function ZC(t,e,n,r){return t=fc(22,t,r,e),t.elementType=lq,t.lanes=n,t.stateNode={isHidden:!1},t}function EO(t,e,n){return t=fc(6,t,null,e),t.lanes=n,t}function SO(t,e,n){return e=fc(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qve(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sO(0),this.expirationTimes=sO(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sO(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function j$(t,e,n,r,s,i,o,l,c){return t=new qve(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=fc(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},l$(i),t}function Yve(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dy,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function X7(t){if(!t)return If;t=t._reactInternals;e:{if(sg(t)!==t||t.tag!==1)throw Error(et(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(et(171))}if(t.tag===1){var n=t.type;if(zo(n))return Xq(t,n,e)}return e}function eY(t,e,n,r,s,i,o,l,c){return t=j$(n,r,!0,t,s,i,o,l,c),t.context=X7(null),n=t.current,r=no(),s=bf(n),i=zd(r,s),i.callback=e??null,yf(n,i,s),t.current.lanes=s,f0(t,s,r),Wo(t,r),t}function XC(t,e,n,r){var s=e.current,i=no(),o=bf(s);return n=X7(n),e.context===null?e.context=n:e.pendingContext=n,e=zd(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=yf(s,e,o),t!==null&&(Zc(t,s,o,i),Oj(t,s,o)),o}function U1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _B(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function T$(t,e){_B(t,e),(t=t.alternate)&&_B(t,e)}function Kve(){return null}var tY=typeof reportError=="function"?reportError:function(t){console.error(t)};function C$(t){this._internalRoot=t}eA.prototype.render=C$.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(et(409));XC(t,e,null,null)};eA.prototype.unmount=C$.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pp(function(){XC(null,t,null,null)}),e[Kd]=null}};function eA(t){this._internalRoot=t}eA.prototype.unstable_scheduleHydration=function(t){if(t){var e=Oq();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Kh.length&&e!==0&&e<Kh[n].priority;n++);Kh.splice(n,0,t),n===0&&Pq(t)}};function A$(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wB(){}function Jve(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=U1(o);i.call(u)}}var o=eY(e,r,t,0,null,!1,!1,"",wB);return t._reactRootContainer=o,t[Kd]=o.current,Zw(t.nodeType===8?t.parentNode:t),Pp(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=U1(c);l.call(u)}}var c=j$(t,0,!1,null,null,!1,!1,"",wB);return t._reactRootContainer=c,t[Kd]=c.current,Zw(t.nodeType===8?t.parentNode:t),Pp(function(){XC(e,c,n,r)}),c}function nA(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=U1(o);l.call(c)}}XC(e,o,t,s)}else o=Jve(n,e,t,s,r);return U1(o)}Iq=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=q_(e.pendingLanes);n!==0&&(qM(e,n|1),Wo(e,si()),!(br&6)&&(Rv=si()+500,Jf()))}break;case 13:Pp(function(){var r=Jd(t,1);if(r!==null){var s=no();Zc(r,t,1,s)}}),T$(t,1)}};YM=function(t){if(t.tag===13){var e=Jd(t,134217728);if(e!==null){var n=no();Zc(e,t,134217728,n)}T$(t,134217728)}};kq=function(t){if(t.tag===13){var e=bf(t),n=Jd(t,e);if(n!==null){var r=no();Zc(n,t,e,r)}T$(t,e)}};Oq=function(){return Pr};Rq=function(t,e){var n=Pr;try{return Pr=t,e()}finally{Pr=n}};_P=function(t,e,n){switch(e){case"input":if(fP(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=HC(r);if(!s)throw Error(et(90));uq(r),fP(r,s)}}}break;case"textarea":hq(t,n);break;case"select":e=n.value,e!=null&&ev(t,!!n.multiple,e,!1)}};bq=w$;_q=Pp;var Qve={usingClientEntryPoint:!1,Events:[p0,Vy,HC,yq,vq,w$]},w_={findFiberByHostInstance:lp,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zve={bundleType:w_.bundleType,version:w_.version,rendererPackageName:w_.rendererPackageName,rendererConfig:w_.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ah.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Eq(t),t===null?null:t.stateNode},findFiberByHostInstance:w_.findFiberByHostInstance||Kve,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var CS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!CS.isDisabled&&CS.supportsFiber)try{BC=CS.inject(Zve),Ku=CS}catch{}}Ll.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qve;Ll.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!A$(e))throw Error(et(200));return Yve(t,e,null,n)};Ll.createRoot=function(t,e){if(!A$(t))throw Error(et(299));var n=!1,r="",s=tY;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=j$(t,1,!1,null,null,n,!1,r,s),t[Kd]=e.current,Zw(t.nodeType===8?t.parentNode:t),new C$(e)};Ll.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(et(188)):(t=Object.keys(t).join(","),Error(et(268,t)));return t=Eq(e),t=t===null?null:t.stateNode,t};Ll.flushSync=function(t){return Pp(t)};Ll.hydrate=function(t,e,n){if(!tA(e))throw Error(et(200));return nA(null,t,e,!0,n)};Ll.hydrateRoot=function(t,e,n){if(!A$(t))throw Error(et(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=tY;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=eY(e,null,t,1,n??null,s,!1,i,o),t[Kd]=e.current,Zw(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new eA(e)};Ll.render=function(t,e,n){if(!tA(e))throw Error(et(200));return nA(null,t,e,!1,n)};Ll.unmountComponentAtNode=function(t){if(!tA(t))throw Error(et(40));return t._reactRootContainer?(Pp(function(){nA(null,null,t,!1,function(){t._reactRootContainer=null,t[Kd]=null})}),!0):!1};Ll.unstable_batchedUpdates=w$;Ll.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!tA(n))throw Error(et(200));if(t==null||t._reactInternals===void 0)throw Error(et(38));return nA(t,e,n,!1,r)};Ll.version="18.3.1-next-f1338f8080-20240426";function nY(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nY)}catch(t){console.error(t)}}nY(),nq.exports=Ll;var y0=nq.exports;const dp=Qo(y0);var xB=y0;aP.createRoot=xB.createRoot,aP.hydrateRoot=xB.hydrateRoot;var rY={exports:{}},Xve="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ebe=Xve,tbe=ebe;function sY(){}function iY(){}iY.resetWarningCache=sY;var nbe=function(){function t(r,s,i,o,l,c){if(c!==tbe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:iY,resetWarningCache:sY};return n.PropTypes=n,n};rY.exports=nbe();var rbe=rY.exports;const P=Qo(rbe);/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ox(){return ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ox.apply(this,arguments)}var rf;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(rf||(rf={}));const EB="popstate";function sbe(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return XP("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:B1(s)}return abe(e,n,null,t)}function ai(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function N$(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ibe(){return Math.random().toString(36).substr(2,8)}function SB(t,e){return{usr:t.state,key:t.key,idx:e}}function XP(t,e,n,r){return n===void 0&&(n=null),ox({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?hb(e):e,{state:n,key:e&&e.key||r||ibe()})}function B1(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function hb(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function abe(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=rf.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(ox({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=rf.Pop;let v=d(),x=v==null?null:v-u;u=v,c&&c({action:l,location:w.location,delta:x})}function m(v,x){l=rf.Push;let _=XP(w.location,v,x);u=d()+1;let E=SB(_,u),T=w.createHref(_);try{o.pushState(E,"",T)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(T)}i&&c&&c({action:l,location:w.location,delta:1})}function p(v,x){l=rf.Replace;let _=XP(w.location,v,x);u=d();let E=SB(_,u),T=w.createHref(_);o.replaceState(E,"",T),i&&c&&c({action:l,location:w.location,delta:0})}function y(v){let x=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof v=="string"?v:B1(v);return ai(x,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,x)}let w={get action(){return l},get location(){return t(s,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(EB,h),c=v,()=>{s.removeEventListener(EB,h),c=null}},createHref(v){return e(s,v)},createURL:y,encodeLocation(v){let x=y(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:p,go(v){return o.go(v)}};return w}var jB;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(jB||(jB={}));function obe(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?hb(e):e,s=I$(r.pathname||"/",n);if(s==null)return null;let i=aY(t);lbe(i);let o=null;for(let l=0;o==null&&l<i.length;++l)o=ybe(i[l],_be(s));return o}function aY(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ai(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=wf([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(ai(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),aY(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:pbe(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of oY(i.path))s(i,o,c)}),e}function oY(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=oY(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function lbe(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gbe(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const cbe=/^:\w+$/,ube=3,dbe=2,hbe=1,fbe=10,mbe=-2,TB=t=>t==="*";function pbe(t,e){let n=t.split("/"),r=n.length;return n.some(TB)&&(r+=mbe),e&&(r+=dbe),n.filter(s=>!TB(s)).reduce((s,i)=>s+(cbe.test(i)?ube:i===""?hbe:fbe),r)}function gbe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function ybe(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=vbe({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u);if(!d)return null;Object.assign(r,d.params);let h=l.route;i.push({params:r,pathname:wf([s,d.pathname]),pathnameBase:Sbe(wf([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=wf([s,d.pathnameBase]))}return i}function vbe(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=bbe(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let w=l[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[h];return p&&!y?u[m]=void 0:u[m]=wbe(y||"",m),u},{}),pathname:i,pathnameBase:o,pattern:t}}function bbe(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),N$(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function _be(t){try{return decodeURI(t)}catch(e){return N$(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function wbe(t,e){try{return decodeURIComponent(t)}catch(n){return N$(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function I$(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function xbe(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?hb(t):t;return{pathname:n?n.startsWith("/")?n:Ebe(n,e):e,search:jbe(r),hash:Tbe(s)}}function Ebe(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function jO(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function k$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function O$(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=hb(t):(s=ox({},t),ai(!s.pathname||!s.pathname.includes("?"),jO("?","pathname","search",s)),ai(!s.pathname||!s.pathname.includes("#"),jO("#","pathname","hash",s)),ai(!s.search||!s.search.includes("#"),jO("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else if(r){let h=e[e.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h.pop();s.pathname=m.join("/")}l="/"+h.join("/")}else{let h=e.length-1;if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}l=h>=0?e[h]:"/"}let c=xbe(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const wf=t=>t.join("/").replace(/\/\/+/g,"/"),Sbe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jbe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Tbe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Cbe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const lY=["post","put","patch","delete"];new Set(lY);const Abe=["get",...lY];new Set(Abe);/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function z1(){return z1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z1.apply(this,arguments)}const R$=C.createContext(null),Nbe=C.createContext(null),fb=C.createContext(null),rA=C.createContext(null),oh=C.createContext({outlet:null,matches:[],isDataRoute:!1}),cY=C.createContext(null);function Ibe(t,e){let{relative:n}=e===void 0?{}:e;mb()||ai(!1);let{basename:r,navigator:s}=C.useContext(fb),{hash:i,pathname:o,search:l}=dY(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:wf([r,o])),s.createHref({pathname:c,search:l,hash:i})}function mb(){return C.useContext(rA)!=null}function ou(){return mb()||ai(!1),C.useContext(rA).location}function uY(t){C.useContext(fb).static||C.useLayoutEffect(t)}function as(){let{isDataRoute:t}=C.useContext(oh);return t?zbe():kbe()}function kbe(){mb()||ai(!1);let t=C.useContext(R$),{basename:e,navigator:n}=C.useContext(fb),{matches:r}=C.useContext(oh),{pathname:s}=ou(),i=JSON.stringify(k$(r).map(c=>c.pathnameBase)),o=C.useRef(!1);return uY(()=>{o.current=!0}),C.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=O$(c,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:wf([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,i,s,t])}function lu(){let{matches:t}=C.useContext(oh),e=t[t.length-1];return e?e.params:{}}function dY(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=C.useContext(oh),{pathname:s}=ou(),i=JSON.stringify(k$(r).map(o=>o.pathnameBase));return C.useMemo(()=>O$(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function Obe(t,e){return Rbe(t,e)}function Rbe(t,e,n){mb()||ai(!1);let{navigator:r}=C.useContext(fb),{matches:s}=C.useContext(oh),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c=ou(),u;if(e){var d;let w=typeof e=="string"?hb(e):e;l==="/"||(d=w.pathname)!=null&&d.startsWith(l)||ai(!1),u=w}else u=c;let h=u.pathname||"/",m=l==="/"?h:h.slice(l.length)||"/",p=obe(t,{pathname:m}),y=$be(p&&p.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:wf([l,r.encodeLocation?r.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:wf([l,r.encodeLocation?r.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n);return e&&y?C.createElement(rA.Provider,{value:{location:z1({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:rf.Pop}},y):y}function Pbe(){let t=Bbe(),e=Cbe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:s},n):null,null)}const Dbe=C.createElement(Pbe,null);class Lbe extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?C.createElement(oh.Provider,{value:this.props.routeContext},C.createElement(cY.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Mbe(t){let{routeContext:e,match:n,children:r}=t,s=C.useContext(R$);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(oh.Provider,{value:e},r)}function $be(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let i=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let l=i.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id]));l>=0||ai(!1),i=i.slice(0,Math.min(i.length,l+1))}return i.reduceRight((l,c,u)=>{let d=c.route.id?o==null?void 0:o[c.route.id]:null,h=null;n&&(h=c.route.errorElement||Dbe);let m=e.concat(i.slice(0,u+1)),p=()=>{let y;return d?y=h:c.route.Component?y=C.createElement(c.route.Component,null):c.route.element?y=c.route.element:y=l,C.createElement(Mbe,{match:c,routeContext:{outlet:l,matches:m,isDataRoute:n!=null},children:y})};return n&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?C.createElement(Lbe,{location:n.location,revalidation:n.revalidation,component:h,error:d,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var hY=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(hY||{}),fY=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(fY||{});function Fbe(t){let e=C.useContext(R$);return e||ai(!1),e}function Vbe(t){let e=C.useContext(Nbe);return e||ai(!1),e}function Ube(t){let e=C.useContext(oh);return e||ai(!1),e}function mY(t){let e=Ube(),n=e.matches[e.matches.length-1];return n.route.id||ai(!1),n.route.id}function Bbe(){var t;let e=C.useContext(cY),n=Vbe(),r=mY();return e||((t=n.errors)==null?void 0:t[r])}function zbe(){let{router:t}=Fbe(hY.UseNavigateStable),e=mY(fY.UseNavigateStable),n=C.useRef(!1);return uY(()=>{n.current=!0}),C.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,z1({fromRouteId:e},i)))},[t,e])}function av(t){let{to:e,replace:n,state:r,relative:s}=t;mb()||ai(!1);let{matches:i}=C.useContext(oh),{pathname:o}=ou(),l=as(),c=O$(e,k$(i).map(d=>d.pathnameBase),o,s==="path"),u=JSON.stringify(c);return C.useEffect(()=>l(JSON.parse(u),{replace:n,state:r,relative:s}),[l,u,s,n,r]),null}function e2(t){ai(!1)}function Wbe(t){let{basename:e="/",children:n=null,location:r,navigationType:s=rf.Pop,navigator:i,static:o=!1}=t;mb()&&ai(!1);let l=e.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:l,navigator:i,static:o}),[l,i,o]);typeof r=="string"&&(r=hb(r));let{pathname:u="/",search:d="",hash:h="",state:m=null,key:p="default"}=r,y=C.useMemo(()=>{let w=I$(u,l);return w==null?null:{location:{pathname:w,search:d,hash:h,state:m,key:p},navigationType:s}},[l,u,d,h,m,p,s]);return y==null?null:C.createElement(fb.Provider,{value:c},C.createElement(rA.Provider,{children:n,value:y}))}function Gbe(t){let{children:e,location:n}=t;return Obe(t2(e),n)}new Promise(()=>{});function t2(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,s)=>{if(!C.isValidElement(r))return;let i=[...e,s];if(r.type===C.Fragment){n.push.apply(n,t2(r.props.children,i));return}r.type!==e2&&ai(!1),!r.props.index||!r.props.children||ai(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=t2(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function n2(){return n2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n2.apply(this,arguments)}function Hbe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function qbe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ybe(t,e){return t.button===0&&(!e||e==="_self")&&!qbe(t)}function r2(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function Kbe(t,e){let n=r2(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const Jbe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Qbe="startTransition",CB=iP[Qbe];function Zbe(t){let{basename:e,children:n,future:r,window:s}=t,i=C.useRef();i.current==null&&(i.current=sbe({window:s,v5Compat:!0}));let o=i.current,[l,c]=C.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=C.useCallback(h=>{u&&CB?CB(()=>c(h)):c(h)},[c,u]);return C.useLayoutEffect(()=>o.listen(d),[o,d]),C.createElement(Wbe,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o})}const Xbe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",e_e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Le=C.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,m=Hbe(e,Jbe),{basename:p}=C.useContext(fb),y,w=!1;if(typeof u=="string"&&e_e.test(u)&&(y=u,Xbe))try{let E=new URL(window.location.href),T=u.startsWith("//")?new URL(E.protocol+u):new URL(u),N=I$(T.pathname,p);T.origin===E.origin&&N!=null?u=N+T.search+T.hash:w=!0}catch{}let v=Ibe(u,{relative:s}),x=t_e(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,unstable_viewTransition:h});function _(E){r&&r(E),E.defaultPrevented||x(E)}return C.createElement("a",n2({},m,{href:y||v,onClick:w||i?r:_,ref:n,target:c}))});var AB;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(AB||(AB={}));var NB;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(NB||(NB={}));function t_e(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,c=as(),u=ou(),d=dY(t,{relative:o});return C.useCallback(h=>{if(Ybe(h,n)){h.preventDefault();let m=r!==void 0?r:B1(u)===B1(d);c(t,{replace:m,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:l})}},[u,c,d,r,s,n,t,i,o,l])}function n_e(t){let e=C.useRef(r2(t)),n=C.useRef(!1),r=ou(),s=C.useMemo(()=>Kbe(r.search,n.current?null:e.current),[r.search]),i=as(),o=C.useCallback((l,c)=>{const u=r2(typeof l=="function"?l(s):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,o]}var pY={exports:{}},gY={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0=C;function r_e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var s_e=typeof Object.is=="function"?Object.is:r_e,i_e=v0.useSyncExternalStore,a_e=v0.useRef,o_e=v0.useEffect,l_e=v0.useMemo,c_e=v0.useDebugValue;gY.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=a_e(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=l_e(function(){function c(p){if(!u){if(u=!0,d=p,p=r(p),s!==void 0&&o.hasValue){var y=o.value;if(s(y,p))return h=y}return h=p}if(y=h,s_e(d,p))return y;var w=r(p);return s!==void 0&&s(y,w)?(d=p,y):(d=p,h=w)}var u=!1,d,h,m=n===void 0?null:n;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,n,r,s]);var l=i_e(t,i[0],i[1]);return o_e(function(){o.hasValue=!0,o.value=l},[l]),c_e(l),l};pY.exports=gY;var u_e=pY.exports,cr=oe,IB=Symbol.for("react-redux-context"),kB=typeof globalThis<"u"?globalThis:{};function d_e(){if(!cr.createContext)return{};const t=kB[IB]??(kB[IB]=new Map);let e=t.get(cr.createContext);return e||(e=cr.createContext(null),t.set(cr.createContext,e)),e}var Zd=d_e(),yY=()=>{throw new Error("uSES not initialized!")};function P$(t=Zd){return function(){return cr.useContext(t)}}var vY=P$(),bY=yY,h_e=t=>{bY=t},f_e=(t,e)=>t===e;function m_e(t=Zd){const e=t===Zd?vY:P$(t);return function(r,s={}){const{equalityFn:i=f_e,devModeChecks:o={}}=typeof s=="function"?{equalityFn:s}:s,{store:l,subscription:c,getServerState:u,stabilityCheck:d,identityFunctionCheck:h}=e();cr.useRef(!0);const m=cr.useCallback({[r.name](y){return r(y)}}[r.name],[r,d,o.stabilityCheck]),p=bY(c.addNestedSub,l.getState,u||l.getState,m,i);return cr.useDebugValue(p),p}}var pb=m_e(),p_e=Symbol.for("react.element"),g_e=Symbol.for("react.portal"),y_e=Symbol.for("react.fragment"),v_e=Symbol.for("react.strict_mode"),b_e=Symbol.for("react.profiler"),__e=Symbol.for("react.provider"),w_e=Symbol.for("react.context"),x_e=Symbol.for("react.server_context"),_Y=Symbol.for("react.forward_ref"),E_e=Symbol.for("react.suspense"),S_e=Symbol.for("react.suspense_list"),D$=Symbol.for("react.memo"),j_e=Symbol.for("react.lazy"),T_e=_Y,C_e=D$;function A_e(t){if(typeof t=="object"&&t!==null){const e=t.$$typeof;switch(e){case p_e:{const n=t.type;switch(n){case y_e:case b_e:case v_e:case E_e:case S_e:return n;default:{const r=n&&n.$$typeof;switch(r){case x_e:case w_e:case _Y:case j_e:case D$:case __e:return r;default:return e}}}}case g_e:return e}}}function N_e(t){return A_e(t)===D$}function I_e(t,e,n,r,{areStatesEqual:s,areOwnPropsEqual:i,areStatePropsEqual:o}){let l=!1,c,u,d,h,m;function p(_,E){return c=_,u=E,d=t(c,u),h=e(r,u),m=n(d,h,u),l=!0,m}function y(){return d=t(c,u),e.dependsOnOwnProps&&(h=e(r,u)),m=n(d,h,u),m}function w(){return t.dependsOnOwnProps&&(d=t(c,u)),e.dependsOnOwnProps&&(h=e(r,u)),m=n(d,h,u),m}function v(){const _=t(c,u),E=!o(_,d);return d=_,E&&(m=n(d,h,u)),m}function x(_,E){const T=!i(E,u),N=!s(_,c,E,u);return c=_,u=E,T&&N?y():T?w():N?v():m}return function(E,T){return l?x(E,T):p(E,T)}}function k_e(t,{initMapStateToProps:e,initMapDispatchToProps:n,initMergeProps:r,...s}){const i=e(t,s),o=n(t,s),l=r(t,s);return I_e(i,o,l,t,s)}function O_e(t,e){const n={};for(const r in t){const s=t[r];typeof s=="function"&&(n[r]=(...i)=>e(s(...i)))}return n}function s2(t){return function(n){const r=t(n);function s(){return r}return s.dependsOnOwnProps=!1,s}}function OB(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function wY(t,e){return function(r,{displayName:s}){const i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=t,i.dependsOnOwnProps=OB(t);let u=i(l,c);return typeof u=="function"&&(i.mapToProps=u,i.dependsOnOwnProps=OB(u),u=i(l,c)),u},i}}function L$(t,e){return(n,r)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function R_e(t){return t&&typeof t=="object"?s2(e=>O_e(t,e)):t?typeof t=="function"?wY(t):L$(t,"mapDispatchToProps"):s2(e=>({dispatch:e}))}function P_e(t){return t?typeof t=="function"?wY(t):L$(t,"mapStateToProps"):s2(()=>({}))}function D_e(t,e,n){return{...n,...t,...e}}function L_e(t){return function(n,{displayName:r,areMergedPropsEqual:s}){let i=!1,o;return function(c,u,d){const h=t(c,u,d);return i?s(h,o)||(o=h):(i=!0,o=h),o}}}function M_e(t){return t?typeof t=="function"?L_e(t):L$(t,"mergeProps"):()=>D_e}function $_e(t){t()}function F_e(){let t=null,e=null;return{clear(){t=null,e=null},notify(){$_e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0,s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!r||t===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var RB={notify(){},get:()=>[]};function xY(t,e){let n,r=RB,s=0,i=!1;function o(w){d();const v=r.subscribe(w);let x=!1;return()=>{x||(x=!0,v(),h())}}function l(){r.notify()}function c(){y.onStateChange&&y.onStateChange()}function u(){return i}function d(){s++,n||(n=e?e.addNestedSub(c):t.subscribe(c),r=F_e())}function h(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=RB)}function m(){i||(i=!0,d())}function p(){i&&(i=!1,h())}const y={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:p,getListeners:()=>r};return y}var V_e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",W1=V_e?cr.useLayoutEffect:cr.useEffect;function PB(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function TO(t,e){if(PB(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(e,n[s])||!PB(t[n[s]],e[n[s]]))return!1;return!0}var U_e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},B_e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},z_e={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},EY={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},W_e={[T_e]:z_e,[C_e]:EY};function DB(t){return N_e(t)?EY:W_e[t.$$typeof]||U_e}var G_e=Object.defineProperty,H_e=Object.getOwnPropertyNames,LB=Object.getOwnPropertySymbols,q_e=Object.getOwnPropertyDescriptor,Y_e=Object.getPrototypeOf,MB=Object.prototype;function i2(t,e){if(typeof e!="string"){if(MB){const i=Y_e(e);i&&i!==MB&&i2(t,i)}let n=H_e(e);LB&&(n=n.concat(LB(e)));const r=DB(t),s=DB(e);for(let i=0;i<n.length;++i){const o=n[i];if(!B_e[o]&&!(s&&s[o])&&!(r&&r[o])){const l=q_e(e,o);try{G_e(t,o,l)}catch{}}}}return t}var SY=yY,K_e=t=>{SY=t},J_e=[null,null];function Q_e(t,e,n){W1(()=>t(...e),n)}function Z_e(t,e,n,r,s,i){t.current=r,n.current=!1,s.current&&(s.current=null,i())}function X_e(t,e,n,r,s,i,o,l,c,u,d){if(!t)return()=>{};let h=!1,m=null;const p=()=>{if(h||!l.current)return;const w=e.getState();let v,x;try{v=r(w,s.current)}catch(_){x=_,m=_}x||(m=null),v===i.current?o.current||u():(i.current=v,c.current=v,o.current=!0,d())};return n.onStateChange=p,n.trySubscribe(),p(),()=>{if(h=!0,n.tryUnsubscribe(),n.onStateChange=null,m)throw m}}function ewe(t,e){return t===e}function twe(t,e,n,{pure:r,areStatesEqual:s=ewe,areOwnPropsEqual:i=TO,areStatePropsEqual:o=TO,areMergedPropsEqual:l=TO,forwardRef:c=!1,context:u=Zd}={}){const d=u,h=P_e(t),m=R_e(e),p=M_e(n),y=!!t;return v=>{const x=v.displayName||v.name||"Component",_=`Connect(${x})`,E={shouldHandleStateChanges:y,displayName:_,wrappedComponentName:x,WrappedComponent:v,initMapStateToProps:h,initMapDispatchToProps:m,initMergeProps:p,areStatesEqual:s,areStatePropsEqual:o,areOwnPropsEqual:i,areMergedPropsEqual:l};function T(O){const[F,V,z]=cr.useMemo(()=>{const{reactReduxForwardedRef:Ut,...Xt}=O;return[O.context,Ut,Xt]},[O]),U=cr.useMemo(()=>{let Ut=d;return F!=null&&F.Consumer,Ut},[F,d]),H=cr.useContext(U),J=!!O.store&&!!O.store.getState&&!!O.store.dispatch,q=!!H&&!!H.store,L=J?O.store:H.store,Y=q?H.getServerState:L.getState,ne=cr.useMemo(()=>k_e(L.dispatch,E),[L]),[te,ce]=cr.useMemo(()=>{if(!y)return J_e;const Ut=xY(L,J?void 0:H.subscription),Xt=Ut.notifyNestedSubs.bind(Ut);return[Ut,Xt]},[L,J,H]),ve=cr.useMemo(()=>J?H:{...H,subscription:te},[J,H,te]),Ue=cr.useRef(),Ae=cr.useRef(z),at=cr.useRef(),it=cr.useRef(!1);cr.useRef(!1);const Te=cr.useRef(!1),Tt=cr.useRef();W1(()=>(Te.current=!0,()=>{Te.current=!1}),[]);const ct=cr.useMemo(()=>()=>at.current&&z===Ae.current?at.current:ne(L.getState(),z),[L,z]),pt=cr.useMemo(()=>Xt=>te?X_e(y,L,te,ne,Ae,Ue,it,Te,at,ce,Xt):()=>{},[te]);Q_e(Z_e,[Ae,Ue,it,z,at,ce]);let vt;try{vt=SY(pt,ct,Y?()=>ne(Y(),z):ct)}catch(Ut){throw Tt.current&&(Ut.message+=`
The error may be correlated with this previous error:
${Tt.current.stack}

`),Ut}W1(()=>{Tt.current=void 0,at.current=void 0,Ue.current=vt});const Ht=cr.useMemo(()=>cr.createElement(v,{...vt,ref:V}),[V,v,vt]);return cr.useMemo(()=>y?cr.createElement(U.Provider,{value:ve},Ht):Ht,[U,Ht,ve])}const D=cr.memo(T);if(D.WrappedComponent=v,D.displayName=T.displayName=_,c){const F=cr.forwardRef(function(z,U){return cr.createElement(D,{...z,reactReduxForwardedRef:U})});return F.displayName=_,F.WrappedComponent=v,i2(F,v)}return i2(D,v)}}var gb=twe;function nwe({store:t,context:e,children:n,serverState:r,stabilityCheck:s="once",identityFunctionCheck:i="once"}){const o=cr.useMemo(()=>{const u=xY(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:s,identityFunctionCheck:i}},[t,r,s,i]),l=cr.useMemo(()=>t.getState(),[t]);W1(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,l]);const c=e||Zd;return cr.createElement(c.Provider,{value:o},n)}var rwe=nwe;function jY(t=Zd){const e=t===Zd?vY:P$(t);return function(){const{store:r}=e();return r}}var swe=jY();function iwe(t=Zd){const e=t===Zd?swe:jY(t);return function(){return e().dispatch}}var Qf=iwe();h_e(u_e.useSyncExternalStoreWithSelector);K_e(C.useSyncExternalStore);function awe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function owe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function lwe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var $B=t=>Array.isArray(t)?t:[t];function cwe(t){const e=Array.isArray(t[0])?t[0]:t;return lwe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function uwe(t,e){const n=[],{length:r}=t;for(let s=0;s<r;s++)n.push(t[s].apply(null,e));return n}var dwe=class{constructor(t){this.value=t}deref(){return this.value}},hwe=typeof WeakRef<"u"?WeakRef:dwe,fwe=0,FB=1;function AS(){return{s:fwe,v:void 0,o:null,p:null}}function TY(t,e={}){let n=AS();const{resultEqualityCheck:r}=e;let s,i=0;function o(){var h;let l=n;const{length:c}=arguments;for(let m=0,p=c;m<p;m++){const y=arguments[m];if(typeof y=="function"||typeof y=="object"&&y!==null){let w=l.o;w===null&&(l.o=w=new WeakMap);const v=w.get(y);v===void 0?(l=AS(),w.set(y,l)):l=v}else{let w=l.p;w===null&&(l.p=w=new Map);const v=w.get(y);v===void 0?(l=AS(),w.set(y,l)):l=v}}const u=l;let d;if(l.s===FB)d=l.v;else if(d=t.apply(null,arguments),i++,r){const m=((h=s==null?void 0:s.deref)==null?void 0:h.call(s))??s;m!=null&&r(m,d)&&(d=m,i!==0&&i--),s=typeof d=="object"&&d!==null||typeof d=="function"?new hwe(d):d}return u.s=FB,u.v=d,d}return o.clearCache=()=>{n=AS(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function mwe(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...s)=>{let i=0,o=0,l,c={},u=s.pop();typeof u=="object"&&(c=u,u=s.pop()),awe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...c},{memoize:h,memoizeOptions:m=[],argsMemoize:p=TY,argsMemoizeOptions:y=[]}=d,w=$B(m),v=$B(y),x=cwe(s),_=h(function(){return i++,u.apply(null,arguments)},...w),E=p(function(){o++;const N=uwe(x,arguments);return l=_.apply(null,N),l},...v);return Object.assign(E,{resultFunc:u,memoizedResultFunc:_,dependencies:x,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:h,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var ig=mwe(TY),pwe=Object.assign((t,e=ig)=>{owe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(i=>t[i]);return e(r,(...i)=>i.reduce((o,l,c)=>(o[n[c]]=l,o),{}))},{withTypes:()=>pwe});const M$="CHANGE_LAYOUT",$$="CHANGE_LAYOUT_WIDTH",F$="CHANGE_SIDEBAR_THEME",V$="CHANGE_SIDEBAR_THEME_IMAGE",U$="CHANGE_SIDEBAR_TYPE",B$="CHANGE_TOPBAR_THEME",gwe="SHOW_SIDEBAR",CY="TOGGLE_LEFTMENU",z$="SHOW_RIGHT_SIDEBAR",AY="CHANGE_PRELOADER",W$="CHANGE_LAYOUT_MODE",G$=t=>({type:M$,payload:t}),ywe=t=>({type:AY,payload:t}),sA=t=>({type:W$,payload:t}),H$=t=>({type:$$,payload:t}),NY=t=>({type:F$,payload:t}),IY=t=>({type:V$,payload:t}),xf=(t,e)=>({type:U$,payload:{sidebarType:t,isMobile:e}}),q$=t=>({type:B$,payload:t}),b0=t=>({type:z$,payload:t}),kY=t=>({type:CY,payload:t}),Y$="register_user",OY="register_user_successfull",RY="register_user_failed",vwe=t=>({type:Y$,payload:{user:t}}),CO=t=>({type:OY,payload:t}),bwe=t=>({type:RY,payload:t}),PY="LOGIN_USER",DY="LOGIN_SUCCESS",K$="LOGOUT_USER",LY="LOGOUT_USER_SUCCESS",MY="LOGIN_API_ERROR",_we="SOCIAL_LOGIN",ov=t=>({type:DY,payload:t}),wwe=t=>({type:K$,payload:{history:t}}),xwe=()=>({type:LY,payload:{}}),iA=t=>({type:MY,payload:t}),$Y="FORGET_PASSWORD",FY="FORGET_PASSWORD_SUCCESS",VY="FORGET_PASSWORD_ERROR",AO=t=>({type:FY,payload:t}),Ewe=t=>({type:VY,payload:t}),J$="EDIT_PROFILE",UY="PROFILE_SUCCESS",BY="PROFILE_ERROR",zY="RESET_PROFILE_FLAG",Swe=t=>({type:J$,payload:{user:t}}),NO=t=>({type:UY,payload:t}),jwe=t=>({type:BY,payload:t}),Twe=t=>({type:zY}),Cwe="GET_PRODUCTS",WY="GET_PRODUCTS_SUCCESS",GY="GET_PRODUCTS_FAIL",Awe="GET_PRODUCT_DETAIL",HY="GET_PRODUCT_DETAIL_SUCCESS",qY="GET_PRODUCT_DETAIL_FAIL",Nwe="GET_PRODUCT_COMMENTS",YY="GET_PRODUCT_COMMENTS_SUCCESS",KY="GET_PRODUCT_COMMENTS_FAIL",Iwe="ON_LIKE_COMMENT",JY="ON_LIKE_COMMENT_SUCCESS",kwe="ON_LIKE_COMMENT_FAIL",Owe="ON_LIKE_REPLY",QY="ON_LIKE_REPLY_SUCCESS",Rwe="ON_LIKE_REPLY_FAIL",Pwe="ON_ADD_REPLY",ZY="ON_ADD_REPLY_SUCCESS",Dwe="ON_ADD_REPLY_FAIL",Lwe="ON_ADD_COMMENT",XY="ON_ADD_COMMENT_SUCCESS",Mwe="ON_ADD_COMMENT_FAIL",$we="GET_ORDERS",eK="GET_ORDERS_SUCCESS",tK="GET_ORDERS_FAIL",Fwe="ADD_NEW_ORDER",nK="ADD_ORDER_SUCCESS",rK="ADD_ORDER_FAIL",Vwe="UPDATE_ORDER",sK="UPDATE_ORDER_SUCCESS",iK="UPDATE_ORDER_FAIL",Uwe="DELETE_ORDER",aK="DELETE_ORDER_SUCCESS",oK="DELETE_ORDER_FAIL",Bwe="GET_CART_DATA",lK="GET_CART_DATA_SUCCESS",cK="GET_CART_DATA_FAIL",zwe="GET_CUSTOMERS",uK="GET_CUSTOMERS_SUCCESS",dK="GET_CUSTOMERS_FAIL",Wwe="ADD_NEW_CUSTOMER",hK="ADD_CUSTOMER_SUCCESS",fK="ADD_CUSTOMER_FAIL",Gwe="UPDATE_CUSTOMER",mK="UPDATE_CUSTOMER_SUCCESS",pK="UPDATE_CUSTOMER_FAIL",Hwe="DELETE_CUSTOMER",gK="DELETE_CUSTOMER_SUCCESS",yK="DELETE_CUSTOMER_FAIL",qwe="GET_SHOPS",vK="GET_SHOPS_SUCCESS",bK="GET_SHOPS_FAIL",Ywe=t=>({type:WY,payload:t}),Kwe=t=>({type:GY,payload:t}),Jwe=t=>({type:HY,payload:t}),Qwe=t=>({type:qY,payload:t}),Zwe=t=>({type:eK,payload:t}),Xwe=t=>({type:tK,payload:t}),exe=t=>({type:nK,payload:t}),txe=t=>({type:rK,payload:t}),nxe=t=>({type:sK,payload:t}),rxe=t=>({type:iK,payload:t}),sxe=t=>({type:aK,payload:t}),ixe=t=>({type:oK,payload:t}),axe=t=>({type:lK,payload:t}),oxe=t=>({type:cK,payload:t}),lxe=t=>({type:uK,payload:t}),cxe=t=>({type:dK,payload:t}),uxe=t=>({type:hK,payload:t}),dxe=t=>({type:fK,payload:t}),hxe=t=>({type:mK,payload:t}),fxe=t=>({type:pK,payload:t}),mxe=t=>({type:gK,payload:t}),pxe=t=>({type:yK,payload:t}),gxe=t=>({type:vK,payload:t}),yxe=t=>({type:bK,payload:t}),vxe=t=>({type:YY,payload:t}),bxe=t=>({type:KY,payload:t}),_xe=t=>({type:JY,payload:t}),wxe=t=>({type:kwe,payload:t}),xxe=t=>({type:QY,payload:t}),Exe=t=>({type:Rwe,payload:t}),Sxe=t=>({type:ZY,payload:t}),jxe=t=>({type:Dwe,payload:t}),Txe=t=>({type:XY,payload:t}),Cxe=t=>({type:Mwe,payload:t}),Axe="GET_EVENTS",_K="GET_EVENTS_SUCCESS",wK="GET_EVENTS_FAIL",Nxe="ADD_NEW_EVENT",xK="ADD_EVENT_SUCCESS",EK="ADD_EVENT_FAIL",Ixe="UPDATE_EVENT",SK="UPDATE_EVENT_SUCCESS",jK="UPDATE_EVENT_FAIL",kxe="DELETE_EVENT",TK="DELETE_EVENT_SUCCESS",CK="DELETE_EVENT_FAIL",Oxe="GET_CATEGORIES",AK="GET_CATEGORIES_SUCCESS",NK="GET_CATEGORIES_FAIL",Rxe=t=>({type:_K,payload:t}),Pxe=t=>({type:wK,payload:t}),Dxe=t=>({type:xK,payload:t}),Lxe=t=>({type:EK,payload:t}),Mxe=t=>({type:SK,payload:t}),$xe=t=>({type:jK,payload:t}),Fxe=t=>({type:TK,payload:t}),Vxe=t=>({type:CK,payload:t}),Uxe=t=>({type:AK,payload:t}),Bxe=t=>({type:NK,payload:t}),zxe="GET_CHATS",IK="GET_CHATS_SUCCESS",kK="GET_CHATS_FAIL",Wxe="GET_GROUPS",OK="GET_GROUPS_SUCCESS",RK="GET_GROUPS_FAIL",Gxe="GET_CONTACTS",PK="GET_CONTACTS_SUCCESS",DK="GET_CONTACTS_FAIL",Hxe="GET_MESSAGES",LK="GET_MESSAGES_SUCCESS",MK="GET_MESSAGES_FAIL",qxe="POST_ADD_MESSAGE",$K="POST_ADD_MESSAGE_SUCCESS",FK="POST_ADD_MESSAGE_FAIL",Yxe="DELETE_MESSAGE",VK="DELETE_MESSAGE_SUCCESS",UK="DELETE_MESSAGE_FAIL",Kxe=t=>({type:IK,payload:t}),Jxe=t=>({type:kK,payload:t}),Qxe=t=>({type:OK,payload:t}),Zxe=t=>({type:RK,payload:t}),Xxe=t=>({type:PK,payload:t}),e0e=t=>({type:DK,payload:t}),t0e=t=>({type:LK,payload:t}),n0e=t=>({type:MK,payload:t}),r0e=t=>({type:$K,payload:t}),s0e=t=>({type:FK,payload:t}),i0e=t=>({type:VK,payload:t}),a0e=t=>({type:UK,payload:t}),o0e="GET_WALLET",BK="GET_WALLET_SUCCESS",zK="GET_WALLET_FAIL",l0e="GET_CRYPTO_ORDERS",WK="GET_CRYPTO_ORDERS_SUCCESS",GK="GET_CRYPTO_ORDERS_FAIL",c0e="GET_CRYPTO_PRODUCTS",HK="GET_CRYPTO_PRODUCTS_SUCCESS",qK="GET_CRYPTO_PRODUCTS_FAIL",u0e=t=>({type:BK,payload:t}),d0e=t=>({type:zK,payload:t}),h0e=t=>({type:WK,payload:t}),f0e=t=>({type:GK,payload:t}),m0e=t=>({type:HK,payload:t}),p0e=t=>({type:qK,payload:t}),g0e="GET_INVOICES",YK="GET_INVOICES_SUCCESS",KK="GET_INVOICES_FAIL",y0e="GET_INVOICE_DETAIL",JK="GET_INVOICE_DETAIL_SUCCESS",QK="GET_INVOICE_DETAIL_FAIL",v0e=t=>({type:YK,payload:t}),b0e=t=>({type:KK,payload:t}),_0e=t=>({type:JK,payload:t}),w0e=t=>({type:QK,payload:t}),x0e="GET_JOBLIST",ZK="GET_JOB_LIST_FAIL",XK="GET_JOB_LIST_SUCCESS",E0e="ADD_NEW_JOB_LIST",eJ="ADD_JOB_LIST_SUCCESS",tJ="ADD_JOB_LIST_FAIL",S0e="UPDATE_JOB_LIST",nJ="UPDATE_JOB_LIST_SUCCESS",rJ="UPDATE_JOB_LIST_FAIL",j0e="DELETE_JOB_LIST",sJ="DELETE_JOB_LIST_SUCCESS",iJ="DELETE_JOB_LIST_FAIL",T0e="GET_APPLY_JOB",aJ="GET_APPLY_JOB_SUCCESS",oJ="GET_APPLY_JOB_FAIL",C0e="DELETE_APPLY_JOB",lJ="DELETE_APPLY_JOB_SUCCESS",cJ="DELETE_APPLY_JOB_FAIL",A0e=t=>({type:XK,payload:t}),N0e=t=>({type:ZK,payload:t}),I0e=t=>({type:eJ,payload:t}),k0e=t=>({type:tJ,payload:t}),O0e=t=>({type:nJ,payload:t}),R0e=t=>({type:rJ,payload:t}),P0e=t=>({type:sJ,payload:t}),D0e=t=>({type:iJ,payload:t}),L0e=t=>({type:aJ,payload:t}),M0e=t=>({type:oJ,payload:t}),$0e=t=>({type:lJ,payload:t}),F0e=t=>({type:cJ,payload:t}),V0e="GET_PROJECTS",uJ="GET_PROJECTS_SUCCESS",dJ="GET_PROJECTS_FAIL",U0e="GET_PROJECT_DETAIL",hJ="GET_PROJECT_DETAIL_SUCCESS",fJ="GET_PROJECT_DETAIL_FAIL",B0e="UPDATE_PROJECT",mJ="UPDATE_PROJECT_SUCCESS",pJ="UPDATE_PROJECT_FAIL",z0e="DELETE_PROJECT",gJ="DELETE_PROJECT_SUCCESS",yJ="DELETE_PROJECT_FAIL",W0e=t=>({type:uJ,payload:t}),G0e=t=>({type:mJ,payload:t}),H0e=t=>({type:pJ,payload:t}),q0e=t=>({type:gJ,payload:t}),Y0e=t=>({type:yJ,payload:t}),K0e=t=>({type:dJ,payload:t}),J0e=t=>({type:hJ,payload:t}),Q0e=t=>({type:fJ,payload:t}),Z0e="GET_TASKS",vJ="GET_TASKS_SUCCESS",bJ="GET_TASKS_FAIL",_J="DELETE_KANBAN",wJ="DELETE_KANBAN_SUCCESS",xJ="DELETE_KANBAN_FAIL",X0e="ADD_CARD_DATA",EJ="ADD_CARD_DATA_SUCCESS",SJ="ADD_CARD_DATA_FAIL",eEe="UPDATE_CARD_DATA",jJ="UPDATE_CARD_DATA_SUCCESS",TJ="UPDATE_CARD_DATA_FAIL",tEe=t=>({type:vJ,payload:t}),nEe=t=>({type:bJ,payload:t}),rEe=t=>({type:wJ,payload:t}),sEe=t=>({type:xJ,payload:t}),iEe=t=>({type:EJ,payload:t}),aEe=t=>({type:SJ,payload:t}),oEe=t=>({type:jJ,payload:t}),lEe=t=>({type:TJ,payload:t}),cEe="GET_USERS",CJ="GET_USERS_SUCCESS",AJ="GET_USERS_FAIL",uEe="GET_USER_PROFILE",NJ="GET_USER_PROFILE_SUCCESS",IJ="GET_USER_PROFILE_FAIL",dEe="ADD_NEW_USER",kJ="ADD_USER_SUCCESS",OJ="ADD_USER_FAIL",hEe="UPDATE_USER",RJ="UPDATE_USER_SUCCESS",PJ="UPDATE_USER_FAIL",fEe="DELETE_USER",DJ="DELETE_USER_SUCCESS",LJ="DELETE_USER_FAIL",mEe=t=>({type:CJ,payload:t}),pEe=t=>({type:kJ,payload:t}),gEe=t=>({type:OJ,payload:t}),yEe=t=>({type:AJ,payload:t}),vEe=t=>({type:NJ,payload:t}),bEe=t=>({type:IJ,payload:t}),_Ee=t=>({type:RJ,payload:t}),wEe=t=>({type:PJ,payload:t}),xEe=t=>({type:DJ,payload:t}),EEe=t=>({type:LJ,payload:t}),SEe="GET_MAILS_LIST",MJ="GET_MAILS_LIST_SUCCESS",$J="GET_MAILS_LIST_FAIL",jEe="SELECT_FOLDER",FJ="SELECT_FOLDER_SUCCESS",VJ="SELECT_FOLDER_FAIL",TEe="GET_SELECTED_MAILS",UJ="GET_SELECTED_MAILS_SUCCESS",BJ="GET_SELECTED_MAILS_FAIL",CEe="SET_FOLDER_SELECTED_MAILS",zJ="SET_FOLDER_SELECTED_MAILS_SUCCESS",WJ="SET_FOLDER_SELECTED_MAILS_FAIL",AEe="DELETE_MAIL",GJ="DELETE_MAIL_SUCCESS",HJ="DELETE_MAIL_FAIL",NEe="TRASH_MAIL",qJ="TRASH_MAIL_SUCCESS",YJ="TRASH_MAIL_FAIL",IEe="STARED_MAIL",KJ="STARED_MAIL_SUCCESS",JJ="STARED_MAIL_FAIL",kEe="GET_MAIL_ID",QJ="GET_MAIL_ID_SUCCESS",ZJ="GET_MAIL_ID_FAIL",XJ=t=>({type:MJ,payload:t}),eQ=t=>({type:$J,payload:t}),tQ=t=>({type:UJ,payload:t}),nQ=t=>({type:BJ,payload:t}),OEe=()=>({type:zJ}),REe=t=>({type:WJ,payload:t}),PEe=t=>({type:FJ,payload:t}),DEe=t=>({type:VJ,payload:t}),LEe=t=>({type:GJ,payload:t}),MEe=t=>({type:HJ,payload:t}),$Ee=t=>({type:qJ,payload:t}),FEe=t=>({type:YJ,payload:t}),VEe=t=>({type:KJ,payload:t}),UEe=t=>({type:JJ,payload:t}),BEe=t=>({type:QJ,payload:t}),zEe=t=>({type:ZJ,payload:t}),rQ="API_SUCCESS",sQ="API_FAIL",lx="GET_DASHBOARD_EMAILCHART",WEe=(t,e)=>({type:rQ,payload:{actionType:t,data:e}}),GEe=(t,e)=>({type:sQ,payload:{actionType:t,error:e}}),iQ="API_SUCCESS",aQ="API_FAIL",cx="GET_WALLET_DATA",HEe=(t,e)=>({type:iQ,payload:{actionType:t,data:e}}),qEe=(t,e)=>({type:aQ,payload:{actionType:t,error:e}}),oQ="API_SUCCESS",lQ="API_FAIL",ux="GET_TOP_SELLING_PRODUCT",dx="GET_EARNING_DATA",cQ=(t,e)=>({type:oQ,payload:{actionType:t,data:e}}),uQ=(t,e)=>({type:lQ,payload:{actionType:t,error:e}}),dQ="API_SUCCESS",hQ="API_FAIL",hx="GET_VISITOR_DATA",YEe=(t,e)=>({type:dQ,payload:{actionType:t,data:e}}),KEe=(t,e)=>({type:hQ,payload:{actionType:t,error:e}}),fQ="API_SUCCESS",mQ="API_FAIL",fx="GET_STATISTICS_DATA",JEe=(t,e)=>({type:fQ,payload:{actionType:t,data:e}}),QEe=(t,e)=>({type:mQ,payload:{actionType:t,error:e}}),jn=({component:t,permission:e})=>{var s,i;const n=ou(),r=localStorage.getItem("user");if(!r)return console.warn(" User not found in localStorage. Redirecting to Login."),a.jsx(av,{to:"/login",state:{from:n}});try{const o=JSON.parse(r),l=o.role||((s=o.member_details)==null?void 0:s.role),c=o.permissions||((i=o.member_details)==null?void 0:i.permissions)||[];return l==="admin"||!e||c.includes(e)?t:(console.warn(` Access Denied. Needs: ${e}, Has: ${c}`),a.jsx(av,{to:"/dashboard"}))}catch(o){return console.error(" Error parsing user data:",o),localStorage.removeItem("user"),a.jsx(av,{to:"/login"})}};var pQ={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var i="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(i=s(i,r(l)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var l in i)e.call(i,l)&&i[l]&&(o=s(o,l));return o}function s(i,o){return o?i?i+" "+o:i+o:i}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(pQ);var ZEe=pQ.exports;const Rt=Qo(ZEe);function mx(t){"@babel/helpers - typeof";return mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mx(t)}function XEe(){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}function gQ(t){document.body.style.paddingRight=t>0?"".concat(t,"px"):null}function eSe(){return document.body.clientWidth<window.innerWidth}function tSe(){var t=window.getComputedStyle(document.body,null);return parseInt(t&&t.getPropertyValue("padding-right")||0,10)}function nSe(){var t=XEe(),e=document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")[0],n=e?parseInt(e.style.paddingRight||0,10):0;eSe()&&gQ(n+t)}var rSe;function Gt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rSe;return e?t.split(" ").map(function(n){return e[n]||n}).join(" "):t}function lh(t,e){var n={};return Object.keys(t).forEach(function(r){e.indexOf(r)===-1&&(n[r]=t[r])}),n}function yQ(t,e){for(var n=Array.isArray(e)?e:[e],r=n.length,s,i={};r>0;)r-=1,s=n[r],i[s]=t[s];return i}var VB={};function a2(t){VB[t]||(typeof console<"u"&&console.error(t),VB[t]=!0)}function vQ(t,e){return function(r,s,i){r[s]!==null&&typeof r[s]<"u"&&a2('"'.concat(s,'" property of "').concat(i,`" has been deprecated.
`).concat(e));for(var o=arguments.length,l=new Array(o>3?o-3:0),c=3;c<o;c++)l[c-3]=arguments[c];return t.apply(void 0,[r,s,i].concat(l))}}var sSe=(typeof window>"u"?"undefined":mx(window))==="object"&&window.Element||function(){};function Q$(t,e,n){if(!(t[e]instanceof sSe))return new Error("Invalid prop `"+e+"` supplied to `"+n+"`. Expected prop to be an instance of Element. Validation failed.")}var Pv=P.oneOfType([P.string,P.func,Q$,P.shape({current:P.any})]),Zn=P.oneOfType([P.func,P.string,P.shape({$$typeof:P.symbol,render:P.func}),P.arrayOf(P.oneOfType([P.func,P.string,P.shape({$$typeof:P.symbol,render:P.func})]))]),G1={Fade:150,Collapse:350,Modal:300},H1=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],NS={ENTERING:"entering",ENTERED:"entered",EXITING:"exiting",EXITED:"exited"},kr={esc:27,space:32,enter:13,tab:9,up:38,down:40,home:36,end:35,n:78,p:80},iSe=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Z$=!!(typeof window<"u"&&window.document&&window.document.createElement);function aSe(t){return t&&mx(t)==="object"?"current"in t:!1}function oSe(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function X$(t){var e=mx(t);return t!=null&&(e==="object"||e==="function")}function lSe(t){if(!X$(t))return!1;var e=oSe(t);return e==="[object Function]"||e==="[object AsyncFunction]"||e==="[object GeneratorFunction]"||e==="[object Proxy]"}function cSe(t){if(aSe(t))return t.current;if(lSe(t))return t();if(typeof t=="string"&&Z$){var e=document.querySelectorAll(t);if(e.length||(e=document.querySelectorAll("#".concat(t))),!e.length)throw new Error("The target '".concat(t,"' could not be identified in the dom, tip: check spelling"));return e}return t}function UB(t){return t===null?!1:Array.isArray(t)||Z$&&typeof t.length=="number"}function px(t,e){var n=cSe(t);return e?UB(n)?n:n===null?[]:[n]:UB(n)?n[0]:n}var uSe=["a[href]","area[href]","input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","object","embed","[tabindex]:not(.modal):not(.offcanvas)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],dSe=["className","cssModule","fluid","tag"];function o2(){return o2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o2.apply(this,arguments)}function hSe(t,e){if(t==null)return{};var n=fSe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fSe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var mSe={tag:Zn,fluid:P.oneOfType([P.bool,P.string]),className:P.string,cssModule:P.object};function gn(t){var e=t.className,n=t.cssModule,r=t.fluid,s=t.tag,i=s===void 0?"div":s,o=hSe(t,dSe),l="container";r===!0?l="container-fluid":r&&(l="container-".concat(r));var c=Gt(Rt(e,l),n);return oe.createElement(i,o2({},o,{className:c}))}gn.propTypes=mSe;var pSe=["className","cssModule","noGutters","tag","widths"];function l2(){return l2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l2.apply(this,arguments)}function gSe(t,e){if(t==null)return{};var n=ySe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ySe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var vSe=["xs","sm","md","lg","xl","xxl"],Xg=P.oneOfType([P.number,P.string]),bSe={tag:Zn,noGutters:vQ(P.bool,"Please use Bootstrap 5 gutter utility classes. https://getbootstrap.com/docs/5.0/layout/gutters/"),className:P.string,cssModule:P.object,xs:Xg,sm:Xg,md:Xg,lg:Xg,xl:Xg,xxl:Xg,widths:P.array};function ge(t){var e=t.className,n=t.cssModule,r=t.noGutters,s=t.tag,i=s===void 0?"div":s,o=t.widths,l=o===void 0?vSe:o,c=gSe(t,pSe),u=[];l.forEach(function(h,m){var p=t[h];if(delete c[h],!!p){var y=!m;u.push(y?"row-cols-".concat(p):"row-cols-".concat(h,"-").concat(p))}});var d=Gt(Rt(e,r?"gx-0":null,"row",u),n);return oe.createElement(i,l2({},c,{className:d}))}ge.propTypes=bSe;var _Se=["className","cssModule","widths","tag"];function c2(){return c2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c2.apply(this,arguments)}function wSe(t,e){if(t==null)return{};var n=xSe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xSe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function IO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bQ=["xs","sm","md","lg","xl","xxl"],BB=P.oneOfType([P.number,P.string]),ey=P.oneOfType([P.bool,P.number,P.string,P.shape({size:P.oneOfType([P.bool,P.number,P.string]),order:BB,offset:BB})]),ESe={tag:Zn,xs:ey,sm:ey,md:ey,lg:ey,xl:ey,xxl:ey,className:P.string,cssModule:P.object,widths:P.array},zB=function(e,n,r){return r===!0||r===""?e?"col":"col-".concat(n):r==="auto"?e?"col-auto":"col-".concat(n,"-auto"):e?"col-".concat(r):"col-".concat(n,"-").concat(r)},SSe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:bQ,s=e,i=[];return r.forEach(function(o,l){var c=s[o];if(delete s[o],!(!c&&c!=="")){var u=!l;if(X$(c)){var d,h=u?"-":"-".concat(o,"-"),m=zB(u,o,c.size);i.push(Gt(Rt((d={},IO(d,m,c.size||c.size===""),IO(d,"order".concat(h).concat(c.order),c.order||c.order===0),IO(d,"offset".concat(h).concat(c.offset),c.offset||c.offset===0),d)),n))}else{var p=zB(u,o,c);i.push(p)}}}),{colClasses:i,modifiedAttributes:s}};function $(t){var e=t.className,n=t.cssModule,r=t.widths,s=r===void 0?bQ:r,i=t.tag,o=i===void 0?"div":i,l=wSe(t,_Se),c=SSe(l,n,s),u=c.modifiedAttributes,d=c.colClasses;d.length||d.push("col");var h=Gt(Rt(e,d),n);return oe.createElement(o,c2({},u,{className:h}))}$.propTypes=ESe;var jSe=["className","cssModule","tabs","pills","vertical","horizontal","justified","fill","navbar","card","tag"];function u2(){return u2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u2.apply(this,arguments)}function TSe(t,e){if(t==null)return{};var n=CSe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CSe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var ASe={card:P.bool,className:P.string,cssModule:P.object,fill:P.bool,horizontal:P.oneOf(["center","end"]),justified:P.bool,navbar:P.bool,pills:P.bool,tabs:P.bool,tag:Zn,vertical:P.oneOfType([P.bool,P.string])},NSe=function(e){return e===!1?!1:e===!0||e==="xs"?"flex-column":"flex-".concat(e,"-column")};function yb(t){var e=t.className,n=t.cssModule,r=t.tabs,s=t.pills,i=t.vertical,o=i===void 0?!1:i,l=t.horizontal,c=t.justified,u=t.fill,d=t.navbar,h=t.card,m=t.tag,p=m===void 0?"ul":m,y=TSe(t,jSe),w=Gt(Rt(e,d?"navbar-nav":"nav",l?"justify-content-".concat(l):!1,NSe(o),{"nav-tabs":r,"card-header-tabs":h&&r,"nav-pills":s,"card-header-pills":h&&s,"nav-justified":c,"nav-fill":u}),n);return oe.createElement(p,u2({},y,{className:w}))}yb.propTypes=ASe;var ISe=["className","cssModule","active","tag"];function d2(){return d2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d2.apply(this,arguments)}function kSe(t,e){if(t==null)return{};var n=OSe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OSe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var RSe={active:P.bool,className:P.string,cssModule:P.object,tag:Zn};function Lo(t){var e=t.className,n=t.cssModule,r=t.active,s=t.tag,i=s===void 0?"li":s,o=kSe(t,ISe),l=Gt(Rt(e,"nav-item",r?"active":!1),n);return oe.createElement(i,d2({},o,{className:l}))}Lo.propTypes=RSe;function h2(t){"@babel/helpers - typeof";return h2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h2(t)}var PSe=["className","cssModule","active","tag","innerRef"];function f2(){return f2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f2.apply(this,arguments)}function DSe(t,e){if(t==null)return{};var n=LSe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LSe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function MSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $Se(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function FSe(t,e,n){return e&&$Se(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m2(t,e)}function m2(t,e){return m2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},m2(t,e)}function USe(t){var e=zSe();return function(){var r=q1(t),s;if(e){var i=q1(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return BSe(this,s)}}function BSe(t,e){if(e&&(h2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Q(t)}function _Q(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zSe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function q1(t){return q1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},q1(t)}var WSe={active:P.bool,className:P.string,cssModule:P.object,disabled:P.bool,href:P.any,innerRef:P.oneOfType([P.object,P.func,P.string]),onClick:P.func,tag:Zn},Mo=function(t){VSe(n,t);var e=USe(n);function n(r){var s;return MSe(this,n),s=e.call(this,r),s.onClick=s.onClick.bind(_Q(s)),s}return FSe(n,[{key:"onClick",value:function(s){if(this.props.disabled){s.preventDefault();return}this.props.href==="#"&&s.preventDefault(),this.props.onClick&&this.props.onClick(s)}},{key:"render",value:function(){var s=this.props,i=s.className,o=s.cssModule,l=s.active,c=s.tag,u=c===void 0?"a":c,d=s.innerRef,h=DSe(s,PSe),m=Gt(Rt(i,"nav-link",{disabled:h.disabled,active:l}),o);return oe.createElement(u,f2({},h,{ref:d,onClick:this.onClick,className:m}))}}]),n}(oe.Component);Mo.propTypes=WSe;var GSe=["className","cssModule","active","tag"];function p2(){return p2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p2.apply(this,arguments)}function HSe(t,e){if(t==null)return{};var n=qSe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qSe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var YSe={active:P.bool,className:P.string,cssModule:P.object,tag:Zn};function g2(t){var e=t.className,n=t.cssModule,r=t.active,s=t.tag,i=s===void 0?"li":s,o=HSe(t,GSe),l=Gt(Rt(e,r?"active":!1,"breadcrumb-item"),n);return oe.createElement(i,p2({},o,{className:l,"aria-current":r?"page":void 0}))}g2.propTypes=YSe;var KSe=["className","cssModule","variant","innerRef"];function y2(){return y2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y2.apply(this,arguments)}function WB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function JSe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WB(Object(n),!0).forEach(function(r){QSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QSe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZSe(t,e){if(t==null)return{};var n=XSe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XSe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var eje={active:P.bool,"aria-label":P.string,onClick:P.func,variant:P.oneOf(["white"]),className:P.string,cssModule:P.object,innerRef:P.oneOfType([P.object,P.string,P.func])};function wQ(t){var e=t.className;t.cssModule;var n=t.variant,r=t.innerRef,s=ZSe(t,KSe),i=Gt(Rt(e,"btn-close",n&&"btn-close-".concat(n)));return oe.createElement("button",y2({ref:r,type:"button",className:i},JSe({"aria-label":"close"},s)))}wQ.propTypes=eje;var tje=["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"];function v2(){return v2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v2.apply(this,arguments)}function nje(t,e){if(t==null)return{};var n=rje(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rje(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var sje={active:P.bool,"aria-label":P.string,block:P.bool,children:P.node,className:P.string,cssModule:P.object,close:P.bool,color:P.string,disabled:P.bool,innerRef:P.oneOfType([P.object,P.func,P.string]),onClick:P.func,outline:P.bool,size:P.string,tag:Zn};function me(t){var e=C.useCallback(function(_){if(t.disabled){_.preventDefault();return}if(t.onClick)return t.onClick(_)},[t.onClick,t.disabled]),n=t.active,r=t["aria-label"],s=t.block,i=t.className,o=t.close,l=t.cssModule,c=t.color,u=c===void 0?"secondary":c,d=t.outline,h=t.size,m=t.tag,p=m===void 0?"button":m,y=t.innerRef,w=nje(t,tje);if(o)return oe.createElement(wQ,w);var v="btn".concat(d?"-outline":"","-").concat(u),x=Gt(Rt(i,"btn",v,h?"btn-".concat(h):!1,s?"d-block w-100":!1,{active:n,disabled:t.disabled}),l);return w.href&&p==="button"&&(p="a"),oe.createElement(p,v2({type:p==="button"&&w.onClick?"button":void 0},w,{className:x,ref:y,onClick:e,"aria-label":r}))}me.propTypes=sje;var xQ=C.createContext(),EQ=C.createContext();function GB(t){var e=t.children,n=C.useState(null),r=n[0],s=n[1],i=C.useRef(!1);C.useEffect(function(){return function(){i.current=!0}},[]);var o=C.useCallback(function(l){i.current||s(l)},[]);return C.createElement(xQ.Provider,{value:r},C.createElement(EQ.Provider,{value:o},e))}var SQ=function(e){return Array.isArray(e)?e[0]:e},jQ=function(e){if(typeof e=="function"){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return e.apply(void 0,r)}},b2=function(e,n){if(typeof e=="function")return jQ(e,n);e!=null&&(e.current=n)},HB=function(e){return e.reduce(function(n,r){var s=r[0],i=r[1];return n[s]=i,n},{})},qB=typeof window<"u"&&window.document&&window.document.createElement?C.useLayoutEffect:C.useEffect,Go="top",wc="bottom",xc="right",Ho="left",eF="auto",_0=[Go,wc,xc,Ho],Dv="start",gx="end",ije="clippingParents",TQ="viewport",x_="popper",aje="reference",YB=_0.reduce(function(t,e){return t.concat([e+"-"+Dv,e+"-"+gx])},[]),CQ=[].concat(_0,[eF]).reduce(function(t,e){return t.concat([e,e+"-"+Dv,e+"-"+gx])},[]),oje="beforeRead",lje="read",cje="afterRead",uje="beforeMain",dje="main",hje="afterMain",fje="beforeWrite",mje="write",pje="afterWrite",gje=[oje,lje,cje,uje,dje,hje,fje,mje,pje];function nd(t){return t?(t.nodeName||"").toLowerCase():null}function kl(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Dp(t){var e=kl(t).Element;return t instanceof e||t instanceof Element}function gc(t){var e=kl(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function tF(t){if(typeof ShadowRoot>"u")return!1;var e=kl(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function yje(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},i=e.elements[n];!gc(i)||!nd(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(o){var l=s[o];l===!1?i.removeAttribute(o):i.setAttribute(o,l===!0?"":l)}))})}function vje(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],i=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),l=o.reduce(function(c,u){return c[u]="",c},{});!gc(s)||!nd(s)||(Object.assign(s.style,l),Object.keys(i).forEach(function(c){s.removeAttribute(c)}))})}}const bje={name:"applyStyles",enabled:!0,phase:"write",fn:yje,effect:vje,requires:["computeStyles"]};function Qu(t){return t.split("-")[0]}var wp=Math.max,Y1=Math.min,Lv=Math.round;function _2(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function AQ(){return!/^((?!chrome|android).)*safari/i.test(_2())}function Mv(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),s=1,i=1;e&&gc(t)&&(s=t.offsetWidth>0&&Lv(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&Lv(r.height)/t.offsetHeight||1);var o=Dp(t)?kl(t):window,l=o.visualViewport,c=!AQ()&&n,u=(r.left+(c&&l?l.offsetLeft:0))/s,d=(r.top+(c&&l?l.offsetTop:0))/i,h=r.width/s,m=r.height/i;return{width:h,height:m,top:d,right:u+h,bottom:d+m,left:u,x:u,y:d}}function nF(t){var e=Mv(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function NQ(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&tF(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Xd(t){return kl(t).getComputedStyle(t)}function _je(t){return["table","td","th"].indexOf(nd(t))>=0}function Zf(t){return((Dp(t)?t.ownerDocument:t.document)||window.document).documentElement}function aA(t){return nd(t)==="html"?t:t.assignedSlot||t.parentNode||(tF(t)?t.host:null)||Zf(t)}function KB(t){return!gc(t)||Xd(t).position==="fixed"?null:t.offsetParent}function wje(t){var e=/firefox/i.test(_2()),n=/Trident/i.test(_2());if(n&&gc(t)){var r=Xd(t);if(r.position==="fixed")return null}var s=aA(t);for(tF(s)&&(s=s.host);gc(s)&&["html","body"].indexOf(nd(s))<0;){var i=Xd(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function w0(t){for(var e=kl(t),n=KB(t);n&&_je(n)&&Xd(n).position==="static";)n=KB(n);return n&&(nd(n)==="html"||nd(n)==="body"&&Xd(n).position==="static")?e:n||wje(t)||e}function rF(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function xw(t,e,n){return wp(t,Y1(e,n))}function xje(t,e,n){var r=xw(t,e,n);return r>n?n:r}function IQ(){return{top:0,right:0,bottom:0,left:0}}function kQ(t){return Object.assign({},IQ(),t)}function OQ(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Eje=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,kQ(typeof e!="number"?e:OQ(e,_0))};function Sje(t){var e,n=t.state,r=t.name,s=t.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,l=Qu(n.placement),c=rF(l),u=[Ho,xc].indexOf(l)>=0,d=u?"height":"width";if(!(!i||!o)){var h=Eje(s.padding,n),m=nF(i),p=c==="y"?Go:Ho,y=c==="y"?wc:xc,w=n.rects.reference[d]+n.rects.reference[c]-o[c]-n.rects.popper[d],v=o[c]-n.rects.reference[c],x=w0(i),_=x?c==="y"?x.clientHeight||0:x.clientWidth||0:0,E=w/2-v/2,T=h[p],N=_-m[d]-h[y],D=_/2-m[d]/2+E,O=xw(T,D,N),F=c;n.modifiersData[r]=(e={},e[F]=O,e.centerOffset=O-D,e)}}function jje(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||NQ(e.elements.popper,s)&&(e.elements.arrow=s))}const Tje={name:"arrow",enabled:!0,phase:"main",fn:Sje,effect:jje,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $v(t){return t.split("-")[1]}var Cje={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Aje(t,e){var n=t.x,r=t.y,s=e.devicePixelRatio||1;return{x:Lv(n*s)/s||0,y:Lv(r*s)/s||0}}function JB(t){var e,n=t.popper,r=t.popperRect,s=t.placement,i=t.variation,o=t.offsets,l=t.position,c=t.gpuAcceleration,u=t.adaptive,d=t.roundOffsets,h=t.isFixed,m=o.x,p=m===void 0?0:m,y=o.y,w=y===void 0?0:y,v=typeof d=="function"?d({x:p,y:w}):{x:p,y:w};p=v.x,w=v.y;var x=o.hasOwnProperty("x"),_=o.hasOwnProperty("y"),E=Ho,T=Go,N=window;if(u){var D=w0(n),O="clientHeight",F="clientWidth";if(D===kl(n)&&(D=Zf(n),Xd(D).position!=="static"&&l==="absolute"&&(O="scrollHeight",F="scrollWidth")),D=D,s===Go||(s===Ho||s===xc)&&i===gx){T=wc;var V=h&&D===N&&N.visualViewport?N.visualViewport.height:D[O];w-=V-r.height,w*=c?1:-1}if(s===Ho||(s===Go||s===wc)&&i===gx){E=xc;var z=h&&D===N&&N.visualViewport?N.visualViewport.width:D[F];p-=z-r.width,p*=c?1:-1}}var U=Object.assign({position:l},u&&Cje),H=d===!0?Aje({x:p,y:w},kl(n)):{x:p,y:w};if(p=H.x,w=H.y,c){var J;return Object.assign({},U,(J={},J[T]=_?"0":"",J[E]=x?"0":"",J.transform=(N.devicePixelRatio||1)<=1?"translate("+p+"px, "+w+"px)":"translate3d("+p+"px, "+w+"px, 0)",J))}return Object.assign({},U,(e={},e[T]=_?w+"px":"",e[E]=x?p+"px":"",e.transform="",e))}function Nje(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,l=n.roundOffsets,c=l===void 0?!0:l,u={placement:Qu(e.placement),variation:$v(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,JB(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,JB(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Ije={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Nje,data:{}};var IS={passive:!0};function kje(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,i=s===void 0?!0:s,o=r.resize,l=o===void 0?!0:o,c=kl(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&u.forEach(function(d){d.addEventListener("scroll",n.update,IS)}),l&&c.addEventListener("resize",n.update,IS),function(){i&&u.forEach(function(d){d.removeEventListener("scroll",n.update,IS)}),l&&c.removeEventListener("resize",n.update,IS)}}const Oje={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:kje,data:{}};var Rje={left:"right",right:"left",bottom:"top",top:"bottom"};function Fj(t){return t.replace(/left|right|bottom|top/g,function(e){return Rje[e]})}var Pje={start:"end",end:"start"};function QB(t){return t.replace(/start|end/g,function(e){return Pje[e]})}function sF(t){var e=kl(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function iF(t){return Mv(Zf(t)).left+sF(t).scrollLeft}function Dje(t,e){var n=kl(t),r=Zf(t),s=n.visualViewport,i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;var u=AQ();(u||!u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l+iF(t),y:c}}function Lje(t){var e,n=Zf(t),r=sF(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=wp(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=wp(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-r.scrollLeft+iF(t),c=-r.scrollTop;return Xd(s||n).direction==="rtl"&&(l+=wp(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:l,y:c}}function aF(t){var e=Xd(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function RQ(t){return["html","body","#document"].indexOf(nd(t))>=0?t.ownerDocument.body:gc(t)&&aF(t)?t:RQ(aA(t))}function Ew(t,e){var n;e===void 0&&(e=[]);var r=RQ(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=kl(r),o=s?[i].concat(i.visualViewport||[],aF(r)?r:[]):r,l=e.concat(o);return s?l:l.concat(Ew(aA(o)))}function w2(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Mje(t,e){var n=Mv(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function ZB(t,e,n){return e===TQ?w2(Dje(t,n)):Dp(e)?Mje(e,n):w2(Lje(Zf(t)))}function $je(t){var e=Ew(aA(t)),n=["absolute","fixed"].indexOf(Xd(t).position)>=0,r=n&&gc(t)?w0(t):t;return Dp(r)?e.filter(function(s){return Dp(s)&&NQ(s,r)&&nd(s)!=="body"}):[]}function Fje(t,e,n,r){var s=e==="clippingParents"?$je(t):[].concat(e),i=[].concat(s,[n]),o=i[0],l=i.reduce(function(c,u){var d=ZB(t,u,r);return c.top=wp(d.top,c.top),c.right=Y1(d.right,c.right),c.bottom=Y1(d.bottom,c.bottom),c.left=wp(d.left,c.left),c},ZB(t,o,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function PQ(t){var e=t.reference,n=t.element,r=t.placement,s=r?Qu(r):null,i=r?$v(r):null,o=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,c;switch(s){case Go:c={x:o,y:e.y-n.height};break;case wc:c={x:o,y:e.y+e.height};break;case xc:c={x:e.x+e.width,y:l};break;case Ho:c={x:e.x-n.width,y:l};break;default:c={x:e.x,y:e.y}}var u=s?rF(s):null;if(u!=null){var d=u==="y"?"height":"width";switch(i){case Dv:c[u]=c[u]-(e[d]/2-n[d]/2);break;case gx:c[u]=c[u]+(e[d]/2-n[d]/2);break}}return c}function yx(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,i=n.strategy,o=i===void 0?t.strategy:i,l=n.boundary,c=l===void 0?ije:l,u=n.rootBoundary,d=u===void 0?TQ:u,h=n.elementContext,m=h===void 0?x_:h,p=n.altBoundary,y=p===void 0?!1:p,w=n.padding,v=w===void 0?0:w,x=kQ(typeof v!="number"?v:OQ(v,_0)),_=m===x_?aje:x_,E=t.rects.popper,T=t.elements[y?_:m],N=Fje(Dp(T)?T:T.contextElement||Zf(t.elements.popper),c,d,o),D=Mv(t.elements.reference),O=PQ({reference:D,element:E,placement:s}),F=w2(Object.assign({},E,O)),V=m===x_?F:D,z={top:N.top-V.top+x.top,bottom:V.bottom-N.bottom+x.bottom,left:N.left-V.left+x.left,right:V.right-N.right+x.right},U=t.modifiersData.offset;if(m===x_&&U){var H=U[s];Object.keys(z).forEach(function(J){var q=[xc,wc].indexOf(J)>=0?1:-1,L=[Go,wc].indexOf(J)>=0?"y":"x";z[J]+=H[L]*q})}return z}function Vje(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,i=n.rootBoundary,o=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,u=c===void 0?CQ:c,d=$v(r),h=d?l?YB:YB.filter(function(y){return $v(y)===d}):_0,m=h.filter(function(y){return u.indexOf(y)>=0});m.length===0&&(m=h);var p=m.reduce(function(y,w){return y[w]=yx(t,{placement:w,boundary:s,rootBoundary:i,padding:o})[Qu(w)],y},{});return Object.keys(p).sort(function(y,w){return p[y]-p[w]})}function Uje(t){if(Qu(t)===eF)return[];var e=Fj(t);return[QB(t),e,QB(e)]}function Bje(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,l=o===void 0?!0:o,c=n.fallbackPlacements,u=n.padding,d=n.boundary,h=n.rootBoundary,m=n.altBoundary,p=n.flipVariations,y=p===void 0?!0:p,w=n.allowedAutoPlacements,v=e.options.placement,x=Qu(v),_=x===v,E=c||(_||!y?[Fj(v)]:Uje(v)),T=[v].concat(E).reduce(function(it,Te){return it.concat(Qu(Te)===eF?Vje(e,{placement:Te,boundary:d,rootBoundary:h,padding:u,flipVariations:y,allowedAutoPlacements:w}):Te)},[]),N=e.rects.reference,D=e.rects.popper,O=new Map,F=!0,V=T[0],z=0;z<T.length;z++){var U=T[z],H=Qu(U),J=$v(U)===Dv,q=[Go,wc].indexOf(H)>=0,L=q?"width":"height",Y=yx(e,{placement:U,boundary:d,rootBoundary:h,altBoundary:m,padding:u}),ne=q?J?xc:Ho:J?wc:Go;N[L]>D[L]&&(ne=Fj(ne));var te=Fj(ne),ce=[];if(i&&ce.push(Y[H]<=0),l&&ce.push(Y[ne]<=0,Y[te]<=0),ce.every(function(it){return it})){V=U,F=!1;break}O.set(U,ce)}if(F)for(var ve=y?3:1,Ue=function(Te){var Tt=T.find(function(ct){var pt=O.get(ct);if(pt)return pt.slice(0,Te).every(function(vt){return vt})});if(Tt)return V=Tt,"break"},Ae=ve;Ae>0;Ae--){var at=Ue(Ae);if(at==="break")break}e.placement!==V&&(e.modifiersData[r]._skip=!0,e.placement=V,e.reset=!0)}}const zje={name:"flip",enabled:!0,phase:"main",fn:Bje,requiresIfExists:["offset"],data:{_skip:!1}};function XB(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function ez(t){return[Go,xc,wc,Ho].some(function(e){return t[e]>=0})}function Wje(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,o=yx(e,{elementContext:"reference"}),l=yx(e,{altBoundary:!0}),c=XB(o,r),u=XB(l,s,i),d=ez(c),h=ez(u);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}const Gje={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Wje};function Hje(t,e,n){var r=Qu(t),s=[Ho,Go].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],l=i[1];return o=o||0,l=(l||0)*s,[Ho,xc].indexOf(r)>=0?{x:l,y:o}:{x:o,y:l}}function qje(t){var e=t.state,n=t.options,r=t.name,s=n.offset,i=s===void 0?[0,0]:s,o=CQ.reduce(function(d,h){return d[h]=Hje(h,e.rects,i),d},{}),l=o[e.placement],c=l.x,u=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const Yje={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:qje};function Kje(t){var e=t.state,n=t.name;e.modifiersData[n]=PQ({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Jje={name:"popperOffsets",enabled:!0,phase:"read",fn:Kje,data:{}};function Qje(t){return t==="x"?"y":"x"}function Zje(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,l=o===void 0?!1:o,c=n.boundary,u=n.rootBoundary,d=n.altBoundary,h=n.padding,m=n.tether,p=m===void 0?!0:m,y=n.tetherOffset,w=y===void 0?0:y,v=yx(e,{boundary:c,rootBoundary:u,padding:h,altBoundary:d}),x=Qu(e.placement),_=$v(e.placement),E=!_,T=rF(x),N=Qje(T),D=e.modifiersData.popperOffsets,O=e.rects.reference,F=e.rects.popper,V=typeof w=="function"?w(Object.assign({},e.rects,{placement:e.placement})):w,z=typeof V=="number"?{mainAxis:V,altAxis:V}:Object.assign({mainAxis:0,altAxis:0},V),U=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,H={x:0,y:0};if(D){if(i){var J,q=T==="y"?Go:Ho,L=T==="y"?wc:xc,Y=T==="y"?"height":"width",ne=D[T],te=ne+v[q],ce=ne-v[L],ve=p?-F[Y]/2:0,Ue=_===Dv?O[Y]:F[Y],Ae=_===Dv?-F[Y]:-O[Y],at=e.elements.arrow,it=p&&at?nF(at):{width:0,height:0},Te=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:IQ(),Tt=Te[q],ct=Te[L],pt=xw(0,O[Y],it[Y]),vt=E?O[Y]/2-ve-pt-Tt-z.mainAxis:Ue-pt-Tt-z.mainAxis,Ht=E?-O[Y]/2+ve+pt+ct+z.mainAxis:Ae+pt+ct+z.mainAxis,It=e.elements.arrow&&w0(e.elements.arrow),Ut=It?T==="y"?It.clientTop||0:It.clientLeft||0:0,Xt=(J=U==null?void 0:U[T])!=null?J:0,Ee=ne+vt-Xt-Ut,We=ne+Ht-Xt,Jt=xw(p?Y1(te,Ee):te,ne,p?wp(ce,We):ce);D[T]=Jt,H[T]=Jt-ne}if(l){var ke,lt=T==="x"?Go:Ho,_e=T==="x"?wc:xc,Q=D[N],ee=N==="y"?"height":"width",Z=Q+v[lt],ye=Q-v[_e],be=[Go,Ho].indexOf(x)!==-1,A=(ke=U==null?void 0:U[N])!=null?ke:0,B=be?Z:Q-O[ee]-F[ee]-A+z.altAxis,se=be?Q+O[ee]+F[ee]-A-z.altAxis:ye,de=p&&be?xje(B,Q,se):xw(p?B:Z,Q,p?se:ye);D[N]=de,H[N]=de-Q}e.modifiersData[r]=H}}const Xje={name:"preventOverflow",enabled:!0,phase:"main",fn:Zje,requiresIfExists:["offset"]};function e1e(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function t1e(t){return t===kl(t)||!gc(t)?sF(t):e1e(t)}function n1e(t){var e=t.getBoundingClientRect(),n=Lv(e.width)/t.offsetWidth||1,r=Lv(e.height)/t.offsetHeight||1;return n!==1||r!==1}function r1e(t,e,n){n===void 0&&(n=!1);var r=gc(e),s=gc(e)&&n1e(e),i=Zf(e),o=Mv(t,s,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((nd(e)!=="body"||aF(i))&&(l=t1e(e)),gc(e)?(c=Mv(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):i&&(c.x=iF(i))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function s1e(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function s(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var c=e.get(l);c&&s(c)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||s(i)}),r}function i1e(t){var e=s1e(t);return gje.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function a1e(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function o1e(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var tz={placement:"bottom",modifiers:[],strategy:"absolute"};function nz(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function l1e(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,i=s===void 0?tz:s;return function(l,c,u){u===void 0&&(u=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},tz,i),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},h=[],m=!1,p={state:d,setOptions:function(x){var _=typeof x=="function"?x(d.options):x;w(),d.options=Object.assign({},i,d.options,_),d.scrollParents={reference:Dp(l)?Ew(l):l.contextElement?Ew(l.contextElement):[],popper:Ew(c)};var E=i1e(o1e([].concat(r,d.options.modifiers)));return d.orderedModifiers=E.filter(function(T){return T.enabled}),y(),p.update()},forceUpdate:function(){if(!m){var x=d.elements,_=x.reference,E=x.popper;if(nz(_,E)){d.rects={reference:r1e(_,w0(E),d.options.strategy==="fixed"),popper:nF(E)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(z){return d.modifiersData[z.name]=Object.assign({},z.data)});for(var T=0;T<d.orderedModifiers.length;T++){if(d.reset===!0){d.reset=!1,T=-1;continue}var N=d.orderedModifiers[T],D=N.fn,O=N.options,F=O===void 0?{}:O,V=N.name;typeof D=="function"&&(d=D({state:d,options:F,name:V,instance:p})||d)}}}},update:a1e(function(){return new Promise(function(v){p.forceUpdate(),v(d)})}),destroy:function(){w(),m=!0}};if(!nz(l,c))return p;p.setOptions(u).then(function(v){!m&&u.onFirstUpdate&&u.onFirstUpdate(v)});function y(){d.orderedModifiers.forEach(function(v){var x=v.name,_=v.options,E=_===void 0?{}:_,T=v.effect;if(typeof T=="function"){var N=T({state:d,name:x,instance:p,options:E}),D=function(){};h.push(N||D)}})}function w(){h.forEach(function(v){return v()}),h=[]}return p}}var c1e=[Oje,Jje,Ije,bje,Yje,zje,Xje,Tje,Gje],u1e=l1e({defaultModifiers:c1e}),d1e=typeof Element<"u",h1e=typeof Map=="function",f1e=typeof Set=="function",m1e=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Vj(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Vj(t[r],e[r]))return!1;return!0}var i;if(h1e&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;for(i=t.entries();!(r=i.next()).done;)if(!Vj(r.value[1],e.get(r.value[0])))return!1;return!0}if(f1e&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(m1e&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(d1e&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&t.$$typeof)&&!Vj(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}var p1e=function(e,n){try{return Vj(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const g1e=Qo(p1e);var y1e=[],v1e=function(e,n,r){r===void 0&&(r={});var s=C.useRef(null),i={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||y1e},o=C.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),l=o[0],c=o[1],u=C.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(p){var y=p.state,w=Object.keys(y.elements);y0.flushSync(function(){c({styles:HB(w.map(function(v){return[v,y.styles[v]||{}]})),attributes:HB(w.map(function(v){return[v,y.attributes[v]]}))})})},requires:["computeStyles"]}},[]),d=C.useMemo(function(){var m={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[u,{name:"applyStyles",enabled:!1}])};return g1e(s.current,m)?s.current||m:(s.current=m,m)},[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,u]),h=C.useRef();return qB(function(){h.current&&h.current.setOptions(d)},[d]),qB(function(){if(!(e==null||n==null)){var m=r.createPopper||u1e,p=m(e,n,d);return h.current=p,function(){p.destroy(),h.current=null}}},[e,n,r.createPopper]),{state:h.current?h.current.state:null,styles:l.styles,attributes:l.attributes,update:h.current?h.current.update:null,forceUpdate:h.current?h.current.forceUpdate:null}},b1e=function(){},_1e=function(){return Promise.resolve(null)},w1e=[];function DQ(t){var e=t.placement,n=e===void 0?"bottom":e,r=t.strategy,s=r===void 0?"absolute":r,i=t.modifiers,o=i===void 0?w1e:i,l=t.referenceElement,c=t.onFirstUpdate,u=t.innerRef,d=t.children,h=C.useContext(xQ),m=C.useState(null),p=m[0],y=m[1],w=C.useState(null),v=w[0],x=w[1];C.useEffect(function(){b2(u,p)},[u,p]);var _=C.useMemo(function(){return{placement:n,strategy:s,onFirstUpdate:c,modifiers:[].concat(o,[{name:"arrow",enabled:v!=null,options:{element:v}}])}},[n,s,c,o,v]),E=v1e(l||h,p,_),T=E.state,N=E.styles,D=E.forceUpdate,O=E.update,F=C.useMemo(function(){return{ref:y,style:N.popper,placement:T?T.placement:n,hasPopperEscaped:T&&T.modifiersData.hide?T.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:T&&T.modifiersData.hide?T.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:N.arrow,ref:x},forceUpdate:D||b1e,update:O||_1e}},[y,x,n,T,N,O,D]);return SQ(d)(F)}var x1e=function(){},E1e=x1e;const S1e=Qo(E1e);function j1e(t){var e=t.children,n=t.innerRef,r=C.useContext(EQ),s=C.useCallback(function(i){b2(n,i),jQ(r,i)},[n,r]);return C.useEffect(function(){return function(){return b2(n,null)}},[]),C.useEffect(function(){S1e(!!r,"`Reference` should not be used outside of a `Manager` component.")},[r]),SQ(e)({ref:s})}var vx=oe.createContext({}),LQ=oe.createContext({});function x2(t){"@babel/helpers - typeof";return x2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x2(t)}var T1e=["className","cssModule","direction","isOpen","group","size","nav","setActiveFromChild","active","tag","menuRole"];function E2(){return E2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E2.apply(this,arguments)}function Rh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C1e(t,e){if(t==null)return{};var n=A1e(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A1e(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function N1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k1e(t,e,n){return e&&I1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function O1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S2(t,e)}function S2(t,e){return S2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},S2(t,e)}function R1e(t){var e=D1e();return function(){var r=K1(t),s;if(e){var i=K1(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return P1e(this,s)}}function P1e(t,e){if(e&&(x2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wh(t)}function Wh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D1e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function K1(t){return K1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},K1(t)}var L1e={a11y:P.bool,disabled:P.bool,direction:P.oneOf(["up","down","start","end","left","right"]),group:P.bool,isOpen:P.bool,nav:P.bool,active:P.bool,size:P.string,tag:Zn,toggle:P.func,children:P.node,className:P.string,cssModule:P.object,dropup:P.bool,inNavbar:P.bool,setActiveFromChild:P.bool,menuRole:P.oneOf(["listbox","menu"])},M1e={a11y:!0,isOpen:!1,direction:"down",nav:!1,active:!1,inNavbar:!1,setActiveFromChild:!1},$1e=[kr.space,kr.enter,kr.up,kr.down,kr.end,kr.home],tu=function(t){O1e(n,t);var e=R1e(n);function n(r){var s;return N1e(this,n),s=e.call(this,r),s.addEvents=s.addEvents.bind(Wh(s)),s.handleDocumentClick=s.handleDocumentClick.bind(Wh(s)),s.handleKeyDown=s.handleKeyDown.bind(Wh(s)),s.removeEvents=s.removeEvents.bind(Wh(s)),s.toggle=s.toggle.bind(Wh(s)),s.handleMenuRef=s.handleMenuRef.bind(Wh(s)),s.handleToggleRef=s.handleToggleRef.bind(Wh(s)),s.containerRef=oe.createRef(),s.menuRef=oe.createRef(),s.toggleRef=oe.createRef(),s}return k1e(n,[{key:"componentDidMount",value:function(){this.handleProps()}},{key:"componentDidUpdate",value:function(s){this.props.isOpen!==s.isOpen&&this.handleProps()}},{key:"componentWillUnmount",value:function(){this.removeEvents()}},{key:"handleMenuRef",value:function(s){this.menuRef.current=s}},{key:"handleToggleRef",value:function(s){this.toggleRef.current=s}},{key:"handleDocumentClick",value:function(s){if(!(s&&(s.which===3||s.type==="keyup"&&s.which!==kr.tab))){var i=this.getContainer(),o=this.getMenu(),l=this.getToggle(),c=l.contains(s.target),u=o&&o.contains(s.target)&&o!==s.target,d=!1;i&&(d=i.classList.contains("input-group")&&i.classList.contains("dropdown")&&s.target.tagName==="INPUT"),!((c&&!d||u)&&(s.type!=="keyup"||s.which===kr.tab))&&this.toggle(s)}}},{key:"handleKeyDown",value:function(s){var i=this,o=s.target.getAttribute("role")==="menuitem"||s.target.getAttribute("role")==="option",l=this.getMenuCtrl()===s.target,c=kr.tab===s.which;if(!(/input|textarea/i.test(s.target.tagName)||c&&!this.props.a11y||c&&!(o||l))&&(($1e.indexOf(s.which)!==-1||s.which>=48&&s.which<=90)&&s.preventDefault(),!this.props.disabled)){if(l)if([kr.space,kr.enter,kr.up,kr.down].indexOf(s.which)>-1)this.props.isOpen||this.toggle(s),setTimeout(function(){var _;return(_=i.getMenuItems()[0])===null||_===void 0?void 0:_.focus()});else if(this.props.isOpen&&c){var u;s.preventDefault(),(u=this.getMenuItems()[0])===null||u===void 0||u.focus()}else this.props.isOpen&&s.which===kr.esc&&this.toggle(s);if(this.props.isOpen&&o){if([kr.tab,kr.esc].indexOf(s.which)>-1)this.toggle(s),this.getMenuCtrl().focus();else if([kr.space,kr.enter].indexOf(s.which)>-1)s.target.click(),this.getMenuCtrl().focus();else if([kr.down,kr.up].indexOf(s.which)>-1||[kr.n,kr.p].indexOf(s.which)>-1&&s.ctrlKey){var d=this.getMenuItems(),h=d.indexOf(s.target);kr.up===s.which||kr.p===s.which&&s.ctrlKey?h=h!==0?h-1:d.length-1:(kr.down===s.which||kr.n===s.which&&s.ctrlKey)&&(h=h===d.length-1?0:h+1),d[h].focus()}else if(kr.end===s.which){var m=this.getMenuItems();m[m.length-1].focus()}else if(kr.home===s.which){var p=this.getMenuItems();p[0].focus()}else if(s.which>=48&&s.which<=90)for(var y=this.getMenuItems(),w=String.fromCharCode(s.which).toLowerCase(),v=0;v<y.length;v+=1){var x=y[v].textContent&&y[v].textContent[0].toLowerCase();if(x===w){y[v].focus();break}}}}}},{key:"handleProps",value:function(){this.props.isOpen?this.addEvents():this.removeEvents()}},{key:"getContextValue",value:function(){return{toggle:this.toggle,isOpen:this.props.isOpen,direction:this.props.direction==="down"&&this.props.dropup?"up":this.props.direction,inNavbar:this.props.inNavbar,disabled:this.props.disabled,onMenuRef:this.handleMenuRef,onToggleRef:this.handleToggleRef,menuRole:this.props.menuRole}}},{key:"getContainer",value:function(){return this.containerRef.current}},{key:"getMenu",value:function(){return this.menuRef.current}},{key:"getToggle",value:function(){return this.toggleRef.current}},{key:"getMenuCtrl",value:function(){return this._$menuCtrl?this._$menuCtrl:(this._$menuCtrl=this.getToggle(),this._$menuCtrl)}},{key:"getItemType",value:function(){return this.props.menuRole==="listbox"?"option":"menuitem"}},{key:"getMenuItems",value:function(){var s=this.getMenu()||this.getContainer();return[].slice.call(s.querySelectorAll('[role="'.concat(this.getItemType(),'"]')))}},{key:"addEvents",value:function(){var s=this;["click","touchstart","keyup"].forEach(function(i){return document.addEventListener(i,s.handleDocumentClick,!0)})}},{key:"removeEvents",value:function(){var s=this;["click","touchstart","keyup"].forEach(function(i){return document.removeEventListener(i,s.handleDocumentClick,!0)})}},{key:"toggle",value:function(s){return this.props.disabled?s&&s.preventDefault():this.props.toggle(s)}},{key:"render",value:function(){var s,i=this,o=lh(this.props,["toggle","disabled","inNavbar","a11y"]),l=o.className,c=o.cssModule,u=o.direction,d=o.isOpen,h=o.group,m=o.size,p=o.nav,y=o.setActiveFromChild,w=o.active,v=o.tag;o.menuRole;var x=C1e(o,T1e),_=v||(p?"li":"div"),E=!1;y&&oe.Children.map(this.props.children[1].props.children,function(N){N&&N.props.active&&(E=!0)});var T=Gt(Rt(l,p&&w?"active":!1,y&&E?"active":!1,(s={"btn-group":h},Rh(s,"btn-group-".concat(m),!!m),Rh(s,"dropdown",!h),Rh(s,"dropup",u==="up"),Rh(s,"dropstart",u==="start"||u==="left"),Rh(s,"dropend",u==="end"||u==="right"),Rh(s,"show",d),Rh(s,"nav-item",p),s)),c);return this.context.insideInputGroup?oe.createElement(vx.Provider,{value:this.getContextValue()},oe.createElement(GB,null,oe.Children.map(this.props.children,function(N){return oe.cloneElement(N,{onKeyDown:i.handleKeyDown})}))):oe.createElement(vx.Provider,{value:this.getContextValue()},oe.createElement(GB,null,oe.createElement(_,E2({},x,Rh({},typeof _=="string"?"ref":"innerRef",this.containerRef),{onKeyDown:this.handleKeyDown,className:T}))))}}]),n}(oe.Component);tu.propTypes=L1e;tu.defaultProps=M1e;tu.contextType=LQ;var F1e=["className","cssModule","size","vertical","tag"];function j2(){return j2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j2.apply(this,arguments)}function rz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function V1e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rz(Object(n),!0).forEach(function(r){U1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U1e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B1e(t,e){if(t==null)return{};var n=z1e(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function z1e(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var W1e={"aria-label":P.string,className:P.string,cssModule:P.object,role:P.string,size:P.string,tag:Zn,vertical:P.bool};function MQ(t){var e=t.className,n=t.cssModule,r=t.size,s=t.vertical,i=t.tag,o=i===void 0?"div":i,l=B1e(t,F1e),c=Gt(Rt(e,r?"btn-group-"+r:!1,s?"btn-group-vertical":"btn-group"),n);return oe.createElement(o,j2({},V1e({role:"group"},l),{className:c}))}MQ.propTypes=W1e;function T2(t){"@babel/helpers - typeof";return T2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T2(t)}var G1e=["className","cssModule","divider","tag","header","active","text"];function C2(){return C2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C2.apply(this,arguments)}function H1e(t,e){if(t==null)return{};var n=q1e(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function q1e(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Y1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function J1e(t,e,n){return e&&K1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A2(t,e)}function A2(t,e){return A2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},A2(t,e)}function Z1e(t){var e=eTe();return function(){var r=J1(t),s;if(e){var i=J1(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return X1e(this,s)}}function X1e(t,e){if(e&&(T2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N2(t)}function N2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eTe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function J1(t){return J1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J1(t)}var tTe={children:P.node,active:P.bool,disabled:P.bool,divider:P.bool,tag:Zn,header:P.bool,onClick:P.func,className:P.string,cssModule:P.object,toggle:P.bool,text:P.bool},sf=function(t){Q1e(n,t);var e=Z1e(n);function n(r){var s;return Y1e(this,n),s=e.call(this,r),s.onClick=s.onClick.bind(N2(s)),s.getTabIndex=s.getTabIndex.bind(N2(s)),s}return J1e(n,[{key:"onClick",value:function(s){var i,o=this.props,l=o.disabled,c=o.header,u=o.divider,d=o.text;if(l||c||u||d){s.preventDefault();return}this.props.onClick&&this.props.onClick(s),(!((i=this.props.toggle)!==null&&i!==void 0)||i)&&this.context.toggle(s)}},{key:"getRole",value:function(){return this.context.menuRole==="listbox"?"option":"menuitem"}},{key:"getTabIndex",value:function(){var s=this.props,i=s.disabled,o=s.header,l=s.divider,c=s.text;return i||o||l||c?"-1":"0"}},{key:"render",value:function(){var s=this.getTabIndex(),i=s>-1?this.getRole():void 0,o=lh(this.props,["toggle"]),l=o.className,c=o.cssModule,u=o.divider,d=o.tag,h=d===void 0?"button":d,m=o.header,p=o.active,y=o.text,w=H1e(o,G1e),v=Gt(Rt(l,{disabled:w.disabled,"dropdown-item":!u&&!m&&!y,active:p,"dropdown-header":m,"dropdown-divider":u,"dropdown-item-text":y}),c);return h==="button"&&(m?h="h6":u?h="div":w.href?h="a":y&&(h="span")),oe.createElement(h,C2({type:h==="button"&&(w.onClick||this.props.toggle)?"button":void 0},w,{tabIndex:s,role:i,className:v,onClick:this.onClick}))}}]),n}(oe.Component);sf.propTypes=tTe;sf.contextType=vx;function I2(t){"@babel/helpers - typeof";return I2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I2(t)}var nTe=["className","cssModule","dark","end","right","tag","flip","modifiers","persist","strategy","container","updateOnSelect"];function Q1(){return Q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q1.apply(this,arguments)}function sz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function kO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sz(Object(n),!0).forEach(function(r){rTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rTe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sTe(t){return lTe(t)||oTe(t)||aTe(t)||iTe()}function iTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aTe(t,e){if(t){if(typeof t=="string")return k2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k2(t,e)}}function oTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lTe(t){if(Array.isArray(t))return k2(t)}function k2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cTe(t,e){if(t==null)return{};var n=uTe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uTe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function dTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fTe(t,e,n){return e&&hTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O2(t,e)}function O2(t,e){return O2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},O2(t,e)}function pTe(t){var e=vTe();return function(){var r=Z1(t),s;if(e){var i=Z1(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return gTe(this,s)}}function gTe(t,e){if(e&&(I2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yTe(t)}function yTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vTe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Z1(t){return Z1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z1(t)}var bTe={tag:Zn,children:P.node.isRequired,dark:P.bool,end:P.bool,flip:P.bool,modifiers:P.array,className:P.string,cssModule:P.object,style:P.object,persist:P.bool,strategy:P.string,container:Pv,updateOnSelect:P.bool,right:vQ(P.bool,'Please use "end" instead.')},_Te={up:"top",left:"left",right:"right",start:"left",end:"right",down:"bottom"},kf=function(t){mTe(n,t);var e=pTe(n);function n(){return dTe(this,n),e.apply(this,arguments)}return fTe(n,[{key:"getRole",value:function(){return this.context.menuRole==="listbox"?"listbox":"menu"}},{key:"render",value:function(){var s=this,i=this.props,o=i.className,l=i.cssModule,c=i.dark,u=i.end,d=i.right,h=i.tag,m=h===void 0?"div":h,p=i.flip,y=p===void 0?!0:p,w=i.modifiers,v=w===void 0?[]:w,x=i.persist,_=i.strategy,E=i.container,T=i.updateOnSelect,N=cTe(i,nTe),D=Gt(Rt(o,"dropdown-menu",{"dropdown-menu-dark":c,"dropdown-menu-end":u||d,show:this.context.isOpen}),l),O=m;if(x||this.context.isOpen&&!this.context.inNavbar){var F=_Te[this.context.direction]||"bottom",V=u||d?"end":"start",z="".concat(F,"-").concat(V),U=[].concat(sTe(v),[{name:"flip",enabled:!!y}]),H={};x&&(H.display="block",H.visibility=this.context.isOpen?"visible":"hidden");var J=oe.createElement(DQ,{placement:z,modifiers:U,strategy:_},function(L){var Y=L.ref,ne=L.style,te=L.placement,ce=L.update,ve=kO(kO(kO({},s.props.style),H),ne),Ue=function(at){Y(at);var it=s.context.onMenuRef;it&&it(at)};return oe.createElement(O,Q1({tabIndex:"-1",role:s.getRole(),ref:Ue},N,{style:ve,"aria-hidden":!s.context.isOpen,className:D,"data-popper-placement":te,onClick:function(){return T&&ce()}}))});return E?dp.createPortal(J,px(E)):J}var q=this.context.onMenuRef;return oe.createElement(O,Q1({tabIndex:"-1",role:this.getRole()},N,{ref:q,"aria-hidden":!this.context.isOpen,className:D,"data-popper-placement":N.placement,"data-bs-popper":"static"}))}}]),n}(oe.Component);kf.propTypes=bTe;kf.contextType=vx;function R2(t){"@babel/helpers - typeof";return R2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R2(t)}var wTe=["className","color","cssModule","caret","split","nav","tag","innerRef"];function xTe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X1(){return X1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X1.apply(this,arguments)}function ETe(t,e){if(t==null)return{};var n=STe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function STe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function jTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function CTe(t,e,n){return e&&TTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ATe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P2(t,e)}function P2(t,e){return P2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},P2(t,e)}function NTe(t){var e=kTe();return function(){var r=eT(t),s;if(e){var i=eT(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return ITe(this,s)}}function ITe(t,e){if(e&&(R2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Q(t)}function $Q(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kTe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function eT(t){return eT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eT(t)}var OTe={caret:P.bool,color:P.string,children:P.node,className:P.string,cssModule:P.object,disabled:P.bool,onClick:P.func,"aria-haspopup":P.bool,split:P.bool,tag:Zn,nav:P.bool,innerRef:P.oneOfType([P.object,P.string,P.func])},RTe={color:"secondary","aria-haspopup":!0},eh=function(t){ATe(n,t);var e=NTe(n);function n(r){var s;return jTe(this,n),s=e.call(this,r),s.onClick=s.onClick.bind($Q(s)),s}return CTe(n,[{key:"onClick",value:function(s){if(this.props.disabled||this.context.disabled){s.preventDefault();return}this.props.nav&&!this.props.tag&&s.preventDefault(),this.props.onClick&&this.props.onClick(s),this.context.toggle(s)}},{key:"getRole",value:function(){return this.context.menuRole||this.props["aria-haspopup"]}},{key:"render",value:function(){var s=this,i=this.props,o=i.className,l=i.color,c=i.cssModule,u=i.caret,d=i.split,h=i.nav,m=i.tag,p=i.innerRef,y=ETe(i,wTe),w=y["aria-label"]||"Toggle Dropdown",v=Gt(Rt(o,{"dropdown-toggle":u||d,"dropdown-toggle-split":d,"nav-link":h}),c),x=typeof y.children<"u"?y.children:oe.createElement("span",{className:"visually-hidden"},w),_;return h&&!m?(_="a",y.href="#"):m?_=m:(_=me,y.color=l,y.cssModule=c),this.context.inNavbar?oe.createElement(_,X1({},y,{className:v,onClick:this.onClick,ref:this.context.onToggleRef,"aria-expanded":this.context.isOpen,"aria-haspopup":this.getRole(),children:x})):oe.createElement(j1e,{innerRef:p},function(E){var T=E.ref,N=function(O){T(O);var F=s.context.onToggleRef;F&&F(O)};return oe.createElement(_,X1({},y,xTe({},typeof _=="string"?"ref":"innerRef",N),{className:v,onClick:s.onClick,"aria-expanded":s.context.isOpen,"aria-haspopup":s.getRole(),children:x}))})}}]),n}(oe.Component);eh.propTypes=OTe;eh.defaultProps=RTe;eh.contextType=vx;function mn(){return mn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mn.apply(this,arguments)}function FQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function tT(t,e){return tT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},tT(t,e)}function PTe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,tT(t,e)}const iz={disabled:!1},VQ=oe.createContext(null);var DTe=function(e){return e.scrollTop},K_="unmounted",Vm="exited",Um="entering",Sy="entered",D2="exiting",Zo=function(t){PTe(e,t);function e(r,s){var i;i=t.call(this,r,s)||this;var o=s,l=o&&!o.isMounting?r.enter:r.appear,c;return i.appearStatus=null,r.in?l?(c=Vm,i.appearStatus=Um):c=Sy:r.unmountOnExit||r.mountOnEnter?c=K_:c=Vm,i.state={status:c},i.nextCallback=null,i}e.getDerivedStateFromProps=function(s,i){var o=s.in;return o&&i.status===K_?{status:Vm}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var i=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==Um&&o!==Sy&&(i=Um):(o===Um||o===Sy)&&(i=D2)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,i,o,l;return i=o=l=s,s!=null&&typeof s!="number"&&(i=s.exit,o=s.enter,l=s.appear!==void 0?s.appear:o),{exit:i,enter:o,appear:l}},n.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===Um){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:dp.findDOMNode(this);o&&DTe(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Vm&&this.setState({status:K_})},n.performEnter=function(s){var i=this,o=this.props.enter,l=this.context?this.context.isMounting:s,c=this.props.nodeRef?[l]:[dp.findDOMNode(this),l],u=c[0],d=c[1],h=this.getTimeouts(),m=l?h.appear:h.enter;if(!s&&!o||iz.disabled){this.safeSetState({status:Sy},function(){i.props.onEntered(u)});return}this.props.onEnter(u,d),this.safeSetState({status:Um},function(){i.props.onEntering(u,d),i.onTransitionEnd(m,function(){i.safeSetState({status:Sy},function(){i.props.onEntered(u,d)})})})},n.performExit=function(){var s=this,i=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:dp.findDOMNode(this);if(!i||iz.disabled){this.safeSetState({status:Vm},function(){s.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:D2},function(){s.props.onExiting(l),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:Vm},function(){s.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},n.setNextCallback=function(s){var i=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,i.nextCallback=null,s(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(s,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:dp.findDOMNode(this),l=s==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=c[0],d=c[1];this.props.addEndListener(u,d)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===K_)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var l=FQ(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return oe.createElement(VQ.Provider,{value:null},typeof o=="function"?o(s,l):oe.cloneElement(oe.Children.only(o),l))},e}(oe.Component);Zo.contextType=VQ;Zo.propTypes={};function ty(){}Zo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ty,onEntering:ty,onEntered:ty,onExit:ty,onExiting:ty,onExited:ty};Zo.UNMOUNTED=K_;Zo.EXITED=Vm;Zo.ENTERING=Um;Zo.ENTERED=Sy;Zo.EXITING=D2;function LTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var MTe=["tag","baseClass","baseClassActive","className","cssModule","children","innerRef"];function nT(){return nT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nT.apply(this,arguments)}function $Te(t,e){if(t==null)return{};var n=FTe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FTe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function az(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function bx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?az(Object(n),!0).forEach(function(r){VTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):az(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VTe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var UTe=bx(bx({},Zo.propTypes),{},{children:P.oneOfType([P.arrayOf(P.node),P.node]),tag:Zn,baseClass:P.string,baseClassActive:P.string,className:P.string,cssModule:P.object,innerRef:P.oneOfType([P.object,P.string,P.func])}),UQ=bx(bx({},Zo.defaultProps),{},{timeout:G1.Fade,appear:!0,enter:!0,exit:!0,in:!0});function eo(t){var e=C.useRef(null),n=t.tag,r=n===void 0?"div":n,s=t.baseClass,i=s===void 0?"fade":s,o=t.baseClassActive,l=o===void 0?"show":o,c=t.className,u=t.cssModule,d=t.children,h=t.innerRef,m=h===void 0?e:h,p=$Te(t,MTe),y=yQ(bx({defaultProps:UQ},p),H1),w=lh(p,H1);return oe.createElement(Zo,nT({nodeRef:m},y),function(v){var x=v==="entered",_=Gt(Rt(c,i,x&&l),u);return oe.createElement(r,nT({className:_},w,{ref:m}),d)})}eo.propTypes=UTe;eo.defaultProps=UQ;function L2(t){"@babel/helpers - typeof";return L2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L2(t)}var BTe=["tag","horizontal","isOpen","className","navbar","cssModule","children","innerRef"],ny;function rT(){return rT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rT.apply(this,arguments)}function zTe(t,e){if(t==null)return{};var n=WTe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WTe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function GTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qTe(t,e,n){return e&&HTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M2(t,e)}function M2(t,e){return M2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},M2(t,e)}function KTe(t){var e=QTe();return function(){var r=sT(t),s;if(e){var i=sT(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return JTe(this,s)}}function JTe(t,e){if(e&&(L2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BQ(t)}function BQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QTe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sT(t){return sT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sT(t)}function oz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Fv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oz(Object(n),!0).forEach(function(r){qy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ZTe=Fv(Fv({},Zo.propTypes),{},{horizontal:P.bool,isOpen:P.bool,children:P.oneOfType([P.arrayOf(P.node),P.node]),tag:Zn,className:P.node,navbar:P.bool,cssModule:P.object,innerRef:P.shape({current:P.object})}),XTe=Fv(Fv({},Zo.defaultProps),{},{horizontal:!1,isOpen:!1,appear:!1,enter:!0,exit:!0,tag:"div",timeout:G1.Collapse}),eCe=(ny={},qy(ny,NS.ENTERING,"collapsing"),qy(ny,NS.ENTERED,"collapse show"),qy(ny,NS.EXITING,"collapsing"),qy(ny,NS.EXITED,"collapse"),ny);function tCe(t){return eCe[t]||"collapse"}var x0=function(t){YTe(n,t);var e=KTe(n);function n(r){var s;return GTe(this,n),s=e.call(this,r),s.state={dimension:null},s.nodeRef=r.innerRef||oe.createRef(),["onEntering","onEntered","onExit","onExiting","onExited"].forEach(function(i){s[i]=s[i].bind(BQ(s))}),s}return qTe(n,[{key:"onEntering",value:function(s,i){var o=this.getNode();this.setState({dimension:this.getDimension(o)}),this.props.onEntering(o,i)}},{key:"onEntered",value:function(s,i){var o=this.getNode();this.setState({dimension:null}),this.props.onEntered(o,i)}},{key:"onExit",value:function(){var s=this.getNode();this.setState({dimension:this.getDimension(s)}),this.props.onExit(s)}},{key:"onExiting",value:function(){var s=this.getNode();this.getDimension(s),this.setState({dimension:0}),this.props.onExiting(s)}},{key:"onExited",value:function(){var s=this.getNode();this.setState({dimension:null}),this.props.onExited(s)}},{key:"getNode",value:function(){return this.nodeRef.current}},{key:"getDimension",value:function(s){return this.props.horizontal?s.scrollWidth:s.scrollHeight}},{key:"render",value:function(){var s=this,i=this.props,o=i.tag,l=i.horizontal,c=i.isOpen,u=i.className,d=i.navbar,h=i.cssModule,m=i.children;i.innerRef;var p=zTe(i,BTe),y=this.state.dimension,w=yQ(p,H1),v=lh(p,H1);return oe.createElement(Zo,rT({},w,{in:c,nodeRef:this.nodeRef,onEntering:this.onEntering,onEntered:this.onEntered,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),function(x){var _=tCe(x),E=Gt(Rt(u,l&&"collapse-horizontal",_,d&&"navbar-collapse"),h),T=y===null?null:qy({},l?"width":"height",y);return oe.createElement(o,rT({},v,{style:Fv(Fv({},v.style),T),className:E,ref:s.nodeRef}),m)})}}]),n}(C.Component);x0.propTypes=ZTe;x0.defaultProps=XTe;var nCe=["className","cssModule","color","innerRef","pill","tag"];function $2(){return $2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$2.apply(this,arguments)}function rCe(t,e){if(t==null)return{};var n=sCe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sCe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var iCe={children:P.node,className:P.string,color:P.string,cssModule:P.object,innerRef:P.oneOfType([P.object,P.func,P.string]),pill:P.bool,tag:Zn};function ut(t){var e=t.className,n=t.cssModule,r=t.color,s=r===void 0?"secondary":r,i=t.innerRef,o=t.pill,l=o===void 0?!1:o,c=t.tag,u=c===void 0?"span":c,d=rCe(t,nCe),h=Gt(Rt(e,"badge","bg-"+s,l?"rounded-pill":!1),n);return d.href&&u==="span"&&(u="a"),oe.createElement(u,$2({},d,{className:h,ref:i}))}ut.propTypes=iCe;var aCe=["className","cssModule","color","body","inverse","outline","tag","innerRef"];function F2(){return F2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F2.apply(this,arguments)}function oCe(t,e){if(t==null)return{};var n=lCe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lCe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var cCe={body:P.bool,className:P.string,color:P.string,cssModule:P.object,innerRef:P.oneOfType([P.object,P.string,P.func]),inverse:P.bool,outline:P.bool,tag:Zn};function dt(t){var e=t.className,n=t.cssModule,r=t.color,s=t.body,i=t.inverse,o=t.outline,l=t.tag,c=l===void 0?"div":l,u=t.innerRef,d=oCe(t,aCe),h=Gt(Rt(e,"card",i?"text-white":!1,s?"card-body":!1,r?"".concat(o?"border":"bg","-").concat(r):!1),n);return oe.createElement(c,F2({},d,{className:h,ref:u}))}dt.propTypes=cCe;var uCe=["className","cssModule","innerRef","tag"];function V2(){return V2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V2.apply(this,arguments)}function dCe(t,e){if(t==null)return{};var n=hCe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hCe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var fCe={className:P.string,cssModule:P.object,innerRef:P.oneOfType([P.object,P.string,P.func]),tag:Zn};function ht(t){var e=t.className,n=t.cssModule,r=t.innerRef,s=t.tag,i=s===void 0?"div":s,o=dCe(t,uCe),l=Gt(Rt(e,"card-body"),n);return oe.createElement(i,V2({},o,{className:l,ref:r}))}ht.propTypes=fCe;var mCe=["className","cssModule","tag"];function U2(){return U2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U2.apply(this,arguments)}function pCe(t,e){if(t==null)return{};var n=gCe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gCe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var yCe={className:P.string,cssModule:P.object,tag:Zn};function oF(t){var e=t.className,n=t.cssModule,r=t.tag,s=r===void 0?"div":r,i=pCe(t,mCe),o=Gt(Rt(e,"card-header"),n);return oe.createElement(s,U2({},i,{className:o}))}oF.propTypes=yCe;var vCe=["className","cssModule","tag"];function B2(){return B2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B2.apply(this,arguments)}function bCe(t,e){if(t==null)return{};var n=_Ce(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _Ce(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var wCe={className:P.string,cssModule:P.object,tag:Zn};function Ra(t){var e=t.className,n=t.cssModule,r=t.tag,s=r===void 0?"div":r,i=bCe(t,vCe),o=Gt(Rt(e,"card-title"),n);return oe.createElement(s,B2({},i,{className:o}))}Ra.propTypes=wCe;function z2(t){"@babel/helpers - typeof";return z2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z2(t)}var xCe=["cssModule","children","isOpen","flip","target","offset","fallbackPlacements","placementPrefix","arrowClassName","hideArrow","popperClassName","tag","container","modifiers","strategy","boundariesElement","onClosed","fade","transition","placement"];function W2(){return W2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W2.apply(this,arguments)}function lz(t){return TCe(t)||jCe(t)||SCe(t)||ECe()}function ECe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SCe(t,e){if(t){if(typeof t=="string")return G2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G2(t,e)}}function jCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TCe(t){if(Array.isArray(t))return G2(t)}function G2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CCe(t,e){if(t==null)return{};var n=ACe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ACe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function NCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ICe(t,e,n){return e&&cz(t.prototype,e),n&&cz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H2(t,e)}function H2(t,e){return H2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},H2(t,e)}function OCe(t){var e=PCe();return function(){var r=iT(t),s;if(e){var i=iT(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return RCe(this,s)}}function RCe(t,e){if(e&&(z2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J_(t)}function J_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PCe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function iT(t){return iT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iT(t)}function uz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Uj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uz(Object(n),!0).forEach(function(r){DCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DCe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LCe(){}var MCe={children:P.oneOfType([P.node,P.func]).isRequired,popperClassName:P.string,placement:P.string,placementPrefix:P.string,arrowClassName:P.string,hideArrow:P.bool,tag:Zn,isOpen:P.bool,cssModule:P.object,offset:P.arrayOf(P.number),fallbackPlacements:P.array,flip:P.bool,container:Pv,target:Pv.isRequired,modifiers:P.array,strategy:P.string,boundariesElement:P.oneOfType([P.string,Q$]),onClosed:P.func,fade:P.bool,transition:P.shape(eo.propTypes)},$Ce={boundariesElement:"scrollParent",placement:"auto",hideArrow:!1,isOpen:!1,offset:[0,0],flip:!0,container:"body",modifiers:[],onClosed:LCe,fade:!0,transition:Uj({},eo.defaultProps)},lF=function(t){kCe(n,t);var e=OCe(n);function n(r){var s;return NCe(this,n),s=e.call(this,r),s.setTargetNode=s.setTargetNode.bind(J_(s)),s.getTargetNode=s.getTargetNode.bind(J_(s)),s.getRef=s.getRef.bind(J_(s)),s.onClosed=s.onClosed.bind(J_(s)),s.state={isOpen:r.isOpen},s}return ICe(n,[{key:"componentDidUpdate",value:function(){this._element&&this._element.childNodes&&this._element.childNodes[0]&&this._element.childNodes[0].focus&&this._element.childNodes[0].focus()}},{key:"onClosed",value:function(){this.props.onClosed(),this.setState({isOpen:!1})}},{key:"getTargetNode",value:function(){return this.targetNode}},{key:"getContainerNode",value:function(){return px(this.props.container)}},{key:"getRef",value:function(s){this._element=s}},{key:"setTargetNode",value:function(s){this.targetNode=typeof s=="string"?px(s):s}},{key:"renderChildren",value:function(){var s=this.props,i=s.cssModule,o=s.children,l=s.isOpen,c=s.flip;s.target;var u=s.offset,d=s.fallbackPlacements,h=s.placementPrefix,m=s.arrowClassName,p=s.hideArrow,y=s.popperClassName,w=s.tag;s.container;var v=s.modifiers,x=s.strategy,_=s.boundariesElement;s.onClosed;var E=s.fade,T=s.transition,N=s.placement,D=CCe(s,xCe),O=Gt(Rt("arrow",m),i),F=Gt(Rt(y,h?"".concat(h,"-auto"):""),this.props.cssModule),V=v.map(function(J){return J.name}),z=[{name:"offset",options:{offset:u}},{name:"flip",enabled:c,options:{fallbackPlacements:d}},{name:"preventOverflow",options:{boundary:_}}].filter(function(J){return!V.includes(J.name)}),U=[].concat(lz(z),lz(v)),H=Uj(Uj(Uj({},eo.defaultProps),T),{},{baseClass:E?T.baseClass:"",timeout:E?T.timeout:0});return oe.createElement(eo,W2({},H,D,{in:l,onExited:this.onClosed,tag:w}),oe.createElement(DQ,{referenceElement:this.targetNode,modifiers:U,placement:N,strategy:x},function(J){var q=J.ref,L=J.style,Y=J.placement,ne=J.isReferenceHidden,te=J.arrowProps,ce=J.update;return oe.createElement("div",{ref:q,style:L,className:F,"data-popper-placement":Y,"data-popper-reference-hidden":ne?"true":void 0},typeof o=="function"?o({update:ce}):o,!p&&oe.createElement("span",{ref:te.ref,className:O,style:te.style}))}))}},{key:"render",value:function(){return this.setTargetNode(this.props.target),this.state.isOpen?this.props.container==="inline"?this.renderChildren():dp.createPortal(oe.createElement("div",{ref:this.getRef},this.renderChildren()),this.getContainerNode()):null}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.isOpen&&!i.isOpen?{isOpen:s.isOpen}:null}}]),n}(oe.Component);lF.propTypes=MCe;lF.defaultProps=$Ce;function q2(){return q2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q2.apply(this,arguments)}function _x(t){"@babel/helpers - typeof";return _x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_x(t)}function FCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function VCe(t,e,n){return e&&dz(t.prototype,e),n&&dz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function UCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y2(t,e)}function Y2(t,e){return Y2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Y2(t,e)}function BCe(t){var e=WCe();return function(){var r=aT(t),s;if(e){var i=aT(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return zCe(this,s)}}function zCe(t,e){if(e&&(_x(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dl(t)}function dl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WCe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function aT(t){return aT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},aT(t)}var cF={children:P.oneOfType([P.node,P.func]),placement:P.oneOf(iSe),target:Pv.isRequired,container:Pv,isOpen:P.bool,disabled:P.bool,hideArrow:P.bool,boundariesElement:P.oneOfType([P.string,Q$]),className:P.string,innerClassName:P.string,arrowClassName:P.string,popperClassName:P.string,cssModule:P.object,toggle:P.func,autohide:P.bool,placementPrefix:P.string,delay:P.oneOfType([P.shape({show:P.number,hide:P.number}),P.number]),modifiers:P.array,strategy:P.string,offset:P.arrayOf(P.number),innerRef:P.oneOfType([P.func,P.string,P.object]),trigger:P.string,fade:P.bool,flip:P.bool},zQ={show:0,hide:50},GCe={isOpen:!1,hideArrow:!1,autohide:!1,delay:zQ,toggle:function(){},trigger:"click",fade:!0};function WQ(t,e){return e&&(t===e||e.contains(t))}function hz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e&&e.length&&e.filter(function(n){return WQ(t,n)})[0]}var uF=function(t){UCe(n,t);var e=BCe(n);function n(r){var s;return FCe(this,n),s=e.call(this,r),s._targets=[],s.currentTargetElement=null,s.addTargetEvents=s.addTargetEvents.bind(dl(s)),s.handleDocumentClick=s.handleDocumentClick.bind(dl(s)),s.removeTargetEvents=s.removeTargetEvents.bind(dl(s)),s.toggle=s.toggle.bind(dl(s)),s.showWithDelay=s.showWithDelay.bind(dl(s)),s.hideWithDelay=s.hideWithDelay.bind(dl(s)),s.onMouseOverTooltipContent=s.onMouseOverTooltipContent.bind(dl(s)),s.onMouseLeaveTooltipContent=s.onMouseLeaveTooltipContent.bind(dl(s)),s.show=s.show.bind(dl(s)),s.hide=s.hide.bind(dl(s)),s.onEscKeyDown=s.onEscKeyDown.bind(dl(s)),s.getRef=s.getRef.bind(dl(s)),s.state={isOpen:r.isOpen},s._isMounted=!1,s}return VCe(n,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.updateTarget()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.removeTargetEvents(),this._targets=null,this.clearShowTimeout(),this.clearHideTimeout()}},{key:"handleDocumentClick",value:function(s){var i=this.props.trigger.split(" ");i.indexOf("legacy")>-1&&(this.props.isOpen||hz(s.target,this._targets))?(this._hideTimeout&&this.clearHideTimeout(),this.props.isOpen&&!WQ(s.target,this._popover)?this.hideWithDelay(s):this.props.isOpen||this.showWithDelay(s)):i.indexOf("click")>-1&&hz(s.target,this._targets)&&(this._hideTimeout&&this.clearHideTimeout(),this.props.isOpen?this.hideWithDelay(s):this.showWithDelay(s))}},{key:"onMouseOverTooltipContent",value:function(){this.props.trigger.indexOf("hover")>-1&&!this.props.autohide&&(this._hideTimeout&&this.clearHideTimeout(),this.state.isOpen&&!this.props.isOpen&&this.toggle())}},{key:"onMouseLeaveTooltipContent",value:function(s){this.props.trigger.indexOf("hover")>-1&&!this.props.autohide&&(this._showTimeout&&this.clearShowTimeout(),s.persist(),this._hideTimeout=setTimeout(this.hide.bind(this,s),this.getDelay("hide")))}},{key:"onEscKeyDown",value:function(s){s.key==="Escape"&&this.hide(s)}},{key:"getRef",value:function(s){var i=this.props.innerRef;i&&(typeof i=="function"?i(s):_x(i)==="object"&&(i.current=s)),this._popover=s}},{key:"getDelay",value:function(s){var i=this.props.delay;return _x(i)==="object"?isNaN(i[s])?zQ[s]:i[s]:i}},{key:"getCurrentTarget",value:function(s){if(!s)return null;var i=this._targets.indexOf(s);return i>=0?this._targets[i]:this.getCurrentTarget(s.parentElement)}},{key:"show",value:function(s){if(!this.props.isOpen){if(this.clearShowTimeout(),this.currentTargetElement=s?s.currentTarget||this.getCurrentTarget(s.target):null,s&&s.composedPath&&typeof s.composedPath=="function"){var i=s.composedPath();this.currentTargetElement=i&&i[0]||this.currentTargetElement}this.toggle(s)}}},{key:"showWithDelay",value:function(s){this._hideTimeout&&this.clearHideTimeout(),this._showTimeout=setTimeout(this.show.bind(this,s),this.getDelay("show"))}},{key:"hide",value:function(s){this.props.isOpen&&(this.clearHideTimeout(),this.currentTargetElement=null,this.toggle(s))}},{key:"hideWithDelay",value:function(s){this._showTimeout&&this.clearShowTimeout(),this._hideTimeout=setTimeout(this.hide.bind(this,s),this.getDelay("hide"))}},{key:"clearShowTimeout",value:function(){clearTimeout(this._showTimeout),this._showTimeout=void 0}},{key:"clearHideTimeout",value:function(){clearTimeout(this._hideTimeout),this._hideTimeout=void 0}},{key:"addEventOnTargets",value:function(s,i,o){this._targets.forEach(function(l){l.addEventListener(s,i,o)})}},{key:"removeEventOnTargets",value:function(s,i,o){this._targets.forEach(function(l){l.removeEventListener(s,i,o)})}},{key:"addTargetEvents",value:function(){if(this.props.trigger){var s=this.props.trigger.split(" ");s.indexOf("manual")===-1&&((s.indexOf("click")>-1||s.indexOf("legacy")>-1)&&document.addEventListener("click",this.handleDocumentClick,!0),this._targets&&this._targets.length&&(s.indexOf("hover")>-1&&(this.addEventOnTargets("mouseover",this.showWithDelay,!0),this.addEventOnTargets("mouseout",this.hideWithDelay,!0)),s.indexOf("focus")>-1&&(this.addEventOnTargets("focusin",this.show,!0),this.addEventOnTargets("focusout",this.hide,!0)),this.addEventOnTargets("keydown",this.onEscKeyDown,!0)))}}},{key:"removeTargetEvents",value:function(){this._targets&&(this.removeEventOnTargets("mouseover",this.showWithDelay,!0),this.removeEventOnTargets("mouseout",this.hideWithDelay,!0),this.removeEventOnTargets("keydown",this.onEscKeyDown,!0),this.removeEventOnTargets("focusin",this.show,!0),this.removeEventOnTargets("focusout",this.hide,!0)),document.removeEventListener("click",this.handleDocumentClick,!0)}},{key:"updateTarget",value:function(){var s=px(this.props.target,!0);s!==this._targets&&(this.removeTargetEvents(),this._targets=s?Array.from(s):[],this.currentTargetElement=this.currentTargetElement||this._targets[0],this.addTargetEvents())}},{key:"toggle",value:function(s){return this.props.disabled||!this._isMounted?s&&s.preventDefault():this.props.toggle(s)}},{key:"render",value:function(){var s=this;this.props.isOpen&&this.updateTarget();var i=this.currentTargetElement||this._targets[0];if(!i)return null;var o=this.props,l=o.className,c=o.cssModule,u=o.innerClassName,d=o.isOpen,h=o.hideArrow,m=o.boundariesElement,p=o.placement,y=o.placementPrefix,w=o.arrowClassName,v=o.popperClassName,x=o.container,_=o.modifiers,E=o.strategy,T=o.offset,N=o.fade,D=o.flip,O=o.children,F=lh(this.props,Object.keys(cF)),V=Gt(v,c),z=Gt(u,c);return oe.createElement(lF,{className:l,target:i,isOpen:d,hideArrow:h,boundariesElement:m,placement:p,placementPrefix:y,arrowClassName:w,popperClassName:V,container:x,modifiers:_,strategy:E,offset:T,cssModule:c,fade:N,flip:D},function(U){var H=U.update;return oe.createElement("div",q2({},F,{ref:s.getRef,className:z,role:"tooltip",onMouseOver:s.onMouseOverTooltipContent,onMouseLeave:s.onMouseLeaveTooltipContent,onKeyDown:s.onEscKeyDown}),typeof O=="function"?O({update:H}):O)})}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.isOpen&&!i.isOpen?{isOpen:s.isOpen}:null}}]),n}(oe.Component);uF.propTypes=cF;uF.defaultProps=GCe;function K2(t){"@babel/helpers - typeof";return K2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K2(t)}function HCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function YCe(t,e,n){return e&&qCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J2(t,e)}function J2(t,e){return J2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},J2(t,e)}function JCe(t){var e=XCe();return function(){var r=oT(t),s;if(e){var i=oT(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return QCe(this,s)}}function QCe(t,e){if(e&&(K2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZCe(t)}function ZCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XCe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function oT(t){return oT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oT(t)}var eAe={children:P.node.isRequired,node:P.any},GQ=function(t){KCe(n,t);var e=JCe(n);function n(){return HCe(this,n),e.apply(this,arguments)}return YCe(n,[{key:"componentWillUnmount",value:function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"render",value:function(){return Z$?(!this.props.node&&!this.defaultNode&&(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),dp.createPortal(this.props.children,this.props.node||this.defaultNode)):null}}]),n}(oe.Component);GQ.propTypes=eAe;function Q2(t){"@babel/helpers - typeof";return Q2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q2(t)}function fz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ry(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fz(Object(n),!0).forEach(function(r){jy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sw(){return Sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sw.apply(this,arguments)}function jy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rAe(t,e,n){return e&&nAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z2(t,e)}function Z2(t,e){return Z2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Z2(t,e)}function iAe(t){var e=oAe();return function(){var r=lT(t),s;if(e){var i=lT(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return aAe(this,s)}}function aAe(t,e){if(e&&(Q2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ic(t)}function ic(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oAe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lT(t){return lT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lT(t)}function cT(){}var mz=P.shape(eo.propTypes),HQ={autoFocus:P.bool,backdrop:P.oneOfType([P.bool,P.oneOf(["static"])]),backdropClassName:P.string,backdropTransition:mz,centered:P.bool,children:P.node,contentClassName:P.string,className:P.string,container:Pv,cssModule:P.object,external:P.node,fade:P.bool,fullscreen:P.oneOfType([P.bool,P.oneOf(["sm","md","lg","xl"])]),innerRef:P.oneOfType([P.object,P.string,P.func]),isOpen:P.bool,keyboard:P.bool,labelledBy:P.string,modalClassName:P.string,modalTransition:mz,onClosed:P.func,onEnter:P.func,onExit:P.func,onOpened:P.func,returnFocusAfterClose:P.bool,role:P.string,scrollable:P.bool,size:P.string,toggle:P.func,trapFocus:P.bool,unmountOnClose:P.bool,wrapClassName:P.string,zIndex:P.oneOfType([P.number,P.string])},lAe=Object.keys(HQ),cAe={isOpen:!1,autoFocus:!0,centered:!1,scrollable:!1,role:"dialog",backdrop:!0,keyboard:!0,zIndex:1050,fade:!0,onOpened:cT,onClosed:cT,modalTransition:{timeout:G1.Modal},backdropTransition:{mountOnEnter:!0,timeout:G1.Fade},unmountOnClose:!0,returnFocusAfterClose:!0,container:"body",trapFocus:!1},zs=function(t){sAe(n,t);var e=iAe(n);function n(r){var s;return tAe(this,n),s=e.call(this,r),s._element=null,s._originalBodyPadding=null,s.getFocusableChildren=s.getFocusableChildren.bind(ic(s)),s.handleBackdropClick=s.handleBackdropClick.bind(ic(s)),s.handleBackdropMouseDown=s.handleBackdropMouseDown.bind(ic(s)),s.handleEscape=s.handleEscape.bind(ic(s)),s.handleStaticBackdropAnimation=s.handleStaticBackdropAnimation.bind(ic(s)),s.handleTab=s.handleTab.bind(ic(s)),s.onOpened=s.onOpened.bind(ic(s)),s.onClosed=s.onClosed.bind(ic(s)),s.manageFocusAfterClose=s.manageFocusAfterClose.bind(ic(s)),s.clearBackdropAnimationTimeout=s.clearBackdropAnimationTimeout.bind(ic(s)),s.trapFocus=s.trapFocus.bind(ic(s)),s.state={isOpen:!1,showStaticBackdropAnimation:!1},s}return rAe(n,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isOpen,o=s.autoFocus,l=s.onEnter;i&&(this.init(),this.setState({isOpen:!0}),o&&this.setFocus()),l&&l(),document.addEventListener("focus",this.trapFocus,!0),this._isMounted=!0}},{key:"componentDidUpdate",value:function(s,i){if(this.props.isOpen&&!s.isOpen){this.init(),this.setState({isOpen:!0});return}this.props.autoFocus&&this.state.isOpen&&!i.isOpen&&this.setFocus(),this._element&&s.zIndex!==this.props.zIndex&&(this._element.style.zIndex=this.props.zIndex)}},{key:"componentWillUnmount",value:function(){this.clearBackdropAnimationTimeout(),this.props.onExit&&this.props.onExit(),this._element&&(this.destroy(),(this.props.isOpen||this.state.isOpen)&&this.close()),document.removeEventListener("focus",this.trapFocus,!0),this._isMounted=!1}},{key:"handleBackdropClick",value:function(s){if(s.target===this._mouseDownElement){s.stopPropagation();var i=this._dialog?this._dialog.parentNode:null;if(i&&s.target===i&&this.props.backdrop==="static"&&this.handleStaticBackdropAnimation(),!this.props.isOpen||this.props.backdrop!==!0)return;i&&s.target===i&&this.props.toggle&&this.props.toggle(s)}}},{key:"handleTab",value:function(s){if(s.which===9&&!(this.modalIndex<n.openCount-1)){var i=this.getFocusableChildren(),o=i.length;if(o!==0){for(var l=this.getFocusedChild(),c=0,u=0;u<o;u+=1)if(i[u]===l){c=u;break}s.shiftKey&&c===0?(s.preventDefault(),i[o-1].focus()):!s.shiftKey&&c===o-1&&(s.preventDefault(),i[0].focus())}}}},{key:"handleBackdropMouseDown",value:function(s){this._mouseDownElement=s.target}},{key:"handleEscape",value:function(s){this.props.isOpen&&s.keyCode===kr.esc&&this.props.toggle&&(this.props.keyboard?(s.preventDefault(),s.stopPropagation(),this.props.toggle(s)):this.props.backdrop==="static"&&(s.preventDefault(),s.stopPropagation(),this.handleStaticBackdropAnimation()))}},{key:"handleStaticBackdropAnimation",value:function(){var s=this;this.clearBackdropAnimationTimeout(),this.setState({showStaticBackdropAnimation:!0}),this._backdropAnimationTimeout=setTimeout(function(){s.setState({showStaticBackdropAnimation:!1})},100)}},{key:"onOpened",value:function(s,i){this.props.onOpened(),(this.props.modalTransition.onEntered||cT)(s,i)}},{key:"onClosed",value:function(s){var i=this.props.unmountOnClose;this.props.onClosed(),(this.props.modalTransition.onExited||cT)(s),i&&this.destroy(),this.close(),this._isMounted&&this.setState({isOpen:!1})}},{key:"setFocus",value:function(){this._dialog&&this._dialog.parentNode&&typeof this._dialog.parentNode.focus=="function"&&this._dialog.parentNode.focus()}},{key:"getFocusableChildren",value:function(){return this._element.querySelectorAll(uSe.join(", "))}},{key:"getFocusedChild",value:function(){var s,i=this.getFocusableChildren();try{s=document.activeElement}catch{s=i[0]}return s}},{key:"trapFocus",value:function(s){if(this.props.trapFocus&&this._element&&!(this._dialog&&this._dialog.parentNode===s.target)&&!(this.modalIndex<n.openCount-1)){for(var i=this.getFocusableChildren(),o=0;o<i.length;o+=1)if(i[o]===s.target)return;i.length>0&&(s.preventDefault(),s.stopPropagation(),i[0].focus())}}},{key:"init",value:function(){try{this._triggeringElement=document.activeElement}catch{this._triggeringElement=null}this._element||(this._element=document.createElement("div"),this._element.setAttribute("tabindex","-1"),this._element.style.position="relative",this._element.style.zIndex=this.props.zIndex,this._mountContainer=px(this.props.container),this._mountContainer.appendChild(this._element)),this._originalBodyPadding=tSe(),n.openCount<1&&(n.originalBodyOverflow=window.getComputedStyle(document.body).overflow),nSe(),n.openCount===0&&(document.body.className=Rt(document.body.className,Gt("modal-open",this.props.cssModule)),document.body.style.overflow="hidden"),this.modalIndex=n.openCount,n.openCount+=1}},{key:"destroy",value:function(){this._element&&(this._mountContainer.removeChild(this._element),this._element=null),this.manageFocusAfterClose()}},{key:"manageFocusAfterClose",value:function(){if(this._triggeringElement){var s=this.props.returnFocusAfterClose;this._triggeringElement.focus&&s&&this._triggeringElement.focus(),this._triggeringElement=null}}},{key:"close",value:function(){if(n.openCount<=1){var s=Gt("modal-open",this.props.cssModule),i=new RegExp("(^| )".concat(s,"( |$)"));document.body.className=document.body.className.replace(i," ").trim(),document.body.style.overflow=n.originalBodyOverflow}this.manageFocusAfterClose(),n.openCount=Math.max(0,n.openCount-1),gQ(this._originalBodyPadding)}},{key:"clearBackdropAnimationTimeout",value:function(){this._backdropAnimationTimeout&&(clearTimeout(this._backdropAnimationTimeout),this._backdropAnimationTimeout=void 0)}},{key:"renderModalDialog",value:function(){var s,i=this,o=lh(this.props,lAe),l="modal-dialog";return oe.createElement("div",Sw({},o,{className:Gt(Rt(l,this.props.className,(s={},jy(s,"modal-".concat(this.props.size),this.props.size),jy(s,"".concat(l,"-centered"),this.props.centered),jy(s,"".concat(l,"-scrollable"),this.props.scrollable),jy(s,"modal-fullscreen",this.props.fullscreen===!0),jy(s,"modal-fullscreen-".concat(this.props.fullscreen,"-down"),typeof this.props.fullscreen=="string"),s)),this.props.cssModule),role:"document",ref:function(u){i._dialog=u}}),oe.createElement("div",{className:Gt(Rt("modal-content",this.props.contentClassName),this.props.cssModule)},this.props.children))}},{key:"render",value:function(){var s=this.props.unmountOnClose;if(this._element&&(this.state.isOpen||!s)){var i=!!this._element&&!this.state.isOpen&&!s;this._element.style.display=i?"none":"block";var o=this.props,l=o.wrapClassName,c=o.modalClassName,u=o.backdropClassName,d=o.cssModule,h=o.isOpen,m=o.backdrop,p=o.role,y=o.labelledBy,w=o.external,v=o.innerRef,x={onClick:this.handleBackdropClick,onMouseDown:this.handleBackdropMouseDown,onKeyUp:this.handleEscape,onKeyDown:this.handleTab,style:{display:"block"},"aria-labelledby":y,"aria-modal":!0,role:p,tabIndex:"-1"},_=this.props.fade,E=ry(ry(ry({},eo.defaultProps),this.props.modalTransition),{},{baseClass:_?this.props.modalTransition.baseClass:"",timeout:_?this.props.modalTransition.timeout:0}),T=ry(ry(ry({},eo.defaultProps),this.props.backdropTransition),{},{baseClass:_?this.props.backdropTransition.baseClass:"",timeout:_?this.props.backdropTransition.timeout:0}),N=m&&(_?oe.createElement(eo,Sw({},T,{in:h&&!!m,cssModule:d,className:Gt(Rt("modal-backdrop",u),d)})):oe.createElement("div",{className:Gt(Rt("modal-backdrop","show",u),d)}));return oe.createElement(GQ,{node:this._element},oe.createElement("div",{className:Gt(l)},oe.createElement(eo,Sw({},x,E,{in:h,onEntered:this.onOpened,onExited:this.onClosed,cssModule:d,className:Gt(Rt("modal",c,this.state.showStaticBackdropAnimation&&"modal-static"),d),innerRef:v}),w,this.renderModalDialog()),N))}return null}}]),n}(oe.Component);zs.propTypes=HQ;zs.defaultProps=cAe;zs.openCount=0;zs.originalBodyOverflow=null;var uAe=["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","close"];function X2(){return X2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X2.apply(this,arguments)}function dAe(t,e){if(t==null)return{};var n=hAe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hAe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var fAe={children:P.node,className:P.string,close:P.object,closeAriaLabel:P.string,cssModule:P.object,tag:Zn,toggle:P.func,wrapTag:Zn};function Ui(t){var e,n=t.className,r=t.cssModule,s=t.children,i=t.toggle,o=t.tag,l=o===void 0?"h5":o,c=t.wrapTag,u=c===void 0?"div":c,d=t.closeAriaLabel,h=d===void 0?"Close":d,m=t.close,p=dAe(t,uAe),y=Gt(Rt(n,"modal-header"),r);return!m&&i&&(e=oe.createElement("button",{type:"button",onClick:i,className:Gt("btn-close",r),"aria-label":h})),oe.createElement(u,X2({},p,{className:y}),oe.createElement(l,{className:Gt("modal-title",r)},s),m||e)}Ui.propTypes=fAe;var mAe=["className","cssModule","tag"];function eD(){return eD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eD.apply(this,arguments)}function pAe(t,e){if(t==null)return{};var n=gAe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gAe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var yAe={className:P.string,cssModule:P.object,tag:Zn};function Ni(t){var e=t.className,n=t.cssModule,r=t.tag,s=r===void 0?"div":r,i=pAe(t,mAe),o=Gt(Rt(e,"modal-body"),n);return oe.createElement(s,eD({},i,{className:o}))}Ni.propTypes=yAe;var vAe=["className","cssModule","tag"];function tD(){return tD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tD.apply(this,arguments)}function bAe(t,e){if(t==null)return{};var n=_Ae(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _Ae(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var wAe={className:P.string,cssModule:P.object,tag:Zn};function ro(t){var e=t.className,n=t.cssModule,r=t.tag,s=r===void 0?"div":r,i=bAe(t,vAe),o=Gt(Rt(e,"modal-footer"),n);return oe.createElement(s,tD({},i,{className:o}))}ro.propTypes=wAe;function nD(){return nD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nD.apply(this,arguments)}var xAe={placement:"top",autohide:!0,placementPrefix:"bs-tooltip",trigger:"hover focus"};function oA(t){var e=Rt("tooltip-arrow",t.arrowClassName),n=Rt("tooltip","show",t.popperClassName),r=Rt("tooltip-inner",t.innerClassName);return oe.createElement(uF,nD({},t,{arrowClassName:e,popperClassName:n,innerClassName:r}))}oA.propTypes=cF;oA.defaultProps=xAe;var EAe=["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"];function rD(){return rD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rD.apply(this,arguments)}function SAe(t,e){if(t==null)return{};var n=jAe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jAe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var TAe={bordered:P.bool,borderless:P.bool,className:P.string,cssModule:P.object,dark:P.bool,hover:P.bool,innerRef:P.oneOfType([P.func,P.string,P.object]),responsive:P.oneOfType([P.bool,P.string]),responsiveTag:Zn,size:P.string,striped:P.bool,tag:Zn};function Mn(t){var e=t.className,n=t.cssModule,r=t.size,s=t.bordered,i=t.borderless,o=t.striped,l=t.dark,c=t.hover,u=t.responsive,d=t.tag,h=d===void 0?"table":d,m=t.responsiveTag,p=m===void 0?"div":m,y=t.innerRef,w=SAe(t,EAe),v=Gt(Rt(e,"table",r?"table-"+r:!1,s?"table-bordered":!1,i?"table-borderless":!1,o?"table-striped":!1,l?"table-dark":!1,c?"table-hover":!1),n),x=oe.createElement(h,rD({},w,{ref:y,className:v}));if(u){var _=Gt(u===!0?"table-responsive":"table-responsive-".concat(u),n);return oe.createElement(p,{className:_},x)}return x}Mn.propTypes=TAe;function sD(t){"@babel/helpers - typeof";return sD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sD(t)}var CAe=["className","cssModule","tag","innerRef"];function iD(){return iD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iD.apply(this,arguments)}function AAe(t,e){if(t==null)return{};var n=NAe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NAe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function IAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function OAe(t,e,n){return e&&kAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aD(t,e)}function aD(t,e){return aD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},aD(t,e)}function PAe(t){var e=LAe();return function(){var r=uT(t),s;if(e){var i=uT(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return DAe(this,s)}}function DAe(t,e){if(e&&(sD(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oD(t)}function oD(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LAe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function uT(t){return uT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uT(t)}var MAe={children:P.node,tag:Zn,innerRef:P.oneOfType([P.object,P.func,P.string]),className:P.string,cssModule:P.object},oo=function(t){RAe(n,t);var e=PAe(n);function n(r){var s;return IAe(this,n),s=e.call(this,r),s.getRef=s.getRef.bind(oD(s)),s.submit=s.submit.bind(oD(s)),s}return OAe(n,[{key:"getRef",value:function(s){this.props.innerRef&&this.props.innerRef(s),this.ref=s}},{key:"submit",value:function(){this.ref&&this.ref.submit()}},{key:"render",value:function(){var s=this.props,i=s.className,o=s.cssModule,l=s.tag,c=l===void 0?"form":l,u=s.innerRef,d=AAe(s,CAe),h=Gt(i,o);return oe.createElement(c,iD({},d,{ref:u,className:h}))}}]),n}(C.Component);oo.propTypes=MAe;var $Ae=["className","cssModule","valid","tooltip","tag"];function lD(){return lD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lD.apply(this,arguments)}function FAe(t,e){if(t==null)return{};var n=VAe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VAe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var UAe={children:P.node,tag:Zn,className:P.string,cssModule:P.object,valid:P.bool,tooltip:P.bool};function Kt(t){var e=t.className,n=t.cssModule,r=t.valid,s=r===void 0?void 0:r,i=t.tooltip,o=t.tag,l=o===void 0?"div":o,c=FAe(t,$Ae),u=i?"tooltip":"feedback",d=Gt(Rt(e,s?"valid-".concat(u):"invalid-".concat(u)),n);return oe.createElement(l,lD({},c,{className:d}))}Kt.propTypes=UAe;var BAe=["className","cssModule","row","disabled","check","inline","floating","noMargin","tag","switch"];function cD(){return cD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cD.apply(this,arguments)}function zAe(t,e){if(t==null)return{};var n=WAe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WAe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var GAe={children:P.node,row:P.bool,check:P.bool,switch:P.bool,inline:P.bool,floating:P.bool,noMargin:P.bool,disabled:P.bool,tag:Zn,className:P.string,cssModule:P.object};function qQ(t){var e=t.className,n=t.cssModule,r=t.row,s=t.disabled,i=t.check,o=t.inline,l=t.floating,c=t.noMargin,u=t.tag,d=u===void 0?"div":u,h=t.switch,m=zAe(t,BAe),p=i||h,y=Gt(Rt(e,r?"row":!1,p?"form-check":!1,h?"form-switch":!1,p||c?!1:"mb-3",p&&o?"form-check-inline":!1,p&&s?"disabled":!1,l&&"form-floating"),n);return d==="fieldset"&&(m.disabled=s),oe.createElement(d,cD({},m,{className:y}))}qQ.propTypes=GAe;var HAe=["className","cssModule","inline","color","tag"];function uD(){return uD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uD.apply(this,arguments)}function qAe(t,e){if(t==null)return{};var n=YAe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YAe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var KAe={children:P.node,inline:P.bool,tag:Zn,color:P.string,className:P.string,cssModule:P.object};function YQ(t){var e=t.className,n=t.cssModule,r=t.inline,s=t.color,i=s===void 0?"muted":s,o=t.tag,l=o===void 0?"small":o,c=qAe(t,HAe),u=Gt(Rt(e,r?!1:"form-text",i?"text-".concat(i):!1),n);return oe.createElement(l,uD({},c,{className:u}))}YQ.propTypes=KAe;function dD(t){"@babel/helpers - typeof";return dD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dD(t)}var JAe=["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"];function hD(){return hD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hD.apply(this,arguments)}function QAe(t,e){if(t==null)return{};var n=ZAe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZAe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function XAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eNe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tNe(t,e,n){return e&&eNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fD(t,e)}function fD(t,e){return fD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},fD(t,e)}function rNe(t){var e=iNe();return function(){var r=dT(t),s;if(e){var i=dT(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return sNe(this,s)}}function sNe(t,e){if(e&&(dD(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mD(t)}function mD(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iNe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function dT(t){return dT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dT(t)}var aNe={children:P.node,type:P.string,size:P.oneOfType([P.number,P.string]),bsSize:P.string,valid:P.bool,invalid:P.bool,tag:Zn,innerRef:P.oneOfType([P.object,P.func,P.string]),plaintext:P.bool,addon:P.bool,className:P.string,cssModule:P.object},re=function(t){nNe(n,t);var e=rNe(n);function n(r){var s;return XAe(this,n),s=e.call(this,r),s.getRef=s.getRef.bind(mD(s)),s.focus=s.focus.bind(mD(s)),s}return tNe(n,[{key:"getRef",value:function(s){this.props.innerRef&&this.props.innerRef(s),this.ref=s}},{key:"focus",value:function(){this.ref&&this.ref.focus()}},{key:"render",value:function(){var s=this.props,i=s.className,o=s.cssModule,l=s.type,c=l===void 0?"text":l,u=s.bsSize,d=s.valid,h=s.invalid,m=s.tag,p=s.addon,y=s.plaintext,w=s.innerRef,v=QAe(s,JAe),x=["switch","radio","checkbox"].indexOf(c)>-1,_=/\D/g,E=c==="textarea",T=c==="select",N=c==="range",D=m||(T||E?c:"input"),O="form-control";y?(O="".concat(O,"-plaintext"),D=m||"input"):N?O="form-range":T?O="form-select":x&&(p?O=null:O="form-check-input"),v.size&&_.test(v.size)&&(a2(`Please use the prop "bsSize" instead of the "size" to bootstrap's input sizing.`),u=v.size,delete v.size);var F=Gt(Rt(i,h&&"is-invalid",d&&"is-valid",u?T?"form-select-".concat(u):"form-control-".concat(u):!1,O),o);return(D==="input"||m&&typeof m=="function")&&(v.type=c==="switch"?"checkbox":c),v.children&&!(y||c==="select"||typeof D!="string"||D==="select")&&(a2('Input with a type of "'.concat(c,'" cannot have children. Please use "value"/"defaultValue" instead.')),delete v.children),oe.createElement(D,hD({},v,{ref:w,className:F,"aria-invalid":h}))}}]),n}(oe.Component);re.propTypes=aNe;var oNe=["className","cssModule","tag","type","size"];function hT(){return hT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hT.apply(this,arguments)}function lNe(t,e){if(t==null)return{};var n=cNe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cNe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var uNe={className:P.string,cssModule:P.object,size:P.string,tag:Zn,type:P.string};function Of(t){var e=t.className,n=t.cssModule,r=t.tag,s=r===void 0?"div":r;t.type;var i=t.size,o=lNe(t,oNe),l=Gt(Rt(e,"input-group",i?"input-group-".concat(i):null),n);return t.type==="dropdown"?oe.createElement(tu,hT({},o,{className:l})):oe.createElement(LQ.Provider,{value:{insideInputGroup:!0}},oe.createElement(s,hT({},o,{className:l})))}Of.propTypes=uNe;var dNe=["className","cssModule","tag"];function pD(){return pD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pD.apply(this,arguments)}function hNe(t,e){if(t==null)return{};var n=fNe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fNe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var mNe={className:P.string,cssModule:P.object,tag:Zn};function Vv(t){var e=t.className,n=t.cssModule,r=t.tag,s=r===void 0?"span":r,i=hNe(t,dNe),o=Gt(Rt(e,"input-group-text"),n);return oe.createElement(s,pD({},i,{className:o}))}Vv.propTypes=mNe;var pNe=["className","cssModule","hidden","widths","tag","check","size","for"];function gD(){return gD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gD.apply(this,arguments)}function OO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gNe(t,e){if(t==null)return{};var n=yNe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yNe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var vNe=["xs","sm","md","lg","xl","xxl"],RO=P.oneOfType([P.number,P.string]),sy=P.oneOfType([P.bool,P.string,P.number,P.shape({size:RO,order:RO,offset:RO})]),bNe={children:P.node,hidden:P.bool,check:P.bool,size:P.string,for:P.string,tag:Zn,className:P.string,cssModule:P.object,xs:sy,sm:sy,md:sy,lg:sy,xl:sy,xxl:sy,widths:P.array},pz=function(e,n,r){return r===!0||r===""?e?"col":"col-".concat(n):r==="auto"?e?"col-auto":"col-".concat(n,"-auto"):e?"col-".concat(r):"col-".concat(n,"-").concat(r)};function X(t){var e=t.className,n=t.cssModule,r=t.hidden,s=t.widths,i=s===void 0?vNe:s,o=t.tag,l=o===void 0?"label":o,c=t.check,u=t.size,d=t.for,h=gNe(t,pNe),m=[];i.forEach(function(v,x){var _=t[v];if(delete h[v],!(!_&&_!=="")){var E=!x,T;if(X$(_)){var N,D=E?"-":"-".concat(v,"-");T=pz(E,v,_.size),m.push(Gt(Rt((N={},OO(N,T,_.size||_.size===""),OO(N,"order".concat(D).concat(_.order),_.order||_.order===0),OO(N,"offset".concat(D).concat(_.offset),_.offset||_.offset===0),N))),n)}else T=pz(E,v,_),m.push(T)}});var p=u||m.length,y=!(c||p),w=Gt(Rt(e,r?"visually-hidden":!1,c?"form-check-label":!1,u?"col-form-label-".concat(u):!1,m,p?"col-form-label":!1,y?"form-label":!1),n);return oe.createElement(l,gD({htmlFor:d},h,{className:w}))}X.propTypes=bNe;var KQ=oe.createContext({});function yD(t){"@babel/helpers - typeof";return yD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yD(t)}function vD(){return vD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vD.apply(this,arguments)}function _Ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wNe(t,e,n){return e&&gz(t.prototype,e),n&&gz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bD(t,e)}function bD(t,e){return bD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},bD(t,e)}function ENe(t){var e=TNe();return function(){var r=fT(t),s;if(e){var i=fT(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return SNe(this,s)}}function SNe(t,e){if(e&&(yD(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jNe(t)}function jNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TNe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fT(t){return fT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fT(t)}var JQ={tag:Zn,activeTab:P.any,className:P.string,cssModule:P.object},dF=function(t){xNe(n,t);var e=ENe(n);function n(r){var s;return _Ne(this,n),s=e.call(this,r),s.state={activeTab:s.props.activeTab},s}return wNe(n,[{key:"render",value:function(){var s=this.props,i=s.className,o=s.cssModule,l=s.tag,c=l===void 0?"div":l,u=lh(this.props,Object.keys(JQ)),d=Gt(Rt("tab-content",i),o);return oe.createElement(KQ.Provider,{value:{activeTabId:this.state.activeTab}},oe.createElement(c,vD({},u,{className:d})))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return i.activeTab!==s.activeTab?{activeTab:s.activeTab}:null}}]),n}(C.Component);dF.propTypes=JQ;var CNe=["className","cssModule","tabId","tag"];function _D(){return _D=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_D.apply(this,arguments)}function ANe(t,e){if(t==null)return{};var n=NNe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NNe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var INe={tag:Zn,className:P.string,cssModule:P.object,tabId:P.any};function $d(t){var e=t.className,n=t.cssModule,r=t.tabId,s=t.tag,i=s===void 0?"div":s,o=ANe(t,CNe),l=function(u){return Gt(Rt("tab-pane",e,{active:r===u}),n)};return oe.createElement(KQ.Consumer,null,function(c){var u=c.activeTabId;return oe.createElement(i,_D({},o,{className:l(u)}))})}$d.propTypes=INe;var kNe=["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"];function wD(){return wD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wD.apply(this,arguments)}function yz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function E_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yz(Object(n),!0).forEach(function(r){ONe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ONe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RNe(t,e){if(t==null)return{};var n=PNe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PNe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var DNe={children:P.node,className:P.string,closeClassName:P.string,closeAriaLabel:P.string,color:P.string,cssModule:P.object,fade:P.bool,innerRef:P.oneOfType([P.object,P.string,P.func]),isOpen:P.bool,tag:Zn,toggle:P.func,transition:P.shape(eo.propTypes)};function kn(t){var e=t.className,n=t.closeClassName,r=t.closeAriaLabel,s=r===void 0?"Close":r,i=t.cssModule,o=t.tag,l=o===void 0?"div":o,c=t.color,u=c===void 0?"success":c,d=t.isOpen,h=d===void 0?!0:d,m=t.toggle,p=t.children,y=t.transition,w=y===void 0?E_(E_({},eo.defaultProps),{},{unmountOnExit:!0}):y,v=t.fade,x=v===void 0?!0:v,_=t.innerRef,E=RNe(t,kNe),T=Gt(Rt(e,"alert","alert-".concat(u),{"alert-dismissible":m}),i),N=Gt(Rt("btn-close",n),i),D=E_(E_(E_({},eo.defaultProps),w),{},{baseClass:x?w.baseClass:"",timeout:x?w.timeout:0});return oe.createElement(eo,wD({},E,D,{tag:l,className:T,in:h,role:"alert",innerRef:_}),m?oe.createElement("button",{type:"button",className:N,"aria-label":s,onClick:m}):null,p)}kn.propTypes=DNe;function xD(t){"@babel/helpers - typeof";return xD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xD(t)}function vz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function LNe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vz(Object(n),!0).forEach(function(r){MNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MNe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ED(){return ED=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ED.apply(this,arguments)}function $Ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FNe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function VNe(t,e,n){return e&&FNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SD(t,e)}function SD(t,e){return SD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},SD(t,e)}function BNe(t){var e=WNe();return function(){var r=mT(t),s;if(e){var i=mT(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return zNe(this,s)}}function zNe(t,e){if(e&&(xD(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QQ(t)}function QQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WNe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mT(t){return mT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mT(t)}var GNe=["defaultOpen"],ZQ=function(t){UNe(n,t);var e=BNe(n);function n(r){var s;return $Ne(this,n),s=e.call(this,r),s.state={isOpen:r.defaultOpen||!1},s.toggle=s.toggle.bind(QQ(s)),s}return VNe(n,[{key:"toggle",value:function(s){var i=this;this.setState(function(o){return{isOpen:!o.isOpen}},function(){i.props.onToggle&&i.props.onToggle(s,i.state.isOpen)})}},{key:"render",value:function(){return oe.createElement(tu,ED({isOpen:this.state.isOpen,toggle:this.toggle},lh(this.props,GNe)))}}]),n}(C.Component);ZQ.propTypes=LNe({defaultOpen:P.bool,onToggle:P.func},tu.propTypes);function jD(t){"@babel/helpers - typeof";return jD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jD(t)}function bz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function HNe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bz(Object(n),!0).forEach(function(r){qNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qNe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TD(){return TD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TD.apply(this,arguments)}function YNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KNe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function JNe(t,e,n){return e&&KNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CD(t,e)}function CD(t,e){return CD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},CD(t,e)}function ZNe(t){var e=eIe();return function(){var r=pT(t),s;if(e){var i=pT(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return XNe(this,s)}}function XNe(t,e){if(e&&(jD(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XQ(t)}function XQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eIe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pT(t){return pT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pT(t)}var tIe=["defaultOpen"],Ef=function(t){QNe(n,t);var e=ZNe(n);function n(r){var s;return YNe(this,n),s=e.call(this,r),s.state={isOpen:r.defaultOpen||!1},s.toggle=s.toggle.bind(XQ(s)),s}return JNe(n,[{key:"toggle",value:function(){this.setState(function(s){return{isOpen:!s.isOpen}})}},{key:"render",value:function(){return oe.createElement(oA,TD({isOpen:this.state.isOpen,toggle:this.toggle},lh(this.props,tIe)))}}]),n}(C.Component);Ef.propTypes=HNe({defaultOpen:P.bool},oA.propTypes);var nIe=["className","cssModule","type","size","color","children","tag"];function AD(){return AD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AD.apply(this,arguments)}function rIe(t,e){if(t==null)return{};var n=sIe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sIe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var iIe={tag:Zn,type:P.oneOf(["border","grow"]),size:P.oneOf(["sm"]),color:P.oneOf(["primary","secondary","success","danger","warning","info","light","dark"]),className:P.string,cssModule:P.object,children:P.string};function pn(t){var e=t.className,n=t.cssModule,r=t.type,s=r===void 0?"border":r,i=t.size,o=t.color,l=t.children,c=l===void 0?"Loading...":l,u=t.tag,d=u===void 0?"div":u,h=rIe(t,nIe),m=Gt(Rt(e,i?"spinner-".concat(s,"-").concat(i):!1,"spinner-".concat(s),o?"text-".concat(o):!1),n);return oe.createElement(d,AD({role:"status"},h,{className:m}),c&&oe.createElement("span",{className:Gt("visually-hidden",n)},c))}pn.propTypes=iIe;const hF=t=>a.jsx(ge,{children:a.jsx($,{xs:"12",children:a.jsxs("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:[a.jsx("h4",{className:"mb-0 font-size-18",children:t.breadcrumbItem}),a.jsx("div",{className:"page-title-right",children:a.jsxs("ol",{className:"breadcrumb m-0",children:[a.jsx(g2,{children:a.jsx(Le,{to:"#",children:t.title})}),a.jsx(g2,{active:!0,children:t.breadcrumbItem})]})})]})})});hF.propTypes={breadcrumbItem:P.string,title:P.string};const aIe=({member:t,loading:e})=>{var o;if(e||!t)return console.log(" MemberCard: Still loading or no member data"),a.jsx(dt,{children:a.jsx(ht,{children:a.jsx("p",{className:"text-center",children:"  ..."})})});const r=(l=>{if(!l)return null;const c=new Date,d=new Date(l)-c;return Math.ceil(d/(1e3*60*60*24))})(t.license_expire_date),i=(l=>l?l<0?"danger":l<=30?"warning":"success":"secondary")(r);return a.jsx(dt,{children:a.jsxs(ht,{children:[a.jsxs("div",{className:"d-flex",children:[a.jsx("div",{className:"flex-shrink-0 me-3",children:a.jsx("img",{src:((o=t.member_image)==null?void 0:o.url)||"/default-avatar.png",alt:t.full_name,className:"avatar-md rounded-circle"})}),a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h5",{className:"font-size-16 mb-1",children:t.full_name}),a.jsxs("p",{className:"text-muted mb-2",children:[" : ",t.member_code]}),a.jsxs("p",{className:"text-muted mb-0",children:[": ",t.mobile]})]})]}),a.jsx("hr",{}),a.jsxs(ge,{children:[a.jsx($,{xs:"6",children:a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"text-muted mb-1",children:"   "}),a.jsx("h6",{className:"font-size-14",children:t.business_name||" "})]})}),a.jsx($,{xs:"6",children:a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"text-muted mb-1",children:" "}),a.jsx("h6",{className:"font-size-14",children:t.license_number||""})]})})]}),a.jsxs(ge,{children:[a.jsx($,{xs:"6",children:a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"text-muted mb-1",children:"  "}),a.jsx("h6",{className:"font-size-14",children:t.license_issue_date?new Date(t.license_issue_date).toLocaleDateString("fa-IR"):""})]})}),a.jsx($,{xs:"6",children:a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"text-muted mb-1",children:" "}),a.jsx("h6",{className:"font-size-14",children:t.license_expire_date?new Date(t.license_expire_date).toLocaleDateString("fa-IR"):""})]})})]}),r!==null&&a.jsx("div",{className:"mt-3",children:a.jsx("div",{className:`alert alert-${i} mb-0`,role:"alert",children:a.jsx("strong",{children:r<0?`   (${Math.abs(r)}  )`:`${r}    `})})}),a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"text-muted mb-1",children:""}),a.jsx("p",{className:"font-size-14",children:t.address||" "})]})]})})},oIe=({requests:t})=>{const e=t.length,n=t.filter(i=>i.status==="pending").length,r=t.filter(i=>i.status==="approved").length,s=t.filter(i=>i.status==="rejected").length;return a.jsx(dt,{children:a.jsxs(ht,{children:[a.jsx("h4",{className:"mb-4",children:"  "}),a.jsxs(ge,{children:[a.jsx($,{md:"4",children:a.jsxs("div",{className:"mini-stats-wid",children:[a.jsx("p",{className:"text-muted mb-2",children:" "}),a.jsx("h4",{children:e})]})}),a.jsx($,{md:"4",children:a.jsxs("div",{className:"mini-stats-wid",children:[a.jsx("p",{className:"text-muted mb-2",children:"  "}),a.jsx("h4",{className:"text-warning",children:n})]})}),a.jsx($,{md:"4",children:a.jsxs("div",{className:"mini-stats-wid",children:[a.jsx("p",{className:"text-muted mb-2",children:" "}),a.jsx("h4",{className:"text-success",children:r})]})}),a.jsx($,{md:"4",className:"mt-3",children:a.jsxs("div",{className:"mini-stats-wid",children:[a.jsx("p",{className:"text-muted mb-2",children:" "}),a.jsx("h4",{className:"text-danger",children:s})]})})]})]})})},lIe={fuel:" ",license:" ",dispute:"  ",other:" "},cIe={pending:"  ",approved:" ",rejected:" "},uIe=({requests:t})=>a.jsx(dt,{children:a.jsxs(ht,{children:[a.jsx("h4",{className:"mb-4",children:"  "}),a.jsxs(Mn,{className:"table table-striped",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsxs("tbody",{children:[t==null?void 0:t.map((e,n)=>a.jsxs("tr",{children:[a.jsx("td",{children:lIe[e.type]}),a.jsx("td",{children:e.description||"-"}),a.jsx("td",{children:cIe[e.status]}),a.jsx("td",{children:new Date(e.createdAt).toLocaleDateString("fa-IR")})]},n)),(!t||t.length===0)&&a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"text-center",children:"     "})})]})]})]})});function eZ(t,e){return function(){return t.apply(e,arguments)}}const{toString:dIe}=Object.prototype,{getPrototypeOf:fF}=Object,lA=(t=>e=>{const n=dIe.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ld=t=>(t=t.toLowerCase(),e=>lA(e)===t),cA=t=>e=>typeof e===t,{isArray:vb}=Array,wx=cA("undefined");function hIe(t){return t!==null&&!wx(t)&&t.constructor!==null&&!wx(t.constructor)&&yc(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const tZ=ld("ArrayBuffer");function fIe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&tZ(t.buffer),e}const mIe=cA("string"),yc=cA("function"),nZ=cA("number"),uA=t=>t!==null&&typeof t=="object",pIe=t=>t===!0||t===!1,Bj=t=>{if(lA(t)!=="object")return!1;const e=fF(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},gIe=ld("Date"),yIe=ld("File"),vIe=ld("Blob"),bIe=ld("FileList"),_Ie=t=>uA(t)&&yc(t.pipe),wIe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||yc(t.append)&&((e=lA(t))==="formdata"||e==="object"&&yc(t.toString)&&t.toString()==="[object FormData]"))},xIe=ld("URLSearchParams"),EIe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function E0(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),vb(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(r=0;r<o;r++)l=i[r],e.call(null,t[l],l,t)}}function rZ(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const sZ=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,iZ=t=>!wx(t)&&t!==sZ;function ND(){const{caseless:t}=iZ(this)&&this||{},e={},n=(r,s)=>{const i=t&&rZ(e,s)||s;Bj(e[i])&&Bj(r)?e[i]=ND(e[i],r):Bj(r)?e[i]=ND({},r):vb(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&E0(arguments[r],n);return e}const SIe=(t,e,n,{allOwnKeys:r}={})=>(E0(e,(s,i)=>{n&&yc(s)?t[i]=eZ(s,n):t[i]=s},{allOwnKeys:r}),t),jIe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),TIe=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},CIe=(t,e,n,r)=>{let s,i,o;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&fF(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},AIe=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},NIe=t=>{if(!t)return null;if(vb(t))return t;let e=t.length;if(!nZ(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},IIe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&fF(Uint8Array)),kIe=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},OIe=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},RIe=ld("HTMLFormElement"),PIe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),_z=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),DIe=ld("RegExp"),aZ=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};E0(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},LIe=t=>{aZ(t,(e,n)=>{if(yc(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(yc(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},MIe=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return vb(t)?r(t):r(String(t).split(e)),n},$Ie=()=>{},FIe=(t,e)=>(t=+t,Number.isFinite(t)?t:e),PO="abcdefghijklmnopqrstuvwxyz",wz="0123456789",oZ={DIGIT:wz,ALPHA:PO,ALPHA_DIGIT:PO+PO.toUpperCase()+wz},VIe=(t=16,e=oZ.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function UIe(t){return!!(t&&yc(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const BIe=t=>{const e=new Array(10),n=(r,s)=>{if(uA(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=vb(r)?[]:{};return E0(r,(o,l)=>{const c=n(o,s+1);!wx(c)&&(i[l]=c)}),e[s]=void 0,i}}return r};return n(t,0)},zIe=ld("AsyncFunction"),WIe=t=>t&&(uA(t)||yc(t))&&yc(t.then)&&yc(t.catch),Ve={isArray:vb,isArrayBuffer:tZ,isBuffer:hIe,isFormData:wIe,isArrayBufferView:fIe,isString:mIe,isNumber:nZ,isBoolean:pIe,isObject:uA,isPlainObject:Bj,isUndefined:wx,isDate:gIe,isFile:yIe,isBlob:vIe,isRegExp:DIe,isFunction:yc,isStream:_Ie,isURLSearchParams:xIe,isTypedArray:IIe,isFileList:bIe,forEach:E0,merge:ND,extend:SIe,trim:EIe,stripBOM:jIe,inherits:TIe,toFlatObject:CIe,kindOf:lA,kindOfTest:ld,endsWith:AIe,toArray:NIe,forEachEntry:kIe,matchAll:OIe,isHTMLForm:RIe,hasOwnProperty:_z,hasOwnProp:_z,reduceDescriptors:aZ,freezeMethods:LIe,toObjectSet:MIe,toCamelCase:PIe,noop:$Ie,toFiniteNumber:FIe,findKey:rZ,global:sZ,isContextDefined:iZ,ALPHABET:oZ,generateString:VIe,isSpecCompliantForm:UIe,toJSONObject:BIe,isAsyncFn:zIe,isThenable:WIe};function fr(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}Ve.inherits(fr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ve.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const lZ=fr.prototype,cZ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{cZ[t]={value:t}});Object.defineProperties(fr,cZ);Object.defineProperty(lZ,"isAxiosError",{value:!0});fr.from=(t,e,n,r,s,i)=>{const o=Object.create(lZ);return Ve.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),fr.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const GIe=null;function ID(t){return Ve.isPlainObject(t)||Ve.isArray(t)}function uZ(t){return Ve.endsWith(t,"[]")?t.slice(0,-2):t}function xz(t,e,n){return t?t.concat(e).map(function(s,i){return s=uZ(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function HIe(t){return Ve.isArray(t)&&!t.some(ID)}const qIe=Ve.toFlatObject(Ve,{},null,function(e){return/^is[A-Z]/.test(e)});function dA(t,e,n){if(!Ve.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Ve.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,v){return!Ve.isUndefined(v[w])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&Ve.isSpecCompliantForm(e);if(!Ve.isFunction(s))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(Ve.isDate(y))return y.toISOString();if(!c&&Ve.isBlob(y))throw new fr("Blob is not supported. Use a Buffer instead.");return Ve.isArrayBuffer(y)||Ve.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,w,v){let x=y;if(y&&!v&&typeof y=="object"){if(Ve.endsWith(w,"{}"))w=r?w:w.slice(0,-2),y=JSON.stringify(y);else if(Ve.isArray(y)&&HIe(y)||(Ve.isFileList(y)||Ve.endsWith(w,"[]"))&&(x=Ve.toArray(y)))return w=uZ(w),x.forEach(function(E,T){!(Ve.isUndefined(E)||E===null)&&e.append(o===!0?xz([w],T,i):o===null?w:w+"[]",u(E))}),!1}return ID(y)?!0:(e.append(xz(v,w,i),u(y)),!1)}const h=[],m=Object.assign(qIe,{defaultVisitor:d,convertValue:u,isVisitable:ID});function p(y,w){if(!Ve.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+w.join("."));h.push(y),Ve.forEach(y,function(x,_){(!(Ve.isUndefined(x)||x===null)&&s.call(e,x,Ve.isString(_)?_.trim():_,w,m))===!0&&p(x,w?w.concat(_):[_])}),h.pop()}}if(!Ve.isObject(t))throw new TypeError("data must be an object");return p(t),e}function Ez(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function mF(t,e){this._pairs=[],t&&dA(t,this,e)}const dZ=mF.prototype;dZ.append=function(e,n){this._pairs.push([e,n])};dZ.toString=function(e){const n=e?function(r){return e.call(this,r,Ez)}:Ez;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function YIe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function hZ(t,e,n){if(!e)return t;const r=n&&n.encode||YIe,s=n&&n.serialize;let i;if(s?i=s(e,n):i=Ve.isURLSearchParams(e)?e.toString():new mF(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Sz{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ve.forEach(this.handlers,function(r){r!==null&&e(r)})}}const fZ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},KIe=typeof URLSearchParams<"u"?URLSearchParams:mF,JIe=typeof FormData<"u"?FormData:null,QIe=typeof Blob<"u"?Blob:null,ZIe={isBrowser:!0,classes:{URLSearchParams:KIe,FormData:JIe,Blob:QIe},protocols:["http","https","file","blob","url","data"]},mZ=typeof window<"u"&&typeof document<"u",XIe=(t=>mZ&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),eke=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",tke=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mZ,hasStandardBrowserEnv:XIe,hasStandardBrowserWebWorkerEnv:eke},Symbol.toStringTag,{value:"Module"})),Bu={...tke,...ZIe};function nke(t,e){return dA(t,new Bu.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return Bu.isNode&&Ve.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function rke(t){return Ve.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ske(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function pZ(t){function e(n,r,s,i){let o=n[i++];const l=Number.isFinite(+o),c=i>=n.length;return o=!o&&Ve.isArray(s)?s.length:o,c?(Ve.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!l):((!s[o]||!Ve.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&Ve.isArray(s[o])&&(s[o]=ske(s[o])),!l)}if(Ve.isFormData(t)&&Ve.isFunction(t.entries)){const n={};return Ve.forEachEntry(t,(r,s)=>{e(rke(r),s,n,0)}),n}return null}function ike(t,e,n){if(Ve.isString(t))try{return(e||JSON.parse)(t),Ve.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const S0={transitional:fZ,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=Ve.isObject(e);if(i&&Ve.isHTMLForm(e)&&(e=new FormData(e)),Ve.isFormData(e))return s&&s?JSON.stringify(pZ(e)):e;if(Ve.isArrayBuffer(e)||Ve.isBuffer(e)||Ve.isStream(e)||Ve.isFile(e)||Ve.isBlob(e))return e;if(Ve.isArrayBufferView(e))return e.buffer;if(Ve.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return nke(e,this.formSerializer).toString();if((l=Ve.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return dA(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),ike(e)):e}],transformResponse:[function(e){const n=this.transitional||S0.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&Ve.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?fr.from(l,fr.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bu.classes.FormData,Blob:Bu.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ve.forEach(["delete","get","head","post","put","patch"],t=>{S0.headers[t]={}});const ake=Ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oke=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&ake[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},jz=Symbol("internals");function S_(t){return t&&String(t).trim().toLowerCase()}function zj(t){return t===!1||t==null?t:Ve.isArray(t)?t.map(zj):String(t)}function lke(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const cke=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function DO(t,e,n,r,s){if(Ve.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!Ve.isString(e)){if(Ve.isString(r))return e.indexOf(r)!==-1;if(Ve.isRegExp(r))return r.test(e)}}function uke(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function dke(t,e){const n=Ve.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}let vc=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(l,c,u){const d=S_(c);if(!d)throw new Error("header name must be a non-empty string");const h=Ve.findKey(s,d);(!h||s[h]===void 0||u===!0||u===void 0&&s[h]!==!1)&&(s[h||c]=zj(l))}const o=(l,c)=>Ve.forEach(l,(u,d)=>i(u,d,c));return Ve.isPlainObject(e)||e instanceof this.constructor?o(e,n):Ve.isString(e)&&(e=e.trim())&&!cke(e)?o(oke(e),n):e!=null&&i(n,e,r),this}get(e,n){if(e=S_(e),e){const r=Ve.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return lke(s);if(Ve.isFunction(n))return n.call(this,s,r);if(Ve.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=S_(e),e){const r=Ve.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||DO(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=S_(o),o){const l=Ve.findKey(r,o);l&&(!n||DO(r,r[l],l,n))&&(delete r[l],s=!0)}}return Ve.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||DO(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return Ve.forEach(this,(s,i)=>{const o=Ve.findKey(r,i);if(o){n[o]=zj(s),delete n[i];return}const l=e?uke(i):String(i).trim();l!==i&&delete n[i],n[l]=zj(s),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Ve.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&Ve.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[jz]=this[jz]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=S_(o);r[l]||(dke(s,o),r[l]=!0)}return Ve.isArray(e)?e.forEach(i):i(e),this}};vc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ve.reduceDescriptors(vc.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Ve.freezeMethods(vc);function LO(t,e){const n=this||S0,r=e||n,s=vc.from(r.headers);let i=r.data;return Ve.forEach(t,function(l){i=l.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function gZ(t){return!!(t&&t.__CANCEL__)}function j0(t,e,n){fr.call(this,t??"canceled",fr.ERR_CANCELED,e,n),this.name="CanceledError"}Ve.inherits(j0,fr,{__CANCEL__:!0});function hke(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new fr("Request failed with status code "+n.status,[fr.ERR_BAD_REQUEST,fr.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const fke=Bu.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const o=[t+"="+encodeURIComponent(e)];Ve.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ve.isString(r)&&o.push("path="+r),Ve.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function mke(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function pke(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function yZ(t,e){return t&&!mke(e)?pke(t,e):e}const gke=Bu.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const l=Ve.isString(o)?s(o):o;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function yke(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function vke(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=r[i];o||(o=u),n[s]=c,r[s]=u;let h=i,m=0;for(;h!==s;)m+=n[h++],h=h%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-o<e)return;const p=d&&u-d;return p?Math.round(m*1e3/p):void 0}}function Tz(t,e){let n=0;const r=vke(50,250);return s=>{const i=s.loaded,o=s.lengthComputable?s.total:void 0,l=i-n,c=r(l),u=i<=o;n=i;const d={loaded:i,total:o,progress:o?i/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&u?(o-i)/c:void 0,event:s};d[e?"download":"upload"]=!0,t(d)}}const bke=typeof XMLHttpRequest<"u",_ke=bke&&function(t){return new Promise(function(n,r){let s=t.data;const i=vc.from(t.headers).normalize();let{responseType:o,withXSRFToken:l}=t,c;function u(){t.cancelToken&&t.cancelToken.unsubscribe(c),t.signal&&t.signal.removeEventListener("abort",c)}let d;if(Ve.isFormData(s)){if(Bu.hasStandardBrowserEnv||Bu.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if((d=i.getContentType())!==!1){const[w,...v]=d?d.split(";").map(x=>x.trim()).filter(Boolean):[];i.setContentType([w||"multipart/form-data",...v].join("; "))}}let h=new XMLHttpRequest;if(t.auth){const w=t.auth.username||"",v=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(w+":"+v))}const m=yZ(t.baseURL,t.url);h.open(t.method.toUpperCase(),hZ(m,t.params,t.paramsSerializer),!0),h.timeout=t.timeout;function p(){if(!h)return;const w=vc.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),x={data:!o||o==="text"||o==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:w,config:t,request:h};hke(function(E){n(E),u()},function(E){r(E),u()},x),h=null}if("onloadend"in h?h.onloadend=p:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(p)},h.onabort=function(){h&&(r(new fr("Request aborted",fr.ECONNABORTED,t,h)),h=null)},h.onerror=function(){r(new fr("Network Error",fr.ERR_NETWORK,t,h)),h=null},h.ontimeout=function(){let v=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const x=t.transitional||fZ;t.timeoutErrorMessage&&(v=t.timeoutErrorMessage),r(new fr(v,x.clarifyTimeoutError?fr.ETIMEDOUT:fr.ECONNABORTED,t,h)),h=null},Bu.hasStandardBrowserEnv&&(l&&Ve.isFunction(l)&&(l=l(t)),l||l!==!1&&gke(m))){const w=t.xsrfHeaderName&&t.xsrfCookieName&&fke.read(t.xsrfCookieName);w&&i.set(t.xsrfHeaderName,w)}s===void 0&&i.setContentType(null),"setRequestHeader"in h&&Ve.forEach(i.toJSON(),function(v,x){h.setRequestHeader(x,v)}),Ve.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),o&&o!=="json"&&(h.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&h.addEventListener("progress",Tz(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",Tz(t.onUploadProgress)),(t.cancelToken||t.signal)&&(c=w=>{h&&(r(!w||w.type?new j0(null,t,h):w),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(c),t.signal&&(t.signal.aborted?c():t.signal.addEventListener("abort",c)));const y=yke(m);if(y&&Bu.protocols.indexOf(y)===-1){r(new fr("Unsupported protocol "+y+":",fr.ERR_BAD_REQUEST,t));return}h.send(s||null)})},kD={http:GIe,xhr:_ke};Ve.forEach(kD,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Cz=t=>`- ${t}`,wke=t=>Ve.isFunction(t)||t===null||t===!1,vZ={getAdapter:t=>{t=Ve.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let o;if(r=n,!wke(n)&&(r=kD[(o=String(n)).toLowerCase()],r===void 0))throw new fr(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(Cz).join(`
`):" "+Cz(i[0]):"as no adapter specified";throw new fr("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:kD};function MO(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new j0(null,t)}function Az(t){return MO(t),t.headers=vc.from(t.headers),t.data=LO.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),vZ.getAdapter(t.adapter||S0.adapter)(t).then(function(r){return MO(t),r.data=LO.call(t,t.transformResponse,r),r.headers=vc.from(r.headers),r},function(r){return gZ(r)||(MO(t),r&&r.response&&(r.response.data=LO.call(t,t.transformResponse,r.response),r.response.headers=vc.from(r.response.headers))),Promise.reject(r)})}const Nz=t=>t instanceof vc?t.toJSON():t;function Uv(t,e){e=e||{};const n={};function r(u,d,h){return Ve.isPlainObject(u)&&Ve.isPlainObject(d)?Ve.merge.call({caseless:h},u,d):Ve.isPlainObject(d)?Ve.merge({},d):Ve.isArray(d)?d.slice():d}function s(u,d,h){if(Ve.isUndefined(d)){if(!Ve.isUndefined(u))return r(void 0,u,h)}else return r(u,d,h)}function i(u,d){if(!Ve.isUndefined(d))return r(void 0,d)}function o(u,d){if(Ve.isUndefined(d)){if(!Ve.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,h){if(h in e)return r(u,d);if(h in t)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d)=>s(Nz(u),Nz(d),!0)};return Ve.forEach(Object.keys(Object.assign({},t,e)),function(d){const h=c[d]||s,m=h(t[d],e[d],d);Ve.isUndefined(m)&&h!==l||(n[d]=m)}),n}const bZ="1.6.2",pF={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{pF[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Iz={};pF.transitional=function(e,n,r){function s(i,o){return"[Axios v"+bZ+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(e===!1)throw new fr(s(o," has been removed"+(n?" in "+n:"")),fr.ERR_DEPRECATED);return n&&!Iz[o]&&(Iz[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,l):!0}};function xke(t,e,n){if(typeof t!="object")throw new fr("options must be an object",fr.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const l=t[i],c=l===void 0||o(l,i,t);if(c!==!0)throw new fr("option "+i+" must be "+c,fr.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new fr("Unknown option "+i,fr.ERR_BAD_OPTION)}}const OD={assertOptions:xke,validators:pF},Ph=OD.validators;let xp=class{constructor(e){this.defaults=e,this.interceptors={request:new Sz,response:new Sz}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Uv(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&OD.assertOptions(r,{silentJSONParsing:Ph.transitional(Ph.boolean),forcedJSONParsing:Ph.transitional(Ph.boolean),clarifyTimeoutError:Ph.transitional(Ph.boolean)},!1),s!=null&&(Ve.isFunction(s)?n.paramsSerializer={serialize:s}:OD.assertOptions(s,{encode:Ph.function,serialize:Ph.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&Ve.merge(i.common,i[n.method]);i&&Ve.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),n.headers=vc.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(c=c&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let d,h=0,m;if(!c){const y=[Az.bind(this),void 0];for(y.unshift.apply(y,l),y.push.apply(y,u),m=y.length,d=Promise.resolve(n);h<m;)d=d.then(y[h++],y[h++]);return d}m=l.length;let p=n;for(h=0;h<m;){const y=l[h++],w=l[h++];try{p=y(p)}catch(v){w.call(this,v);break}}try{d=Az.call(this,p)}catch(y){return Promise.reject(y)}for(h=0,m=u.length;h<m;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=Uv(this.defaults,e);const n=yZ(e.baseURL,e.url);return hZ(n,e.params,e.paramsSerializer)}};Ve.forEach(["delete","get","head","options"],function(e){xp.prototype[e]=function(n,r){return this.request(Uv(r||{},{method:e,url:n,data:(r||{}).data}))}});Ve.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,l){return this.request(Uv(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}xp.prototype[e]=n(),xp.prototype[e+"Form"]=n(!0)});let Eke=class _Z{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,l){r.reason||(r.reason=new j0(i,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new _Z(function(s){e=s}),cancel:e}}};function Ske(t){return function(n){return t.apply(null,n)}}function jke(t){return Ve.isObject(t)&&t.isAxiosError===!0}const RD={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(RD).forEach(([t,e])=>{RD[e]=t});function wZ(t){const e=new xp(t),n=eZ(xp.prototype.request,e);return Ve.extend(n,xp.prototype,e,{allOwnKeys:!0}),Ve.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return wZ(Uv(t,s))},n}const is=wZ(S0);is.Axios=xp;is.CanceledError=j0;is.CancelToken=Eke;is.isCancel=gZ;is.VERSION=bZ;is.toFormData=dA;is.AxiosError=fr;is.Cancel=is.CanceledError;is.all=function(e){return Promise.all(e)};is.spread=Ske;is.isAxiosError=jke;is.mergeConfig=Uv;is.AxiosHeaders=vc;is.formToJSON=t=>pZ(Ve.isHTMLForm(t)?new FormData(t):t);is.getAdapter=vZ.getAdapter;is.HttpStatusCode=RD;is.default=is;const{Axios:Tke,AxiosError:Cke,CanceledError:Ake,isCancel:Nke,CancelToken:Ike,VERSION:kke,all:Oke,Cancel:Rke,isAxiosError:Pke,spread:Dke,toFormData:Lke,AxiosHeaders:Mke,HttpStatusCode:$ke,formToJSON:Fke,getAdapter:Vke,mergeConfig:Uke}=is,Bke=Object.freeze(Object.defineProperty({__proto__:null,Axios:Tke,AxiosError:Cke,AxiosHeaders:Mke,Cancel:Rke,CancelToken:Ike,CanceledError:Ake,HttpStatusCode:$ke,VERSION:kke,all:Oke,default:is,formToJSON:Fke,getAdapter:Vke,isAxiosError:Pke,isCancel:Nke,mergeConfig:Uke,spread:Dke,toFormData:Lke},Symbol.toStringTag,{value:"Module"})),PD="https://api.anbardaranrey.ir/api",zke="https://api.anbardaranrey.ir",ag=is.create({baseURL:PD,timeout:3e4});ag.interceptors.request.use(t=>{const e=localStorage.getItem("token")||localStorage.getItem("authToken");return e&&(t.headers.Authorization=`Bearer ${e}`),t.headers["Content-Type"]||(t.headers["Content-Type"]="application/json"),t},t=>Promise.reject(t));ag.interceptors.response.use(t=>t,t=>{var s,i,o;const e=(s=t.response)==null?void 0:s.status,n=(i=t.response)==null?void 0:i.data,r=(o=t.config)==null?void 0:o.url;return console.group(" API ERROR DETAILS"),console.error("URL:",r),console.error("STATUS:",e),console.error("MESSAGE:",(n==null?void 0:n.message)||(n==null?void 0:n.error)||" "),console.error("FULL DATA:",n),console.groupEnd(),e===401&&console.warn("    .    ."),Promise.reject(t)});const cn=(t,e={})=>ag.get(t,e).then(n=>n.data),os=(t,e={},n={})=>ag.post(t,e,n).then(r=>r.data),ch=(t,e={},n={})=>ag.put(t,e,n).then(r=>r.data),DD=(t,e={},n={})=>ag.patch(t,e,n).then(r=>r.data),Fa=(t,e={})=>ag.delete(t,e).then(n=>n.data),Wke=()=>{const[t,e]=C.useState(null),[n,r]=C.useState([]),[s,i]=C.useState(!0),o=`${PD}/api`;C.useEffect(()=>{const c=localStorage.getItem("member"),u=localStorage.getItem("token");if(!c||!u)return;const d=JSON.parse(c);fetch(`${o}/members/${d.id}`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}}).then(h=>{if(!h.ok)throw new Error(`HTTP ${h.status}`);return h.json()}).then(h=>{e(h)}).catch(h=>{e(d)}).finally(()=>{l(d.id,u)})},[PD,o]);const l=(c,u)=>{fetch(`${o}/requests?where[member][equals]=${c}`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}}).then(d=>{if(!d.ok){if(d.status===404)return{docs:[]};throw new Error(`HTTP ${d.status}`)}return d.json()}).then(d=>{r(d.docs||[])}).catch(d=>{r([])}).finally(()=>{i(!1)})};return a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsx(hF,{title:"",breadcrumbItem:" "}),a.jsxs(ge,{children:[a.jsx($,{xl:"4",children:a.jsx(aIe,{member:t,loading:s})}),a.jsx($,{xl:"8",children:a.jsx(oIe,{requests:n})})]}),a.jsx(ge,{children:a.jsx($,{xl:"12",children:a.jsx(uIe,{requests:n})})})]})})};var gF={},gT={};function Gke(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})}const Hke=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let hA=class extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}},xZ=class extends hA{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},LD=class extends hA{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},MD=class extends hA{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var yT;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(yT||(yT={}));class qke{constructor(e,{headers:n={},customFetch:r,region:s=yT.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Hke(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Gke(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=r;let m={},{region:p}=r;p||(p=this.region);const y=new URL(`${this.url}/${n}`);p&&p!=="any"&&(m["x-region"]=p,y.searchParams.set("forceFunctionRegion",p));let w;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(m["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(m["Content-Type"]="application/json",w=JSON.stringify(u)):w=u;let v=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(v=o.signal,d.addEventListener("abort",()=>o.abort())):v=o.signal);const x=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:w,signal:v}).catch(N=>{throw new xZ(N)}),_=x.headers.get("x-relay-error");if(_&&_==="true")throw new LD(x);if(!x.ok)throw new MD(x);let E=((s=x.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),T;return E==="application/json"?T=yield x.json():E==="application/octet-stream"||E==="application/pdf"?T=yield x.blob():E==="text/event-stream"?T=x:E==="multipart/form-data"?T=yield x.formData():T=yield x.text(),{data:T,error:null,response:x}}catch(l){return{data:null,error:l,response:l instanceof MD||l instanceof LD?l.context:void 0}}finally{i&&clearTimeout(i)}})}}const Yke=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return yT},FunctionsClient:qke,FunctionsError:hA,FunctionsFetchError:xZ,FunctionsHttpError:MD,FunctionsRelayError:LD},Symbol.toStringTag,{value:"Module"})),EZ=ng(Yke);var Oa={},$D=function(t,e){return $D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},$D(t,e)};function SZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");$D(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var vT=function(){return vT=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},vT.apply(this,arguments)};function jZ(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function TZ(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function CZ(t,e){return function(n,r){e(n,r,t)}}function AZ(t,e,n,r,s,i){function o(x){if(x!==void 0&&typeof x!="function")throw new TypeError("Function expected");return x}for(var l=r.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h,m=!1,p=n.length-1;p>=0;p--){var y={};for(var w in r)y[w]=w==="access"?{}:r[w];for(var w in r.access)y.access[w]=r.access[w];y.addInitializer=function(x){if(m)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(x||null))};var v=(0,n[p])(l==="accessor"?{get:d.get,set:d.set}:d[c],y);if(l==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(h=o(v.get))&&(d.get=h),(h=o(v.set))&&(d.set=h),(h=o(v.init))&&s.unshift(h)}else(h=o(v))&&(l==="field"?s.unshift(h):d[c]=h)}u&&Object.defineProperty(u,r.name,d),m=!0}function NZ(t,e,n){for(var r=arguments.length>2,s=0;s<e.length;s++)n=r?e[s].call(t,n):e[s].call(t);return r?n:void 0}function IZ(t){return typeof t=="symbol"?t:"".concat(t)}function kZ(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function OZ(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function RZ(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})}function PZ(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var fA=Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function DZ(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&fA(e,t,n)}function bT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function yF(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(l){o={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function LZ(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(yF(arguments[e]));return t}function MZ(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,l=i.length;o<l;o++,s++)r[s]=i[o];return r}function $Z(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Bv(t){return this instanceof Bv?(this.v=t,this):new Bv(t)}function FZ(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(p){return function(y){return Promise.resolve(y).then(p,h)}}function l(p,y){r[p]&&(s[p]=function(w){return new Promise(function(v,x){i.push([p,w,v,x])>1||c(p,w)})},y&&(s[p]=y(s[p])))}function c(p,y){try{u(r[p](y))}catch(w){m(i[0][3],w)}}function u(p){p.value instanceof Bv?Promise.resolve(p.value.v).then(d,h):m(i[0][2],p)}function d(p){c("next",p)}function h(p){c("throw",p)}function m(p,y){p(y),i.shift(),i.length&&c(i[0][0],i[0][1])}}function VZ(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:Bv(t[s](o)),done:!1}:i?i(o):o}:i}}function UZ(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof bT=="function"?bT(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(l,c){o=t[i](o),s(l,c,o.done,o.value)})}}function s(i,o,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},o)}}function BZ(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Kke=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},FD=function(t){return FD=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},FD(t)};function zZ(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=FD(t),r=0;r<n.length;r++)n[r]!=="default"&&fA(e,t,n[r]);return Kke(e,t),e}function WZ(t){return t&&t.__esModule?t:{default:t}}function GZ(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function HZ(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n}function qZ(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function YZ(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var Jke=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function KZ(t){function e(i){t.error=t.hasError?new Jke(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;function s(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function JZ(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,s,i,o){return r?e?".jsx":".js":s&&(!i||!o)?n:s+i+"."+o.toLowerCase()+"js"}):t}const Qke={__extends:SZ,__assign:vT,__rest:jZ,__decorate:TZ,__param:CZ,__esDecorate:AZ,__runInitializers:NZ,__propKey:IZ,__setFunctionName:kZ,__metadata:OZ,__awaiter:RZ,__generator:PZ,__createBinding:fA,__exportStar:DZ,__values:bT,__read:yF,__spread:LZ,__spreadArrays:MZ,__spreadArray:$Z,__await:Bv,__asyncGenerator:FZ,__asyncDelegator:VZ,__asyncValues:UZ,__makeTemplateObject:BZ,__importStar:zZ,__importDefault:WZ,__classPrivateFieldGet:GZ,__classPrivateFieldSet:HZ,__classPrivateFieldIn:qZ,__addDisposableResource:YZ,__disposeResources:KZ,__rewriteRelativeImportExtension:JZ},Zke=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:YZ,get __assign(){return vT},__asyncDelegator:VZ,__asyncGenerator:FZ,__asyncValues:UZ,__await:Bv,__awaiter:RZ,__classPrivateFieldGet:GZ,__classPrivateFieldIn:qZ,__classPrivateFieldSet:HZ,__createBinding:fA,__decorate:TZ,__disposeResources:KZ,__esDecorate:AZ,__exportStar:DZ,__extends:SZ,__generator:PZ,__importDefault:WZ,__importStar:zZ,__makeTemplateObject:BZ,__metadata:OZ,__param:CZ,__propKey:IZ,__read:yF,__rest:jZ,__rewriteRelativeImportExtension:JZ,__runInitializers:NZ,__setFunctionName:kZ,__spread:LZ,__spreadArray:$Z,__spreadArrays:MZ,__values:bT,default:Qke},Symbol.toStringTag,{value:"Module"})),bb=ng(Zke);var kS={},OS={},RS={},PS={},DS={},LS={},kz;function QZ(){if(kz)return LS;kz=1,Object.defineProperty(LS,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return LS.default=t,LS}var Oz;function ZZ(){if(Oz)return DS;Oz=1,Object.defineProperty(DS,"__esModule",{value:!0});const e=bb.__importDefault(QZ());let n=class{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,h,m;let p=null,y=null,w=null,v=c.status,x=c.statusText;if(c.ok){if(this.method!=="HEAD"){const N=await c.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?y=N:y=JSON.parse(N))}const E=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),T=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");E&&T&&T.length>1&&(w=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(p={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,w=null,v=406,x="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const E=await c.text();try{p=JSON.parse(E),Array.isArray(p)&&c.status===404&&(y=[],p=null,v=200,x="OK")}catch{c.status===404&&E===""?(v=204,x="No Content"):p={message:E}}if(p&&this.isMaybeSingle&&(!((m=p==null?void 0:p.details)===null||m===void 0)&&m.includes("0 rows"))&&(p=null,v=200,x="OK"),p&&this.shouldThrowOnError)throw new e.default(p)}return{error:p,data:y,count:w,status:v,statusText:x}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,h,m,p,y;let w="";const v=c==null?void 0:c.cause;if(v){const x=(u=v==null?void 0:v.message)!==null&&u!==void 0?u:"",_=(d=v==null?void 0:v.code)!==null&&d!==void 0?d:"";w=`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,w+=`

Caused by: ${(m=v==null?void 0:v.name)!==null&&m!==void 0?m:"Error"}: ${x}`,_&&(w+=` (${_})`),v!=null&&v.stack&&(w+=`
${v.stack}`)}else w=(p=c==null?void 0:c.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(y=c==null?void 0:c.name)!==null&&y!==void 0?y:"FetchError"}: ${c==null?void 0:c.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}};return DS.default=n,DS}var Rz;function XZ(){if(Rz)return PS;Rz=1,Object.defineProperty(PS,"__esModule",{value:!0});const e=bb.__importDefault(ZZ());let n=class extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};return PS.default=n,PS}var Pz;function vF(){if(Pz)return RS;Pz=1,Object.defineProperty(RS,"__esModule",{value:!0});const e=bb.__importDefault(XZ()),n=new RegExp("[,()]");let r=class extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&n.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}};return RS.default=r,RS}var Dz;function eX(){if(Dz)return OS;Dz=1,Object.defineProperty(OS,"__esModule",{value:!0});const e=bb.__importDefault(vF());let n=class{constructor(s,{headers:i={},schema:o,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(s,i){const{head:o=!1,count:l}=i??{},c=o?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(h.length>0){const m=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};return OS.default=n,OS}var Lz;function Xke(){if(Lz)return kS;Lz=1,Object.defineProperty(kS,"__esModule",{value:!0});const t=bb,e=t.__importDefault(eX()),n=t.__importDefault(vF());let r=class tX{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new tX(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let h;const m=new URL(`${this.url}/rpc/${i}`);let p;l||c?(h=l?"HEAD":"GET",Object.entries(o).filter(([w,v])=>v!==void 0).map(([w,v])=>[w,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([w,v])=>{m.searchParams.append(w,v)})):(h="POST",p=o);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new n.default({method:h,url:m,headers:y,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};return kS.default=r,kS}Object.defineProperty(Oa,"__esModule",{value:!0});Oa.PostgrestError=Oa.PostgrestBuilder=Oa.PostgrestTransformBuilder=Oa.PostgrestFilterBuilder=Oa.PostgrestQueryBuilder=Oa.PostgrestClient=void 0;const _b=bb,nX=_b.__importDefault(Xke());Oa.PostgrestClient=nX.default;const rX=_b.__importDefault(eX());Oa.PostgrestQueryBuilder=rX.default;const sX=_b.__importDefault(vF());Oa.PostgrestFilterBuilder=sX.default;const iX=_b.__importDefault(XZ());Oa.PostgrestTransformBuilder=iX.default;const aX=_b.__importDefault(ZZ());Oa.PostgrestBuilder=aX.default;const oX=_b.__importDefault(QZ());Oa.PostgrestError=oX.default;Oa.default={PostgrestClient:nX.default,PostgrestQueryBuilder:rX.default,PostgrestFilterBuilder:sX.default,PostgrestTransformBuilder:iX.default,PostgrestBuilder:aX.default,PostgrestError:oX.default};class lX{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const eOe="2.87.1",tOe=`realtime-js/${eOe}`,cX="1.0.0",nOe="2.0.0",Mz=cX,VD=1e4,rOe=1e3,sOe=100;var Xm;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Xm||(Xm={}));var di;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(di||(di={}));var Wc;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Wc||(Wc={}));var UD;(function(t){t.websocket="websocket"})(UD||(UD={}));var ep;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ep||(ep={}));class iOe{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,n,r){var s,i;const o=e.topic,l=(s=e.ref)!==null&&s!==void 0?s:"",c=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+h.length,p=new ArrayBuffer(this.HEADER_LENGTH+m);let y=new DataView(p),w=0;y.setUint8(w++,this.KINDS.userBroadcastPush),y.setUint8(w++,c.length),y.setUint8(w++,l.length),y.setUint8(w++,o.length),y.setUint8(w++,u.length),y.setUint8(w++,h.length),y.setUint8(w++,n),Array.from(c,x=>y.setUint8(w++,x.charCodeAt(0))),Array.from(l,x=>y.setUint8(w++,x.charCodeAt(0))),Array.from(o,x=>y.setUint8(w++,x.charCodeAt(0))),Array.from(u,x=>y.setUint8(w++,x.charCodeAt(0))),Array.from(h,x=>y.setUint8(w++,x.charCodeAt(0)));var v=new Uint8Array(p.byteLength+r.byteLength);return v.set(new Uint8Array(p),0),v.set(new Uint8Array(r),p.byteLength),v.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,i,o,l,c]=r;return n({join_ref:s,ref:i,topic:o,event:l,payload:c})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodeUserBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(e.slice(c,c+s));c=c+s;const d=r.decode(e.slice(c,c+i));c=c+i;const h=r.decode(e.slice(c,c+o));c=c+o;const m=e.slice(c,e.byteLength),p=l===this.JSON_ENCODING?JSON.parse(r.decode(m)):m,y={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(y.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}let uX=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Gr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Gr||(Gr={}));const $z=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=aOe(o,t,e,s),i),{}):{}},aOe=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?dX(i,o):BD(o)},dX=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return uOe(e,n)}switch(t){case Gr.bool:return oOe(e);case Gr.float4:case Gr.float8:case Gr.int2:case Gr.int4:case Gr.int8:case Gr.numeric:case Gr.oid:return lOe(e);case Gr.json:case Gr.jsonb:return cOe(e);case Gr.timestamp:return dOe(e);case Gr.abstime:case Gr.date:case Gr.daterange:case Gr.int4range:case Gr.int8range:case Gr.money:case Gr.reltime:case Gr.text:case Gr.time:case Gr.timestamptz:case Gr.timetz:case Gr.tsrange:case Gr.tstzrange:return BD(e);default:return BD(e)}},BD=t=>t,oOe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},lOe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},cOe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},uOe=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>dX(e,l))}return t},dOe=t=>typeof t=="string"?t.replace(" ","T"):t,hX=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class $O{constructor(e,n,r={},s=VD){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var zD;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(zD||(zD={}));let fX=class Wj{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wj.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Wj.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Wj.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const m=d.map(v=>v.presence_ref),p=h.map(v=>v.presence_ref),y=d.filter(v=>p.indexOf(v.presence_ref)<0),w=h.filter(v=>m.indexOf(v.presence_ref)<0);y.length>0&&(l[u]=y),w.length>0&&(c[u]=w)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(p=>p.presence_ref),m=d.filter(p=>h.indexOf(p.presence_ref)<0);e[l].unshift(...m)}r(l,d,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var WD;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(WD||(WD={}));var lv;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(lv||(lv={}));var Iu;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Iu||(Iu={}));const hOe=di;let mX=class Q_{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=di.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new $O(this,Wc.join,this.params,this.timeout),this.rejoinTimer=new uX(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=di.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=di.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=di.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=di.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=di.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wc.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new fX(this),this.broadcastEndpointURL=hX(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==di.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[lv.PRESENCE]&&this.bindings[lv.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(Iu.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(Iu.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){e==null||e(Iu.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,v=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,x=[];for(let _=0;_<v;_++){const E=w[_],{filter:{event:T,schema:N,table:D,filter:O}}=E,F=p&&p[_];if(F&&F.event===T&&Q_.isFilterValueEqual(F.schema,N)&&Q_.isFilterValueEqual(F.table,D)&&Q_.isFilterValueEqual(F.filter,O))x.push(Object.assign(Object.assign({},E),{id:F.id}));else{this.unsubscribe(),this.state=di.errored,e==null||e(Iu.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Iu.SUBSCRIBED);return}}).receive("error",p=>{this.state=di.errored,e==null||e(Iu.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Iu.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===di.joined&&e===lv.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=di.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wc.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new $O(this,Wc.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=di.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new $O(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>sOe){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Wc;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var y,w,v;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(w=p.filter)===null||w===void 0?void 0:w.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(m,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var y,w,v,x,_,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const T=p.id,N=(y=p.filter)===null||y===void 0?void 0:y.event;return T&&((w=n.ids)===null||w===void 0?void 0:w.includes(T))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const T=(_=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return T==="*"||T===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof m=="object"&&"ids"in m){const y=m.data,{schema:w,table:v,commit_timestamp:x,type:_,errors:E}=y;m=Object.assign(Object.assign({},{schema:w,table:v,commit_timestamp:x,eventType:_,new:{},old:{},errors:E}),this._getPayloadRecords(y))}p.callback(m,r)})}_isClosed(){return this.state===di.closed}_isJoined(){return this.state===di.joined}_isJoining(){return this.state===di.joining}_isLeaving(){return this.state===di.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Q_.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Wc.close,{},e)}_onError(e){this._on(Wc.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=di.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=$z(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=$z(e.columns,e.old_record)),n}};const FO=()=>{},MS={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},fOe=[1e3,2e3,5e3,1e4],mOe=1e4,pOe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let gOe=class{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=VD,this.transport=null,this.heartbeatIntervalMs=MS.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=FO,this.ref=0,this.reconnectTimer=null,this.vsn=Mz,this.logger=FO,this.conn=null,this.sendBuffer=[],this.serializer=new iOe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${UD.websocket}`,this.httpEndpoint=hX(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=lX.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Xm.connecting:return ep.Connecting;case Xm.open:return ep.Open;case Xm.closing:return ep.Closing;default:return ep.Closed}}isConnected(){return this.connectionState()===ep.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new mX(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(rOe,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},MS.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Xm.open||this.conn.readyState===Xm.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Wc.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([pOe],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:tOe};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Wc.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new uX(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},MS.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,l,c,u,d,h,m,p;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:VD,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:MS.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:FO,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:Mz,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:y=>fOe[y-1]||mOe,this.vsn){case cX:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(y,w)=>w(JSON.stringify(y)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(y,w)=>w(JSON.parse(y));break;case nOe:this.encode=(m=e==null?void 0:e.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const yOe=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:hOe,get REALTIME_LISTEN_TYPES(){return lv},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return WD},get REALTIME_PRESENCE_LISTEN_EVENTS(){return zD},get REALTIME_SUBSCRIBE_STATES(){return Iu},RealtimeChannel:mX,RealtimeClient:gOe,RealtimePresence:fX,WebSocketFactory:lX},Symbol.toStringTag,{value:"Module"})),pX=ng(yOe);function Mt(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})}class T0 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function hs(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class gX extends T0{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _T extends T0{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const bF=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),vOe=()=>Response,GD=t=>{if(Array.isArray(t))return t.map(n=>GD(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=GD(r)}),e},bOe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},_Oe=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),VO=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},wOe=(t,e,n)=>Mt(void 0,void 0,void 0,function*(){const r=yield vOe();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new gX(VO(s),i,o))}).catch(s=>{e(new _T(VO(s),s))}):e(new _T(VO(t),t))}),xOe=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(bOe(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function C0(t,e,n,r,s,i){return Mt(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,xOe(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>wOe(c,l,r))})})}function xx(t,e,n,r){return Mt(this,void 0,void 0,function*(){return C0(t,"GET",e,n,r)})}function Bc(t,e,n,r,s){return Mt(this,void 0,void 0,function*(){return C0(t,"POST",e,r,s,n)})}function HD(t,e,n,r,s){return Mt(this,void 0,void 0,function*(){return C0(t,"PUT",e,r,s,n)})}function EOe(t,e,n,r){return Mt(this,void 0,void 0,function*(){return C0(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function _F(t,e,n,r,s){return Mt(this,void 0,void 0,function*(){return C0(t,"DELETE",e,r,s,n)})}class SOe{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Mt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(hs(e))return{data:null,error:e};throw e}})}}var yX;class jOe{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[yX]="BlobDownloadBuilder",this.promise=null}asStream(){return new SOe(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Mt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(hs(e))return{data:null,error:e};throw e}})}}yX=Symbol.toStringTag;const TOe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fz={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class COe{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=bF(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return Mt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Fz),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield(e=="PUT"?HD:Bc)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(hs(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Mt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Fz.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield HD(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(hs(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return Mt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Bc(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new T0("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hs(r))return{data:null,error:r};throw r}})}update(e,n,r){return Mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Mt(this,void 0,void 0,function*(){try{return{data:yield Bc(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(hs(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Mt(this,void 0,void 0,function*(){try{return{data:{path:(yield Bc(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(hs(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Mt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Bc(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(hs(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Mt(this,void 0,void 0,function*(){try{const s=yield Bc(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(hs(s))return{data:null,error:s};throw s}})}download(e,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(e),c=()=>xx(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new jOe(c,this.shouldThrowOnError)}info(e){return Mt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield xx(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:GD(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hs(r))return{data:null,error:r};throw r}})}exists(e){return Mt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield EOe(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hs(r)&&r instanceof _T){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield _F(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hs(n))return{data:null,error:n};throw n}})}list(e,n,r){return Mt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},TOe),n),{prefix:e||""});return{data:yield Bc(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(hs(s))return{data:null,error:s};throw s}})}listV2(e,n){return Mt(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Bc(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hs(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const vX="2.87.1",bX={"X-Client-Info":`storage-js/${vX}`};class AOe{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bX),n),this.fetch=bF(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Mt(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield xx(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hs(n))return{data:null,error:n};throw n}})}getBucket(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield xx(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hs(n))return{data:null,error:n};throw n}})}createBucket(e){return Mt(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Bc(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(hs(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return Mt(this,void 0,void 0,function*(){try{return{data:yield HD(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hs(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield Bc(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hs(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield _F(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hs(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Ex=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function NOe(t,e,n){const r=new URL(e,t);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function IOe(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function kOe(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:o}){const l=NOe(t.baseUrl,r,s),c=await IOe(t.auth),u=await e(l,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),m=h&&d?JSON.parse(d):d;if(!u.ok){const p=h?m:void 0,y=p==null?void 0:p.error;throw new Ex((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:p})}return{status:u.status,headers:u.headers,data:m}}}}function $S(t){return t.join("")}var OOe=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:$S(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$S(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$S(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$S(t.namespace)}`}),!0}catch(e){if(e instanceof Ex&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Ex&&n.status===409)return;throw n}}};function iy(t){return t.join("")}var ROe=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${iy(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${iy(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${iy(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${iy(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${iy(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${iy(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Ex&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Ex&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},POe=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=kOe({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new OOe(this.client,e),this.tableOps=new ROe(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class _X{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bX),n),this.fetch=bF(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield Bc(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hs(n))return{data:null,error:n};throw n}})}listBuckets(e){return Mt(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield xx(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hs(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield _F(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hs(n))return{data:null,error:n};throw n}})}from(e){if(!_Oe(e))throw new T0("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new POe({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>Mt(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const l=i[o];return typeof l!="function"?l:(...c)=>Mt(this,void 0,void 0,function*(){try{return{data:yield l.apply(i,c),error:null}}catch(u){if(r)throw u;return{data:null,error:u}}})}})}}const wF={"X-Client-Info":`storage-js/${vX}`,"Content-Type":"application/json"};class xF extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Po(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Gj extends xF{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class wX extends xF{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var qD;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(qD||(qD={}));const mA=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),DOe=()=>Response,xX=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},LOe=t=>Array.from(new Float32Array(t)),MOe=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},Vz=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$Oe=(t,e,n)=>Mt(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new Gj(Vz(o),s,l))}).catch(()=>{const o=s+"",l=i.statusText||`HTTP ${s} error`;e(new Gj(l,s,o))});else{const o=s+"",l=i.statusText||`HTTP ${s} error`;e(new Gj(l,s,o))}}else e(new wX(Vz(t),t))}),FOe=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(xX(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n)):s};function VOe(t,e,n,r,s,i){return Mt(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,FOe(e,r,s,i)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>$Oe(c,l,r))})})}function _l(t,e,n,r,s){return Mt(this,void 0,void 0,function*(){return VOe(t,"POST",e,r,s,n)})}class EX{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wF),n),this.fetch=mA(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Mt(this,void 0,void 0,function*(){try{return{data:(yield _l(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Po(n))return{data:null,error:n};throw n}})}getIndex(e,n){return Mt(this,void 0,void 0,function*(){try{return{data:yield _l(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Po(r))return{data:null,error:r};throw r}})}listIndexes(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield _l(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Po(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return Mt(this,void 0,void 0,function*(){try{return{data:(yield _l(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Po(r))return{data:null,error:r};throw r}})}}class SX{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wF),n),this.fetch=mA(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Mt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield _l(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Po(n))return{data:null,error:n};throw n}})}getVectors(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield _l(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Po(n))return{data:null,error:n};throw n}})}listVectors(e){return Mt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield _l(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Po(n))return{data:null,error:n};throw n}})}queryVectors(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield _l(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Po(n))return{data:null,error:n};throw n}})}deleteVectors(e){return Mt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield _l(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Po(n))return{data:null,error:n};throw n}})}}class jX{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wF),n),this.fetch=mA(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Mt(this,void 0,void 0,function*(){try{return{data:(yield _l(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Po(n))return{data:null,error:n};throw n}})}getBucket(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield _l(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Po(n))return{data:null,error:n};throw n}})}listBuckets(){return Mt(this,arguments,void 0,function*(e={}){try{return{data:yield _l(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Po(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Mt(this,void 0,void 0,function*(){try{return{data:(yield _l(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Po(n))return{data:null,error:n};throw n}})}}class TX extends jX{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new CX(this.url,this.headers,e,this.fetch)}createBucket(e){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Mt(this,void 0,void 0,function*(){return n.createBucket.call(this,e)})}getBucket(e){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Mt(this,void 0,void 0,function*(){return n.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Mt(this,arguments,void 0,function*(n={}){return e.listBuckets.call(this,n)})}deleteBucket(e){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Mt(this,void 0,void 0,function*(){return n.deleteBucket.call(this,e)})}}class CX extends EX{constructor(e,n,r,s){super(e,n,s),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Mt(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Mt(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Mt(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Mt(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new AX(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class AX extends SX{constructor(e,n,r,s,i){super(e,n,i),this.vectorBucketName=r,this.indexName=s}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Mt(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Mt(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Mt(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Mt(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Mt(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class UOe extends AOe{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new COe(this.url,this.headers,e,this.fetch)}get vectors(){return new TX(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new _X(this.url+"/iceberg",this.headers,this.fetch)}}const BOe=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:_X,StorageApiError:gX,StorageClient:UOe,StorageError:T0,StorageUnknownError:_T,StorageVectorsApiError:Gj,StorageVectorsClient:TX,StorageVectorsError:xF,get StorageVectorsErrorCode(){return qD},StorageVectorsUnknownError:wX,VectorBucketApi:jX,VectorBucketScope:CX,VectorDataApi:SX,VectorIndexApi:EX,VectorIndexScope:AX,isPlainObject:xX,isStorageError:hs,isStorageVectorsError:Po,normalizeToFloat32:LOe,resolveFetch:mA,resolveResponse:DOe,validateVectorDimension:MOe},Symbol.toStringTag,{value:"Module"})),zOe=ng(BOe);var NX={},pA={};Object.defineProperty(pA,"__esModule",{value:!0});pA.version=void 0;pA.version="2.87.1";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=pA;let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(NX);var IX={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=s=>s?(...i)=>s(...i):(...i)=>fetch(...i);t.resolveFetch=e;const n=()=>Headers;t.resolveHeadersConstructor=n;const r=(s,i,o)=>{const l=(0,t.resolveFetch)(o),c=(0,t.resolveHeadersConstructor)();return async(u,d)=>{var h;const m=(h=await i())!==null&&h!==void 0?h:s;let p=new c(d==null?void 0:d.headers);return p.has("apikey")||p.set("apikey",s),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),l(u,Object.assign(Object.assign({},d),{headers:p}))}};t.fetchWithAuth=r})(IX);var Xf={};Object.defineProperty(Xf,"__esModule",{value:!0});Xf.isBrowser=void 0;Xf.uuid=WOe;Xf.ensureTrailingSlash=kX;Xf.applySettingDefaults=HOe;Xf.validateSupabaseUrl=qOe;function WOe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t=="x"?e:e&3|8;return n.toString(16)})}function kX(t){return t.endsWith("/")?t:t+"/"}const GOe=()=>typeof window<"u";Xf.isBrowser=GOe;function HOe(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:c,auth:u,realtime:d,global:h}=e,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function qOe(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(kX(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var gA={};function yA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}const OX="2.87.1",Ty=30*1e3,YD=3,UO=YD*Ty,YOe="http://localhost:9999",KOe="supabase.auth.token",JOe={"X-Client-Info":`gotrue-js/${OX}`},KD="X-Supabase-Api-Version",RX={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},QOe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ZOe=10*60*1e3;let zv=class extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function Ft(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let PX=class extends zv{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function DX(t){return Ft(t)&&t.name==="AuthApiError"}let Qh=class extends zv{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}},uh=class extends zv{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}},Co=class extends uh{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function LX(t){return Ft(t)&&t.name==="AuthSessionMissingError"}let Bm=class extends uh{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Z_=class extends uh{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},X_=class extends uh{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function MX(t){return Ft(t)&&t.name==="AuthImplicitGrantRedirectError"}let JD=class extends uh{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},wT=class extends uh{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}};function Hj(t){return Ft(t)&&t.name==="AuthRetryableFetchError"}let QD=class extends uh{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function XOe(t){return Ft(t)&&t.name==="AuthWeakPasswordError"}let xT=class extends uh{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const ET="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Uz=` 	
\r=`.split(""),eRe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Uz.length;e+=1)t[Uz[e].charCodeAt(0)]=-2;for(let e=0;e<ET.length;e+=1)t[ET[e].charCodeAt(0)]=e;return t})();function Bz(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ET[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ET[r]),e.queuedBits-=6}}function $X(t,e,n){const r=eRe[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function zz(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{rRe(o,r,n)};for(let o=0;o<t.length;o+=1)$X(t.charCodeAt(o),s,i);return e.join("")}function tRe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function nRe(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}tRe(r,e)}}function rRe(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function cv(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)$X(t.charCodeAt(s),n,r);return new Uint8Array(e)}function sRe(t){const e=[];return nRe(t,n=>e.push(n)),new Uint8Array(e)}function hp(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Bz(s,n,r)),Bz(null,n,r),e.join("")}function iRe(t){return Math.round(Date.now()/1e3)+t}function aRe(){return Symbol("auth-callback")}const oa=()=>typeof window<"u"&&typeof document<"u",Im={tested:!1,writable:!1},FX=()=>{if(!oa())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Im.tested)return Im.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Im.tested=!0,Im.writable=!0}catch{Im.tested=!0,Im.writable=!1}return Im.writable};function oRe(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const VX=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),lRe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Cy=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},km=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},na=async(t,e)=>{await t.removeItem(e)};let UX=class BX{constructor(){this.promise=new BX.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};UX.promiseConstructor=Promise;function BO(t){const e=t.split(".");if(e.length!==3)throw new xT("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!QOe.test(e[r]))throw new xT("JWT not in base64url format");return{header:JSON.parse(zz(e[0])),payload:JSON.parse(zz(e[1])),signature:cv(e[2]),raw:{header:e[0],payload:e[1]}}}async function cRe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function uRe(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function dRe(t){return("0"+t.toString(16)).substr(-2)}function hRe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,dRe).join("")}async function fRe(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function mRe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await fRe(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ay(t,e,n=!1){const r=hRe();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Cy(t,`${e}-code-verifier`,s);const i=await mRe(r);return[i,r===i?"plain":"s256"]}const pRe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gRe(t){const e=t.headers.get(KD);if(!e||!e.match(pRe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function yRe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function vRe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const bRe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function oy(t){if(!bRe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zO(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function _Re(t,e){return new Proxy(t,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,s)}})}function Wz(t){return JSON.parse(JSON.stringify(t))}const zm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),wRe=[502,503,504];async function Gz(t){var e;if(!lRe(t))throw new wT(zm(t),0);if(wRe.includes(t.status))throw new wT(zm(t),t.status);let n;try{n=await t.json()}catch(i){throw new Qh(zm(i),i)}let r;const s=gRe(t);if(s&&s.getTime()>=RX["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new QD(zm(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Co}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new QD(zm(n),t.status,n.weak_password.reasons);throw new PX(zm(n),t.status||500,r)}const xRe=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function fn(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[KD]||(i[KD]=RX["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await ERe(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function ERe(t,e,n,r,s,i){const o=xRe(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new wT(zm(c),0)}if(l.ok||await Gz(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Gz(c)}}function Mc(t){var e;let n=null;TRe(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=iRe(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Hz(t){const e=Mc(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Zh(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function SRe(t){return{data:t,error:null}}function jRe(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=yA(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function qz(t){return t}function TRe(t){return t.access_token&&t.refresh_token&&t.expires_in}const qj=["global","local","others"];let EF=class{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=VX(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=qj[0]){if(qj.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qj.join(", ")}`);try{return await fn(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await fn(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Zh})}catch(r){if(Ft(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=yA(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await fn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:jRe,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ft(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await fn(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Zh})}catch(n){if(Ft(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await fn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:qz});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=w}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Ft(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){oy(e);try{return await fn(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Zh})}catch(n){if(Ft(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){oy(e);try{return await fn(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Zh})}catch(r){if(Ft(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){oy(e);try{return await fn(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Zh})}catch(r){if(Ft(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){oy(e.userId);try{const{data:n,error:r}=await fn(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Ft(n))return{data:null,error:n};throw n}}async _deleteFactor(e){oy(e.userId),oy(e.id);try{return{data:await fn(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await fn(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:qz});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=w}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Ft(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await fn(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ft(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await fn(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ft(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await fn(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ft(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await fn(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await fn(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ft(n))return{data:null,error:n};throw n}}};function Yz(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Wm={debug:!!(globalThis&&FX()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class SF extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let zX=class extends SF{};class CRe extends SF{}async function WX(t,e,n){Wm.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Wm.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Wm.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Wm.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Wm.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new zX(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Wm.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const Kz={};async function ARe(t,e,n){var r;const s=(r=Kz[t])!==null&&r!==void 0?r:Promise.resolve(),i=Promise.race([s.catch(()=>null),e>=0?new Promise((o,l)=>{setTimeout(()=>{l(new CRe(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await n());return Kz[t]=i.catch(async o=>{if(o&&o.isAcquireTimeout)return await s,null;throw o}),await i}function NRe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function GX(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function IRe(t){return parseInt(t,16)}function kRe(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function ORe(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:m}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=GX(t.address),y=d?`${d}://${r}`:r,w=t.statement?`${t.statement}
`:"",v=`${y} wants you to sign in with your Ethereum account:
${p}

${w}`;let x=`URI: ${h}
Version: ${m}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(x+=`
Expiration Time: ${s.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),c&&(x+=`
Request ID: ${c}`),u){let _=`
Resources:`;for(const E of u){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);_+=`
- ${E}`}x+=_}return`${v}
${x}`}class fi extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class ST extends fi{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function RRe({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fi({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new fi({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new fi({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new fi({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new fi({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new fi({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new fi({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new fi({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(HX(o)){if(i.rp.id!==o)return new fi({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fi({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new fi({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new fi({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new fi({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function PRe({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fi({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new fi({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(HX(r)){if(n.rpId!==r)return new fi({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fi({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new fi({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new fi({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class DRe{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const LRe=new DRe;function MRe(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=yA(t,["challenge","user","excludeCredentials"]),i=cv(e).buffer,o=Object.assign(Object.assign({},n),{id:cv(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:cv(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function $Re(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=yA(t,["challenge","allowCredentials"]),s=cv(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:cv(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function FRe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:hp(new Uint8Array(t.response.attestationObject)),clientDataJSON:hp(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function VRe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:hp(new Uint8Array(s.authenticatorData)),clientDataJSON:hp(new Uint8Array(s.clientDataJSON)),signature:hp(new Uint8Array(s.signature)),userHandle:s.userHandle?hp(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function HX(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Jz(){var t,e;return!!(oa()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function URe(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ST("Browser returned unexpected credential type",e)}:{data:null,error:new ST("Empty credential response",e)}}catch(e){return{data:null,error:RRe({error:e,options:t})}}}async function BRe(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ST("Browser returned unexpected credential type",e)}:{data:null,error:new ST("Empty credential response",e)}}catch(e){return{data:null,error:PRe({error:e,options:t})}}}const zRe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},WRe={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function jT(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(e(o)){const l=r[i];e(l)?r[i]=jT(l,o):r[i]=jT(o)}else r[i]=o}return r}function GRe(t,e){return jT(zRe,t,e||{})}function HRe(t,e){return jT(WRe,t,e||{})}class qRe{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:l};const c=s??LRe.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=GRe(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await URe({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=HRe(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await BRe(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return Ft(o)?{data:null,error:o}:{data:null,error:new Qh("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new zv("rpId is required for WebAuthn authentication")};try{if(!Jz())return{data:null,error:new Qh("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(o){return Ft(o)?{data:null,error:o}:{data:null,error:new Qh("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new zv("rpId is required for WebAuthn registration")};try{if(!Jz())return{data:null,error:new Qh("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Ft(o)?{data:null,error:o}:{data:null,error:new Qh("Unexpected error in register",o)}}}}NRe();const YRe={url:YOe,storageKey:KOe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:JOe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Qz(t,e,n){return await n()}const ly={};let jF=class ZD{get jwks(){var e,n;return(n=(e=ly[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ly[this.storageKey]=Object.assign(Object.assign({},ly[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ly[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ly[this.storageKey]=Object.assign(Object.assign({},ly[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},YRe),e);if(this.storageKey=i.storageKey,this.instanceID=(n=ZD.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ZD.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&oa()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new EF({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=VX(i.fetch),this.lock=i.lock||Qz,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&oa()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=WX:this.lock=Qz,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new qRe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:FX()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yz(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Yz(this.memoryStorage)),oa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${OX}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(oa()&&(n=oRe(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),oa()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),MX(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ft(n)?this._returnResult({error:n}):this._returnResult({error:new Qh("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await fn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Mc}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Ft(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:m}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await ay(this.storage,this.storageKey)),i=await fn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:y},xform:Mc})}else if("phone"in e){const{phone:d,password:h,options:m}=e;i=await fn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Mc})}else throw new Z_("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await na(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await na(this.storage,`${this.storageKey}-code-verifier`),Ft(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await fn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Hz})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await fn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Hz})}else throw new Z_("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new Bm;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Ft(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,o,l,c,u,d,h,m;let p,y;if("message"in e)p=e.message,y=e.signature;else{const{chain:w,wallet:v,statement:x,options:_}=e;let E;if(oa())if(typeof v=="object")E=v;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")E=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=v}const T=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href),N=await E.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=GX(N[0]);let O=(r=_==null?void 0:_.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!O){const V=await E.request({method:"eth_chainId"});O=IRe(V)}const F={domain:T.host,address:D,statement:x,uri:T.href,version:"1",chainId:O,nonce:(s=_==null?void 0:_.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=_==null?void 0:_.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=_==null?void 0:_.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=_==null?void 0:_.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=_==null?void 0:_.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=_==null?void 0:_.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=ORe(F),y=await E.request({method:"personal_sign",params:[kRe(p),D]})}try{const{data:w,error:v}=await fn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Mc});if(v)throw v;if(!w||!w.session||!w.user){const x=new Bm;return this._returnResult({data:{user:null,session:null},error:x})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:v})}catch(w){if(Ft(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var n,r,s,i,o,l,c,u,d,h,m,p;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:v,wallet:x,statement:_,options:E}=e;let T;if(oa())if(typeof x=="object")T=x;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))T=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=x}const N=new URL((n=E==null?void 0:E.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const D=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),_?{statement:_}:null));let O;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")O=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)O=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)y=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),w=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${N.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(r=E==null?void 0:E.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=E==null?void 0:E.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((o=E==null?void 0:E.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((l=E==null?void 0:E.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((c=E==null?void 0:E.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((u=E==null?void 0:E.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((h=(d=E==null?void 0:E.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...E.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const D=await T.signMessage(new TextEncoder().encode(y),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=D}}try{const{data:v,error:x}=await fn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:hp(w)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Mc});if(x)throw x;if(!v||!v.session||!v.user){const _=new Bm;return this._returnResult({data:{user:null,session:null},error:_})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:x})}catch(v){if(Ft(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(e){const n=await km(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await fn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Mc});if(await na(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Bm;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await na(this.storage,`${this.storageKey}-code-verifier`),Ft(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await fn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Mc}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Bm;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(Ft(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ay(this.storage,this.storageKey));const{error:h}=await fn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await fn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Z_("You must provide either an email or phone number.")}catch(l){if(await na(this.storage,`${this.storageKey}-code-verifier`),Ft(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await fn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Mc});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Ft(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,r,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await ay(this.storage,this.storageKey));const u=await fn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:SRe});return!((i=u.data)===null||i===void 0)&&i.url&&oa()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await na(this.storage,`${this.storageKey}-code-verifier`),Ft(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Co;const{error:s}=await fn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(Ft(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await fn(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await fn(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Z_("You must provide either an email or phone number and a type")}catch(n){if(Ft(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await km(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<UO:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await km(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=zO()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=_Re(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await fn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Zh}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Co}:await fn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Zh})})}catch(n){if(Ft(n))return LX(n)&&(await this._removeSession(),await na(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Co;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await ay(this.storage,this.storageKey));const{data:u,error:d}=await fn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Zh});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await na(this.storage,`${this.storageKey}-code-verifier`),Ft(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Co;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=BO(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(Ft(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Co;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ft(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!oa())throw new X_("No browser detected.");if(e.error||e.error_description||e.error_code)throw new X_(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new JD("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new X_("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new JD("No code detected.");const{data:_,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!o||!u)throw new X_("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;c&&(m=parseInt(c));const p=m-d;p*1e3<=Ty&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const y=m-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,m,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,m,d);const{data:w,error:v}=await this._getUser(i);if(v)throw v;const x={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:e.type},error:null})}catch(r){if(Ft(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await km(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(DX(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await na(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=aRe(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await ay(this.storage,this.storageKey,!0));try{return await fn(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await na(this.storage,`${this.storageKey}-code-verifier`),Ft(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Ft(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:m}=i;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await fn(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return oa()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Ft(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=e,h=await fn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Mc}),{data:m,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new Bm}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:p}))}catch(s){if(await na(this.storage,`${this.storageKey}-code-verifier`),Ft(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await fn(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ft(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await uRe(async s=>(s>0&&await cRe(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await fn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Mc})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Hj(i)&&Date.now()+o-r<Ty})}catch(r){if(this._debug(n,"error",r),Ft(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),oa()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await km(this.storage,this.storageKey);if(s&&this.userStorage){let o=await km(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Cy(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:zO()}else if(s&&!s.user&&!s.user){const o=await km(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await na(this.storage,this.storageKey+"-user"),await Cy(this.storage,this.storageKey,s)):s.user=zO()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<UO;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${UO}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Hj(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Co;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new UX;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Co;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Ft(i)){const o={data:null,error:i};return Hj(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await na(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Cy(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Wz(s);await Cy(this.storage,this.storageKey,i)}else{const s=Wz(n);await Cy(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await na(this.storage,this.storageKey),await na(this.storage,this.storageKey+"-code-verifier"),await na(this.storage,this.storageKey+"-user"),this.userStorage&&await na(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&oa()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ty);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Ty);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ty}ms, refresh threshold is ${YD} ticks`),s<=YD&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof SF)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!oa()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await ay(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await fn(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ft(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await fn(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(Ft(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?FRe(e.webauthn.credential_response):VRe(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await fn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(n){if(Ft(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await fn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:MRe(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:$Re(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ft(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=BO(r.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await fn(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Co})})}catch(n){if(Ft(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Co});const o=await fn(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&oa()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ft(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Co});const o=await fn(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&oa()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ft(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await fn(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Co})})}catch(e){if(Ft(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await fn(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Co})})}catch(n){if(Ft(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+ZOe>s)return r;const{data:i,error:o}=await fn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:y}=await this.getSession();if(y||!p.session)return this._returnResult({data:null,error:y});r=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=BO(r);n!=null&&n.allowExpired||yRe(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const d=vRe(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,sRe(`${l}.${c}`)))throw new xT("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(Ft(r))return this._returnResult({data:null,error:r});throw r}}};jF.nextInstanceID={};const KRe=EF,JRe=jF,QRe=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:KRe,AuthApiError:PX,AuthClient:JRe,AuthError:zv,AuthImplicitGrantRedirectError:X_,AuthInvalidCredentialsError:Z_,AuthInvalidJwtError:xT,AuthInvalidTokenResponseError:Bm,AuthPKCEGrantCodeExchangeError:JD,AuthRetryableFetchError:wT,AuthSessionMissingError:Co,AuthUnknownError:Qh,AuthWeakPasswordError:QD,CustomAuthError:uh,GoTrueAdminApi:EF,GoTrueClient:jF,NavigatorLockAcquireTimeoutError:zX,SIGN_OUT_SCOPES:qj,isAuthApiError:DX,isAuthError:Ft,isAuthImplicitGrantRedirectError:MX,isAuthRetryableFetchError:Hj,isAuthSessionMissingError:LX,isAuthWeakPasswordError:XOe,lockInternals:Wm,navigatorLock:WX,processLock:ARe},Symbol.toStringTag,{value:"Module"})),qX=ng(QRe);Object.defineProperty(gA,"__esModule",{value:!0});gA.SupabaseAuthClient=void 0;const ZRe=qX;class XRe extends ZRe.AuthClient{constructor(e){super(e)}}gA.SupabaseAuthClient=XRe;Object.defineProperty(gT,"__esModule",{value:!0});const ePe=EZ,tPe=Oa,nPe=pX,rPe=zOe,FS=NX,sPe=IX,Zz=Xf,iPe=gA;let aPe=class{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const l=(0,Zz.validateSupabaseUrl)(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:FS.DEFAULT_DB_OPTIONS,realtime:FS.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},FS.DEFAULT_AUTH_OPTIONS),{storageKey:c}),global:FS.DEFAULT_GLOBAL_OPTIONS},d=(0,Zz.applySettingDefaults)(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=(0,sPe.fetchWithAuth)(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new tPe.PostgrestClient(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new rPe.StorageClient(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new ePe.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u,throwOnError:d},h,m){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new iPe.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),h),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:c,debug:u,throwOnError:d,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new nPe.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};gT.default=aPe;(function(t){var e=vl&&vl.__createBinding||(Object.create?function(d,h,m,p){p===void 0&&(p=m);var y=Object.getOwnPropertyDescriptor(h,m);(!y||("get"in y?!h.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return h[m]}}),Object.defineProperty(d,p,y)}:function(d,h,m,p){p===void 0&&(p=m),d[p]=h[m]}),n=vl&&vl.__exportStar||function(d,h){for(var m in d)m!=="default"&&!Object.prototype.hasOwnProperty.call(h,m)&&e(h,d,m)},r=vl&&vl.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const s=r(gT);n(qX,t);var i=Oa;Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return i.PostgrestError}});var o=EZ;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),n(pX,t);var l=gT;Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return r(l).default}});const c=(d,h,m)=>new s.default(d,h,m);t.createClient=c;function u(){if(typeof window<"u"||typeof process>"u")return!1;const d=process.version;if(d==null)return!1;const h=d.match(/^v(\d+)\./);return h?parseInt(h[1],10)<=18:!1}u()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(gF);const YX=Qo(gF),oPe=WH({__proto__:null,default:YX},[gF]),{PostgrestError:twt,FunctionsHttpError:nwt,FunctionsFetchError:rwt,FunctionsRelayError:swt,FunctionsError:iwt,FunctionRegion:awt,SupabaseClient:owt,createClient:lPe,GoTrueAdminApi:lwt,GoTrueClient:cwt,AuthAdminApi:uwt,AuthClient:dwt,navigatorLock:hwt,NavigatorLockAcquireTimeoutError:fwt,lockInternals:mwt,processLock:pwt,SIGN_OUT_SCOPES:gwt,AuthError:ywt,AuthApiError:vwt,AuthUnknownError:bwt,CustomAuthError:_wt,AuthSessionMissingError:wwt,AuthInvalidTokenResponseError:xwt,AuthInvalidCredentialsError:Ewt,AuthImplicitGrantRedirectError:Swt,AuthPKCEGrantCodeExchangeError:jwt,AuthRetryableFetchError:Twt,AuthWeakPasswordError:Cwt,AuthInvalidJwtError:Awt,isAuthError:Nwt,isAuthApiError:Iwt,isAuthSessionMissingError:kwt,isAuthImplicitGrantRedirectError:Owt,isAuthRetryableFetchError:Rwt,isAuthWeakPasswordError:Pwt,RealtimePresence:Dwt,RealtimeChannel:Lwt,RealtimeClient:Mwt,REALTIME_LISTEN_TYPES:$wt,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:Fwt,REALTIME_PRESENCE_LISTEN_EVENTS:Vwt,REALTIME_SUBSCRIBE_STATES:Uwt,REALTIME_CHANNEL_STATES:Bwt}=YX||oPe,cPe="https://hcvdgqkhrjkdilqeovkp.supabase.co",uPe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhjdmRncWtocmprZGlscWVvdmtwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxNzkzMDEsImV4cCI6MjA4MDc1NTMwMX0.e5Oeq-1rAgGqIUWp032mESHUADlOk4gtpBmR3-x0Wk4",fe=lPe(cPe,uPe),Ci=t=>{if(!t)return"-";try{return new Date(t).toLocaleDateString("fa-IR",{year:"numeric",month:"2-digit",day:"2-digit"})}catch{return"-"}},Bn=t=>!t&&t!==0?"0":Number(t).toLocaleString(),dPe=()=>{const[t,e]=C.useState(!0),[n,r]=C.useState({activeRentals:0,totalInventory:0,balance:0,lastTransactions:[]}),[s,i]=C.useState([]);C.useEffect(()=>{o()},[]);const o=async()=>{e(!0);try{const{data:l,error:c}=await fe.from("warehouse_rentals").select("*").eq("status","active"),{data:u,error:d}=await fe.from("financial_entries").select("bed, bes, created_at, description").order("created_at",{ascending:!1});let h=0,m=0;u&&u.forEach(y=>{h+=Number(y.bed||0),m+=Number(y.bes||0)});const p=m-h;r({activeRentals:(l==null?void 0:l.length)||0,totalInventory:0,balance:p,lastTransactions:(u==null?void 0:u.slice(0,5))||[]}),i(l||[])}catch(l){console.error("Error fetching dashboard data:",l)}finally{e(!1)}};return t?a.jsx("div",{className:"text-center p-5",children:a.jsx(pn,{color:"primary"})}):a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsx("h4",{className:"fw-bold font-size-18 mb-4",children:"  "}),a.jsxs(ge,{children:[a.jsx($,{md:4,children:a.jsx(dt,{className:"mini-stats-wid",children:a.jsx(ht,{children:a.jsxs("div",{className:"d-flex",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("p",{className:"text-muted fw-medium",children:" "}),a.jsxs("h4",{className:"mb-0",children:[n.activeRentals," "]})]}),a.jsx("div",{className:"flex-shrink-0 align-self-center",children:a.jsx("div",{className:"avatar-sm rounded-circle bg-primary mini-stat-icon",children:a.jsx("span",{className:"avatar-title rounded-circle bg-primary",children:a.jsx("i",{className:"bx bx-building-house font-size-24"})})})})]})})})}),a.jsx($,{md:4,children:a.jsx(dt,{className:"mini-stats-wid",children:a.jsx(ht,{children:a.jsxs("div",{className:"d-flex",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("p",{className:"text-muted fw-medium",children:" "}),a.jsxs("h4",{className:`mb-0 ${n.balance<0?"text-danger":"text-success"}`,dir:"ltr",children:[Bn(Math.abs(n.balance))," ",n.balance<0?"":""]})]}),a.jsx("div",{className:"flex-shrink-0 align-self-center",children:a.jsx("div",{className:`avatar-sm rounded-circle ${n.balance<0?"bg-danger":"bg-success"} mini-stat-icon`,children:a.jsx("span",{className:`avatar-title rounded-circle ${n.balance<0?"bg-danger":"bg-success"}`,children:a.jsx("i",{className:"bx bx-wallet font-size-24"})})})})]})})})}),a.jsx($,{md:4,children:a.jsx(dt,{className:"mini-stats-wid",children:a.jsx(ht,{children:a.jsxs("div",{className:"d-flex",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("p",{className:"text-muted fw-medium",children:" "}),a.jsx("h4",{className:"mb-0",children:"  "})]}),a.jsx("div",{className:"flex-shrink-0 align-self-center",children:a.jsx("div",{className:"avatar-sm rounded-circle bg-warning mini-stat-icon",children:a.jsx("span",{className:"avatar-title rounded-circle bg-warning",children:a.jsx("i",{className:"bx bx-bell font-size-24"})})})})]})})})})]}),a.jsxs(ge,{children:[a.jsx($,{lg:6,children:a.jsx(dt,{children:a.jsxs(ht,{children:[a.jsx(Ra,{className:"mb-4 h5",children:"  "}),a.jsx("div",{className:"table-responsive",children:a.jsxs(Mn,{className:"table-nowrap align-middle mb-0",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:" ()"}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:s.length>0?s.map((l,c)=>a.jsxs("tr",{children:[a.jsx("td",{children:l.location_name}),a.jsx("td",{children:Ci(l.start_date)}),a.jsx("td",{children:Bn(l.monthly_rent)}),a.jsx("td",{children:a.jsx(ut,{color:"success",children:""})})]},c)):a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"text-center",children:"    "})})})]})})]})})}),a.jsx($,{lg:6,children:a.jsx(dt,{children:a.jsxs(ht,{children:[a.jsx(Ra,{className:"mb-4 h5",children:"  "}),a.jsx("div",{className:"table-responsive",children:a.jsxs(Mn,{className:"table-nowrap align-middle mb-0",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:" ()"}),a.jsx("th",{children:""})]})}),a.jsxs("tbody",{children:[n.lastTransactions.map((l,c)=>{const u=Number(l.bed)>0?l.bed:l.bes,d=Number(l.bed)>0?"":"";return a.jsxs("tr",{children:[a.jsx("td",{children:Ci(l.created_at)}),a.jsx("td",{className:"text-truncate",style:{maxWidth:"150px"},title:l.description,children:l.description}),a.jsx("td",{children:Bn(u)}),a.jsx("td",{children:a.jsx(ut,{color:d===""?"danger":"success",children:d})})]},c)}),n.lastTransactions.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"text-center",children:"  "})})]})]})})]})})})]})]})})},hPe=()=>{const[t,e]=C.useState([]),[n,r]=C.useState([]),[s,i]=C.useState(!0),[o,l]=C.useState(""),[c,u]=C.useState(""),[d,h]=C.useState(""),m=async()=>{i(!0),l("");try{const y=await cn("/product-units"),w=Array.isArray(y)?y:(y==null?void 0:y.data)||[];e(w),r(w)}catch(y){console.error("Error loading units:",y),l("    ")}i(!1)};C.useEffect(()=>{m()},[]),C.useEffect(()=>{if(d.trim()==="")r(t);else{const y=t.filter(w=>w.name.toLowerCase().includes(d.toLowerCase())||w.symbol.toLowerCase().includes(d.toLowerCase()));r(y)}},[d,t]);const p=async(y,w)=>{if(window.confirm(`    "${w}"  `))try{const v=await Fa(`/product-units/${y}`);e(x=>x.filter(_=>_.id!==y)),r(x=>x.filter(_=>_.id!==y)),u(` "${w}"    `),setTimeout(()=>u(""),3e3)}catch(v){console.error("Delete error:",v),l("   ")}};return a.jsx(oe.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsxs("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:[a.jsx("h4",{className:"mb-sm-0 font-size-18",children:" "}),a.jsx("div",{className:"page-title-right",children:a.jsxs("ol",{className:"breadcrumb m-0",children:[a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Le,{to:"/dashboard",children:""})}),a.jsx("li",{className:"breadcrumb-item active",children:" "})]})})]}),a.jsx(ge,{children:a.jsx($,{lg:12,children:a.jsx(dt,{children:a.jsxs(ht,{children:[a.jsxs("div",{className:"d-flex flex-wrap align-items-center justify-content-between mb-4",children:[a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx("div",{className:"avatar-sm me-3",children:a.jsx("div",{className:"avatar-title rounded-circle bg-soft-primary text-primary font-size-20",children:a.jsx("i",{className:"bx bx-layer"})})}),a.jsxs("div",{children:[a.jsx("h5",{className:"card-title mb-1",children:"  "}),a.jsx("p",{className:"text-muted mb-0",children:"   "})]})]}),a.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[a.jsxs(me,{color:"light",className:"btn-label",onClick:m,disabled:s,children:[a.jsx("i",{className:"bx bx-refresh label-icon"}),""]}),a.jsxs(Le,{to:"/inventory/add-unit",className:"btn btn-success btn-label",children:[a.jsx("i",{className:"bx bx-plus-circle label-icon"}),"  "]})]})]}),o&&a.jsxs(kn,{color:"danger",className:"alert-dismissible fade show",role:"alert",children:[a.jsx("i",{className:"mdi mdi-block-helper me-2"}),o,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>l("")})]}),c&&a.jsxs(kn,{color:"success",className:"alert-dismissible fade show",role:"alert",children:[a.jsx("i",{className:"mdi mdi-check-all me-2"}),c,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>u("")})]}),!s&&t.length>0&&a.jsxs(ge,{className:"mb-3",children:[a.jsx($,{md:6,children:a.jsx("div",{className:"search-box",children:a.jsxs("div",{className:"position-relative",children:[a.jsx(re,{type:"text",className:"form-control",placeholder:"     ...",value:d,onChange:y=>h(y.target.value)}),a.jsx("i",{className:"bx bx-search-alt search-icon"})]})})}),a.jsx($,{md:6,className:"text-end",children:a.jsxs("div",{className:"text-muted",children:[" : ",a.jsx("strong",{children:t.length})," ",d&&a.jsxs(a.Fragment,{children:[" ","|  :"," ",a.jsx("strong",{children:n.length})]})]})})]}),s?a.jsxs("div",{className:"text-center py-5",children:[a.jsx(pn,{color:"primary"}),a.jsx("div",{className:"mt-3",children:a.jsx("h5",{className:"text-muted",children:"  ..."})})]}):t.length===0?a.jsxs("div",{className:"text-center py-5",children:[a.jsx("div",{className:"avatar-lg mx-auto mb-4",children:a.jsx("div",{className:"avatar-title bg-soft-warning text-warning rounded-circle font-size-24",children:a.jsx("i",{className:"bx bx-info-circle"})})}),a.jsx("h5",{className:"text-muted",children:"    "}),a.jsx("p",{className:"text-muted",children:"     "}),a.jsxs(Le,{to:"/inventory/add-unit",className:"btn btn-success mt-2",children:[a.jsx("i",{className:"bx bx-plus-circle me-1"}),"  "]})]}):n.length===0?a.jsxs("div",{className:"text-center py-5",children:[a.jsx("div",{className:"avatar-lg mx-auto mb-4",children:a.jsx("div",{className:"avatar-title bg-soft-info text-info rounded-circle font-size-24",children:a.jsx("i",{className:"bx bx-search"})})}),a.jsx("h5",{className:"text-muted",children:"  "}),a.jsx("p",{className:"text-muted",children:"     "}),a.jsx(me,{color:"light",onClick:()=>h(""),children:"  "})]}):a.jsx("div",{className:"table-responsive",children:a.jsxs(Mn,{className:"table table-hover table-nowrap align-middle mb-0",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"60px"},children:"#"}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{style:{width:"100px"},children:""}),a.jsx("th",{style:{width:"120px"},className:"text-center",children:""})]})}),a.jsx("tbody",{children:n.map((y,w)=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("div",{className:"avatar-xs",children:a.jsx("span",{className:"avatar-title rounded-circle bg-soft-primary text-primary",children:w+1})})}),a.jsx("td",{children:a.jsx("h5",{className:"font-size-14 mb-0",children:y.name})}),a.jsx("td",{children:a.jsx(ut,{color:"info",className:"badge-soft-info font-size-12",pill:!0,children:y.symbol})}),a.jsx("td",{children:y.description?a.jsx("span",{className:"text-muted",children:y.description.length>50?y.description.substring(0,50)+"...":y.description}):a.jsx("span",{className:"text-muted",children:"-"})}),a.jsx("td",{children:y.is_active?a.jsxs(ut,{color:"success",className:"badge-soft-success",children:[a.jsx("i",{className:"bx bx-check-circle me-1"}),""]}):a.jsxs(ut,{color:"secondary",className:"badge-soft-secondary",children:[a.jsx("i",{className:"bx bx-x-circle me-1"}),""]})}),a.jsx("td",{className:"text-center",children:a.jsxs("div",{className:"d-flex gap-2 justify-content-center",children:[a.jsx(Le,{to:`/inventory/edit-unit/${y.id}`,className:"btn btn-sm btn-soft-primary",children:a.jsx("i",{className:"bx bx-edit-alt"})}),a.jsx(me,{size:"sm",color:"soft-danger",onClick:()=>p(y.id,y.name),children:a.jsx("i",{className:"bx bx-trash"})})]})})]},y.id))})]})})]})})})})]})})})};var fPe=function(e){return mPe(e)&&!pPe(e)};function mPe(t){return!!t&&typeof t=="object"}function pPe(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||vPe(t)}var gPe=typeof Symbol=="function"&&Symbol.for,yPe=gPe?Symbol.for("react.element"):60103;function vPe(t){return t.$$typeof===yPe}function bPe(t){return Array.isArray(t)?[]:{}}function TT(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Sx(bPe(t),t,e):t}function _Pe(t,e,n){return t.concat(e).map(function(r){return TT(r,n)})}function wPe(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(s){r[s]=TT(t[s],n)}),Object.keys(e).forEach(function(s){!n.isMergeableObject(e[s])||!t[s]?r[s]=TT(e[s],n):r[s]=Sx(t[s],e[s],n)}),r}function Sx(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||_Pe,n.isMergeableObject=n.isMergeableObject||fPe;var r=Array.isArray(e),s=Array.isArray(t),i=r===s;return i?r?n.arrayMerge(t,e,n):wPe(t,e,n):TT(e,n)}Sx.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,s){return Sx(r,s,n)},{})};var XD=Sx,KX=typeof global=="object"&&global&&global.Object===Object&&global,xPe=typeof self=="object"&&self&&self.Object===Object&&self,cu=KX||xPe||Function("return this")(),Rf=cu.Symbol,JX=Object.prototype,EPe=JX.hasOwnProperty,SPe=JX.toString,j_=Rf?Rf.toStringTag:void 0;function jPe(t){var e=EPe.call(t,j_),n=t[j_];try{t[j_]=void 0;var r=!0}catch{}var s=SPe.call(t);return r&&(e?t[j_]=n:delete t[j_]),s}var TPe=Object.prototype,CPe=TPe.toString;function APe(t){return CPe.call(t)}var NPe="[object Null]",IPe="[object Undefined]",Xz=Rf?Rf.toStringTag:void 0;function og(t){return t==null?t===void 0?IPe:NPe:Xz&&Xz in Object(t)?jPe(t):APe(t)}function QX(t,e){return function(n){return t(e(n))}}var TF=QX(Object.getPrototypeOf,Object);function lg(t){return t!=null&&typeof t=="object"}var kPe="[object Object]",OPe=Function.prototype,RPe=Object.prototype,ZX=OPe.toString,PPe=RPe.hasOwnProperty,DPe=ZX.call(Object);function e6(t){if(!lg(t)||og(t)!=kPe)return!1;var e=TF(t);if(e===null)return!0;var n=PPe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&ZX.call(n)==DPe}var t6=Array.isArray,n6=Object.keys,LPe=Object.prototype.hasOwnProperty,MPe=typeof Element<"u";function eL(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=t6(t),r=t6(e),s,i,o;if(n&&r){if(i=t.length,i!=e.length)return!1;for(s=i;s--!==0;)if(!eL(t[s],e[s]))return!1;return!0}if(n!=r)return!1;var l=t instanceof Date,c=e instanceof Date;if(l!=c)return!1;if(l&&c)return t.getTime()==e.getTime();var u=t instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==e.toString();var h=n6(t);if(i=h.length,i!==n6(e).length)return!1;for(s=i;s--!==0;)if(!LPe.call(e,h[s]))return!1;if(MPe&&t instanceof Element&&e instanceof Element)return t===e;for(s=i;s--!==0;)if(o=h[s],!(o==="_owner"&&t.$$typeof)&&!eL(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var $Pe=function(e,n){try{return eL(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const Gm=Qo($Pe);function FPe(){this.__data__=[],this.size=0}function XX(t,e){return t===e||t!==t&&e!==e}function vA(t,e){for(var n=t.length;n--;)if(XX(t[n][0],e))return n;return-1}var VPe=Array.prototype,UPe=VPe.splice;function BPe(t){var e=this.__data__,n=vA(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():UPe.call(e,n,1),--this.size,!0}function zPe(t){var e=this.__data__,n=vA(e,t);return n<0?void 0:e[n][1]}function WPe(t){return vA(this.__data__,t)>-1}function GPe(t,e){var n=this.__data__,r=vA(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function dh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}dh.prototype.clear=FPe;dh.prototype.delete=BPe;dh.prototype.get=zPe;dh.prototype.has=WPe;dh.prototype.set=GPe;function HPe(){this.__data__=new dh,this.size=0}function qPe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function YPe(t){return this.__data__.get(t)}function KPe(t){return this.__data__.has(t)}function th(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var JPe="[object AsyncFunction]",QPe="[object Function]",ZPe="[object GeneratorFunction]",XPe="[object Proxy]";function eee(t){if(!th(t))return!1;var e=og(t);return e==QPe||e==ZPe||e==JPe||e==XPe}var WO=cu["__core-js_shared__"],r6=function(){var t=/[^.]+$/.exec(WO&&WO.keys&&WO.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function e2e(t){return!!r6&&r6 in t}var t2e=Function.prototype,n2e=t2e.toString;function cg(t){if(t!=null){try{return n2e.call(t)}catch{}try{return t+""}catch{}}return""}var r2e=/[\\^$.*+?()[\]{}|]/g,s2e=/^\[object .+?Constructor\]$/,i2e=Function.prototype,a2e=Object.prototype,o2e=i2e.toString,l2e=a2e.hasOwnProperty,c2e=RegExp("^"+o2e.call(l2e).replace(r2e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function u2e(t){if(!th(t)||e2e(t))return!1;var e=eee(t)?c2e:s2e;return e.test(cg(t))}function d2e(t,e){return t==null?void 0:t[e]}function ug(t,e){var n=d2e(t,e);return u2e(n)?n:void 0}var jx=ug(cu,"Map"),Tx=ug(Object,"create");function h2e(){this.__data__=Tx?Tx(null):{},this.size=0}function f2e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var m2e="__lodash_hash_undefined__",p2e=Object.prototype,g2e=p2e.hasOwnProperty;function y2e(t){var e=this.__data__;if(Tx){var n=e[t];return n===m2e?void 0:n}return g2e.call(e,t)?e[t]:void 0}var v2e=Object.prototype,b2e=v2e.hasOwnProperty;function _2e(t){var e=this.__data__;return Tx?e[t]!==void 0:b2e.call(e,t)}var w2e="__lodash_hash_undefined__";function x2e(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Tx&&e===void 0?w2e:e,this}function Lp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Lp.prototype.clear=h2e;Lp.prototype.delete=f2e;Lp.prototype.get=y2e;Lp.prototype.has=_2e;Lp.prototype.set=x2e;function E2e(){this.size=0,this.__data__={hash:new Lp,map:new(jx||dh),string:new Lp}}function S2e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function bA(t,e){var n=t.__data__;return S2e(e)?n[typeof e=="string"?"string":"hash"]:n.map}function j2e(t){var e=bA(this,t).delete(t);return this.size-=e?1:0,e}function T2e(t){return bA(this,t).get(t)}function C2e(t){return bA(this,t).has(t)}function A2e(t,e){var n=bA(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function em(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}em.prototype.clear=E2e;em.prototype.delete=j2e;em.prototype.get=T2e;em.prototype.has=C2e;em.prototype.set=A2e;var N2e=200;function I2e(t,e){var n=this.__data__;if(n instanceof dh){var r=n.__data__;if(!jx||r.length<N2e-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new em(r)}return n.set(t,e),this.size=n.size,this}function wb(t){var e=this.__data__=new dh(t);this.size=e.size}wb.prototype.clear=HPe;wb.prototype.delete=qPe;wb.prototype.get=YPe;wb.prototype.has=KPe;wb.prototype.set=I2e;function k2e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var s6=function(){try{var t=ug(Object,"defineProperty");return t({},"",{}),t}catch{}}();function tee(t,e,n){e=="__proto__"&&s6?s6(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var O2e=Object.prototype,R2e=O2e.hasOwnProperty;function nee(t,e,n){var r=t[e];(!(R2e.call(t,e)&&XX(r,n))||n===void 0&&!(e in t))&&tee(t,e,n)}function _A(t,e,n,r){var s=!n;n||(n={});for(var i=-1,o=e.length;++i<o;){var l=e[i],c=void 0;c===void 0&&(c=t[l]),s?tee(n,l,c):nee(n,l,c)}return n}function P2e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var D2e="[object Arguments]";function i6(t){return lg(t)&&og(t)==D2e}var ree=Object.prototype,L2e=ree.hasOwnProperty,M2e=ree.propertyIsEnumerable,$2e=i6(function(){return arguments}())?i6:function(t){return lg(t)&&L2e.call(t,"callee")&&!M2e.call(t,"callee")},A0=Array.isArray;function F2e(){return!1}var see=typeof Tl=="object"&&Tl&&!Tl.nodeType&&Tl,a6=see&&typeof Cl=="object"&&Cl&&!Cl.nodeType&&Cl,V2e=a6&&a6.exports===see,o6=V2e?cu.Buffer:void 0,U2e=o6?o6.isBuffer:void 0,iee=U2e||F2e,B2e=9007199254740991,z2e=/^(?:0|[1-9]\d*)$/;function W2e(t,e){var n=typeof t;return e=e??B2e,!!e&&(n=="number"||n!="symbol"&&z2e.test(t))&&t>-1&&t%1==0&&t<e}var G2e=9007199254740991;function aee(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=G2e}var H2e="[object Arguments]",q2e="[object Array]",Y2e="[object Boolean]",K2e="[object Date]",J2e="[object Error]",Q2e="[object Function]",Z2e="[object Map]",X2e="[object Number]",eDe="[object Object]",tDe="[object RegExp]",nDe="[object Set]",rDe="[object String]",sDe="[object WeakMap]",iDe="[object ArrayBuffer]",aDe="[object DataView]",oDe="[object Float32Array]",lDe="[object Float64Array]",cDe="[object Int8Array]",uDe="[object Int16Array]",dDe="[object Int32Array]",hDe="[object Uint8Array]",fDe="[object Uint8ClampedArray]",mDe="[object Uint16Array]",pDe="[object Uint32Array]",Xr={};Xr[oDe]=Xr[lDe]=Xr[cDe]=Xr[uDe]=Xr[dDe]=Xr[hDe]=Xr[fDe]=Xr[mDe]=Xr[pDe]=!0;Xr[H2e]=Xr[q2e]=Xr[iDe]=Xr[Y2e]=Xr[aDe]=Xr[K2e]=Xr[J2e]=Xr[Q2e]=Xr[Z2e]=Xr[X2e]=Xr[eDe]=Xr[tDe]=Xr[nDe]=Xr[rDe]=Xr[sDe]=!1;function gDe(t){return lg(t)&&aee(t.length)&&!!Xr[og(t)]}function CF(t){return function(e){return t(e)}}var oee=typeof Tl=="object"&&Tl&&!Tl.nodeType&&Tl,jw=oee&&typeof Cl=="object"&&Cl&&!Cl.nodeType&&Cl,yDe=jw&&jw.exports===oee,GO=yDe&&KX.process,Wv=function(){try{var t=jw&&jw.require&&jw.require("util").types;return t||GO&&GO.binding&&GO.binding("util")}catch{}}(),l6=Wv&&Wv.isTypedArray,vDe=l6?CF(l6):gDe,bDe=Object.prototype,_De=bDe.hasOwnProperty;function lee(t,e){var n=A0(t),r=!n&&$2e(t),s=!n&&!r&&iee(t),i=!n&&!r&&!s&&vDe(t),o=n||r||s||i,l=o?P2e(t.length,String):[],c=l.length;for(var u in t)(e||_De.call(t,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||W2e(u,c)))&&l.push(u);return l}var wDe=Object.prototype;function AF(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||wDe;return t===n}var xDe=QX(Object.keys,Object),EDe=Object.prototype,SDe=EDe.hasOwnProperty;function jDe(t){if(!AF(t))return xDe(t);var e=[];for(var n in Object(t))SDe.call(t,n)&&n!="constructor"&&e.push(n);return e}function cee(t){return t!=null&&aee(t.length)&&!eee(t)}function uee(t){return cee(t)?lee(t):jDe(t)}function TDe(t,e){return t&&_A(e,uee(e),t)}function CDe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var ADe=Object.prototype,NDe=ADe.hasOwnProperty;function IDe(t){if(!th(t))return CDe(t);var e=AF(t),n=[];for(var r in t)r=="constructor"&&(e||!NDe.call(t,r))||n.push(r);return n}function kDe(t){return cee(t)?lee(t,!0):IDe(t)}function ODe(t,e){return t&&_A(e,kDe(e),t)}var dee=typeof Tl=="object"&&Tl&&!Tl.nodeType&&Tl,c6=dee&&typeof Cl=="object"&&Cl&&!Cl.nodeType&&Cl,RDe=c6&&c6.exports===dee,u6=RDe?cu.Buffer:void 0,d6=u6?u6.allocUnsafe:void 0;function PDe(t,e){var n=t.length,r=d6?d6(n):new t.constructor(n);return t.copy(r),r}function hee(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function DDe(t,e){for(var n=-1,r=t==null?0:t.length,s=0,i=[];++n<r;){var o=t[n];e(o,n,t)&&(i[s++]=o)}return i}function fee(){return[]}var LDe=Object.prototype,MDe=LDe.propertyIsEnumerable,h6=Object.getOwnPropertySymbols,NF=h6?function(t){return t==null?[]:(t=Object(t),DDe(h6(t),function(e){return MDe.call(t,e)}))}:fee;function $De(t,e){return _A(t,NF(t),e)}function mee(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var FDe=Object.getOwnPropertySymbols,VDe=FDe?function(t){for(var e=[];t;)mee(e,NF(t)),t=TF(t);return e}:fee;function UDe(t,e){return _A(t,VDe(t),e)}function BDe(t,e,n){var r=e(t);return A0(t)?r:mee(r,n(t))}function zDe(t){return BDe(t,uee,NF)}var tL=ug(cu,"DataView"),nL=ug(cu,"Promise"),rL=ug(cu,"Set"),sL=ug(cu,"WeakMap"),f6="[object Map]",WDe="[object Object]",m6="[object Promise]",p6="[object Set]",g6="[object WeakMap]",y6="[object DataView]",GDe=cg(tL),HDe=cg(jx),qDe=cg(nL),YDe=cg(rL),KDe=cg(sL),Rd=og;(tL&&Rd(new tL(new ArrayBuffer(1)))!=y6||jx&&Rd(new jx)!=f6||nL&&Rd(nL.resolve())!=m6||rL&&Rd(new rL)!=p6||sL&&Rd(new sL)!=g6)&&(Rd=function(t){var e=og(t),n=e==WDe?t.constructor:void 0,r=n?cg(n):"";if(r)switch(r){case GDe:return y6;case HDe:return f6;case qDe:return m6;case YDe:return p6;case KDe:return g6}return e});var JDe=Object.prototype,QDe=JDe.hasOwnProperty;function ZDe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&QDe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var v6=cu.Uint8Array;function XDe(t){var e=new t.constructor(t.byteLength);return new v6(e).set(new v6(t)),e}function eLe(t,e){var n=t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var tLe=/\w*$/;function nLe(t){var e=new t.constructor(t.source,tLe.exec(t));return e.lastIndex=t.lastIndex,e}var b6=Rf?Rf.prototype:void 0,_6=b6?b6.valueOf:void 0;function rLe(t){return _6?Object(_6.call(t)):{}}function sLe(t,e){var n=t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var iLe="[object Boolean]",aLe="[object Date]",oLe="[object Map]",lLe="[object Number]",cLe="[object RegExp]",uLe="[object Set]",dLe="[object String]",hLe="[object Symbol]",fLe="[object ArrayBuffer]",mLe="[object DataView]",pLe="[object Float32Array]",gLe="[object Float64Array]",yLe="[object Int8Array]",vLe="[object Int16Array]",bLe="[object Int32Array]",_Le="[object Uint8Array]",wLe="[object Uint8ClampedArray]",xLe="[object Uint16Array]",ELe="[object Uint32Array]";function SLe(t,e,n){var r=t.constructor;switch(e){case fLe:return XDe(t);case iLe:case aLe:return new r(+t);case mLe:return eLe(t);case pLe:case gLe:case yLe:case vLe:case bLe:case _Le:case wLe:case xLe:case ELe:return sLe(t);case oLe:return new r;case lLe:case dLe:return new r(t);case cLe:return nLe(t);case uLe:return new r;case hLe:return rLe(t)}}var w6=Object.create,jLe=function(){function t(){}return function(e){if(!th(e))return{};if(w6)return w6(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function TLe(t){return typeof t.constructor=="function"&&!AF(t)?jLe(TF(t)):{}}var CLe="[object Map]";function ALe(t){return lg(t)&&Rd(t)==CLe}var x6=Wv&&Wv.isMap,NLe=x6?CF(x6):ALe,ILe="[object Set]";function kLe(t){return lg(t)&&Rd(t)==ILe}var E6=Wv&&Wv.isSet,OLe=E6?CF(E6):kLe,RLe=2,pee="[object Arguments]",PLe="[object Array]",DLe="[object Boolean]",LLe="[object Date]",MLe="[object Error]",gee="[object Function]",$Le="[object GeneratorFunction]",FLe="[object Map]",VLe="[object Number]",yee="[object Object]",ULe="[object RegExp]",BLe="[object Set]",zLe="[object String]",WLe="[object Symbol]",GLe="[object WeakMap]",HLe="[object ArrayBuffer]",qLe="[object DataView]",YLe="[object Float32Array]",KLe="[object Float64Array]",JLe="[object Int8Array]",QLe="[object Int16Array]",ZLe="[object Int32Array]",XLe="[object Uint8Array]",eMe="[object Uint8ClampedArray]",tMe="[object Uint16Array]",nMe="[object Uint32Array]",Hr={};Hr[pee]=Hr[PLe]=Hr[HLe]=Hr[qLe]=Hr[DLe]=Hr[LLe]=Hr[YLe]=Hr[KLe]=Hr[JLe]=Hr[QLe]=Hr[ZLe]=Hr[FLe]=Hr[VLe]=Hr[yee]=Hr[ULe]=Hr[BLe]=Hr[zLe]=Hr[WLe]=Hr[XLe]=Hr[eMe]=Hr[tMe]=Hr[nMe]=!0;Hr[MLe]=Hr[gee]=Hr[GLe]=!1;function Yj(t,e,n,r,s,i){var o,l=e&RLe;if(o!==void 0)return o;if(!th(t))return t;var c=A0(t);if(c)return o=ZDe(t),hee(t,o);var u=Rd(t),d=u==gee||u==$Le;if(iee(t))return PDe(t);if(u==yee||u==pee||d&&!s)return o=d?{}:TLe(t),l?UDe(t,ODe(o,t)):$De(t,TDe(o,t));if(!Hr[u])return s?t:{};o=SLe(t,u),i||(i=new wb);var h=i.get(t);if(h)return h;i.set(t,o),OLe(t)?t.forEach(function(y){o.add(Yj(y,e,n,y,t,i))}):NLe(t)&&t.forEach(function(y,w){o.set(w,Yj(y,e,n,w,t,i))});var m=zDe,p=c?void 0:m(t);return k2e(p||t,function(y,w){p&&(w=y,y=t[w]),nee(o,w,Yj(y,e,n,w,t,i))}),o}var rMe=4;function S6(t){return Yj(t,rMe)}function vee(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}var sMe="[object Symbol]";function wA(t){return typeof t=="symbol"||lg(t)&&og(t)==sMe}var iMe="Expected a function";function IF(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(iMe);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var o=t.apply(this,r);return n.cache=i.set(s,o)||i,o};return n.cache=new(IF.Cache||em),n}IF.Cache=em;var aMe=500;function oMe(t){var e=IF(t,function(r){return n.size===aMe&&n.clear(),r}),n=e.cache;return e}var lMe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cMe=/\\(\\)?/g,uMe=oMe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(lMe,function(n,r,s,i){e.push(s?i.replace(cMe,"$1"):r||n)}),e});function dMe(t){if(typeof t=="string"||wA(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var j6=Rf?Rf.prototype:void 0,T6=j6?j6.toString:void 0;function bee(t){if(typeof t=="string")return t;if(A0(t))return vee(t,bee)+"";if(wA(t))return T6?T6.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function hMe(t){return t==null?"":bee(t)}function _ee(t){return A0(t)?vee(t,dMe):wA(t)?[t]:hee(uMe(hMe(t)))}var wee={exports:{}},Lr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gi=typeof Symbol=="function"&&Symbol.for,kF=Gi?Symbol.for("react.element"):60103,OF=Gi?Symbol.for("react.portal"):60106,xA=Gi?Symbol.for("react.fragment"):60107,EA=Gi?Symbol.for("react.strict_mode"):60108,SA=Gi?Symbol.for("react.profiler"):60114,jA=Gi?Symbol.for("react.provider"):60109,TA=Gi?Symbol.for("react.context"):60110,RF=Gi?Symbol.for("react.async_mode"):60111,CA=Gi?Symbol.for("react.concurrent_mode"):60111,AA=Gi?Symbol.for("react.forward_ref"):60112,NA=Gi?Symbol.for("react.suspense"):60113,fMe=Gi?Symbol.for("react.suspense_list"):60120,IA=Gi?Symbol.for("react.memo"):60115,kA=Gi?Symbol.for("react.lazy"):60116,mMe=Gi?Symbol.for("react.block"):60121,pMe=Gi?Symbol.for("react.fundamental"):60117,gMe=Gi?Symbol.for("react.responder"):60118,yMe=Gi?Symbol.for("react.scope"):60119;function $l(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case kF:switch(t=t.type,t){case RF:case CA:case xA:case SA:case EA:case NA:return t;default:switch(t=t&&t.$$typeof,t){case TA:case AA:case kA:case IA:case jA:return t;default:return e}}case OF:return e}}}function xee(t){return $l(t)===CA}Lr.AsyncMode=RF;Lr.ConcurrentMode=CA;Lr.ContextConsumer=TA;Lr.ContextProvider=jA;Lr.Element=kF;Lr.ForwardRef=AA;Lr.Fragment=xA;Lr.Lazy=kA;Lr.Memo=IA;Lr.Portal=OF;Lr.Profiler=SA;Lr.StrictMode=EA;Lr.Suspense=NA;Lr.isAsyncMode=function(t){return xee(t)||$l(t)===RF};Lr.isConcurrentMode=xee;Lr.isContextConsumer=function(t){return $l(t)===TA};Lr.isContextProvider=function(t){return $l(t)===jA};Lr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===kF};Lr.isForwardRef=function(t){return $l(t)===AA};Lr.isFragment=function(t){return $l(t)===xA};Lr.isLazy=function(t){return $l(t)===kA};Lr.isMemo=function(t){return $l(t)===IA};Lr.isPortal=function(t){return $l(t)===OF};Lr.isProfiler=function(t){return $l(t)===SA};Lr.isStrictMode=function(t){return $l(t)===EA};Lr.isSuspense=function(t){return $l(t)===NA};Lr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===xA||t===CA||t===SA||t===EA||t===NA||t===fMe||typeof t=="object"&&t!==null&&(t.$$typeof===kA||t.$$typeof===IA||t.$$typeof===jA||t.$$typeof===TA||t.$$typeof===AA||t.$$typeof===pMe||t.$$typeof===gMe||t.$$typeof===yMe||t.$$typeof===mMe)};Lr.typeOf=$l;wee.exports=Lr;var vMe=wee.exports,Eee=vMe,bMe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},_Me={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},See={};See[Eee.ForwardRef]=bMe;See[Eee.Memo]=_Me;function Li(){return Li=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Li.apply(this,arguments)}function jee(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var OA=C.createContext(void 0);OA.displayName="FormikContext";OA.Provider;OA.Consumer;function wMe(){var t=C.useContext(OA);return t}var $c=function(e){return typeof e=="function"},RA=function(e){return e!==null&&typeof e=="object"},xMe=function(e){return String(Math.floor(Number(e)))===e},HO=function(e){return Object.prototype.toString.call(e)==="[object String]"},qO=function(e){return RA(e)&&$c(e.then)};function fl(t,e,n,r){r===void 0&&(r=0);for(var s=_ee(e);t&&r<s.length;)t=t[s[r++]];return r!==s.length&&!t||t===void 0?n:t}function Ep(t,e,n){for(var r=S6(t),s=r,i=0,o=_ee(e);i<o.length-1;i++){var l=o[i],c=fl(t,o.slice(0,i+1));if(c&&(RA(c)||Array.isArray(c)))s=s[l]=S6(c);else{var u=o[i+1];s=s[l]=xMe(u)&&Number(u)>=0?[]:{}}}return(i===0?t:s)[o[i]]===n?t:(n===void 0?delete s[o[i]]:s[o[i]]=n,i===0&&n===void 0&&delete r[o[i]],r)}function Tee(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var s=0,i=Object.keys(t);s<i.length;s++){var o=i[s],l=t[o];RA(l)?n.get(l)||(n.set(l,!0),r[o]=Array.isArray(l)?[]:{},Tee(l,e,n,r[o])):r[o]=e}return r}function EMe(t,e){switch(e.type){case"SET_VALUES":return Li({},t,{values:e.payload});case"SET_TOUCHED":return Li({},t,{touched:e.payload});case"SET_ERRORS":return Gm(t.errors,e.payload)?t:Li({},t,{errors:e.payload});case"SET_STATUS":return Li({},t,{status:e.payload});case"SET_ISSUBMITTING":return Li({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Li({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Li({},t,{values:Ep(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Li({},t,{touched:Ep(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Li({},t,{errors:Ep(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Li({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Li({},t,{touched:Tee(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Li({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Li({},t,{isSubmitting:!1});default:return t}}var Om={},VS={};function Yo(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,s=r===void 0?!0:r,i=t.validateOnMount,o=i===void 0?!1:i,l=t.isInitialValid,c=t.enableReinitialize,u=c===void 0?!1:c,d=t.onSubmit,h=jee(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),m=Li({validateOnChange:n,validateOnBlur:s,validateOnMount:o,onSubmit:d},h),p=C.useRef(m.initialValues),y=C.useRef(m.initialErrors||Om),w=C.useRef(m.initialTouched||VS),v=C.useRef(m.initialStatus),x=C.useRef(!1),_=C.useRef({});C.useEffect(function(){return x.current=!0,function(){x.current=!1}},[]);var E=C.useState(0),T=E[1],N=C.useRef({values:m.initialValues,errors:m.initialErrors||Om,touched:m.initialTouched||VS,status:m.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),D=N.current,O=C.useCallback(function(Z){var ye=N.current;N.current=EMe(ye,Z),ye!==N.current&&T(function(be){return be+1})},[]),F=C.useCallback(function(Z,ye){return new Promise(function(be,A){var B=m.validate(Z,ye);B==null?be(Om):qO(B)?B.then(function(se){be(se||Om)},function(se){A(se)}):be(B)})},[m.validate]),V=C.useCallback(function(Z,ye){var be=m.validationSchema,A=$c(be)?be(ye):be,B=ye&&A.validateAt?A.validateAt(ye,Z):jMe(Z,A);return new Promise(function(se,de){B.then(function(){se(Om)},function(Se){Se.name==="ValidationError"?se(SMe(Se)):de(Se)})})},[m.validationSchema]),z=C.useCallback(function(Z,ye){return new Promise(function(be){return be(_.current[Z].validate(ye))})},[]),U=C.useCallback(function(Z){var ye=Object.keys(_.current).filter(function(A){return $c(_.current[A].validate)}),be=ye.length>0?ye.map(function(A){return z(A,fl(Z,A))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(be).then(function(A){return A.reduce(function(B,se,de){return se==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||se&&(B=Ep(B,ye[de],se)),B},{})})},[z]),H=C.useCallback(function(Z){return Promise.all([U(Z),m.validationSchema?V(Z):{},m.validate?F(Z):{}]).then(function(ye){var be=ye[0],A=ye[1],B=ye[2],se=XD.all([be,A,B],{arrayMerge:TMe});return se})},[m.validate,m.validationSchema,U,F,V]),J=Xl(function(Z){return Z===void 0&&(Z=D.values),O({type:"SET_ISVALIDATING",payload:!0}),H(Z).then(function(ye){return x.current&&(O({type:"SET_ISVALIDATING",payload:!1}),O({type:"SET_ERRORS",payload:ye})),ye})});C.useEffect(function(){o&&x.current===!0&&Gm(p.current,m.initialValues)&&J(p.current)},[o,J]);var q=C.useCallback(function(Z){var ye=Z&&Z.values?Z.values:p.current,be=Z&&Z.errors?Z.errors:y.current?y.current:m.initialErrors||{},A=Z&&Z.touched?Z.touched:w.current?w.current:m.initialTouched||{},B=Z&&Z.status?Z.status:v.current?v.current:m.initialStatus;p.current=ye,y.current=be,w.current=A,v.current=B;var se=function(){O({type:"RESET_FORM",payload:{isSubmitting:!!Z&&!!Z.isSubmitting,errors:be,touched:A,status:B,values:ye,isValidating:!!Z&&!!Z.isValidating,submitCount:Z&&Z.submitCount&&typeof Z.submitCount=="number"?Z.submitCount:0}})};if(m.onReset){var de=m.onReset(D.values,Xt);qO(de)?de.then(se):se()}else se()},[m.initialErrors,m.initialStatus,m.initialTouched,m.onReset]);C.useEffect(function(){x.current===!0&&!Gm(p.current,m.initialValues)&&u&&(p.current=m.initialValues,q(),o&&J(p.current))},[u,m.initialValues,q,o,J]),C.useEffect(function(){u&&x.current===!0&&!Gm(y.current,m.initialErrors)&&(y.current=m.initialErrors||Om,O({type:"SET_ERRORS",payload:m.initialErrors||Om}))},[u,m.initialErrors]),C.useEffect(function(){u&&x.current===!0&&!Gm(w.current,m.initialTouched)&&(w.current=m.initialTouched||VS,O({type:"SET_TOUCHED",payload:m.initialTouched||VS}))},[u,m.initialTouched]),C.useEffect(function(){u&&x.current===!0&&!Gm(v.current,m.initialStatus)&&(v.current=m.initialStatus,O({type:"SET_STATUS",payload:m.initialStatus}))},[u,m.initialStatus,m.initialTouched]);var L=Xl(function(Z){if(_.current[Z]&&$c(_.current[Z].validate)){var ye=fl(D.values,Z),be=_.current[Z].validate(ye);return qO(be)?(O({type:"SET_ISVALIDATING",payload:!0}),be.then(function(A){return A}).then(function(A){O({type:"SET_FIELD_ERROR",payload:{field:Z,value:A}}),O({type:"SET_ISVALIDATING",payload:!1})})):(O({type:"SET_FIELD_ERROR",payload:{field:Z,value:be}}),Promise.resolve(be))}else if(m.validationSchema)return O({type:"SET_ISVALIDATING",payload:!0}),V(D.values,Z).then(function(A){return A}).then(function(A){O({type:"SET_FIELD_ERROR",payload:{field:Z,value:fl(A,Z)}}),O({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Y=C.useCallback(function(Z,ye){var be=ye.validate;_.current[Z]={validate:be}},[]),ne=C.useCallback(function(Z){delete _.current[Z]},[]),te=Xl(function(Z,ye){O({type:"SET_TOUCHED",payload:Z});var be=ye===void 0?s:ye;return be?J(D.values):Promise.resolve()}),ce=C.useCallback(function(Z){O({type:"SET_ERRORS",payload:Z})},[]),ve=Xl(function(Z,ye){var be=$c(Z)?Z(D.values):Z;O({type:"SET_VALUES",payload:be});var A=ye===void 0?n:ye;return A?J(be):Promise.resolve()}),Ue=C.useCallback(function(Z,ye){O({type:"SET_FIELD_ERROR",payload:{field:Z,value:ye}})},[]),Ae=Xl(function(Z,ye,be){O({type:"SET_FIELD_VALUE",payload:{field:Z,value:ye}});var A=be===void 0?n:be;return A?J(Ep(D.values,Z,ye)):Promise.resolve()}),at=C.useCallback(function(Z,ye){var be=ye,A=Z,B;if(!HO(Z)){Z.persist&&Z.persist();var se=Z.target?Z.target:Z.currentTarget,de=se.type,Se=se.name,we=se.id,Me=se.value,tt=se.checked;se.outerHTML;var Re=se.options,qe=se.multiple;be=ye||Se||we,A=/number|range/.test(de)?(B=parseFloat(Me),isNaN(B)?"":B):/checkbox/.test(de)?AMe(fl(D.values,be),tt,Me):Re&&qe?CMe(Re):Me}be&&Ae(be,A)},[Ae,D.values]),it=Xl(function(Z){if(HO(Z))return function(ye){return at(ye,Z)};at(Z)}),Te=Xl(function(Z,ye,be){ye===void 0&&(ye=!0),O({type:"SET_FIELD_TOUCHED",payload:{field:Z,value:ye}});var A=be===void 0?s:be;return A?J(D.values):Promise.resolve()}),Tt=C.useCallback(function(Z,ye){Z.persist&&Z.persist();var be=Z.target,A=be.name,B=be.id;be.outerHTML;var se=ye||A||B;Te(se,!0)},[Te]),ct=Xl(function(Z){if(HO(Z))return function(ye){return Tt(ye,Z)};Tt(Z)}),pt=C.useCallback(function(Z){$c(Z)?O({type:"SET_FORMIK_STATE",payload:Z}):O({type:"SET_FORMIK_STATE",payload:function(){return Z}})},[]),vt=C.useCallback(function(Z){O({type:"SET_STATUS",payload:Z})},[]),Ht=C.useCallback(function(Z){O({type:"SET_ISSUBMITTING",payload:Z})},[]),It=Xl(function(){return O({type:"SUBMIT_ATTEMPT"}),J().then(function(Z){var ye=Z instanceof Error,be=!ye&&Object.keys(Z).length===0;if(be){var A;try{if(A=Ee(),A===void 0)return}catch(B){throw B}return Promise.resolve(A).then(function(B){return x.current&&O({type:"SUBMIT_SUCCESS"}),B}).catch(function(B){if(x.current)throw O({type:"SUBMIT_FAILURE"}),B})}else if(x.current&&(O({type:"SUBMIT_FAILURE"}),ye))throw Z})}),Ut=Xl(function(Z){Z&&Z.preventDefault&&$c(Z.preventDefault)&&Z.preventDefault(),Z&&Z.stopPropagation&&$c(Z.stopPropagation)&&Z.stopPropagation(),It().catch(function(ye){console.warn("Warning: An unhandled error was caught from submitForm()",ye)})}),Xt={resetForm:q,validateForm:J,validateField:L,setErrors:ce,setFieldError:Ue,setFieldTouched:Te,setFieldValue:Ae,setStatus:vt,setSubmitting:Ht,setTouched:te,setValues:ve,setFormikState:pt,submitForm:It},Ee=Xl(function(){return d(D.values,Xt)}),We=Xl(function(Z){Z&&Z.preventDefault&&$c(Z.preventDefault)&&Z.preventDefault(),Z&&Z.stopPropagation&&$c(Z.stopPropagation)&&Z.stopPropagation(),q()}),Jt=C.useCallback(function(Z){return{value:fl(D.values,Z),error:fl(D.errors,Z),touched:!!fl(D.touched,Z),initialValue:fl(p.current,Z),initialTouched:!!fl(w.current,Z),initialError:fl(y.current,Z)}},[D.errors,D.touched,D.values]),ke=C.useCallback(function(Z){return{setValue:function(be,A){return Ae(Z,be,A)},setTouched:function(be,A){return Te(Z,be,A)},setError:function(be){return Ue(Z,be)}}},[Ae,Te,Ue]),lt=C.useCallback(function(Z){var ye=RA(Z),be=ye?Z.name:Z,A=fl(D.values,be),B={name:be,value:A,onChange:it,onBlur:ct};if(ye){var se=Z.type,de=Z.value,Se=Z.as,we=Z.multiple;se==="checkbox"?de===void 0?B.checked=!!A:(B.checked=!!(Array.isArray(A)&&~A.indexOf(de)),B.value=de):se==="radio"?(B.checked=A===de,B.value=de):Se==="select"&&we&&(B.value=B.value||[],B.multiple=!0)}return B},[ct,it,D.values]),_e=C.useMemo(function(){return!Gm(p.current,D.values)},[p.current,D.values]),Q=C.useMemo(function(){return typeof l<"u"?_e?D.errors&&Object.keys(D.errors).length===0:l!==!1&&$c(l)?l(m):l:D.errors&&Object.keys(D.errors).length===0},[l,_e,D.errors,m]),ee=Li({},D,{initialValues:p.current,initialErrors:y.current,initialTouched:w.current,initialStatus:v.current,handleBlur:ct,handleChange:it,handleReset:We,handleSubmit:Ut,resetForm:q,setErrors:ce,setFormikState:pt,setFieldTouched:Te,setFieldValue:Ae,setFieldError:Ue,setStatus:vt,setSubmitting:Ht,setTouched:te,setValues:ve,submitForm:It,validateForm:J,validateField:L,isValid:Q,dirty:_e,unregisterField:ne,registerField:Y,getFieldProps:lt,getFieldMeta:Jt,getFieldHelpers:ke,validateOnBlur:s,validateOnChange:n,validateOnMount:o});return ee}function SMe(t){var e={};if(t.inner){if(t.inner.length===0)return Ep(e,t.path,t.message);for(var s=t.inner,n=Array.isArray(s),r=0,s=n?s:s[Symbol.iterator]();;){var i;if(n){if(r>=s.length)break;i=s[r++]}else{if(r=s.next(),r.done)break;i=r.value}var o=i;fl(e,o.path)||(e=Ep(e,o.path,o.message))}}return e}function jMe(t,e,n,r){n===void 0&&(n=!1);var s=iL(t);return e[n?"validateSync":"validate"](s,{abortEarly:!1,context:s})}function iL(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(s){return Array.isArray(s)===!0||e6(s)?iL(s):s!==""?s:void 0}):e6(t[r])?e[r]=iL(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function TMe(t,e,n){var r=t.slice();return e.forEach(function(i,o){if(typeof r[o]>"u"){var l=n.clone!==!1,c=l&&n.isMergeableObject(i);r[o]=c?XD(Array.isArray(i)?[]:{},i,n):i}else n.isMergeableObject(i)?r[o]=XD(t[o],i,n):t.indexOf(i)===-1&&r.push(i)}),r}function CMe(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function AMe(t,e,n){if(typeof t=="boolean")return!!e;var r=[],s=!1,i=-1;if(Array.isArray(t))r=t,i=t.indexOf(n),s=i>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!s?r.concat(n):s?r.slice(0,i).concat(r.slice(i+1)):r}var NMe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?C.useLayoutEffect:C.useEffect;function Xl(t){var e=C.useRef(t);return NMe(function(){e.current=t}),C.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current.apply(void 0,r)},[])}var IMe=C.forwardRef(function(t,e){var n=t.action,r=jee(t,["action"]),s=n??"#",i=wMe(),o=i.handleReset,l=i.handleSubmit;return C.createElement("form",Li({onSubmit:l,ref:e,onReset:o,action:s},r))});IMe.displayName="Form";function dg(t){this._maxSize=t,this.clear()}dg.prototype.clear=function(){this._size=0,this._values=Object.create(null)};dg.prototype.get=function(t){return this._values[t]};dg.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var kMe=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Cee=/^\d+$/,OMe=/^\d/,RMe=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,PMe=/^\s*(['"]?)(.*?)(\1)\s*$/,PF=512,C6=new dg(PF),A6=new dg(PF),N6=new dg(PF),Sp={Cache:dg,split:aL,normalizePath:YO,setter:function(t){var e=YO(t);return A6.get(t)||A6.set(t,function(r,s){for(var i=0,o=e.length,l=r;i<o-1;){var c=e[i];if(c==="__proto__"||c==="constructor"||c==="prototype")return r;l=l[e[i++]]}l[e[i]]=s})},getter:function(t,e){var n=YO(t);return N6.get(t)||N6.set(t,function(s){for(var i=0,o=n.length;i<o;)if(s!=null||!e)s=s[n[i++]];else return;return s})},join:function(t){return t.reduce(function(e,n){return e+(DF(n)||Cee.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){DMe(Array.isArray(t)?t:aL(t),e,n)}};function YO(t){return C6.get(t)||C6.set(t,aL(t).map(function(e){return e.replace(PMe,"$2")}))}function aL(t){return t.match(kMe)||[""]}function DMe(t,e,n){var r=t.length,s,i,o,l;for(i=0;i<r;i++)s=t[i],s&&($Me(s)&&(s='"'+s+'"'),l=DF(s),o=!l&&/^\d+$/.test(s),e.call(n,s,l,o,i,t))}function DF(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function LMe(t){return t.match(OMe)&&!t.match(Cee)}function MMe(t){return RMe.test(t)}function $Me(t){return!DF(t)&&(LMe(t)||MMe(t))}const FMe=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,PA=t=>t.match(FMe)||[],DA=t=>t[0].toUpperCase()+t.slice(1),LF=(t,e)=>PA(t).join(e).toLowerCase(),Aee=t=>PA(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),VMe=t=>DA(Aee(t)),UMe=t=>LF(t,"_"),BMe=t=>LF(t,"-"),zMe=t=>DA(LF(t," ")),WMe=t=>PA(t).map(DA).join(" ");var KO={words:PA,upperFirst:DA,camelCase:Aee,pascalCase:VMe,snakeCase:UMe,kebabCase:BMe,sentenceCase:zMe,titleCase:WMe},MF={exports:{}};MF.exports=function(t){return Nee(GMe(t),t)};MF.exports.array=Nee;function Nee(t,e){var n=t.length,r=new Array(n),s={},i=n,o=HMe(e),l=qMe(t);for(e.forEach(function(u){if(!l.has(u[0])||!l.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});i--;)s[i]||c(t[i],i,new Set);return r;function c(u,d,h){if(h.has(u)){var m;try{m=", node was:"+JSON.stringify(u)}catch{m=""}throw new Error("Cyclic dependency"+m)}if(!l.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!s[d]){s[d]=!0;var p=o.get(u)||new Set;if(p=Array.from(p),d=p.length){h.add(u);do{var y=p[--d];c(y,l.get(y),h)}while(d);h.delete(u)}r[--n]=u}}}function GMe(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var s=t[n];e.add(s[0]),e.add(s[1])}return Array.from(e)}function HMe(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var s=t[n];e.has(s[0])||e.set(s[0],new Set),e.has(s[1])||e.set(s[1],new Set),e.get(s[0]).add(s[1])}return e}function qMe(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var YMe=MF.exports;const KMe=Qo(YMe),JMe=Object.prototype.toString,QMe=Error.prototype.toString,ZMe=RegExp.prototype.toString,XMe=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",e$e=/^Symbol\((.*)\)(.*)$/;function t$e(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function I6(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return t$e(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return XMe.call(t).replace(e$e,"Symbol($1)");const r=JMe.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+QMe.call(t)+"]":r==="RegExp"?ZMe.call(t):null}function Sf(t,e){let n=I6(t,e);return n!==null?n:JSON.stringify(t,function(r,s){let i=I6(this[r],e);return i!==null?i:s},2)}function Iee(t){return t==null?[]:[].concat(t)}let kee,n$e=/\$\{\s*(\w+)\s*\}/g;kee=Symbol.toStringTag;class Ro extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(n$e,(s,i)=>Sf(n[i])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,s,i){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this[kee]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=s,this.errors=[],this.inner=[],Iee(e).forEach(o=>{if(Ro.isError(o)){this.errors.push(...o.errors);const l=o.inner.length?o.inner:[o];this.inner.push(...l)}else this.errors.push(o)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],!i&&Error.captureStackTrace&&Error.captureStackTrace(this,Ro)}}let ku={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const s=r!=null&&r!==n?` (cast from the value \`${Sf(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Sf(n,!0)}\``+s:`${t} must match the configured type. The validated value was: \`${Sf(n,!0)}\``+s}},Fc={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Gh={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},oL={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},r$e={isValue:"${path} field must be ${value}"},lL={noUnknown:"${path} field has unspecified keys: ${unknown}"},s$e={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},i$e={notType:t=>{const{path:e,value:n,spec:r}=t,s=r.types.length;if(Array.isArray(n)){if(n.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${n.length} for value: \`${Sf(n,!0)}\``;if(n.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${n.length} for value: \`${Sf(n,!0)}\``}return Ro.formatError(ku.notType,t)}};Object.assign(Object.create(null),{mixed:ku,string:Fc,number:Gh,date:oL,object:lL,array:s$e,boolean:r$e,tuple:i$e});const $F=t=>t&&t.__isYupSchema__;class CT{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:s,otherwise:i}=n,o=typeof r=="function"?r:(...l)=>l.every(c=>c===r);return new CT(e,(l,c)=>{var u;let d=o(...l)?s:i;return(u=d==null?void 0:d(c))!=null?u:c})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(i=>i.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),s=this.fn(r,e,n);if(s===void 0||s===e)return e;if(!$F(s))throw new TypeError("conditions must return a schema object");return s.resolve(n)}}const US={context:"$",value:"."};class hg{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===US.context,this.isValue=this.key[0]===US.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?US.context:this.isValue?US.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Sp.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let s=this.isContext?r:this.isValue?e:n;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}hg.prototype.__isYupRef=!0;const Fd=t=>t==null;function cy(t){function e({value:n,path:r="",options:s,originalValue:i,schema:o},l,c){const{name:u,test:d,params:h,message:m,skipAbsent:p}=t;let{parent:y,context:w,abortEarly:v=o.spec.abortEarly,disableStackTrace:x=o.spec.disableStackTrace}=s;function _(U){return hg.isRef(U)?U.getValue(n,y,w):U}function E(U={}){var H;const J=Object.assign({value:n,originalValue:i,label:o.spec.label,path:U.path||r,spec:o.spec},h,U.params);for(const L of Object.keys(J))J[L]=_(J[L]);const q=new Ro(Ro.formatError(U.message||m,J),n,J.path,U.type||u,(H=U.disableStackTrace)!=null?H:x);return q.params=J,q}const T=v?l:c;let N={path:r,parent:y,type:u,from:s.from,createError:E,resolve:_,options:s,originalValue:i,schema:o};const D=U=>{Ro.isError(U)?T(U):U?c(null):T(E())},O=U=>{Ro.isError(U)?T(U):l(U)};if(p&&Fd(n))return D(!0);let V;try{var z;if(V=d.call(N,n,N),typeof((z=V)==null?void 0:z.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${N.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(V).then(D,O)}}catch(U){O(U);return}D(V)}return e.OPTIONS=t,e}function a$e(t,e,n,r=n){let s,i,o;return e?(Sp.forEach(e,(l,c,u)=>{let d=c?l.slice(1,l.length-1):l;t=t.resolve({context:r,parent:s,value:n});let h=t.type==="tuple",m=u?parseInt(d,10):0;if(t.innerType||h){if(h&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&m>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);s=n,n=n&&n[m],t=h?t.spec.types[m]:t.innerType}if(!u){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);s=n,n=n&&n[d],t=t.fields[d]}i=d,o=c?"["+l+"]":"."+l}),{schema:t,parent:s,parentPath:i}):{parent:s,parentPath:e,schema:t}}class AT extends Set{describe(){const e=[];for(const n of this.values())e.push(hg.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new AT(this.values())}merge(e,n){const r=this.clone();return e.forEach(s=>r.add(s)),n.forEach(s=>r.delete(s)),r}}function Yy(t,e=new Map){if($F(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=Yy(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,s]of t.entries())n.set(r,Yy(s,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(Yy(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,s]of Object.entries(t))n[r]=Yy(s,e)}else throw Error(`Unable to clone ${t}`);return n}class nu{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new AT,this._blacklist=new AT,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(ku.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Yy(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const s=Object.assign({},n.spec,r.spec);return r.spec=s,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(i=>{e.tests.forEach(o=>{i.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((s,i)=>i.resolve(s,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,s,i;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(i=e.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),s=n.assert==="ignore-optionality",i=r._cast(e,n);if(n.assert!==!1&&!r.isType(i)){if(s&&Fd(i))return i;let o=Sf(e),l=Sf(i);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(l!==o?`result of cast: ${l}`:""))}return i}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((s,i)=>i.call(this,s,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,s){let{path:i,originalValue:o=e,strict:l=this.spec.strict}=n,c=e;l||(c=this._cast(c,Object.assign({assert:!1},n)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:i,value:c,originalValue:o,options:n,tests:u},r,d=>{if(d.length)return s(d,c);this.runTests({path:i,value:c,originalValue:o,options:n,tests:this.tests},r,s)})}runTests(e,n,r){let s=!1,{tests:i,value:o,originalValue:l,path:c,options:u}=e,d=w=>{s||(s=!0,n(w,o))},h=w=>{s||(s=!0,r(w,o))},m=i.length,p=[];if(!m)return h([]);let y={value:o,originalValue:l,path:c,options:u,schema:this};for(let w=0;w<i.length;w++){const v=i[w];v(y,d,function(_){_&&(Array.isArray(_)?p.push(..._):p.push(_)),--m<=0&&h(p)})}}asNestedTest({key:e,index:n,parent:r,parentPath:s,originalParent:i,options:o}){const l=e??n;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof l=="number";let u=r[l];const d=Object.assign({},o,{strict:!0,parent:r,value:u,originalValue:i[l],key:void 0,[c?"index":"key"]:l,path:c||l.includes(".")?`${s||""}[${u?l:`"${l}"`}]`:(s?`${s}.`:"")+e});return(h,m,p)=>this.resolve(d)._validate(u,d,m,p)}validate(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i=(r=n==null?void 0:n.disableStackTrace)!=null?r:s.spec.disableStackTrace;return new Promise((o,l)=>s._validate(e,n,(c,u)=>{Ro.isError(c)&&(c.value=u),l(c)},(c,u)=>{c.length?l(new Ro(c,u,void 0,void 0,i)):o(u)}))}validateSync(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:s.spec.disableStackTrace;return s._validate(e,Object.assign({},n,{sync:!0}),(l,c)=>{throw Ro.isError(l)&&(l.value=c),l},(l,c)=>{if(l.length)throw new Ro(l,e,void 0,void 0,o);i=c}),i}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Ro.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Ro.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Yy(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=cy({message:n,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=cy({message:n,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=ku.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=ku.notNull){return this.nullability(!1,e)}required(e=ku.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=ku.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),s=cy(n),i=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(i||o.OPTIONS.test===s.OPTIONS.test))),r.tests.push(s),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),s=Iee(e).map(i=>new hg(i));return s.forEach(i=>{i.isSibling&&r.deps.push(i.key)}),r.conditions.push(typeof n=="function"?new CT(s,n):CT.fromOptions(s,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=cy({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=ku.oneOf){let r=this.clone();return e.forEach(s=>{r._whitelist.add(s),r._blacklist.delete(s)}),r.internalTests.whiteList=cy({message:n,name:"oneOf",skipAbsent:!0,test(s){let i=this.schema._whitelist,o=i.resolveAll(this.resolve);return o.includes(s)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:o}})}}),r}notOneOf(e,n=ku.notOneOf){let r=this.clone();return e.forEach(s=>{r._blacklist.add(s),r._whitelist.delete(s)}),r.internalTests.blacklist=cy({message:n,name:"notOneOf",test(s){let i=this.schema._blacklist,o=i.resolveAll(this.resolve);return o.includes(s)?this.createError({params:{values:Array.from(i).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:s,optional:i,nullable:o}=n.spec;return{meta:s,label:r,optional:i,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(c=>({name:c.OPTIONS.name,params:c.OPTIONS.params})).filter((c,u,d)=>d.findIndex(h=>h.name===c.name)===u)}}}nu.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])nu.prototype[`${t}At`]=function(e,n,r={}){const{parent:s,parentPath:i,schema:o}=a$e(this,e,n,r.context);return o[t](s&&s[i],Object.assign({},r,{parent:s,path:e}))};for(const t of["equals","is"])nu.prototype[t]=nu.prototype.oneOf;for(const t of["not","nope"])nu.prototype[t]=nu.prototype.notOneOf;let o$e=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,l$e=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,c$e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,u$e=t=>Fd(t)||t===t.trim(),d$e={}.toString();function An(){return new Oee}class Oee extends nu{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const s=e!=null&&e.toString?e.toString():e;return s===d$e?e:s})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||ku.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Fc.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=Fc.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=Fc.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,s,i;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:s,name:i}=n:s=n),this.test({name:i||"matches",message:s||Fc.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=Fc.email){return this.matches(o$e,{name:"email",message:e,excludeEmptyString:!0})}url(e=Fc.url){return this.matches(l$e,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Fc.uuid){return this.matches(c$e,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Fc.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:u$e})}lowercase(e=Fc.lowercase){return this.transform(n=>Fd(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Fd(n)||n===n.toLowerCase()})}uppercase(e=Fc.uppercase){return this.transform(n=>Fd(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Fd(n)||n===n.toUpperCase()})}}An.prototype=Oee.prototype;let h$e=t=>t!=+t;function Kc(){return new Ree}class Ree extends nu{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!h$e(e)}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce)return e;let s=e;if(typeof s=="string"){if(s=s.replace(/\s/g,""),s==="")return NaN;s=+s}return r.isType(s)||s===null?s:parseFloat(s)})})}min(e,n=Gh.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=Gh.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=Gh.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=Gh.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=Gh.positive){return this.moreThan(0,e)}negative(e=Gh.negative){return this.lessThan(0,e)}integer(e=Gh.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>Fd(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(s=>Fd(s)?s:Math[e](s))}}Kc.prototype=Ree.prototype;const f$e=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Ed(t,e=0){return Number(t)||e}function m$e(t){const e=f$e.exec(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;const n={year:Ed(e[1]),month:Ed(e[2],1)-1,day:Ed(e[3],1),hour:Ed(e[4]),minute:Ed(e[5]),second:Ed(e[6]),millisecond:e[7]?Ed(e[7].substring(0,3)):0,z:e[8]||void 0,plusMinus:e[9]||void 0,hourOffset:Ed(e[10]),minuteOffset:Ed(e[11])};if(n.z===void 0&&n.plusMinus===void 0)return new Date(n.year,n.month,n.day,n.hour,n.minute,n.second,n.millisecond).valueOf();let r=0;return n.z!=="Z"&&n.plusMinus!==void 0&&(r=n.hourOffset*60+n.minuteOffset,n.plusMinus==="+"&&(r=0-r)),Date.UTC(n.year,n.month,n.day,n.hour,n.minute+r,n.second,n.millisecond)}let p$e=new Date(""),g$e=t=>Object.prototype.toString.call(t)==="[object Date]";class FF extends nu{constructor(){super({type:"date",check(e){return g$e(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=m$e(e),isNaN(e)?FF.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(hg.isRef(e))r=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=s}return r}min(e,n=oL.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(r)}})}max(e,n=oL.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(r)}})}}FF.INVALID_DATE=p$e;function y$e(t,e=[]){let n=[],r=new Set,s=new Set(e.map(([o,l])=>`${o}-${l}`));function i(o,l){let c=Sp.split(o)[0];r.add(c),s.has(`${l}-${c}`)||n.push([l,c])}for(const o of Object.keys(t)){let l=t[o];r.add(o),hg.isRef(l)&&l.isSibling?i(l.path,o):$F(l)&&"deps"in l&&l.deps.forEach(c=>i(c,o))}return KMe.array(Array.from(r),n).reverse()}function k6(t,e){let n=1/0;return t.some((r,s)=>{var i;if((i=e.path)!=null&&i.includes(r))return n=s,!0}),n}function Pee(t){return(e,n)=>k6(t,e)-k6(t,n)}const v$e=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function Kj(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=Kj(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Kj(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Kj)}):"optional"in t?t.optional():t}const b$e=(t,e)=>{const n=[...Sp.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),s=Sp.getter(Sp.join(n),!0)(t);return!!(s&&r in s)};let O6=t=>Object.prototype.toString.call(t)==="[object Object]";function _$e(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const w$e=Pee([]);function Ma(t){return new Dee(t)}class Dee extends nu{constructor(e){super({type:"object",check(n){return O6(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=w$e,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let s=super._cast(e,n);if(s===void 0)return this.getDefault(n);if(!this._typeCheck(s))return s;let i=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(s).filter(h=>!this._nodes.includes(h))),c={},u=Object.assign({},n,{parent:c,__validating:n.__validating||!1}),d=!1;for(const h of l){let m=i[h],p=h in s;if(m){let y,w=s[h];u.path=(n.path?`${n.path}.`:"")+h,m=m.resolve({value:w,context:n.context,parent:c});let v=m instanceof nu?m.spec:void 0,x=v==null?void 0:v.strict;if(v!=null&&v.strip){d=d||h in s;continue}y=!n.__validating||!x?m.cast(s[h],u):s[h],y!==void 0&&(c[h]=y)}else p&&!o&&(c[h]=s[h]);(p!==h in c||c[h]!==s[h])&&(d=!0)}return d?c:s}_validate(e,n={},r,s){let{from:i=[],originalValue:o=e,recursive:l=this.spec.recursive}=n;n.from=[{schema:this,value:o},...i],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(c,u)=>{if(!l||!O6(u)){s(c,u);return}o=o||u;let d=[];for(let h of this._nodes){let m=this.fields[h];!m||hg.isRef(m)||d.push(m.asNestedTest({options:n,key:h,parent:u,parentPath:n.path,originalParent:o}))}this.runTests({tests:d,value:u,originalValue:o,options:n},r,h=>{s(h.sort(this._sortErrors).concat(c),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[s,i]of Object.entries(this.fields)){const o=r[s];r[s]=o===void 0?i:o}return n.withMutation(s=>s.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var s;const i=this.fields[r];let o=e;(s=o)!=null&&s.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=i&&"getDefault"in i?i.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=y$e(e,n),r._sortErrors=Pee(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let s=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),s=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),s)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Kj(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,s])=>e.includes(r)&&e.includes(s)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let s=Sp.getter(e,!0);return this.transform(i=>{if(!i)return i;let o=i;return b$e(i,e)&&(o=Object.assign({},i),r||delete o[e],o[n]=s(i)),o})}json(){return this.transform(v$e)}noUnknown(e=!0,n=lL.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(s){if(s==null)return!0;const i=_$e(this.schema,s);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=lL.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const s of Object.keys(n))r[e(s)]=n[s];return r})}camelCase(){return this.transformKeys(KO.camelCase)}snakeCase(){return this.transformKeys(KO.snakeCase)}constantCase(){return this.transformKeys(e=>KO.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[i,o]of Object.entries(n.fields)){var s;let l=e;(s=l)!=null&&s.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[i]})),r.fields[i]=o.describe(l)}return r}}Ma.prototype=Dee.prototype;const x$e=()=>{const t=as(),[e,n]=C.useState(!1),[r,s]=C.useState(""),[i,o]=C.useState(""),l=Yo({initialValues:{name:"",symbol:"",description:"",is_active:!0},validationSchema:Ma({name:An().required("   ").min(2,"    2  ").max(50,"     50  "),symbol:An().required("  ").min(1,"   1  ").max(10,"    10  "),description:An().max(500,"    500  ")}),onSubmit:async c=>{var u,d,h;s(""),o(""),n(!0);try{if(((await cn("/product-units")).docs||[]).some(v=>{const x=v.name.trim().toLowerCase()===c.name.trim().toLowerCase(),_=v.symbol.trim().toLowerCase()===c.symbol.trim().toLowerCase();return x||_})){s("        ."),n(!1);return}const y={name:c.name,symbol:c.symbol,description:c.description||"",is_active:c.is_active},w=await os("/product-units",y);w&&w.success!==!1?(o("     "),setTimeout(()=>{l.resetForm(),o("")},1500)):s("   ")}catch(m){((u=m.response)==null?void 0:u.status)===400?s(((d=m.response.data)==null?void 0:d.message)||"   ."):((h=m.response)==null?void 0:h.status)===409?s("     ."):s("   ")}n(!1)}});return a.jsx(oe.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsxs("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:[a.jsx("h4",{className:"mb-sm-0 font-size-18",children:"  "}),a.jsx("div",{className:"page-title-right",children:a.jsxs("ol",{className:"breadcrumb m-0",children:[a.jsx("li",{className:"breadcrumb-item",children:a.jsx("a",{href:"/dashboard",children:""})}),a.jsx("li",{className:"breadcrumb-item",children:a.jsx("a",{href:"/inventory/unit-list",children:" "})}),a.jsx("li",{className:"breadcrumb-item active",children:" "})]})})]}),a.jsx(ge,{children:a.jsx($,{lg:8,className:"mx-auto",children:a.jsx(dt,{children:a.jsxs(ht,{children:[r&&a.jsx(kn,{color:"danger",toggle:()=>s(""),children:r}),i&&a.jsx(kn,{color:"success",toggle:()=>o(""),children:i}),a.jsxs(oo,{onSubmit:l.handleSubmit,children:[a.jsxs(ge,{children:[a.jsx($,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:"  *"}),a.jsx(re,{name:"name",value:l.values.name,onChange:l.handleChange,onBlur:l.handleBlur,invalid:l.touched.name&&!!l.errors.name,placeholder:": "}),a.jsx(Kt,{children:l.errors.name})]})}),a.jsx($,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:" *"}),a.jsx(re,{name:"symbol",value:l.values.symbol,onChange:l.handleChange,onBlur:l.handleBlur,invalid:l.touched.symbol&&!!l.errors.symbol,placeholder:"kg"}),a.jsx(Kt,{children:l.errors.symbol})]})})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:""}),a.jsx(re,{type:"textarea",name:"description",rows:"3",value:l.values.description,onChange:l.handleChange,placeholder:" ..."})]}),a.jsxs("div",{className:"form-check form-switch mb-4",children:[a.jsx(re,{type:"checkbox",name:"is_active",checked:l.values.is_active,onChange:l.handleChange}),a.jsx(X,{className:"form-check-label",children:"  "})]}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(me,{type:"submit",color:"primary",disabled:e,children:e?a.jsx(pn,{size:"sm"}):" "}),a.jsx(me,{type:"button",color:"secondary",onClick:()=>t("/inventory/unit-list"),children:""})]})]})]})})})})]})})})},E$e=()=>{const{id:t}=lu(),e=as(),[n,r]=C.useState(!0),[s,i]=C.useState(!1),[o,l]=C.useState(""),[c,u]=C.useState(""),[d,h]=C.useState({name:"",symbol:"",description:"",is_active:!0}),m=async()=>{var y;r(!0),l("");try{const w=await cn(`/product-units/${t}`);h({name:w.name||"",symbol:w.symbol||"",description:w.description||"",is_active:w.is_active===!0})}catch(w){((y=w.response)==null?void 0:y.status)===404?l("    ."):l("    .")}r(!1)};C.useEffect(()=>{t&&m()},[t]);const p=Yo({enableReinitialize:!0,initialValues:d,validationSchema:Ma({name:An().required("   "),symbol:An().required("  ")}),onSubmit:async y=>{var w;i(!0),l(""),u("");try{if((await cn("/product-units")||[]).some(T=>{if(T.id===Number(t))return!1;const N=T.name.trim().toLowerCase()===y.name.trim().toLowerCase(),D=T.symbol.trim().toLowerCase()===y.symbol.trim().toLowerCase();return N||D})){l("        ."),i(!1);return}const _={name:y.name,symbol:y.symbol,description:y.description,is_active:y.is_active},E=await ch(`/product-units/${t}`,_);E!=null&&E.id?(u("    ."),setTimeout(()=>e("/inventory/unit-list"),1200)):l("   .")}catch(v){((w=v.response)==null?void 0:w.status)===404?l("    ."):l("   .")}i(!1)}});return n?a.jsx("div",{className:"page-content",children:a.jsx(gn,{fluid:!0,children:a.jsx(ge,{children:a.jsx($,{lg:8,className:"mx-auto",children:a.jsx(dt,{children:a.jsxs(ht,{className:"text-center py-5",children:[a.jsx(pn,{color:"primary"}),a.jsx("div",{className:"mt-3",children:a.jsx("h5",{className:"text-muted",children:"  ..."})})]})})})})})}):a.jsx(oe.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsx("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:a.jsx("h4",{className:"mb-sm-0 font-size-18",children:"  "})}),a.jsx(ge,{children:a.jsx($,{lg:8,className:"mx-auto",children:a.jsx(dt,{children:a.jsxs(ht,{children:[a.jsx("h4",{className:"card-title mb-4",children:" "}),o&&a.jsxs(kn,{color:"danger",className:"alert-dismissible fade show",children:[o,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>l("")})]}),c&&a.jsxs(kn,{color:"success",className:"alert-dismissible fade show",children:[c,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>u("")})]}),a.jsxs(oo,{onSubmit:y=>{y.preventDefault(),p.handleSubmit()},children:[a.jsxs(ge,{children:[a.jsx($,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{htmlFor:"name",children:" "}),a.jsx(re,{id:"name",name:"name",type:"text",value:p.values.name,onChange:p.handleChange,onBlur:p.handleBlur,invalid:p.touched.name&&!!p.errors.name,disabled:s}),a.jsx(Kt,{children:p.errors.name})]})}),a.jsx($,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{htmlFor:"symbol",children:""}),a.jsx(re,{id:"symbol",name:"symbol",type:"text",value:p.values.symbol,onChange:p.handleChange,onBlur:p.handleBlur,invalid:p.touched.symbol&&!!p.errors.symbol,disabled:s}),a.jsx(Kt,{children:p.errors.symbol})]})})]}),a.jsx(ge,{children:a.jsx($,{md:12,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{htmlFor:"description",children:""}),a.jsx(re,{id:"description",name:"description",type:"textarea",rows:"3",value:p.values.description,onChange:p.handleChange,disabled:s})]})})}),a.jsx(ge,{children:a.jsx($,{md:12,children:a.jsxs("div",{className:"form-check form-switch mb-4",children:[a.jsx(re,{id:"is_active",name:"is_active",type:"checkbox",className:"form-check-input",checked:p.values.is_active,onChange:p.handleChange,disabled:s}),a.jsx(X,{className:"form-check-label",htmlFor:"is_active",children:" "})]})})}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(me,{type:"submit",color:"primary",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(pn,{size:"sm",className:"me-2"}),"..."]}):" "}),a.jsx(me,{type:"button",color:"secondary",onClick:()=>e("/inventory/unit-list"),disabled:s,children:""})]})]})]})})})})]})})})},S$e=()=>{const[t,e]=C.useState([]),[n,r]=C.useState([]),[s,i]=C.useState(!0),[o,l]=C.useState(""),[c,u]=C.useState(""),[d,h]=C.useState(""),m=async()=>{i(!0),l("");try{const w=await cn("/product-categories"),v=(w==null?void 0:w.data)||[];e(v),r(v)}catch{l("    ")}i(!1)};C.useEffect(()=>{m()},[]),C.useEffect(()=>{if(!d.trim()){r(t);return}const w=d.toLowerCase(),v=t.filter(x=>(x.name||"").toLowerCase().includes(w)||(x.slug||"").toLowerCase().includes(w));r(v)},[d,t]);const p=async(w,v)=>{var x;if(window.confirm(`    "${v}"  `))try{await Fa(`/product-categories/${w}`),e(_=>_.filter(E=>E.id!==w)),r(_=>_.filter(E=>E.id!==w)),u(` "${v}"    `),setTimeout(()=>u(""),3e3)}catch(_){const E=(x=_.response)==null?void 0:x.status;l(E===409?"         .":E===404?"    .":"   ")}},y=w=>{if(!w)return"-";const v=t.find(x=>x.id===w);return v?v.name:"-"};return a.jsx(oe.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsxs("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:[a.jsx("h4",{className:"mb-sm-0 font-size-18",children:" "}),a.jsx("div",{className:"page-title-right",children:a.jsxs("ol",{className:"breadcrumb m-0",children:[a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Le,{to:"/dashboard",children:""})}),a.jsx("li",{className:"breadcrumb-item active",children:""})]})})]}),a.jsx(ge,{children:a.jsx($,{lg:12,children:a.jsx(dt,{children:a.jsxs(ht,{children:[a.jsxs("div",{className:"d-flex flex-wrap align-items-center justify-content-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"card-title mb-1",children:"  "}),a.jsx("p",{className:"card-title-desc mb-0",children:"   "})]}),a.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[a.jsxs(me,{color:"light",onClick:m,disabled:s,children:[a.jsx("i",{className:"bx bx-refresh me-1"}),""]}),a.jsxs(Le,{to:"/inventory/add-category",className:"btn btn-success",children:[a.jsx("i",{className:"bx bx-plus-circle me-1"}),"  "]})]})]}),o&&a.jsxs(kn,{color:"danger",className:"alert-dismissible fade show",children:[o,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>l("")})]}),c&&a.jsxs(kn,{color:"success",className:"alert-dismissible fade show",children:[c,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>u("")})]}),!s&&t.length>0&&a.jsxs(ge,{className:"mb-3",children:[a.jsx($,{md:6,children:a.jsx("div",{className:"search-box",children:a.jsxs("div",{className:"position-relative",children:[a.jsx(re,{type:"text",className:"form-control",placeholder:"     ...",value:d,onChange:w=>h(w.target.value)}),a.jsx("i",{className:"bx bx-search-alt search-icon"})]})})}),a.jsx($,{md:6,className:"text-end",children:a.jsxs("div",{className:"text-muted",children:[" :"," ",a.jsx("strong",{children:t.length})," ",d&&a.jsxs(a.Fragment,{children:[" ","|  :"," ",a.jsx("strong",{children:n.length})]})]})})]}),s?a.jsxs("div",{className:"text-center py-5",children:[a.jsx(pn,{}),a.jsx("div",{className:"mt-3 text-muted",children:"  ..."})]}):t.length===0?a.jsxs("div",{className:"text-center py-5",children:[a.jsx("h5",{className:"text-muted",children:"    "}),a.jsx(Le,{to:"/inventory/add-category",className:"btn btn-success mt-2",children:"  "})]}):n.length===0?a.jsxs("div",{className:"text-center py-5",children:[a.jsx("h5",{className:"text-muted",children:"  "}),a.jsx(me,{color:"light",onClick:()=>h(""),children:"  "})]}):a.jsx("div",{className:"table-responsive",children:a.jsxs(Mn,{className:"table table-hover table-nowrap align-middle mb-0",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"60px"},children:"#"}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{style:{width:"150px"},children:""})]})}),a.jsx("tbody",{children:n.map((w,v)=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("div",{className:"avatar-xs",children:a.jsx("span",{className:"avatar-title rounded-circle bg-soft-primary text-primary",children:v+1})})}),a.jsx("td",{children:w.name}),a.jsx("td",{children:a.jsx(ut,{color:"info",className:"badge-soft-info",pill:!0,children:w.slug})}),a.jsx("td",{className:"text-muted",children:y(w.parent_id)}),a.jsx("td",{children:w.is_active?a.jsx(ut,{color:"success",className:"badge-soft-success",children:""}):a.jsx(ut,{color:"secondary",className:"badge-soft-secondary",children:""})}),a.jsx("td",{children:a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(Le,{to:`/inventory/edit-category/${w.id}`,className:"btn btn-sm btn-soft-primary",children:a.jsx("i",{className:"bx bx-edit-alt"})}),a.jsx(me,{size:"sm",color:"soft-danger",onClick:()=>p(w.id,w.name),children:a.jsx("i",{className:"bx bx-trash"})})]})})]},w.id))})]})})]})})})})]})})})},j$e=()=>{const t=as(),[e,n]=C.useState(!1),[r,s]=C.useState(!0),[i,o]=C.useState(""),[l,c]=C.useState(""),[u,d]=C.useState([]);C.useEffect(()=>{async function p(){try{const y=await cn("/product-categories");d((y==null?void 0:y.data)||[])}catch(y){console.error(" Error loading categories:",y)}s(!1)}p()},[]);const h=Yo({initialValues:{name:"",slug:"",parent_id:"",description:"",is_active:!0,storage_cost:"",loading_cost:""},validationSchema:Ma({name:An().required("   ").min(2," 2 "),slug:An().required("  ").matches(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"           "),storage_cost:Kc().nullable().typeError("   ").min(0,"  "),loading_cost:Kc().nullable().typeError("   ").min(0,"  ")}),onSubmit:async p=>{var y,w;o(""),c(""),n(!0);try{if(((await cn("/product-categories")).data||[]).some(N=>{const D=N.name.trim().toLowerCase()===p.name.trim().toLowerCase(),O=N.slug.trim().toLowerCase()===p.slug.trim().toLowerCase();return D||O})){o("       ."),n(!1);return}const E={name:p.name,slug:p.slug,parent_id:p.parent_id?Number(p.parent_id):null,description:p.description||"",is_active:p.is_active,storage_cost:p.storage_cost?Number(p.storage_cost):null,loading_cost:p.loading_cost?Number(p.loading_cost):null},T=await os("/product-categories",E);T!=null&&T.success?(c("    "),setTimeout(()=>{h.resetForm(),c("")},1500)):o((T==null?void 0:T.message)||"   ")}catch(v){console.error(" Create error:",v),o(((w=(y=v.response)==null?void 0:y.data)==null?void 0:w.message)||"   ")}n(!1)}}),m=p=>p.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");return a.jsx(oe.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsxs("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:[a.jsx("h4",{className:"mb-sm-0 font-size-18",children:"  "}),a.jsx("div",{className:"page-title-right",children:a.jsxs("ol",{className:"breadcrumb m-0",children:[a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Le,{to:"/dashboard",children:""})}),a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Le,{to:"/inventory/category-list",children:""})}),a.jsx("li",{className:"breadcrumb-item active",children:" "})]})})]}),a.jsx(ge,{children:a.jsx($,{lg:8,className:"mx-auto",children:a.jsx(dt,{children:a.jsxs(ht,{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"card-title",children:" "}),a.jsx("p",{className:"card-title-desc",children:"      "})]}),i&&a.jsxs(kn,{color:"danger",className:"alert-dismissible fade show",children:[i,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>o("")})]}),l&&a.jsxs(kn,{color:"success",className:"alert-dismissible fade show",children:[l,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>c("")})]}),a.jsxs(oo,{onSubmit:h.handleSubmit,children:[a.jsxs(ge,{children:[a.jsx($,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:"  *"}),a.jsx(re,{name:"name",type:"text",placeholder:": ",value:h.values.name,onChange:p=>{h.handleChange(p),h.setFieldValue("slug",m(p.target.value))},invalid:h.touched.name&&!!h.errors.name}),a.jsx(Kt,{children:h.errors.name})]})}),a.jsx($,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:" (Slug) *"}),a.jsx(re,{name:"slug",type:"text",placeholder:"steel",value:h.values.slug,onChange:h.handleChange,invalid:h.touched.slug&&!!h.errors.slug}),a.jsx(Kt,{children:h.errors.slug})]})})]}),a.jsx(ge,{children:a.jsx($,{md:12,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:" "}),r?a.jsx(pn,{size:"sm"}):a.jsxs(re,{name:"parent_id",type:"select",value:h.values.parent_id,onChange:h.handleChange,children:[a.jsx("option",{value:"",children:"  ( )"}),u.map(p=>a.jsx("option",{value:p.id,children:p.name},p.id))]})]})})}),a.jsx(ge,{children:a.jsx($,{md:12,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:""}),a.jsx(re,{name:"description",type:"textarea",rows:"4",value:h.values.description,onChange:h.handleChange})]})})}),a.jsxs(ge,{children:[a.jsx($,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{name:"storage_cost",type:"number",placeholder:" 5000",value:h.values.storage_cost,onChange:h.handleChange,invalid:h.touched.storage_cost&&!!h.errors.storage_cost}),a.jsx(Kt,{children:h.errors.storage_cost})]})}),a.jsx($,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{name:"loading_cost",type:"number",placeholder:" 20000",value:h.values.loading_cost,onChange:h.handleChange,invalid:h.touched.loading_cost&&!!h.errors.loading_cost}),a.jsx(Kt,{children:h.errors.loading_cost})]})})]}),a.jsx(ge,{children:a.jsx($,{md:12,children:a.jsxs("div",{className:"form-check form-switch mb-4",children:[a.jsx(re,{type:"checkbox",name:"is_active",className:"form-check-input",checked:h.values.is_active,onChange:h.handleChange}),a.jsx(X,{className:"form-check-label",children:"  "})]})})}),a.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[a.jsx(me,{type:"submit",color:"primary",disabled:e,children:e?a.jsxs(a.Fragment,{children:[a.jsx(pn,{size:"sm",className:"me-2"}),"  ..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bx bx-check-double me-1"})," "]})}),a.jsx(me,{type:"button",color:"light",onClick:()=>h.resetForm(),disabled:e,children:"  "}),a.jsx(me,{type:"button",color:"secondary",onClick:()=>t("/inventory/category-list"),children:""})]})]})]})})})})]})})})},T$e=()=>{const{id:t}=lu(),e=as(),[n,r]=C.useState(!0),[s,i]=C.useState(!1),[o,l]=C.useState(!0),[c,u]=C.useState(""),[d,h]=C.useState(""),[m,p]=C.useState([]),[y,w]=C.useState({name:"",slug:"",parent_id:"",description:"",is_active:!0,storage_cost:"",loading_cost:""});C.useEffect(()=>{async function _(){try{const E=await cn("/product-categories");p((E==null?void 0:E.data)||[])}catch(E){console.error(" Load categories error:",E)}l(!1)}_()},[]);const v=async()=>{r(!0);try{const _=await cn(`/product-categories/${t}`);if(!(_!=null&&_.data)){u("  ."),r(!1);return}const E=_.data;w({name:E.name||"",slug:E.slug||"",parent_id:E.parent_id||"",description:E.description||"",is_active:E.is_active??!0,storage_cost:E.storage_cost??"",loading_cost:E.loading_cost??""})}catch(_){console.error(" Load category error:",_),u("    ")}r(!1)};C.useEffect(()=>{v()},[t]);const x=Yo({enableReinitialize:!0,initialValues:y,validationSchema:Ma({name:An().required("   ").min(2),slug:An().required("  ").matches(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"  ")}),onSubmit:async _=>{var E,T;u(""),h(""),i(!0);try{if(((await cn("/product-categories")).data||[]).some(z=>z.id===Number(t)?!1:z.name.trim().toLowerCase()===_.name.trim().toLowerCase()||z.slug.trim().toLowerCase()===_.slug.trim().toLowerCase())){u("        ."),i(!1);return}const F={name:_.name,slug:_.slug,parent_id:_.parent_id?Number(_.parent_id):null,description:_.description||"",is_active:_.is_active,storage_cost:_.storage_cost?Number(_.storage_cost):null,loading_cost:_.loading_cost?Number(_.loading_cost):null},V=await DD(`/product-categories/${t}`,F);V!=null&&V.success?(h("    "),setTimeout(()=>e("/inventory/category-list"),1200)):u((V==null?void 0:V.message)||"   ")}catch(N){console.error(" Update error:",N),u(((T=(E=N.response)==null?void 0:E.data)==null?void 0:T.message)||"   ")}i(!1)}});return n?a.jsx("div",{className:"page-content",children:a.jsx(gn,{fluid:!0,children:a.jsx(ge,{children:a.jsx($,{lg:8,className:"mx-auto",children:a.jsx(dt,{children:a.jsxs(ht,{className:"text-center py-5",children:[a.jsx(pn,{}),a.jsx("div",{className:"mt-3 text-muted",children:"  ..."})]})})})})})}):a.jsx(oe.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsxs("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:[a.jsx("h4",{className:"mb-sm-0 font-size-18",children:" "}),a.jsx("div",{className:"page-title-right",children:a.jsxs("ol",{className:"breadcrumb m-0",children:[a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Le,{to:"/dashboard",children:""})}),a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Le,{to:"/inventory/category-list",children:""})}),a.jsx("li",{className:"breadcrumb-item active",children:""})]})})]}),a.jsx(ge,{children:a.jsx($,{lg:8,className:"mx-auto",children:a.jsx(dt,{children:a.jsxs(ht,{children:[c&&a.jsx(kn,{color:"danger",toggle:()=>u(""),children:c}),d&&a.jsx(kn,{color:"success",toggle:()=>h(""),children:d}),a.jsxs(oo,{onSubmit:x.handleSubmit,children:[a.jsxs(ge,{children:[a.jsx($,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:"*"}),a.jsx(re,{name:"name",value:x.values.name,onChange:x.handleChange,invalid:x.touched.name&&!!x.errors.name}),a.jsx(Kt,{children:x.errors.name})]})}),a.jsx($,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:"*"}),a.jsx(re,{name:"slug",value:x.values.slug,onChange:x.handleChange,invalid:x.touched.slug&&!!x.errors.slug}),a.jsx(Kt,{children:x.errors.slug})]})})]}),a.jsx(ge,{children:a.jsx($,{md:12,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:" "}),o?a.jsx(pn,{size:"sm"}):a.jsxs(re,{name:"parent_id",type:"select",value:x.values.parent_id,onChange:x.handleChange,children:[a.jsx("option",{value:"",children:" "}),m.filter(_=>_.id!==Number(t)).map(_=>a.jsx("option",{value:_.id,children:_.name},_.id))]})]})})}),a.jsx(ge,{children:a.jsx($,{md:12,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:""}),a.jsx(re,{type:"textarea",name:"description",rows:"3",value:x.values.description,onChange:x.handleChange})]})})}),a.jsxs(ge,{children:[a.jsx($,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{type:"number",name:"storage_cost",value:x.values.storage_cost,onChange:x.handleChange,invalid:x.touched.storage_cost&&!!x.errors.storage_cost}),a.jsx(Kt,{children:x.errors.storage_cost})]})}),a.jsx($,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{type:"number",name:"loading_cost",value:x.values.loading_cost,onChange:x.handleChange,invalid:x.touched.loading_cost&&!!x.errors.loading_cost}),a.jsx(Kt,{children:x.errors.loading_cost})]})})]}),a.jsx(ge,{children:a.jsx($,{md:12,children:a.jsxs("div",{className:"form-check form-switch mb-4",children:[a.jsx(re,{type:"checkbox",name:"is_active",className:"form-check-input",checked:x.values.is_active,onChange:x.handleChange}),a.jsx(X,{className:"form-check-label",children:" "})]})})}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(me,{type:"submit",color:"primary",disabled:s,children:s?"  ...":" "}),a.jsx(me,{color:"secondary",disabled:s,onClick:()=>e("/inventory/category-list"),children:""})]})]})]})})})})]})})})},Lee="/products",C$e=async()=>(await cn(Lee)).data,A$e=async t=>await Fa(`${Lee}/${t}`),N$e=()=>{const[t,e]=C.useState([]),[n,r]=C.useState([]),[s,i]=C.useState(!0),[o,l]=C.useState(""),[c,u]=C.useState(""),[d,h]=C.useState(""),m=async()=>{i(!0),l("");try{const v=await C$e(),x=Array.isArray(v)?v:v.data||[];e(x),r(x)}catch(v){console.error(v),l(v.message||"    ")}finally{i(!1)}};C.useEffect(()=>{m()},[]),C.useEffect(()=>{if(!d.trim()){r(t);return}const v=d.toLowerCase(),x=t.filter(_=>{var N,D,O,F,V;const E=((N=_.category)==null?void 0:N.name)||"",T=((D=_.unit)==null?void 0:D.name)||"";return((O=_.name)==null?void 0:O.toLowerCase().includes(v))||((F=_.sku)==null?void 0:F.toLowerCase().includes(v))||((V=_.barcode)==null?void 0:V.toLowerCase().includes(v))||E.toLowerCase().includes(v)||T.toLowerCase().includes(v)});r(x)},[d,t]);const p=async(v,x)=>{if(window.confirm(`   "${x}"  `))try{await A$e(v),e(_=>_.filter(E=>E.id!==v)),r(_=>_.filter(E=>E.id!==v)),u(` "${x}"  .`),setTimeout(()=>u(""),2500)}catch(_){console.error(_),_.message&&_.message.includes("violates foreign key")?l("         ."):l("   : "+_.message)}},y=v=>{var x;return((x=v.category)==null?void 0:x.name)||"-"},w=v=>{var x;return((x=v.unit)==null?void 0:x.name)||"-"};return a.jsx(oe.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsxs("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:[a.jsx("h4",{className:"mb-sm-0 font-size-18",children:" "}),a.jsx("div",{className:"page-title-right",children:a.jsxs("ol",{className:"breadcrumb m-0",children:[a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Le,{to:"/dashboard",children:""})}),a.jsx("li",{className:"breadcrumb-item active",children:" "})]})})]}),a.jsx(ge,{children:a.jsx($,{lg:12,children:a.jsx(dt,{children:a.jsxs(ht,{children:[a.jsxs("div",{className:"d-flex flex-wrap align-items-center justify-content-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"card-title mb-1",children:" "}),a.jsx("p",{className:"card-title-desc mb-0 text-muted",children:"   "})]}),a.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[a.jsxs(me,{color:"light",onClick:m,disabled:s,children:[a.jsx("i",{className:`bx bx-refresh me-1 ${s?"bx-spin":""}`}),""]}),a.jsxs(Le,{to:"/inventory/add-product",className:"btn btn-primary",children:[a.jsx("i",{className:"bx bx-plus me-1"}),"  "]})]})]}),o&&a.jsx(kn,{color:"danger",toggle:()=>l(""),children:o}),c&&a.jsx(kn,{color:"success",toggle:()=>u(""),children:c}),!s&&t.length>0&&a.jsxs(ge,{className:"mb-3",children:[a.jsx($,{md:5,children:a.jsx("div",{className:"search-box",children:a.jsxs("div",{className:"position-relative",children:[a.jsx(re,{type:"text",className:"form-control rounded-pill",placeholder:" (  ...)",value:d,onChange:v=>h(v.target.value)}),a.jsx("i",{className:"bx bx-search-alt search-icon"})]})})}),a.jsx($,{md:7,className:"text-end align-self-center",children:a.jsxs("div",{className:"text-muted font-size-12",children:[" : ",a.jsx("strong",{children:t.length})]})})]}),s?a.jsxs("div",{className:"text-center py-5",children:[a.jsx(pn,{color:"primary",type:"grow"}),a.jsx("h5",{className:"mt-3 text-muted",children:"   ..."})]}):n.length===0?a.jsxs("div",{className:"text-center py-5",children:[a.jsx("div",{className:"avatar-md mx-auto mb-3",children:a.jsx("span",{className:"avatar-title rounded-circle bg-light text-secondary font-size-24",children:a.jsx("i",{className:"bx bx-box"})})}),a.jsx("h5",{className:"text-muted",children:"  "})]}):a.jsx("div",{className:"table-responsive",children:a.jsxs(Mn,{className:"table table-hover align-middle table-nowrap",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"60px"},children:"#"}),a.jsx("th",{children:" "}),a.jsx("th",{children:"SKU / "}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:n.map((v,x)=>a.jsxs("tr",{children:[a.jsx("td",{children:x+1}),a.jsxs("td",{children:[a.jsx("h5",{className:"font-size-14 text-truncate mb-1",children:a.jsx(Le,{to:`/inventory/edit-product/${v.id}`,className:"text-dark fw-bold",children:v.name})}),v.barcode&&a.jsxs("small",{className:"text-muted",children:[a.jsx("i",{className:"bx bx-barcode me-1"}),v.barcode]})]}),a.jsx("td",{children:a.jsx(ut,{className:"bg-light text-dark font-size-12 border",children:v.sku})}),a.jsx("td",{children:y(v)}),a.jsx("td",{children:w(v)}),a.jsx("td",{children:a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(Le,{to:`/inventory/edit-product/${v.id}`,className:"btn btn-sm btn-soft-primary",title:"",children:a.jsx("i",{className:"bx bx-edit-alt font-size-15"})}),a.jsx(me,{size:"sm",color:"soft-danger",onClick:()=>p(v.id,v.name),title:"",children:a.jsx("i",{className:"bx bx-trash font-size-15"})})]})})]},v.id))})]})})]})})})})]})})})},I$e=()=>{const t=as(),[e,n]=C.useState(!1),[r,s]=C.useState(!0),[i,o]=C.useState(""),[l,c]=C.useState(""),[u,d]=C.useState([]),[h,m]=C.useState([]),p=JSON.parse(localStorage.getItem("user")||"{}");C.useEffect(()=>{async function w(){s(!0),o("");try{const[v,x]=await Promise.all([cn("/product-units"),cn("/product-categories")]);console.log(" Units:",v),console.log(" Categories:",x);const _=(Array.isArray(v)?v:(v==null?void 0:v.data)||[]).sort((T,N)=>T.name.localeCompare(N.name,"fa")),E=(Array.isArray(x)?x:(x==null?void 0:x.data)||[]).sort((T,N)=>T.name.localeCompare(N.name,"fa"));d(_),m(E)}catch(v){console.error(" Error loading initial data:",v),o("     (  )")}s(!1)}w()},[]);const y=Yo({initialValues:{name:"",sku:"",category_id:"",unit_id:"",min_stock:"",max_stock:"",location:"",price:"",cost_price:"",barcode:"",batch_number:"",expire_date:"",description:"",specifications:"",is_active:!0,notes:""},validationSchema:Ma({name:An().required("   ").min(2,"    2  "),sku:An().required("  (SKU)  ").min(2,"    2  "),category_id:An().required("  "),unit_id:An().required("   "),price:Kc().nullable().typeError("   ").min(0,"   "),min_stock:Kc().nullable().typeError("    ").min(0,"    "),max_stock:Kc().nullable().typeError("    ").min(0,"    ")}),onSubmit:async w=>{var v,x;o(""),c(""),n(!0),console.log(" Creating new product with values:",w);try{const _=p.id?Number(p.id):null;if(!_){o(" :    .    ."),n(!1);return}const E=await cn("/products");if(((Array.isArray(E)?E:(E==null?void 0:E.data)||[])||[]).some(V=>(V.sku||"").trim().toLowerCase()===w.sku.trim().toLowerCase())){o("     (SKU)  ."),n(!1);return}const D={name:w.name,sku:w.sku,category_id:w.category_id?Number(w.category_id):null,unit_id:w.unit_id?Number(w.unit_id):null,min_stock:w.min_stock!==""&&w.min_stock!==null?Number(w.min_stock):0,max_stock:w.max_stock!==""&&w.max_stock!==null?Number(w.max_stock):null,location:w.location||null,price:w.price!==""&&w.price!==null?Number(w.price):null,cost_price:w.cost_price!==""&&w.cost_price!==null?Number(w.cost_price):null,barcode:w.barcode||null,batch_number:w.batch_number||null,expire_date:w.expire_date||null,description:w.description||null,specifications:w.specifications||null,is_active:w.is_active,notes:w.notes||null,member_id:_,owner_id:null};console.log(" Product payload:",D);const O=await os("/products",D),F=(O==null?void 0:O.data)||O;F!=null&&F.id||O.success?(c("       "),setTimeout(()=>{y.resetForm(),c(""),t("/inventory/product-list")},2e3)):(console.warn(" Unexpected create response:",O),o("   "))}catch(_){console.error(" Create product error:",_),o(((x=(v=_.response)==null?void 0:v.data)==null?void 0:x.message)||_.message||"   ")}n(!1)}});return r?a.jsx("div",{className:"page-content",children:a.jsx(gn,{fluid:!0,children:a.jsx(ge,{children:a.jsx($,{lg:10,className:"mx-auto",children:a.jsx(dt,{children:a.jsxs(ht,{className:"text-center py-5",children:[a.jsx(pn,{color:"primary"}),a.jsx("div",{className:"mt-3",children:a.jsx("h5",{className:"text-muted",children:"   ..."})})]})})})})})}):a.jsx(oe.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsxs("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:[a.jsx("h4",{className:"mb-sm-0 font-size-18",children:" "}),a.jsx("div",{className:"page-title-right",children:a.jsxs("ol",{className:"breadcrumb m-0",children:[a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Le,{to:"/dashboard",children:""})}),a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Le,{to:"/inventory/product-list",children:""})}),a.jsx("li",{className:"breadcrumb-item active",children:" "})]})})]}),a.jsx(ge,{children:a.jsx($,{lg:10,className:"mx-auto",children:a.jsx(dt,{children:a.jsxs(ht,{children:[a.jsxs("div",{className:"mb-4 d-flex align-items-center",children:[a.jsx("div",{className:"avatar-sm me-3",children:a.jsx("div",{className:"avatar-title rounded-circle bg-soft-primary text-primary font-size-20",children:a.jsx("i",{className:"bx bx-package"})})}),a.jsxs("div",{children:[a.jsx("h4",{className:"card-title mb-1",children:" "}),a.jsx("p",{className:"card-title-desc mb-0",children:"      "})]})]}),i&&a.jsxs(kn,{color:"danger",className:"alert-dismissible fade show",children:[a.jsx("i",{className:"mdi mdi-block-helper me-2"}),i,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>o("")})]}),l&&a.jsxs(kn,{color:"success",className:"alert-dismissible fade show",children:[a.jsx("i",{className:"mdi mdi-check-all me-2"}),l,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>c("")})]}),a.jsxs(oo,{onSubmit:w=>{w.preventDefault(),y.handleSubmit()},children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("h5",{className:"font-size-14 mb-3",children:[a.jsx("i",{className:"bx bx-info-circle me-1"})," "]}),a.jsxs(ge,{children:[a.jsx($,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsxs(X,{htmlFor:"name",className:"form-label",children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(re,{id:"name",name:"name",type:"text",placeholder:":    ",value:y.values.name,onChange:y.handleChange,onBlur:y.handleBlur,invalid:y.touched.name&&!!y.errors.name,disabled:e}),a.jsx(Kt,{children:y.errors.name})]})}),a.jsx($,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsxs(X,{htmlFor:"sku",className:"form-label",children:["  (SKU)"," ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(re,{id:"sku",name:"sku",type:"text",placeholder:": SKU-123",value:y.values.sku,onChange:y.handleChange,onBlur:y.handleBlur,invalid:y.touched.sku&&!!y.errors.sku,disabled:e}),a.jsx(Kt,{children:y.errors.sku})]})})]}),a.jsxs(ge,{children:[a.jsx($,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsxs(X,{htmlFor:"category_id",className:"form-label",children:[""," ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs(re,{id:"category_id",name:"category_id",type:"select",value:y.values.category_id,onChange:y.handleChange,onBlur:y.handleBlur,invalid:y.touched.category_id&&!!y.errors.category_id,disabled:e,children:[a.jsx("option",{value:"",children:" ..."}),h.map(w=>a.jsx("option",{value:w.id,children:w.name},w.id))]}),a.jsx(Kt,{children:y.errors.category_id})]})}),a.jsx($,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsxs(X,{htmlFor:"unit_id",className:"form-label",children:[" ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs(re,{id:"unit_id",name:"unit_id",type:"select",value:y.values.unit_id,onChange:y.handleChange,onBlur:y.handleBlur,invalid:y.touched.unit_id&&!!y.errors.unit_id,disabled:e,children:[a.jsx("option",{value:"",children:" ..."}),u.map(w=>a.jsxs("option",{value:w.id,children:[w.name," ",w.symbol?`(${w.symbol})`:""]},w.id))]}),a.jsx(Kt,{children:y.errors.unit_id})]})})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h5",{className:"font-size-14 mb-3",children:[a.jsx("i",{className:"bx bx-dollar-circle me-1"}),"   "]}),a.jsxs(ge,{children:[a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{htmlFor:"min_stock",className:"form-label",children:" "}),a.jsx(re,{id:"min_stock",name:"min_stock",type:"number",placeholder:" 0",value:y.values.min_stock,onChange:y.handleChange,onBlur:y.handleBlur,invalid:y.touched.min_stock&&!!y.errors.min_stock,disabled:e}),a.jsx(Kt,{children:y.errors.min_stock})]})}),a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{htmlFor:"max_stock",className:"form-label",children:" "}),a.jsx(re,{id:"max_stock",name:"max_stock",type:"number",placeholder:" 100",value:y.values.max_stock,onChange:y.handleChange,onBlur:y.handleBlur,invalid:y.touched.max_stock&&!!y.errors.max_stock,disabled:e}),a.jsx(Kt,{children:y.errors.max_stock})]})}),a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{htmlFor:"location",className:"form-label",children:"  "}),a.jsx(re,{id:"location",name:"location",type:"text",placeholder:"  A  3",value:y.values.location,onChange:y.handleChange,disabled:e})]})})]}),a.jsxs(ge,{children:[a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{htmlFor:"price",className:"form-label",children:"  ()"}),a.jsx(re,{id:"price",name:"price",type:"number",placeholder:" 45000",value:y.values.price,onChange:y.handleChange,onBlur:y.handleBlur,invalid:y.touched.price&&!!y.errors.price,disabled:e}),a.jsx(Kt,{children:y.errors.price})]})}),a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{htmlFor:"cost_price",className:"form-label",children:"  ()"}),a.jsx(re,{id:"cost_price",name:"cost_price",type:"number",placeholder:" 40000",value:y.values.cost_price,onChange:y.handleChange,disabled:e})]})}),a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{htmlFor:"expire_date",className:"form-label",children:" "}),a.jsx(re,{id:"expire_date",name:"expire_date",type:"date",value:y.values.expire_date,onChange:y.handleChange,disabled:e})]})})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h5",{className:"font-size-14 mb-3",children:[a.jsx("i",{className:"bx bx-barcode me-1"})," "]}),a.jsxs(ge,{children:[a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{htmlFor:"barcode",className:"form-label",children:""}),a.jsx(re,{id:"barcode",name:"barcode",type:"text",placeholder:"123456789",value:y.values.barcode,onChange:y.handleChange,disabled:e})]})}),a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{htmlFor:"batch_number",className:"form-label",children:"  /  "}),a.jsx(re,{id:"batch_number",name:"batch_number",type:"text",placeholder:"BATCH-2025-001",value:y.values.batch_number,onChange:y.handleChange,disabled:e})]})}),a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{htmlFor:"notes",className:"form-label",children:""}),a.jsx(re,{id:"notes",name:"notes",type:"text",placeholder:" ...",value:y.values.notes,onChange:y.handleChange,disabled:e})]})})]}),a.jsxs(ge,{children:[a.jsx($,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{htmlFor:"description",className:"form-label",children:""}),a.jsx(re,{id:"description",name:"description",type:"textarea",rows:"4",placeholder:"   ...",value:y.values.description,onChange:y.handleChange,disabled:e})]})}),a.jsx($,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{htmlFor:"specifications",className:"form-label",children:" "}),a.jsx(re,{id:"specifications",name:"specifications",type:"textarea",rows:"4",placeholder:"  ...",value:y.values.specifications,onChange:y.handleChange,disabled:e})]})})]})]}),a.jsx(ge,{children:a.jsx($,{md:12,children:a.jsxs("div",{className:"mb-4 form-check form-switch",children:[a.jsx(re,{id:"is_active",name:"is_active",type:"checkbox",className:"form-check-input",checked:y.values.is_active,onChange:y.handleChange,disabled:e}),a.jsx(X,{className:"form-check-label",htmlFor:"is_active",children:"  "})]})})}),a.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[a.jsx(me,{type:"submit",color:"primary",disabled:e,children:e?a.jsxs(a.Fragment,{children:[a.jsx(pn,{size:"sm",className:"me-2"}),"  ..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bx bx-check-double me-1"})," "]})}),a.jsxs(me,{type:"button",color:"light",disabled:e,onClick:()=>{y.resetForm(),o(""),c("")},children:[a.jsx("i",{className:"bx bx-refresh me-1"}),"  "]}),a.jsxs(me,{type:"button",color:"secondary",onClick:()=>t("/inventory/product-list"),disabled:e,children:[a.jsx("i",{className:"bx bx-arrow-back me-1"}),"  "]})]})]})]})})})})]})})})},k$e=()=>{const{id:t}=lu(),e=as(),[n,r]=C.useState(!0),[s,i]=C.useState(!1),[o,l]=C.useState(""),[c,u]=C.useState(""),[d,h]=C.useState([]),[m,p]=C.useState([]),[y,w]=C.useState({name:"",sku:"",category_id:"",unit_id:"",min_stock:"",max_stock:"",location:"",price:"",cost_price:"",barcode:"",batch_number:"",expire_date:"",description:"",specifications:"",is_active:!0,notes:""});C.useEffect(()=>{t&&(async()=>{r(!0),l("");try{const{data:_}=await fe.from("product_units").select("*"),{data:E}=await fe.from("product_categories").select("*");h(_||[]),p(E||[]);const{data:T,error:N}=await fe.from("products").select("*").eq("id",t).single();if(N)throw N;w({name:T.name||"",sku:T.sku||"",category_id:T.category_id||"",unit_id:T.unit_id||"",min_stock:T.min_stock??"",max_stock:T.max_stock??"",location:T.location??"",price:T.price??"",cost_price:T.cost_price??"",barcode:T.barcode??"",batch_number:T.batch_number??"",expire_date:T.expire_date??"",description:T.description??"",specifications:T.specifications??"",is_active:T.is_active??!0,notes:T.notes??""})}catch(_){console.error(" Error fetching data:",_),l("   : "+(_.message||""))}finally{r(!1)}})()},[t]);const v=Yo({enableReinitialize:!0,initialValues:y,validationSchema:Ma({name:An().required("   ").min(2,"  "),sku:An().required("   "),category_id:An().required("   "),unit_id:An().required("   "),price:Kc().nullable().typeError("   ").min(0,"   ")}),onSubmit:async x=>{i(!0),l(""),u("");try{const{data:_}=await fe.from("products").select("id").eq("sku",x.sku).neq("id",t);if(_&&_.length>0){l("     (SKU)  ."),i(!1);return}const E={name:x.name,sku:x.sku,category_id:Number(x.category_id),unit_id:Number(x.unit_id),min_stock:x.min_stock?Number(x.min_stock):0,max_stock:x.max_stock?Number(x.max_stock):null,location:x.location||null,price:x.price?Number(x.price):null,cost_price:x.cost_price?Number(x.cost_price):null,barcode:x.barcode||null,batch_number:x.batch_number||null,expire_date:x.expire_date||null,description:x.description||null,specifications:x.specifications||null,is_active:x.is_active,notes:x.notes||null,updated_at:new Date},{error:T}=await fe.from("products").update(E).eq("id",t);if(T)throw T;u("    ."),setTimeout(()=>e("/inventory/product-list"),1500)}catch(_){console.error(" Update error:",_),l("   : "+_.message)}finally{i(!1)}}});return n?a.jsx("div",{className:"page-content",children:a.jsx(gn,{fluid:!0,children:a.jsx(dt,{children:a.jsxs(ht,{className:"text-center py-5",children:[a.jsx(pn,{color:"primary"}),a.jsx("h5",{className:"text-muted mt-3",children:"    ..."})]})})})}):a.jsx(oe.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsxs("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:[a.jsx("h4",{className:"mb-0",children:" "}),a.jsx("div",{className:"page-title-right",children:a.jsxs("ol",{className:"breadcrumb m-0",children:[a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Le,{to:"/dashboard",children:""})}),a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Le,{to:"/inventory/product-list",children:""})}),a.jsx("li",{className:"breadcrumb-item active",children:""})]})})]}),a.jsx(ge,{children:a.jsx($,{lg:10,className:"mx-auto",children:a.jsx(dt,{children:a.jsxs(ht,{children:[o&&a.jsx(kn,{color:"danger",children:o}),c&&a.jsx(kn,{color:"success",children:c}),a.jsxs(oo,{onSubmit:x=>{x.preventDefault(),v.handleSubmit()},children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("h5",{className:"font-size-14 mb-3 text-primary",children:[a.jsx("i",{className:"bx bx-info-circle me-1"})," "]}),a.jsxs(ge,{children:[a.jsx($,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:"  *"}),a.jsx(re,{id:"name",name:"name",value:v.values.name,onChange:v.handleChange,onBlur:v.handleBlur,invalid:v.touched.name&&!!v.errors.name,disabled:s}),a.jsx(Kt,{children:v.errors.name})]})}),a.jsx($,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:"  (SKU) *"}),a.jsx(re,{id:"sku",name:"sku",value:v.values.sku,onChange:v.handleChange,onBlur:v.handleBlur,invalid:v.touched.sku&&!!v.errors.sku,disabled:s}),a.jsx(Kt,{children:v.errors.sku})]})})]}),a.jsxs(ge,{children:[a.jsx($,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:" *"}),a.jsxs(re,{id:"category_id",name:"category_id",type:"select",value:v.values.category_id,onChange:v.handleChange,invalid:v.touched.category_id&&!!v.errors.category_id,disabled:s,children:[a.jsx("option",{value:"",children:" ..."}),m.map(x=>a.jsx("option",{value:x.id,children:x.name},x.id))]}),a.jsx(Kt,{children:v.errors.category_id})]})}),a.jsx($,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:" *"}),a.jsxs(re,{id:"unit_id",name:"unit_id",type:"select",value:v.values.unit_id,onChange:v.handleChange,invalid:v.touched.unit_id&&!!v.errors.unit_id,disabled:s,children:[a.jsx("option",{value:"",children:" ..."}),d.map(x=>a.jsx("option",{value:x.id,children:x.name},x.id))]}),a.jsx(Kt,{children:v.errors.unit_id})]})})]})]}),a.jsx("hr",{}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h5",{className:"font-size-14 mb-3 text-primary",children:[a.jsx("i",{className:"bx bx-dollar-circle me-1"}),"   "]}),a.jsxs(ge,{children:[a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{name:"min_stock",type:"number",value:v.values.min_stock,onChange:v.handleChange,disabled:s})]})}),a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{name:"max_stock",type:"number",value:v.values.max_stock,onChange:v.handleChange,disabled:s})]})}),a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{name:"location",value:v.values.location,onChange:v.handleChange,disabled:s})]})})]}),a.jsxs(ge,{children:[a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{name:"price",type:"number",value:v.values.price,onChange:v.handleChange,disabled:s})]})}),a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{name:"cost_price",type:"number",value:v.values.cost_price,onChange:v.handleChange,disabled:s})]})}),a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{name:"expire_date",type:"date",value:v.values.expire_date,onChange:v.handleChange,disabled:s})]})})]})]}),a.jsx("hr",{}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h5",{className:"font-size-14 mb-3 text-primary",children:[a.jsx("i",{className:"bx bx-barcode me-1"})," "]}),a.jsxs(ge,{children:[a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:""}),a.jsx(re,{name:"barcode",value:v.values.barcode,onChange:v.handleChange,disabled:s})]})}),a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:"  (Batch)"}),a.jsx(re,{name:"batch_number",value:v.values.batch_number,onChange:v.handleChange,disabled:s})]})})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:""}),a.jsx(re,{type:"textarea",rows:"3",name:"description",value:v.values.description,onChange:v.handleChange,disabled:s})]})]}),a.jsxs("div",{className:"form-check form-switch mb-4",children:[a.jsx(re,{type:"checkbox",id:"is_active",name:"is_active",className:"form-check-input",checked:v.values.is_active,onChange:v.handleChange,disabled:s}),a.jsx(X,{className:"form-check-label",htmlFor:"is_active",children:"   "})]}),a.jsxs("div",{className:"d-flex gap-2 justify-content-end",children:[a.jsx(me,{type:"button",color:"secondary",onClick:()=>e("/inventory/product-list"),children:""}),a.jsx(me,{type:"submit",color:"primary",disabled:s,children:s?a.jsx(pn,{size:"sm"}):" "})]})]})]})})})})]})})})},O$e=()=>{const[t,e]=C.useState([]),[n,r]=C.useState([]),[s,i]=C.useState(!0),[o,l]=C.useState(""),[c,u]=C.useState(""),[d,h]=C.useState("all"),m=async()=>{i(!0),l("");try{const{data:v,error:x}=await fe.from("members").select("*").order("created_at",{ascending:!1});if(x)throw x;const _=v||[];e(_),r(_)}catch(v){console.error(v),l("    : "+v.message)}finally{i(!1)}};C.useEffect(()=>{m()},[]),C.useEffect(()=>{let v=t;if(d!=="all"&&(v=v.filter(x=>x.role===d)),c.trim()!==""){const x=c.toLowerCase();v=v.filter(_=>_.full_name&&_.full_name.toLowerCase().includes(x)||_.mobile&&_.mobile.includes(x)||_.member_code&&_.member_code.includes(x)||_.national_id&&_.national_id.includes(x)||_.business_name&&_.business_name.toLowerCase().includes(x))}r(v)},[c,d,t]);const p=async(v,x)=>{if(window.confirm(`    "${x}"  `))try{const{error:_}=await fe.from("members").delete().eq("id",v);if(_)throw _;const E=t.filter(T=>T.id!==v);e(E)}catch(_){alert("  : "+_.message)}},y=v=>{const _={active:{bg:"rgba(52, 195, 143, 0.18)",color:"#34c38f",label:""},inactive:{bg:"rgba(244, 106, 106, 0.18)",color:"#f46a6a",label:""},pending:{bg:"rgba(241, 180, 76, 0.18)",color:"#f1b44c",label:"  "},suspended:{bg:"rgba(80, 80, 80, 0.18)",color:"#505050",label:""}}[v]||{bg:"#eff2f7",color:"#74788d",label:v};return a.jsx("span",{className:"badge rounded-pill font-size-12",style:{backgroundColor:_.bg,color:_.color,padding:"5px 10px"},children:_.label})},w=v=>{const _={admin:{color:"danger",label:" "},employee:{color:"primary",label:""},union_member:{color:"info",label:" "},union_user:{color:"secondary",label:" "},customer:{color:"success",label:""}}[v]||{color:"light",label:v};return a.jsx(ut,{color:_.color,className:"font-size-12",children:_.label})};return a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center mb-4",children:[a.jsx("h4",{className:"font-size-18 mb-3 mb-md-0",children:" "}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(me,{color:"light",onClick:m,title:"",children:a.jsx("i",{className:`bx bx-refresh font-size-18 ${s?"bx-spin":""}`})}),a.jsxs(Le,{to:"/members/add",className:"btn btn-success",children:[a.jsx("i",{className:"bx bx-plus me-1"}),"   "]})]})]}),o&&a.jsx(kn,{color:"danger",toggle:()=>l(""),children:o}),a.jsx(ge,{children:a.jsx($,{lg:12,children:a.jsx(dt,{children:a.jsxs(ht,{children:[a.jsxs(ge,{className:"mb-4 g-3",children:[a.jsx($,{md:4,sm:12,children:a.jsxs(Of,{children:[a.jsx(Vv,{className:"bg-light border-end-0",children:a.jsx("i",{className:"bx bx-search-alt"})}),a.jsx(re,{type:"text",className:"border-start-0",placeholder:" (   ...)",value:c,onChange:v=>u(v.target.value)})]})}),a.jsx($,{md:3,sm:6,children:a.jsxs(re,{type:"select",value:d,onChange:v=>h(v.target.value),children:[a.jsx("option",{value:"all",children:" "}),a.jsx("option",{value:"admin",children:" "}),a.jsx("option",{value:"employee",children:""}),a.jsx("option",{value:"union_member",children:" "}),a.jsx("option",{value:"union_user",children:" "}),a.jsx("option",{value:"customer",children:""})]})}),a.jsx($,{md:5,sm:6,className:"d-flex align-items-center justify-content-md-end",children:a.jsxs("span",{className:"text-muted font-size-13",children:[" ",a.jsx("b",{children:n.length}),"  ",a.jsx("b",{children:t.length})," "]})})]}),s?a.jsxs("div",{className:"text-center py-5",children:[a.jsx(pn,{color:"primary"}),a.jsx("p",{className:"mt-2 text-muted",children:"  ..."})]}):n.length===0?a.jsxs("div",{className:"text-center py-5",children:[a.jsx("div",{className:"avatar-md mx-auto mb-3",children:a.jsx("span",{className:"avatar-title rounded-circle bg-light text-secondary font-size-24",children:a.jsx("i",{className:"bx bx-search"})})}),a.jsx("h5",{children:"   !"}),a.jsx("p",{className:"text-muted",children:"         ."})]}):a.jsx("div",{className:"table-responsive",children:a.jsxs(Mn,{className:"table-hover align-middle table-nowrap mb-0",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:"#"}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{className:"text-center",children:""})]})}),a.jsx("tbody",{children:n.map((v,x)=>a.jsxs("tr",{children:[a.jsx("td",{children:x+1}),a.jsx("td",{children:a.jsxs("div",{className:"d-flex align-items-center",children:[v.member_image?a.jsx("img",{src:v.member_image,alt:"",className:"avatar-xs rounded-circle me-2 object-cover"}):a.jsx("div",{className:"avatar-xs me-2",children:a.jsx("span",{className:"avatar-title rounded-circle bg-primary bg-soft text-primary font-size-12",children:v.full_name?v.full_name.charAt(0):"U"})}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-size-14 mb-1",children:a.jsx(Le,{to:`/members/edit/${v.id}`,className:"text-dark",children:v.full_name})}),v.business_name&&a.jsx("small",{className:"text-muted d-block",children:v.business_name}),v.national_id&&a.jsxs("small",{className:"text-muted",children:[" : ",v.national_id]})]})]})}),a.jsx("td",{children:a.jsx("span",{className:"fw-bold text-primary",children:v.member_code})}),a.jsxs("td",{children:[a.jsxs("div",{children:[a.jsx("i",{className:"bx bx-mobile me-1 text-muted"}),v.mobile]}),v.phone&&a.jsxs("div",{className:"font-size-11 text-muted",children:[a.jsx("i",{className:"bx bx-phone me-1"}),v.phone]})]}),a.jsx("td",{children:w(v.role)}),a.jsx("td",{children:y(v.member_status)}),a.jsx("td",{className:"text-center",children:a.jsxs("div",{className:"d-flex gap-2 justify-content-center",children:[a.jsx(Le,{to:`/members/edit/${v.id}`,className:"btn btn-sm btn-soft-primary",title:"",children:a.jsx("i",{className:"bx bx-edit-alt font-size-14"})}),a.jsx(me,{size:"sm",color:"soft-danger",onClick:()=>p(v.id,v.full_name),title:"",children:a.jsx("i",{className:"bx bx-trash font-size-14"})})]})})]},v.id))})]})})]})})})})]})})},R$e=()=>{const t=as(),[e,n]=C.useState(!1),[r,s]=C.useState(""),[i,o]=C.useState(""),[l,c]=C.useState(null),u=async(h,m,p)=>{if(h){if(h.size>2*1024*1024){s("       .");return}try{c(m),s("");const y=h.name.split(".").pop(),w=`${Date.now()}_${Math.random().toString(36).substr(2,9)}.${y}`,v=`${m}/${w}`,{error:x}=await fe.storage.from("member-files").upload(v,h);if(x)throw x;const{data:_}=fe.storage.from("member-files").getPublicUrl(v);_!=null&&_.publicUrl&&p.setFieldValue(m,_.publicUrl)}catch(y){console.error("Upload Error:",y),s("   .     'member-files'  Supabase   .")}finally{c(null)}}},d=Yo({initialValues:{full_name:"",member_code:"",role:"union_user",member_status:"active",category:"warehouse",mobile:"",phone:"",email:"",father_name:"",national_id:"",address:"",business_name:"",company_name:"",registration_number:"",birth_date:"",license_number:"",license_issue_date:"",license_expire_date:"",member_image:"",national_card_image:"",id_card_image:"",license_image:"",company_license_image:""},validationSchema:Ma({full_name:An().required("     ").min(2,"   "),member_code:An().required("   "),mobile:An().required("   ").matches(/^09[0-9]{9}$/,"   "),national_id:An().nullable().matches(/^[0-9]{10}$/,"     "),role:An().required("   "),member_status:An().required("    "),category:An().required("   ")}),onSubmit:async h=>{s(""),o(""),n(!0);try{const{data:m}=await fe.from("members").select("id").eq("member_code",h.member_code).single();if(m)throw new Error("        .");const{data:p}=await fe.from("members").select("id").eq("mobile",h.mobile).single();if(p)throw new Error("         .");if(h.national_id){const{data:v}=await fe.from("members").select("id").eq("national_id",h.national_id).single();if(v)throw new Error("         .")}const y={full_name:h.full_name,member_code:h.member_code,role:h.role,member_status:h.member_status,category:h.category,mobile:h.mobile,phone:h.phone||null,email:h.email||null,father_name:h.father_name||null,national_id:h.national_id||null,address:h.address||null,business_name:h.business_name||null,company_name:h.company_name||null,registration_number:h.registration_number||null,birth_date:h.birth_date||null,license_number:h.license_number||null,license_issue_date:h.license_issue_date||null,license_expire_date:h.license_expire_date||null,member_image:h.member_image||null,national_card_image:h.national_card_image||null,id_card_image:h.id_card_image||null,license_image:h.license_image||null,company_license_image:h.company_license_image||null,created_at:new Date,permissions:[]},{error:w}=await fe.from("members").insert([y]);if(w)throw w;o("    ."),setTimeout(()=>{d.resetForm(),o(""),t("/members/list")},2e3)}catch(m){console.error("Submit Error:",m);let p=m.message;m.code==="22P02"&&(p="     (    )  ."),s(p||"   ")}finally{n(!1)}}});return a.jsx(oe.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsxs("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:[a.jsx("h4",{className:"mb-sm-0 font-size-18",children:"  "}),a.jsx("div",{className:"page-title-right",children:a.jsxs("ol",{className:"breadcrumb m-0",children:[a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Le,{to:"/dashboard",children:""})}),a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Le,{to:"/members/list",children:""})}),a.jsx("li",{className:"breadcrumb-item active",children:" "})]})})]}),a.jsx(ge,{children:a.jsx($,{lg:10,className:"mx-auto",children:a.jsx(dt,{children:a.jsxs(ht,{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"card-title",children:" "}),a.jsx("p",{className:"card-title-desc",children:"      ."})]}),r&&a.jsx(kn,{color:"danger",children:r}),i&&a.jsx(kn,{color:"success",children:i}),a.jsxs(oo,{onSubmit:h=>{h.preventDefault(),d.handleSubmit()},children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("h5",{className:"font-size-14 mb-3 text-primary",children:[a.jsx("i",{className:"bx bx-user me-1"}),"    "]}),a.jsxs(ge,{children:[a.jsxs($,{md:6,className:"mb-3",children:[a.jsxs(X,{children:["    ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(re,{name:"full_name",value:d.values.full_name,onChange:d.handleChange,onBlur:d.handleBlur,invalid:d.touched.full_name&&!!d.errors.full_name,disabled:e}),a.jsx(Kt,{children:d.errors.full_name})]}),a.jsxs($,{md:6,className:"mb-3",children:[a.jsxs(X,{children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(re,{name:"member_code",value:d.values.member_code,onChange:d.handleChange,invalid:d.touched.member_code&&!!d.errors.member_code,disabled:e}),a.jsx(Kt,{children:d.errors.member_code})]})]}),a.jsxs(ge,{children:[a.jsxs($,{md:4,className:"mb-3",children:[a.jsxs(X,{children:["   ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs(re,{type:"select",name:"role",value:d.values.role,onChange:d.handleChange,disabled:e,children:[a.jsx("option",{value:"admin",children:" "}),a.jsx("option",{value:"union_member",children:"  "}),a.jsx("option",{value:"union_user",children:"  "}),a.jsx("option",{value:"employee",children:""})]})]}),a.jsxs($,{md:4,className:"mb-3",children:[a.jsxs(X,{children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs(re,{type:"select",name:"member_status",value:d.values.member_status,onChange:d.handleChange,disabled:e,children:[a.jsx("option",{value:"active",children:""}),a.jsx("option",{value:"inactive",children:""}),a.jsx("option",{value:"pending",children:"  "})]})]}),a.jsxs($,{md:4,className:"mb-3",children:[a.jsxs(X,{children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs(re,{type:"select",name:"category",value:d.values.category,onChange:d.handleChange,disabled:e,children:[a.jsx("option",{value:"warehouse",children:""}),a.jsx("option",{value:"transport",children:""}),a.jsx("option",{value:"other",children:""})]})]})]})]}),a.jsx("hr",{}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h5",{className:"font-size-14 mb-3 text-primary",children:[a.jsx("i",{className:"bx bx-id-card me-1"}),"    "]}),a.jsxs(ge,{children:[a.jsxs($,{md:4,className:"mb-3",children:[a.jsxs(X,{children:[" ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(re,{name:"mobile",value:d.values.mobile,onChange:d.handleChange,invalid:d.touched.mobile&&!!d.errors.mobile,disabled:e,placeholder:"0912..."}),a.jsx(Kt,{children:d.errors.mobile})]}),a.jsxs($,{md:4,className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{name:"phone",value:d.values.phone,onChange:d.handleChange,disabled:e})]}),a.jsxs($,{md:4,className:"mb-3",children:[a.jsx(X,{children:""}),a.jsx(re,{name:"email",value:d.values.email,onChange:d.handleChange,disabled:e})]})]}),a.jsxs(ge,{children:[a.jsxs($,{md:4,className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{name:"father_name",value:d.values.father_name,onChange:d.handleChange,disabled:e})]}),a.jsxs($,{md:4,className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{name:"national_id",value:d.values.national_id,onChange:d.handleChange,disabled:e})]}),a.jsxs($,{md:4,className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{type:"date",name:"birth_date",value:d.values.birth_date,onChange:d.handleChange,disabled:e})]})]}),a.jsx(ge,{children:a.jsxs($,{md:12,className:"mb-3",children:[a.jsx(X,{children:""}),a.jsx(re,{type:"textarea",name:"address",value:d.values.address,onChange:d.handleChange,disabled:e})]})})]}),a.jsx("hr",{}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h5",{className:"font-size-14 mb-3 text-primary",children:[a.jsx("i",{className:"bx bx-buildings me-1"}),"    "]}),a.jsxs(ge,{children:[a.jsxs($,{md:6,className:"mb-3",children:[a.jsx(X,{children:"   "}),a.jsx(re,{name:"business_name",value:d.values.business_name,onChange:d.handleChange,disabled:e})]}),a.jsxs($,{md:6,className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{name:"company_name",value:d.values.company_name,onChange:d.handleChange,disabled:e})]})]}),a.jsxs(ge,{children:[a.jsxs($,{md:4,className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{name:"registration_number",value:d.values.registration_number,onChange:d.handleChange,disabled:e})]}),a.jsxs($,{md:4,className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{name:"license_number",value:d.values.license_number,onChange:d.handleChange,disabled:e})]}),a.jsxs($,{md:4,className:"mb-3",children:[a.jsx(X,{children:"  "}),a.jsx(re,{type:"date",name:"license_issue_date",value:d.values.license_issue_date,onChange:d.handleChange,disabled:e})]})]}),a.jsx(ge,{children:a.jsxs($,{md:4,className:"mb-3",children:[a.jsx(X,{children:"  "}),a.jsx(re,{type:"date",name:"license_expire_date",value:d.values.license_expire_date,onChange:d.handleChange,disabled:e})]})})]}),a.jsx("hr",{}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h5",{className:"font-size-14 mb-3 text-primary",children:[a.jsx("i",{className:"bx bx-image me-1"}),"   "]}),a.jsx(kn,{color:"info",className:"p-2 font-size-12",children:"     ."}),a.jsxs(ge,{children:[a.jsxs($,{md:4,className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{type:"file",accept:"image/*",onChange:h=>u(h.currentTarget.files[0],"member_image",d),disabled:e||l==="member_image"}),l==="member_image"&&a.jsx("small",{className:"text-primary",children:"  ..."}),d.values.member_image&&a.jsx("small",{className:"text-success d-block",children:"   "})]}),a.jsxs($,{md:4,className:"mb-3",children:[a.jsx(X,{children:"  "}),a.jsx(re,{type:"file",accept:"image/*",onChange:h=>u(h.currentTarget.files[0],"national_card_image",d),disabled:e||l==="national_card_image"}),l==="national_card_image"&&a.jsx("small",{className:"text-primary",children:"  ..."})]}),a.jsxs($,{md:4,className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{type:"file",accept:"image/*",onChange:h=>u(h.currentTarget.files[0],"id_card_image",d),disabled:e||l==="id_card_image"}),l==="id_card_image"&&a.jsx("small",{className:"text-primary",children:"  ..."})]})]}),a.jsxs(ge,{children:[a.jsxs($,{md:6,className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{type:"file",accept:"image/*",onChange:h=>u(h.currentTarget.files[0],"license_image",d),disabled:e||l==="license_image"}),l==="license_image"&&a.jsx("small",{className:"text-primary",children:"  ..."})]}),a.jsxs($,{md:6,className:"mb-3",children:[a.jsx(X,{children:"  "}),a.jsx(re,{type:"file",accept:"image/*",onChange:h=>u(h.currentTarget.files[0],"company_license_image",d),disabled:e||l==="company_license_image"}),l==="company_license_image"&&a.jsx("small",{className:"text-primary",children:"  ..."})]})]})]}),a.jsxs("div",{className:"d-flex gap-2 justify-content-end",children:[a.jsx(me,{type:"button",color:"light",onClick:()=>{d.resetForm(),s(""),o("")},children:"  "}),a.jsx(me,{type:"button",color:"secondary",onClick:()=>t("/members/list"),children:""}),a.jsx(me,{type:"submit",color:"primary",disabled:e,children:e?a.jsx(pn,{size:"sm"}):" "})]})]})]})})})})]})})})},P$e=[{category:"   ",items:[{key:"inventory.view",label:"  /"},{key:"inventory.create",label:"   //"}]},{category:"   ()",items:[{key:"receipt.view",label:"  "},{key:"receipt.create",label:"  "},{key:"receipt.edit",label:" "}]},{category:"   ",items:[{key:"loading.view",label:"  "},{key:"loading.create",label:"  "},{key:"exit.view",label:"   "},{key:"exit.create",label:"  "},{key:"clearance.view",label:"  "},{key:"clearance.create",label:"  "}]},{category:" ",items:[{key:"customer.view",label:"  "},{key:"customer.create",label:"  "},{key:"customer.edit",label:" "}]},{category:"    ",items:[{key:"accounting.view",label:"  "},{key:"accounting.create",label:"   "},{key:"accounting.reports",label:"   "},{key:"accounting.treasury",label:" (  )"}]},{category:" ",items:[{key:"rent.list",label:"  "},{key:"rent.create",label:"  "}]},{category:"  ",items:[{key:"member.view",label:"  "},{key:"member.create",label:"  "},{key:"member.manage",label:"  ()"}]}],JO=t=>{if(!t)return"";try{const e=new Date(t);return Number.isNaN(e.getTime())?"":e.toISOString().split("T")[0]}catch{return""}},D$e=()=>{const t=as(),{id:e}=lu(),[n,r]=C.useState(!0),[s,i]=C.useState(!1),[o,l]=C.useState(""),[c,u]=C.useState(""),[d,h]=C.useState([]),[m,p]=C.useState({role:"employee",member_code:"",full_name:"",father_name:"",national_id:"",mobile:"",phone:"",address:"",birth_date:"",business_name:"",category:"warehouse",member_status:"active",license_number:"",license_issue_date:"",license_expire_date:"",company_name:"",registration_number:""});C.useEffect(()=>{async function _(){r(!0),l("");try{const{data:E,error:T}=await fe.from("members").select("*").eq("id",e).single();if(T)throw T;p({role:E.role||"employee",member_code:E.member_code||"",full_name:E.full_name||"",father_name:E.father_name||"",national_id:E.national_id||"",mobile:E.mobile||"",phone:E.phone||"",address:E.address||"",birth_date:JO(E.birth_date),business_name:E.business_name||"",category:E.category||"warehouse",member_status:E.member_status||"active",license_number:E.license_number||"",license_issue_date:JO(E.license_issue_date),license_expire_date:JO(E.license_expire_date),company_name:E.company_name||"",registration_number:E.registration_number||""}),h(Array.isArray(E.permissions)?E.permissions:[])}catch(E){console.error(E),l("    : "+E.message)}finally{r(!1)}}e&&_()},[e]);const y=_=>{h(E=>E.includes(_)?E.filter(T=>T!==_):[...E,_])},w=_=>{const E=_.map(N=>N.key),T=E.every(N=>d.includes(N));h(T?N=>N.filter(D=>!E.includes(D)):N=>{const D=[...N];return E.forEach(O=>{D.includes(O)||D.push(O)}),D})},v=Ma({full_name:An().required("     "),mobile:An().required("  "),role:An().required("  ")}),x=Yo({enableReinitialize:!0,initialValues:m,validationSchema:v,onSubmit:async _=>{l(""),u(""),i(!0);try{const E={role:_.role,member_code:_.member_code,full_name:_.full_name,father_name:_.father_name||null,national_id:_.national_id||null,mobile:_.mobile,phone:_.phone||null,address:_.address||null,birth_date:_.birth_date||null,business_name:_.business_name||null,category:_.category||"warehouse",member_status:_.member_status||"active",license_number:_.license_number||null,license_issue_date:_.license_issue_date||null,license_expire_date:_.license_expire_date||null,company_name:_.company_name||null,registration_number:_.registration_number||null,permissions:d,updated_at:new Date},{error:T}=await fe.from("members").update(E).eq("id",e);if(T)throw T;u("       "),window.scrollTo(0,0),setTimeout(()=>t("/members/list"),1500)}catch(E){console.error(E),l(E.message||"   "),window.scrollTo(0,0)}finally{i(!1)}}});return n?a.jsx("div",{className:"page-content",children:a.jsx(gn,{fluid:!0,children:a.jsx(dt,{children:a.jsxs(ht,{className:"text-center py-5",children:[a.jsx(pn,{color:"primary"}),a.jsx("h5",{className:"mt-3 text-muted",children:"   ..."})]})})})}):a.jsx(oe.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsxs("div",{className:"page-title-box d-flex align-items-center justify-content-between",children:[a.jsx("h4",{className:"mb-0 font-size-18",children:" "}),a.jsx("div",{className:"page-title-right",children:a.jsxs("ol",{className:"breadcrumb m-0",children:[a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Le,{to:"/dashboard",children:""})}),a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Le,{to:"/members/list",children:""})}),a.jsx("li",{className:"breadcrumb-item active",children:""})]})})]}),a.jsxs(oo,{onSubmit:_=>{_.preventDefault(),x.handleSubmit()},children:[o&&a.jsx(kn,{color:"danger",children:o}),c&&a.jsx(kn,{color:"success",children:c}),a.jsx(ge,{children:a.jsx($,{lg:12,children:a.jsx(dt,{children:a.jsxs(ht,{children:[a.jsx("h4",{className:"card-title mb-4",children:"   "}),a.jsxs(ge,{children:[a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsxs(X,{children:["   ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs(re,{type:"select",name:"role",value:x.values.role,onChange:x.handleChange,className:"form-select",children:[a.jsx("option",{value:"admin",children:"  (Admin)"}),a.jsx("option",{value:"employee",children:" (Employee)"}),a.jsx("option",{value:"union_member",children:" "}),a.jsx("option",{value:"union_user",children:" "}),a.jsx("option",{value:"customer",children:" (Customer)"})]})]})}),a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:""}),a.jsxs(re,{type:"select",name:"member_status",value:x.values.member_status,onChange:x.handleChange,children:[a.jsx("option",{value:"active",children:""}),a.jsx("option",{value:"inactive",children:""}),a.jsx("option",{value:"suspended",children:""})]})]})}),a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsxs(X,{children:["    ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(re,{name:"full_name",value:x.values.full_name,onChange:x.handleChange,invalid:x.touched.full_name&&!!x.errors.full_name}),a.jsx(Kt,{children:x.errors.full_name})]})})]}),a.jsxs(ge,{children:[a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsxs(X,{children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(re,{name:"mobile",value:x.values.mobile,onChange:x.handleChange,invalid:x.touched.mobile&&!!x.errors.mobile}),a.jsx(Kt,{children:x.errors.mobile})]})}),a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{name:"national_id",value:x.values.national_id,onChange:x.handleChange})]})}),a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{name:"member_code",value:x.values.member_code,onChange:x.handleChange})]})})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:""}),a.jsx(re,{type:"textarea",name:"address",value:x.values.address,onChange:x.handleChange})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h5",{className:"font-size-14 text-muted mb-3",children:" "}),a.jsxs(ge,{children:[a.jsx($,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:"    / "}),a.jsx(re,{name:"company_name",value:x.values.company_name,onChange:x.handleChange})]})}),a.jsx($,{md:6,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:"  / "}),a.jsx(re,{name:"license_number",value:x.values.license_number,onChange:x.handleChange})]})})]})]})]})})})}),x.values.role==="admin"?a.jsxs(kn,{color:"info",className:"d-flex align-items-center mt-3",children:[a.jsx("i",{className:"bx bx-shield-quarter font-size-24 me-3"}),a.jsxs("div",{children:[a.jsx("strong",{children:"  (Admin)"}),a.jsx("br",{}),"             ."]})]}):a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"font-size-16 mb-3",children:"  (Permissions)"}),a.jsx(ge,{children:P$e.map((_,E)=>a.jsx($,{md:6,xl:4,className:"mb-4",children:a.jsx(dt,{className:"h-100 border shadow-none",children:a.jsxs(ht,{className:"p-0",children:[" ",a.jsxs("div",{className:"d-flex justify-content-between align-items-center p-3 border-bottom bg-light",children:[a.jsx(Ra,{className:"h6 mb-0 text-primary",children:_.category}),a.jsx(me,{size:"sm",color:"primary",outline:!0,className:"font-size-12 py-0",onClick:T=>{T.stopPropagation(),w(_.items)},children:" "})]}),a.jsx("div",{className:"d-flex flex-column",children:_.items.map(T=>{const N=d.includes(T.key);return a.jsxs("div",{className:`d-flex justify-content-between align-items-center p-3 border-bottom ${N?"bg-soft-success":""}`,style:{cursor:"pointer",transition:"0.2s"},onClick:()=>y(T.key),children:[a.jsx("span",{className:`font-size-13 ${N?"text-success fw-bold":"text-secondary"}`,children:T.label}),a.jsx("div",{className:"form-check form-switch m-0",style:{pointerEvents:"none"},children:a.jsx(re,{type:"checkbox",className:"form-check-input",checked:N,readOnly:!0,style:{transform:"scale(1.2)"}})})]},T.key)})})]})})},E))})]}),a.jsxs("div",{className:"d-flex gap-2 mb-5 justify-content-end",children:[a.jsx(me,{type:"button",color:"secondary",size:"lg",onClick:()=>t("/members/list"),disabled:s,children:""}),a.jsx(me,{type:"submit",color:"primary",size:"lg",disabled:s,children:s?a.jsx(pn,{size:"sm"}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bx bx-save me-1"}),"  "]})})]})]})]})})})},L$e=async()=>{const{data:{user:t}}=await fe.auth.getUser();if(!t)return[];const{data:e}=await fe.from("members").select("id").eq("auth_user_id",t.id).single();if(!e)return[];const{data:n,error:r}=await fe.from("members").select("*").eq("owner_id",e.id).order("created_at",{ascending:!1});if(r)throw r;return n},M$e=async t=>{try{const{data:{user:e}}=await fe.auth.getUser();if(!e)return{success:!1,error:"  "};const{data:n}=await fe.from("members").select("id").eq("auth_user_id",e.id).single();if(!n)return{success:!1,error:"   "};const{data:r,error:s}=await fe.from("members").insert([{...t,owner_id:n.id,role:"employee",member_status:"active",permissions:[]}]).select();if(s)throw s;return{success:!0,data:r}}catch(e){return{success:!1,error:e.message}}};function Mee(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Mee(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function af(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=Mee(t))&&(r&&(r+=" "),r+=e);return r}const Tw=t=>typeof t=="number"&&!isNaN(t),Mp=t=>typeof t=="string",$o=t=>typeof t=="function",Jj=t=>Mp(t)||$o(t)?t:null,QO=t=>C.isValidElement(t)||Mp(t)||$o(t)||Tw(t);function $$e(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function LA(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:s=!0,collapseDuration:i=300}=t;return function(o){let{children:l,position:c,preventExitTransition:u,done:d,nodeRef:h,isIn:m}=o;const p=r?`${e}--${c}`:e,y=r?`${n}--${c}`:n,w=C.useRef(0);return C.useLayoutEffect(()=>{const v=h.current,x=p.split(" "),_=E=>{E.target===h.current&&(v.dispatchEvent(new Event("d")),v.removeEventListener("animationend",_),v.removeEventListener("animationcancel",_),w.current===0&&E.type!=="animationcancel"&&v.classList.remove(...x))};v.classList.add(...x),v.addEventListener("animationend",_),v.addEventListener("animationcancel",_)},[]),C.useEffect(()=>{const v=h.current,x=()=>{v.removeEventListener("animationend",x),s?$$e(v,d,i):d()};m||(u?x():(w.current=1,v.className+=` ${y}`,v.addEventListener("animationend",x)))},[m]),oe.createElement(oe.Fragment,null,l)}}function R6(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const ac={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(r=>r!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},BS=t=>{let{theme:e,type:n,...r}=t;return oe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},ZO={info:function(t){return oe.createElement(BS,{...t},oe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return oe.createElement(BS,{...t},oe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return oe.createElement(BS,{...t},oe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return oe.createElement(BS,{...t},oe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return oe.createElement("div",{className:"Toastify__spinner"})}};function F$e(t){const[,e]=C.useReducer(p=>p+1,0),[n,r]=C.useState([]),s=C.useRef(null),i=C.useRef(new Map).current,o=p=>n.indexOf(p)!==-1,l=C.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:o,getToast:p=>i.get(p)}).current;function c(p){let{containerId:y}=p;const{limit:w}=l.props;!w||y&&l.containerId!==y||(l.count-=l.queue.length,l.queue=[])}function u(p){r(y=>p==null?[]:y.filter(w=>w!==p))}function d(){const{toastContent:p,toastProps:y,staleId:w}=l.queue.shift();m(p,y,w)}function h(p,y){let{delay:w,staleId:v,...x}=y;if(!QO(p)||function(H){return!s.current||l.props.enableMultiContainer&&H.containerId!==l.props.containerId||i.has(H.toastId)&&H.updateId==null}(x))return;const{toastId:_,updateId:E,data:T}=x,{props:N}=l,D=()=>u(_),O=E==null;O&&l.count++;const F={...N,style:N.toastStyle,key:l.toastKey++,...Object.fromEntries(Object.entries(x).filter(H=>{let[J,q]=H;return q!=null})),toastId:_,updateId:E,data:T,closeToast:D,isIn:!1,className:Jj(x.className||N.toastClassName),bodyClassName:Jj(x.bodyClassName||N.bodyClassName),progressClassName:Jj(x.progressClassName||N.progressClassName),autoClose:!x.isLoading&&(V=x.autoClose,z=N.autoClose,V===!1||Tw(V)&&V>0?V:z),deleteToast(){const H=R6(i.get(_),"removed");i.delete(_),ac.emit(4,H);const J=l.queue.length;if(l.count=_==null?l.count-l.displayedToast:l.count-1,l.count<0&&(l.count=0),J>0){const q=_==null?l.props.limit:1;if(J===1||q===1)l.displayedToast++,d();else{const L=q>J?J:q;l.displayedToast=L;for(let Y=0;Y<L;Y++)d()}}else e()}};var V,z;F.iconOut=function(H){let{theme:J,type:q,isLoading:L,icon:Y}=H,ne=null;const te={theme:J,type:q};return Y===!1||($o(Y)?ne=Y(te):C.isValidElement(Y)?ne=C.cloneElement(Y,te):Mp(Y)||Tw(Y)?ne=Y:L?ne=ZO.spinner():(ce=>ce in ZO)(q)&&(ne=ZO[q](te))),ne}(F),$o(x.onOpen)&&(F.onOpen=x.onOpen),$o(x.onClose)&&(F.onClose=x.onClose),F.closeButton=N.closeButton,x.closeButton===!1||QO(x.closeButton)?F.closeButton=x.closeButton:x.closeButton===!0&&(F.closeButton=!QO(N.closeButton)||N.closeButton);let U=p;C.isValidElement(p)&&!Mp(p.type)?U=C.cloneElement(p,{closeToast:D,toastProps:F,data:T}):$o(p)&&(U=p({closeToast:D,toastProps:F,data:T})),N.limit&&N.limit>0&&l.count>N.limit&&O?l.queue.push({toastContent:U,toastProps:F,staleId:v}):Tw(w)?setTimeout(()=>{m(U,F,v)},w):m(U,F,v)}function m(p,y,w){const{toastId:v}=y;w&&i.delete(w);const x={content:p,props:y};i.set(v,x),r(_=>[..._,v].filter(E=>E!==w)),ac.emit(4,R6(x,x.props.updateId==null?"added":"updated"))}return C.useEffect(()=>(l.containerId=t.containerId,ac.cancelEmit(3).on(0,h).on(1,p=>s.current&&u(p)).on(5,c).emit(2,l),()=>{i.clear(),ac.emit(3,l)}),[]),C.useEffect(()=>{l.props=t,l.isToastActive=o,l.displayedToast=n.length}),{getToastToRender:function(p){const y=new Map,w=Array.from(i.values());return t.newestOnTop&&w.reverse(),w.forEach(v=>{const{position:x}=v.props;y.has(x)||y.set(x,[]),y.get(x).push(v)}),Array.from(y,v=>p(v[0],v[1]))},containerRef:s,isToastActive:o}}function P6(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function D6(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function V$e(t){const[e,n]=C.useState(!1),[r,s]=C.useState(!1),i=C.useRef(null),o=C.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=C.useRef(t),{autoClose:c,pauseOnHover:u,closeToast:d,onClick:h,closeOnClick:m}=t;function p(T){if(t.draggable){T.nativeEvent.type==="touchstart"&&T.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",x),document.addEventListener("mouseup",_),document.addEventListener("touchmove",x),document.addEventListener("touchend",_);const N=i.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=N.getBoundingClientRect(),N.style.transition="",o.x=P6(T.nativeEvent),o.y=D6(T.nativeEvent),t.draggableDirection==="x"?(o.start=o.x,o.removalDistance=N.offsetWidth*(t.draggablePercent/100)):(o.start=o.y,o.removalDistance=N.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function y(T){if(o.boundingRect){const{top:N,bottom:D,left:O,right:F}=o.boundingRect;T.nativeEvent.type!=="touchend"&&t.pauseOnHover&&o.x>=O&&o.x<=F&&o.y>=N&&o.y<=D?v():w()}}function w(){n(!0)}function v(){n(!1)}function x(T){const N=i.current;o.canDrag&&N&&(o.didMove=!0,e&&v(),o.x=P6(T),o.y=D6(T),o.delta=t.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),N.style.transform=`translate${t.draggableDirection}(${o.delta}px)`,N.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function _(){document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",_),document.removeEventListener("touchmove",x),document.removeEventListener("touchend",_);const T=i.current;if(o.canDrag&&o.didMove&&T){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return s(!0),void t.closeToast();T.style.transition="transform 0.2s, opacity 0.2s",T.style.transform=`translate${t.draggableDirection}(0)`,T.style.opacity="1"}}C.useEffect(()=>{l.current=t}),C.useEffect(()=>(i.current&&i.current.addEventListener("d",w,{once:!0}),$o(t.onOpen)&&t.onOpen(C.isValidElement(t.children)&&t.children.props),()=>{const T=l.current;$o(T.onClose)&&T.onClose(C.isValidElement(T.children)&&T.children.props)}),[]),C.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||v(),window.addEventListener("focus",w),window.addEventListener("blur",v)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",w),window.removeEventListener("blur",v))}),[t.pauseOnFocusLoss]);const E={onMouseDown:p,onTouchStart:p,onMouseUp:y,onTouchEnd:y};return c&&u&&(E.onMouseEnter=v,E.onMouseLeave=w),m&&(E.onClick=T=>{h&&h(T),o.canCloseOnClick&&d()}),{playToast:w,pauseToast:v,isRunning:e,preventExitTransition:r,toastRef:i,eventHandlers:E}}function $ee(t){let{closeToast:e,theme:n,ariaLabel:r="close"}=t;return oe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:s=>{s.stopPropagation(),e(s)},"aria-label":r},oe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},oe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function U$e(t){let{delay:e,isRunning:n,closeToast:r,type:s="default",hide:i,className:o,style:l,controlledProgress:c,progress:u,rtl:d,isIn:h,theme:m}=t;const p=i||c&&u===0,y={...l,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused",opacity:p?0:1};c&&(y.transform=`scaleX(${u})`);const w=af("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":d}),v=$o(o)?o({rtl:d,type:s,defaultClassName:w}):af(w,o);return oe.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:v,style:y,[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{h&&r()}})}const B$e=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:s}=V$e(t),{closeButton:i,children:o,autoClose:l,onClick:c,type:u,hideProgressBar:d,closeToast:h,transition:m,position:p,className:y,style:w,bodyClassName:v,bodyStyle:x,progressClassName:_,progressStyle:E,updateId:T,role:N,progress:D,rtl:O,toastId:F,deleteToast:V,isIn:z,isLoading:U,iconOut:H,closeOnClick:J,theme:q}=t,L=af("Toastify__toast",`Toastify__toast-theme--${q}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":O},{"Toastify__toast--close-on-click":J}),Y=$o(y)?y({rtl:O,position:p,type:u,defaultClassName:L}):af(L,y),ne=!!D||!l,te={closeToast:h,type:u,theme:q};let ce=null;return i===!1||(ce=$o(i)?i(te):C.isValidElement(i)?C.cloneElement(i,te):$ee(te)),oe.createElement(m,{isIn:z,done:V,position:p,preventExitTransition:n,nodeRef:r},oe.createElement("div",{id:F,onClick:c,className:Y,...s,style:w,ref:r},oe.createElement("div",{...z&&{role:N},className:$o(v)?v({type:u}):af("Toastify__toast-body",v),style:x},H!=null&&oe.createElement("div",{className:af("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!U})},H),oe.createElement("div",null,o)),ce,oe.createElement(U$e,{...T&&!ne?{key:`pb-${T}`}:{},rtl:O,theme:q,delay:l,isRunning:e,isIn:z,closeToast:h,hide:d,type:u,style:E,className:_,controlledProgress:ne,progress:D||0})))},MA=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},z$e=LA(MA("bounce",!0));LA(MA("slide",!0));LA(MA("zoom"));LA(MA("flip"));const L6=C.forwardRef((t,e)=>{const{getToastToRender:n,containerRef:r,isToastActive:s}=F$e(t),{className:i,style:o,rtl:l,containerId:c}=t;function u(d){const h=af("Toastify__toast-container",`Toastify__toast-container--${d}`,{"Toastify__toast-container--rtl":l});return $o(i)?i({position:d,rtl:l,defaultClassName:h}):af(h,Jj(i))}return C.useEffect(()=>{e&&(e.current=r.current)},[]),oe.createElement("div",{ref:r,className:"Toastify",id:c},n((d,h)=>{const m=h.length?{...o}:{...o,pointerEvents:"none"};return oe.createElement("div",{className:u(d),style:m,key:`container-${d}`},h.map((p,y)=>{let{content:w,props:v}=p;return oe.createElement(B$e,{...v,isIn:s(v.toastId),style:{...v.style,"--nth":y+1,"--len":h.length},key:`toast-${v.key}`},w)}))}))});L6.displayName="ToastContainer",L6.defaultProps={position:"top-right",transition:z$e,autoClose:5e3,closeButton:$ee,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let XO,Hm=new Map,ew=[],W$e=1;function Fee(){return""+W$e++}function G$e(t){return t&&(Mp(t.toastId)||Tw(t.toastId))?t.toastId:Fee()}function Cw(t,e){return Hm.size>0?ac.emit(0,t,e):ew.push({content:t,options:e}),e.toastId}function NT(t,e){return{...e,type:e&&e.type||t,toastId:G$e(e)}}function zS(t){return(e,n)=>Cw(e,NT(t,n))}function ae(t,e){return Cw(t,NT("default",e))}ae.loading=(t,e)=>Cw(t,NT("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),ae.promise=function(t,e,n){let r,{pending:s,error:i,success:o}=e;s&&(r=Mp(s)?ae.loading(s,n):ae.loading(s.render,{...n,...s}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(d,h,m)=>{if(h==null)return void ae.dismiss(r);const p={type:d,...l,...n,data:m},y=Mp(h)?{render:h}:h;return r?ae.update(r,{...p,...y}):ae(y.render,{...p,...y}),m},u=$o(t)?t():t;return u.then(d=>c("success",o,d)).catch(d=>c("error",i,d)),u},ae.success=zS("success"),ae.info=zS("info"),ae.error=zS("error"),ae.warning=zS("warning"),ae.warn=ae.warning,ae.dark=(t,e)=>Cw(t,NT("default",{theme:"dark",...e})),ae.dismiss=t=>{Hm.size>0?ac.emit(1,t):ew=ew.filter(e=>t!=null&&e.options.toastId!==t)},ae.clearWaitingQueue=function(t){return t===void 0&&(t={}),ac.emit(5,t)},ae.isActive=t=>{let e=!1;return Hm.forEach(n=>{n.isToastActive&&n.isToastActive(t)&&(e=!0)}),e},ae.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const n=function(r,s){let{containerId:i}=s;const o=Hm.get(i||XO);return o&&o.getToast(r)}(t,e);if(n){const{props:r,content:s}=n,i={delay:100,...r,...e,toastId:e.toastId||t,updateId:Fee()};i.toastId!==t&&(i.staleId=t);const o=i.render||s;delete i.render,Cw(o,i)}},0)},ae.done=t=>{ae.update(t,{progress:1})},ae.onChange=t=>(ac.on(4,t),()=>{ac.off(4,t)}),ae.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},ae.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},ac.on(2,t=>{XO=t.containerId||t,Hm.set(XO,t),ew.forEach(e=>{ac.emit(0,e.content,e.options)}),ew=[]}).on(3,t=>{Hm.delete(t.containerId||t),Hm.size===0&&ac.off(0).off(1).off(5)});const H$e=({onSuccess:t})=>{const[e,n]=C.useState({full_name:"",mobile:""}),[r,s]=C.useState(!1),[i,o]=C.useState(null),l=async()=>{if(!e.full_name||!e.mobile){o("       .");return}s(!0),o(null);const c=await M$e(e);s(!1),c.success?(ae.success("    ."),ae.info("        ."),n({full_name:"",mobile:""}),t&&t()):o(c.error||"   ")};return a.jsxs("div",{className:"p-2",children:[i&&a.jsx(kn,{color:"danger",children:i}),a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:"    "}),a.jsx(re,{value:e.full_name,onChange:c=>n({...e,full_name:c.target.value}),placeholder:":  "})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:"  ( )"}),a.jsx(re,{type:"tel",dir:"ltr",className:"text-start",value:e.mobile,onChange:c=>n({...e,mobile:c.target.value}),placeholder:"09xxxxxxxxx",maxLength:11}),a.jsx("small",{className:"text-muted",children:"            ."})]}),a.jsx("div",{className:"d-grid",children:a.jsx(me,{color:"success",onClick:l,disabled:r,children:r?a.jsx(pn,{size:"sm"}):"   "})})]})},q$e=()=>{const[t,e]=C.useState([]),[n,r]=C.useState(!0),[s,i]=C.useState(!1),o=async()=>{r(!0);try{const l=await L$e();e(l||[])}catch(l){console.error(l)}finally{r(!1)}};return C.useEffect(()=>{o()},[]),a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[a.jsx("h4",{className:"font-size-18 m-0",children:"   "}),a.jsxs(me,{color:"primary",onClick:()=>i(!0),children:[a.jsx("i",{className:"bx bx-user-plus me-1"}),"   "]})]}),a.jsx(dt,{children:a.jsx(ht,{children:a.jsx("div",{className:"table-responsive",children:a.jsxs(Mn,{className:"align-middle table-nowrap table-hover",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:"#"}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsxs("tbody",{children:[t.map((l,c)=>a.jsxs("tr",{children:[a.jsx("td",{children:c+1}),a.jsx("td",{className:"fw-bold",children:l.full_name}),a.jsx("td",{dir:"ltr",className:"text-end",children:l.mobile}),a.jsx("td",{children:a.jsx(ut,{color:"info",className:"font-size-12",children:""})}),a.jsx("td",{children:l.permissions&&l.permissions.length>0?a.jsxs(ut,{color:"primary",pill:!0,children:[l.permissions.length," "]}):a.jsx("span",{className:"text-muted small",children:"--"})}),a.jsx("td",{children:a.jsx(ut,{color:l.member_status==="active"?"success":"danger",children:l.member_status==="active"?"":""})}),a.jsx("td",{children:a.jsxs(Le,{to:`/members/edit/${l.id}`,className:"btn btn-outline-warning btn-sm",title:" ",children:[a.jsx("i",{className:"bx bx-shield-quarter me-1"})," "]})})]},l.id)),!n&&t.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"text-center py-4 text-muted",children:"   ."})})]})]})})})}),a.jsxs(zs,{isOpen:s,toggle:()=>i(!s),centered:!0,children:[a.jsx(Ui,{toggle:()=>i(!s),children:"  "}),a.jsx(Ni,{children:a.jsx(H$e,{onSuccess:()=>{i(!1),o()}})})]})]})})},Vee="/customers",Y$e=async()=>(await cn(Vee)).data,K$e=async t=>await Fa(`${Vee}/${t}`),J$e=()=>{const[t,e]=C.useState([]),[n,r]=C.useState([]),[s,i]=C.useState(!0),[o,l]=C.useState(""),[c,u]=C.useState(""),[d,h]=C.useState(""),m=async()=>{i(!0),l("");try{const y=await Y$e(),w=Array.isArray(y)?y:y.data||[];e(w),r(w)}catch(y){console.error(" Load error:",y),l("    ")}finally{i(!1)}};C.useEffect(()=>{m()},[]),C.useEffect(()=>{if(!d.trim()){r(t);return}const y=d.toLowerCase(),w=t.filter(v=>(v.name||"").toLowerCase().includes(y)||(v.mobile||"").toLowerCase().includes(y)||(v.national_id||"").toLowerCase().includes(y));r(w)},[d,t]);const p=async(y,w)=>{var v,x;if(window.confirm(`   "${w}"  `))try{await K$e(y),e(_=>_.filter(E=>E.id!==y)),r(_=>_.filter(E=>E.id!==y)),u(` "${w}"    `),setTimeout(()=>u(""),3e3)}catch(_){const E=((x=(v=_.response)==null?void 0:v.data)==null?void 0:x.error)||"   ";E.includes("foreign key")||E.includes("23503")?l("          ."):l(E),setTimeout(()=>l(""),5e3)}};return a.jsx(oe.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsxs("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:[a.jsx("h4",{className:"mb-sm-0 font-size-18",children:" "}),a.jsx("div",{className:"page-title-right",children:a.jsxs("ol",{className:"breadcrumb m-0",children:[a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Le,{to:"/dashboard",children:""})}),a.jsx("li",{className:"breadcrumb-item active",children:""})]})})]}),a.jsx(ge,{children:a.jsx($,{lg:12,children:a.jsx(dt,{children:a.jsxs(ht,{children:[a.jsxs("div",{className:"d-flex flex-wrap align-items-center justify-content-between mb-4",children:[a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx("div",{className:"avatar-sm me-3",children:a.jsx("div",{className:"avatar-title rounded-circle bg-soft-primary text-primary font-size-20",children:a.jsx("i",{className:"bx bx-user-circle"})})}),a.jsxs("div",{children:[a.jsx("h5",{className:"card-title mb-1",children:" "}),a.jsx("p",{className:"text-muted mb-0",children:"     "})]})]}),a.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[a.jsxs(me,{color:"light",onClick:m,disabled:s,children:[a.jsx("i",{className:`bx bx-refresh me-1 ${s?"bx-spin":""}`}),""]}),a.jsxs(Le,{to:"/customers/add",className:"btn btn-success",children:[a.jsx("i",{className:"bx bx-plus-circle me-1"})," "]})]})]}),o&&a.jsx(kn,{color:"danger",toggle:()=>l(""),children:o}),c&&a.jsx(kn,{color:"success",toggle:()=>u(""),children:c}),!s&&t.length>0&&a.jsxs(ge,{className:"mb-3",children:[a.jsx($,{md:5,children:a.jsx("div",{className:"search-box",children:a.jsxs("div",{className:"position-relative",children:[a.jsx(re,{type:"text",className:"form-control rounded-pill",placeholder:" (   ...)",value:d,onChange:y=>h(y.target.value)}),a.jsx("i",{className:"bx bx-search-alt search-icon"})]})})}),a.jsx($,{md:7,className:"text-end align-self-center",children:a.jsxs("div",{className:"text-muted font-size-12",children:[" : ",a.jsx("strong",{children:t.length})]})})]}),s?a.jsxs("div",{className:"text-center py-5",children:[a.jsx(pn,{color:"primary"}),a.jsx("p",{className:"mt-2 text-muted",children:"  ..."})]}):n.length===0?a.jsxs("div",{className:"text-center py-5",children:[a.jsx("div",{className:"avatar-md mx-auto mb-3",children:a.jsx("span",{className:"avatar-title rounded-circle bg-light text-secondary font-size-24",children:a.jsx("i",{className:"bx bx-user-x"})})}),a.jsx("h5",{className:"text-muted",children:"  "})]}):a.jsx("div",{className:"table-responsive",children:a.jsxs(Mn,{className:"table table-hover table-nowrap align-middle mb-0",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:60},children:"#"}),a.jsx("th",{children:"   "}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:"  / "}),a.jsx("th",{className:"text-center",children:""})]})}),a.jsx("tbody",{children:n.map((y,w)=>a.jsxs("tr",{children:[a.jsx("td",{children:w+1}),a.jsxs("td",{children:[a.jsx("h5",{className:"font-size-14 text-truncate mb-1",children:a.jsxs(Le,{to:`/customers/edit/${y.id}`,className:"text-dark",children:[y.name," "]})}),y.address&&a.jsx("small",{className:"text-muted text-truncate d-block",style:{maxWidth:"200px"},children:y.address})]}),a.jsx("td",{children:y.customer_type==="company"?a.jsx(ut,{color:"warning",className:"badge-soft-warning",children:""}):a.jsx(ut,{color:"info",className:"badge-soft-info",children:""})}),a.jsx("td",{children:y.mobile||"-"}),a.jsx("td",{children:y.national_id||"-"}),a.jsx("td",{className:"text-center",children:a.jsxs("div",{className:"d-flex gap-2 justify-content-center",children:[a.jsx(Le,{to:`/customers/edit/${y.id}`,className:"btn btn-sm btn-soft-primary",children:a.jsx("i",{className:"bx bx-pencil font-size-16"})}),a.jsx(me,{size:"sm",color:"soft-danger",onClick:()=>p(y.id,y.name),children:a.jsx("i",{className:"bx bx-trash font-size-16"})})]})})]},y.id))})]})})]})})})})]})})})};function Q$e(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Uee={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(vl,function(){var n;function r(){return n.apply(null,arguments)}function s(b){n=b}function i(b){return b instanceof Array||Object.prototype.toString.call(b)==="[object Array]"}function o(b){return b!=null&&Object.prototype.toString.call(b)==="[object Object]"}function l(b,j){return Object.prototype.hasOwnProperty.call(b,j)}function c(b){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(b).length===0;var j;for(j in b)if(l(b,j))return!1;return!0}function u(b){return b===void 0}function d(b){return typeof b=="number"||Object.prototype.toString.call(b)==="[object Number]"}function h(b){return b instanceof Date||Object.prototype.toString.call(b)==="[object Date]"}function m(b,j){var k=[],R,W=b.length;for(R=0;R<W;++R)k.push(j(b[R],R));return k}function p(b,j){for(var k in j)l(j,k)&&(b[k]=j[k]);return l(j,"toString")&&(b.toString=j.toString),l(j,"valueOf")&&(b.valueOf=j.valueOf),b}function y(b,j,k,R){return bh(b,j,k,R,!0).utc()}function w(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(b){return b._pf==null&&(b._pf=w()),b._pf}var x;Array.prototype.some?x=Array.prototype.some:x=function(b){var j=Object(this),k=j.length>>>0,R;for(R=0;R<k;R++)if(R in j&&b.call(this,j[R],R,j))return!0;return!1};function _(b){var j=null,k=!1,R=b._d&&!isNaN(b._d.getTime());if(R&&(j=v(b),k=x.call(j.parsedDateParts,function(W){return W!=null}),R=j.overflow<0&&!j.empty&&!j.invalidEra&&!j.invalidMonth&&!j.invalidWeekday&&!j.weekdayMismatch&&!j.nullInput&&!j.invalidFormat&&!j.userInvalidated&&(!j.meridiem||j.meridiem&&k),b._strict&&(R=R&&j.charsLeftOver===0&&j.unusedTokens.length===0&&j.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(b))b._isValid=R;else return R;return b._isValid}function E(b){var j=y(NaN);return b!=null?p(v(j),b):v(j).userInvalidated=!0,j}var T=r.momentProperties=[],N=!1;function D(b,j){var k,R,W,le=T.length;if(u(j._isAMomentObject)||(b._isAMomentObject=j._isAMomentObject),u(j._i)||(b._i=j._i),u(j._f)||(b._f=j._f),u(j._l)||(b._l=j._l),u(j._strict)||(b._strict=j._strict),u(j._tzm)||(b._tzm=j._tzm),u(j._isUTC)||(b._isUTC=j._isUTC),u(j._offset)||(b._offset=j._offset),u(j._pf)||(b._pf=v(j)),u(j._locale)||(b._locale=j._locale),le>0)for(k=0;k<le;k++)R=T[k],W=j[R],u(W)||(b[R]=W);return b}function O(b){D(this,b),this._d=new Date(b._d!=null?b._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),N===!1&&(N=!0,r.updateOffset(this),N=!1)}function F(b){return b instanceof O||b!=null&&b._isAMomentObject!=null}function V(b){r.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+b)}function z(b,j){var k=!0;return p(function(){if(r.deprecationHandler!=null&&r.deprecationHandler(null,b),k){var R=[],W,le,Ie,jt=arguments.length;for(le=0;le<jt;le++){if(W="",typeof arguments[le]=="object"){W+=`
[`+le+"] ";for(Ie in arguments[0])l(arguments[0],Ie)&&(W+=Ie+": "+arguments[0][Ie]+", ");W=W.slice(0,-2)}else W=arguments[le];R.push(W)}V(b+`
Arguments: `+Array.prototype.slice.call(R).join("")+`
`+new Error().stack),k=!1}return j.apply(this,arguments)},j)}var U={};function H(b,j){r.deprecationHandler!=null&&r.deprecationHandler(b,j),U[b]||(V(j),U[b]=!0)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null;function J(b){return typeof Function<"u"&&b instanceof Function||Object.prototype.toString.call(b)==="[object Function]"}function q(b){var j,k;for(k in b)l(b,k)&&(j=b[k],J(j)?this[k]=j:this["_"+k]=j);this._config=b,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function L(b,j){var k=p({},b),R;for(R in j)l(j,R)&&(o(b[R])&&o(j[R])?(k[R]={},p(k[R],b[R]),p(k[R],j[R])):j[R]!=null?k[R]=j[R]:delete k[R]);for(R in b)l(b,R)&&!l(j,R)&&o(b[R])&&(k[R]=p({},k[R]));return k}function Y(b){b!=null&&this.set(b)}var ne;Object.keys?ne=Object.keys:ne=function(b){var j,k=[];for(j in b)l(b,j)&&k.push(j);return k};var te={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function ce(b,j,k){var R=this._calendar[b]||this._calendar.sameElse;return J(R)?R.call(j,k):R}function ve(b,j,k){var R=""+Math.abs(b),W=j-R.length,le=b>=0;return(le?k?"+":"":"-")+Math.pow(10,Math.max(0,W)).toString().substr(1)+R}var Ue=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ae=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,at={},it={};function Te(b,j,k,R){var W=R;typeof R=="string"&&(W=function(){return this[R]()}),b&&(it[b]=W),j&&(it[j[0]]=function(){return ve(W.apply(this,arguments),j[1],j[2])}),k&&(it[k]=function(){return this.localeData().ordinal(W.apply(this,arguments),b)})}function Tt(b){return b.match(/\[[\s\S]/)?b.replace(/^\[|\]$/g,""):b.replace(/\\/g,"")}function ct(b){var j=b.match(Ue),k,R;for(k=0,R=j.length;k<R;k++)it[j[k]]?j[k]=it[j[k]]:j[k]=Tt(j[k]);return function(W){var le="",Ie;for(Ie=0;Ie<R;Ie++)le+=J(j[Ie])?j[Ie].call(W,b):j[Ie];return le}}function pt(b,j){return b.isValid()?(j=vt(j,b.localeData()),at[j]=at[j]||ct(j),at[j](b)):b.localeData().invalidDate()}function vt(b,j){var k=5;function R(W){return j.longDateFormat(W)||W}for(Ae.lastIndex=0;k>=0&&Ae.test(b);)b=b.replace(Ae,R),Ae.lastIndex=0,k-=1;return b}var Ht={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function It(b){var j=this._longDateFormat[b],k=this._longDateFormat[b.toUpperCase()];return j||!k?j:(this._longDateFormat[b]=k.match(Ue).map(function(R){return R==="MMMM"||R==="MM"||R==="DD"||R==="dddd"?R.slice(1):R}).join(""),this._longDateFormat[b])}var Ut="Invalid date";function Xt(){return this._invalidDate}var Ee="%d",We=/\d{1,2}/;function Jt(b){return this._ordinal.replace("%d",b)}var ke={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function lt(b,j,k,R){var W=this._relativeTime[k];return J(W)?W(b,j,k,R):W.replace(/%d/i,b)}function _e(b,j){var k=this._relativeTime[b>0?"future":"past"];return J(k)?k(j):k.replace(/%s/i,j)}var Q={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ee(b){return typeof b=="string"?Q[b]||Q[b.toLowerCase()]:void 0}function Z(b){var j={},k,R;for(R in b)l(b,R)&&(k=ee(R),k&&(j[k]=b[R]));return j}var ye={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function be(b){var j=[],k;for(k in b)l(b,k)&&j.push({unit:k,priority:ye[k]});return j.sort(function(R,W){return R.priority-W.priority}),j}var A=/\d/,B=/\d\d/,se=/\d{3}/,de=/\d{4}/,Se=/[+-]?\d{6}/,we=/\d\d?/,Me=/\d\d\d\d?/,tt=/\d\d\d\d\d\d?/,Re=/\d{1,3}/,qe=/\d{1,4}/,Je=/[+-]?\d{1,6}/,nt=/\d+/,rt=/[+-]?\d+/,Dt=/Z|[+-]\d\d:?\d\d/gi,yn=/Z|[+-]\d\d(?::?\d\d)?/gi,vn=/[+-]?\d+(\.\d{1,3})?/,qt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,tn=/^[1-9]\d?/,Xn=/^([1-9]\d|\d)/,Kn;Kn={};function Qe(b,j,k){Kn[b]=J(j)?j:function(R,W){return R&&k?k:j}}function or(b,j){return l(Kn,b)?Kn[b](j._strict,j._locale):new RegExp(an(b))}function an(b){return zn(b.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(j,k,R,W,le){return k||R||W||le}))}function zn(b){return b.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Wt(b){return b<0?Math.ceil(b)||0:Math.floor(b)}function Ze(b){var j=+b,k=0;return j!==0&&isFinite(j)&&(k=Wt(j)),k}var At={};function ot(b,j){var k,R=j,W;for(typeof b=="string"&&(b=[b]),d(j)&&(R=function(le,Ie){Ie[j]=Ze(le)}),W=b.length,k=0;k<W;k++)At[b[k]]=R}function Pt(b,j){ot(b,function(k,R,W,le){W._w=W._w||{},j(k,W._w,W,le)})}function _n(b,j,k){j!=null&&l(At,b)&&At[b](j,k._a,k,b)}function Qt(b){return b%4===0&&b%100!==0||b%400===0}var xt=0,St=1,Lt=2,kt=3,Bt=4,xr=5,pr=6,_a=7,On=8;Te("Y",0,0,function(){var b=this.year();return b<=9999?ve(b,4):"+"+b}),Te(0,["YY",2],0,function(){return this.year()%100}),Te(0,["YYYY",4],0,"year"),Te(0,["YYYYY",5],0,"year"),Te(0,["YYYYYY",6,!0],0,"year"),Qe("Y",rt),Qe("YY",we,B),Qe("YYYY",qe,de),Qe("YYYYY",Je,Se),Qe("YYYYYY",Je,Se),ot(["YYYYY","YYYYYY"],xt),ot("YYYY",function(b,j){j[xt]=b.length===2?r.parseTwoDigitYear(b):Ze(b)}),ot("YY",function(b,j){j[xt]=r.parseTwoDigitYear(b)}),ot("Y",function(b,j){j[xt]=parseInt(b,10)});function Rn(b){return Qt(b)?366:365}r.parseTwoDigitYear=function(b){return Ze(b)+(Ze(b)>68?1900:2e3)};var Mr=ls("FullYear",!0);function Ar(){return Qt(this.year())}function ls(b,j){return function(k){return k!=null?(Ki(this,b,k),r.updateOffset(this,j),this):Wn(this,b)}}function Wn(b,j){if(!b.isValid())return NaN;var k=b._d,R=b._isUTC;switch(j){case"Milliseconds":return R?k.getUTCMilliseconds():k.getMilliseconds();case"Seconds":return R?k.getUTCSeconds():k.getSeconds();case"Minutes":return R?k.getUTCMinutes():k.getMinutes();case"Hours":return R?k.getUTCHours():k.getHours();case"Date":return R?k.getUTCDate():k.getDate();case"Day":return R?k.getUTCDay():k.getDay();case"Month":return R?k.getUTCMonth():k.getMonth();case"FullYear":return R?k.getUTCFullYear():k.getFullYear();default:return NaN}}function Ki(b,j,k){var R,W,le,Ie,jt;if(!(!b.isValid()||isNaN(k))){switch(R=b._d,W=b._isUTC,j){case"Milliseconds":return void(W?R.setUTCMilliseconds(k):R.setMilliseconds(k));case"Seconds":return void(W?R.setUTCSeconds(k):R.setSeconds(k));case"Minutes":return void(W?R.setUTCMinutes(k):R.setMinutes(k));case"Hours":return void(W?R.setUTCHours(k):R.setHours(k));case"Date":return void(W?R.setUTCDate(k):R.setDate(k));case"FullYear":break;default:return}le=k,Ie=b.month(),jt=b.date(),jt=jt===29&&Ie===1&&!Qt(le)?28:jt,W?R.setUTCFullYear(le,Ie,jt):R.setFullYear(le,Ie,jt)}}function vs(b){return b=ee(b),J(this[b])?this[b]():this}function ki(b,j){if(typeof b=="object"){b=Z(b);var k=be(b),R,W=k.length;for(R=0;R<W;R++)this[k[R].unit](b[k[R].unit])}else if(b=ee(b),J(this[b]))return this[b](j);return this}function Rs(b,j){return(b%j+j)%j}var Gn;Array.prototype.indexOf?Gn=Array.prototype.indexOf:Gn=function(b){var j;for(j=0;j<this.length;++j)if(this[j]===b)return j;return-1};function Ur(b,j){if(isNaN(b)||isNaN(j))return NaN;var k=Rs(j,12);return b+=(j-k)/12,k===1?Qt(b)?29:28:31-k%7%2}Te("M",["MM",2],"Mo",function(){return this.month()+1}),Te("MMM",0,0,function(b){return this.localeData().monthsShort(this,b)}),Te("MMMM",0,0,function(b){return this.localeData().months(this,b)}),Qe("M",we,tn),Qe("MM",we,B),Qe("MMM",function(b,j){return j.monthsShortRegex(b)}),Qe("MMMM",function(b,j){return j.monthsRegex(b)}),ot(["M","MM"],function(b,j){j[St]=Ze(b)-1}),ot(["MMM","MMMM"],function(b,j,k,R){var W=k._locale.monthsParse(b,R,k._strict);W!=null?j[St]=W:v(k).invalidMonth=b});var ur="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),gr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),zr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,bs=qt,Qr=qt;function Va(b,j){return b?i(this._months)?this._months[b.month()]:this._months[(this._months.isFormat||zr).test(j)?"format":"standalone"][b.month()]:i(this._months)?this._months:this._months.standalone}function Ji(b,j){return b?i(this._monthsShort)?this._monthsShort[b.month()]:this._monthsShort[zr.test(j)?"format":"standalone"][b.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Qi(b,j,k){var R,W,le,Ie=b.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],R=0;R<12;++R)le=y([2e3,R]),this._shortMonthsParse[R]=this.monthsShort(le,"").toLocaleLowerCase(),this._longMonthsParse[R]=this.months(le,"").toLocaleLowerCase();return k?j==="MMM"?(W=Gn.call(this._shortMonthsParse,Ie),W!==-1?W:null):(W=Gn.call(this._longMonthsParse,Ie),W!==-1?W:null):j==="MMM"?(W=Gn.call(this._shortMonthsParse,Ie),W!==-1?W:(W=Gn.call(this._longMonthsParse,Ie),W!==-1?W:null)):(W=Gn.call(this._longMonthsParse,Ie),W!==-1?W:(W=Gn.call(this._shortMonthsParse,Ie),W!==-1?W:null))}function Oi(b,j,k){var R,W,le;if(this._monthsParseExact)return Qi.call(this,b,j,k);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),R=0;R<12;R++){if(W=y([2e3,R]),k&&!this._longMonthsParse[R]&&(this._longMonthsParse[R]=new RegExp("^"+this.months(W,"").replace(".","")+"$","i"),this._shortMonthsParse[R]=new RegExp("^"+this.monthsShort(W,"").replace(".","")+"$","i")),!k&&!this._monthsParse[R]&&(le="^"+this.months(W,"")+"|^"+this.monthsShort(W,""),this._monthsParse[R]=new RegExp(le.replace(".",""),"i")),k&&j==="MMMM"&&this._longMonthsParse[R].test(b))return R;if(k&&j==="MMM"&&this._shortMonthsParse[R].test(b))return R;if(!k&&this._monthsParse[R].test(b))return R}}function Ua(b,j){if(!b.isValid())return b;if(typeof j=="string"){if(/^\d+$/.test(j))j=Ze(j);else if(j=b.localeData().monthsParse(j),!d(j))return b}var k=j,R=b.date();return R=R<29?R:Math.min(R,Ur(b.year(),k)),b._isUTC?b._d.setUTCMonth(k,R):b._d.setMonth(k,R),b}function bi(b){return b!=null?(Ua(this,b),r.updateOffset(this,!0),this):Wn(this,"Month")}function el(){return Ur(this.year(),this.month())}function mo(b){return this._monthsParseExact?(l(this,"_monthsRegex")||Ul.call(this),b?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=bs),this._monthsShortStrictRegex&&b?this._monthsShortStrictRegex:this._monthsShortRegex)}function du(b){return this._monthsParseExact?(l(this,"_monthsRegex")||Ul.call(this),b?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=Qr),this._monthsStrictRegex&&b?this._monthsStrictRegex:this._monthsRegex)}function Ul(){function b(bn,qn){return qn.length-bn.length}var j=[],k=[],R=[],W,le,Ie,jt;for(W=0;W<12;W++)le=y([2e3,W]),Ie=zn(this.monthsShort(le,"")),jt=zn(this.months(le,"")),j.push(Ie),k.push(jt),R.push(jt),R.push(Ie);j.sort(b),k.sort(b),R.sort(b),this._monthsRegex=new RegExp("^("+R.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+k.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+j.join("|")+")","i")}function tl(b,j,k,R,W,le,Ie){var jt;return b<100&&b>=0?(jt=new Date(b+400,j,k,R,W,le,Ie),isFinite(jt.getFullYear())&&jt.setFullYear(b)):jt=new Date(b,j,k,R,W,le,Ie),jt}function po(b){var j,k;return b<100&&b>=0?(k=Array.prototype.slice.call(arguments),k[0]=b+400,j=new Date(Date.UTC.apply(null,k)),isFinite(j.getUTCFullYear())&&j.setUTCFullYear(b)):j=new Date(Date.UTC.apply(null,arguments)),j}function Bl(b,j,k){var R=7+j-k,W=(7+po(b,0,R).getUTCDay()-j)%7;return-W+R-1}function hu(b,j,k,R,W){var le=(7+k-R)%7,Ie=Bl(b,R,W),jt=1+7*(j-1)+le+Ie,bn,qn;return jt<=0?(bn=b-1,qn=Rn(bn)+jt):jt>Rn(b)?(bn=b+1,qn=jt-Rn(b)):(bn=b,qn=jt),{year:bn,dayOfYear:qn}}function go(b,j,k){var R=Bl(b.year(),j,k),W=Math.floor((b.dayOfYear()-R-1)/7)+1,le,Ie;return W<1?(Ie=b.year()-1,le=W+Qs(Ie,j,k)):W>Qs(b.year(),j,k)?(le=W-Qs(b.year(),j,k),Ie=b.year()+1):(Ie=b.year(),le=W),{week:le,year:Ie}}function Qs(b,j,k){var R=Bl(b,j,k),W=Bl(b+1,j,k);return(Rn(b)-R+W)/7}Te("w",["ww",2],"wo","week"),Te("W",["WW",2],"Wo","isoWeek"),Qe("w",we,tn),Qe("ww",we,B),Qe("W",we,tn),Qe("WW",we,B),Pt(["w","ww","W","WW"],function(b,j,k,R){j[R.substr(0,1)]=Ze(b)});function Tc(b){return go(b,this._week.dow,this._week.doy).week}var _s={dow:0,doy:6};function wa(){return this._week.dow}function Ba(){return this._week.doy}function _i(b){var j=this.localeData().week(this);return b==null?j:this.add((b-j)*7,"d")}function yo(b){var j=go(this,1,4).week;return b==null?j:this.add((b-j)*7,"d")}Te("d",0,"do","day"),Te("dd",0,0,function(b){return this.localeData().weekdaysMin(this,b)}),Te("ddd",0,0,function(b){return this.localeData().weekdaysShort(this,b)}),Te("dddd",0,0,function(b){return this.localeData().weekdays(this,b)}),Te("e",0,0,"weekday"),Te("E",0,0,"isoWeekday"),Qe("d",we),Qe("e",we),Qe("E",we),Qe("dd",function(b,j){return j.weekdaysMinRegex(b)}),Qe("ddd",function(b,j){return j.weekdaysShortRegex(b)}),Qe("dddd",function(b,j){return j.weekdaysRegex(b)}),Pt(["dd","ddd","dddd"],function(b,j,k,R){var W=k._locale.weekdaysParse(b,R,k._strict);W!=null?j.d=W:v(k).invalidWeekday=b}),Pt(["d","e","E"],function(b,j,k,R){j[R]=Ze(b)});function Ri(b,j){return typeof b!="string"?b:isNaN(b)?(b=j.weekdaysParse(b),typeof b=="number"?b:null):parseInt(b,10)}function fu(b,j){return typeof b=="string"?j.weekdaysParse(b)%7||7:isNaN(b)?null:b}function Pi(b,j){return b.slice(j,7).concat(b.slice(0,j))}var mu="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),pu="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),gu="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),yu=qt,nl=qt,vo=qt;function rl(b,j){var k=i(this._weekdays)?this._weekdays:this._weekdays[b&&b!==!0&&this._weekdays.isFormat.test(j)?"format":"standalone"];return b===!0?Pi(k,this._week.dow):b?k[b.day()]:k}function er(b){return b===!0?Pi(this._weekdaysShort,this._week.dow):b?this._weekdaysShort[b.day()]:this._weekdaysShort}function Zi(b){return b===!0?Pi(this._weekdaysMin,this._week.dow):b?this._weekdaysMin[b.day()]:this._weekdaysMin}function cd(b,j,k){var R,W,le,Ie=b.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],R=0;R<7;++R)le=y([2e3,1]).day(R),this._minWeekdaysParse[R]=this.weekdaysMin(le,"").toLocaleLowerCase(),this._shortWeekdaysParse[R]=this.weekdaysShort(le,"").toLocaleLowerCase(),this._weekdaysParse[R]=this.weekdays(le,"").toLocaleLowerCase();return k?j==="dddd"?(W=Gn.call(this._weekdaysParse,Ie),W!==-1?W:null):j==="ddd"?(W=Gn.call(this._shortWeekdaysParse,Ie),W!==-1?W:null):(W=Gn.call(this._minWeekdaysParse,Ie),W!==-1?W:null):j==="dddd"?(W=Gn.call(this._weekdaysParse,Ie),W!==-1||(W=Gn.call(this._shortWeekdaysParse,Ie),W!==-1)?W:(W=Gn.call(this._minWeekdaysParse,Ie),W!==-1?W:null)):j==="ddd"?(W=Gn.call(this._shortWeekdaysParse,Ie),W!==-1||(W=Gn.call(this._weekdaysParse,Ie),W!==-1)?W:(W=Gn.call(this._minWeekdaysParse,Ie),W!==-1?W:null)):(W=Gn.call(this._minWeekdaysParse,Ie),W!==-1||(W=Gn.call(this._weekdaysParse,Ie),W!==-1)?W:(W=Gn.call(this._shortWeekdaysParse,Ie),W!==-1?W:null))}function gt(b,j,k){var R,W,le;if(this._weekdaysParseExact)return cd.call(this,b,j,k);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),R=0;R<7;R++){if(W=y([2e3,1]).day(R),k&&!this._fullWeekdaysParse[R]&&(this._fullWeekdaysParse[R]=new RegExp("^"+this.weekdays(W,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[R]=new RegExp("^"+this.weekdaysShort(W,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[R]=new RegExp("^"+this.weekdaysMin(W,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[R]||(le="^"+this.weekdays(W,"")+"|^"+this.weekdaysShort(W,"")+"|^"+this.weekdaysMin(W,""),this._weekdaysParse[R]=new RegExp(le.replace(".",""),"i")),k&&j==="dddd"&&this._fullWeekdaysParse[R].test(b))return R;if(k&&j==="ddd"&&this._shortWeekdaysParse[R].test(b))return R;if(k&&j==="dd"&&this._minWeekdaysParse[R].test(b))return R;if(!k&&this._weekdaysParse[R].test(b))return R}}function Fn(b){if(!this.isValid())return b!=null?this:NaN;var j=Wn(this,"Day");return b!=null?(b=Ri(b,this.localeData()),this.add(b-j,"d")):j}function Nn(b){if(!this.isValid())return b!=null?this:NaN;var j=(this.day()+7-this.localeData()._week.dow)%7;return b==null?j:this.add(b-j,"d")}function Tn(b){if(!this.isValid())return b!=null?this:NaN;if(b!=null){var j=fu(b,this.localeData());return this.day(this.day()%7?j:j-7)}else return this.day()||7}function wn(b){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||cs.call(this),b?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=yu),this._weekdaysStrictRegex&&b?this._weekdaysStrictRegex:this._weekdaysRegex)}function on(b){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||cs.call(this),b?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=nl),this._weekdaysShortStrictRegex&&b?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Er(b){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||cs.call(this),b?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=vo),this._weekdaysMinStrictRegex&&b?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function cs(){function b(ta,Kl){return Kl.length-ta.length}var j=[],k=[],R=[],W=[],le,Ie,jt,bn,qn;for(le=0;le<7;le++)Ie=y([2e3,1]).day(le),jt=zn(this.weekdaysMin(Ie,"")),bn=zn(this.weekdaysShort(Ie,"")),qn=zn(this.weekdays(Ie,"")),j.push(jt),k.push(bn),R.push(qn),W.push(jt),W.push(bn),W.push(qn);j.sort(b),k.sort(b),R.sort(b),W.sort(b),this._weekdaysRegex=new RegExp("^("+W.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+R.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+k.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+j.join("|")+")","i")}function Zs(){return this.hours()%12||12}function za(){return this.hours()||24}Te("H",["HH",2],0,"hour"),Te("h",["hh",2],0,Zs),Te("k",["kk",2],0,za),Te("hmm",0,0,function(){return""+Zs.apply(this)+ve(this.minutes(),2)}),Te("hmmss",0,0,function(){return""+Zs.apply(this)+ve(this.minutes(),2)+ve(this.seconds(),2)}),Te("Hmm",0,0,function(){return""+this.hours()+ve(this.minutes(),2)}),Te("Hmmss",0,0,function(){return""+this.hours()+ve(this.minutes(),2)+ve(this.seconds(),2)});function Wa(b,j){Te(b,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),j)})}Wa("a",!0),Wa("A",!1);function xa(b,j){return j._meridiemParse}Qe("a",xa),Qe("A",xa),Qe("H",we,Xn),Qe("h",we,tn),Qe("k",we,tn),Qe("HH",we,B),Qe("hh",we,B),Qe("kk",we,B),Qe("hmm",Me),Qe("hmmss",tt),Qe("Hmm",Me),Qe("Hmmss",tt),ot(["H","HH"],kt),ot(["k","kk"],function(b,j,k){var R=Ze(b);j[kt]=R===24?0:R}),ot(["a","A"],function(b,j,k){k._isPm=k._locale.isPM(b),k._meridiem=b}),ot(["h","hh"],function(b,j,k){j[kt]=Ze(b),v(k).bigHour=!0}),ot("hmm",function(b,j,k){var R=b.length-2;j[kt]=Ze(b.substr(0,R)),j[Bt]=Ze(b.substr(R)),v(k).bigHour=!0}),ot("hmmss",function(b,j,k){var R=b.length-4,W=b.length-2;j[kt]=Ze(b.substr(0,R)),j[Bt]=Ze(b.substr(R,2)),j[xr]=Ze(b.substr(W)),v(k).bigHour=!0}),ot("Hmm",function(b,j,k){var R=b.length-2;j[kt]=Ze(b.substr(0,R)),j[Bt]=Ze(b.substr(R))}),ot("Hmmss",function(b,j,k){var R=b.length-4,W=b.length-2;j[kt]=Ze(b.substr(0,R)),j[Bt]=Ze(b.substr(R,2)),j[xr]=Ze(b.substr(W))});function Ge(b){return(b+"").toLowerCase().charAt(0)==="p"}var nn=/[ap]\.?m?\.?/i,un=ls("Hours",!0);function Ps(b,j,k){return b>11?k?"pm":"PM":k?"am":"AM"}var us={calendar:te,longDateFormat:Ht,invalidDate:Ut,ordinal:Ee,dayOfMonthOrdinalParse:We,relativeTime:ke,months:ur,monthsShort:gr,week:_s,weekdays:mu,weekdaysMin:gu,weekdaysShort:pu,meridiemParse:nn},Cn={},ws={},ds;function vu(b,j){var k,R=Math.min(b.length,j.length);for(k=0;k<R;k+=1)if(b[k]!==j[k])return k;return R}function yr(b){return b&&b.toLowerCase().replace("_","-")}function bu(b){for(var j=0,k,R,W,le;j<b.length;){for(le=yr(b[j]).split("-"),k=le.length,R=yr(b[j+1]),R=R?R.split("-"):null;k>0;){if(W=ud(le.slice(0,k).join("-")),W)return W;if(R&&R.length>=k&&vu(le,R)>=k-1)break;k--}j++}return ds}function hm(b){return!!(b&&b.match("^[^/\\\\]*$"))}function ud(b){var j=null,k;if(Cn[b]===void 0&&t&&t.exports&&hm(b))try{j=ds._abbr,k=Q$e,k("./locale/"+b),sl(j)}catch{Cn[b]=null}return Cn[b]}function sl(b,j){var k;return b&&(u(j)?k=Ds(b):k=Xi(b,j),k?ds=k:typeof console<"u"&&console.warn&&console.warn("Locale "+b+" not found. Did you forget to load it?")),ds._abbr}function Xi(b,j){if(j!==null){var k,R=us;if(j.abbr=b,Cn[b]!=null)H("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),R=Cn[b]._config;else if(j.parentLocale!=null)if(Cn[j.parentLocale]!=null)R=Cn[j.parentLocale]._config;else if(k=ud(j.parentLocale),k!=null)R=k._config;else return ws[j.parentLocale]||(ws[j.parentLocale]=[]),ws[j.parentLocale].push({name:b,config:j}),null;return Cn[b]=new Y(L(R,j)),ws[b]&&ws[b].forEach(function(W){Xi(W.name,W.config)}),sl(b),Cn[b]}else return delete Cn[b],null}function fI(b,j){if(j!=null){var k,R,W=us;Cn[b]!=null&&Cn[b].parentLocale!=null?Cn[b].set(L(Cn[b]._config,j)):(R=ud(b),R!=null&&(W=R._config),j=L(W,j),R==null&&(j.abbr=b),k=new Y(j),k.parentLocale=Cn[b],Cn[b]=k),sl(b)}else Cn[b]!=null&&(Cn[b].parentLocale!=null?(Cn[b]=Cn[b].parentLocale,b===sl()&&sl(b)):Cn[b]!=null&&delete Cn[b]);return Cn[b]}function Ds(b){var j;if(b&&b._locale&&b._locale._abbr&&(b=b._locale._abbr),!b)return ds;if(!i(b)){if(j=ud(b),j)return j;b=[b]}return bu(b)}function mI(){return ne(Cn)}function Tg(b){var j,k=b._a;return k&&v(b).overflow===-2&&(j=k[St]<0||k[St]>11?St:k[Lt]<1||k[Lt]>Ur(k[xt],k[St])?Lt:k[kt]<0||k[kt]>24||k[kt]===24&&(k[Bt]!==0||k[xr]!==0||k[pr]!==0)?kt:k[Bt]<0||k[Bt]>59?Bt:k[xr]<0||k[xr]>59?xr:k[pr]<0||k[pr]>999?pr:-1,v(b)._overflowDayOfYear&&(j<xt||j>Lt)&&(j=Lt),v(b)._overflowWeeks&&j===-1&&(j=_a),v(b)._overflowWeekday&&j===-1&&(j=On),v(b).overflow=j),b}var _u=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Cg=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Wb=/Z|[+-]\d\d(?::?\d\d)?/,Ir=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],zl=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Gb=/^\/?Date\((-?\d+)/i,pI=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Hb={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function mE(b){var j,k,R=b._i,W=_u.exec(R)||Cg.exec(R),le,Ie,jt,bn,qn=Ir.length,ta=zl.length;if(W){for(v(b).iso=!0,j=0,k=qn;j<k;j++)if(Ir[j][1].exec(W[1])){Ie=Ir[j][0],le=Ir[j][2]!==!1;break}if(Ie==null){b._isValid=!1;return}if(W[3]){for(j=0,k=ta;j<k;j++)if(zl[j][1].exec(W[3])){jt=(W[2]||" ")+zl[j][0];break}if(jt==null){b._isValid=!1;return}}if(!le&&jt!=null){b._isValid=!1;return}if(W[4])if(Wb.exec(W[4]))bn="Z";else{b._isValid=!1;return}b._f=Ie+(jt||"")+(bn||""),Yb(b)}else b._isValid=!1}function gI(b,j,k,R,W,le){var Ie=[yI(b),gr.indexOf(j),parseInt(k,10),parseInt(R,10),parseInt(W,10)];return le&&Ie.push(parseInt(le,10)),Ie}function yI(b){var j=parseInt(b,10);return j<=49?2e3+j:j<=999?1900+j:j}function pE(b){return b.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ag(b,j,k){if(b){var R=pu.indexOf(b),W=new Date(j[0],j[1],j[2]).getDay();if(R!==W)return v(k).weekdayMismatch=!0,k._isValid=!1,!1}return!0}function vh(b,j,k){if(b)return Hb[b];if(j)return 0;var R=parseInt(k,10),W=R%100,le=(R-W)/100;return le*60+W}function gE(b){var j=pI.exec(pE(b._i)),k;if(j){if(k=gI(j[4],j[3],j[2],j[5],j[6],j[7]),!Ag(j[1],k,b))return;b._a=k,b._tzm=vh(j[8],j[9],j[10]),b._d=po.apply(null,b._a),b._d.setUTCMinutes(b._d.getUTCMinutes()-b._tzm),v(b).rfc2822=!0}else b._isValid=!1}function yE(b){var j=Gb.exec(b._i);if(j!==null){b._d=new Date(+j[1]);return}if(mE(b),b._isValid===!1)delete b._isValid;else return;if(gE(b),b._isValid===!1)delete b._isValid;else return;b._strict?b._isValid=!1:r.createFromInputFallback(b)}r.createFromInputFallback=z("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(b){b._d=new Date(b._i+(b._useUTC?" UTC":""))});function dd(b,j,k){return b??j??k}function qb(b){var j=new Date(r.now());return b._useUTC?[j.getUTCFullYear(),j.getUTCMonth(),j.getUTCDate()]:[j.getFullYear(),j.getMonth(),j.getDate()]}function fm(b){var j,k,R=[],W,le,Ie;if(!b._d){for(W=qb(b),b._w&&b._a[Lt]==null&&b._a[St]==null&&vE(b),b._dayOfYear!=null&&(Ie=dd(b._a[xt],W[xt]),(b._dayOfYear>Rn(Ie)||b._dayOfYear===0)&&(v(b)._overflowDayOfYear=!0),k=po(Ie,0,b._dayOfYear),b._a[St]=k.getUTCMonth(),b._a[Lt]=k.getUTCDate()),j=0;j<3&&b._a[j]==null;++j)b._a[j]=R[j]=W[j];for(;j<7;j++)b._a[j]=R[j]=b._a[j]==null?j===2?1:0:b._a[j];b._a[kt]===24&&b._a[Bt]===0&&b._a[xr]===0&&b._a[pr]===0&&(b._nextDay=!0,b._a[kt]=0),b._d=(b._useUTC?po:tl).apply(null,R),le=b._useUTC?b._d.getUTCDay():b._d.getDay(),b._tzm!=null&&b._d.setUTCMinutes(b._d.getUTCMinutes()-b._tzm),b._nextDay&&(b._a[kt]=24),b._w&&typeof b._w.d<"u"&&b._w.d!==le&&(v(b).weekdayMismatch=!0)}}function vE(b){var j,k,R,W,le,Ie,jt,bn,qn;j=b._w,j.GG!=null||j.W!=null||j.E!=null?(le=1,Ie=4,k=dd(j.GG,b._a[xt],go($r(),1,4).year),R=dd(j.W,1),W=dd(j.E,1),(W<1||W>7)&&(bn=!0)):(le=b._locale._week.dow,Ie=b._locale._week.doy,qn=go($r(),le,Ie),k=dd(j.gg,b._a[xt],qn.year),R=dd(j.w,qn.week),j.d!=null?(W=j.d,(W<0||W>6)&&(bn=!0)):j.e!=null?(W=j.e+le,(j.e<0||j.e>6)&&(bn=!0)):W=le),R<1||R>Qs(k,le,Ie)?v(b)._overflowWeeks=!0:bn!=null?v(b)._overflowWeekday=!0:(jt=hu(k,R,W,le,Ie),b._a[xt]=jt.year,b._dayOfYear=jt.dayOfYear)}r.ISO_8601=function(){},r.RFC_2822=function(){};function Yb(b){if(b._f===r.ISO_8601){mE(b);return}if(b._f===r.RFC_2822){gE(b);return}b._a=[],v(b).empty=!0;var j=""+b._i,k,R,W,le,Ie,jt=j.length,bn=0,qn,ta;for(W=vt(b._f,b._locale).match(Ue)||[],ta=W.length,k=0;k<ta;k++)le=W[k],R=(j.match(or(le,b))||[])[0],R&&(Ie=j.substr(0,j.indexOf(R)),Ie.length>0&&v(b).unusedInput.push(Ie),j=j.slice(j.indexOf(R)+R.length),bn+=R.length),it[le]?(R?v(b).empty=!1:v(b).unusedTokens.push(le),_n(le,R,b)):b._strict&&!R&&v(b).unusedTokens.push(le);v(b).charsLeftOver=jt-bn,j.length>0&&v(b).unusedInput.push(j),b._a[kt]<=12&&v(b).bigHour===!0&&b._a[kt]>0&&(v(b).bigHour=void 0),v(b).parsedDateParts=b._a.slice(0),v(b).meridiem=b._meridiem,b._a[kt]=Kb(b._locale,b._a[kt],b._meridiem),qn=v(b).era,qn!==null&&(b._a[xt]=b._locale.erasConvertYear(qn,b._a[xt])),fm(b),Tg(b)}function Kb(b,j,k){var R;return k==null?j:b.meridiemHour!=null?b.meridiemHour(j,k):(b.isPM!=null&&(R=b.isPM(k),R&&j<12&&(j+=12),!R&&j===12&&(j=0)),j)}function Jb(b){var j,k,R,W,le,Ie,jt=!1,bn=b._f.length;if(bn===0){v(b).invalidFormat=!0,b._d=new Date(NaN);return}for(W=0;W<bn;W++)le=0,Ie=!1,j=D({},b),b._useUTC!=null&&(j._useUTC=b._useUTC),j._f=b._f[W],Yb(j),_(j)&&(Ie=!0),le+=v(j).charsLeftOver,le+=v(j).unusedTokens.length*10,v(j).score=le,jt?le<R&&(R=le,k=j):(R==null||le<R||Ie)&&(R=le,k=j,Ie&&(jt=!0));p(b,k||j)}function vI(b){if(!b._d){var j=Z(b._i),k=j.day===void 0?j.date:j.day;b._a=m([j.year,j.month,k,j.hour,j.minute,j.second,j.millisecond],function(R){return R&&parseInt(R,10)}),fm(b)}}function bE(b){var j=new O(Tg(Ea(b)));return j._nextDay&&(j.add(1,"d"),j._nextDay=void 0),j}function Ea(b){var j=b._i,k=b._f;return b._locale=b._locale||Ds(b._l),j===null||k===void 0&&j===""?E({nullInput:!0}):(typeof j=="string"&&(b._i=j=b._locale.preparse(j)),F(j)?new O(Tg(j)):(h(j)?b._d=j:i(k)?Jb(b):k?Yb(b):Qb(b),_(b)||(b._d=null),b))}function Qb(b){var j=b._i;u(j)?b._d=new Date(r.now()):h(j)?b._d=new Date(j.valueOf()):typeof j=="string"?yE(b):i(j)?(b._a=m(j.slice(0),function(k){return parseInt(k,10)}),fm(b)):o(j)?vI(b):d(j)?b._d=new Date(j):r.createFromInputFallback(b)}function bh(b,j,k,R,W){var le={};return(j===!0||j===!1)&&(R=j,j=void 0),(k===!0||k===!1)&&(R=k,k=void 0),(o(b)&&c(b)||i(b)&&b.length===0)&&(b=void 0),le._isAMomentObject=!0,le._useUTC=le._isUTC=W,le._l=k,le._i=b,le._f=j,le._strict=R,bE(le)}function $r(b,j,k,R){return bh(b,j,k,R,!1)}var _E=z("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var b=$r.apply(null,arguments);return this.isValid()&&b.isValid()?b<this?this:b:E()}),bI=z("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var b=$r.apply(null,arguments);return this.isValid()&&b.isValid()?b>this?this:b:E()});function wE(b,j){var k,R;if(j.length===1&&i(j[0])&&(j=j[0]),!j.length)return $r();for(k=j[0],R=1;R<j.length;++R)(!j[R].isValid()||j[R][b](k))&&(k=j[R]);return k}function _I(){var b=[].slice.call(arguments,0);return wE("isBefore",b)}function wI(){var b=[].slice.call(arguments,0);return wE("isAfter",b)}var xI=function(){return Date.now?Date.now():+new Date},Wl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function EI(b){var j,k=!1,R,W=Wl.length;for(j in b)if(l(b,j)&&!(Gn.call(Wl,j)!==-1&&(b[j]==null||!isNaN(b[j]))))return!1;for(R=0;R<W;++R)if(b[Wl[R]]){if(k)return!1;parseFloat(b[Wl[R]])!==Ze(b[Wl[R]])&&(k=!0)}return!0}function SI(){return this._isValid}function Zb(){return Jn(NaN)}function mm(b){var j=Z(b),k=j.year||0,R=j.quarter||0,W=j.month||0,le=j.week||j.isoWeek||0,Ie=j.day||0,jt=j.hour||0,bn=j.minute||0,qn=j.second||0,ta=j.millisecond||0;this._isValid=EI(j),this._milliseconds=+ta+qn*1e3+bn*6e4+jt*1e3*60*60,this._days=+Ie+le*7,this._months=+W+R*3+k*12,this._data={},this._locale=Ds(),this._bubble()}function il(b){return b instanceof mm}function _h(b){return b<0?Math.round(-1*b)*-1:Math.round(b)}function jI(b,j,k){var R=Math.min(b.length,j.length),W=Math.abs(b.length-j.length),le=0,Ie;for(Ie=0;Ie<R;Ie++)Ze(b[Ie])!==Ze(j[Ie])&&le++;return le+W}function xE(b,j){Te(b,0,0,function(){var k=this.utcOffset(),R="+";return k<0&&(k=-k,R="-"),R+ve(~~(k/60),2)+j+ve(~~k%60,2)})}xE("Z",":"),xE("ZZ",""),Qe("Z",yn),Qe("ZZ",yn),ot(["Z","ZZ"],function(b,j,k){k._useUTC=!0,k._tzm=wu(yn,b)});var TI=/([\+\-]|\d\d)/gi;function wu(b,j){var k=(j||"").match(b),R,W,le;return k===null?null:(R=k[k.length-1]||[],W=(R+"").match(TI)||["-",0,0],le=+(W[1]*60)+Ze(W[2]),le===0?0:W[0]==="+"?le:-le)}function Ga(b,j){var k,R;return j._isUTC?(k=j.clone(),R=(F(b)||h(b)?b.valueOf():$r(b).valueOf())-k.valueOf(),k._d.setTime(k._d.valueOf()+R),r.updateOffset(k,!1),k):$r(b).local()}function Ng(b){return-Math.round(b._d.getTimezoneOffset())}r.updateOffset=function(){};function CI(b,j,k){var R=this._offset||0,W;if(!this.isValid())return b!=null?this:NaN;if(b!=null){if(typeof b=="string"){if(b=wu(yn,b),b===null)return this}else Math.abs(b)<16&&!k&&(b=b*60);return!this._isUTC&&j&&(W=Ng(this)),this._offset=b,this._isUTC=!0,W!=null&&this.add(W,"m"),R!==b&&(!j||this._changeInProgress?SE(this,Jn(b-R,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?R:Ng(this)}function AI(b,j){return b!=null?(typeof b!="string"&&(b=-b),this.utcOffset(b,j),this):-this.utcOffset()}function NI(b){return this.utcOffset(0,b)}function II(b){return this._isUTC&&(this.utcOffset(0,b),this._isUTC=!1,b&&this.subtract(Ng(this),"m")),this}function kI(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var b=wu(Dt,this._i);b!=null?this.utcOffset(b):this.utcOffset(0,!0)}return this}function wh(b){return this.isValid()?(b=b?$r(b).utcOffset():0,(this.utcOffset()-b)%60===0):!1}function he(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function De(){if(!u(this._isDSTShifted))return this._isDSTShifted;var b={},j;return D(b,this),b=Ea(b),b._a?(j=b._isUTC?y(b._a):$r(b._a),this._isDSTShifted=this.isValid()&&jI(b._a,j.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Ce(){return this.isValid()?!this._isUTC:!1}function Ct(){return this.isValid()?this._isUTC:!1}function Sn(){return this.isValid()?this._isUTC&&this._offset===0:!1}var vr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Xs=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Jn(b,j){var k=b,R=null,W,le,Ie;return il(b)?k={ms:b._milliseconds,d:b._days,M:b._months}:d(b)||!isNaN(+b)?(k={},j?k[j]=+b:k.milliseconds=+b):(R=vr.exec(b))?(W=R[1]==="-"?-1:1,k={y:0,d:Ze(R[Lt])*W,h:Ze(R[kt])*W,m:Ze(R[Bt])*W,s:Ze(R[xr])*W,ms:Ze(_h(R[pr]*1e3))*W}):(R=Xs.exec(b))?(W=R[1]==="-"?-1:1,k={y:Cc(R[2],W),M:Cc(R[3],W),w:Cc(R[4],W),d:Cc(R[5],W),h:Cc(R[6],W),m:Cc(R[7],W),s:Cc(R[8],W)}):k==null?k={}:typeof k=="object"&&("from"in k||"to"in k)&&(Ie=bo($r(k.from),$r(k.to)),k={},k.ms=Ie.milliseconds,k.M=Ie.months),le=new mm(k),il(b)&&l(b,"_locale")&&(le._locale=b._locale),il(b)&&l(b,"_isValid")&&(le._isValid=b._isValid),le}Jn.fn=mm.prototype,Jn.invalid=Zb;function Cc(b,j){var k=b&&parseFloat(b.replace(",","."));return(isNaN(k)?0:k)*j}function EE(b,j){var k={};return k.months=j.month()-b.month()+(j.year()-b.year())*12,b.clone().add(k.months,"M").isAfter(j)&&--k.months,k.milliseconds=+j-+b.clone().add(k.months,"M"),k}function bo(b,j){var k;return b.isValid()&&j.isValid()?(j=Ga(j,b),b.isBefore(j)?k=EE(b,j):(k=EE(j,b),k.milliseconds=-k.milliseconds,k.months=-k.months),k):{milliseconds:0,months:0}}function pm(b,j){return function(k,R){var W,le;return R!==null&&!isNaN(+R)&&(H(j,"moment()."+j+"(period, number) is deprecated. Please use moment()."+j+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),le=k,k=R,R=le),W=Jn(k,R),SE(this,W,b),this}}function SE(b,j,k,R){var W=j._milliseconds,le=_h(j._days),Ie=_h(j._months);b.isValid()&&(R=R??!0,Ie&&Ua(b,Wn(b,"Month")+Ie*k),le&&Ki(b,"Date",Wn(b,"Date")+le*k),W&&b._d.setTime(b._d.valueOf()+W*k),R&&r.updateOffset(b,le||Ie))}var xh=pm(1,"add"),Ig=pm(-1,"subtract");function gm(b){return typeof b=="string"||b instanceof String}function Sr(b){return F(b)||h(b)||gm(b)||d(b)||jE(b)||OI(b)||b===null||b===void 0}function OI(b){var j=o(b)&&!c(b),k=!1,R=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],W,le,Ie=R.length;for(W=0;W<Ie;W+=1)le=R[W],k=k||l(b,le);return j&&k}function jE(b){var j=i(b),k=!1;return j&&(k=b.filter(function(R){return!d(R)&&gm(b)}).length===0),j&&k}function kg(b){var j=o(b)&&!c(b),k=!1,R=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],W,le;for(W=0;W<R.length;W+=1)le=R[W],k=k||l(b,le);return j&&k}function RI(b,j){var k=b.diff(j,"days",!0);return k<-6?"sameElse":k<-1?"lastWeek":k<0?"lastDay":k<1?"sameDay":k<2?"nextDay":k<7?"nextWeek":"sameElse"}function PI(b,j){arguments.length===1&&(arguments[0]?Sr(arguments[0])?(b=arguments[0],j=void 0):kg(arguments[0])&&(j=arguments[0],b=void 0):(b=void 0,j=void 0));var k=b||$r(),R=Ga(k,this).startOf("day"),W=r.calendarFormat(this,R)||"sameElse",le=j&&(J(j[W])?j[W].call(this,k):j[W]);return this.format(le||this.localeData().calendar(W,this,$r(k)))}function DI(){return new O(this)}function Og(b,j){var k=F(b)?b:$r(b);return this.isValid()&&k.isValid()?(j=ee(j)||"millisecond",j==="millisecond"?this.valueOf()>k.valueOf():k.valueOf()<this.clone().startOf(j).valueOf()):!1}function xu(b,j){var k=F(b)?b:$r(b);return this.isValid()&&k.isValid()?(j=ee(j)||"millisecond",j==="millisecond"?this.valueOf()<k.valueOf():this.clone().endOf(j).valueOf()<k.valueOf()):!1}function Rg(b,j,k,R){var W=F(b)?b:$r(b),le=F(j)?j:$r(j);return this.isValid()&&W.isValid()&&le.isValid()?(R=R||"()",(R[0]==="("?this.isAfter(W,k):!this.isBefore(W,k))&&(R[1]===")"?this.isBefore(le,k):!this.isAfter(le,k))):!1}function TE(b,j){var k=F(b)?b:$r(b),R;return this.isValid()&&k.isValid()?(j=ee(j)||"millisecond",j==="millisecond"?this.valueOf()===k.valueOf():(R=k.valueOf(),this.clone().startOf(j).valueOf()<=R&&R<=this.clone().endOf(j).valueOf())):!1}function Pg(b,j){return this.isSame(b,j)||this.isAfter(b,j)}function CE(b,j){return this.isSame(b,j)||this.isBefore(b,j)}function AE(b,j,k){var R,W,le;if(!this.isValid())return NaN;if(R=Ga(b,this),!R.isValid())return NaN;switch(W=(R.utcOffset()-this.utcOffset())*6e4,j=ee(j),j){case"year":le=hd(this,R)/12;break;case"month":le=hd(this,R);break;case"quarter":le=hd(this,R)/3;break;case"second":le=(this-R)/1e3;break;case"minute":le=(this-R)/6e4;break;case"hour":le=(this-R)/36e5;break;case"day":le=(this-R-W)/864e5;break;case"week":le=(this-R-W)/6048e5;break;default:le=this-R}return k?le:Wt(le)}function hd(b,j){if(b.date()<j.date())return-hd(j,b);var k=(j.year()-b.year())*12+(j.month()-b.month()),R=b.clone().add(k,"months"),W,le;return j-R<0?(W=b.clone().add(k-1,"months"),le=(j-R)/(R-W)):(W=b.clone().add(k+1,"months"),le=(j-R)/(W-R)),-(k+le)||0}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function NE(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ym(b){if(!this.isValid())return null;var j=b!==!0,k=j?this.clone().utc():this;return k.year()<0||k.year()>9999?pt(k,j?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):J(Date.prototype.toISOString)?j?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",pt(k,"Z")):pt(k,j?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function fd(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var b="moment",j="",k,R,W,le;return this.isLocal()||(b=this.utcOffset()===0?"moment.utc":"moment.parseZone",j="Z"),k="["+b+'("]',R=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",W="-MM-DD[T]HH:mm:ss.SSS",le=j+'[")]',this.format(k+R+W+le)}function Dg(b){b||(b=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var j=pt(this,b);return this.localeData().postformat(j)}function LI(b,j){return this.isValid()&&(F(b)&&b.isValid()||$r(b).isValid())?Jn({to:this,from:b}).locale(this.locale()).humanize(!j):this.localeData().invalidDate()}function MI(b){return this.from($r(),b)}function $I(b,j){return this.isValid()&&(F(b)&&b.isValid()||$r(b).isValid())?Jn({from:this,to:b}).locale(this.locale()).humanize(!j):this.localeData().invalidDate()}function Lg(b){return this.to($r(),b)}function vm(b){var j;return b===void 0?this._locale._abbr:(j=Ds(b),j!=null&&(this._locale=j),this)}var Mg=z("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(b){return b===void 0?this.localeData():this.locale(b)});function IE(){return this._locale}var bm=1e3,Eh=60*bm,$g=60*Eh,Ls=(365*400+97)*24*$g;function xs(b,j){return(b%j+j)%j}function kE(b,j,k){return b<100&&b>=0?new Date(b+400,j,k)-Ls:new Date(b,j,k).valueOf()}function OE(b,j,k){return b<100&&b>=0?Date.UTC(b+400,j,k)-Ls:Date.UTC(b,j,k)}function RE(b){var j,k;if(b=ee(b),b===void 0||b==="millisecond"||!this.isValid())return this;switch(k=this._isUTC?OE:kE,b){case"year":j=k(this.year(),0,1);break;case"quarter":j=k(this.year(),this.month()-this.month()%3,1);break;case"month":j=k(this.year(),this.month(),1);break;case"week":j=k(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":j=k(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":j=k(this.year(),this.month(),this.date());break;case"hour":j=this._d.valueOf(),j-=xs(j+(this._isUTC?0:this.utcOffset()*Eh),$g);break;case"minute":j=this._d.valueOf(),j-=xs(j,Eh);break;case"second":j=this._d.valueOf(),j-=xs(j,bm);break}return this._d.setTime(j),r.updateOffset(this,!0),this}function FI(b){var j,k;if(b=ee(b),b===void 0||b==="millisecond"||!this.isValid())return this;switch(k=this._isUTC?OE:kE,b){case"year":j=k(this.year()+1,0,1)-1;break;case"quarter":j=k(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":j=k(this.year(),this.month()+1,1)-1;break;case"week":j=k(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":j=k(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":j=k(this.year(),this.month(),this.date()+1)-1;break;case"hour":j=this._d.valueOf(),j+=$g-xs(j+(this._isUTC?0:this.utcOffset()*Eh),$g)-1;break;case"minute":j=this._d.valueOf(),j+=Eh-xs(j,Eh)-1;break;case"second":j=this._d.valueOf(),j+=bm-xs(j,bm)-1;break}return this._d.setTime(j),r.updateOffset(this,!0),this}function Xb(){return this._d.valueOf()-(this._offset||0)*6e4}function _m(){return Math.floor(this.valueOf()/1e3)}function e_(){return new Date(this.valueOf())}function Sh(){var b=this;return[b.year(),b.month(),b.date(),b.hour(),b.minute(),b.second(),b.millisecond()]}function wm(){var b=this;return{years:b.year(),months:b.month(),date:b.date(),hours:b.hours(),minutes:b.minutes(),seconds:b.seconds(),milliseconds:b.milliseconds()}}function xm(){return this.isValid()?this.toISOString():null}function Fg(){return _(this)}function jh(){return p({},v(this))}function VI(){return v(this).overflow}function UI(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Te("N",0,0,"eraAbbr"),Te("NN",0,0,"eraAbbr"),Te("NNN",0,0,"eraAbbr"),Te("NNNN",0,0,"eraName"),Te("NNNNN",0,0,"eraNarrow"),Te("y",["y",1],"yo","eraYear"),Te("y",["yy",2],0,"eraYear"),Te("y",["yyy",3],0,"eraYear"),Te("y",["yyyy",4],0,"eraYear"),Qe("N",Hn),Qe("NN",Hn),Qe("NNN",Hn),Qe("NNNN",GI),Qe("NNNNN",HI),ot(["N","NN","NNN","NNNN","NNNNN"],function(b,j,k,R){var W=k._locale.erasParse(b,R,k._strict);W?v(k).era=W:v(k).invalidEra=b}),Qe("y",nt),Qe("yy",nt),Qe("yyy",nt),Qe("yyyy",nt),Qe("yo",qI),ot(["y","yy","yyy","yyyy"],xt),ot(["yo"],function(b,j,k,R){var W;k._locale._eraYearOrdinalRegex&&(W=b.match(k._locale._eraYearOrdinalRegex)),k._locale.eraYearOrdinalParse?j[xt]=k._locale.eraYearOrdinalParse(b,W):j[xt]=parseInt(b,10)});function BI(b,j){var k,R,W,le=this._eras||Ds("en")._eras;for(k=0,R=le.length;k<R;++k){switch(typeof le[k].since){case"string":W=r(le[k].since).startOf("day"),le[k].since=W.valueOf();break}switch(typeof le[k].until){case"undefined":le[k].until=1/0;break;case"string":W=r(le[k].until).startOf("day").valueOf(),le[k].until=W.valueOf();break}}return le}function zI(b,j,k){var R,W,le=this.eras(),Ie,jt,bn;for(b=b.toUpperCase(),R=0,W=le.length;R<W;++R)if(Ie=le[R].name.toUpperCase(),jt=le[R].abbr.toUpperCase(),bn=le[R].narrow.toUpperCase(),k)switch(j){case"N":case"NN":case"NNN":if(jt===b)return le[R];break;case"NNNN":if(Ie===b)return le[R];break;case"NNNNN":if(bn===b)return le[R];break}else if([Ie,jt,bn].indexOf(b)>=0)return le[R]}function WI(b,j){var k=b.since<=b.until?1:-1;return j===void 0?r(b.since).year():r(b.since).year()+(j-b.offset)*k}function Vg(){var b,j,k,R=this.localeData().eras();for(b=0,j=R.length;b<j;++b)if(k=this.clone().startOf("day").valueOf(),R[b].since<=k&&k<=R[b].until||R[b].until<=k&&k<=R[b].since)return R[b].name;return""}function Em(){var b,j,k,R=this.localeData().eras();for(b=0,j=R.length;b<j;++b)if(k=this.clone().startOf("day").valueOf(),R[b].since<=k&&k<=R[b].until||R[b].until<=k&&k<=R[b].since)return R[b].narrow;return""}function PE(){var b,j,k,R=this.localeData().eras();for(b=0,j=R.length;b<j;++b)if(k=this.clone().startOf("day").valueOf(),R[b].since<=k&&k<=R[b].until||R[b].until<=k&&k<=R[b].since)return R[b].abbr;return""}function G(){var b,j,k,R,W=this.localeData().eras();for(b=0,j=W.length;b<j;++b)if(k=W[b].since<=W[b].until?1:-1,R=this.clone().startOf("day").valueOf(),W[b].since<=R&&R<=W[b].until||W[b].until<=R&&R<=W[b].since)return(this.year()-r(W[b].since).year())*k+W[b].offset;return this.year()}function Th(b){return l(this,"_erasNameRegex")||Ac.call(this),b?this._erasNameRegex:this._erasRegex}function Ug(b){return l(this,"_erasAbbrRegex")||Ac.call(this),b?this._erasAbbrRegex:this._erasRegex}function _o(b){return l(this,"_erasNarrowRegex")||Ac.call(this),b?this._erasNarrowRegex:this._erasRegex}function Hn(b,j){return j.erasAbbrRegex(b)}function GI(b,j){return j.erasNameRegex(b)}function HI(b,j){return j.erasNarrowRegex(b)}function qI(b,j){return j._eraYearOrdinalRegex||nt}function Ac(){var b=[],j=[],k=[],R=[],W,le,Ie,jt,bn,qn=this.eras();for(W=0,le=qn.length;W<le;++W)Ie=zn(qn[W].name),jt=zn(qn[W].abbr),bn=zn(qn[W].narrow),j.push(Ie),b.push(jt),k.push(bn),R.push(Ie),R.push(jt),R.push(bn);this._erasRegex=new RegExp("^("+R.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+j.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+b.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+k.join("|")+")","i")}Te(0,["gg",2],0,function(){return this.weekYear()%100}),Te(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Bg(b,j){Te(0,[b,b.length],0,j)}Bg("gggg","weekYear"),Bg("ggggg","weekYear"),Bg("GGGG","isoWeekYear"),Bg("GGGGG","isoWeekYear"),Qe("G",rt),Qe("g",rt),Qe("GG",we,B),Qe("gg",we,B),Qe("GGGG",qe,de),Qe("gggg",qe,de),Qe("GGGGG",Je,Se),Qe("ggggg",Je,Se),Pt(["gggg","ggggg","GGGG","GGGGG"],function(b,j,k,R){j[R.substr(0,2)]=Ze(b)}),Pt(["gg","GG"],function(b,j,k,R){j[R]=r.parseTwoDigitYear(b)});function YI(b){return DE.call(this,b,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function KI(b){return DE.call(this,b,this.isoWeek(),this.isoWeekday(),1,4)}function JI(){return Qs(this.year(),1,4)}function QI(){return Qs(this.isoWeekYear(),1,4)}function Nc(){var b=this.localeData()._week;return Qs(this.year(),b.dow,b.doy)}function ZI(){var b=this.localeData()._week;return Qs(this.weekYear(),b.dow,b.doy)}function DE(b,j,k,R,W){var le;return b==null?go(this,R,W).year:(le=Qs(b,R,W),j>le&&(j=le),XI.call(this,b,j,k,R,W))}function XI(b,j,k,R,W){var le=hu(b,j,k,R,W),Ie=po(le.year,0,le.dayOfYear);return this.year(Ie.getUTCFullYear()),this.month(Ie.getUTCMonth()),this.date(Ie.getUTCDate()),this}Te("Q",0,"Qo","quarter"),Qe("Q",A),ot("Q",function(b,j){j[St]=(Ze(b)-1)*3});function ek(b){return b==null?Math.ceil((this.month()+1)/3):this.month((b-1)*3+this.month()%3)}Te("D",["DD",2],"Do","date"),Qe("D",we,tn),Qe("DD",we,B),Qe("Do",function(b,j){return b?j._dayOfMonthOrdinalParse||j._ordinalParse:j._dayOfMonthOrdinalParseLenient}),ot(["D","DD"],Lt),ot("Do",function(b,j){j[Lt]=Ze(b.match(we)[0])});var LE=ls("Date",!0);Te("DDD",["DDDD",3],"DDDo","dayOfYear"),Qe("DDD",Re),Qe("DDDD",se),ot(["DDD","DDDD"],function(b,j,k){k._dayOfYear=Ze(b)});function Ic(b){var j=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return b==null?j:this.add(b-j,"d")}Te("m",["mm",2],0,"minute"),Qe("m",we,Xn),Qe("mm",we,B),ot(["m","mm"],Bt);var tk=ls("Minutes",!1);Te("s",["ss",2],0,"second"),Qe("s",we,Xn),Qe("ss",we,B),ot(["s","ss"],xr);var nk=ls("Seconds",!1);Te("S",0,0,function(){return~~(this.millisecond()/100)}),Te(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Te(0,["SSS",3],0,"millisecond"),Te(0,["SSSS",4],0,function(){return this.millisecond()*10}),Te(0,["SSSSS",5],0,function(){return this.millisecond()*100}),Te(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),Te(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),Te(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),Te(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Qe("S",Re,A),Qe("SS",Re,B),Qe("SSS",Re,se);var Eu,ME;for(Eu="SSSS";Eu.length<=9;Eu+="S")Qe(Eu,nt);function rk(b,j){j[pr]=Ze(("0."+b)*1e3)}for(Eu="S";Eu.length<=9;Eu+="S")ot(Eu,rk);ME=ls("Milliseconds",!1),Te("z",0,0,"zoneAbbr"),Te("zz",0,0,"zoneName");function md(){return this._isUTC?"UTC":""}function sk(){return this._isUTC?"Coordinated Universal Time":""}var Xe=O.prototype;Xe.add=xh,Xe.calendar=PI,Xe.clone=DI,Xe.diff=AE,Xe.endOf=FI,Xe.format=Dg,Xe.from=LI,Xe.fromNow=MI,Xe.to=$I,Xe.toNow=Lg,Xe.get=vs,Xe.invalidAt=VI,Xe.isAfter=Og,Xe.isBefore=xu,Xe.isBetween=Rg,Xe.isSame=TE,Xe.isSameOrAfter=Pg,Xe.isSameOrBefore=CE,Xe.isValid=Fg,Xe.lang=Mg,Xe.locale=vm,Xe.localeData=IE,Xe.max=bI,Xe.min=_E,Xe.parsingFlags=jh,Xe.set=ki,Xe.startOf=RE,Xe.subtract=Ig,Xe.toArray=Sh,Xe.toObject=wm,Xe.toDate=e_,Xe.toISOString=ym,Xe.inspect=fd,typeof Symbol<"u"&&Symbol.for!=null&&(Xe[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Xe.toJSON=xm,Xe.toString=NE,Xe.unix=_m,Xe.valueOf=Xb,Xe.creationData=UI,Xe.eraName=Vg,Xe.eraNarrow=Em,Xe.eraAbbr=PE,Xe.eraYear=G,Xe.year=Mr,Xe.isLeapYear=Ar,Xe.weekYear=YI,Xe.isoWeekYear=KI,Xe.quarter=Xe.quarters=ek,Xe.month=bi,Xe.daysInMonth=el,Xe.week=Xe.weeks=_i,Xe.isoWeek=Xe.isoWeeks=yo,Xe.weeksInYear=Nc,Xe.weeksInWeekYear=ZI,Xe.isoWeeksInYear=JI,Xe.isoWeeksInISOWeekYear=QI,Xe.date=LE,Xe.day=Xe.days=Fn,Xe.weekday=Nn,Xe.isoWeekday=Tn,Xe.dayOfYear=Ic,Xe.hour=Xe.hours=un,Xe.minute=Xe.minutes=tk,Xe.second=Xe.seconds=nk,Xe.millisecond=Xe.milliseconds=ME,Xe.utcOffset=CI,Xe.utc=NI,Xe.local=II,Xe.parseZone=kI,Xe.hasAlignedHourOffset=wh,Xe.isDST=he,Xe.isLocal=Ce,Xe.isUtcOffset=Ct,Xe.isUtc=Sn,Xe.isUTC=Sn,Xe.zoneAbbr=md,Xe.zoneName=sk,Xe.dates=z("dates accessor is deprecated. Use date instead.",LE),Xe.months=z("months accessor is deprecated. Use month instead",bi),Xe.years=z("years accessor is deprecated. Use year instead",Mr),Xe.zone=z("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",AI),Xe.isDSTShifted=z("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",De);function al(b){return $r(b*1e3)}function ik(){return $r.apply(null,arguments).parseZone()}function $E(b){return b}var dr=Y.prototype;dr.calendar=ce,dr.longDateFormat=It,dr.invalidDate=Xt,dr.ordinal=Jt,dr.preparse=$E,dr.postformat=$E,dr.relativeTime=lt,dr.pastFuture=_e,dr.set=q,dr.eras=BI,dr.erasParse=zI,dr.erasConvertYear=WI,dr.erasAbbrRegex=Ug,dr.erasNameRegex=Th,dr.erasNarrowRegex=_o,dr.months=Va,dr.monthsShort=Ji,dr.monthsParse=Oi,dr.monthsRegex=du,dr.monthsShortRegex=mo,dr.week=Tc,dr.firstDayOfYear=Ba,dr.firstDayOfWeek=wa,dr.weekdays=rl,dr.weekdaysMin=Zi,dr.weekdaysShort=er,dr.weekdaysParse=gt,dr.weekdaysRegex=wn,dr.weekdaysShortRegex=on,dr.weekdaysMinRegex=Er,dr.isPM=Ge,dr.meridiem=Ps;function zg(b,j,k,R){var W=Ds(),le=y().set(R,j);return W[k](le,b)}function FE(b,j,k){if(d(b)&&(j=b,b=void 0),b=b||"",j!=null)return zg(b,j,k,"month");var R,W=[];for(R=0;R<12;R++)W[R]=zg(b,R,k,"month");return W}function Wg(b,j,k,R){typeof b=="boolean"?(d(j)&&(k=j,j=void 0),j=j||""):(j=b,k=j,b=!1,d(j)&&(k=j,j=void 0),j=j||"");var W=Ds(),le=b?W._week.dow:0,Ie,jt=[];if(k!=null)return zg(j,(k+le)%7,R,"day");for(Ie=0;Ie<7;Ie++)jt[Ie]=zg(j,(Ie+le)%7,R,"day");return jt}function VE(b,j){return FE(b,j,"months")}function ak(b,j){return FE(b,j,"monthsShort")}function ok(b,j,k){return Wg(b,j,k,"weekdays")}function t_(b,j,k){return Wg(b,j,k,"weekdaysShort")}function Sm(b,j,k){return Wg(b,j,k,"weekdaysMin")}sl("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(b){var j=b%10,k=Ze(b%100/10)===1?"th":j===1?"st":j===2?"nd":j===3?"rd":"th";return b+k}}),r.lang=z("moment.lang is deprecated. Use moment.locale instead.",sl),r.langData=z("moment.langData is deprecated. Use moment.localeData instead.",Ds);var wo=Math.abs;function lk(){var b=this._data;return this._milliseconds=wo(this._milliseconds),this._days=wo(this._days),this._months=wo(this._months),b.milliseconds=wo(b.milliseconds),b.seconds=wo(b.seconds),b.minutes=wo(b.minutes),b.hours=wo(b.hours),b.months=wo(b.months),b.years=wo(b.years),this}function n_(b,j,k,R){var W=Jn(j,k);return b._milliseconds+=R*W._milliseconds,b._days+=R*W._days,b._months+=R*W._months,b._bubble()}function ck(b,j){return n_(this,b,j,1)}function kc(b,j){return n_(this,b,j,-1)}function Gg(b){return b<0?Math.floor(b):Math.ceil(b)}function pd(){var b=this._milliseconds,j=this._days,k=this._months,R=this._data,W,le,Ie,jt,bn;return b>=0&&j>=0&&k>=0||b<=0&&j<=0&&k<=0||(b+=Gg(r_(k)+j)*864e5,j=0,k=0),R.milliseconds=b%1e3,W=Wt(b/1e3),R.seconds=W%60,le=Wt(W/60),R.minutes=le%60,Ie=Wt(le/60),R.hours=Ie%24,j+=Wt(Ie/24),bn=Wt(Ha(j)),k+=bn,j-=Gg(r_(bn)),jt=Wt(k/12),k%=12,R.days=j,R.months=k,R.years=jt,this}function Ha(b){return b*4800/146097}function r_(b){return b*146097/4800}function UE(b){if(!this.isValid())return NaN;var j,k,R=this._milliseconds;if(b=ee(b),b==="month"||b==="quarter"||b==="year")switch(j=this._days+R/864e5,k=this._months+Ha(j),b){case"month":return k;case"quarter":return k/3;case"year":return k/12}else switch(j=this._days+Math.round(r_(this._months)),b){case"week":return j/7+R/6048e5;case"day":return j+R/864e5;case"hour":return j*24+R/36e5;case"minute":return j*1440+R/6e4;case"second":return j*86400+R/1e3;case"millisecond":return Math.floor(j*864e5)+R;default:throw new Error("Unknown unit "+b)}}function Gl(b){return function(){return this.as(b)}}var Ch=Gl("ms"),Su=Gl("s"),BE=Gl("m"),uk=Gl("h"),Hg=Gl("d"),dk=Gl("w"),zE=Gl("M"),wi=Gl("Q"),s_=Gl("y"),WE=Ch;function Hl(){return Jn(this)}function i_(b){return b=ee(b),this.isValid()?this[b+"s"]():NaN}function ql(b){return function(){return this.isValid()?this._data[b]:NaN}}var gd=ql("milliseconds"),GE=ql("seconds"),ea=ql("minutes"),a_=ql("hours"),hk=ql("days"),fk=ql("months"),mk=ql("years");function o_(){return Wt(this.days()/7)}var Oc=Math.round,Yl={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function HE(b,j,k,R,W){return W.relativeTime(j||1,!!k,b,R)}function pk(b,j,k,R){var W=Jn(b).abs(),le=Oc(W.as("s")),Ie=Oc(W.as("m")),jt=Oc(W.as("h")),bn=Oc(W.as("d")),qn=Oc(W.as("M")),ta=Oc(W.as("w")),Kl=Oc(W.as("y")),Rc=le<=k.ss&&["s",le]||le<k.s&&["ss",le]||Ie<=1&&["m"]||Ie<k.m&&["mm",Ie]||jt<=1&&["h"]||jt<k.h&&["hh",jt]||bn<=1&&["d"]||bn<k.d&&["dd",bn];return k.w!=null&&(Rc=Rc||ta<=1&&["w"]||ta<k.w&&["ww",ta]),Rc=Rc||qn<=1&&["M"]||qn<k.M&&["MM",qn]||Kl<=1&&["y"]||["yy",Kl],Rc[2]=j,Rc[3]=+b>0,Rc[4]=R,HE.apply(null,Rc)}function gk(b){return b===void 0?Oc:typeof b=="function"?(Oc=b,!0):!1}function jm(b,j){return Yl[b]===void 0?!1:j===void 0?Yl[b]:(Yl[b]=j,b==="s"&&(Yl.ss=j-1),!0)}function yk(b,j){if(!this.isValid())return this.localeData().invalidDate();var k=!1,R=Yl,W,le;return typeof b=="object"&&(j=b,b=!1),typeof b=="boolean"&&(k=b),typeof j=="object"&&(R=Object.assign({},Yl,j),j.s!=null&&j.ss==null&&(R.ss=j.s-1)),W=this.localeData(),le=pk(this,!k,R,W),k&&(le=W.pastFuture(+this,le)),W.postformat(le)}var l_=Math.abs;function ju(b){return(b>0)-(b<0)||+b}function Tm(){if(!this.isValid())return this.localeData().invalidDate();var b=l_(this._milliseconds)/1e3,j=l_(this._days),k=l_(this._months),R,W,le,Ie,jt=this.asSeconds(),bn,qn,ta,Kl;return jt?(R=Wt(b/60),W=Wt(R/60),b%=60,R%=60,le=Wt(k/12),k%=12,Ie=b?b.toFixed(3).replace(/\.?0+$/,""):"",bn=jt<0?"-":"",qn=ju(this._months)!==ju(jt)?"-":"",ta=ju(this._days)!==ju(jt)?"-":"",Kl=ju(this._milliseconds)!==ju(jt)?"-":"",bn+"P"+(le?qn+le+"Y":"")+(k?qn+k+"M":"")+(j?ta+j+"D":"")+(W||R||b?"T":"")+(W?Kl+W+"H":"")+(R?Kl+R+"M":"")+(b?Kl+Ie+"S":"")):"P0D"}var ir=mm.prototype;ir.isValid=SI,ir.abs=lk,ir.add=ck,ir.subtract=kc,ir.as=UE,ir.asMilliseconds=Ch,ir.asSeconds=Su,ir.asMinutes=BE,ir.asHours=uk,ir.asDays=Hg,ir.asWeeks=dk,ir.asMonths=zE,ir.asQuarters=wi,ir.asYears=s_,ir.valueOf=WE,ir._bubble=pd,ir.clone=Hl,ir.get=i_,ir.milliseconds=gd,ir.seconds=GE,ir.minutes=ea,ir.hours=a_,ir.days=hk,ir.weeks=o_,ir.months=fk,ir.years=mk,ir.humanize=yk,ir.toISOString=Tm,ir.toString=Tm,ir.toJSON=Tm,ir.locale=vm,ir.localeData=IE,ir.toIsoString=z("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Tm),ir.lang=Mg,Te("X",0,0,"unix"),Te("x",0,0,"valueOf"),Qe("x",rt),Qe("X",vn),ot("X",function(b,j,k){k._d=new Date(parseFloat(b)*1e3)}),ot("x",function(b,j,k){k._d=new Date(Ze(b))});//! moment.js
return r.version="2.30.1",s($r),r.fn=Xe,r.min=_I,r.max=wI,r.now=xI,r.utc=y,r.unix=al,r.months=VE,r.isDate=h,r.locale=sl,r.invalid=E,r.duration=Jn,r.isMoment=F,r.weekdays=ok,r.parseZone=ik,r.localeData=Ds,r.isDuration=il,r.monthsShort=ak,r.weekdaysMin=Sm,r.defineLocale=Xi,r.updateLocale=fI,r.locales=mI,r.weekdaysShort=t_,r.normalizeUnits=ee,r.relativeTimeRounding=gk,r.relativeTimeThreshold=jm,r.calendarFormat=RI,r.prototype=Xe,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r})})(Uee);var Z$e=Uee.exports,X$e={toJalaali:eFe,toGregorian:Bee,isValidJalaaliDate:tFe,isLeapJalaaliYear:zee,jalaaliMonthLength:Wee,jalCal:VF,j2d:IT,d2j:kT,g2d:$A,d2g:UF,jalaaliToDateObject:Gee,jalaaliWeek:rFe},of=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function eFe(t,e,n){return Object.prototype.toString.call(t)==="[object Date]"&&(n=t.getDate(),e=t.getMonth()+1,t=t.getFullYear()),kT($A(t,e,n))}function Bee(t,e,n){return UF(IT(t,e,n))}function tFe(t,e,n){return t>=-61&&t<=3177&&e>=1&&e<=12&&n>=1&&n<=Wee(t,e)}function zee(t){return nFe(t)===0}function Wee(t,e){return e<=6?31:e<=11||zee(t)?30:29}function nFe(t){var e=of.length,n=of[0],r,s,i,o,l;if(t<n||t>=of[e-1])throw new Error("Invalid Jalaali year "+t);for(l=1;l<e&&(r=of[l],s=r-n,!(t<r));l+=1)n=r;return o=t-n,s-o<6&&(o=o-s+es(s+4,33)*33),i=wl(wl(o+1,33)-1,4),i===-1&&(i=4),i}function VF(t,e){var n=of.length,r=t+621,s=-14,i=of[0],o,l,c,u,d,h,m;if(t<i||t>=of[n-1])throw new Error("Invalid Jalaali year "+t);for(m=1;m<n&&(o=of[m],l=o-i,!(t<o));m+=1)s=s+es(l,33)*8+es(wl(l,33),4),i=o;return h=t-i,s=s+es(h,33)*8+es(wl(h,33)+3,4),wl(l,33)===4&&l-h===4&&(s+=1),u=es(r,4)-es((es(r,100)+1)*3,4)-150,d=20+s-u,e?{gy:r,march:d}:(l-h<6&&(h=h-l+es(l+4,33)*33),c=wl(wl(h+1,33)-1,4),c===-1&&(c=4),{leap:c,gy:r,march:d})}function IT(t,e,n){var r=VF(t,!0);return $A(r.gy,3,r.march)+(e-1)*31-es(e,7)*(e-7)+n-1}function kT(t){var e=UF(t).gy,n=e-621,r=VF(n,!1),s=$A(e,3,r.march),i,o,l;if(l=t-s,l>=0){if(l<=185)return o=1+es(l,31),i=wl(l,31)+1,{jy:n,jm:o,jd:i};l-=186}else n-=1,l+=179,r.leap===1&&(l+=1);return o=7+es(l,30),i=wl(l,30)+1,{jy:n,jm:o,jd:i}}function $A(t,e,n){var r=es((t+es(e-8,6)+100100)*1461,4)+es(153*wl(e+9,12)+2,5)+n-34840408;return r=r-es(es(t+100100+es(e-8,6),100)*3,4)+752,r}function UF(t){var e,n,r,s,i;return e=4*t+139361631,e=e+es(es(4*t+183187720,146097)*3,4)*4-3908,n=es(wl(e,1461),4)*5+308,r=es(wl(n,153),5)+1,s=wl(es(n,153),12)+1,i=es(e,1461)-100100+es(8-s,6),{gy:i,gm:s,gd:r}}function rFe(t,e,n){var r=Gee(t,e,n).getDay(),s=r==6?0:-(r+1),i=6+s;return{saturday:kT(IT(t,e,n+s)),friday:kT(IT(t,e,n+i))}}function Gee(t,e,n,r,s,i,o){var l=Bee(t,e,n);return new Date(l.gy,l.gm-1,l.gd,r||0,s||0,i||0,o||0)}function es(t,e){return~~(t/e)}function wl(t,e){return t-~~(t/e)*e}var sFe=$n,As=Z$e,BF=X$e,zF=/(\[[^\[]*\])|(\\)?j(Mo|MM?M?M?|Do|DDDo|DD?D?D?|w[o|w]?|YYYYY|YYYY|YY|gg(ggg?)?|)|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,M6=/(\[[^\[]*\])|(\\)?(LTS?|LL?L?L?|l{1,4})/g,$6=/\d\d?/,F6=/\d{1,3}/,V6=/\d{3}/,U6=/\d{1,4}/,B6=/[+\-]?\d{1,6}/,z6=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,iFe=/Z|[\+\-]\d\d:?\d\d/i,aFe=/T/i,oFe=/[\+\-]?\d+(\.\d{1,3})?/,WF={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},GF={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},lFe={jm:"jmonth",jmonths:"jmonth",jy:"jyear",jyears:"jyear"},eR={},W6="DDD w M D".split(" "),G6="M D w".split(" "),Ru={jM:function(){return this.jMonth()+1},jMMM:function(t){return this.localeData().jMonthsShort(this,t)},jMMMM:function(t){return this.localeData().jMonths(this,t)},jD:function(){return this.jDate()},jDDD:function(){return this.jDayOfYear()},jw:function(){return this.jWeek()},jYY:function(){return Pd(this.jYear()%100,2)},jYYYY:function(){return Pd(this.jYear(),4)},jYYYYY:function(){return Pd(this.jYear(),5)},jgg:function(){return Pd(this.jWeekYear()%100,2)},jgggg:function(){return this.jWeekYear()},jggggg:function(){return Pd(this.jWeekYear(),5)}};function H6(t,e){return function(n){return Pd(t.call(this,n),e)}}function cFe(t,e){return function(n){return this.localeData().ordinal(t.call(this,n),e)}}(function(){for(var t;W6.length;)t=W6.pop(),Ru["j"+t+"o"]=cFe(Ru["j"+t],t);for(;G6.length;)t=G6.pop(),Ru["j"+t+t]=H6(Ru["j"+t],2);Ru.jDDDD=H6(Ru.jDDD,3)})();function HF(t,e){var n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Pd(t,e){for(var n=t+"";n.length<e;)n="0"+n;return n}function uFe(t){return Object.prototype.toString.call(t)==="[object Array]"}function N0(t){if(t){var e=t.toLowerCase();t=lFe[e]||e}return t}function qF(t,e,n,r){var s=t._d;isNaN(e)&&(t._isValid=!1),t._isUTC?t._d=new Date(Date.UTC(e,n,r,s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds())):t._d=new Date(e,n,r,s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds())}function Hee(t){function e(){}return e.prototype=t,new e}function dFe(t){return Object.getPrototypeOf?Object.getPrototypeOf(t):"".__proto__?t.__proto__:t.constructor.prototype}HF(dFe(As.localeData()),{_jMonths:["Farvardin","Ordibehesht","Khordaad","Tir","Amordaad","Shahrivar","Mehr","Aabaan","Aazar","Dey","Bahman","Esfand"],jMonths:function(t){return this._jMonths[t.jMonth()]},_jMonthsShort:["Far","Ord","Kho","Tir","Amo","Sha","Meh","Aab","Aaz","Dey","Bah","Esf"],jMonthsShort:function(t){return this._jMonthsShort[t.jMonth()]},jMonthsParse:function(t){var e,n,r;for(this._jMonthsParse||(this._jMonthsParse=[]),e=0;e<12;e+=1)if(this._jMonthsParse[e]||(n=$n([2e3,(2+e)%12,25]),r="^"+this.jMonths(n,"")+"|^"+this.jMonthsShort(n,""),this._jMonthsParse[e]=new RegExp(r.replace(".",""),"i")),this._jMonthsParse[e].test(t))return e}});function hFe(t){var e=t.match(zF),n=e.length,r;for(r=0;r<n;r+=1)Ru[e[r]]&&(e[r]=Ru[e[r]]);return function(s){var i="";for(r=0;r<n;r+=1)i+=e[r]instanceof Function?"["+e[r].call(s,t)+"]":e[r];return i}}function qee(t,e){switch(t){case"jDDDD":return V6;case"jYYYY":return U6;case"jYYYYY":return B6;case"jDDD":return F6;case"jMMM":case"jMMMM":return z6;case"jMM":case"jDD":case"jYY":case"jM":case"jD":return $6;case"DDDD":return V6;case"YYYY":return U6;case"YYYYY":return B6;case"S":case"SS":case"SSS":case"DDD":return F6;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return z6;case"a":case"A":return As.localeData(e._l)._meridiemParse;case"X":return oFe;case"Z":case"ZZ":return iFe;case"T":return aFe;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return $6;default:return new RegExp(t.replace("\\",""))}}function fFe(t,e,n){var r,s=n._a;switch(t){case"jM":case"jMM":s[1]=e==null?0:~~e-1;break;case"jMMM":case"jMMMM":r=As.localeData(n._l).jMonthsParse(e),r!=null?s[1]=r:n._isValid=!1;break;case"jD":case"jDD":case"jDDD":case"jDDDD":e!=null&&(s[2]=~~e);break;case"jYY":s[0]=~~e+(~~e>47?1300:1400);break;case"jYYYY":case"jYYYYY":s[0]=~~e}e==null&&(n._isValid=!1)}function mFe(t){var e,n,r=t._a[0],s=t._a[1],i=t._a[2];return r==null&&s==null&&i==null?[0,0,1]:(r=r??0,s=s??0,i=i??1,(i<1||i>$n.jDaysInMonth(r,s)||s<0||s>11)&&(t._isValid=!1),e=I0(r,s,i),n=Pf(e.gy,e.gm,e.gd),isNaN(e.gy)&&(t._isValid=!1),t._jDiff=0,~~n.jy!==r&&(t._jDiff+=1),~~n.jm!==s&&(t._jDiff+=1),~~n.jd!==i&&(t._jDiff+=1),[e.gy,e.gm,e.gd])}function pFe(t){var e=t._f.match(zF),n=t._i+"",r=e.length,s,i,o;for(t._a=[],s=0;s<r;s+=1)i=e[s],o=(qee(i,t).exec(n)||[])[0],o&&(n=n.slice(n.indexOf(o)+o.length)),Ru[i]&&fFe(i,o,t);return n&&(t._il=n),mFe(t)}function gFe(t,e){var n=t._f.length,r,s,i,o,l,c;if(n===0)return Cx(new Date(NaN));for(r=0;r<n;r+=1)s=t._f[r],l=0,i=Cx(t._i,s,t._l,t._strict,e),i.isValid()&&(l+=i._jDiff,i._il&&(l+=i._il.length),(c==null||l<c)&&(c=l,o=i));return o}function yFe(t){var e=t._i+"",n="",r="",s=t._f.match(zF),i=s.length,o,l,c;for(o=0;o<i;o+=1)l=s[o],c=(qee(l,t).exec(e)||[])[0],c&&(e=e.slice(e.indexOf(c)+c.length)),Ru[l]instanceof Function||(r+=l,c&&(n+=c));t._i=n,t._f=r}function Yee(t,e,n){var r=n-e,s=n-t.day(),i;return s>r&&(s-=7),s<r-7&&(s+=7),i=$n(t).add(s,"d"),{week:Math.ceil(i.jDayOfYear()/7),year:i.jYear()}}var vFe=57724432199999;function Cx(t,e,n,r,s){typeof n=="boolean"&&(r=n,n=void 0),e&&typeof e=="string"&&(e=Kee(e,As));var i={_i:t,_f:e,_l:n,_strict:r},o,l,c,u=t,d=e;if(e){if(uFe(e))return gFe(i,s);o=pFe(i),yFe(i),e="YYYY-MM-DD-"+i._f,t=Pd(o[0],4)+"-"+Pd(o[1]+1,2)+"-"+Pd(o[2],2)+"-"+i._i}return s?l=As.utc(t,e,n,r):l=As(t,e,n,r),i._isValid===!1&&(l._isValid=!1),l._jDiff=i._jDiff||0,c=Hee($n.fn),HF(c,l),r&&e&&c.isValid()&&(c._isValid=c.format(d)===u),l._d.getTime()>vFe&&(c._isValid=!1),c}function $n(t,e,n,r){return Cx(t,e,n,r,!1)}HF($n,As);$n.fn=Hee(As.fn);$n.utc=function(t,e,n,r){return Cx(t,e,n,r,!0)};$n.unix=function(t){return Cx(t*1e3)};function Kee(t,e){for(var n=5,r=function(s){return e.localeData().longDateFormat(s)||s};n>0&&M6.test(t);)n-=1,t=t.replace(M6,r);return t}$n.fn.format=function(t){return t&&(t=Kee(t,this),eR[t]||(eR[t]=hFe(t)),t=eR[t](this)),As.fn.format.call(this,t)};$n.fn.jYear=function(t){var e,n,r;return typeof t=="number"?(n=Pf(this.year(),this.month(),this.date()),e=Math.min(n.jd,$n.jDaysInMonth(t,n.jm)),r=I0(t,n.jm,e),qF(this,r.gy,r.gm,r.gd),As.updateOffset(this),this):Pf(this.year(),this.month(),this.date()).jy};$n.fn.jMonth=function(t){var e,n,r;return t!=null?typeof t=="string"&&(t=this.localeData().jMonthsParse(t),typeof t!="number")?this:(n=Pf(this.year(),this.month(),this.date()),e=Math.min(n.jd,$n.jDaysInMonth(n.jy,t)),this.jYear(n.jy+Jee(t,12)),t=Qee(t,12),t<0&&(t+=12,this.jYear(this.jYear()-1)),r=I0(this.jYear(),t,e),qF(this,r.gy,r.gm,r.gd),As.updateOffset(this),this):Pf(this.year(),this.month(),this.date()).jm};$n.fn.jDate=function(t){var e,n;return typeof t=="number"?(e=Pf(this.year(),this.month(),this.date()),n=I0(e.jy,e.jm,t),qF(this,n.gy,n.gm,n.gd),As.updateOffset(this),this):Pf(this.year(),this.month(),this.date()).jd};$n.fn.jDayOfYear=function(t){var e=Math.round(($n(this).startOf("day")-$n(this).startOf("jYear"))/864e5)+1;return t==null?e:this.add(t-e,"d")};$n.fn.jWeek=function(t){var e=Yee(this,this.localeData()._week.dow,this.localeData()._week.doy).week;return t==null?e:this.add((t-e)*7,"d")};$n.fn.jWeekYear=function(t){var e=Yee(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return t==null?e:this.add(t-e,"y")};$n.fn.add=function(t,e){var n;return e!==null&&!isNaN(+e)&&(n=t,t=e,e=n),e=N0(e),e==="jyear"?this.jYear(this.jYear()+t):e==="jmonth"?this.jMonth(this.jMonth()+t):(As.fn.add.call(this,t,e),isNaN(this.jYear())&&(this._isValid=!1)),this};$n.fn.subtract=function(t,e){var n;return e!==null&&!isNaN(+e)&&(n=t,t=e,e=n),e=N0(e),e==="jyear"?this.jYear(this.jYear()-t):e==="jmonth"?this.jMonth(this.jMonth()-t):As.fn.subtract.call(this,t,e),this};$n.fn.startOf=function(t){return t=N0(t),t==="jyear"||t==="jmonth"?(t==="jyear"&&this.jMonth(0),this.jDate(1),this.hours(0),this.minutes(0),this.seconds(0),this.milliseconds(0),this):As.fn.startOf.call(this,t)};$n.fn.endOf=function(t){return t=N0(t),t===void 0||t==="milisecond"?this:this.startOf(t).add(1,t==="isoweek"?"week":t).subtract(1,"ms")};$n.fn.isSame=function(t,e){return e=N0(e),e==="jyear"||e==="jmonth"?As.fn.isSame.call(this.startOf(e),t.startOf(e)):As.fn.isSame.call(this,t,e)};$n.fn.clone=function(){return $n(this)};$n.fn.jYears=$n.fn.jYear;$n.fn.jMonths=$n.fn.jMonth;$n.fn.jDates=$n.fn.jDate;$n.fn.jWeeks=$n.fn.jWeek;$n.jDaysInMonth=function(t,e){return t+=Jee(e,12),e=Qee(e,12),e<0&&(e+=12,t-=1),e<6?31:e<11||$n.jIsLeapYear(t)?30:29};$n.jIsLeapYear=BF.isLeapJalaaliYear;$n.loadPersian=function(t){var e=t!==void 0&&t.hasOwnProperty("usePersianDigits")?t.usePersianDigits:!1,n=t!==void 0&&t.hasOwnProperty("dialect")?t.dialect:"persian";As.locale("fa"),As.updateLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:{persian:"______".split("_"),"persian-modern":"______".split("_")}[n],weekdaysShort:{persian:"______".split("_"),"persian-modern":"______".split("_")}[n],weekdaysMin:{persian:"______".split("_"),"persian-modern":"______".split("_")}[n],longDateFormat:{LT:"HH:mm",L:"jYYYY/jMM/jDD",LL:"jD jMMMM jYYYY",LLL:"jD jMMMM jYYYY LT",LLLL:"dddd jD jMMMM jYYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},preparse:function(r){return e?r.replace(/[-]/g,function(s){return GF[s]}).replace(//g,","):r},postformat:function(r){return e?r.replace(/\d/g,function(s){return WF[s]}).replace(/,/g,""):r},ordinal:"%d",week:{dow:6,doy:12},meridiem:function(r){return r<12?".":"."},jMonths:{persian:"___________".split("_"),"persian-modern":"___________".split("_")}[n],jMonthsShort:{persian:"___________".split("_"),"persian-modern":"___________".split("_")}[n]})};$n.loadPersian_dari=function(t){var e=t!==void 0&&t.hasOwnProperty("usePersianDigits")?t.usePersianDigits:!1,n=t!==void 0&&t.hasOwnProperty("dialect")?t.dialect:"persian-dari";As.locale("fa-af"),As.updateLocale("fa-af",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:{persian:"______".split("_"),"persian-modern":"______".split("_")}[n],weekdaysShort:{persian:"______".split("_"),"persian-modern":"______".split("_")}[n],weekdaysMin:{persian:"______".split("_"),"persian-modern":"______".split("_")}[n],longDateFormat:{LT:"HH:mm",L:"jYYYY/jMM/jDD",LL:"jD jMMMM jYYYY",LLL:"jD jMMMM jYYYY LT",LLLL:"dddd jD jMMMM jYYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},preparse:function(r){return e?r.replace(/[-]/g,function(s){return GF[s]}).replace(//g,","):r},postformat:function(r){return e?r.replace(/\d/g,function(s){return WF[s]}).replace(/,/g,""):r},ordinal:"%d",week:{dow:6,doy:12},meridiem:function(r){return r<12?".":"."},jMonths:{"persian-dari":"___________".split("_"),"persian-modern-dari":"___________".split("_")}[n],jMonthsShort:{"persian-dari":"___________".split("_"),"persian-modern-dari":"___________".split("_")}[n]})};$n.loadPashto=function(t){var e=t!==void 0&&t.hasOwnProperty("usePersianDigits")?t.usePersianDigits:!1,n=t!==void 0&&t.hasOwnProperty("dialect")?t.dialect:"pashto";As.locale("ps-af"),As.updateLocale("ps-af",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:{pashto:"______".split("_"),"pashto-modern":"______".split("_")}[n],weekdaysShort:{pashto:"______".split("_"),"pashto-modern":"______".split("_")}[n],weekdaysMin:{pashto:"______".split("_"),"pashto-modern":"______".split("_")}[n],longDateFormat:{LT:"HH:mm",L:"jYYYY/jMM/jDD",LL:"jD jMMMM jYYYY",LLL:"jD jMMMM jYYYY LT",LLLL:"dddd jD jMMMM jYYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},preparse:function(r){return e?r.replace(/[-]/g,function(s){return GF[s]}).replace(//g,","):r},postformat:function(r){return e?r.replace(/\d/g,function(s){return WF[s]}).replace(/,/g,""):r},ordinal:"%d",week:{dow:6,doy:12},meridiem:function(r){return r<12?".":"."},jMonths:{pashto:"___________".split("_"),"pashto-modern":"___________".split("_")}[n],jMonthsShort:{pashto:"__________".split("_"),"pashto-modern":"__________".split("_")}[n]})};$n.jConvert={toJalaali:Pf,toGregorian:I0};function Pf(t,e,n){try{var r=BF.toJalaali(t,e+1,n);return r.jm-=1,r}catch{return{jy:NaN,jm:NaN,jd:NaN}}}function I0(t,e,n){try{var r=BF.toGregorian(t,e+1,n);return r.gm-=1,r}catch{return{gy:NaN,gm:NaN,gd:NaN}}}function Jee(t,e){return~~(t/e)}function Qee(t,e){return t-~~(t/e)*e}const Ax=Qo(sFe);var jf={},Zee={exports:{}};(function(t,e){(function(n,r){t.exports=r(y0,C)})(vl,function(n,r){function s(v){return v&&typeof v=="object"&&"default"in v?v:{default:v}}var i=s(r);function o(v,x){var _=Object.keys(v);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(v);x&&(E=E.filter(function(T){return Object.getOwnPropertyDescriptor(v,T).enumerable})),_.push.apply(_,E)}return _}function l(v){for(var x=1;x<arguments.length;x++){var _=arguments[x]!=null?arguments[x]:{};x%2?o(Object(_),!0).forEach(function(E){c(v,E,_[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(_)):o(Object(_)).forEach(function(E){Object.defineProperty(v,E,Object.getOwnPropertyDescriptor(_,E))})}return v}function c(v,x,_){return x in v?Object.defineProperty(v,x,{value:_,enumerable:!0,configurable:!0,writable:!0}):v[x]=_,v}function u(v,x){return function(_){if(Array.isArray(_))return _}(v)||function(_,E){var T=_==null?null:typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(T!=null){var N,D,O=[],F=!0,V=!1;try{for(T=T.call(_);!(F=(N=T.next()).done)&&(O.push(N.value),!E||O.length!==E);F=!0);}catch(z){V=!0,D=z}finally{try{F||T.return==null||T.return()}finally{if(V)throw D}}return O}}(v,x)||function(_,E){if(_){if(typeof _=="string")return d(_,E);var T=Object.prototype.toString.call(_).slice(8,-1);if(T==="Object"&&_.constructor&&(T=_.constructor.name),T==="Map"||T==="Set")return Array.from(_);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return d(_,E)}}(v,x)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function d(v,x){(x==null||x>v.length)&&(x=v.length);for(var _=0,E=new Array(x);_<x;_++)E[_]=v[_];return E}function h(v,x){var _=v.element,E=v.popper,T=v.position,N=T===void 0?"bottom-center":T,D=v.containerStyle,O=v.containerClassName,F=O===void 0?"":O,V=v.arrow,z=v.arrowStyle,U=z===void 0?{}:z,H=v.arrowClassName,J=H===void 0?"":H,q=v.fixMainPosition,L=v.fixRelativePosition,Y=v.offsetY,ne=v.offsetX,te=v.animations,ce=v.zIndex,ve=ce===void 0?0:ce,Ue=v.popperShadow,Ae=v.onChange,at=v.active,it=at===void 0||at,Te=v.portal,Tt=v.portalTarget,ct=typeof window<"u",pt=ct&&Tt instanceof HTMLElement,vt=V===!0,Ht=E&&it===!0,It=r.useRef(),Ut=r.useRef(),Xt=r.useRef(),Ee=r.useRef(),We=r.useMemo(function(){return{position:N,fixMainPosition:q,fixRelativePosition:L,offsetY:Y,offsetX:ne,defaultArrow:vt,animations:te,zIndex:ve,onChange:Ae}},[N,q,L,Y,ne,vt,te,Ae,ve]),Jt=r.useCallback(function(){Xt.current&&(Xt.current.style.transition=""),Ut.current&&(Ut.current.parentNode.style.transition="")},[]),ke={element:l({display:"inline-block",height:"max-content"},D),arrow:l({visibility:"hidden",left:"0",top:"0",position:"absolute"},U),popper:{position:"absolute",left:"0",top:"0",willChange:"transform",visibility:"hidden",zIndex:ve}};ct&&!Ee.current&&(Ee.current=document.createElement("div"),Ee.current.data={portal:Te,isValidPortalTarget:pt}),r.useEffect(function(){if(Te&&!pt){var _e=Ee.current;return document.body.appendChild(_e),function(){document.body.contains(_e)&&document.body.removeChild(_e)}}},[Te,pt]),r.useEffect(function(){if(!Ht)return Jt(),Ut.current.parentNode.style.visibility="hidden",void(Xt.current&&(Xt.current.style.visibility="hidden"));function _e(Q){Q&&Q.type!=="resize"&&!Q.target.contains(It.current)||(Q&&Jt(),m(It,Ut,Xt,We,Q))}return _e(),document.addEventListener("scroll",_e,!0),window.addEventListener("resize",_e),function(){document.removeEventListener("scroll",_e,!0),window.removeEventListener("resize",_e)}},[Ht,We,Jt]),r.useEffect(function(){var _e={portal:Te,isValidPortalTarget:pt},Q=Ee.current.data;JSON.stringify(_e)!==JSON.stringify(Q)&&(Ee.current.data=_e,It.current.refreshPosition())},[Te,pt]);var lt=i.default.createElement(i.default.Fragment,null,function(){if(!V||!Ht)return null;var _e=i.default.createElement("div",{ref:Xt,style:ke.arrow}),Q=r.isValidElement(V)?{children:V}:{className:"ep-arrow ".concat(Ue?"ep-shadow":""," ").concat(J)};return r.cloneElement(_e,Q)}(),i.default.createElement("div",{className:Ue?"ep-popper-shadow":"",style:ke.popper},i.default.createElement("div",{ref:Ut},E)));return i.default.createElement("div",{ref:function(_e){if(_e&&(_e.removeTransition=Jt,_e.refreshPosition=function(){return setTimeout(function(){return m(It,Ut,Xt,We,{})},10)}),It.current=_e,x instanceof Function)return x(_e);x&&(x.current=_e)},className:F,style:ke.element},_,Te&&ct?n.createPortal(lt,pt?Tt:Ee.current):lt)}function m(v,x,_,E,T){var N=E.position,D=E.fixMainPosition,O=E.fixRelativePosition,F=E.offsetY,V=F===void 0?0:F,z=E.offsetX,U=z===void 0?0:z,H=E.defaultArrow,J=E.animations,q=J===void 0?[]:J,L=E.zIndex,Y=E.onChange;if(v.current&&x.current){var ne,te,ce,ve,Ue=(te=window.pageXOffset!==void 0,ce=(document.compatMode||"")==="CSS1Compat",{scrollLeft:te?window.pageXOffset:ce?document.documentElement.scrollLeft:document.body.scrollLeft,scrollTop:te?window.pageYOffset:ce?document.documentElement.scrollTop:document.body.scrollTop}),Ae=Ue.scrollLeft,at=Ue.scrollTop,it=p(v.current,Ae,at),Te=it.top,Tt=it.left,ct=it.height,pt=it.width,vt=it.right,Ht=it.bottom,It=p(x.current,Ae,at),Ut=It.top,Xt=It.left,Ee=It.height,We=It.width,Jt=document.documentElement,ke=Jt.clientHeight,lt=Jt.clientWidth,_e=x.current.parentNode,Q=function(Qt){if(!Qt)return[0,0];var xt=u((Qt.style.transform.match(/translate\((.*?)px,\s(.*?)px\)/)||[]).map(function(Bt){return Number(Bt)}),3),St=xt[1],Lt=St===void 0?0:St,kt=xt[2];return[Lt,kt===void 0?0:kt]}(_e),ee=u(Q,2),Z=ee[0],ye=ee[1],be=function(Qt){var xt=u(Qt.split("-"),2),St=xt[0],Lt=St===void 0?"bottom":St,kt=xt[1],Bt=kt===void 0?"center":kt;Lt==="auto"&&(Lt="bottom"),Bt==="auto"&&(Bt="center");var xr=Lt==="top"||Lt==="bottom",pr=Lt==="left"||Lt==="right";return pr&&(Bt==="start"&&(Bt="top"),Bt==="end"&&(Bt="bottom")),xr&&(Bt==="start"&&(Bt="left"),Bt==="end"&&(Bt="right")),[Lt,Bt,xr,pr]}(N),A=u(be,4),B=A[0],se=A[1],de=A[2],Se=A[3],we=B,Me=function(Qt,xt){return"translate(".concat(Qt,"px, ").concat(xt,"px)")},tt=pt-We,Re=ct-Ee,qe=se==="left"?0:se==="right"?tt:tt/2,Je=tt-qe,nt=se==="top"?0:se==="bottom"?Re:Re/2,rt=Re-nt,Dt=Tt-Xt+Z,yn=Te-Ut+ye,vn=0,qt=0,tn=y(v.current),Xn=[],Kn=_.current,Qe=p(Kn,Ae,at)||{},or=Qe.height,an=or===void 0?0:or,zn=Qe.width,Wt=zn===void 0?0:zn,Ze=Dt,At=yn,ot={top:"bottom",bottom:"top",left:"right",right:"left"};for(de&&(Dt+=qe,yn+=B==="top"?-Ee:ct,H&&(an=11,Wt=20)),Se&&(Dt+=B==="left"?-We:pt,yn+=nt,H&&(an=20,Wt=11));tn;)Xn.push(tn),_n(p(tn,Ae,at)),tn=y(tn.parentNode);_n({top:at,bottom:at+ke,left:Ae,right:Ae+lt,height:ke,width:lt}),de&&(yn+=we==="bottom"?V:-V),Se&&(Dt+=we==="right"?U:-U),Dt-=vn,yn-=qt,ne=ot[we],Kn&&(de&&((ve=pt<We)?Ze+=pt/2:Ze=Dt+We/2,Ze-=Wt/2,we==="bottom"&&(At=yn,yn+=an),we==="top"&&(At=(yn-=an)+Ee),vn<0&&vn-qe<0&&(ve?Ze+=(qe-vn)/2:pt-qe+vn<We&&(Ze+=(pt-qe+vn-We)/2)),vn>0&&vn+Je>0&&(ve?Ze-=(vn+Je)/2:pt-vn-Je<We&&(Ze-=(pt-vn-Je-We)/2))),Se&&((ve=ct<Ee)?At+=ct/2:At=yn+Ee/2,At-=an/2,we==="left"&&(Ze=(Dt-=Wt)+We),we==="right"&&(Ze=Dt,Dt+=Wt),qt<0&&qt-nt<0&&(ve?At+=(nt-qt)/2:ct-nt+qt<Ee&&(At+=(ct-nt+qt-Ee)/2)),qt>0&&qt+rt>0&&(ve?At-=(qt+rt)/2:ct-qt-rt<Ee&&(At-=(ct-qt-rt-Ee)/2))),Kn.setAttribute("direction",ne),Kn.style.height=an+"px",Kn.style.width=Wt+"px",Kn.style.transform=Me(Ze,At),Kn.style.visibility="visible",Kn.style.zIndex=L+1),_e.style.transform=Me(Dt,yn);var Pt={popper:{top:yn,bottom:yn+Ee,left:Dt,right:Dt+We,height:Ee,width:We},element:{top:Te,bottom:Ht,left:Tt,right:vt,height:ct,width:pt},arrow:{top:At,bottom:At+an,left:Ze,right:Ze+Wt,height:an,width:Wt,direction:ne},position:we+"-"+(vn!==0?"auto":se),scroll:{scrollLeft:Ae,scrollTop:at},scrollableParents:Xn,event:T};T||q.forEach(function(Qt){Qt({popper:_e,arrow:Kn,data:l(l({},Pt),{},{getTransform:Me,mirror:ot})})}),_e.style.visibility="visible",typeof Y=="function"&&Y(Pt)}function _n(Qt){var xt=Qt.top,St=Qt.bottom,Lt=Qt.left,kt=Qt.right,Bt=Qt.height,xr=Qt.width;if(de){var pr=Math.round(Te-xt+ct/2),_a=Math.round(Bt/2);D||(Te-(Ee+V+an)<xt&&pr<=_a&&we==="top"?(yn+=Ee+ct,we="bottom"):Ht+Ee+V+an>Bt+xt&&pr>=_a&&we==="bottom"&&(yn-=Ee+ct,we="top")),O||(Tt+qe<Lt&&(vn=w(vt-Wt>Lt?Tt+qe-Lt:-pt+qe+Wt,vn)),vt-Je>kt&&(vn=w(Tt+Wt<kt?vt-Je-kt:pt-Je-Wt,vn)))}if(Se){var On=Math.round(Tt-Lt+pt/2),Rn=Math.round(xr/2);D||(Tt-(We+U+Wt)<Lt&&On<Rn&&we==="left"?(Dt+=pt+We,we="right"):vt+We+U+Wt>kt&&On>Rn&&we==="right"&&(Dt-=pt+We,we="left")),O||(Te+nt<xt&&(qt=w(Ht-an>xt?Te+nt-xt:-ct+nt+an,qt)),Ht-rt>St&&(qt=w(Te+an<St?Ht-rt-St:ct-rt-an,qt)))}}}function p(v,x,_){if(v){var E=v.getBoundingClientRect(),T=E.top,N=E.left,D=E.width,O=E.height,F=T+_,V=N+x;return{top:F,bottom:F+O,left:V,right:V+D,width:D,height:O}}}function y(v){if(v&&v.tagName!=="HTML"){var x=window.getComputedStyle(v),_=function(E){return["auto","scroll"].includes(E)};return v.clientHeight<v.scrollHeight&&_(x.overflowX)||v.clientWidth<v.scrollWidth&&_(x.overflowY)?v:y(v.parentNode)}}function w(v,x){return Math.round(Math.abs(v))>Math.round(Math.abs(x))?v:x}return r.forwardRef(h)})})(Zee);var bFe=Zee.exports;function uv(t){return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uv(t)}function _Fe(t){return function(e){if(Array.isArray(e))return cL(e)}(t)||Xee(t)||FA(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function q6(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=FA(t))||e){n&&(t=n);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var c=n.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw i}}}}function Y6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function K6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y6(Object(n),!0).forEach(function(r){wFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wFe(t,e,n){return(e=nte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rm(t,e){return tte(t)||function(n,r){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var i,o,l,c,u=[],d=!0,h=!1;try{if(l=(s=s.call(n)).next,r===0){if(Object(s)!==s)return;d=!1}else for(;!(d=(i=l.call(s)).done)&&(u.push(i.value),u.length!==r);d=!0);}catch(m){h=!0,o=m}finally{try{if(!d&&s.return!=null&&(c=s.return(),Object(c)!==c))return}finally{if(h)throw o}}return u}}(t,e)||FA(t,e)||ete()}function ete(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FA(t,e){if(t){if(typeof t=="string")return cL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cL(t,e):void 0}}function cL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tte(t){if(Array.isArray(t))return t}function xFe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nte(r.key),r)}}function nte(t){var e=function(n,r){if(uv(n)!=="object"||n===null)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var i=s.call(n,r);if(uv(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(t,"string");return uv(e)==="symbol"?e:String(e)}function xi(t,e,n){(function(r,s){if(s.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function Pe(t,e){return function(n,r){return r.get?r.get.call(n):r.value}(t,rte(t,e,"get"))}function Et(t,e,n){return function(r,s,i){if(s.set)s.set.call(r,i);else{if(!s.writable)throw new TypeError("attempted to set read only private field");s.value=i}}(t,rte(t,e,"set"),n),n}function rte(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function EFe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function SFe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var J6={name:"gregorian_en",months:[["January","Jan"],["February","Feb"],["March","Mar"],["April","Apr"],["May","May"],["June","Jun"],["July","Jul"],["August","Aug"],["September","Sep"],["October","Oct"],["November","Nov"],["December","Dec"]],weekDays:[["Saturday","Sat"],["Sunday","Sun"],["Monday","Mon"],["Tuesday","Tue"],["Wednesday","Wed"],["Thursday","Thu"],["Friday","Fri"]],digits:["0","1","2","3","4","5","6","7","8","9"],meridiems:[["AM","am"],["PM","pm"]]},WS={name:"gregorian",startYear:1,yearLength:365,epoch:1721424,century:20,weekStartDayIndex:1,getMonthLengths:function(t){return[31,t?29:28,31,30,31,30,31,31,30,31,30,31]},isLeap:function(t){return t%4==0&&t%100!=0||t%400==0},getLeaps:function(t){if(t!==0){for(var e=t>0?1:-1,n=[];t>0?e<=t:t<=e;)this.isLeap(e)&&n.push(e),t>0?e++:e--;return n}},getDayOfYear:function(t){for(var e=t.year,n=t.month,r=t.day,s=this.getMonthLengths(this.isLeap(e)),i=0;i<n.index;i++)r+=s[i];return r},getAllDays:function(t){var e=t.year;return this.yearLength*(e-1)+this.leapsLength(e)+this.getDayOfYear(t)},leapsLength:function(t){return((t-1)/4|0)+(-(t-1)/100|0)+((t-1)/400|0)},guessYear:function(t,e){return~~(t/365.24)+(e>0?1:-1)}};function Dh(t){return t&&t.constructor===Object}function ec(t){if(!isNaN(t))return parseInt(t)}function Pm(t){return Array.isArray(t)}function uy(t,e,n){return t===void 0||t<e||t>n}var Ei=new WeakMap,Ss=new WeakMap,Wr=new WeakMap,tc=new WeakMap,Sd=new WeakMap,jd=new WeakMap,ni=new WeakMap,Td=new WeakMap,ra=new WeakMap,js=new WeakMap,dy=new WeakMap,nc=new WeakMap,Q6=new WeakMap,hy=new WeakMap,fy=new WeakMap,Z6=new WeakMap,tR=new WeakMap,rc=new WeakMap,nR=new WeakMap,jFe=function(){function t(r){var s=this;(function(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")})(this,t),xi(this,Ei,{writable:!0,value:void 0}),xi(this,Ss,{writable:!0,value:void 0}),xi(this,Wr,{writable:!0,value:void 0}),xi(this,tc,{writable:!0,value:void 0}),xi(this,Sd,{writable:!0,value:void 0}),xi(this,jd,{writable:!0,value:void 0}),xi(this,ni,{writable:!0,value:void 0}),xi(this,Td,{writable:!0,value:void 0}),xi(this,ra,{writable:!0,value:J6}),xi(this,js,{writable:!0,value:WS}),xi(this,dy,{writable:!0,value:!1}),xi(this,nc,{writable:!0,value:{}}),xi(this,Q6,{writable:!0,value:/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d\.\d\d\dZ$/}),xi(this,hy,{writable:!0,value:[]}),xi(this,fy,{writable:!0,value:!0}),xi(this,Z6,{writable:!0,value:function(c,u){switch(c){case"YYYY":return["year",u];case"YY":return["year","".concat(Pe(s,js).century).concat(u)];case"MMMM":case"MMM":return["month",s.months.findIndex(function(h){var m=h.name,p=h.shortName;return new RegExp(u,"i").test(m+p)})+1];case"MM":case"M":return["month",u];case"DD":case"D":return["day",u];case"HH":case"H":return["hour",u];case"hh":case"h":var d=ec(u);return["hour",d>12?d-12:d];case"mm":case"m":return["minute",u];case"ss":case"s":return["second",u];case"SSS":case"SS":case"S":return["millisecond",u];default:return[]}}}),xi(this,tR,{writable:!0,value:function(){return Pe(s,Ei)===0&&Pe(s,js).startYear!==0}}),xi(this,rc,{writable:!0,value:function(){if(Pe(s,fy)&&s.isValid){var c=Math.floor,u=function(w,v){return[(E=w,(E<0?-1:1)*Math.abs(c(w/v))),(x=w,_=v,(x<0&&c(x%_)!==-0?_:0)+c(w%v))];var x,_,E},d=function(){if(Pe(s,Ss)<0||Pe(s,Ss)>11){var w=Pe(s,Ss)<0?-1:1,v=Rm(u(Pe(s,Ss),12),2),x=v[0],_=v[1];Et(s,Ei,Pe(s,Ei)+x),Et(s,Ss,_),Pe(s,tR).call(s)&&Et(s,Ei,w)}};for(Et(s,fy,!1),[["millisecond","second",1e3],["second","minute",60],["minute","hour",60],["hour","day",24]].forEach(function(w){var v=Rm(w,3),x=v[0],_=v[1],E=v[2];if(function(O,F){return O>=F||O<0}(s[x],E)){var T=Rm(u(s[x],E),2),N=T[0],D=T[1];s[_]+=N,s[x]=D}}),Et(s,fy,!0),d();Pe(s,Wr)<-Pe(s,js).yearLength||Pe(s,Wr)>Pe(s,js).yearLength;){if(Pe(s,Ss)>0){for(var h=Pe(s,js).getMonthLengths(s.isLeap),m=0;m<Pe(s,Ss);m++)Et(s,Wr,Pe(s,Wr)+h[m]);Et(s,Ss,0)}var p=s.isLeap?s.calendar.yearLength+1:s.calendar.yearLength;Et(s,Wr,Pe(s,Wr)+p*(Pe(s,Wr)<0?1:-1)),Et(s,Ei,Pe(s,Ei)+(Pe(s,Wr)<0?-1:1))}for(;;){var y;for(d();Pe(s,Wr)<1;)Et(s,Ss,Pe(s,Ss)-1),d(),Et(s,Wr,s.month.length+Pe(s,Wr));if(Pe(s,Wr)<=s.month.length||isNaN(Pe(s,Wr)))break;Et(s,Wr,Pe(s,Wr)-s.month.length),Et(s,Ss,(y=Pe(s,Ss),y++,y))}Pe(s,tc)||Et(s,tc,0),Pe(s,Sd)||Et(s,Sd,0),Pe(s,jd)||Et(s,jd,0),Pe(s,ni)||Et(s,ni,0)}}}),xi(this,nR,{writable:!0,value:function(){return(Pe(s,nc).weekDays||Pe(s,ra).weekDays).map(function(c,u){var d=Rm(c,2),h=d[0],m=d[1],p=u-s.weekStartDayIndex;return p<0&&(p+=7),{name:h,shortName:m,index:p,number:p+1,toString:function(){return this.number.toString()},valueOf:function(){return this.number}}})}});var i=Dh(r)?K6({},r):r,o=!0;if(i&&typeof i!="boolean"||(i={date:new Date}),Dh(i)||(i={date:i}),Object.keys(i).length!==0){for(var l in Dh(i.calendar)&&Et(this,js,i.calendar),Dh(i.locale)&&Et(this,ra,i.locale),isNaN(i.year)&&isNaN(i.month)&&isNaN(i.day)&&!i.date&&(i.date=new Date),i.date&&(typeof i.date=="string"&&i.format&&Et(this,Td,i.format),this.setDate(i.date),i.calendar&&this.convert(i.calendar),o=!1),delete i.calendar,delete i.locale,delete i.date,i)this.set(l,i[l]);Pe(this,tR).call(this)&&Et(this,Ei,-1),o&&Pe(this,rc).call(this)}}var e,n;return e=t,n=[{key:"parse",value:function(r){if(!r)return this;var s,i,o=Pe(this,Td),l=Pe(this,ra).digits,c=q6(l);try{for(c.s();!(s=c.n()).done;){var u=s.value;r=r.replace(new RegExp(u,"g"),l.indexOf(u))}}catch(U){c.e(U)}finally{c.f()}if(o)for(var d=o.split(/[^\w\u0600-\u06FF]/),h=r.split(/[^\w\u0600-\u06FF]/),m=0;m<d.length;m++)this.set.apply(this,_Fe(Pe(this,Z6).call(this,d[m],h[m])));else{var p=r.match(/(-?\d{2,4})?\W?([A-z]{3,9}|\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,3})?\W?(am|pm)?/),y=(tte(i=p)||Xee(i)||FA(i)||ete()).slice(1),w=y[1];w&&(w=/\d+/.test(w)?ec(w)-1:this.months.findIndex(function(U){return new RegExp(w,"i").test(U.name)})),y[1]=w;var v=Rm(y.map(ec),7),x=v[0],_=v[1],E=v[2],T=v[3],N=v[4],D=v[5],O=v[6];Et(this,Ei,x),Et(this,Ss,_),Et(this,Wr,E),Et(this,tc,T),Et(this,Sd,N),Et(this,jd,D),Et(this,ni,O)}var F=Rm(Pe(this,ra).meridiems[1],2),V=F[0],z=F[1];return Pe(this,tc)<12&&(r.includes(V)||r.includes(z))&&Et(this,tc,Pe(this,tc)+12),Pe(this,rc).call(this),this}},{key:"convert",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:WS,s=arguments.length>1?arguments[1]:void 0;if(Dh(s)&&Et(this,ra,s),!Dh(r)||r.name===Pe(this,js).name)return this;var i=this.toJulianDay()-r.epoch,o=new t({calendar:r,year:r.guessYear(i,Pe(this,Ei)),month:1,day:1});return o.day+=i-o.toDays(),Et(this,Ei,o.year),Et(this,Ss,o.month.index),Et(this,Wr,o.day),Et(this,js,r),this}},{key:"format",value:function(r,s){if(!this.isValid||r&&typeof r!="string")return"";r||(r=Pe(this,Td)||"YYYY/MM/DD"),Pm(s)||(s=[]),s=(s=s.concat(Pe(this,hy))).filter(function(m){return typeof m=="string"||(console.warn("type of all items in the ignore list must be string, found",uv(m)),!1)}).map(function(m){return m.replace(/[*/+\-()[\]{}\s$^]/g,function(p){return"\\"+p})});var i,o=new RegExp("".concat(s.join("|")).concat(s.length>0?"|":"","YYYY|YY|MMMM|MMM|MM|M|WW|W|DDDD|DDD|DD|D|dddd|ddd|dd|d|HH|H|hh|h|mm|m|ss|s|SSS|SS|S|A|a|."),"g"),l="",c=q6(r.match(o)||[]);try{for(c.s();!(i=c.n()).done;){var u=i.value,d=this.getValue(u);l+=s.includes(u)?u:d===0?d:d||u}}catch(m){c.e(m)}finally{c.f()}var h=this.digits;return l.replace(/[0-9]/g,function(m){return h[m]})}},{key:"getProperty",value:function(r){return this.getValue(r)}},{key:"getValue",value:function(r){var s=function(i){return i<10?"0"+i:i};switch(r){case"YYYY":return this.year;case"YY":return this.year.toString().substring(2,4);case"MMMM":return this.month.name;case"MMM":return this.month.shortName;case"MM":return s(this.month.number);case"M":return this.month.number;case"WW":return s(this.weekOfYear);case"W":return this.weekOfYear;case"DDDD":case"DDD":return this.dayOfYear;case"DD":return s(this.day);case"D":return this.day;case"HH":return s(this.hour);case"H":return this.hour;case"dddd":return this.weekDay.name;case"ddd":return this.weekDay.shortName;case"dd":return s(this.weekDay.number);case"d":return this.weekDay.number;case"hh":return s(this.hour>12?this.hour-12:this.hour||12);case"h":return this.hour>12?this.hour-12:this.hour||12;case"mm":return s(this.minute);case"m":return this.minute;case"ss":return s(this.second);case"s":return this.second;case"SSS":return Pe(this,ni)<10?"00".concat(Pe(this,ni)):Pe(this,ni)<100?"0".concat(Pe(this,ni)):Pe(this,ni);case"SS":return Pe(this,ni)<10?"00":Pe(this,ni)<100?("0"+Pe(this,ni)).substring(2,0):Pe(this,ni).toString().substring(0,2);case"S":return Pe(this,ni)<10||Pe(this,ni)<100?"0":Pe(this,ni).toString().substring(0,1);case"a":return this.hour>=12?Pe(this,ra).meridiems[1][1]:Pe(this,ra).meridiems[0][1];case"A":return this.hour>=12?Pe(this,ra).meridiems[1][0]:Pe(this,ra).meridiems[0][0];default:return""}}},{key:"setYear",value:function(r){return this.year=r,this}},{key:"setMonths",value:function(r){return this.months=r,this}},{key:"setMonth",value:function(r){return this.month=r,this}},{key:"setWeekDays",value:function(r){return this.weekDays=r,this}},{key:"setDigits",value:function(r){return this.digits=r,this}},{key:"setDay",value:function(r){return this.day=r,this}},{key:"setHour",value:function(r){return this.hour=r,this}},{key:"setMinute",value:function(r){return this.minute=r,this}},{key:"setSecond",value:function(r){return this.second=r,this}},{key:"setMillisecond",value:function(r){return this.millisecond=r,this}},{key:"setFormat",value:function(r){return Et(this,Td,r),this}},{key:"setLocale",value:function(r){return this.locale=r,this}},{key:"setCalendar",value:function(r){return this.calendar=r,this}},{key:"setDate",value:function(r){if(typeof r=="string"){if(!Pe(this,Q6).test(r))return this.parse(r);r=new Date(r)}return typeof r=="number"&&(r=new Date(r)),r instanceof Date&&(Et(this,js,WS),Et(this,Ei,r.getFullYear()),Et(this,Ss,r.getMonth()),Et(this,Wr,r.getDate()),Et(this,tc,r.getHours()),Et(this,Sd,r.getMinutes()),Et(this,jd,r.getSeconds()),Et(this,ni,r.getMilliseconds()),Et(this,dy,!1)),r instanceof t&&(Et(this,Ei,r.year),Et(this,Ss,r.month.index),Et(this,Wr,r.day),Et(this,tc,r.hour),Et(this,Sd,r.minute),Et(this,jd,r.second),Et(this,ni,r.millisecond),Et(this,ra,r.locale),Et(this,Td,r._format),Et(this,js,r.calendar),Et(this,dy,r.isUTC),Et(this,hy,r.ignoreList),Et(this,nc,r.custom)),this}},{key:"setIgnoreList",value:function(r){return this.ignoreList=r,this}},{key:"set",value:function(r,s){if(r==null)return this;if(Dh(r)){var i=K6({},r);for(var o in i.date&&(this.setDate(i.date),delete i.date),i.calendar&&(this.convert(i.calendar),delete i.calendar),i.locale&&(this.setLocale(i.locale),delete i.locale),Et(this,fy,!1),i)this.set(o,i[o]);return Et(this,fy,!0),Pe(this,rc).call(this),this}r==="format"&&(r="_format");try{this[r]=s}catch{}return this}},{key:"add",value:function(r,s){if(!(r=ec(r))||!s)return this;switch(s){case"years":case"y":s="year";break;case"months":case"M":s="month";break;case"days":case"d":s="day";break;case"hours":case"h":s="hour";break;case"minutes":case"m":s="minute";break;case"seconds":case"s":s="second";break;case"milliseconds":case"ms":s="millisecond"}return this[s]+=r,this}},{key:"subtract",value:function(r,s){return this.add(-r,s)}},{key:"toFirstOfYear",value:function(){return this.month=1,this.day=1,this}},{key:"toLastOfYear",value:function(){return this.day>=29&&(this.day=29),this.month=12,this.toLastOfMonth(),this}},{key:"toFirstOfMonth",value:function(){return Et(this,Wr,1),this}},{key:"toLastOfMonth",value:function(){return Et(this,Wr,0),Et(this,Ss,Pe(this,Ss)+1),Pe(this,rc).call(this),this}},{key:"toFirstOfWeek",value:function(){return this.day-=this.weekDay.index,this}},{key:"toLastOfWeek",value:function(){return this.day+=6-this.weekDay.index,this}},{key:"toFirstWeekOfYear",value:function(){return this.toFirstOfYear(),this.weekDay.index===0?this:this.toLastOfWeek().setDay(this.day+1)}},{key:"toLastWeekOfYear",value:function(){return this.toLastOfYear().toFirstOfWeek()}},{key:"toString",value:function(){return this.format()}},{key:"toDate",value:function(){var r=new t(this);return Pe(this,js).name!=="gregorian"&&r.convert(WS),new Date(r.year,r.month.index,r.day,r.hour,r.minute,r.second,r.millisecond)}},{key:"toUTC",value:function(){return Pe(this,dy)||(this.minute+=this.toDate().getTimezoneOffset(),Et(this,dy,!0)),this}},{key:"toUnix",value:function(){return this.unix}},{key:"toJulianDay",value:function(){return this.toDays()+Pe(this,js).epoch}},{key:"toObject",value:function(){return{year:Pe(this,Ei),month:this.month,day:Pe(this,Wr),weekDay:this.weekDay,hour:Pe(this,tc),minute:Pe(this,Sd),second:Pe(this,jd),millisecond:Pe(this,ni),weekOfYear:this.weekOfYear,dayOfYear:this.dayOfYear,daysLeft:this.daysLeft,calendar:Pe(this,js),locale:Pe(this,ra),format:Pe(this,Td)||"YYYY/MM/DD",ignoreList:Pe(this,hy)}}},{key:"toJSON",value:function(){return this.valueOf()}},{key:"valueOf",value:function(){return this.toDate().valueOf()}},{key:"toDays",value:function(){if(this.isValid)return Pe(this,js).getAllDays(this)}},{key:"dayOfBeginning",get:function(){return this.toDays()}},{key:"dayOfYear",get:function(){if(this.isValid)return Pe(this,js).getDayOfYear(this)}},{key:"weekOfYear",get:function(){if(this.isValid)return 1+~~(this.dayOfYear/7)}},{key:"daysLeft",get:function(){if(this.isValid){var r=Pe(this,js).yearLength;return(this.isLeap?r+1:r)-this.dayOfYear}}},{key:"year",get:function(){return Pe(this,Ei)},set:function(r){Et(this,Ei,ec(r)),Pe(this,rc).call(this)}},{key:"month",get:function(){return this.months[Pe(this,Ss)]||{}},set:function(r){var s;r=(s=ec(r.valueOf())-1)!==null&&s!==void 0?s:void 0,Et(this,Ss,r),uy(r,0,11)&&Pe(this,rc).call(this)}},{key:"monthIndex",get:function(){return Pe(this,Ss)}},{key:"day",get:function(){return Pe(this,Wr)},set:function(r){r=ec(r),Et(this,Wr,r),uy(r,1,28)&&Pe(this,rc).call(this)}},{key:"weekDay",get:function(){if(!this.isValid)return{};var r=(this.toJulianDay()+3)%7;return Pe(this,nR).call(this)[r]}},{key:"hour",get:function(){return Pe(this,tc)},set:function(r){r=ec(r),Et(this,tc,r),uy(r,0,23)&&Pe(this,rc).call(this)}},{key:"minute",get:function(){return Pe(this,Sd)},set:function(r){r=ec(r),Et(this,Sd,r),uy(r,0,59)&&Pe(this,rc).call(this)}},{key:"second",get:function(){return Pe(this,jd)},set:function(r){r=ec(r),Et(this,jd,r),uy(r,0,59)&&Pe(this,rc).call(this)}},{key:"millisecond",get:function(){return Pe(this,ni)},set:function(r){r=ec(r),Et(this,ni,r),uy(r,0,999)&&Pe(this,rc).call(this)}},{key:"months",get:function(){var r=Pe(this,js).getMonthLengths(this.isLeap),s=(Pe(this,nc).months||Pe(this,ra).months).map(function(i,o){var l=Rm(i,2);return{name:l[0],shortName:l[1],length:r[o],index:o,number:o+1,toString:function(){return this.number.toString()},valueOf:function(){return this.number}}});return s},set:function(r){if(!r)return delete Pe(this,nc).months;Pm(r)&&r.length===12&&r.every(function(s){return Pm(s)&&s.length===2&&s.every(function(i){return typeof i=="string"})})&&(Pe(this,nc).months=r)}},{key:"weekDays",get:function(){return Pe(this,nR).call(this).sort(function(r,s){return r.index-s.index})},set:function(r){if(!r)return delete Pe(this,nc).weekDays;Pm(r)&&r.length===7&&r.every(function(s){return Pm(s)&&s.length===2&&s.every(function(i){return typeof i=="string"})})&&(Pe(this,nc).weekDays=r)}},{key:"leaps",get:function(){return Pe(this,js).getLeaps(Pe(this,Ei))}},{key:"calendar",get:function(){return Pe(this,js)},set:function(r){this.convert(r)}},{key:"locale",get:function(){return Pe(this,ra)},set:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:J6;Dh(r)&&Et(this,ra,r)}},{key:"custom",get:function(){return Pe(this,nc)}},{key:"meridiems",get:function(){return Pe(this,ra).meridiems}},{key:"digits",get:function(){return Pe(this,nc).digits||Pe(this,ra).digits},set:function(r){if(!r)return delete Pe(this,nc).digits;Pm(r)&&r.length===10&&(Pe(this,nc).digits=r)}},{key:"_format",get:function(){return Pe(this,Td)},set:function(r){typeof r=="string"&&Et(this,Td,r)}},{key:"isLeap",get:function(){return Pe(this,js).isLeap(Pe(this,Ei))}},{key:"isValid",get:function(){return!isNaN(Pe(this,Ei))&&!isNaN(Pe(this,Ss))&&!isNaN(Pe(this,Wr))}},{key:"isUTC",get:function(){return Pe(this,dy)}},{key:"unix",get:function(){return(this.valueOf()-this.millisecond)/1e3}},{key:"ignoreList",get:function(){return Pe(this,hy)},set:function(r){Pm(r)&&Et(this,hy,r)}},{key:"weekStartDayIndex",get:function(){return Pe(this,js).weekStartDayIndex},set:function(r){(r=ec(r))!==void 0&&(Pe(this,js).weekStartDayIndex=Math.abs(r)%7)}},{key:"date",set:function(r){this.setDate(r)}}],n&&xFe(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),TFe=EFe(SFe(jFe));const CFe=Object.freeze(Object.defineProperty({__proto__:null,default:TFe},Symbol.toStringTag,{value:"Module"})),AFe=ng(CFe);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=C,n=bFe,r=AFe;function s(A){return A&&typeof A=="object"&&"default"in A?A:{default:A}}var i=s(e),o=s(n),l=s(r);function c(A,B){var se=Object.keys(A);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(A);B&&(de=de.filter(function(Se){return Object.getOwnPropertyDescriptor(A,Se).enumerable})),se.push.apply(se,de)}return se}function u(A){for(var B=1;B<arguments.length;B++){var se=arguments[B]!=null?arguments[B]:{};B%2?c(Object(se),!0).forEach(function(de){d(A,de,se[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(se)):c(Object(se)).forEach(function(de){Object.defineProperty(A,de,Object.getOwnPropertyDescriptor(se,de))})}return A}function d(A,B,se){return(B=function(de){var Se=function(we,Me){if(typeof we!="object"||we===null)return we;var tt=we[Symbol.toPrimitive];if(tt!==void 0){var Re=tt.call(we,Me);if(typeof Re!="object")return Re;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Me==="string"?String:Number)(we)}(de,"string");return typeof Se=="symbol"?Se:String(Se)}(B))in A?Object.defineProperty(A,B,{value:se,enumerable:!0,configurable:!0,writable:!0}):A[B]=se,A}function h(){return h=Object.assign?Object.assign.bind():function(A){for(var B=1;B<arguments.length;B++){var se=arguments[B];for(var de in se)Object.prototype.hasOwnProperty.call(se,de)&&(A[de]=se[de])}return A},h.apply(this,arguments)}function m(A,B){if(A==null)return{};var se,de,Se=function(Me,tt){if(Me==null)return{};var Re,qe,Je={},nt=Object.keys(Me);for(qe=0;qe<nt.length;qe++)Re=nt[qe],tt.indexOf(Re)>=0||(Je[Re]=Me[Re]);return Je}(A,B);if(Object.getOwnPropertySymbols){var we=Object.getOwnPropertySymbols(A);for(de=0;de<we.length;de++)se=we[de],B.indexOf(se)>=0||Object.prototype.propertyIsEnumerable.call(A,se)&&(Se[se]=A[se])}return Se}function p(A,B){return function(se){if(Array.isArray(se))return se}(A)||function(se,de){var Se=se==null?null:typeof Symbol<"u"&&se[Symbol.iterator]||se["@@iterator"];if(Se!=null){var we,Me,tt,Re,qe=[],Je=!0,nt=!1;try{if(tt=(Se=Se.call(se)).next,de===0){if(Object(Se)!==Se)return;Je=!1}else for(;!(Je=(we=tt.call(Se)).done)&&(qe.push(we.value),qe.length!==de);Je=!0);}catch(rt){nt=!0,Me=rt}finally{try{if(!Je&&Se.return!=null&&(Re=Se.return(),Object(Re)!==Re))return}finally{if(nt)throw Me}}return qe}}(A,B)||w(A,B)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function y(A){return function(B){if(Array.isArray(B))return v(B)}(A)||function(B){if(typeof Symbol<"u"&&B[Symbol.iterator]!=null||B["@@iterator"]!=null)return Array.from(B)}(A)||w(A)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function w(A,B){if(A){if(typeof A=="string")return v(A,B);var se=Object.prototype.toString.call(A).slice(8,-1);return se==="Object"&&A.constructor&&(se=A.constructor.name),se==="Map"||se==="Set"?Array.from(A):se==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(se)?v(A,B):void 0}}function v(A,B){(B==null||B>A.length)&&(B=A.length);for(var se=0,de=new Array(B);se<B;se++)de[se]=A[se];return de}function x(A,B){var se=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(!se){if(Array.isArray(A)||(se=w(A))||B){se&&(A=se);var de=0,Se=function(){};return{s:Se,n:function(){return de>=A.length?{done:!0}:{done:!1,value:A[de++]}},e:function(Re){throw Re},f:Se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var we,Me=!0,tt=!1;return{s:function(){se=se.call(A)},n:function(){var Re=se.next();return Me=Re.done,Re},e:function(Re){tt=!0,we=Re},f:function(){try{Me||se.return==null||se.return()}finally{if(tt)throw we}}}}function _(A){return Array.isArray(A)}function E(A){var B=A.state.date,se=B.calendar,de=B.locale,Se=A.customWeekDays,we=A.weekStartDayIndex,Me=A.displayWeekNumbers,tt=A.weekNumber,Re=e.useMemo(function(){var qe=Se;return _(qe)&&qe.length>=7?(qe.length=7,qe=qe.map(function(Je){return _(Je)&Je.length>1?Je=Je[1]:_(Je)&&(Je=Je[0]),Je})):qe=new l.default({year:1,calendar:se,locale:de}).weekDays.map(function(Je){return Je.shortName}),qe},[se,de,Se]);return Re=y(Re).slice(we).concat(y(Re).splice(0,we)),i.default.createElement("div",{className:"rmdp-week"},Me&&i.default.createElement("div",{className:"rmdp-week-day"},tt),Re.map(function(qe,Je){return i.default.createElement("div",{key:Je,className:"rmdp-week-day"},qe)}))}function T(A,B){var se=arguments.length>2&&arguments[2]!==void 0&&arguments[2],de=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(!A||!B)return!1;if(A.year===B.year){if(de)return!0;if(A.monthIndex===B.monthIndex)return!!se||A.day===B.day}}function N(A){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"YYYY/MM/DD";return A.format(B)}function D(A,B,se){var de=se.multiple,Se=se.range,we=se.selectedDate,Me=se.onlyMonthPicker,tt=se.onlyYearPicker,Re=se.format,qe=se.focused,Je=se.weekPicker;A.setFormat(Re);var nt=new l.default(A);return we=de&&Se?function(){var rt=!0;_(we)||(we=[[we]]);var Dt=we.find(function(tn){return tn.length===1}),yn=Me?"YYYY/MM":"YYYY/MM/DD",vn=we;if(Dt){var qt=Dt[0];vn=vn.filter(function(tn){if(tn.length===1)return!0;var Xn=p(tn,2),Kn=Xn[0],Qe=Xn[1],or=p([qt,nt].sort(function(Pt,_n){return Pt-_n}),2),an=[Kn,Qe,or[0],or[1]].map(function(Pt){return N(Pt,yn)}),zn=p(an,4),Wt=zn[0],Ze=zn[1],At=zn[2],ot=zn[3];return!(At<=Wt&&ot>=Ze||At>=Wt&&ot>=Ze&&At<=Ze||At<=Wt&&ot<=Ze&&ot>=Wt)})}else vn=vn.filter(function(tn){if(!_(tn))return!0;if(tn.length===0)return!1;var Xn=p(tn,2),Kn=[Xn[0],Xn[1],nt].map(function(Wt){return N(Wt,yn)}),Qe=p(Kn,3),or=Qe[0],an=Qe[1],zn=Qe[2];return!(zn>=or&&zn<=an)});return vn=vn.map(function(tn){var Xn;return _(tn)?tn.length===1?(rt=!1,Xn=tn.concat(nt)):Xn=tn:(rt=!1,Xn=[tn,nt]),Xn.sort(function(Kn,Qe){return Kn-Qe})}),rt&&(vn=[].concat(y(vn),[[nt]])),vn}():de?function(){var rt=we.filter(function(Dt){return!T(A,Dt,Me,tt)});return rt.length===we.length?rt.push(nt):nt=rt.find(function(Dt){return T(Dt,qe)}),B&&rt.sort(function(Dt,yn){return Dt-yn}),rt}():Se?function(){if(Je)return[new l.default(nt).toFirstOfWeek(),new l.default(nt).toLastOfWeek()];if(we.length===2||we.length===0)return[nt];if(we.length===1)return[we[0],nt].sort(function(rt,Dt){return rt-Dt})}():nt,[we,nt]}function O(A,B,se,de){var Se=[],we=se?"YYYY/MM":"YYYY/MM/DD",Me=N(A,we);function tt(Re){var qe=Re[0],Je=Re[1];if(Re.length===1)T(A,qe,se)&&Se.push("rmdp-range");else if(Re.length===2){var nt=[qe,Je].map(function(vn){return N(vn,we)}),rt=p(nt,2),Dt=rt[0],yn=rt[1];Me>=Dt&&Me<=yn&&Se.push("rmdp-range"),Me===Dt&&Se.push("start"),Me===yn&&Se.push("end")}}return de?(_(B)?B:[[B]]).forEach(tt):tt(B),Se.join(" ")}function F(A,B,se,de){var Se=arguments.length>5?arguments[5]:void 0,we=[];if(de&&se){var Me,tt=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:"day")==="day"?"YYYY/MM/DD":"YYYY/MM",Re=se.format(tt),qe=A.format(tt);if(Se||(B==null?void 0:B.length)!==1){if(Se&&_(B)){var Je,nt=x(B);try{for(nt.s();!(Je=nt.n()).done;){var rt=Je.value;if(_(rt)&&rt.length===1){Me=rt[0].format(tt);break}}}catch(Dt){nt.e(Dt)}finally{nt.f()}}}else Me=B[0].format(tt);(qe>Me&&qe<=Re||qe<Me&&qe>=Re)&&(we.push("rmdp-range-hover"),qe===Re&&we.push(Re>Me?"end":"start"),_(B)&&B.flat().some(function(Dt){return Dt.format(tt)===qe})&&we.push("force"))}return we}function V(A,B,se){if(A){var de=z(A);return se?Array.from(de.querySelectorAll(B)):de.querySelector(B)}}function z(A){return A.closest(".rmdp-calendar")}var U=["selected","today","day:not(.rmdp-day-hidden):not(.rmdp-disabled)"];function H(A,B,se){var de=se.type,Se=de===void 0?"day":de,we=se.format;A.preventDefault();var Me=A.currentTarget,tt=A.key,Re=A.code,qe=Se==="day"?7:3,Je=z(Me),nt=Je&&Je.classList.contains("rmdp-rtl"),rt={ArrowRight:nt?-1:1,ArrowLeft:nt?1:-1,ArrowUp:-qe,ArrowDown:qe};if(Re==="Space"||tt===" ")Me.click();else if(Object.keys(rt).includes(tt)){var Dt=function(){if(Se==="month")return J(Je,[U[2]]);var tn=V(Me,yn<0?".rmdp-left":".rmdp-right");tn&&(tn.click(),J(Je))},yn=rt[tt],vn=new l.default(B.date).add(yn,Se);(function(tn){if(!tn)return Dt();var Xn=tn.getAttribute("class");Xn.includes("hidden")||Xn.includes("disabled")?H(A,u(u({},B),{},{date:vn}),{type:Se,format:we}):tn.focus()})(V(Me,'[aria-label*="'.concat(B.year?"year ".concat(B.year+yn):vn.format(we),'"]')))}else{var qt=V(Me,".rmdp-arrow-container");qt&&qt.focus()}}function J(A){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:U,se=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],de="[data-active='true']";A.querySelectorAll("".concat(de," [tabindex='0']")).forEach(function(Se){return Se.setAttribute("tabindex","-1")}),setTimeout(function(){var Se,we=x(B);try{for(we.s();!(Se=we.n()).done;){var Me=Se.value,tt=A.querySelector("".concat(de," .rmdp-").concat(Me));if(tt){tt.setAttribute("tabindex","0"),se&&tt.focus();break}}}catch(Re){we.e(Re)}finally{we.f()}},10)}var q="dddd MMMM DD of YYYY";function L(A){var B=A.state,se=A.onChange,de=A.showOtherDays,Se=de!==void 0&&de,we=A.mapDays,Me=A.onlyShowInRangeDates,tt=A.customWeekDays,Re=A.sort,qe=A.numberOfMonths,Je=A.isRTL,nt=A.weekStartDayIndex,rt=A.handleFocusedDate,Dt=A.hideWeekDays,yn=A.fullYear,vn=p(A.monthAndYears,1)[0],qt=A.displayWeekNumbers,tn=A.weekNumber,Xn=tn===void 0?"":tn,Kn=A.rangeHover,Qe=A.highlightToday,or=e.useRef({}),an=e.useRef(),zn=B.today,Wt=B.minDate,Ze=B.maxDate,At=B.range,ot=B.multiple,Pt=B.date,_n=B.selectedDate,Qt=B.onlyMonthPicker,xt=B.onlyYearPicker,St=B.mustShowMonthPicker,Lt=B.mustShowYearPicker,kt=!Qt&&!xt,Bt=p(e.useState(),2),xr=Bt[0],pr=Bt[1];or.current.date=Pt;var _a=e.useMemo(function(){return kt?function(Rn,Mr,Ar,ls){if(!Rn)return[];for(var Wn=[],Ki=0;Ki<Ar;Ki++){var vs=(Rn=new l.default(Rn).toFirstOfMonth()).monthIndex,ki=[];Rn.toFirstOfWeek().add(ls,"day"),Rn.monthIndex===vs&&Rn.day>1&&Rn.subtract(7,"days");for(var Rs=0;Rs<6;Rs++){for(var Gn=[],Ur=0;Ur<7;Ur++)Gn.push({date:new l.default(Rn),day:Rn.format("D"),current:Rn.monthIndex===vs}),Rn.day+=1;if(ki.push(Gn),Rs>2&&Rn.monthIndex!==vs)break}Wn.push(ki)}return Wn}(or.current.date,0,qe,nt):[]},[Pt.monthIndex,Pt.year,Pt.calendar,Pt.locale,kt,Se,qe,nt]);return kt&&i.default.createElement("div",{ref:an,className:"rmdp-day-picker ".concat(yn?"rmdp-full-year":""),style:{display:yn?"grid":"flex"},onMouseLeave:function(){return Kn&&pr()},"data-active":kt&&!St&&!Lt},_a.map(function(Rn,Mr){return i.default.createElement("div",{key:Mr,style:d({},Je?"marginLeft":"marginRight",Mr+(yn?0:1)<qe?"10px":"")},yn&&i.default.createElement("div",{className:"rmdp-month-name"},vn[Mr]),!Dt&&i.default.createElement(E,{state:B,customWeekDays:tt,weekStartDayIndex:nt,displayWeekNumbers:qt,weekNumber:Xn}),Rn.map(function(Ar,ls){return i.default.createElement("div",{key:ls,className:"rmdp-week"},qt&&i.default.createElement("div",{className:"rmdp-day rmdp-disabled"},i.default.createElement("span",null,Ar[0].date.format("WW"))),Ar.map(function(Wn,Ki){var vs=function(ur){if(!ur.current&&!Se)return{};var gr={};return we.forEach(function(zr){var bs,Qr=zr({date:ur.date,today:zn,currentMonth:B.date.month,selectedDate:B.selectedDate,isSameDate:T});((bs=Qr)===null||bs===void 0?void 0:bs.constructor)!==Object&&(Qr={}),(Qr.disabled||Qr.hidden)&&(ur.disabled=!0),Qr.hidden&&(ur.hidden=!0),gr=u(u({},gr),Qr)}),delete gr.disabled,delete gr.hidden,gr}(Wn={date:Wn.date,day:Wn.day,current:Wn.current}),ki=On(Wn)&&!Wn.disabled,Rs="".concat(ki?"sd":""),Gn=vs.children;ki&&(Rs="".concat(Rs," ").concat(vs.className||"")),delete vs.className,delete vs.children;var Ur=function(ur,gr){var zr=["rmdp-day"],bs=ur.date,Qr=ur.hidden,Va=ur.current;if(!On(ur)||Qr)zr.push("rmdp-day-hidden");else{(Wt&&bs<Wt||Ze&&bs>Ze||ur.disabled)&&(zr.push("rmdp-disabled"),ur.disabled||(ur.disabled=!0)),Va||zr.push("rmdp-deactive");var Ji=gr>1&&Va||gr===1;ur.disabled&&Me||(T(bs,zn)&&Qe&&zr.push("rmdp-today"),Qi=bs,[].concat(_n).some(function(Oi){return T(Oi,Qi)})&&Ji&&!At&&zr.push("rmdp-selected")),At&&!ur.disabled&&Ji&&(zr.push(O(bs,_n,void 0,ot)),zr=zr.concat(F(bs,_n,xr,Kn,void 0,ot)))}var Qi;return zr.join(" ")}(Wn,qe);return(Wn.hidden||Wn.disabled)&&(Rs=Rs.replace("sd","")),i.default.createElement("div",{key:Ki,tabIndex:-1,"aria-label":"Choose ".concat(Wn.date.format(q)),className:Ur,onMouseEnter:function(){return Kn&&pr(Wn.date)},onKeyDown:function(ur){return H(ur,Wn,{format:q})},onClick:function(){On(Wn)&&!Wn.disabled&&function(ur,gr,zr){var bs,Qr,Va,Ji=ur.date,Qi=ur.current,Oi=B.selectedDate,Ua=B.focused,bi=B.date,el=bi,mo=el.hour,du=el.minute,Ul=el.second;Ji.set({hour:((bs=Oi)===null||bs===void 0?void 0:bs.hour)||mo,minute:((Qr=Oi)===null||Qr===void 0?void 0:Qr.minute)||du,second:((Va=Oi)===null||Va===void 0?void 0:Va.second)||Ul}),zr!==1||Qi?zr>1&&!Qi&&(gr===0&&Ji<bi&&(bi=new l.default(bi).toFirstOfMonth()),gr>0&&Ji.monthIndex>bi.monthIndex+gr&&gr+1===zr&&(bi=new l.default(bi).toFirstOfMonth().add(1,"month"))):bi=new l.default(bi).toFirstOfMonth();var tl=p(D(Ji,Re,B),2);Oi=tl[0],Ua=tl[1],se(Oi,u(u({},B),{},{date:bi,focused:Ua,selectedDate:Oi})),rt(Ua,Ji)}(Wn,Mr,qe)}},i.default.createElement("span",h({className:Rs},vs),On(Wn)&&!Wn.hidden?Gn??Wn.day:""))}))}))}));function On(Rn){return!!Rn.current||Se}}function Y(A){var B=A.direction,se=A.onClick,de=A.disabled,Se=A.onKeyDown;return i.default.createElement("button",{type:"button",className:"rmdp-arrow-container ".concat(B," ").concat(de?"disabled":""),onClick:se,onKeyDown:Se,"aria-roledescription":"button to navigate ".concat(B.replace("rmdp-",""))},i.default.createElement("i",{className:"rmdp-arrow"}))}function ne(A){var B=A.state,se=A.setState,de=A.disableYearPicker,Se=A.disableMonthPicker,we=A.buttons,Me=A.renderButton,tt=A.handleMonthChange,Re=A.disabled,qe=A.hideMonth,Je=A.hideYear,nt=A.isRTL,rt=A.fullYear,Dt=p(A.monthAndYears,2),yn=Dt[0],vn=Dt[1],qt=A.monthYearSeparator,tn=A.formatMonth,Xn=A.formatYear,Kn=A.headerOrder,Qe=A.onYearChange,or={},an=B.date,zn=B.onlyMonthPicker,Wt=B.onlyYearPicker,Ze=B.mustShowYearPicker,At=B.minDate,ot=B.maxDate,Pt=B.year,_n=B.today,Qt=At&&an.year<=At.year&&At.monthIndex>an.monthIndex-1,xt=ot&&an.year>=ot.year&&ot.monthIndex<an.monthIndex+1,St=_n.year+7;if(St-=12*Math.floor((St-Pt)/12),(qe||rt)&&Je&&!we)return null;if((zn||rt)&&(At&&At.year>=an.year&&(Qt=!0),ot&&ot.year<=an.year&&(xt=!0)),Ze||Wt){var Lt=St-11;Qt=At&&At.year>Lt,xt=ot&&ot.year<St}return Re&&(Qt=!0,xt=!0),i.default.createElement("div",{className:"rmdp-header"},i.default.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"}},Array.from(new Set(Kn)).map(function(On,Rn){return i.default.createElement(e.Fragment,{key:Rn},function(Mr){switch(Mr){case"LEFT_BUTTON":return we&&xr("left");case"RIGHT_BUTTON":return we&&xr("right");case"MONTH_YEAR":case"YEAR_MONTH":if(rt)return i.default.createElement("div",{className:"rmdp-header-values",style:or},!Je&&an.format("YYYY"));var Ar=Mr.split("_").filter(function(ls){return ls==="MONTH"&&!qe||ls==="YEAR"&&!Je});return Ar.length>1&&(Ar=[Ar[0],Bt(),Ar[1]]),yn.map(function(ls,Wn){return i.default.createElement("div",{key:Wn,className:"rmdp-header-values",style:or},Ar.map(function(Ki,vs){return i.default.createElement(e.Fragment,{key:vs},function(ki,Rs,Gn){switch(ki){case"MONTH":return i.default.createElement("span",{tabIndex:0,onKeyDown:kt,style:{cursor:Re||Se||zn?"default":"pointer"},onClick:function(Ur){return!Se&&_a("mustShowMonthPicker",Ur)}},function(Ur,ur){return typeof tn=="function"?tn(Ur,ur):Ur}(Rs,vn[Gn]));case"YEAR":return i.default.createElement("span",{tabIndex:0,onKeyDown:kt,style:{cursor:Re||de||Wt?"default":"pointer"},onClick:function(Ur){return!de&&_a("mustShowYearPicker",Ur)}},function(Ur,ur){return typeof tn=="function"?Xn(Ur,ur):Ur}(vn[Gn],Rs));default:return ki}}(Ki,ls,Wn))}))});default:return}}(On))})));function kt(On){var Rn=On.currentTarget,Mr=On.key,Ar=On.code;Ar==="Space"||Mr===" "?(On.preventDefault(),Rn.click()):Ar==="ArrowDown"&&(On.preventDefault(),J(z(On.target)))}function Bt(){return qt?i.default.createElement("span",null,qt):nt?"":","}function xr(On){var Rn=function(Ar){Ar.preventDefault(),pr(On==="right"?1:-1,Ar)},Mr=On==="left"&&Qt||On==="right"&&xt;return Me instanceof Function?Me(On,Rn,Mr,kt):e.isValidElement(Me)?e.cloneElement(Me,{direction:On,handleClick:Rn,disabled:Mr,onKeyDown:kt}):i.default.createElement(Y,{direction:"rmdp-".concat(On),onClick:Rn,onKeyDown:kt,disabled:Mr})}function pr(On,Rn){Re||On<0&&Qt||On>0&&xt||(rt?(an.year+=On,Qe==null||Qe(new l.default(an))):Ze||Wt?(Pt+=12*On,On<0&&At&&Pt<At.year&&(Pt=At.year),On>0&&ot&&Pt>ot.year&&(Pt=ot.year)):(an.toFirstOfMonth(),zn?an.year+=On:(an.month+=On,tt(an))),se(u(u({},B),{},{date:an,year:Pt})),J(z(Rn.target),void 0,!1))}function _a(On,Rn){if(!Re){var Mr={mustShowMonthPicker:!1,mustShowYearPicker:!1};Mr[On]=!B[On],se(u(u({},B),Mr)),J(z(Rn.target),void 0,!1)}}}function te(A){return _(A)||(A=[]),JSON.stringify(A)}var ce="MMMM of YYYY";function ve(A){var B=A.state,se=A.onChange,de=A.customMonths,Se=A.sort,we=A.handleMonthChange,Me=A.handleFocusedDate,tt=A.rangeHover,Re=A.highlightToday,qe=A.numberOfMonths,Je=B.date,nt=B.today,rt=B.minDate,Dt=B.maxDate,yn=B.calendar,vn=B.locale,qt=B.onlyMonthPicker,tn=B.onlyYearPicker,Xn=B.range,Kn=B.onlyShowInRangeDates,Qe=(B.mustShowMonthPicker||qt)&&!tn,or=p(e.useState(),2),an=or[0],zn=or[1];de=de&&te(de);var Wt=e.useMemo(function(){var ot=[],Pt=qt?qe:1,_n=de&&JSON.parse(de),Qt=new l.default({calendar:yn,locale:vn,format:B.date._format,year:B.date.year,month:1,day:1});_(_n)&&_n.length>=12?(_n.length=12,_n=_n.map(function(pr){return _(pr)?pr[0]:pr})):_n=Qt.locale.months.map(function(pr){return p(pr,1)[0]});for(var xt=0;xt<Pt;xt++){for(var St=[],Lt=0,kt=0;kt<4;kt++){for(var Bt=[],xr=0;xr<3;xr++)Bt.push({date:new l.default(Qt),name:_n[Lt]}),Lt++,Qt.add(1,"month");St.push(Bt)}ot.push(St)}return ot},[yn,vn,de,B.date.year,B.date._format,qe,qt]);return i.default.createElement("div",{className:"".concat(qt?"only ":"","rmdp-month-picker"),style:{display:Qe?"flex":"none"},"data-active":Qe,onMouseLeave:function(){return tt&&zn()}},Wt.map(function(ot,Pt){return i.default.createElement("div",{key:Pt,style:{margin:"0 5px",flex:1}},ot.map(function(_n,Qt){return i.default.createElement("div",{key:Qt,className:"rmdp-ym"},_n.map(function(xt,St){var Lt=xt.date,kt=xt.name;return i.default.createElement("div",{key:St,"aria-label":"Select ".concat(Lt.format(ce)),tabIndex:-1,onKeyDown:function(Bt){return H(Bt,{date:Lt},{format:ce,type:"month"})},className:At(Lt),onClick:function(Bt){return Ze(Lt,Bt)},onMouseEnter:function(){return tt&&zn(Lt)}},i.default.createElement("span",{className:qt?"sd":""},kt))}))}))}));function Ze(ot,Pt){var _n=B.selectedDate,Qt=B.focused,xt=ot.year,St=ot.monthIndex;if(!(rt&&xt<=rt.year&&St<rt.monthIndex||Dt&&xt>=Dt.year&&St>Dt.monthIndex)){if(Je.setMonth(St+1),qt){var Lt=p(D(ot,Se,B),2);_n=Lt[0],Qt=Lt[1]}else we(Je),J(z(Pt.target));se(qt?_n:void 0,u(u({},B),{},{date:Je,focused:Qt,selectedDate:_n,mustShowMonthPicker:!1})),qt&&Me(Qt,ot)}}function At(ot){var Pt=["rmdp-day"],_n=ot.year,Qt=ot.monthIndex,xt=B.selectedDate,St=B.multiple;if((rt&&(_n<rt.year||_n===rt.year&&Qt<rt.monthIndex)||Dt&&(_n>Dt.year||_n===Dt.year&&Qt>Dt.monthIndex))&&Pt.push("rmdp-disabled"),!Pt.includes("rmdp-disabled")||!Kn)return T(nt,ot,!0)&&Re&&Pt.push("rmdp-today"),qt?Xn?(Pt.push(O(ot,xt,!0,St)),Pt=Pt.concat(F(ot,xt,an,tt,"month",St))):[].concat(xt).some(function(Lt){return T(Lt,ot,!0)})&&Pt.push("rmdp-selected"):Je.monthIndex===Qt&&Pt.push("rmdp-selected"),Pt.join(" ")}}function Ue(A,B){return A.replace(/[0-9]/g,function(se){return B[se]})}var Ae="YYYY";function at(A){var B=A.state,se=A.onChange,de=A.sort,Se=A.handleFocusedDate,we=A.onYearChange,Me=A.rangeHover,tt=A.highlightToday,Re=B.date,qe=B.today,Je=B.minDate,nt=B.maxDate,rt=B.onlyYearPicker,Dt=B.range,yn=B.onlyShowInRangeDates,vn=B.year,qt=B.mustShowYearPicker||rt,tn=Re.digits,Xn=p(e.useState(),2),Kn=Xn[0],Qe=Xn[1],or=qe.year-4;or-=12*Math.ceil((or-vn)/12);var an=e.useMemo(function(){for(var Ze=[],At=or,ot=0;ot<4;ot++){for(var Pt=[],_n=0;_n<3;_n++)Pt.push(At),At++;Ze.push(Pt)}return Ze},[or]);return i.default.createElement("div",{className:"".concat(rt?"only ":"","rmdp-year-picker"),style:{display:qt?"block":"none"},"data-active":qt},an.map(function(Ze,At){return i.default.createElement("div",{key:At,className:"rmdp-ym",onMouseLeave:function(){return Me&&Qe()}},Ze.map(function(ot,Pt){return i.default.createElement("div",{key:Pt,"aria-label":"Select year ".concat(ot),tabIndex:-1,onKeyDown:function(_n){return H(_n,{year:ot,date:Re},{format:Ae,type:"year"})},className:zn(ot),onClick:function(_n){return function(Qt,xt){if(!Wt(Qt)){var St=new l.default(B.date).setYear(Qt),Lt=B.selectedDate,kt=B.focused;if(rt){var Bt=p(D(St,de,B),2);Lt=Bt[0],kt=Bt[1]}else Je&&St.monthIndex<Je.monthIndex?St=St.setMonth(Je.monthIndex+1):nt&&St.monthIndex>nt.monthIndex&&(St=St.setMonth(nt.monthIndex+1)),we==null||we(St),J(z(xt.target));se(rt?Lt:void 0,u(u({},B),{},{date:St,focused:kt,selectedDate:Lt,mustShowYearPicker:!1})),rt&&Se(kt,St)}}(ot,_n)},onMouseEnter:function(){return Me&&Qe(ot)}},i.default.createElement("span",{className:rt?"sd":""},Ue(ot.toString(),tn)))}))}));function zn(Ze){var At=["rmdp-day"],ot=B.date,Pt=B.selectedDate,_n=B.multiple;if(Wt(Ze)&&At.push("rmdp-disabled"),!At.includes("rmdp-disabled")||!yn){if(qe.year===Ze&&tt&&At.push("rmdp-today"),rt)if(Dt){var Qt=function(xt){var St=xt[0],Lt=xt[1];if(xt.length===1){if(Ze===St.year&&At.push("rmdp-range"),Me){var kt=xt[0].year;(Ze>kt&&Ze<=Kn||Ze<kt&&Ze>=Kn)&&(At.push("rmdp-range-hover"),Ze===Kn&&At.push(Kn>kt?"end":"start"))}}else xt.length===2&&(Ze>=St.year&&Ze<=Lt.year&&At.push("rmdp-range"),Ze===St.year&&At.push("start"),Ze===Lt.year&&At.push("end"))};_n?(_(Pt)?Pt:[[Pt]]).forEach(function(xt){return Qt(xt)}):Qt(Pt)}else[].concat(Pt).some(function(xt){return xt&&xt.year===Ze})&&At.push("rmdp-selected");else Ze===ot.year&&At.push("rmdp-selected");return At.join(" ")}}function Wt(Ze){return Je&&Ze<Je.year||nt&&Ze>nt.year}}function it(A,B,se){return se||(A?"MM/YYYY":B?"YYYY":"YYYY/MM/DD")}function Te(A,B){var se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"YYYY/MM/DD";return A instanceof l.default?A.set({calendar:B,format:se}):A=new l.default({date:A,calendar:B,format:se}),A}function Tt(A){"_self"in i.default.createElement("div")&&console.warn(A.join(`
`))}var ct=new l.default,pt=ct.calendar,vt=ct.locale;function Ht(A,B){return A&&A.constructor!==Object&&(Tt(It("calendar")),A=void 0),B&&B.constructor!==Object&&(Tt(It("locale")),B=void 0),[A||pt,B||vt]}function It(A){return["".concat(A," must be an object"),"https://shahabyazdi.github.io/react-multi-date-picker/calendars/"]}function Ut(A){return A&&A.name?A.name.split("_")[1]:""}function Xt(A){return["fa","ar"].includes(Ut(A))}function Ee(A,B){B===void 0&&(B={});var se=B.insertAt;if(A&&typeof document<"u"){var de=document.head||document.getElementsByTagName("head")[0],Se=document.createElement("style");Se.type="text/css",se==="top"&&de.firstChild?de.insertBefore(Se,de.firstChild):de.appendChild(Se),Se.styleSheet?Se.styleSheet.cssText=A:Se.appendChild(document.createTextNode(A))}}Ee(".rmdp-wrapper{background-color:#fff;border-radius:5px;direction:ltr;text-align:center;width:max-content}.rmdp-shadow{box-shadow:0 0 5px #8798ad}.rmdp-border{border:1px solid #cfd8e2}.rmdp-calendar{height:max-content;padding:4px}.rmdp-border-top{border-top:1px solid #cfd8e2}.rmdp-border-bottom{border-bottom:1px solid #cfd8e2}.rmdp-border-left{border-left:1px solid #cfd8e2}.rmdp-border-right{border-right:1px solid #cfd8e2}.rmdp-week,.rmdp-ym{display:flex;justify-content:space-between}.rmdp-ym{height:25%}.rmdp-day,.rmdp-week-day{color:#000;cursor:pointer;height:34px;position:relative;width:34px}.rmdp-calendar :focus{outline-color:#00539c}.rmdp-day:not(.rmdp-range):focus{border-radius:50%}.rmdp-ym .rmdp-day:not(.rmdp-range):focus{border-radius:15px}.rmdp-week-day{color:#0074d9;cursor:default;font-size:13px;font-weight:500}.rmdp-day span,.rmdp-week-day{display:flex;flex-direction:column;justify-content:center}.rmdp-day span{border-radius:50%;bottom:3px;font-size:14px;left:3px;position:absolute;right:3px;top:3px}.rmdp-day.rmdp-today span{background-color:#7fdbff;color:#fff}.rmdp-day.rmdp-selected span:not(.highlight){background-color:#0074d9;box-shadow:0 0 3px #8798ad;color:#fff}.rmdp-day.rmdp-deactive,.rmdp-day.rmdp-disabled{color:#8798ad}.rmdp-day.rmdp-deactive.rmdp-selected span{background-color:#4ca6f5;box-shadow:0 0 3px #bac5d3}.rmdp-ym .rmdp-day{flex:1;margin:auto}.rmdp-ym .rmdp-day span{border-radius:12px;padding:2px 0}.rmdp-range{background-color:#0074d9;box-shadow:0 0 3px #8798ad;color:#fff}.rmdp-range-hover{background-color:#7ea6f0;color:#fff}.rmdp-range-hover.start:not(.force),.rmdp-range.start:not(.force){border-bottom-left-radius:50%;border-top-left-radius:50%}.rmdp-range-hover.end:not(.force),.rmdp-range.end:not(.force){border-bottom-right-radius:50%;border-top-right-radius:50%}.rmdp-ym .rmdp-range-hover.start:not(.force),.rmdp-ym .rmdp-range.start:not(.force){border-bottom-left-radius:15px;border-top-left-radius:15px}.rmdp-ym .rmdp-range-hover.end:not(.force),.rmdp-ym .rmdp-range.end:not(.force){border-bottom-right-radius:15px;border-top-right-radius:15px}@media (hover:hover){.rmdp-day:not(.rmdp-disabled,.rmdp-day-hidden) span:hover{background-color:#7ea6f0;color:#fff}}.rmdp-day-picker{padding:5px}.rmdp-header{font-size:14px;margin-top:5px;padding:9px 0}.rmdp-month-picker,.rmdp-year-picker{background-color:#fff;border-radius:0 0 5px 5px;bottom:2px;left:2px;position:absolute;right:2px;top:2px}.only.rmdp-month-picker,.only.rmdp-year-picker{height:240px;position:static;width:240px}.rmdp-header-values{color:#000;margin:auto}.rmdp-header-values span{padding:0 0 0 5px}.rmdp-arrow{border:solid #0074d9;border-width:0 2px 2px 0;display:inline-block;height:3px;margin-top:5px;padding:2px;width:3px}.rmdp-right i{margin-right:3px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.rmdp-left i{margin-left:3px;transform:rotate(135deg);-webkit-transform:rotate(135deg)}.rmdp-left{left:0}.rmdp-right{right:0}.rmdp-arrow-container{background:transparent;border:none;border-radius:50%;cursor:pointer;display:flex;height:20px;justify-content:center;margin:0 5px;padding:0;width:20px}.rmdp-arrow-container:hover{background-color:#0074d9;box-shadow:0 0 3px #8798ad}.rmdp-arrow-container:hover .rmdp-arrow{border:solid #fff;border-width:0 2px 2px 0}.rmdp-arrow-container.disabled{cursor:default}.rmdp-arrow-container.disabled:hover{background-color:inherit;box-shadow:inherit}.rmdp-arrow-container.disabled .rmdp-arrow,.rmdp-arrow-container.disabled:hover .rmdp-arrow{border:solid gray;border-width:0 2px 2px 0}.rmdp-rtl{direction:rtl}.rmdp-rtl .rmdp-left i{margin-left:0;margin-right:3px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.rmdp-rtl .rmdp-right i{margin-left:3px;margin-right:0;transform:rotate(135deg);-webkit-transform:rotate(135deg)}.rmdp-rtl .rmdp-right{left:0;right:auto}.rmdp-rtl .rmdp-left{left:auto;right:0}.rmdp-rtl .rmdp-range-hover.start:not(.force),.rmdp-rtl .rmdp-range.start:not(.force){border-bottom-left-radius:unset;border-bottom-right-radius:50%;border-top-left-radius:unset;border-top-right-radius:50%}.rmdp-rtl .rmdp-range-hover.end:not(.force),.rmdp-rtl .rmdp-range.end:not(.force){border-bottom-left-radius:50%;border-bottom-right-radius:unset;border-top-left-radius:50%;border-top-right-radius:unset}.rmdp-rtl .rmdp-range.start.end:not(.force){border-radius:50%}.rmdp-rtl .rmdp-ym .rmdp-range-hover.start:not(.force),.rmdp-rtl .rmdp-ym .rmdp-range.start:not(.force){border-bottom-right-radius:15px;border-top-right-radius:15px}.rmdp-rtl .rmdp-ym .rmdp-range-hover.end:not(.force),.rmdp-rtl .rmdp-ym .rmdp-range.end:not(.force){border-bottom-left-radius:15px;border-top-left-radius:15px}.rmdp-day-hidden,.rmdp-day.rmdp-disabled{cursor:default}.rmdp-selected .highlight{box-shadow:0 0 3px #8798ad}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) .highlight-red:hover{background-color:#ff6687}.rmdp-day:not(.rmdp-deactive) .highlight-red{color:#cc0303}.rmdp-day.rmdp-deactive .highlight-red{color:#e08e8e}.rmdp-day.rmdp-selected .highlight-red{background-color:#ea0034;color:#fff}.rmdp-day.rmdp-deactive.rmdp-selected .highlight-red{background-color:#e4b0ba;color:#fff}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) .highlight-green:hover{background-color:#4db6ac}.rmdp-day:not(.rmdp-deactive) .highlight-green{color:#00796b}.rmdp-day.rmdp-deactive .highlight-green{color:#7ab3ac}.rmdp-day.rmdp-selected .highlight-green{background-color:#009688;color:#fff}.rmdp-day.rmdp-deactive.rmdp-selected .highlight-green{background-color:#749c98;color:#fff}.rmdp-day-hidden,.rmdp-day-hidden:hover span{background-color:unset;color:transparent}.rmdp-month-name{cursor:default;font-size:14px;margin:3px 0}.rmdp-full-year{grid-template-columns:1fr 1fr 1fr}@media (max-height:450px),(max-width:450px){.rmdp-day,.rmdp-week-day{height:28px;width:28px}.rmdp-day span{font-size:12px;padding-left:.5px}.only.rmdp-month-picker,.only.rmdp-year-picker{height:200px;width:230px}.rmdp-header{padding:3px 0 0}.rmdp-header,.rmdp-month-name{font-size:12px}.rmdp-full-year{grid-template-columns:1fr 1fr}}");var We=["datePickerProps","DatePicker"];function Jt(A,B){var se,de=A.value,Se=A.calendar,we=A.locale,Me=A.format,tt=A.onlyMonthPicker,Re=A.onlyYearPicker,qe=A.range,Je=qe!==void 0&&qe,nt=A.multiple,rt=nt!==void 0&&nt,Dt=A.className,yn=A.role,vn=A.weekDays,qt=A.months,tn=A.children,Xn=A.onChange,Kn=A.showOtherDays,Qe=A.minDate,or=A.maxDate,an=A.mapDays,zn=A.disableMonthPicker,Wt=A.disableYearPicker,Ze=A.formattingIgnoreList,At=A.onReady,ot=A.onlyShowInRangeDates,Pt=ot===void 0||ot,_n=A.zIndex,Qt=_n===void 0?100:_n,xt=A.plugins,St=xt===void 0?[]:xt,Lt=A.sort,kt=A.numberOfMonths,Bt=kt===void 0?1:kt,xr=A.currentDate,pr=A.digits,_a=A.buttons,On=_a===void 0||_a,Rn=A.renderButton,Mr=A.weekStartDayIndex,Ar=Mr===void 0?0:Mr,ls=A.disableDayPicker,Wn=A.onPropsChange,Ki=A.onMonthChange,vs=A.onYearChange,ki=A.onFocusedDateChange,Rs=A.readOnly,Gn=A.disabled,Ur=A.hideMonth,ur=A.hideYear,gr=A.hideWeekDays,zr=A.shadow,bs=zr===void 0||zr,Qr=A.fullYear,Va=A.displayWeekNumbers,Ji=A.weekNumber,Qi=A.weekPicker,Oi=A.rangeHover,Ua=A.monthYearSeparator,bi=A.formatMonth,el=A.formatYear,mo=A.highlightToday,du=mo===void 0||mo,Ul=A.headerOrder,tl=Ul===void 0?["LEFT_BUTTON","MONTH_YEAR","RIGHT_BUTTON"]:Ul,po=A.style,Bl=po===void 0?{}:po,hu=A.autoFocus,go=hu!==void 0&&hu;!xr||xr instanceof l.default||(console.warn("currentDate must be instance of DateObject"),xr=void 0),(typeof Ar!="number"||Ar<0||Ar>6)&&(Ar=0),(typeof Bt!="number"||Bt<1||Re)&&(Bt=1),!(rt||Je||_(de))||Je||rt||(rt=!0),Qi&&(Je=!0,rt=!1),Qr&&(Bt=12,tt=!1,Re=!1),Re&&!Ur&&(Ur=!0);var Qs=p(Ht(Se,we),2);Se=Qs[0],we=Qs[1],Me=it(tt,Re,Me),Ze=te(Ze),an=[].concat(an).filter(Boolean),St=[].concat.apply([],St);var Tc=p(e.useState({}),2),_s=Tc[0],wa=Tc[1],Ba={},_i=e.useRef({mustCallOnReady:!0,currentDate:xr});e.useEffect(function(){wa(function(gt){var Fn=_i.current.currentDate,Nn=gt.date,Tn=gt.selectedDate,wn=gt.initialValue,on=gt.focused,Er=gt.mustSortDates;function cs(Ge){if(Ge)return Ge.calendar.name!==Se.name&&Ge.setCalendar(Se),Ge.locale.name!==we.name&&Ge.setLocale(we),Ge._format!==Me&&Ge.setFormat(Me),Ge.digits=pr,Ge.ignoreList=JSON.parse(Ze),Ge}function Zs(Ge){return new l.default(Fn||Ge)}if(de)if(_(Tn=lt(de,Se,we,Me)))Nn||(Nn=Zs(Tn.flat()[0]));else if(Nn&&Bt!==1){var za=new l.default(Nn).toFirstOfMonth(),Wa=new l.default(Nn).add(Bt-1,tt?"years":"months").toLastOfMonth();(Tn<za||Tn>Wa)&&(Nn=new l.default(Tn))}else Nn=Zs(Tn);else Nn||(Nn=Zs({calendar:Se,locale:we,format:Me})),wn&&(Tn=void 0);if([].concat(Tn).flat().forEach(cs),cs(Nn),rt||Je||_(de)){if(Tn||(Tn=[]),_(Tn)||(Tn=rt&&Je?[[Tn]]:[Tn]),Je&&!rt&&Tn.length>2){var xa=Tn[Tn.length-1];Tn=[Tn[0],xa],on=xa}rt&&!Je&&Lt&&!Er?(Er=!0,Tn.sort(function(Ge,nn){return Ge-nn})):Je&&!rt&&Tn.sort(function(Ge,nn){return Ge-nn})}else _(Tn)&&(Tn=Tn.flat()[Tn.length-1]);return Qr&&Nn.toFirstOfYear(),delete _i.current.currentDate,u(u({},gt),{},{date:Nn,selectedDate:Tn,multiple:rt,range:Je,onlyMonthPicker:tt,onlyYearPicker:Re,initialValue:gt.initialValue||de,value:de,focused:on,calendar:Se,locale:we,format:Me,mustSortDates:Er,year:Nn.year,today:cs(gt.today)||new l.default({calendar:Se}),weekPicker:Qi})})},[de,Se,we,Me,tt,Re,Je,rt,Lt,Bt,pr,Ze,Qr,Qi]),e.useEffect(function(){(Qe||or)&&wa(function(gt){var Fn=gt.calendar,Nn=gt.locale,Tn=gt.format,wn=function(za,Wa,xa,Ge,nn){return Wa&&(Wa=Te(Wa,Ge,nn).set({hour:0,minute:0,second:0,millisecond:0})),xa&&(xa=Te(xa,Ge,nn).set({hour:23,minute:59,second:59,millisecond:999})),_(za)&&(za=za.filter(function(un){return!(Wa&&un<Wa)&&!(xa&&un>xa)})),[za,Wa,xa]}(lt(de,Fn,Nn,Tn),Qe,or,Fn,Tn),on=p(wn,3),Er=on[0],cs=on[1],Zs=on[2];return u(u({},gt),{},{inRangeDates:Pt?Er:gt.selectedDate,minDate:cs,maxDate:Zs})})},[Qe,or,Pt,de]),_s.today&&!_i.current.isReady&&(_i.current.isReady=!0),e.useEffect(function(){_i.current.isReady&&_i.current.mustCallOnReady&&At instanceof Function&&(_i.current.mustCallOnReady=!1,At())},[_i.current.isReady,At]);var yo="rmdp-top-class "+Zi(["top","bottom"]),Ri={top:[],bottom:[],left:[],right:[]},fu=Xt((se=_s.date)===null||se===void 0?void 0:se.locale),Pi={state:_s,setState:wa,onChange:nl,sort:Lt,handleFocusedDate:rl,isRTL:fu,fullYear:Qr,monthAndYears:function(){var gt=_s.date;if(!gt)return[];for(var Fn=[],Nn=[],Tn=gt.digits,wn=0;wn<Bt;wn++){var on=void 0,Er=gt.year,cs=gt.monthIndex+wn;if(tt&&(Er+=wn),cs>11&&(cs-=12,tt||Er++),_(qt)&&qt.length>=12){var Zs=qt[cs];on=_(Zs)?Zs[0]:Zs}else on=gt.months[cs].name;Er=Ue(Er.toString(),Tn),Fn.push(on),Nn.push(Er)}return[Fn,Nn]}(),rangeHover:Oi,highlightToday:du,numberOfMonths:Bt},mu=arguments[0],pu=mu.datePickerProps,gu=mu.DatePicker,yu=m(mu,We);return e.useEffect(function(){var gt=_i.current.Calendar;gt&&J(gt,void 0,go&&!gu)},[go,_s.today,gu]),function(){if(!(!_i.current.isReady||!_(St))){var gt={state:_s,setState:wa,registerListener:cd,calendarProps:yu,datePickerProps:pu,handleChange:nl,Calendar:_i.current.Calendar,DatePicker:gu,handlePropsChange:vo,handleFocusedDate:function(Nn){return rl(Nn)},minDate:Qe,maxDate:or},Fn=function(Nn){return ls?"bottom":Nn.props.position||"right"};St.forEach(function(Nn,Tn){if(typeof Nn.type!="string"){var wn={},on=Fn(Nn);if(Ri[on]&&!Nn.props.disabled){for(var Er=0;Er<St.length;Er++)if(typeof St[Er].type!="string"&&!St[Er].props.disabled){if(Object.keys(wn).length===4)break;var cs=Fn(St[Er]);["top","bottom"].includes(on)?(cs===on&&Er>Tn&&(wn.bottom=!0),cs===on&&Er<Tn&&(wn.top=!0)):(yo.includes("border-top")&&(wn.top=!0),yo.includes("border-bottom")&&(wn.bottom=!0),cs===on&&Er>Tn&&(wn.right=!0),cs===on&&Er<Tn&&(wn.left=!0))}Ri[on].push(e.cloneElement(Nn,u({key:Tn,position:on,nodes:wn},gt)))}}else Nn.type==="mapDays"&&an.push(Nn.fn(gt))})}}(),_s.today?i.default.createElement("div",{ref:function(gt){if(gt&&(gt.date=_s.date,gt.set=function(Fn,Nn){Gn||wa(u(u({},_s),{},{date:new l.default(_s.date.set(Fn,Nn))}))}),_i.current.Calendar=gt,B instanceof Function)return B(gt);B&&(B.current=gt)},role:yn||"dialog",className:"rmdp-wrapper rmdp-".concat(bs?"shadow":"border"," ").concat(Dt||""),style:u({zIndex:Qt},Bl)},Ri.top,i.default.createElement("div",{style:{display:"flex"},className:yo},Ri.left,!ls&&i.default.createElement("div",{className:"rmdp-calendar ".concat(fu?"rmdp-rtl":""," ").concat(Zi(["left","right"]))},i.default.createElement(ne,u(u({},Pi),{},{disableYearPicker:Wt,disableMonthPicker:zn,buttons:On,renderButton:Rn,handleMonthChange:er,disabled:Gn,hideMonth:Ur,hideYear:ur,monthYearSeparator:Ua,formatMonth:bi,formatYear:el,headerOrder:tl,onYearChange:vs})),i.default.createElement("div",{style:{position:"relative"}},i.default.createElement(L,u(u({},Pi),{},{showOtherDays:Kn,mapDays:an,onlyShowInRangeDates:Pt,customWeekDays:vn,weekStartDayIndex:Ar,hideWeekDays:gr,displayWeekNumbers:Va,weekNumber:Ji})),!Qr&&i.default.createElement(i.default.Fragment,null,!zn&&i.default.createElement(ve,h({},Pi,{customMonths:qt,handleMonthChange:er})),!Wt&&i.default.createElement(at,h({},Pi,{onYearChange:vs}))))),Ri.right),Ri.bottom,tn):null;function nl(gt,Fn){if(gt instanceof l.default&&(gt=new l.default(gt)),!Gn){if(gt||gt===null){if(Rs)return;Ba.change&&Ba.change.forEach(function(Tn){return Tn(gt)})}if(gt||gt===null){var Nn=Xn==null?void 0:Xn(gt);Fn&&Nn!==!1&&wa(Fn)}else Fn&&wa(Fn);vo({value:gt})}}function vo(){var gt,Fn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!Rs&&!Gn){var Nn=u(u(u(u({},yu),pu),Fn),{},{value:(gt=Fn.value)!==null&&gt!==void 0?gt:_s.selectedDate});delete Nn.onPropsChange,Wn==null||Wn(Nn)}}function rl(gt,Fn){Rs||Gn||ki==null||ki(gt,Fn)}function er(gt){Ki==null||Ki(gt)}function Zi(gt){return ls||!_(St)?"":Array.from(new Set(St.map(function(Fn){if(!Fn.props)return"";var Nn=Fn.props.position||"right";return gt.includes(Nn)&&!Fn.props.disabled?"rmdp-border-"+Nn:""}))).join(" ")}function cd(gt,Fn){Ba[gt]||(Ba[gt]=[]),Ba[gt].push(Fn)}}var ke=e.forwardRef(Jt);function lt(A,B,se,de){var Se=[].concat(A).map(function(tt){return _(tt)?tt.map(we).filter(Me):we(tt)}).filter(Me);return _(A)?Se:Se.flat()[0];function we(tt){return tt?tt instanceof l.default?tt:new l.default({date:tt,calendar:B,locale:se,format:de}):{}}function Me(tt){return _(tt)||tt.isValid}}Ee('.rmdp-visible{visibility:visible}.rmdp-invisible{visibility:hidden}.rmdp-input{border:1px solid #c0c4d6;border-radius:5px;height:22px;margin:1px 0;padding:2px 5px}.rmdp-input:focus{border:1px solid #a4b3c5;box-shadow:0 0 2px #a4b3c5;outline:none!important}.rmdp-button{background-color:#0074d9;border:none;border-radius:5px;color:#fff;cursor:pointer;display:inline-block;padding:7px 16px;text-align:center;text-decoration:none;transition:.3s}.rmdp-button:hover{background-color:#143ac5;transition:.4s}.rmdp-button:disabled{background-color:#8798ad}.rmdp-action-button{border-radius:unset;color:#2682d3;float:right;font-weight:700;margin:15px 10px 15px 0}.rmdp-action-button,.rmdp-action-button:hover{background-color:transparent}.rmdp-ep-arrow{overflow:hidden;will-change:transform}.rmdp-ep-arrow:after{background-color:#fff;content:"";height:12px;position:absolute;transform:rotate(45deg);width:12px}.rmdp-ep-shadow:after{box-shadow:0 0 6px #8798ad}.rmdp-ep-border:after{border:1px solid #cfd8e2}.rmdp-ep-arrow[direction=top]{border-bottom:1px solid #fff}.rmdp-ep-arrow[direction=left]{border-right:1px solid #fff}.rmdp-ep-arrow[direction=right]{border-left:1px solid #fff;margin-left:-1px}.rmdp-ep-arrow[direction=bottom]{border-top:1px solid #fff;margin-top:-1.5px}.rmdp-ep-arrow[direction=top]:after{left:4px;top:5px}.rmdp-ep-arrow[direction=bottom]:after{left:4px;top:-6px}.rmdp-ep-arrow[direction=left]:after{left:5px;top:3px}.rmdp-ep-arrow[direction=right]:after{left:-6px;top:3px}');var _e=["value","calendar","locale","format","onlyMonthPicker","onlyYearPicker","onChange","range","multiple","name","id","title","placeholder","required","style","className","inputClass","disabled","render","weekDays","months","children","inputMode","scrollSensitive","hideOnScroll","minDate","maxDate","formattingIgnoreList","containerClassName","calendarPosition","editable","onOpen","onClose","arrowClassName","zIndex","arrow","fixMainPosition","onPositionChange","onPropsChange","digits","readOnly","shadow","onFocusedDateChange","type","weekPicker","mobileLabels","onOpenPickNewDate","mobileButtons","dateSeparator","multipleRangeSeparator","typingTimeout"],Q=["label"];function ee(A,B){var se=A.value,de=A.calendar,Se=A.locale,we=A.format,Me=A.onlyMonthPicker,tt=A.onlyYearPicker,Re=A.onChange,qe=A.range,Je=qe!==void 0&&qe,nt=A.multiple,rt=nt!==void 0&&nt,Dt=A.name,yn=A.id,vn=A.title,qt=A.placeholder,tn=A.required,Xn=A.style,Kn=Xn===void 0?{}:Xn,Qe=A.className,or=Qe===void 0?"":Qe,an=A.inputClass,zn=A.disabled,Wt=A.render,Ze=A.weekDays,At=A.months,ot=A.children,Pt=A.inputMode,_n=A.scrollSensitive,Qt=_n===void 0||_n,xt=A.hideOnScroll,St=A.minDate,Lt=A.maxDate,kt=A.formattingIgnoreList,Bt=A.containerClassName,xr=Bt===void 0?"":Bt,pr=A.calendarPosition,_a=pr===void 0?"bottom-left":pr,On=A.editable,Rn=On===void 0||On,Mr=A.onOpen,Ar=A.onClose,ls=A.arrowClassName,Wn=ls===void 0?"":ls,Ki=A.zIndex,vs=Ki===void 0?100:Ki,ki=A.arrow,Rs=ki===void 0||ki,Gn=A.fixMainPosition,Ur=A.onPositionChange,ur=A.onPropsChange,gr=A.digits,zr=A.readOnly,bs=A.shadow,Qr=bs===void 0||bs,Va=A.onFocusedDateChange,Ji=A.type,Qi=A.weekPicker,Oi=A.mobileLabels,Ua=A.onOpenPickNewDate,bi=Ua===void 0||Ua,el=A.mobileButtons,mo=el===void 0?[]:el,du=A.dateSeparator,Ul=A.multipleRangeSeparator,tl=Ul===void 0?",":Ul,po=A.typingTimeout,Bl=po===void 0?700:po,hu=m(A,_e),go=p(e.useState(),2),Qs=go[0],Tc=go[1],_s=p(e.useState(),2),wa=_s[0],Ba=_s[1],_i=p(e.useState(""),2),yo=_i[0],Ri=_i[1],fu=p(e.useState(!1),2),Pi=fu[0],mu=fu[1],pu=p(e.useState(!1),2),gu=pu[0],yu=pu[1],nl=e.useRef(),vo=e.useRef(),rl=e.useRef(),er=e.useRef({isTyping:!1}),Zi=du||(Je||Qi?" ~ ":", "),cd=arguments[0],gt=typeof or=="string"&&or.includes("rmdp-mobile"),Fn=e.useCallback(function(){if((Ar==null?void 0:Ar())!==!1){var Ge=be(vo);if(Ge&&Ge.forEach(function(un){return un.blur()}),er.current.mobile){var nn=rl.current.parentNode.parentNode;nn.classList.remove("rmdp-calendar-container-mobile"),nn.style.position="absolute",nn.style.visibility="hidden"}er.current.validInputValue!==void 0&&(Ri(er.current.validInputValue),er.current.validInputValue=void 0),mu(!1),yu(!1)}},[Ar]),Nn=[{type:"button",className:"rmdp-button rmdp-action-button",onClick:function(){Ba(void 0),Fn()},label:on("CANCEL")},{type:"button",className:"rmdp-button rmdp-action-button",onClick:function(){wa&&(Zs(wa,!0),Ba(void 0)),Fn()},label:on("OK")}];gt&&!er.current.mobile&&(er.current=u(u({},er.current),{},{mobile:!0})),!gt&&er.current.mobile&&(er.current=u(u({},er.current),{},{mobile:!1})),kt=te(kt),we=it(Me,tt,we);var Tn,wn=p(Ht(de,Se),2);return de=wn[0],Se=wn[1],e.useEffect(function(){function Ge(un){if(Pi&&!er.current.mobile){var Ps=[];if([vo.current,rl.current].forEach(function(us){var Cn,ws;!us||us.contains(un.target)||un.target.classList.contains("b-deselect")||(Cn=un.target.parentNode)!==null&&Cn!==void 0&&(Cn=Cn.classList)!==null&&Cn!==void 0&&(ws=Cn.contains)!==null&&ws!==void 0&&ws.call(Cn,"b-deselect")||Ps.push(us)}),Ps.length===2)return Fn();rl.current&&rl.current.contains(un.target)&&(nl.current.removeTransition(),nl.current.refreshPosition())}}function nn(){xt&&Pi&&Fn()}return document.addEventListener("click",Ge,!1),document.addEventListener("scroll",nn,!0),function(){document.removeEventListener("click",Ge,!1),document.removeEventListener("scroll",nn,!0)}},[Fn,B,Pi,xt]),e.useEffect(function(){var Ge=se,nn=er.current,un=nn.date,Ps=nn.initialValue,us=function(){return Ge[Ge.length-1]};function Cn(yr){if(yr)return yr instanceof l.default||(yr=new l.default({date:yr,calendar:de,locale:Se,format:we})),yr.calendar!==de&&yr.setCalendar(de),yr.set({weekDays:Ze,months:At,digits:gr,locale:Se,format:we,ignoreList:JSON.parse(kt)}),yr}se||Ps||!un?Ps&&!se&&(Ps=void 0):Ge=un;var ws="";if(Je||rt||_(Ge)){var ds=function(yr){return yr=yr.map(Cn).filter(function(bu){return bu!==void 0}),Je&&yr.length>2&&(yr=[yr[0],us()]),[yr,ye(yr,Zi)]};if(_(Ge)||(Ge=Je&&rt?Ge?[[Ge]]:[]:[Ge]),rt&&Je)Ge=Ge.map(function(yr,bu){var hm=p(ds(_(yr)?yr:[yr]),2),ud=hm[0],sl=hm[1];return ws+=sl+(bu<Ge.length-1?" ".concat(tl," "):""),ud});else{var vu=p(ds(Ge),2);Ge=vu[0],ws=vu[1]}ws=ws.toString().replace(/\s,\s$/,"")}else _(Ge)&&(Ge=us()),(Ge=Cn(Ge))&&(ws=Ge.format());er.current.isTyping||Ri(ws),er.current=u(u({},er.current),{},{date:Ge,separator:Zi,initialValue:Ps||se}),er.current.mobile&&nl.current.isOpen?Ba(Ge):(er.current.validInputValue=void 0,Tc(Ge))},[se,de,Se,we,Je,rt,Zi,Me,tt,Ze,At,gr,kt]),e.useEffect(function(){var Ge=er.current.selection;if(Ge){var nn=be(vo);nn.length!==0&&(nn.forEach(function(un){document.activeElement===un&&(un.setSelectionRange(Ge,Ge),er.current.selection=void 0)}),nl.current.refreshPosition())}},[yo]),(rt||Je||_(Qs)||!Rn)&&(Pt="none"),i.default.createElement(o.default,h({ref:function(Ge){if(Ge&&(Ge.openCalendar=function(){return setTimeout(function(){return Er()},10)},Ge.closeCalendar=Fn,Ge.isOpen=Pi&&gu),nl.current=Ge,B instanceof Function)return B(Ge);B&&(B.current=Ge)},element:Wt?i.default.createElement("div",{ref:vo},e.isValidElement(Wt)?e.cloneElement(Wt,{value:yo,openCalendar:Er,onFocus:Er,handleValueChange:za,onChange:za,locale:Se,separator:Zi}):Wt instanceof Function?Wt(yo,Er,za,Se,Zi):null):i.default.createElement("input",{ref:vo,type:Ji||"text",name:Dt,id:yn,title:vn,required:tn,onFocus:Er,className:an||"rmdp-input",placeholder:qt,value:yo,onChange:za,style:Kn,autoComplete:"off",disabled:!!zn,inputMode:Pt||(gt?"none":void 0),readOnly:zr}),popper:Pi&&i.default.createElement(ke,h({ref:rl,value:wa||Qs,onChange:Zs,range:Je,multiple:rt,calendar:de,locale:Se,format:we,onlyMonthPicker:Me,onlyYearPicker:tt,className:or+(gt?" rmdp-mobile":""),weekDays:Ze,months:At,digits:gr,minDate:St,maxDate:Lt,formattingIgnoreList:JSON.parse(kt),onPropsChange:ur,shadow:Qr,onReady:Wa,DatePicker:nl.current,datePickerProps:cd,onFocusedDateChange:xa,weekPicker:Qi},hu),ot,gt&&(Tn=[].concat.apply([],cd.plugins||[]).some(function(Ge){var nn=Ge.props;return!(nn===void 0?{}:nn).disabled}),_(mo)&&i.default.createElement("div",{className:"rmdp-action-buttons ".concat(Xt(Se)?"rmdp-rtl":""," ").concat(Tn?"rmdp-border-top":"")},mo.concat(Nn).map(function(Ge,nn){var un=Ge.label,Ps=m(Ge,Q);return i.default.createElement("button",h({key:nn},Ps),un)})))),active:!gt&&gu,position:_a,arrow:!gt&&Rs,fixMainPosition:!Qt||Gn,zIndex:vs,onChange:!gt&&Ur,containerClassName:"rmdp-container ".concat(xr),arrowClassName:["rmdp-ep-arrow","rmdp-ep-".concat(Qr?"shadow":"border"),or,Wn].join(" ")},hu));function on(Ge){var nn,un=Se||new l.default().locale;return typeof un.name!="string"?Ge:(Oi==null?void 0:Oi[Ge])||((nn={en:{OK:"OK",CANCEL:"CANCEL"},fa:{OK:"",CANCEL:""},ar:{OK:"",CANCEL:""},hi:{OK:"",CANCEL:" "}}[Ut(un)])===null||nn===void 0?void 0:nn[Ge])||Ge}function Er(){if(!zn&&!zr&&(Mr==null?void 0:Mr())!==!1){if(bi&&!se&&!er.current.date&&!Je&&!rt&&!gt){var Ge=new l.default({calendar:de,locale:Se,format:we,months:At,weekDays:Ze,digits:gr,ignoreList:JSON.parse(kt)});(!St||Ge>Te(St,de,we))&&(!Lt||Ge<Te(Lt,de,we))&&(Zs(Ge),ur==null||ur(u(u({},cd),{},{value:Ge})),er.current.date=Ge)}var nn=be(vo);gt&&nn.length>0&&nn.forEach(function(un){return un.blur()}),nn.length>0||!Pi?mu(!0):Fn()}}function cs(Ge){var nn="";return Ge&&(nn=rt&&Je&&_(Ge)?Ge.map(function(un){return ye(un,Zi)}).join(" ".concat(tl," ")):ye(Ge,Zi)),nn}function Zs(Ge,nn,un){if(gt&&!nn)return Ba(Ge);var Ps=cs(Ge),us=un||Ps.toString().replace(/\s,\s$/,"");return Ge&&[].concat(Ge).flat().some(function(Cn){return St&&Cn<Te(St,de,we)||Lt&&Cn>Te(Lt,de,we)})?(er.current.validInputValue=cs(se||er.current.date),Ri(us)):(er.current.validInputValue=Ps,(Re==null?void 0:Re(Ge,{validatedValue:Ps,input:vo.current,isTyping:!!un}))===!1?(Ri(yo),!1):(Tc(Ge),Ri(us),void(er.current=u(u({},er.current),{},{date:Ge}))))}function za(Ge){if(Rn){er.current.isTyping=!0,setTimeout(function(){er.current.isTyping=!1},Bl),er.current.selection=Ge.target.selectionStart;var nn=Ge.target.value,un={calendar:de,locale:Se,format:we,ignoreList:JSON.parse(kt)};if(gr=_(gr)?gr:Se.digits,!nn)return Ri(""),Zs(null);if(gr){var Ps,us,Cn=x(gr);try{for(Cn.s();!(Ps=Cn.n()).done;){var ws=Ps.value;nn=nn.replace(new RegExp(ws,"g"),gr.indexOf(ws))}}catch(yr){Cn.e(yr)}finally{Cn.f()}us=_(Qs)?rt&&Je?(nn||"").split(tl).filter(Boolean).map(vu):vu(nn):ds(nn),Zs(_(Qs)||us.isValid?us:null,void 0,Ue(nn,gr))}}function ds(yr){return/(?=.*Y)(?=.*M)(?=.*D)/.test(we)?new l.default(u(u({},un),{},{date:yr})):new l.default(un).parse(yr)}function vu(yr){return(yr||"").split(Zi).filter(Boolean).map(function(bu){return ds(bu.trim())})}}function Wa(){if(yu(!0),gt){var Ge=rl.current.parentNode.parentNode;Ge.className="rmdp-calendar-container-mobile",Ge.style.position="fixed",Ge.style.transform="",setTimeout(function(){Ge.style.visibility="visible"},50)}}function xa(Ge,nn){_(er.current.date)||!nn||gt||Fn(),Va==null||Va(Ge,nn)}}var Z=e.forwardRef(ee);function ye(A,B){var se=[].concat(A).map(function(de){return de!=null&&de.isValid?de.format():""});return se.toString=function(){return this.filter(Boolean).join(B)},se}function be(A){return A.current?A.current.tagName==="INPUT"?[A.current]:Array.from(A.current.querySelectorAll("input")):[]}Object.defineProperty(t,"DateObject",{enumerable:!0,get:function(){return l.default}}),t.Calendar=ke,t.default=Z,t.getAllDatesInRange=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],B=arguments.length>1?arguments[1]:void 0;if(!Array.isArray(A))return[];var se=A[0],de=A[A.length-1],Se=[];if(!(se instanceof l.default&&de instanceof l.default&&se.isValid&&de.isValid&&!(se>de)))return[];for(se=new l.default(se),de=new l.default(de);se<=de;se.day++)Se.push(B?se.toDate():new l.default(se));return Se},t.toDateObject=Te})(jf);const NFe=Qo(jf);function IFe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kFe=IFe({name:"persian",startYear:1,yearLength:365,epoch:1948319,century:14,weekStartDayIndex:0,getMonthLengths:t=>[31,31,31,31,31,31,30,30,30,30,30,t?30:29],isLeap(t){return this.getLeaps(t).includes(t)},getLeaps(t){if(t===0)return;let e=t>0?1:-1,n=[],r=.242362,s=t>0?.2684:.7316,i={5:4,38:37,199:198,232:231,265:264,298:297,557:558,590:591,623:624,982:983,1015:1016,1048:1049,1081:1082,1114:1115,1242:1243,1374:1375,1407:1408,1440:1441,1506:1507,1539:1540,1572:1573,1605:1606,1931:1932,1964:1965,2063:2064,2096:2097,2687:2686,2720:2719,2753:2752,2819:2818,2852:2851,2885:2884,3017:3016,3112:3111,3145:3144,3178:3177,3211:3210,3244:3243,3277:3276,3310:3309,3343:3342,3376:3375,3409:3408,3442:3441,3508:3507,3541:3540,3574:3573,3603:3602,3607:3606,3636:3635,3669:3668,3702:3701,3706:3705,3735:3734,3768:3767,3801:3800,3834:3833,3867:3866,3900:3899,3933:3932,3966:3965,3999:3998,4065:4064,4094:4093,4098:4097,4127:4126,4131:4130,4160:4159,4193:4192,4226:4225,4259:4258,4292:4291,4325:4324,4358:4357,4391:4390,4585:4584,4618:4617,4651:4650,4750:4749,4943:4944,4976:4977,5009:5010,5170:5171,5203:5204,5236:5237,5265:5266,5269:5270,5298:5299,5302:5303,5331:5332,5335:5336,5364:5365,5368:5369,5393:5394,5397:5398,5401:5402,5426:5427,5430:5431,5434:5435,5459:5460,5463:5464,5467:5468,5492:5493,5496:5497,5500:5501,5521:5522,5525:5526,5529:5530,5554:5555,5558:5559,5562:5563,5587:5588,5591:5592,5595:5596,5616:5617,5620:5621,5624:5625,5628:5629,5649:5650,5653:5654,5657:5658,5661:5662,5682:5683,5686:5687,5690:5691,5694:5695,5715:5716,5719:5720,5723:5724,5727:5728,5744:5745,5748:5749,5752:5753,5756:5757,5760:5761,5777:5778,5781:5782,5785:5786,5789:5790,5793:5794,5810:5811,5814:5815,5818:5819,5822:5823,5826:5827,5839:5840,5843:5844,5847:5848,5851:5852,5855:5856,5859:5860,5872:5873,5876:5877,5880:5881,5884:5885,5888:5889,5892:5893,5901:5902,5905:5906,5909:5910,5913:5914,5917:5918,5921:5922,5925:5926,5934:5935,5938:5939,5942:5943,5946:5947,5950:5951,5954:5955,5958:5959,5967:5968,5971:5972,5975:5976,5979:5980,5983:5984,5987:5988,5991:5992,5996:5997,6e3:6001,6004:6005,6008:6009,6012:6013,6016:6017,6020:6021,6029:6030,6033:6034,6037:6038,6041:6042,6045:6046,6049:6050,6053:6054,6058:6059,6062:6063,6066:6067,6070:6071,6074:6075,6078:6079,6082:6083,6086:6087,6091:6092,6095:6096,6099:6100,6103:6104,6107:6108,6111:6112,6115:6116,6119:6120,6124:6125,6128:6129,6132:6133,6136:6137,6140:6141,6144:6145,6148:6149,6152:6154,6157:6158,6161:6162,6165:6166,6169:6170,6173:6174,6177:6178,6181:6182,6185:6187,6190:6191,6194:6195,6198:6199,6202:6203,6206:6207,6210:6211,6214:6215,6218:6220,6223:6224,6227:6228,6231:6232,6235:6236,6239:6240,6243:6244,6247:6249,6251:6253,6256:6257,6260:6261,6264:6265,6268:6269,6272:6273,6276:6277,6280:6282,6284:6286,6289:6290,6293:6294,6297:6298,6301:6302,6305:6306,6309:6310,6313:6315,6317:6319,6322:6323,6326:6327,6330:6331,6334:6335,6338:6339,6342:6344,6346:6348,6350:6352,6355:6356,6359:6360,6363:6364,6367:6368,6371:6372,6375:6377,6379:6381,6383:6385,6388:6389,6392:6393,6396:6397,6400:6401,6404:6406,6408:6410,6412:6414,6416:6418,6421:6422,6425:6426,6429:6430,6433:6434,6437:6439,6441:6443,6445:6447,6449:6451,6454:6455,6458:6459,6462:6463,6466:6468,6470:6472,6474:6476,6478:6480,6482:6484,6487:6488,6491:6492,6495:6496};for(;t>0?e<=t:t<=e;){if(s+=t>0?r:-1*r,s>1&&(s-=1),s<0&&(s+=1),s>=.257800926&&s<=.5){let o=i[e]||e<-1?e+1:e;t>0&&o<=t&&n.push(o),t<0&&n.push(o)}t>0?e++:e--}return n},getDayOfYear:({month:{index:t},day:e})=>(t<=6?31*t:186+30*(t-6))+e,getAllDays(t){const{year:e}=t,n=this.getLeaps(e),r=n.includes(e);return this.yearLength*(e-1)+(r?n.length-1:n.length)+this.getDayOfYear(t)},guessYear:(t,e)=>~~((t+.5)/365.241)+(e>0?1:-1)}),OFe=kFe;const dv=Qo(OFe);function RFe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var PFe=RFe({name:"persian_fa",months:[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],weekDays:[["",""],["",""],["",""],["",""],["",""],["",""],["",""]],digits:["","","","","","","","","",""],meridiems:[["  ","."],["  ","."]]}),DFe=PFe;const hv=Qo(DFe),X6=t=>{if(!t)return null;const e=t.getTimezoneOffset()*6e4;return new Date(t.getTime()-e).toISOString().split("T")[0]},ste=t=>{if(!t)return null;if(typeof t=="string"){const e=new Date(t);return isNaN(e.getTime())?null:new jf.DateObject({date:e,calendar:dv,locale:hv})}return t instanceof Date?isNaN(t.getTime())?null:new jf.DateObject({date:t,calendar:dv,locale:hv}):t instanceof jf.DateObject?t:null},e9=t=>{if(t)return ste(t)},LFe=["","","","","","",""],MFe=({value:t,onChange:e,placeholder:n=" ",label:r,error:s,disabled:i=!1,minDate:o,maxDate:l,className:c="",defaultToday:u=!0,clearable:d=!0,name:h})=>{const m=C.useRef(!1),p=C.useMemo(()=>ste(t),[t]),y=C.useMemo(()=>p||(u&&!i?new jf.DateObject({calendar:dv,locale:hv}):null),[p,u,i]);C.useEffect(()=>{if(!m.current&&u&&!t&&!i&&e){m.current=!0;const E=new jf.DateObject({calendar:dv,locale:hv});e(X6(E.toDate()),h)}},[u,t,i,e,h]);const w=C.useCallback(E=>{if(!E){e==null||e(null,h);return}try{const T=X6(E.toDate());e==null||e(T,h)}catch(T){console.error("DatePicker conversion error:",T)}},[e,h]),v=C.useCallback(E=>{E.preventDefault(),E.stopPropagation(),e==null||e(null,h)},[e,h]),x=C.useMemo(()=>{const E=["date-picker-wrapper"];return c&&E.push(c),s&&E.push("has-error"),i&&E.push("is-disabled"),E.join(" ")},[c,s,i]),_=d&&p&&!i;return a.jsxs("div",{className:x,children:[r&&a.jsx("label",{className:"form-label mb-1",htmlFor:h,children:r}),a.jsxs("div",{className:"position-relative",children:[a.jsx(NFe,{value:y,onChange:w,calendar:dv,locale:hv,format:"YYYY/MM/DD",weekDays:LFe,containerClassName:"w-100",inputClass:"form-control text-center",placeholder:n,disabled:i,minDate:e9(o),maxDate:e9(l),highlightToday:!0,editable:!1,arrow:!1,portal:!0,portalTarget:document.body,zIndex:9999,name:h}),_&&a.jsx("button",{type:"button",className:"btn btn-link text-muted position-absolute top-50 translate-middle-y end-0 me-2 p-0",style:{zIndex:10},onClick:v,title:" ","aria-label":"  ",children:a.jsx("i",{className:"ri-close-line fs-5"})})]}),s&&a.jsx("div",{className:"text-danger small mt-1",role:"alert",children:s})]})},Gs=oe.memo(MFe),cc={mobile:An().matches(/^09\d{9}$/,"  11    09  ").nullable(),mobileRequired:An().matches(/^09\d{9}$/,"  11    09  ").required("  "),nationalIdReal:An().matches(/^\d{10}$/,"   10  ").nullable(),nationalIdCompany:An().matches(/^\d{11}$/,"   11  ").nullable(),nationalIdDynamic:(t="customerType")=>An().when(t,{is:"real",then:e=>e.matches(/^\d{10}$/,"   10  ").nullable(),otherwise:e=>e.matches(/^\d{11}$/,"   11  ").nullable()}),postalCode:An().matches(/^\d{10}$/,"   10  ").nullable(),economicCode:An().matches(/^\d{12}$|^\d{14}$/,"   12  14  ").nullable(),namePersian:An().matches(/^[\u0600-\u06FF\s]+$/,"      ").required("  "),name:An().required("  "),email:An().email("   ").nullable(),emailRequired:An().email("   ").required("  "),requiredString:(t="   ")=>An().required(t),requiredNumber:(t="   ")=>Kc().required(t),positiveNumber:(t="   ")=>Kc().positive(t).nullable(),price:Kc().min(0,"   ").nullable(),quantity:Kc().min(1,"   1 ").integer("    ").nullable()},ite=Ma().shape({customerType:cc.requiredString("   "),name:cc.name,mobile:cc.mobile,nationalId:cc.nationalIdDynamic(),postalCode:cc.postalCode,economicCode:cc.economicCode});Ma().shape({name:cc.name,price:cc.price,quantity:cc.quantity});Ma().shape({name:cc.name,email:cc.emailRequired,mobile:cc.mobileRequired});const $Fe=()=>{const t=as(),[e,n]=C.useState(!1),[r,s]=C.useState(""),[i,o]=C.useState(""),l=Yo({initialValues:{customerType:"real",name:"",nationalId:"",mobile:"",phone:"",birthOrRegisterDate:null,postalCode:"",economicCode:"",address:"",description:""},validationSchema:ite,onSubmit:async(c,{resetForm:u})=>{var d,h,m,p;s(""),o(""),n(!0);try{let y=null;if(c.birthOrRegisterDate){const x=c.birthOrRegisterDate;x.toDate&&typeof x.toDate=="function"?y=Ax(x.toDate()).format("YYYY-MM-DD"):y=Ax(x).format("YYYY-MM-DD")}const w={customer_type:c.customerType==="real"?"person":"company",name:c.name,national_id:c.nationalId,mobile:c.mobile,phone:c.phone||null,economic_code:c.economicCode||null,postal_code:c.postalCode||null,address:c.address||null,description:c.description||null,birth_or_register_date:y},v=await os("/customers",w);v!=null&&v.success&&(o("    !"),setTimeout(()=>{u(),o("")},1500))}catch(y){console.error("Add Customer Error:",y);const w=((h=(d=y==null?void 0:y.response)==null?void 0:d.data)==null?void 0:h.error)||((p=(m=y==null?void 0:y.response)==null?void 0:m.data)==null?void 0:p.message)||(y==null?void 0:y.message)||"   ";s(w)}finally{n(!1)}}});return a.jsx(oe.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsxs("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:[a.jsx("h4",{className:"mb-sm-0 font-size-18",children:"  "}),a.jsx("div",{className:"page-title-right",children:a.jsxs("ol",{className:"breadcrumb m-0",children:[a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Le,{to:"/dashboard",children:""})}),a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Le,{to:"/customers/list",children:""})}),a.jsx("li",{className:"breadcrumb-item active",children:" "})]})})]}),a.jsx(ge,{children:a.jsx($,{lg:10,className:"mx-auto",children:a.jsx(dt,{children:a.jsxs(ht,{children:[a.jsxs("div",{className:"d-flex align-items-center mb-4",children:[a.jsx("div",{className:"flex-shrink-0 me-3",children:a.jsx("div",{className:"avatar-sm",children:a.jsx("div",{className:"avatar-title rounded-circle bg-soft-primary text-primary font-size-20",children:a.jsx("i",{className:"bx bx-user-plus"})})})}),a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h5",{className:"card-title mb-1",children:"  "}),a.jsx("p",{className:"text-muted mb-0",children:"    . (   )"})]})]}),r&&a.jsx(kn,{color:"danger",toggle:()=>s(""),children:r}),i&&a.jsx(kn,{color:"success",toggle:()=>o(""),children:i}),a.jsxs(oo,{onSubmit:l.handleSubmit,children:[a.jsxs(ge,{children:[a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsxs(re,{type:"select",name:"customerType",value:l.values.customerType,onChange:l.handleChange,onBlur:l.handleBlur,children:[a.jsx("option",{value:"real",children:" ()"}),a.jsx("option",{value:"company",children:" ()"})]})]})}),a.jsx($,{md:8,children:a.jsxs("div",{className:"mb-3",children:[a.jsxs(X,{children:[l.values.customerType==="real"?"   ":" ",a.jsx("span",{className:"text-danger ms-1",children:"*"})]}),a.jsx(re,{name:"name",placeholder:l.values.customerType==="real"?":  ":":  ...",value:l.values.name,onChange:l.handleChange,onBlur:l.handleBlur,invalid:l.touched.name&&!!l.errors.name}),a.jsx(Kt,{children:l.errors.name})]})})]}),a.jsxs(ge,{children:[a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsxs(X,{children:[" ",l.values.customerType==="real"?"":""]}),a.jsx(Gs,{value:l.values.birthOrRegisterDate,onChange:c=>l.setFieldValue("birthOrRegisterDate",c),placeholder:" ..."})]})}),a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:l.values.customerType==="real"?" ":" "}),a.jsx(re,{name:"nationalId",type:"number",value:l.values.nationalId,onChange:l.handleChange,onBlur:l.handleBlur,invalid:l.touched.nationalId&&!!l.errors.nationalId}),a.jsx(Kt,{children:l.errors.nationalId})]})}),a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsxs(X,{children:["  ",a.jsx("span",{className:"text-danger ms-1",children:"*"})]}),a.jsx(re,{name:"mobile",type:"tel",value:l.values.mobile,onChange:c=>{const u=c.target.value.replace(/[^0-9]/g,"");l.setFieldValue("mobile",u)},onBlur:l.handleBlur,invalid:l.touched.mobile&&!!l.errors.mobile,maxLength:11,placeholder:"09123456789",dir:"ltr"}),a.jsx(Kt,{children:l.errors.mobile})]})})]}),a.jsxs(ge,{children:[a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{name:"phone",type:"number",value:l.values.phone,onChange:l.handleChange})]})}),a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{name:"postalCode",type:"number",value:l.values.postalCode,onChange:l.handleChange,maxLength:10})]})}),a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{name:"economicCode",type:"number",value:l.values.economicCode,onChange:l.handleChange})]})})]}),a.jsx(ge,{children:a.jsx($,{md:12,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:""}),a.jsx(re,{type:"textarea",rows:"2",name:"address",value:l.values.address,onChange:l.handleChange})]})})}),a.jsx(ge,{children:a.jsx($,{md:12,children:a.jsxs("div",{className:"mb-4",children:[a.jsx(X,{children:""}),a.jsx(re,{type:"textarea",rows:"2",name:"description",value:l.values.description,onChange:l.handleChange})]})})}),a.jsxs("div",{className:"d-flex gap-2 justify-content-end",children:[a.jsx(me,{type:"button",color:"secondary",outline:!0,onClick:()=>t("/customers/list"),children:""}),a.jsx(me,{type:"button",color:"warning",outline:!0,onClick:()=>{l.resetForm(),s(""),o("")},children:"  "}),a.jsx(me,{type:"submit",color:"primary",disabled:e,children:e?a.jsxs(a.Fragment,{children:[a.jsx(pn,{size:"sm",className:"me-2"}),"  ..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bx bx-check-double me-1"})," "]})})]})]})]})})})})]})})})},FFe=()=>{const{id:t}=lu(),e=as(),[n,r]=C.useState(!0),[s,i]=C.useState(!1),[o,l]=C.useState(""),[c,u]=C.useState(""),d=Yo({initialValues:{customerType:"real",name:"",nationalId:"",mobile:"",phone:"",birthOrRegisterDate:null,postalCode:"",economicCode:"",address:"",description:""},validationSchema:ite,onSubmit:async m=>{var p,y,w;i(!0),l(""),u("");try{const v={customer_type:m.customerType,name:m.name,national_id:m.nationalId,mobile:m.mobile,phone:m.phone||null,postal_code:m.postalCode||null,economic_code:m.economicCode||null,address:m.address||null,description:m.description||null,birth_or_register_date:m.birthOrRegisterDate?Ax(m.birthOrRegisterDate.toDate()).format("YYYY-MM-DD"):null},x=await ch(`/customers/${t}`,v);x!=null&&x.success?(u("    "),setTimeout(()=>e("/customers/list"),1200)):l("   ")}catch(v){console.error("Update Error:",v),l(((w=(y=(p=v==null?void 0:v.response)==null?void 0:p.data)==null?void 0:y.error)==null?void 0:w.message)||"    ")}i(!1)}}),h=async()=>{try{const m=await cn(`/customers/${t}`),p=(m==null?void 0:m.data)||m;if(!p){l("   ."),r(!1);return}let y=null;if(p.birth_or_register_date){const w=new Date(p.birth_or_register_date);y=new jf.DateObject({date:w,calendar:dv,locale:hv})}d.setValues({customerType:p.customer_type||"real",name:p.name||"",nationalId:p.national_id||"",mobile:p.mobile||"",phone:p.phone||"",birthOrRegisterDate:y,postalCode:p.postal_code||"",economicCode:p.economic_code||"",address:p.address||"",description:p.description||""})}catch(m){console.error("Load Error:",m),l("    .")}r(!1)};return C.useEffect(()=>{t&&h()},[t]),n?a.jsx("div",{className:"p-5 text-center",children:a.jsx(pn,{})}):a.jsx(oe.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsx(gn,{fluid:!0,children:a.jsx(ge,{children:a.jsx($,{lg:10,className:"mx-auto",children:a.jsx(dt,{children:a.jsxs(ht,{children:[a.jsx("h4",{className:"card-title mb-4",children:" "}),o&&a.jsx(kn,{color:"danger",children:o}),c&&a.jsx(kn,{color:"success",children:c}),a.jsxs(oo,{onSubmit:d.handleSubmit,children:[a.jsxs(ge,{children:[a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsxs(re,{type:"select",name:"customerType",value:d.values.customerType,onChange:d.handleChange,invalid:d.touched.customerType&&!!d.errors.customerType,children:[a.jsx("option",{value:"real",children:""}),a.jsx("option",{value:"company",children:""})]}),a.jsx(Kt,{children:d.errors.customerType})]})}),a.jsx($,{md:8,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:" / "}),a.jsx(re,{name:"name",value:d.values.name,onChange:d.handleChange,invalid:d.touched.name&&!!d.errors.name}),a.jsx(Kt,{children:d.errors.name})]})})]}),a.jsxs(ge,{children:[a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:"  / "}),a.jsx(Gs,{value:d.values.birthOrRegisterDate,onChange:m=>d.setFieldValue("birthOrRegisterDate",m)})]})}),a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:d.values.customerType==="real"?" ":" "}),a.jsx(re,{name:"nationalId",value:d.values.nationalId,onChange:d.handleChange,invalid:d.touched.nationalId&&!!d.errors.nationalId}),a.jsx(Kt,{children:d.errors.nationalId})]})}),a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:""}),a.jsx(re,{name:"mobile",value:d.values.mobile,onChange:d.handleChange,invalid:d.touched.mobile&&!!d.errors.mobile,maxLength:11}),a.jsx(Kt,{children:d.errors.mobile})]})})]}),a.jsxs(ge,{children:[a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{name:"phone",value:d.values.phone,onChange:d.handleChange})]})}),a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{name:"postalCode",value:d.values.postalCode,onChange:d.handleChange,invalid:d.touched.postalCode&&!!d.errors.postalCode,maxLength:10}),a.jsx(Kt,{children:d.errors.postalCode})]})}),a.jsx($,{md:4,children:a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{name:"economicCode",value:d.values.economicCode,onChange:d.handleChange,invalid:d.touched.economicCode&&!!d.errors.economicCode}),a.jsx(Kt,{children:d.errors.economicCode})]})})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{children:""}),a.jsx(re,{type:"textarea",rows:3,name:"address",value:d.values.address,onChange:d.handleChange})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx(X,{children:""}),a.jsx(re,{type:"textarea",rows:3,name:"description",value:d.values.description,onChange:d.handleChange})]}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(me,{type:"submit",color:"primary",disabled:s,children:s?a.jsx(pn,{size:"sm"}):" "}),a.jsx(me,{type:"button",color:"secondary",onClick:()=>e("/customers/list"),children:""})]})]})]})})})})})})})},VA=async(t,e=null)=>{try{const{data:n,error:r}=await fe.rpc("generate_next_code",{p_type:t,p_subtype:e});if(r)throw r;return n}catch{return Math.floor(1e5+Math.random()*9e5)}},Ti=async t=>{const{data:e}=await fe.from("accounting_moein").select("id").eq("code",t).maybeSingle();return e?e.id:null},VFe=async t=>{const{data:e}=await fe.from("accounting_tafsili").select("id").eq("ref_id",t).maybeSingle();return e?e.id:null},YF=async(t,e)=>{const{data:n,error:r}=await fe.from("financial_documents").insert({doc_date:t.doc_date,doc_type:t.doc_type||"system",status:"confirmed",manual_no:t.manual_no||"",description:t.description,reference_id:t.reference_id,reference_type:t.reference_type}).select().single();if(r)throw r;const s=e.map(o=>({doc_id:n.id,moein_id:o.moein_id,tafsili_id:o.tafsili_id,description:o.description,bed:o.bed,bes:o.bes})),{error:i}=await fe.from("financial_entries").insert(s);if(i)throw await fe.from("financial_documents").delete().eq("id",n.id),i;return n},ate=async()=>{const{data:t,error:e}=await fe.from("base_banks").select("*").order("id",{ascending:!0});if(e)throw e;return t},xb=async()=>{const{data:t,error:e}=await fe.from("treasury_banks").select("*, accounting_tafsili(id, code, title)").order("id",{ascending:!1});if(e)throw e;return t},UFe=async t=>{const e=`${t.bank_name} - ${t.account_no}`,n=await VA("tafsili","bank_account"),{data:r,error:s}=await fe.from("accounting_tafsili").insert({title:e,code:n,tafsili_type:"bank_account",ref_id:-1,is_active:!0}).select().single();if(s)throw s;const{data:i,error:o}=await fe.from("treasury_banks").insert({...t,tafsili_id:r.id}).select().single();if(o)throw await fe.from("accounting_tafsili").delete().eq("id",r.id),o;return await fe.from("accounting_tafsili").update({ref_id:i.id}).eq("id",r.id),i},BFe=async(t,e)=>{const{data:n,error:r}=await fe.from("treasury_banks").update({bank_name:e.bank_name,branch_name:e.branch_name,account_no:e.account_no,card_no:e.card_no,sheba_no:e.sheba_no}).eq("id",t).select().single();if(r)throw r;if(n.tafsili_id){const s=`${n.bank_name} - ${n.account_no}`;await fe.from("accounting_tafsili").update({title:s}).eq("id",n.tafsili_id)}return n},zFe=async t=>{const{error:e}=await fe.from("treasury_banks").delete().eq("id",t);if(e)throw e},k0=async()=>{const{data:t,error:e}=await fe.from("treasury_cashes").select("*, accounting_tafsili(id, code, title)").order("id",{ascending:!1});if(e)throw e;return t},WFe=async t=>{const e=await VA("tafsili","cash"),{data:n,error:r}=await fe.from("accounting_tafsili").insert({title:t.title,code:e,tafsili_type:"cash",ref_id:-1,is_active:!0}).select().single();if(r)throw r;const{data:s,error:i}=await fe.from("treasury_cashes").insert({...t,tafsili_id:n.id}).select().single();if(i)throw await fe.from("accounting_tafsili").delete().eq("id",n.id),i;return await fe.from("accounting_tafsili").update({ref_id:s.id}).eq("id",n.id),s},GFe=async(t,e)=>{const{data:n,error:r}=await fe.from("treasury_cashes").update({title:e.title,keeper_name:e.keeper_name}).eq("id",t).select().single();if(r)throw r;return n.tafsili_id&&await fe.from("accounting_tafsili").update({title:e.title}).eq("id",n.tafsili_id),n},HFe=async()=>{const{data:t,error:e}=await fe.from("treasury_checkbooks").select("*, treasury_banks(bank_name, account_no)").order("id",{ascending:!1});if(e)throw e;return t},qFe=async t=>{const{data:e,error:n}=await fe.from("treasury_checkbooks").insert(t).select().single();if(n)throw n;return e},YFe=async()=>{const{data:t,error:e}=await fe.from("treasury_checkbooks").select("id, bank_id, serial_start, serial_end, current_serial, status, treasury_banks (id, bank_name, account_no, branch_name)").eq("status","active").order("id",{ascending:!1});if(e)throw e;return t},KFe=async()=>{const{data:t,error:e}=await fe.from("treasury_checks").select("*, owner:accounting_tafsili!owner_id(title)").eq("type","receive").eq("status","pending");if(e)throw e;return t},ote=async()=>{const{data:t,error:e}=await fe.from("treasury_pos").select("*, treasury_banks(bank_name, account_no), accounting_tafsili(id, code, title)").order("id",{ascending:!1});if(e)throw e;return t},JFe=async t=>{const e=await VA("tafsili","bank_account"),{data:n,error:r}=await fe.from("accounting_tafsili").insert({title:t.title,code:e,tafsili_type:"bank_account",ref_id:4,is_active:!0}).select().single();if(r)throw r;const{data:s,error:i}=await fe.from("treasury_pos").insert({...t,tafsili_id:n.id}).select().single();if(i)throw await fe.from("accounting_tafsili").delete().eq("id",n.id),i;return s},UA=async()=>{const{data:t,error:e}=await fe.from("accounting_tafsili").select("id, code, title, tafsili_type").not("tafsili_type","in",'("bank_account","cash")').eq("is_active",!0);if(e)throw e;return t},QFe=async t=>{const e=await Ti("10101"),n=await Ti("10103"),r=await Ti("10104"),s=await Ti("10302"),i=await Ti("30102"),o=await Ti("10301"),l=await Ti("80205");if(!e||!n||!o)throw new Error("    .");let c=[];const u=t.type==="receive";let d=0;const h=await VA("treasury",u?"receive":"payment");for(const m of t.items){const p=Number(m.amount);if(p<=0)continue;d+=p;const y=Number(m.fee)||0;let w,v,x="";if(m.method==="cash"){w=e;const{data:_}=await fe.from("treasury_cashes").select("tafsili_id").eq("id",m.ref_id).single();v=_==null?void 0:_.tafsili_id,x=" ()"}else if(m.method==="bank_transfer"){w=n;const{data:_}=await fe.from("treasury_banks").select("tafsili_id").eq("id",m.ref_id).single();v=_==null?void 0:_.tafsili_id,x=`/ - ${m.tracking_no||""}`,y>0&&l&&(c.push({moein_id:l,description:" ",bed:y,bes:0}),c.push({moein_id:n,tafsili_id:v,description:" ",bed:0,bes:y}))}else if(m.method==="pos"){w=r||n;const{data:_}=await fe.from("treasury_pos").select("tafsili_id").eq("id",m.ref_id).single();v=_==null?void 0:_.tafsili_id,x=` - ${m.tracking_no||""}`}else if(m.method==="cheque")if(u)w=s,x=`  ${m.cheque_no}`,await fe.from("treasury_checks").insert({type:"receive",amount:p,status:"pending",owner_id:t.person_id,cheque_no:m.cheque_no,due_date:m.due_date,bank_name:m.bank_name,sayadi_code:m.sayadi_code,branch_name:m.branch_name,account_holder:m.account_holder,description:m.description,endorsement:m.endorsement});else if(m.cheque_type==="issue_ours"){w=i,x=`  ${m.cheque_no}`;const{data:_}=await fe.from("treasury_checks").insert({type:"issue",amount:p,cheque_no:m.cheque_no,checkbook_id:m.checkbook_id,due_date:m.due_date,receiver_id:t.person_id,status:"pending",description:m.description}).select().single();m.checkbook_id&&_&&await fe.from("treasury_check_details").update({status:"used",check_id:_.id}).eq("checkbook_id",m.checkbook_id).eq("serial_no",m.cheque_no)}else m.cheque_type==="spend_customer"&&(w=s,x=`  ${m.cheque_no}`,await fe.from("treasury_checks").update({status:"spent",receiver_id:t.person_id}).eq("id",m.check_id));c.push({moein_id:w,tafsili_id:v,description:x,bed:u?p:0,bes:u?0:p})}return c.push({moein_id:o,tafsili_id:t.person_id,description:t.description||" ",bed:u?0:d,bes:u?d:0}),await YF({doc_date:t.date,manual_no:t.manual_no,description:`${u?"":""}  ${h} - ${t.description||""}`},c)},ZFe=async t=>{const{data:e}=await fe.from("treasury_checks").select("*").eq("id",t.checkId).single();if(!e)throw new Error("  ");const n=await Ti("10103"),r=await Ti("10302"),s=await Ti("10303"),i=await Ti("30102"),o=await Ti("10301");let l=[],c={},u="";if(e.type==="receive"){if(t.operation==="deposit"){const{data:d}=await fe.from("treasury_banks").select("tafsili_id, bank_name").eq("id",t.targetId).single();l.push({moein_id:r,bed:0,bes:e.amount,description:`  ${e.cheque_no}`}),l.push({moein_id:s,tafsili_id:d.tafsili_id,bed:e.amount,bes:0,description:`   ${d.bank_name}`}),c={status:"deposited",target_bank_id:t.targetId},u=`  ${e.cheque_no}`}else if(t.operation==="clear"){const{data:d}=await fe.from("treasury_banks").select("tafsili_id").eq("id",t.targetId).single(),h=e.status==="deposited"?s:r;l.push({moein_id:h,tafsili_id:d.tafsili_id,bed:0,bes:e.amount,description:`  ${e.cheque_no}`}),l.push({moein_id:n,tafsili_id:d.tafsili_id,bed:e.amount,bes:0,description:"  "}),c={status:"cleared"},u=`  ${e.cheque_no}`}else if(t.operation==="spend")l.push({moein_id:r,bed:0,bes:e.amount,description:`  ${e.cheque_no}`}),l.push({moein_id:o,tafsili_id:t.targetId,bed:e.amount,bes:0,description:"   "}),c={status:"spent",receiver_id:t.targetId},u=`  ${e.cheque_no}`;else if(t.operation==="bounce"){const d=e.status==="deposited"?s:r;l.push({moein_id:d,bed:0,bes:e.amount,description:`  ${e.cheque_no}`}),l.push({moein_id:o,tafsili_id:e.owner_id,bed:e.amount,bes:0,description:"  "}),c={status:"bounced"},u=`  ${e.cheque_no}`}}else if(e.type==="issue"){if(t.operation==="clear"){const{data:d}=await fe.from("treasury_checkbooks").select("bank_id").eq("id",e.checkbook_id).single(),{data:h}=await fe.from("treasury_banks").select("tafsili_id").eq("id",d.bank_id).single();l.push({moein_id:n,tafsili_id:h.tafsili_id,bed:0,bes:e.amount,description:`    ${e.cheque_no}`}),l.push({moein_id:i,bed:e.amount,bes:0,description:"  "}),c={status:"cleared"},u=`   ${e.cheque_no}`}else if(t.operation==="bounce"){const{data:d}=await fe.from("treasury_checkbooks").select("bank_id").eq("id",e.checkbook_id).single(),{data:h}=await fe.from("treasury_banks").select("tafsili_id").eq("id",d.bank_id).single();l.push({moein_id:i,bed:0,bes:e.amount,description:`   ${e.cheque_no}`}),l.push({moein_id:n,tafsili_id:h.tafsili_id,bed:e.amount,bes:0,description:"   "}),c={status:"bounced"},u=`   ${e.cheque_no}`}}l.length>0&&await YF({doc_date:t.date,manual_no:"",description:u},l),await fe.from("treasury_checks").update(c).eq("id",t.checkId)},XFe=async()=>{const{data:t,error:e}=await fe.from("financial_documents").select("id, doc_date, description, manual_no, created_at, financial_entries ( bed, bes )").or("description.ilike.%%,description.ilike.%%,description.ilike.%%,description.ilike.%%").order("id",{ascending:!1});if(e)throw e;return(t==null?void 0:t.map(n=>{var s;const r=((s=n.financial_entries)==null?void 0:s.reduce((i,o)=>i+(Number(o.bed)||0),0))||0;return{...n,total_amount:r}}))||[]},e4e=async t=>{await fe.from("financial_entries").delete().eq("doc_id",t),await fe.from("financial_documents").delete().eq("id",t)},t4e=async(t,e)=>{const{error:n}=await fe.from("financial_documents").update({doc_date:e.date,description:e.description,manual_no:e.manual_no}).eq("id",t);if(n)throw n},n4e=async({costs:t,paymentAmount:e,date:n,customerId:r,sourceId:s,receiptId:i,receiptNo:o,description:l})=>{const c=await Ti("10301"),u=await Ti("60101"),d=await Ti("60102");await Ti("60103");const h=await Ti("60104");let m=await Ti("10101");if(s){const{data:_}=await fe.from("accounting_tafsili").select("tafsili_type").eq("id",s).single();(_==null?void 0:_.tafsili_type)==="bank_account"&&(m=await Ti("10103"))}if(!c)throw new Error("   (10301)  .");const y=(Number(t.loadCost)||0)+(Number(t.unloadCost)||0)+(Number(t.warehouseCost)||0)+(Number(t.loadingFee)||0)+(Number(t.miscCost)||0)+(Number(t.tax)||0)+(Number(e)||0);if(y===0)return;const w=[];w.push({moein_id:c,tafsili_id:r,description:l||`   ${o}`,bed:y,bes:0});const v=(Number(t.loadCost)||0)+(Number(t.unloadCost)||0);v>0&&w.push({moein_id:d||h,description:`    -  ${o}`,bed:0,bes:v}),Number(t.warehouseCost)>0&&w.push({moein_id:u||h,description:`  -  ${o}`,bed:0,bes:Number(t.warehouseCost)}),Number(t.loadingFee)>0&&w.push({moein_id:h,description:`  -  ${o}`,bed:0,bes:Number(t.loadingFee)});const x=(Number(t.miscCost)||0)+(Number(t.tax)||0);if(x>0&&w.push({moein_id:h,description:` / -  ${o}`,bed:0,bes:x}),Number(e)>0){if(!s)throw new Error("  (/)   .");w.push({moein_id:m,tafsili_id:s,description:` /   ${o}`,bed:0,bes:Number(e)})}return await YF({doc_date:n,manual_no:"",description:`      ${o}`,reference_id:i,reference_type:"receipt"},w)},r4e=async t=>{try{const{data:e,error:n}=await fe.rpc("register_exit_financial_doc",{p_payload:{exit_id:t}});if(n)throw n;return e}catch(e){throw e}};function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function s4e(t,e){if($p(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($p(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lte(t){var e=s4e(t,"string");return $p(e)==="symbol"?e:String(e)}function tw(t,e,n){return e=lte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t9(Object(n),!0).forEach(function(r){tw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i4e(t){if(Array.isArray(t))return t}function a4e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function uL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cte(t,e){if(t){if(typeof t=="string")return uL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uL(t,e)}}function o4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wd(t,e){return i4e(t)||a4e(t,e)||cte(t,e)||o4e()}function hh(t,e){if(t==null)return{};var n=FQ(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var l4e=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function c4e(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,s=r===void 0?!1:r,i=t.defaultValue,o=i===void 0?null:i,l=t.inputValue,c=t.menuIsOpen,u=t.onChange,d=t.onInputChange,h=t.onMenuClose,m=t.onMenuOpen,p=t.value,y=hh(t,l4e),w=C.useState(l!==void 0?l:n),v=Wd(w,2),x=v[0],_=v[1],E=C.useState(c!==void 0?c:s),T=Wd(E,2),N=T[0],D=T[1],O=C.useState(p!==void 0?p:o),F=Wd(O,2),V=F[0],z=F[1],U=C.useCallback(function(te,ce){typeof u=="function"&&u(te,ce),z(te)},[u]),H=C.useCallback(function(te,ce){var ve;typeof d=="function"&&(ve=d(te,ce)),_(ve!==void 0?ve:te)},[d]),J=C.useCallback(function(){typeof m=="function"&&m(),D(!0)},[m]),q=C.useCallback(function(){typeof h=="function"&&h(),D(!1)},[h]),L=l!==void 0?l:x,Y=c!==void 0?c:N,ne=p!==void 0?p:V;return rn(rn({},y),{},{inputValue:L,menuIsOpen:Y,onChange:U,onInputChange:H,onMenuClose:q,onMenuOpen:J,value:ne})}function ute(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lte(r.key),r)}}function dte(t,e,n){return e&&n9(t.prototype,e),n&&n9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function u4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tT(t,e)}function OT(t){return OT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},OT(t)}function d4e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function h4e(t,e){if(e&&($p(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LTe(t)}function f4e(t){var e=d4e();return function(){var r=OT(t),s;if(e){var i=OT(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return h4e(this,s)}}function m4e(t){if(Array.isArray(t))return uL(t)}function p4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function g4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KF(t){return m4e(t)||p4e(t)||cte(t)||g4e()}function y4e(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function v4e(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var b4e=function(){function t(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(v4e(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=y4e(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Na="-ms-",RT="-moz-",jr="-webkit-",hte="comm",JF="rule",QF="decl",_4e="@import",fte="@keyframes",w4e="@layer",x4e=Math.abs,BA=String.fromCharCode,E4e=Object.assign;function S4e(t,e){return da(t,0)^45?(((e<<2^da(t,0))<<2^da(t,1))<<2^da(t,2))<<2^da(t,3):0}function mte(t){return t.trim()}function j4e(t,e){return(t=e.exec(t))?t[0]:t}function Tr(t,e,n){return t.replace(e,n)}function dL(t,e){return t.indexOf(e)}function da(t,e){return t.charCodeAt(e)|0}function Nx(t,e,n){return t.slice(e,n)}function Pu(t){return t.length}function ZF(t){return t.length}function GS(t,e){return e.push(t),t}function T4e(t,e){return t.map(e).join("")}var zA=1,Gv=1,pte=0,Ko=0,pi=0,Eb="";function WA(t,e,n,r,s,i,o){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:zA,column:Gv,length:o,return:""}}function T_(t,e){return E4e(WA("",null,null,"",null,null,0),t,{length:-t.length},e)}function C4e(){return pi}function A4e(){return pi=Ko>0?da(Eb,--Ko):0,Gv--,pi===10&&(Gv=1,zA--),pi}function Nl(){return pi=Ko<pte?da(Eb,Ko++):0,Gv++,pi===10&&(Gv=1,zA++),pi}function Zu(){return da(Eb,Ko)}function Qj(){return Ko}function O0(t,e){return Nx(Eb,t,e)}function Ix(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function gte(t){return zA=Gv=1,pte=Pu(Eb=t),Ko=0,[]}function yte(t){return Eb="",t}function Zj(t){return mte(O0(Ko-1,hL(t===91?t+2:t===40?t+1:t)))}function N4e(t){for(;(pi=Zu())&&pi<33;)Nl();return Ix(t)>2||Ix(pi)>3?"":" "}function I4e(t,e){for(;--e&&Nl()&&!(pi<48||pi>102||pi>57&&pi<65||pi>70&&pi<97););return O0(t,Qj()+(e<6&&Zu()==32&&Nl()==32))}function hL(t){for(;Nl();)switch(pi){case t:return Ko;case 34:case 39:t!==34&&t!==39&&hL(pi);break;case 40:t===41&&hL(t);break;case 92:Nl();break}return Ko}function k4e(t,e){for(;Nl()&&t+pi!==57;)if(t+pi===84&&Zu()===47)break;return"/*"+O0(e,Ko-1)+"*"+BA(t===47?t:Nl())}function O4e(t){for(;!Ix(Zu());)Nl();return O0(t,Ko)}function R4e(t){return yte(Xj("",null,null,null,[""],t=gte(t),0,[0],t))}function Xj(t,e,n,r,s,i,o,l,c){for(var u=0,d=0,h=o,m=0,p=0,y=0,w=1,v=1,x=1,_=0,E="",T=s,N=i,D=r,O=E;v;)switch(y=_,_=Nl()){case 40:if(y!=108&&da(O,h-1)==58){dL(O+=Tr(Zj(_),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:O+=Zj(_);break;case 9:case 10:case 13:case 32:O+=N4e(y);break;case 92:O+=I4e(Qj()-1,7);continue;case 47:switch(Zu()){case 42:case 47:GS(P4e(k4e(Nl(),Qj()),e,n),c);break;default:O+="/"}break;case 123*w:l[u++]=Pu(O)*x;case 125*w:case 59:case 0:switch(_){case 0:case 125:v=0;case 59+d:x==-1&&(O=Tr(O,/\f/g,"")),p>0&&Pu(O)-h&&GS(p>32?s9(O+";",r,n,h-1):s9(Tr(O," ","")+";",r,n,h-2),c);break;case 59:O+=";";default:if(GS(D=r9(O,e,n,u,d,s,l,E,T=[],N=[],h),i),_===123)if(d===0)Xj(O,e,D,D,T,i,h,l,N);else switch(m===99&&da(O,3)===110?100:m){case 100:case 108:case 109:case 115:Xj(t,D,D,r&&GS(r9(t,D,D,0,0,s,l,E,s,T=[],h),N),s,N,h,l,r?T:N);break;default:Xj(O,D,D,D,[""],N,0,l,N)}}u=d=p=0,w=x=1,E=O="",h=o;break;case 58:h=1+Pu(O),p=y;default:if(w<1){if(_==123)--w;else if(_==125&&w++==0&&A4e()==125)continue}switch(O+=BA(_),_*w){case 38:x=d>0?1:(O+="\f",-1);break;case 44:l[u++]=(Pu(O)-1)*x,x=1;break;case 64:Zu()===45&&(O+=Zj(Nl())),m=Zu(),d=h=Pu(E=O+=O4e(Qj())),_++;break;case 45:y===45&&Pu(O)==2&&(w=0)}}return i}function r9(t,e,n,r,s,i,o,l,c,u,d){for(var h=s-1,m=s===0?i:[""],p=ZF(m),y=0,w=0,v=0;y<r;++y)for(var x=0,_=Nx(t,h+1,h=x4e(w=o[y])),E=t;x<p;++x)(E=mte(w>0?m[x]+" "+_:Tr(_,/&\f/g,m[x])))&&(c[v++]=E);return WA(t,e,n,s===0?JF:l,c,u,d)}function P4e(t,e,n){return WA(t,e,n,hte,BA(C4e()),Nx(t,2,-2),0)}function s9(t,e,n,r){return WA(t,e,n,QF,Nx(t,0,r),Nx(t,r+1,-1),r)}function fv(t,e){for(var n="",r=ZF(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function D4e(t,e,n,r){switch(t.type){case w4e:if(t.children.length)break;case _4e:case QF:return t.return=t.return||t.value;case hte:return"";case fte:return t.return=t.value+"{"+fv(t.children,r)+"}";case JF:t.value=t.props.join(",")}return Pu(n=fv(t.children,r))?t.return=t.value+"{"+n+"}":""}function L4e(t){var e=ZF(t);return function(n,r,s,i){for(var o="",l=0;l<e;l++)o+=t[l](n,r,s,i)||"";return o}}function M4e(t){return function(e){e.root||(e=e.return)&&t(e)}}function $4e(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var F4e=function(e,n,r){for(var s=0,i=0;s=i,i=Zu(),s===38&&i===12&&(n[r]=1),!Ix(i);)Nl();return O0(e,Ko)},V4e=function(e,n){var r=-1,s=44;do switch(Ix(s)){case 0:s===38&&Zu()===12&&(n[r]=1),e[r]+=F4e(Ko-1,n,r);break;case 2:e[r]+=Zj(s);break;case 4:if(s===44){e[++r]=Zu()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=BA(s)}while(s=Nl());return e},U4e=function(e,n){return yte(V4e(gte(e),n))},i9=new WeakMap,B4e=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!i9.get(r))&&!s){i9.set(e,!0);for(var i=[],o=U4e(n,i),l=r.props,c=0,u=0;c<o.length;c++)for(var d=0;d<l.length;d++,u++)e.props[u]=i[c]?o[c].replace(/&\f/g,l[d]):l[d]+" "+o[c]}}},z4e=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function vte(t,e){switch(S4e(t,e)){case 5103:return jr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return jr+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return jr+t+RT+t+Na+t+t;case 6828:case 4268:return jr+t+Na+t+t;case 6165:return jr+t+Na+"flex-"+t+t;case 5187:return jr+t+Tr(t,/(\w+).+(:[^]+)/,jr+"box-$1$2"+Na+"flex-$1$2")+t;case 5443:return jr+t+Na+"flex-item-"+Tr(t,/flex-|-self/,"")+t;case 4675:return jr+t+Na+"flex-line-pack"+Tr(t,/align-content|flex-|-self/,"")+t;case 5548:return jr+t+Na+Tr(t,"shrink","negative")+t;case 5292:return jr+t+Na+Tr(t,"basis","preferred-size")+t;case 6060:return jr+"box-"+Tr(t,"-grow","")+jr+t+Na+Tr(t,"grow","positive")+t;case 4554:return jr+Tr(t,/([^-])(transform)/g,"$1"+jr+"$2")+t;case 6187:return Tr(Tr(Tr(t,/(zoom-|grab)/,jr+"$1"),/(image-set)/,jr+"$1"),t,"")+t;case 5495:case 3959:return Tr(t,/(image-set\([^]*)/,jr+"$1$`$1");case 4968:return Tr(Tr(t,/(.+:)(flex-)?(.*)/,jr+"box-pack:$3"+Na+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+jr+t+t;case 4095:case 3583:case 4068:case 2532:return Tr(t,/(.+)-inline(.+)/,jr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Pu(t)-1-e>6)switch(da(t,e+1)){case 109:if(da(t,e+4)!==45)break;case 102:return Tr(t,/(.+:)(.+)-([^]+)/,"$1"+jr+"$2-$3$1"+RT+(da(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~dL(t,"stretch")?vte(Tr(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(da(t,e+1)!==115)break;case 6444:switch(da(t,Pu(t)-3-(~dL(t,"!important")&&10))){case 107:return Tr(t,":",":"+jr)+t;case 101:return Tr(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+jr+(da(t,14)===45?"inline-":"")+"box$3$1"+jr+"$2$3$1"+Na+"$2box$3")+t}break;case 5936:switch(da(t,e+11)){case 114:return jr+t+Na+Tr(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return jr+t+Na+Tr(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return jr+t+Na+Tr(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return jr+t+Na+t+t}return t}var W4e=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case QF:e.return=vte(e.value,e.length);break;case fte:return fv([T_(e,{value:Tr(e.value,"@","@"+jr)})],s);case JF:if(e.length)return T4e(e.props,function(i){switch(j4e(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return fv([T_(e,{props:[Tr(i,/:(read-\w+)/,":"+RT+"$1")]})],s);case"::placeholder":return fv([T_(e,{props:[Tr(i,/:(plac\w+)/,":"+jr+"input-$1")]}),T_(e,{props:[Tr(i,/:(plac\w+)/,":"+RT+"$1")]}),T_(e,{props:[Tr(i,/:(plac\w+)/,Na+"input-$1")]})],s)}return""})}},G4e=[W4e],H4e=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(w){var v=w.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var s=e.stylisPlugins||G4e,i={},o,l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(w){for(var v=w.getAttribute("data-emotion").split(" "),x=1;x<v.length;x++)i[v[x]]=!0;l.push(w)});var c,u=[B4e,z4e];{var d,h=[D4e,M4e(function(w){d.insert(w)})],m=L4e(u.concat(s,h)),p=function(v){return fv(R4e(v),m)};c=function(v,x,_,E){d=_,p(v?v+"{"+x.styles+"}":x.styles),E&&(y.inserted[x.name]=!0)}}var y={key:n,sheet:new b4e({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:c};return y.sheet.hydrate(l),y},q4e=!0;function Y4e(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(r+=s+" ")}),r}var bte=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||q4e===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},K4e=function(e,n,r){bte(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function J4e(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Q4e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Z4e=/[A-Z]|^ms/g,X4e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,_te=function(e){return e.charCodeAt(1)===45},a9=function(e){return e!=null&&typeof e!="boolean"},rR=$4e(function(t){return _te(t)?t:t.replace(Z4e,"-$&").toLowerCase()}),o9=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(X4e,function(r,s,i){return Du={name:s,styles:i,next:Du},s})}return Q4e[e]!==1&&!_te(e)&&typeof n=="number"&&n!==0?n+"px":n};function kx(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return Du={name:s.name,styles:s.styles,next:Du},s.name;var i=n;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)Du={name:o.name,styles:o.styles,next:Du},o=o.next;var l=i.styles+";";return l}return e3e(t,e,n)}case"function":{if(t!==void 0){var c=Du,u=n(t);return Du=c,kx(t,e,u)}break}}var d=n;return d}function e3e(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=kx(t,e,n[s])+";";else for(var i in n){var o=n[i];if(typeof o!="object"){var l=o;a9(l)&&(r+=rR(i)+":"+o9(i,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&e==null)for(var c=0;c<o.length;c++)a9(o[c])&&(r+=rR(i)+":"+o9(i,o[c])+";");else{var u=kx(t,e,o);switch(i){case"animation":case"animationName":{r+=rR(i)+":"+u+";";break}default:r+=i+"{"+u+"}"}}}return r}var l9=/label:\s*([^\s;{]+)\s*(;|$)/g,Du;function wte(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,s="";Du=void 0;var i=t[0];if(i==null||i.raw===void 0)r=!1,s+=kx(n,e,i);else{var o=i;s+=o[0]}for(var l=1;l<t.length;l++)if(s+=kx(n,e,t[l]),r){var c=i;s+=c[l]}l9.lastIndex=0;for(var u="",d;(d=l9.exec(s))!==null;)u+="-"+d[1];var h=J4e(s)+u;return{name:h,styles:s,next:Du}}var t3e=function(e){return e()},n3e=iP.useInsertionEffect?iP.useInsertionEffect:!1,r3e=n3e||t3e,xte=C.createContext(typeof HTMLElement<"u"?H4e({key:"css"}):null);xte.Provider;var s3e=function(e){return C.forwardRef(function(n,r){var s=C.useContext(xte);return e(n,s,r)})},i3e=C.createContext({}),XF={}.hasOwnProperty,fL="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",a3e=function(e,n){var r={};for(var s in n)XF.call(n,s)&&(r[s]=n[s]);return r[fL]=e,r},o3e=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return bte(n,r,s),r3e(function(){return K4e(n,r,s)}),null},l3e=s3e(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var s=t[fL],i=[r],o="";typeof t.className=="string"?o=Y4e(e.registered,i,t.className):t.className!=null&&(o=t.className+" ");var l=wte(i,void 0,C.useContext(i3e));o+=e.key+"-"+l.name;var c={};for(var u in t)XF.call(t,u)&&u!=="css"&&u!==fL&&(c[u]=t[u]);return c.className=o,n&&(c.ref=n),C.createElement(C.Fragment,null,C.createElement(o3e,{cache:e,serialized:l,isStringTag:typeof s=="string"}),C.createElement(s,c))}),c3e=l3e,Yt=function(e,n){var r=arguments;if(n==null||!XF.call(n,"css"))return C.createElement.apply(void 0,r);var s=r.length,i=new Array(s);i[0]=c3e,i[1]=a3e(e,n);for(var o=2;o<s;o++)i[o]=r[o];return C.createElement.apply(null,i)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Yt||(Yt={}));function e4(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return wte(e)}function u3e(){var t=e4.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function d3e(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const h3e=Math.min,f3e=Math.max,PT=Math.round,HS=Math.floor,DT=t=>({x:t,y:t});function m3e(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function GA(){return typeof window<"u"}function Ete(t){return jte(t)?(t.nodeName||"").toLowerCase():"#document"}function nh(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ste(t){var e;return(e=(jte(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function jte(t){return GA()?t instanceof Node||t instanceof nh(t).Node:!1}function p3e(t){return GA()?t instanceof Element||t instanceof nh(t).Element:!1}function t4(t){return GA()?t instanceof HTMLElement||t instanceof nh(t).HTMLElement:!1}function c9(t){return!GA()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof nh(t).ShadowRoot}const g3e=new Set(["inline","contents"]);function Tte(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=n4(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!g3e.has(s)}function y3e(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const v3e=new Set(["html","body","#document"]);function b3e(t){return v3e.has(Ete(t))}function n4(t){return nh(t).getComputedStyle(t)}function _3e(t){if(Ete(t)==="html")return t;const e=t.assignedSlot||t.parentNode||c9(t)&&t.host||Ste(t);return c9(e)?e.host:e}function Cte(t){const e=_3e(t);return b3e(e)?t.ownerDocument?t.ownerDocument.body:t.body:t4(e)&&Tte(e)?e:Cte(e)}function LT(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Cte(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=nh(s);if(i){const l=mL(o);return e.concat(o,o.visualViewport||[],Tte(s)?s:[],l&&n?LT(l):[])}return e.concat(s,LT(s,[],n))}function mL(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function w3e(t){const e=n4(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=t4(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,l=PT(n)!==i||PT(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function r4(t){return p3e(t)?t:t.contextElement}function u9(t){const e=r4(t);if(!t4(e))return DT(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=w3e(e);let o=(i?PT(n.width):n.width)/r,l=(i?PT(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const x3e=DT(0);function E3e(t){const e=nh(t);return!y3e()||!e.visualViewport?x3e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function S3e(t,e,n){return!1}function d9(t,e,n,r){e===void 0&&(e=!1);const s=t.getBoundingClientRect(),i=r4(t);let o=DT(1);e&&(o=u9(t));const l=S3e()?E3e(i):DT(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const m=nh(i),p=r;let y=m,w=mL(y);for(;w&&r&&p!==y;){const v=u9(w),x=w.getBoundingClientRect(),_=n4(w),E=x.left+(w.clientLeft+parseFloat(_.paddingLeft))*v.x,T=x.top+(w.clientTop+parseFloat(_.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,h*=v.y,c+=E,u+=T,y=nh(w),w=mL(y)}}return m3e({width:d,height:h,x:c,y:u})}function Ate(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function j3e(t,e){let n=null,r;const s=Ste(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:h,width:m,height:p}=u;if(l||e(),!m||!p)return;const y=HS(h),w=HS(s.clientWidth-(d+m)),v=HS(s.clientHeight-(h+p)),x=HS(d),E={rootMargin:-y+"px "+-w+"px "+-v+"px "+-x+"px",threshold:f3e(0,h3e(1,c))||1};let T=!0;function N(D){const O=D[0].intersectionRatio;if(O!==c){if(!T)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!Ate(u,t.getBoundingClientRect())&&o(),T=!1}try{n=new IntersectionObserver(N,{...E,root:s.ownerDocument})}catch{n=new IntersectionObserver(N,E)}n.observe(t)}return o(!0),i}function T3e(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=r4(t),d=s||i?[...u?LT(u):[],...LT(e)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const h=u&&l?j3e(u,n):null;let m=-1,p=null;o&&(p=new ResizeObserver(x=>{let[_]=x;_&&_.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var E;(E=p)==null||E.observe(e)})),n()}),u&&!c&&p.observe(u),p.observe(e));let y,w=c?d9(t):null;c&&v();function v(){const x=d9(t);w&&!Ate(w,x)&&n(),w=x,y=requestAnimationFrame(v)}return n(),()=>{var x;d.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),h==null||h(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(y)}}var pL=C.useLayoutEffect,C3e=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],MT=function(){};function A3e(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function N3e(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var i=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&i.push("".concat(A3e(t,o)));return i.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var h9=function(e){return $3e(e)?e.filter(Boolean):$p(e)==="object"&&e!==null?[e]:[]},Nte=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=hh(e,C3e);return rn({},n)},Ws=function(e,n,r){var s=e.cx,i=e.getStyles,o=e.getClassNames,l=e.className;return{css:i(n,e),className:s(r??{},o(n,e),l)}};function HA(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function I3e(t){return HA(t)?window.innerHeight:t.clientHeight}function Ite(t){return HA(t)?window.pageYOffset:t.scrollTop}function $T(t,e){if(HA(t)){window.scrollTo(0,e);return}t.scrollTop=e}function k3e(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=t;s=s.parentElement;)if(e=getComputedStyle(s),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function O3e(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function qS(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:MT,s=Ite(t),i=e-s,o=10,l=0;function c(){l+=o;var u=O3e(l,s,i,n);$T(t,u),l<n?window.requestAnimationFrame(c):r(t)}c()}function f9(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),s=e.offsetHeight/3;r.bottom+s>n.bottom?$T(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+s,t.scrollHeight)):r.top-s<n.top&&$T(t,Math.max(e.offsetTop-s,0))}function R3e(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function m9(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function P3e(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var kte=!1,D3e={get passive(){return kte=!0}},YS=typeof window<"u"?window:{};YS.addEventListener&&YS.removeEventListener&&(YS.addEventListener("p",MT,D3e),YS.removeEventListener("p",MT,!1));var L3e=kte;function M3e(t){return t!=null}function $3e(t){return Array.isArray(t)}function KS(t,e,n){return t?e:n}var F3e=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];var i=Object.entries(e).filter(function(o){var l=Wd(o,1),c=l[0];return!r.includes(c)});return i.reduce(function(o,l){var c=Wd(l,2),u=c[0],d=c[1];return o[u]=d,o},{})},V3e=["children","innerProps"],U3e=["children","innerProps"];function B3e(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,s=t.placement,i=t.shouldScroll,o=t.isFixedPosition,l=t.controlHeight,c=k3e(n),u={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return u;var d=c.getBoundingClientRect(),h=d.height,m=n.getBoundingClientRect(),p=m.bottom,y=m.height,w=m.top,v=n.offsetParent.getBoundingClientRect(),x=v.top,_=o?window.innerHeight:I3e(c),E=Ite(c),T=parseInt(getComputedStyle(n).marginBottom,10),N=parseInt(getComputedStyle(n).marginTop,10),D=x-N,O=_-w,F=D+E,V=h-E-w,z=p-_+E+T,U=E+w-N,H=160;switch(s){case"auto":case"bottom":if(O>=y)return{placement:"bottom",maxHeight:e};if(V>=y&&!o)return i&&qS(c,z,H),{placement:"bottom",maxHeight:e};if(!o&&V>=r||o&&O>=r){i&&qS(c,z,H);var J=o?O-T:V-T;return{placement:"bottom",maxHeight:J}}if(s==="auto"||o){var q=e,L=o?D:F;return L>=r&&(q=Math.min(L-T-l,e)),{placement:"top",maxHeight:q}}if(s==="bottom")return i&&$T(c,z),{placement:"bottom",maxHeight:e};break;case"top":if(D>=y)return{placement:"top",maxHeight:e};if(F>=y&&!o)return i&&qS(c,U,H),{placement:"top",maxHeight:e};if(!o&&F>=r||o&&D>=r){var Y=e;return(!o&&F>=r||o&&D>=r)&&(Y=o?D-N:F-N),i&&qS(c,U,H),{placement:"top",maxHeight:Y}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return u}function z3e(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var Ote=function(e){return e==="auto"?"bottom":e},W3e=function(e,n){var r,s=e.placement,i=e.theme,o=i.borderRadius,l=i.spacing,c=i.colors;return rn((r={label:"menu"},tw(r,z3e(s),"100%"),tw(r,"position","absolute"),tw(r,"width","100%"),tw(r,"zIndex",1),r),n?{}:{backgroundColor:c.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},Rte=C.createContext(null),G3e=function(e){var n=e.children,r=e.minMenuHeight,s=e.maxMenuHeight,i=e.menuPlacement,o=e.menuPosition,l=e.menuShouldScrollIntoView,c=e.theme,u=C.useContext(Rte)||{},d=u.setPortalPlacement,h=C.useRef(null),m=C.useState(s),p=Wd(m,2),y=p[0],w=p[1],v=C.useState(null),x=Wd(v,2),_=x[0],E=x[1],T=c.spacing.controlHeight;return pL(function(){var N=h.current;if(N){var D=o==="fixed",O=l&&!D,F=B3e({maxHeight:s,menuEl:N,minHeight:r,placement:i,shouldScroll:O,isFixedPosition:D,controlHeight:T});w(F.maxHeight),E(F.placement),d==null||d(F.placement)}},[s,i,o,l,r,d,T]),n({ref:h,placerProps:rn(rn({},e),{},{placement:_||Ote(i),maxHeight:y})})},H3e=function(e){var n=e.children,r=e.innerRef,s=e.innerProps;return Yt("div",mn({},Ws(e,"menu",{menu:!0}),{ref:r},s),n)},q3e=H3e,Y3e=function(e,n){var r=e.maxHeight,s=e.theme.spacing.baseUnit;return rn({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:s,paddingTop:s})},K3e=function(e){var n=e.children,r=e.innerProps,s=e.innerRef,i=e.isMulti;return Yt("div",mn({},Ws(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:s},r),n)},Pte=function(e,n){var r=e.theme,s=r.spacing.baseUnit,i=r.colors;return rn({textAlign:"center"},n?{}:{color:i.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},J3e=Pte,Q3e=Pte,Z3e=function(e){var n=e.children,r=n===void 0?"No options":n,s=e.innerProps,i=hh(e,V3e);return Yt("div",mn({},Ws(rn(rn({},i),{},{children:r,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),r)},X3e=function(e){var n=e.children,r=n===void 0?"Loading...":n,s=e.innerProps,i=hh(e,U3e);return Yt("div",mn({},Ws(rn(rn({},i),{},{children:r,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),r)},eVe=function(e){var n=e.rect,r=e.offset,s=e.position;return{left:n.left,position:s,top:r,width:n.width,zIndex:1}},tVe=function(e){var n=e.appendTo,r=e.children,s=e.controlElement,i=e.innerProps,o=e.menuPlacement,l=e.menuPosition,c=C.useRef(null),u=C.useRef(null),d=C.useState(Ote(o)),h=Wd(d,2),m=h[0],p=h[1],y=C.useMemo(function(){return{setPortalPlacement:p}},[]),w=C.useState(null),v=Wd(w,2),x=v[0],_=v[1],E=C.useCallback(function(){if(s){var O=R3e(s),F=l==="fixed"?0:window.pageYOffset,V=O[m]+F;(V!==(x==null?void 0:x.offset)||O.left!==(x==null?void 0:x.rect.left)||O.width!==(x==null?void 0:x.rect.width))&&_({offset:V,rect:O})}},[s,l,m,x==null?void 0:x.offset,x==null?void 0:x.rect.left,x==null?void 0:x.rect.width]);pL(function(){E()},[E]);var T=C.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),s&&c.current&&(u.current=T3e(s,c.current,E,{elementResize:"ResizeObserver"in window}))},[s,E]);pL(function(){T()},[T]);var N=C.useCallback(function(O){c.current=O,T()},[T]);if(!n&&l!=="fixed"||!x)return null;var D=Yt("div",mn({ref:N},Ws(rn(rn({},e),{},{offset:x.offset,position:l,rect:x.rect}),"menuPortal",{"menu-portal":!0}),i),r);return Yt(Rte.Provider,{value:y},n?y0.createPortal(D,n):D)},nVe=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},rVe=function(e){var n=e.children,r=e.innerProps,s=e.isDisabled,i=e.isRtl;return Yt("div",mn({},Ws(e,"container",{"--is-disabled":s,"--is-rtl":i}),r),n)},sVe=function(e,n){var r=e.theme.spacing,s=e.isMulti,i=e.hasValue,o=e.selectProps.controlShouldRenderValue;return rn({alignItems:"center",display:s&&i&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},iVe=function(e){var n=e.children,r=e.innerProps,s=e.isMulti,i=e.hasValue;return Yt("div",mn({},Ws(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":i}),r),n)},aVe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},oVe=function(e){var n=e.children,r=e.innerProps;return Yt("div",mn({},Ws(e,"indicatorsContainer",{indicators:!0}),r),n)},p9,lVe=["size"],cVe=["innerProps","isRtl","size"],uVe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Dte=function(e){var n=e.size,r=hh(e,lVe);return Yt("svg",mn({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:uVe},r))},s4=function(e){return Yt(Dte,mn({size:20},e),Yt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Lte=function(e){return Yt(Dte,mn({size:20},e),Yt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Mte=function(e,n){var r=e.isFocused,s=e.theme,i=s.spacing.baseUnit,o=s.colors;return rn({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:i*2,":hover":{color:r?o.neutral80:o.neutral40}})},dVe=Mte,hVe=function(e){var n=e.children,r=e.innerProps;return Yt("div",mn({},Ws(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||Yt(Lte,null))},fVe=Mte,mVe=function(e){var n=e.children,r=e.innerProps;return Yt("div",mn({},Ws(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||Yt(s4,null))},pVe=function(e,n){var r=e.isDisabled,s=e.theme,i=s.spacing.baseUnit,o=s.colors;return rn({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:i*2,marginTop:i*2})},gVe=function(e){var n=e.innerProps;return Yt("span",mn({},n,Ws(e,"indicatorSeparator",{"indicator-separator":!0})))},yVe=u3e(p9||(p9=d3e([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),vVe=function(e,n){var r=e.isFocused,s=e.size,i=e.theme,o=i.colors,l=i.spacing.baseUnit;return rn({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:l*2})},sR=function(e){var n=e.delay,r=e.offset;return Yt("span",{css:e4({animation:"".concat(yVe," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},bVe=function(e){var n=e.innerProps,r=e.isRtl,s=e.size,i=s===void 0?4:s,o=hh(e,cVe);return Yt("div",mn({},Ws(rn(rn({},o),{},{innerProps:n,isRtl:r,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),Yt(sR,{delay:0,offset:r}),Yt(sR,{delay:160,offset:!0}),Yt(sR,{delay:320,offset:!r}))},_Ve=function(e,n){var r=e.isDisabled,s=e.isFocused,i=e.theme,o=i.colors,l=i.borderRadius,c=i.spacing;return rn({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:s?o.primary:o.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:s?o.primary:o.neutral30}})},wVe=function(e){var n=e.children,r=e.isDisabled,s=e.isFocused,i=e.innerRef,o=e.innerProps,l=e.menuIsOpen;return Yt("div",mn({ref:i},Ws(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":s,"control--menu-is-open":l}),o,{"aria-disabled":r||void 0}),n)},xVe=wVe,EVe=["data"],SVe=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},jVe=function(e){var n=e.children,r=e.cx,s=e.getStyles,i=e.getClassNames,o=e.Heading,l=e.headingProps,c=e.innerProps,u=e.label,d=e.theme,h=e.selectProps;return Yt("div",mn({},Ws(e,"group",{group:!0}),c),Yt(o,mn({},l,{selectProps:h,theme:d,getStyles:s,getClassNames:i,cx:r}),u),Yt("div",null,n))},TVe=function(e,n){var r=e.theme,s=r.colors,i=r.spacing;return rn({label:"group",cursor:"default",display:"block"},n?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},CVe=function(e){var n=Nte(e);n.data;var r=hh(n,EVe);return Yt("div",mn({},Ws(e,"groupHeading",{"group-heading":!0}),r))},AVe=jVe,NVe=["innerRef","isDisabled","isHidden","inputClassName"],IVe=function(e,n){var r=e.isDisabled,s=e.value,i=e.theme,o=i.spacing,l=i.colors;return rn(rn({visibility:r?"hidden":"visible",transform:s?"translateZ(0)":""},kVe),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:l.neutral80})},$te={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},kVe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":rn({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},$te)},OVe=function(e){return rn({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},$te)},RVe=function(e){var n=e.cx,r=e.value,s=Nte(e),i=s.innerRef,o=s.isDisabled,l=s.isHidden,c=s.inputClassName,u=hh(s,NVe);return Yt("div",mn({},Ws(e,"input",{"input-container":!0}),{"data-value":r||""}),Yt("input",mn({className:n({input:!0},c),ref:i,style:OVe(l),disabled:o},u)))},PVe=RVe,DVe=function(e,n){var r=e.theme,s=r.spacing,i=r.borderRadius,o=r.colors;return rn({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:i/2,margin:s.baseUnit/2})},LVe=function(e,n){var r=e.theme,s=r.borderRadius,i=r.colors,o=e.cropWithEllipsis;return rn({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:s/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},MVe=function(e,n){var r=e.theme,s=r.spacing,i=r.borderRadius,o=r.colors,l=e.isFocused;return rn({alignItems:"center",display:"flex"},n?{}:{borderRadius:i/2,backgroundColor:l?o.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},Fte=function(e){var n=e.children,r=e.innerProps;return Yt("div",r,n)},$Ve=Fte,FVe=Fte;function VVe(t){var e=t.children,n=t.innerProps;return Yt("div",mn({role:"button"},n),e||Yt(s4,{size:14}))}var UVe=function(e){var n=e.children,r=e.components,s=e.data,i=e.innerProps,o=e.isDisabled,l=e.removeProps,c=e.selectProps,u=r.Container,d=r.Label,h=r.Remove;return Yt(u,{data:s,innerProps:rn(rn({},Ws(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),i),selectProps:c},Yt(d,{data:s,innerProps:rn({},Ws(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},n),Yt(h,{data:s,innerProps:rn(rn({},Ws(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},l),selectProps:c}))},BVe=UVe,zVe=function(e,n){var r=e.isDisabled,s=e.isFocused,i=e.isSelected,o=e.theme,l=o.spacing,c=o.colors;return rn({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:i?c.primary:s?c.primary25:"transparent",color:r?c.neutral20:i?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:i?c.primary:c.primary50}})},WVe=function(e){var n=e.children,r=e.isDisabled,s=e.isFocused,i=e.isSelected,o=e.innerRef,l=e.innerProps;return Yt("div",mn({},Ws(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":s,"option--is-selected":i}),{ref:o,"aria-disabled":r},l),n)},GVe=WVe,HVe=function(e,n){var r=e.theme,s=r.spacing,i=r.colors;return rn({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:i.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},qVe=function(e){var n=e.children,r=e.innerProps;return Yt("div",mn({},Ws(e,"placeholder",{placeholder:!0}),r),n)},YVe=qVe,KVe=function(e,n){var r=e.isDisabled,s=e.theme,i=s.spacing,o=s.colors;return rn({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},JVe=function(e){var n=e.children,r=e.isDisabled,s=e.innerProps;return Yt("div",mn({},Ws(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),s),n)},QVe=JVe,ZVe={ClearIndicator:mVe,Control:xVe,DropdownIndicator:hVe,DownChevron:Lte,CrossIcon:s4,Group:AVe,GroupHeading:CVe,IndicatorsContainer:oVe,IndicatorSeparator:gVe,Input:PVe,LoadingIndicator:bVe,Menu:q3e,MenuList:K3e,MenuPortal:tVe,LoadingMessage:X3e,NoOptionsMessage:Z3e,MultiValue:BVe,MultiValueContainer:$Ve,MultiValueLabel:FVe,MultiValueRemove:VVe,Option:GVe,Placeholder:YVe,SelectContainer:rVe,SingleValue:QVe,ValueContainer:iVe},XVe=function(e){return rn(rn({},ZVe),e.components)},g9=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function eUe(t,e){return!!(t===e||g9(t)&&g9(e))}function tUe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!eUe(t[n],e[n]))return!1;return!0}function nUe(t,e){e===void 0&&(e=tUe);var n=null;function r(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(n&&n.lastThis===this&&e(s,n.lastArgs))return n.lastResult;var o=t.apply(this,s);return n={lastResult:o,lastArgs:s,lastThis:this},o}return r.clear=function(){n=null},r}var rUe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},sUe=function(e){return Yt("span",mn({css:rUe},e))},y9=sUe,iUe={guidance:function(e){var n=e.isSearchable,r=e.isMulti,s=e.tabSelectsValue,i=e.context,o=e.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,s=r===void 0?"":r,i=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return o?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,s=e.options,i=e.label,o=i===void 0?"":i,l=e.selectValue,c=e.isDisabled,u=e.isSelected,d=e.isAppleDevice,h=function(w,v){return w&&w.length?"".concat(w.indexOf(v)+1," of ").concat(w.length):""};if(n==="value"&&l)return"value ".concat(o," focused, ").concat(h(l,r),".");if(n==="menu"&&d){var m=c?" disabled":"",p="".concat(u?" selected":"").concat(m);return"".concat(o).concat(p,", ").concat(h(s,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},aUe=function(e){var n=e.ariaSelection,r=e.focusedOption,s=e.focusedValue,i=e.focusableOptions,o=e.isFocused,l=e.selectValue,c=e.selectProps,u=e.id,d=e.isAppleDevice,h=c.ariaLiveMessages,m=c.getOptionLabel,p=c.inputValue,y=c.isMulti,w=c.isOptionDisabled,v=c.isSearchable,x=c.menuIsOpen,_=c.options,E=c.screenReaderStatus,T=c.tabSelectsValue,N=c.isLoading,D=c["aria-label"],O=c["aria-live"],F=C.useMemo(function(){return rn(rn({},iUe),h||{})},[h]),V=C.useMemo(function(){var L="";if(n&&F.onChange){var Y=n.option,ne=n.options,te=n.removedValue,ce=n.removedValues,ve=n.value,Ue=function(pt){return Array.isArray(pt)?null:pt},Ae=te||Y||Ue(ve),at=Ae?m(Ae):"",it=ne||ce||void 0,Te=it?it.map(m):[],Tt=rn({isDisabled:Ae&&w(Ae,l),label:at,labels:Te},n);L=F.onChange(Tt)}return L},[n,F,w,l,m]),z=C.useMemo(function(){var L="",Y=r||s,ne=!!(r&&l&&l.includes(r));if(Y&&F.onFocus){var te={focused:Y,label:m(Y),isDisabled:w(Y,l),isSelected:ne,options:i,context:Y===r?"menu":"value",selectValue:l,isAppleDevice:d};L=F.onFocus(te)}return L},[r,s,m,w,F,i,l,d]),U=C.useMemo(function(){var L="";if(x&&_.length&&!N&&F.onFilter){var Y=E({count:i.length});L=F.onFilter({inputValue:p,resultsMessage:Y})}return L},[i,p,x,F,_,E,N]),H=(n==null?void 0:n.action)==="initial-input-focus",J=C.useMemo(function(){var L="";if(F.guidance){var Y=s?"value":x?"menu":"input";L=F.guidance({"aria-label":D,context:Y,isDisabled:r&&w(r,l),isMulti:y,isSearchable:v,tabSelectsValue:T,isInitialFocus:H})}return L},[D,r,s,y,w,v,x,F,l,T,H]),q=Yt(C.Fragment,null,Yt("span",{id:"aria-selection"},V),Yt("span",{id:"aria-focused"},z),Yt("span",{id:"aria-results"},U),Yt("span",{id:"aria-guidance"},J));return Yt(C.Fragment,null,Yt(y9,{id:u},H&&q),Yt(y9,{"aria-live":O,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!H&&q))},oUe=aUe,gL=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],lUe=new RegExp("["+gL.map(function(t){return t.letters}).join("")+"]","g"),Vte={};for(var iR=0;iR<gL.length;iR++)for(var aR=gL[iR],oR=0;oR<aR.letters.length;oR++)Vte[aR.letters[oR]]=aR.base;var Ute=function(e){return e.replace(lUe,function(n){return Vte[n]})},cUe=nUe(Ute),v9=function(e){return e.replace(/^\s+|\s+$/g,"")},uUe=function(e){return"".concat(e.label," ").concat(e.value)},dUe=function(e){return function(n,r){if(n.data.__isNew__)return!0;var s=rn({ignoreCase:!0,ignoreAccents:!0,stringify:uUe,trim:!0,matchFrom:"any"},e),i=s.ignoreCase,o=s.ignoreAccents,l=s.stringify,c=s.trim,u=s.matchFrom,d=c?v9(r):r,h=c?v9(l(n)):l(n);return i&&(d=d.toLowerCase(),h=h.toLowerCase()),o&&(d=cUe(d),h=Ute(h)),u==="start"?h.substr(0,d.length)===d:h.indexOf(d)>-1}},hUe=["innerRef"];function fUe(t){var e=t.innerRef,n=hh(t,hUe),r=F3e(n,"onExited","in","enter","exit","appear");return Yt("input",mn({ref:e},r,{css:e4({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var mUe=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function pUe(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,s=t.onTopArrive,i=t.onTopLeave,o=C.useRef(!1),l=C.useRef(!1),c=C.useRef(0),u=C.useRef(null),d=C.useCallback(function(v,x){if(u.current!==null){var _=u.current,E=_.scrollTop,T=_.scrollHeight,N=_.clientHeight,D=u.current,O=x>0,F=T-N-E,V=!1;F>x&&o.current&&(r&&r(v),o.current=!1),O&&l.current&&(i&&i(v),l.current=!1),O&&x>F?(n&&!o.current&&n(v),D.scrollTop=T,V=!0,o.current=!0):!O&&-x>E&&(s&&!l.current&&s(v),D.scrollTop=0,V=!0,l.current=!0),V&&mUe(v)}},[n,r,s,i]),h=C.useCallback(function(v){d(v,v.deltaY)},[d]),m=C.useCallback(function(v){c.current=v.changedTouches[0].clientY},[]),p=C.useCallback(function(v){var x=c.current-v.changedTouches[0].clientY;d(v,x)},[d]),y=C.useCallback(function(v){if(v){var x=L3e?{passive:!1}:!1;v.addEventListener("wheel",h,x),v.addEventListener("touchstart",m,x),v.addEventListener("touchmove",p,x)}},[p,m,h]),w=C.useCallback(function(v){v&&(v.removeEventListener("wheel",h,!1),v.removeEventListener("touchstart",m,!1),v.removeEventListener("touchmove",p,!1))},[p,m,h]);return C.useEffect(function(){if(e){var v=u.current;return y(v),function(){w(v)}}},[e,y,w]),function(v){u.current=v}}var b9=["boxSizing","height","overflow","paddingRight","position"],_9={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function w9(t){t.preventDefault()}function x9(t){t.stopPropagation()}function E9(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function S9(){return"ontouchstart"in window||navigator.maxTouchPoints}var j9=!!(typeof window<"u"&&window.document&&window.document.createElement),C_=0,my={capture:!1,passive:!1};function gUe(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,s=C.useRef({}),i=C.useRef(null),o=C.useCallback(function(c){if(j9){var u=document.body,d=u&&u.style;if(r&&b9.forEach(function(y){var w=d&&d[y];s.current[y]=w}),r&&C_<1){var h=parseInt(s.current.paddingRight,10)||0,m=document.body?document.body.clientWidth:0,p=window.innerWidth-m+h||0;Object.keys(_9).forEach(function(y){var w=_9[y];d&&(d[y]=w)}),d&&(d.paddingRight="".concat(p,"px"))}u&&S9()&&(u.addEventListener("touchmove",w9,my),c&&(c.addEventListener("touchstart",E9,my),c.addEventListener("touchmove",x9,my))),C_+=1}},[r]),l=C.useCallback(function(c){if(j9){var u=document.body,d=u&&u.style;C_=Math.max(C_-1,0),r&&C_<1&&b9.forEach(function(h){var m=s.current[h];d&&(d[h]=m)}),u&&S9()&&(u.removeEventListener("touchmove",w9,my),c&&(c.removeEventListener("touchstart",E9,my),c.removeEventListener("touchmove",x9,my)))}},[r]);return C.useEffect(function(){if(e){var c=i.current;return o(c),function(){l(c)}}},[e,o,l]),function(c){i.current=c}}var yUe=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},vUe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function bUe(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,s=r===void 0?!0:r,i=t.onBottomArrive,o=t.onBottomLeave,l=t.onTopArrive,c=t.onTopLeave,u=pUe({isEnabled:s,onBottomArrive:i,onBottomLeave:o,onTopArrive:l,onTopLeave:c}),d=gUe({isEnabled:n}),h=function(p){u(p),d(p)};return Yt(C.Fragment,null,n&&Yt("div",{onClick:yUe,css:vUe}),e(h))}var _Ue={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},wUe=function(e){var n=e.name,r=e.onFocus;return Yt("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:_Ue,value:"",onChange:function(){}})},xUe=wUe;function i4(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function EUe(){return i4(/^iPhone/i)}function Bte(){return i4(/^Mac/i)}function SUe(){return i4(/^iPad/i)||Bte()&&navigator.maxTouchPoints>1}function jUe(){return EUe()||SUe()}function TUe(){return Bte()||jUe()}var CUe=function(e){return e.label},AUe=function(e){return e.label},NUe=function(e){return e.value},IUe=function(e){return!!e.isDisabled},kUe={clearIndicator:fVe,container:nVe,control:_Ve,dropdownIndicator:dVe,group:SVe,groupHeading:TVe,indicatorsContainer:aVe,indicatorSeparator:pVe,input:IVe,loadingIndicator:vVe,loadingMessage:Q3e,menu:W3e,menuList:Y3e,menuPortal:eVe,multiValue:DVe,multiValueLabel:LVe,multiValueRemove:MVe,noOptionsMessage:J3e,option:zVe,placeholder:HVe,singleValue:KVe,valueContainer:sVe},OUe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},RUe=4,zte=4,PUe=38,DUe=zte*2,LUe={baseUnit:zte,controlHeight:PUe,menuGutter:DUe},lR={borderRadius:RUe,colors:OUe,spacing:LUe},MUe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:m9(),captureMenuScroll:!m9(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:dUe(),formatGroupLabel:CUe,getOptionLabel:AUe,getOptionValue:NUe,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:IUe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!P3e(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function T9(t,e,n,r){var s=Hte(t,e,n),i=qte(t,e,n),o=Gte(t,e),l=FT(t,e);return{type:"option",data:e,isDisabled:s,isSelected:i,label:o,value:l,index:r}}function e1(t,e){return t.options.map(function(n,r){if("options"in n){var s=n.options.map(function(o,l){return T9(t,o,e,l)}).filter(function(o){return A9(t,o)});return s.length>0?{type:"group",data:n,options:s,index:r}:void 0}var i=T9(t,n,e,r);return A9(t,i)?i:void 0}).filter(M3e)}function Wte(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,KF(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function C9(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,KF(r.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(r.index,"-").concat(s.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function $Ue(t,e){return Wte(e1(t,e))}function A9(t,e){var n=t.inputValue,r=n===void 0?"":n,s=e.data,i=e.isSelected,o=e.label,l=e.value;return(!Kte(t)||!i)&&Yte(t,{label:o,value:l,data:s},r)}function FUe(t,e){var n=t.focusedValue,r=t.selectValue,s=r.indexOf(n);if(s>-1){var i=e.indexOf(n);if(i>-1)return n;if(s<e.length)return e[s]}return null}function VUe(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var cR=function(e,n){var r,s=(r=e.find(function(i){return i.data===n}))===null||r===void 0?void 0:r.id;return s||null},Gte=function(e,n){return e.getOptionLabel(n)},FT=function(e,n){return e.getOptionValue(n)};function Hte(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function qte(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=FT(t,e);return n.some(function(s){return FT(t,s)===r})}function Yte(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var Kte=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},UUe=1,Jte=function(t){u4e(n,t);var e=f4e(n);function n(r){var s;if(ute(this,n),s=e.call(this,r),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.isAppleDevice=TUe(),s.controlRef=null,s.getControlRef=function(c){s.controlRef=c},s.focusedOptionRef=null,s.getFocusedOptionRef=function(c){s.focusedOptionRef=c},s.menuListRef=null,s.getMenuListRef=function(c){s.menuListRef=c},s.inputRef=null,s.getInputRef=function(c){s.inputRef=c},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(c,u){var d=s.props,h=d.onChange,m=d.name;u.name=m,s.ariaOnChange(c,u),h(c,u)},s.setValue=function(c,u,d){var h=s.props,m=h.closeMenuOnSelect,p=h.isMulti,y=h.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:y}),m&&(s.setState({inputIsHiddenAfterUpdate:!p}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(c,{action:u,option:d})},s.selectOption=function(c){var u=s.props,d=u.blurInputOnSelect,h=u.isMulti,m=u.name,p=s.state.selectValue,y=h&&s.isOptionSelected(c,p),w=s.isOptionDisabled(c,p);if(y){var v=s.getOptionValue(c);s.setValue(p.filter(function(x){return s.getOptionValue(x)!==v}),"deselect-option",c)}else if(!w)h?s.setValue([].concat(KF(p),[c]),"select-option",c):s.setValue(c,"select-option");else{s.ariaOnChange(c,{action:"select-option",option:c,name:m});return}d&&s.blurInput()},s.removeValue=function(c){var u=s.props.isMulti,d=s.state.selectValue,h=s.getOptionValue(c),m=d.filter(function(y){return s.getOptionValue(y)!==h}),p=KS(u,m,m[0]||null);s.onChange(p,{action:"remove-value",removedValue:c}),s.focusInput()},s.clearValue=function(){var c=s.state.selectValue;s.onChange(KS(s.props.isMulti,[],null),{action:"clear",removedValues:c})},s.popValue=function(){var c=s.props.isMulti,u=s.state.selectValue,d=u[u.length-1],h=u.slice(0,u.length-1),m=KS(c,h,h[0]||null);s.onChange(m,{action:"pop-value",removedValue:d})},s.getFocusedOptionId=function(c){return cR(s.state.focusableOptionsWithIds,c)},s.getFocusableOptionsWithIds=function(){return C9(e1(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return N3e.apply(void 0,[s.props.classNamePrefix].concat(u))},s.getOptionLabel=function(c){return Gte(s.props,c)},s.getOptionValue=function(c){return FT(s.props,c)},s.getStyles=function(c,u){var d=s.props.unstyled,h=kUe[c](u,d);h.boxSizing="border-box";var m=s.props.styles[c];return m?m(h,u):h},s.getClassNames=function(c,u){var d,h;return(d=(h=s.props.classNames)[c])===null||d===void 0?void 0:d.call(h,u)},s.getElementId=function(c){return"".concat(s.state.instancePrefix,"-").concat(c)},s.getComponents=function(){return XVe(s.props)},s.buildCategorizedOptions=function(){return e1(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return Wte(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(c,u){s.setState({ariaSelection:rn({value:c},u)})},s.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(c){s.blockOptionHover=!1},s.onControlMouseDown=function(c){if(!c.defaultPrevented){var u=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&s.onMenuClose():u&&s.openMenu("first"):(u&&(s.openAfterFocus=!0),s.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},s.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!s.props.isDisabled){var u=s.props,d=u.isMulti,h=u.menuIsOpen;s.focusInput(),h?(s.setState({inputIsHiddenAfterUpdate:!d}),s.onMenuClose()):s.openMenu("first"),c.preventDefault()}},s.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(s.clearValue(),c.preventDefault(),s.openAfterFocus=!1,c.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(c){typeof s.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&HA(c.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(c)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(c){var u=c.touches,d=u&&u.item(0);d&&(s.initialTouchX=d.clientX,s.initialTouchY=d.clientY,s.userIsDragging=!1)},s.onTouchMove=function(c){var u=c.touches,d=u&&u.item(0);if(d){var h=Math.abs(d.clientX-s.initialTouchX),m=Math.abs(d.clientY-s.initialTouchY),p=5;s.userIsDragging=h>p||m>p}},s.onTouchEnd=function(c){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(c.target)&&s.menuListRef&&!s.menuListRef.contains(c.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(c){s.userIsDragging||s.onControlMouseDown(c)},s.onClearIndicatorTouchEnd=function(c){s.userIsDragging||s.onClearIndicatorMouseDown(c)},s.onDropdownIndicatorTouchEnd=function(c){s.userIsDragging||s.onDropdownIndicatorMouseDown(c)},s.handleInputChange=function(c){var u=s.props.inputValue,d=c.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(d,{action:"input-change",prevInputValue:u}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(c){s.props.onFocus&&s.props.onFocus(c),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(c){var u=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(c),s.onInputChange("",{action:"input-blur",prevInputValue:u}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(c){if(!(s.blockOptionHover||s.state.focusedOption===c)){var u=s.getFocusableOptions(),d=u.indexOf(c);s.setState({focusedOption:c,focusedOptionId:d>-1?s.getFocusedOptionId(c):null})}},s.shouldHideSelectedOptions=function(){return Kte(s.props)},s.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),s.focus()},s.onKeyDown=function(c){var u=s.props,d=u.isMulti,h=u.backspaceRemovesValue,m=u.escapeClearsValue,p=u.inputValue,y=u.isClearable,w=u.isDisabled,v=u.menuIsOpen,x=u.onKeyDown,_=u.tabSelectsValue,E=u.openMenuOnFocus,T=s.state,N=T.focusedOption,D=T.focusedValue,O=T.selectValue;if(!w&&!(typeof x=="function"&&(x(c),c.defaultPrevented))){switch(s.blockOptionHover=!0,c.key){case"ArrowLeft":if(!d||p)return;s.focusValue("previous");break;case"ArrowRight":if(!d||p)return;s.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(D)s.removeValue(D);else{if(!h)return;d?s.popValue():y&&s.clearValue()}break;case"Tab":if(s.isComposing||c.shiftKey||!v||!_||!N||E&&s.isOptionSelected(N,O))return;s.selectOption(N);break;case"Enter":if(c.keyCode===229)break;if(v){if(!N||s.isComposing)return;s.selectOption(N);break}return;case"Escape":v?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:p}),s.onMenuClose()):y&&m&&s.clearValue();break;case" ":if(p)return;if(!v){s.openMenu("first");break}if(!N)return;s.selectOption(N);break;case"ArrowUp":v?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":v?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!v)return;s.focusOption("pageup");break;case"PageDown":if(!v)return;s.focusOption("pagedown");break;case"Home":if(!v)return;s.focusOption("first");break;case"End":if(!v)return;s.focusOption("last");break;default:return}c.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++UUe),s.state.selectValue=h9(r.value),r.menuIsOpen&&s.state.selectValue.length){var i=s.getFocusableOptionsWithIds(),o=s.buildFocusableOptions(),l=o.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=i,s.state.focusedOption=o[l],s.state.focusedOptionId=cR(i,o[l])}return s}return dte(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&f9(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isDisabled,l=i.menuIsOpen,c=this.state.isFocused;(c&&!o&&s.isDisabled||c&&l&&!s.menuIsOpen)&&this.focusInput(),c&&o&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!o&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(f9(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,i){this.props.onInputChange(s,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var i=this,o=this.state,l=o.selectValue,c=o.isFocused,u=this.buildFocusableOptions(),d=s==="first"?0:u.length-1;if(!this.props.isMulti){var h=u.indexOf(l[0]);h>-1&&(d=h)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(s){var i=this.state,o=i.selectValue,l=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=o.indexOf(l);l||(c=-1);var u=o.length-1,d=-1;if(o.length){switch(s){case"previous":c===0?d=0:c===-1?d=u:d=c-1;break;case"next":c>-1&&c<u&&(d=c+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:o[d]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,o=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,u=l.indexOf(o);o||(u=-1),s==="up"?c=u>0?u-1:l.length-1:s==="down"?c=(u+1)%l.length:s==="pageup"?(c=u-i,c<0&&(c=0)):s==="pagedown"?(c=u+i,c>l.length-1&&(c=l.length-1)):s==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(lR):rn(rn({},lR),this.props.theme):lR}},{key:"getCommonProps",value:function(){var s=this.clearValue,i=this.cx,o=this.getStyles,l=this.getClassNames,c=this.getValue,u=this.selectOption,d=this.setValue,h=this.props,m=h.isMulti,p=h.isRtl,y=h.options,w=this.hasValue();return{clearValue:s,cx:i,getStyles:o,getClassNames:l,getValue:c,hasValue:w,isMulti:m,isRtl:p,options:y,selectOption:u,selectProps:h,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,i=s.isClearable,o=s.isMulti;return i===void 0?o:i}},{key:"isOptionDisabled",value:function(s,i){return Hte(this.props,s,i)}},{key:"isOptionSelected",value:function(s,i){return qte(this.props,s,i)}},{key:"filterOption",value:function(s,i){return Yte(this.props,s,i)}},{key:"formatOptionLabel",value:function(s,i){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(s,{context:i,inputValue:o,selectValue:l})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,i=s.isDisabled,o=s.isSearchable,l=s.inputId,c=s.inputValue,u=s.tabIndex,d=s.form,h=s.menuIsOpen,m=s.required,p=this.getComponents(),y=p.Input,w=this.state,v=w.inputIsHidden,x=w.ariaSelection,_=this.commonProps,E=l||this.getElementId("input"),T=rn(rn(rn({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},h&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(x==null?void 0:x.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?C.createElement(y,mn({},_,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:E,innerRef:this.getInputRef,isDisabled:i,isHidden:v,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:c},T)):C.createElement(fUe,mn({id:E,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:MT,onFocus:this.onInputFocus,disabled:i,tabIndex:u,inputMode:"none",form:d,value:""},T))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,i=this.getComponents(),o=i.MultiValue,l=i.MultiValueContainer,c=i.MultiValueLabel,u=i.MultiValueRemove,d=i.SingleValue,h=i.Placeholder,m=this.commonProps,p=this.props,y=p.controlShouldRenderValue,w=p.isDisabled,v=p.isMulti,x=p.inputValue,_=p.placeholder,E=this.state,T=E.selectValue,N=E.focusedValue,D=E.isFocused;if(!this.hasValue()||!y)return x?null:C.createElement(h,mn({},m,{key:"placeholder",isDisabled:w,isFocused:D,innerProps:{id:this.getElementId("placeholder")}}),_);if(v)return T.map(function(F,V){var z=F===N,U="".concat(s.getOptionLabel(F),"-").concat(s.getOptionValue(F));return C.createElement(o,mn({},m,{components:{Container:l,Label:c,Remove:u},isFocused:z,isDisabled:w,key:U,index:V,removeProps:{onClick:function(){return s.removeValue(F)},onTouchEnd:function(){return s.removeValue(F)},onMouseDown:function(J){J.preventDefault()}},data:F}),s.formatOptionLabel(F,"value"))});if(x)return null;var O=T[0];return C.createElement(d,mn({},m,{data:O,isDisabled:w}),this.formatOptionLabel(O,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),i=s.ClearIndicator,o=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!this.isClearable()||!i||c||!this.hasValue()||u)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return C.createElement(i,mn({},o,{innerProps:h,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),i=s.LoadingIndicator,o=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!i||!u)return null;var h={"aria-hidden":"true"};return C.createElement(i,mn({},o,{innerProps:h,isDisabled:c,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator,o=s.IndicatorSeparator;if(!i||!o)return null;var l=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused;return C.createElement(o,mn({},l,{isDisabled:c,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator;if(!i)return null;var o=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return C.createElement(i,mn({},o,{innerProps:u,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var s=this,i=this.getComponents(),o=i.Group,l=i.GroupHeading,c=i.Menu,u=i.MenuList,d=i.MenuPortal,h=i.LoadingMessage,m=i.NoOptionsMessage,p=i.Option,y=this.commonProps,w=this.state.focusedOption,v=this.props,x=v.captureMenuScroll,_=v.inputValue,E=v.isLoading,T=v.loadingMessage,N=v.minMenuHeight,D=v.maxMenuHeight,O=v.menuIsOpen,F=v.menuPlacement,V=v.menuPosition,z=v.menuPortalTarget,U=v.menuShouldBlockScroll,H=v.menuShouldScrollIntoView,J=v.noOptionsMessage,q=v.onMenuScrollToTop,L=v.onMenuScrollToBottom;if(!O)return null;var Y=function(at,it){var Te=at.type,Tt=at.data,ct=at.isDisabled,pt=at.isSelected,vt=at.label,Ht=at.value,It=w===Tt,Ut=ct?void 0:function(){return s.onOptionHover(Tt)},Xt=ct?void 0:function(){return s.selectOption(Tt)},Ee="".concat(s.getElementId("option"),"-").concat(it),We={id:Ee,onClick:Xt,onMouseMove:Ut,onMouseOver:Ut,tabIndex:-1,role:"option","aria-selected":s.isAppleDevice?void 0:pt};return C.createElement(p,mn({},y,{innerProps:We,data:Tt,isDisabled:ct,isSelected:pt,key:Ee,label:vt,type:Te,value:Ht,isFocused:It,innerRef:It?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(at.data,"menu"))},ne;if(this.hasOptions())ne=this.getCategorizedOptions().map(function(Ae){if(Ae.type==="group"){var at=Ae.data,it=Ae.options,Te=Ae.index,Tt="".concat(s.getElementId("group"),"-").concat(Te),ct="".concat(Tt,"-heading");return C.createElement(o,mn({},y,{key:Tt,data:at,options:it,Heading:l,headingProps:{id:ct,data:Ae.data},label:s.formatGroupLabel(Ae.data)}),Ae.options.map(function(pt){return Y(pt,"".concat(Te,"-").concat(pt.index))}))}else if(Ae.type==="option")return Y(Ae,"".concat(Ae.index))});else if(E){var te=T({inputValue:_});if(te===null)return null;ne=C.createElement(h,y,te)}else{var ce=J({inputValue:_});if(ce===null)return null;ne=C.createElement(m,y,ce)}var ve={minMenuHeight:N,maxMenuHeight:D,menuPlacement:F,menuPosition:V,menuShouldScrollIntoView:H},Ue=C.createElement(G3e,mn({},y,ve),function(Ae){var at=Ae.ref,it=Ae.placerProps,Te=it.placement,Tt=it.maxHeight;return C.createElement(c,mn({},y,ve,{innerRef:at,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:E,placement:Te}),C.createElement(bUe,{captureEnabled:x,onTopArrive:q,onBottomArrive:L,lockEnabled:U},function(ct){return C.createElement(u,mn({},y,{innerRef:function(vt){s.getMenuListRef(vt),ct(vt)},innerProps:{role:"listbox","aria-multiselectable":y.isMulti,id:s.getElementId("listbox")},isLoading:E,maxHeight:Tt,focusedOption:w}),ne)}))});return z||V==="fixed"?C.createElement(d,mn({},y,{appendTo:z,controlElement:this.controlRef,menuPlacement:F,menuPosition:V}),Ue):Ue}},{key:"renderFormField",value:function(){var s=this,i=this.props,o=i.delimiter,l=i.isDisabled,c=i.isMulti,u=i.name,d=i.required,h=this.state.selectValue;if(d&&!this.hasValue()&&!l)return C.createElement(xUe,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(c)if(o){var m=h.map(function(w){return s.getOptionValue(w)}).join(o);return C.createElement("input",{name:u,type:"hidden",value:m})}else{var p=h.length>0?h.map(function(w,v){return C.createElement("input",{key:"i-".concat(v),name:u,type:"hidden",value:s.getOptionValue(w)})}):C.createElement("input",{name:u,type:"hidden",value:""});return C.createElement("div",null,p)}else{var y=h[0]?this.getOptionValue(h[0]):"";return C.createElement("input",{name:u,type:"hidden",value:y})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,i=this.state,o=i.ariaSelection,l=i.focusedOption,c=i.focusedValue,u=i.isFocused,d=i.selectValue,h=this.getFocusableOptions();return C.createElement(oUe,mn({},s,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:l,focusedValue:c,isFocused:u,selectValue:d,focusableOptions:h,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),i=s.Control,o=s.IndicatorsContainer,l=s.SelectContainer,c=s.ValueContainer,u=this.props,d=u.className,h=u.id,m=u.isDisabled,p=u.menuIsOpen,y=this.state.isFocused,w=this.commonProps=this.getCommonProps();return C.createElement(l,mn({},w,{className:d,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:y}),this.renderLiveRegion(),C.createElement(i,mn({},w,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:y,menuIsOpen:p}),C.createElement(c,mn({},w,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),C.createElement(o,mn({},w,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,i){var o=i.prevProps,l=i.clearFocusValueOnUpdate,c=i.inputIsHiddenAfterUpdate,u=i.ariaSelection,d=i.isFocused,h=i.prevWasFocused,m=i.instancePrefix,p=s.options,y=s.value,w=s.menuIsOpen,v=s.inputValue,x=s.isMulti,_=h9(y),E={};if(o&&(y!==o.value||p!==o.options||w!==o.menuIsOpen||v!==o.inputValue)){var T=w?$Ue(s,_):[],N=w?C9(e1(s,_),"".concat(m,"-option")):[],D=l?FUe(i,_):null,O=VUe(i,T),F=cR(N,O);E={selectValue:_,focusedOption:O,focusedOptionId:F,focusableOptionsWithIds:N,focusedValue:D,clearFocusValueOnUpdate:!1}}var V=c!=null&&s!==o?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},z=u,U=d&&h;return d&&!U&&(z={value:KS(x,_,_[0]||null),options:_,action:"initial-input-focus"},U=!h),(u==null?void 0:u.action)==="initial-input-focus"&&(z=null),rn(rn(rn({},E),V),{},{prevProps:s,ariaSelection:z,prevWasFocused:U})}}]),n}(C.Component);Jte.defaultProps=MUe;var BUe=C.forwardRef(function(t,e){var n=c4e(t);return C.createElement(Jte,mn({ref:e},n))}),ts=BUe;const N9={control:(t,e)=>({...t,backgroundColor:"#fff",borderColor:e.isFocused?"#556ee6":"#ced4da",minHeight:38,borderRadius:6,boxShadow:e.isFocused?"0 0 0 0.15rem rgba(85, 110, 230, 0.25)":"none",transition:"all 0.15s ease-in-out","&:hover":{borderColor:e.isFocused?"#556ee6":"#bfc6d1"},direction:"rtl"}),valueContainer:t=>({...t,padding:"2px 12px",direction:"rtl"}),singleValue:t=>({...t,color:"#495057"}),placeholder:t=>({...t,color:"#74788d"}),input:t=>({...t,color:"#495057",margin:0,padding:0}),indicatorSeparator:()=>({display:"none"}),dropdownIndicator:t=>({...t,padding:6,color:"#74788d","&:hover":{color:"#495057"}}),clearIndicator:t=>({...t,cursor:"pointer",color:"#6c757d","&:hover":{color:"#f46a6a"}}),menuPortal:t=>({...t,zIndex:999999}),menu:t=>({...t,backgroundColor:"#fff",border:"1px solid #ced4da",borderRadius:6,boxShadow:"0 0.5rem 1rem rgba(0, 0, 0, 0.15)",marginTop:2,zIndex:999999}),menuList:t=>({...t,padding:0}),option:(t,e)=>({...t,padding:"6px 12px",backgroundColor:e.isSelected?"#556ee6":e.isFocused?"#f3f4f7":"#fff",color:e.isSelected?"#fff":"#495057",cursor:"pointer",textAlign:"right"}),noOptionsMessage:t=>({...t,padding:"8px 12px",fontSize:"90%",color:"#74788d",textAlign:"center"}),multiValue:t=>({...t,backgroundColor:"#eef0f4",borderRadius:4,padding:"2px 6px"}),multiValueLabel:t=>({...t,color:"#495057"}),multiValueRemove:t=>({...t,color:"#6c757d","&:hover":{backgroundColor:"#f46a6a",color:"#fff"}})},I9={customerType:"real",name:"",nationalId:"",mobile:"",phone:"",birthOrRegisterDate:null,postalCode:"",economicCode:"",address:"",description:""};function zUe({isOpen:t,onClose:e,onSelect:n}){const[r,s]=C.useState(I9),[i,o]=C.useState({}),[l,c]=C.useState(!1),u=()=>{let m={};return r.name.trim()||(m.name="  "),r.nationalId&&(r.customerType==="real"&&r.nationalId.length!==10&&(m.nationalId="   10  "),r.customerType==="company"&&r.nationalId.length!==11&&(m.nationalId="   11  ")),r.mobile&&!/^09\d{9}$/.test(r.mobile)&&(m.mobile="   "),r.postalCode&&r.postalCode.length!==10&&(m.postalCode="   10  "),o(m),Object.keys(m).length===0},d=async()=>{var m;if(u()){c(!0);try{let p={...r};if(Object.keys(p).forEach(v=>{p[v]===""&&(p[v]=null)}),(m=p.birthOrRegisterDate)!=null&&m.toDate){const v=p.birthOrRegisterDate.toDate();p.birthOrRegisterDate=Ax(v).format("YYYY-MM-DD")}const y=await os("/customers",p),w=(y==null?void 0:y.data)||(y==null?void 0:y.doc)||y||{id:Date.now(),...p};n(w),s(I9),o({}),e()}catch(p){console.error("Error saving customer:",p),alert("   ")}finally{c(!1)}}},h=(m,p)=>{s(y=>({...y,[m]:p}))};return a.jsxs(zs,{isOpen:t,toggle:e,size:"lg",children:[a.jsx(Ui,{toggle:e,children:"  "}),a.jsxs(Ni,{children:[a.jsxs(ge,{className:"mb-3",children:[a.jsxs($,{md:"4",children:[a.jsx(X,{children:" "}),a.jsxs(re,{type:"select",value:r.customerType,onChange:m=>h("customerType",m.target.value),children:[a.jsx("option",{value:"real",children:""}),a.jsx("option",{value:"company",children:""})]})]}),a.jsxs($,{md:"8",children:[a.jsx(X,{children:" /  *"}),a.jsx(re,{value:r.name,invalid:!!i.name,onChange:m=>h("name",m.target.value)}),a.jsx(Kt,{children:i.name})]})]}),a.jsxs(ge,{className:"mb-3",children:[a.jsxs($,{md:"4",children:[a.jsx(X,{children:r.customerType==="real"?" ":" "}),a.jsx(re,{value:r.nationalId,invalid:!!i.nationalId,maxLength:r.customerType==="real"?10:11,onChange:m=>h("nationalId",m.target.value)}),a.jsx(Kt,{children:i.nationalId})]}),a.jsxs($,{md:"4",children:[a.jsx(X,{children:""}),a.jsx(re,{value:r.mobile,invalid:!!i.mobile,maxLength:11,placeholder:"09123456789",onChange:m=>h("mobile",m.target.value)}),a.jsx(Kt,{children:i.mobile})]}),a.jsxs($,{md:"4",children:[a.jsx(X,{children:" "}),a.jsx(re,{value:r.phone,onChange:m=>h("phone",m.target.value)})]})]}),a.jsxs(ge,{className:"mb-3",children:[a.jsxs($,{md:"4",children:[a.jsx(X,{children:"  / "}),a.jsx(Gs,{value:r.birthOrRegisterDate,onChange:m=>h("birthOrRegisterDate",m)})]}),a.jsxs($,{md:"4",children:[a.jsx(X,{children:" "}),a.jsx(re,{value:r.postalCode,invalid:!!i.postalCode,maxLength:10,onChange:m=>h("postalCode",m.target.value)}),a.jsx(Kt,{children:i.postalCode})]}),a.jsxs($,{md:"4",children:[a.jsx(X,{children:" "}),a.jsx(re,{value:r.economicCode,onChange:m=>h("economicCode",m.target.value)})]})]}),a.jsx(ge,{className:"mb-3",children:a.jsxs($,{children:[a.jsx(X,{children:" "}),a.jsx(re,{type:"textarea",rows:3,value:r.address,onChange:m=>h("address",m.target.value)})]})}),a.jsx(ge,{children:a.jsxs($,{children:[a.jsx(X,{children:""}),a.jsx(re,{type:"textarea",rows:2,value:r.description,onChange:m=>h("description",m.target.value)})]})})]}),a.jsxs(ro,{children:[a.jsx(me,{color:"success",onClick:d,disabled:l,children:l?"  ...":" "}),a.jsx(me,{color:"secondary",onClick:e,disabled:l,children:""})]})]})}const WUe=async()=>{try{const{data:t,error:e}=await fe.from("customers").select("id, name, mobile, national_id").order("name");if(e)throw e;return t}catch(t){throw console.error("Error fetching customers:",t),t}},GUe=async()=>{try{const{data:t,error:e}=await fe.from("product_categories").select("id, name").order("name");if(e)throw e;return t}catch(t){throw console.error("Error fetching categories:",t),t}},HUe=async()=>{try{const{data:t,error:e}=await fe.from("product_units").select("id, name, symbol").eq("is_active",!0).order("id");if(e)throw e;return t}catch(t){return console.error("Error fetching units:",t),[]}},qUe=async t=>{if(!t)return[];console.log("      :",t);try{const{data:e,error:n}=await fe.from("products").select("*").eq("category_id",t).order("name");if(n)throw console.error("     :",n),n;return console.log("   :",e),e}catch(e){return console.error("     :",e),[]}},YUe=async t=>{try{const{data:e,error:n}=await fe.from("products").select("*").eq("id",t).single();if(n)throw n;return e}catch{return null}};function KUe({value:t,onChange:e}){const n=t.owner||{},r=t.deliverer||{},[s,i]=C.useState([]),[o,l]=C.useState(!1),[c,u]=C.useState(!1),d=(v,x)=>e({...t,[v]:x}),h=(v,x)=>d("owner",{...n,[v]:x}),m=(v,x)=>d("deliverer",{...r,[v]:x});C.useEffect(()=>{l(!0),WUe().then(v=>i(v||[])).finally(()=>l(!1))},[]);const p=[...s.map(v=>({value:v.id,label:`${v.name}  ${v.mobile||" "}`,full:v})),{value:"add_new",label:"   ",isNew:!0}],y=(v,x)=>{if(!x)return d(v,{});if(x.isNew)return u(!0);const _=x.full;d(v,{id:_.id,tafsiliId:_.tafsili_id,name:_.name,nationalId:_.national_id,mobile:_.mobile,birthDate:_.birth_or_register_date})},w=v=>{i(x=>[...x,v]),d("owner",{id:v.id,name:v.name,nationalId:v.national_id,mobile:v.mobile,birthDate:v.birth_or_register_date}),u(!1)};return a.jsxs(a.Fragment,{children:[a.jsxs(dt,{className:"mb-3 receipt-card",children:[a.jsxs("div",{className:"receipt-card-header",children:[a.jsxs("div",{className:"title",children:[a.jsx("i",{className:"ri-user-star-line me-2"})," "]}),a.jsx("div",{className:"subtitle",children:"  "})]}),a.jsxs(ht,{children:[a.jsxs(ge,{className:"gy-3",children:[a.jsxs($,{md:"4",children:[a.jsx(X,{className:"fw-bold",children:"  *"}),a.jsx(ts,{styles:N9,isLoading:o,isClearable:!0,placeholder:"...",value:n.id?p.find(v=>v.value===n.id):null,onChange:v=>y("owner",v),options:p})]}),a.jsxs($,{md:"4",children:[a.jsx(X,{className:"fw-bold",children:" /  *"}),a.jsx(re,{value:n.name||"",onChange:v=>h("name",v.target.value)})]}),a.jsxs($,{md:"4",children:[a.jsx(X,{className:"fw-bold",children:"  *"}),a.jsx(re,{value:n.nationalId||"",maxLength:11,onChange:v=>h("nationalId",v.target.value)})]})]}),a.jsxs(ge,{className:"gy-3 mt-1",children:[a.jsxs($,{md:"4",children:[a.jsx(X,{children:"  / "}),a.jsx(Gs,{value:n.birthDate,onChange:v=>h("birthDate",v)})]}),a.jsxs($,{md:"4",children:[a.jsx(X,{children:""}),a.jsx(re,{value:n.mobile||"",maxLength:11,onChange:v=>h("mobile",v.target.value)})]})]})]})]}),a.jsxs(dt,{className:"mb-3 receipt-card",children:[a.jsxs("div",{className:"receipt-card-header",children:[a.jsxs("div",{className:"title",children:[a.jsx("i",{className:"ri-user-received-2-line me-2"}),""]}),a.jsx("div",{className:"subtitle",children:"    "})]}),a.jsx(ht,{children:a.jsxs(ge,{className:"gy-3",children:[a.jsxs($,{md:"4",children:[a.jsx(X,{children:" "}),a.jsx(ts,{styles:N9,isLoading:o,isClearable:!0,placeholder:"...",value:r.id?p.find(v=>v.value===r.id):null,onChange:v=>y("deliverer",v),options:p})]}),a.jsxs($,{md:"4",children:[a.jsx(X,{children:" / "}),a.jsx(re,{value:r.name||"",onChange:v=>m("name",v.target.value)})]}),a.jsxs($,{md:"4",children:[a.jsx(X,{children:" "}),a.jsx(re,{value:r.nationalId||"",maxLength:11,onChange:v=>m("nationalId",v.target.value)})]})]})})]}),a.jsx(zUe,{isOpen:c,onClose:()=>u(!1),onSelect:w})]})}const k9=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","D","S","",""].map(t=>({value:t,label:t})),Qte=({value:t,onChange:e})=>{const n=t||{middle3:"",letter:"",right2:"",left2:""},r=C.useRef(),s=C.useRef(),i=C.useRef(),o=C.useRef(),l=(d,h)=>{e({...n,[d]:h})},c=(d,h)=>{d.key==="Enter"&&(h!=null&&h.current)&&(d.preventDefault(),h.current.focus())},u={border:"none",background:"transparent",fontSize:"17px",fontWeight:"900",textAlign:"center",outline:"none",fontFamily:"Tahoma, Arial, sans-serif",padding:0,color:"#000",height:"100%"};return a.jsx("div",{style:{width:"100%",display:"flex",alignItems:"center",height:"44px",margin:0,padding:0},children:a.jsxs("div",{style:{width:"210px",height:"44px",border:"2px solid #000",borderRadius:"5px",display:"flex",background:"#fff",direction:"ltr",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",position:"relative"},children:[a.jsxs("div",{style:{width:"25px",background:"#003399",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",padding:"3px 0",color:"#fff",borderTopLeftRadius:"3px",borderBottomLeftRadius:"3px"},children:[a.jsxs("div",{style:{width:"16px",height:"11px",display:"flex",flexDirection:"column",border:"1px solid #fff"},children:[a.jsx("div",{style:{flex:1,background:"#239f40"}}),a.jsx("div",{style:{flex:1,background:"#fff"}}),a.jsx("div",{style:{flex:1,background:"#da0000"}})]}),a.jsxs("div",{style:{fontSize:"5px",fontWeight:"bold",lineHeight:"1.1",textAlign:"left"},children:[a.jsx("div",{style:{marginLeft:"1px"},children:"I.R."}),a.jsx("div",{style:{marginLeft:"1px"},children:"IRAN"})]})]}),a.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:[a.jsx("input",{ref:i,maxLength:2,value:n.right2,placeholder:"12",onChange:d=>{var m;const h=d.target.value.replace(/\D/g,"");l("right2",h),h.length===2&&((m=s.current)==null||m.focus())},onKeyDown:d=>c(d,s),style:{...u,width:"35px"}}),a.jsx("div",{style:{width:"45px",margin:"0"},children:a.jsx(ts,{ref:s,openMenuOnFocus:!0,options:k9,placeholder:"",value:k9.find(d=>d.value===n.letter)||null,onChange:d=>{var h;l("letter",d.value),(h=r.current)==null||h.focus()},menuPortalTarget:document.body,styles:{menuPortal:d=>({...d,zIndex:9999}),control:d=>({...d,border:"none",boxShadow:"none",background:"transparent",minHeight:"auto"}),valueContainer:d=>({...d,justifyContent:"center",padding:0}),indicatorsContainer:()=>({display:"none"}),singleValue:d=>({...d,fontSize:"16px",fontWeight:"bold",color:"#000"}),placeholder:d=>({...d,fontSize:"14px",textAlign:"center",color:"#ccc"}),menu:d=>({...d,width:"80px",textAlign:"center"})}})}),a.jsx("input",{ref:r,maxLength:3,value:n.middle3,placeholder:"345",onChange:d=>{var m;const h=d.target.value.replace(/\D/g,"");l("middle3",h),h.length===3&&((m=o.current)==null||m.focus())},onKeyDown:d=>c(d,o),style:{...u,width:"48px"}})]}),a.jsxs("div",{style:{width:"36px",borderLeft:"2px solid #000",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[a.jsx("div",{style:{fontSize:"8px",fontWeight:"bold",marginTop:"1px"},children:""}),a.jsx("input",{ref:o,maxLength:2,value:n.left2,placeholder:"11",onChange:d=>l("left2",d.target.value.replace(/\D/g,"")),style:{...u,width:"100%",fontSize:"14px",height:"auto"}})]})]})})};function JUe({value:t,onChange:e}){const n=t.driver||{},r=t.plate||{},s=(o,l)=>e({...t,[o]:l}),i=(o,l)=>s("driver",{...n,[o]:l});return a.jsxs(dt,{className:"mb-3 receipt-card",children:[a.jsx("div",{className:"receipt-card-header",children:a.jsxs("div",{className:"title",children:[a.jsx("i",{className:"ri-user-line me-2"}),"  "]})}),a.jsxs(ht,{children:[a.jsxs(ge,{className:"mb-3",children:[a.jsxs($,{md:"4",children:[a.jsx(X,{children:"  "}),a.jsx(re,{value:n.nationalId||"",maxLength:10,onChange:o=>i("nationalId",o.target.value)})]}),a.jsxs($,{md:"4",children:[a.jsx(X,{children:"  "}),a.jsx(Gs,{value:t.birthDateDriver,onChange:o=>s("birthDateDriver",o)})]}),a.jsxs($,{md:"4",children:[a.jsx(X,{children:" "}),a.jsx(re,{value:n.name||"",onChange:o=>i("name",o.target.value)})]})]}),a.jsxs(ge,{className:"mb-3",children:[a.jsxs($,{md:"4",children:[a.jsx(X,{children:" "}),a.jsx(Gs,{value:t.dischargeDate,onChange:o=>s("dischargeDate",o)})]}),a.jsxs($,{md:"4",children:[a.jsx(X,{children:" "}),a.jsx(re,{value:n.phone||"",maxLength:11,onChange:o=>i("phone",o.target.value)})]}),a.jsxs($,{md:"4",children:[a.jsx(X,{children:" "}),a.jsx(Qte,{value:r,onChange:o=>s("plate",o)})]})]})]})]})}const QUe=({refType:t,setRefType:e,refValues:n,updateRefValue:r,barnamehDate:s,setBarnamehDate:i})=>{const o=l=>{e(l)};return a.jsxs(dt,{className:"mb-3 receipt-card",children:[a.jsxs("div",{className:"receipt-card-header",children:[a.jsxs("div",{className:"title",children:[a.jsx("i",{className:"ri-file-list-3-line me-2"}),"  "]}),a.jsx("div",{className:"subtitle",children:"        "})]}),a.jsx(ht,{children:a.jsxs(ge,{children:[a.jsxs($,{md:"3",children:[a.jsx(X,{className:"fw-bold d-block mb-2",children:"  "}),[{value:"none",label:" ",icon:"ri-close-circle-line"},{value:"barnameh",label:"",icon:"ri-truck-line"},{value:"petteh",label:" ",icon:"ri-shield-check-line"},{value:"havale",label:"  ",icon:"ri-file-transfer-line"},{value:"production",label:"  ",icon:"ri-settings-3-line"}].map(l=>a.jsxs("div",{className:"form-check mt-2",children:[a.jsx("input",{className:"form-check-input",type:"radio",name:"receiptRefTypeGroup",id:`refType-${l.value}`,value:l.value,checked:t===l.value,onChange:()=>o(l.value),onClick:()=>o(l.value)}),a.jsxs(X,{className:"form-check-label ms-2 cursor-pointer",htmlFor:`refType-${l.value}`,style:{cursor:"pointer"},children:[a.jsx("i",{className:`${l.icon} me-1`}),l.label]})]},l.value))]}),t==="barnameh"&&a.jsx($,{md:"9",children:a.jsxs(ge,{children:[a.jsxs($,{md:"4",children:[a.jsxs(X,{className:"form-label",children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(re,{value:n.barnamehNumber||"",onChange:l=>r("barnamehNumber",l.target.value)})]}),a.jsxs($,{md:"4",children:[a.jsxs(X,{className:"form-label",children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(Gs,{value:s,onChange:i})]}),a.jsxs($,{md:"4",children:[a.jsx(X,{className:"form-label",children:"  "}),a.jsx(re,{value:n.barnamehTracking||"",onChange:l=>r("barnamehTracking",l.target.value)})]})]})}),t==="petteh"&&a.jsx($,{md:"9",children:a.jsx(ge,{children:a.jsxs($,{md:"6",children:[a.jsxs(X,{className:"form-label",children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(re,{value:n.pettehNumber||"",onChange:l=>r("pettehNumber",l.target.value)})]})})}),t==="havale"&&a.jsx($,{md:"9",children:a.jsx(ge,{children:a.jsxs($,{md:"6",children:[a.jsxs(X,{className:"form-label",children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(re,{value:n.havaleNumber||"",onChange:l=>r("havaleNumber",l.target.value)})]})})}),t==="production"&&a.jsx($,{md:"9",children:a.jsx(ge,{children:a.jsxs($,{md:"6",children:[a.jsxs(X,{className:"form-label",children:["   ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(re,{value:n.productionNumber||"",onChange:l=>r("productionNumber",l.target.value)})]})})})]})})]})};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function lf(t,e){return typeof t=="function"?t(e):t}function Ol(t,e){return n=>{e.setState(r=>({...r,[t]:lf(n,r[t])}))}}function qA(t){return t instanceof Function}function ZUe(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function XUe(t,e){const n=[],r=s=>{s.forEach(i=>{n.push(i);const o=e(i);o!=null&&o.length&&r(o)})};return r(t),n}function xn(t,e,n){let r=[],s;return i=>{let o;n.key&&n.debug&&(o=Date.now());const l=t(i);if(!(l.length!==r.length||l.some((d,h)=>r[h]!==d)))return s;r=l;let u;if(n.key&&n.debug&&(u=Date.now()),s=e(...l),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const d=Math.round((Date.now()-o)*100)/100,h=Math.round((Date.now()-u)*100)/100,m=h/16,p=(y,w)=>{for(y=String(y);y.length<w;)y=" "+y;return y};console.info(`%c ${p(h,5)} /${p(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*m,120))}deg 100% 31%);`,n==null?void 0:n.key)}return s}}function En(t,e,n,r){return{debug:()=>{var s;return(s=t==null?void 0:t.debugAll)!=null?s:t[e]},key:!1,onChange:r}}function e5e(t,e,n,r){const s=()=>{var o;return(o=i.getValue())!=null?o:t.options.renderFallbackValue},i={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(r),renderValue:s,getContext:xn(()=>[t,n,e,i],(o,l,c,u)=>({table:o,column:l,row:c,cell:u,getValue:u.getValue,renderValue:u.renderValue}),En(t.options,"debugCells"))};return t._features.forEach(o=>{o.createCell==null||o.createCell(i,n,e,t)},{}),i}function t5e(t,e,n,r){var s,i;const l={...t._getDefaultColumnDef(),...e},c=l.accessorKey;let u=(s=(i=l.id)!=null?i:c?typeof String.prototype.replaceAll=="function"?c.replaceAll(".","_"):c.replace(/\./g,"_"):void 0)!=null?s:typeof l.header=="string"?l.header:void 0,d;if(l.accessorFn?d=l.accessorFn:c&&(c.includes(".")?d=m=>{let p=m;for(const w of c.split(".")){var y;p=(y=p)==null?void 0:y[w]}return p}:d=m=>m[l.accessorKey]),!u)throw new Error;let h={id:`${String(u)}`,accessorFn:d,parent:r,depth:n,columnDef:l,columns:[],getFlatColumns:xn(()=>[!0],()=>{var m;return[h,...(m=h.columns)==null?void 0:m.flatMap(p=>p.getFlatColumns())]},En(t.options,"debugColumns")),getLeafColumns:xn(()=>[t._getOrderColumnsFn()],m=>{var p;if((p=h.columns)!=null&&p.length){let y=h.columns.flatMap(w=>w.getLeafColumns());return m(y)}return[h]},En(t.options,"debugColumns"))};for(const m of t._features)m.createColumn==null||m.createColumn(h,t);return h}const Ca="debugHeaders";function O9(t,e,n){var r;let i={id:(r=n.id)!=null?r:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],l=c=>{c.subHeaders&&c.subHeaders.length&&c.subHeaders.map(l),o.push(c)};return l(i),o},getContext:()=>({table:t,header:i,column:e})};return t._features.forEach(o=>{o.createHeader==null||o.createHeader(i,t)}),i}const n5e={createTable:t=>{t.getHeaderGroups=xn(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,s)=>{var i,o;const l=(i=r==null?void 0:r.map(h=>n.find(m=>m.id===h)).filter(Boolean))!=null?i:[],c=(o=s==null?void 0:s.map(h=>n.find(m=>m.id===h)).filter(Boolean))!=null?o:[],u=n.filter(h=>!(r!=null&&r.includes(h.id))&&!(s!=null&&s.includes(h.id)));return JS(e,[...l,...u,...c],t)},En(t.options,Ca)),t.getCenterHeaderGroups=xn(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,s)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(s!=null&&s.includes(i.id))),JS(e,n,t,"center")),En(t.options,Ca)),t.getLeftHeaderGroups=xn(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,r)=>{var s;const i=(s=r==null?void 0:r.map(o=>n.find(l=>l.id===o)).filter(Boolean))!=null?s:[];return JS(e,i,t,"left")},En(t.options,Ca)),t.getRightHeaderGroups=xn(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,r)=>{var s;const i=(s=r==null?void 0:r.map(o=>n.find(l=>l.id===o)).filter(Boolean))!=null?s:[];return JS(e,i,t,"right")},En(t.options,Ca)),t.getFooterGroups=xn(()=>[t.getHeaderGroups()],e=>[...e].reverse(),En(t.options,Ca)),t.getLeftFooterGroups=xn(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),En(t.options,Ca)),t.getCenterFooterGroups=xn(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),En(t.options,Ca)),t.getRightFooterGroups=xn(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),En(t.options,Ca)),t.getFlatHeaders=xn(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),En(t.options,Ca)),t.getLeftFlatHeaders=xn(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),En(t.options,Ca)),t.getCenterFlatHeaders=xn(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),En(t.options,Ca)),t.getRightFlatHeaders=xn(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),En(t.options,Ca)),t.getCenterLeafHeaders=xn(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),En(t.options,Ca)),t.getLeftLeafHeaders=xn(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),En(t.options,Ca)),t.getRightLeafHeaders=xn(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),En(t.options,Ca)),t.getLeafHeaders=xn(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,r)=>{var s,i,o,l,c,u;return[...(s=(i=e[0])==null?void 0:i.headers)!=null?s:[],...(o=(l=n[0])==null?void 0:l.headers)!=null?o:[],...(c=(u=r[0])==null?void 0:u.headers)!=null?c:[]].map(d=>d.getLeafHeaders()).flat()},En(t.options,Ca))}};function JS(t,e,n,r){var s,i;let o=0;const l=function(m,p){p===void 0&&(p=1),o=Math.max(o,p),m.filter(y=>y.getIsVisible()).forEach(y=>{var w;(w=y.columns)!=null&&w.length&&l(y.columns,p+1)},0)};l(t);let c=[];const u=(m,p)=>{const y={depth:p,id:[r,`${p}`].filter(Boolean).join("_"),headers:[]},w=[];m.forEach(v=>{const x=[...w].reverse()[0],_=v.column.depth===y.depth;let E,T=!1;if(_&&v.column.parent?E=v.column.parent:(E=v.column,T=!0),x&&(x==null?void 0:x.column)===E)x.subHeaders.push(v);else{const N=O9(n,E,{id:[r,p,E.id,v==null?void 0:v.id].filter(Boolean).join("_"),isPlaceholder:T,placeholderId:T?`${w.filter(D=>D.column===E).length}`:void 0,depth:p,index:w.length});N.subHeaders.push(v),w.push(N)}y.headers.push(v),v.headerGroup=y}),c.push(y),p>0&&u(w,p-1)},d=e.map((m,p)=>O9(n,m,{depth:o,index:p}));u(d,o-1),c.reverse();const h=m=>m.filter(y=>y.column.getIsVisible()).map(y=>{let w=0,v=0,x=[0];y.subHeaders&&y.subHeaders.length?(x=[],h(y.subHeaders).forEach(E=>{let{colSpan:T,rowSpan:N}=E;w+=T,x.push(N)})):w=1;const _=Math.min(...x);return v=v+_,y.colSpan=w,y.rowSpan=v,{colSpan:w,rowSpan:v}});return h((s=(i=c[0])==null?void 0:i.headers)!=null?s:[]),c}const a4=(t,e,n,r,s,i,o)=>{let l={id:e,index:r,original:n,depth:s,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(l._valuesCache.hasOwnProperty(c))return l._valuesCache[c];const u=t.getColumn(c);if(u!=null&&u.accessorFn)return l._valuesCache[c]=u.accessorFn(l.original,r),l._valuesCache[c]},getUniqueValues:c=>{if(l._uniqueValuesCache.hasOwnProperty(c))return l._uniqueValuesCache[c];const u=t.getColumn(c);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(l._uniqueValuesCache[c]=u.columnDef.getUniqueValues(l.original,r),l._uniqueValuesCache[c]):(l._uniqueValuesCache[c]=[l.getValue(c)],l._uniqueValuesCache[c])},renderValue:c=>{var u;return(u=l.getValue(c))!=null?u:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>XUe(l.subRows,c=>c.subRows),getParentRow:()=>l.parentId?t.getRow(l.parentId,!0):void 0,getParentRows:()=>{let c=[],u=l;for(;;){const d=u.getParentRow();if(!d)break;c.push(d),u=d}return c.reverse()},getAllCells:xn(()=>[t.getAllLeafColumns()],c=>c.map(u=>e5e(t,l,u,u.id)),En(t.options,"debugRows")),_getAllCellsByColumnId:xn(()=>[l.getAllCells()],c=>c.reduce((u,d)=>(u[d.column.id]=d,u),{}),En(t.options,"debugRows"))};for(let c=0;c<t._features.length;c++){const u=t._features[c];u==null||u.createRow==null||u.createRow(l,t)}return l},r5e={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},Zte=(t,e,n)=>{var r,s;const i=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((s=t.getValue(e))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(i))};Zte.autoRemove=t=>Xc(t);const Xte=(t,e,n)=>{var r;return!!(!((r=t.getValue(e))==null||(r=r.toString())==null)&&r.includes(n))};Xte.autoRemove=t=>Xc(t);const ene=(t,e,n)=>{var r;return((r=t.getValue(e))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};ene.autoRemove=t=>Xc(t);const tne=(t,e,n)=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(n)};tne.autoRemove=t=>Xc(t);const nne=(t,e,n)=>!n.some(r=>{var s;return!((s=t.getValue(e))!=null&&s.includes(r))});nne.autoRemove=t=>Xc(t)||!(t!=null&&t.length);const rne=(t,e,n)=>n.some(r=>{var s;return(s=t.getValue(e))==null?void 0:s.includes(r)});rne.autoRemove=t=>Xc(t)||!(t!=null&&t.length);const sne=(t,e,n)=>t.getValue(e)===n;sne.autoRemove=t=>Xc(t);const ine=(t,e,n)=>t.getValue(e)==n;ine.autoRemove=t=>Xc(t);const o4=(t,e,n)=>{let[r,s]=n;const i=t.getValue(e);return i>=r&&i<=s};o4.resolveFilterValue=t=>{let[e,n]=t,r=typeof e!="number"?parseFloat(e):e,s=typeof n!="number"?parseFloat(n):n,i=e===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(s)?1/0:s;if(i>o){const l=i;i=o,o=l}return[i,o]};o4.autoRemove=t=>Xc(t)||Xc(t[0])&&Xc(t[1]);const kd={includesString:Zte,includesStringSensitive:Xte,equalsString:ene,arrIncludes:tne,arrIncludesAll:nne,arrIncludesSome:rne,equals:sne,weakEquals:ine,inNumberRange:o4};function Xc(t){return t==null||t===""}const s5e={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:Ol("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(t.id);return typeof r=="string"?kd.includesString:typeof r=="number"?kd.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?kd.equals:Array.isArray(r)?kd.arrIncludes:kd.weakEquals},t.getFilterFn=()=>{var n,r;return qA(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(r=e.options.filterFns)==null?void 0:r[t.columnDef.filterFn])!=null?n:kd[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,r,s;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((r=e.options.enableColumnFilters)!=null?r:!0)&&((s=e.options.enableFilters)!=null?s:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(r=>r.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,r;return(n=(r=e.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(r=>{const s=t.getFilterFn(),i=r==null?void 0:r.find(d=>d.id===t.id),o=lf(n,i?i.value:void 0);if(R9(s,o,t)){var l;return(l=r==null?void 0:r.filter(d=>d.id!==t.id))!=null?l:[]}const c={id:t.id,value:o};if(i){var u;return(u=r==null?void 0:r.map(d=>d.id===t.id?c:d))!=null?u:[]}return r!=null&&r.length?[...r,c]:[c]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),r=s=>{var i;return(i=lf(e,s))==null?void 0:i.filter(o=>{const l=n.find(c=>c.id===o.id);if(l){const c=l.getFilterFn();if(R9(c,o.value,l))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(r)},t.resetColumnFilters=e=>{var n,r;t.setColumnFilters(e?[]:(n=(r=t.initialState)==null?void 0:r.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function R9(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const i5e=(t,e,n)=>n.reduce((r,s)=>{const i=s.getValue(t);return r+(typeof i=="number"?i:0)},0),a5e=(t,e,n)=>{let r;return n.forEach(s=>{const i=s.getValue(t);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},o5e=(t,e,n)=>{let r;return n.forEach(s=>{const i=s.getValue(t);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},l5e=(t,e,n)=>{let r,s;return n.forEach(i=>{const o=i.getValue(t);o!=null&&(r===void 0?o>=o&&(r=s=o):(r>o&&(r=o),s<o&&(s=o)))}),[r,s]},c5e=(t,e)=>{let n=0,r=0;if(e.forEach(s=>{let i=s.getValue(t);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},u5e=(t,e)=>{if(!e.length)return;const n=e.map(i=>i.getValue(t));if(!ZUe(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),s=n.sort((i,o)=>i-o);return n.length%2!==0?s[r]:(s[r-1]+s[r])/2},d5e=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),h5e=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,f5e=(t,e)=>e.length,uR={sum:i5e,min:a5e,max:o5e,extent:l5e,mean:c5e,median:u5e,unique:d5e,uniqueCount:h5e,count:f5e},m5e={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:Ol("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(r=>r!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,r;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((r=e.options.enableGrouping)!=null?r:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(t.id);if(typeof r=="number")return uR.sum;if(Object.prototype.toString.call(r)==="[object Date]")return uR.extent},t.getAggregationFn=()=>{var n,r;if(!t)throw new Error;return qA(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(r=e.options.aggregationFns)==null?void 0:r[t.columnDef.aggregationFn])!=null?n:uR[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,r;t.setGrouping(e?[]:(n=(r=t.initialState)==null?void 0:r.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const r=e.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(t._groupingValuesCache[n]=r.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,r)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var s;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function p5e(t,e,n){if(!(e!=null&&e.length)||!n)return t;const r=t.filter(i=>!e.includes(i.id));return n==="remove"?r:[...e.map(i=>t.find(o=>o.id===i)).filter(Boolean),...r]}const g5e={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:Ol("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=xn(n=>[Aw(e,n)],n=>n.findIndex(r=>r.id===t.id),En(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var r;return((r=Aw(e,n)[0])==null?void 0:r.id)===t.id},t.getIsLastColumn=n=>{var r;const s=Aw(e,n);return((r=s[s.length-1])==null?void 0:r.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=xn(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,r)=>s=>{let i=[];if(!(e!=null&&e.length))i=s;else{const o=[...e],l=[...s];for(;l.length&&o.length;){const c=o.shift(),u=l.findIndex(d=>d.id===c);u>-1&&i.push(l.splice(u,1)[0])}i=[...i,...l]}return p5e(i,n,r)},En(t.options,"debugTable"))}},dR=()=>({left:[],right:[]}),y5e={getInitialState:t=>({columnPinning:dR(),...t}),getDefaultOptions:t=>({onColumnPinningChange:Ol("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const r=t.getLeafColumns().map(s=>s.id).filter(Boolean);e.setColumnPinning(s=>{var i,o;if(n==="right"){var l,c;return{left:((l=s==null?void 0:s.left)!=null?l:[]).filter(h=>!(r!=null&&r.includes(h))),right:[...((c=s==null?void 0:s.right)!=null?c:[]).filter(h=>!(r!=null&&r.includes(h))),...r]}}if(n==="left"){var u,d;return{left:[...((u=s==null?void 0:s.left)!=null?u:[]).filter(h=>!(r!=null&&r.includes(h))),...r],right:((d=s==null?void 0:s.right)!=null?d:[]).filter(h=>!(r!=null&&r.includes(h)))}}return{left:((i=s==null?void 0:s.left)!=null?i:[]).filter(h=>!(r!=null&&r.includes(h))),right:((o=s==null?void 0:s.right)!=null?o:[]).filter(h=>!(r!=null&&r.includes(h)))}})},t.getCanPin=()=>t.getLeafColumns().some(r=>{var s,i,o;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((i=(o=e.options.enableColumnPinning)!=null?o:e.options.enablePinning)!=null?i:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(l=>l.id),{left:r,right:s}=e.getState().columnPinning,i=n.some(l=>r==null?void 0:r.includes(l)),o=n.some(l=>s==null?void 0:s.includes(l));return i?"left":o?"right":!1},t.getPinnedIndex=()=>{var n,r;const s=t.getIsPinned();return s?(n=(r=e.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=xn(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,s)=>{const i=[...r??[],...s??[]];return n.filter(o=>!i.includes(o.column.id))},En(e.options,"debugRows")),t.getLeftVisibleCells=xn(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),En(e.options,"debugRows")),t.getRightVisibleCells=xn(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),En(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,r;return t.setColumnPinning(e?dR():(n=(r=t.initialState)==null?void 0:r.columnPinning)!=null?n:dR())},t.getIsSomeColumnsPinned=e=>{var n;const r=t.getState().columnPinning;if(!e){var s,i;return!!((s=r.left)!=null&&s.length||(i=r.right)!=null&&i.length)}return!!((n=r[e])!=null&&n.length)},t.getLeftLeafColumns=xn(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(r=>e.find(s=>s.id===r)).filter(Boolean),En(t.options,"debugColumns")),t.getRightLeafColumns=xn(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(r=>e.find(s=>s.id===r)).filter(Boolean),En(t.options,"debugColumns")),t.getCenterLeafColumns=xn(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r)=>{const s=[...n??[],...r??[]];return e.filter(i=>!s.includes(i.id))},En(t.options,"debugColumns"))}};function v5e(t){return t||(typeof document<"u"?document:null)}const QS={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},hR=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),b5e={getDefaultColumnDef:()=>QS,getInitialState:t=>({columnSizing:{},columnSizingInfo:hR(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Ol("columnSizing",t),onColumnSizingInfoChange:Ol("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,r,s;const i=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:QS.minSize,(r=i??t.columnDef.size)!=null?r:QS.size),(s=t.columnDef.maxSize)!=null?s:QS.maxSize)},t.getStart=xn(n=>[n,Aw(e,n),e.getState().columnSizing],(n,r)=>r.slice(0,t.getIndex(n)).reduce((s,i)=>s+i.getSize(),0),En(e.options,"debugColumns")),t.getAfter=xn(n=>[n,Aw(e,n),e.getState().columnSizing],(n,r)=>r.slice(t.getIndex(n)+1).reduce((s,i)=>s+i.getSize(),0),En(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:r,...s}=n;return s})},t.getCanResize=()=>{var n,r;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((r=e.options.enableColumnResizing)!=null?r:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var i;n+=(i=s.column.getSize())!=null?i:0}};return r(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const r=e.getColumn(t.column.id),s=r==null?void 0:r.getCanResize();return i=>{if(!r||!s||(i.persist==null||i.persist(),fR(i)&&i.touches&&i.touches.length>1))return;const o=t.getSize(),l=t?t.getLeafHeaders().map(x=>[x.column.id,x.column.getSize()]):[[r.id,r.getSize()]],c=fR(i)?Math.round(i.touches[0].clientX):i.clientX,u={},d=(x,_)=>{typeof _=="number"&&(e.setColumnSizingInfo(E=>{var T,N;const D=e.options.columnResizeDirection==="rtl"?-1:1,O=(_-((T=E==null?void 0:E.startOffset)!=null?T:0))*D,F=Math.max(O/((N=E==null?void 0:E.startSize)!=null?N:0),-.999999);return E.columnSizingStart.forEach(V=>{let[z,U]=V;u[z]=Math.round(Math.max(U+U*F,0)*100)/100}),{...E,deltaOffset:O,deltaPercentage:F}}),(e.options.columnResizeMode==="onChange"||x==="end")&&e.setColumnSizing(E=>({...E,...u})))},h=x=>d("move",x),m=x=>{d("end",x),e.setColumnSizingInfo(_=>({..._,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},p=v5e(n),y={moveHandler:x=>h(x.clientX),upHandler:x=>{p==null||p.removeEventListener("mousemove",y.moveHandler),p==null||p.removeEventListener("mouseup",y.upHandler),m(x.clientX)}},w={moveHandler:x=>(x.cancelable&&(x.preventDefault(),x.stopPropagation()),h(x.touches[0].clientX),!1),upHandler:x=>{var _;p==null||p.removeEventListener("touchmove",w.moveHandler),p==null||p.removeEventListener("touchend",w.upHandler),x.cancelable&&(x.preventDefault(),x.stopPropagation()),m((_=x.touches[0])==null?void 0:_.clientX)}},v=_5e()?{passive:!1}:!1;fR(i)?(p==null||p.addEventListener("touchmove",w.moveHandler,v),p==null||p.addEventListener("touchend",w.upHandler,v)):(p==null||p.addEventListener("mousemove",y.moveHandler,v),p==null||p.addEventListener("mouseup",y.upHandler,v)),e.setColumnSizingInfo(x=>({...x,startOffset:c,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:r.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?hR():(n=t.initialState.columnSizingInfo)!=null?n:hR())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?e:0}}};let ZS=null;function _5e(){if(typeof ZS=="boolean")return ZS;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return ZS=t,ZS}function fR(t){return t.type==="touchstart"}const w5e={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:Ol("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(r=>({...r,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,r;const s=t.columns;return(n=s.length?s.some(i=>i.getIsVisible()):(r=e.getState().columnVisibility)==null?void 0:r[t.id])!=null?n:!0},t.getCanHide=()=>{var n,r;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((r=e.options.enableHiding)!=null?r:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=xn(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),En(e.options,"debugRows")),t.getVisibleCells=xn(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,r,s)=>[...n,...r,...s],En(e.options,"debugRows"))},createTable:t=>{const e=(n,r)=>xn(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),En(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var r;t.setColumnVisibility(n?{}:(r=t.initialState.columnVisibility)!=null?r:{})},t.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((s,i)=>({...s,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;t.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Aw(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const x5e={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},E5e={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:Ol("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const r=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,r,s,i;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=e.options.enableGlobalFilter)!=null?r:!0)&&((s=e.options.enableFilters)!=null?s:!0)&&((i=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?i:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>kd.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:r}=t.options;return qA(r)?r:r==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[r])!=null?e:kd[r]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},S5e={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:Ol("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var r,s;if(!e){t._queue(()=>{e=!0});return}if((r=(s=t.options.autoResetAll)!=null?s:t.options.autoResetExpanded)!=null?r:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=r=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(r),t.toggleAllRowsExpanded=r=>{r??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=r=>{var s,i;t.setExpanded(r?{}:(s=(i=t.initialState)==null?void 0:i.expanded)!=null?s:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const r=t.getState().expanded;return r===!0||Object.values(r).some(Boolean)},t.getIsAllRowsExpanded=()=>{const r=t.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||t.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},t.getExpandedDepth=()=>{let r=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(i=>{const o=i.split(".");r=Math.max(r,o.length)}),r},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(r=>{var s;const i=r===!0?!0:!!(r!=null&&r[t.id]);let o={};if(r===!0?Object.keys(e.getRowModel().rowsById).forEach(l=>{o[l]=!0}):o=r,n=(s=n)!=null?s:!i,!i&&n)return{...o,[t.id]:!0};if(i&&!n){const{[t.id]:l,...c}=o;return c}return r})},t.getIsExpanded=()=>{var n;const r=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:r===!0||r!=null&&r[t.id])},t.getCanExpand=()=>{var n,r,s;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((r=e.options.enableExpanding)!=null?r:!0)&&!!((s=t.subRows)!=null&&s.length)},t.getIsAllParentsExpanded=()=>{let n=!0,r=t;for(;n&&r.parentId;)r=e.getRow(r.parentId,!0),n=r.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},yL=0,vL=10,mR=()=>({pageIndex:yL,pageSize:vL}),j5e={getInitialState:t=>({...t,pagination:{...mR(),...t==null?void 0:t.pagination}}),getDefaultOptions:t=>({onPaginationChange:Ol("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var r,s;if(!e){t._queue(()=>{e=!0});return}if((r=(s=t.options.autoResetAll)!=null?s:t.options.autoResetPageIndex)!=null?r:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=r=>{const s=i=>lf(r,i);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(s)},t.resetPagination=r=>{var s;t.setPagination(r?mR():(s=t.initialState.pagination)!=null?s:mR())},t.setPageIndex=r=>{t.setPagination(s=>{let i=lf(r,s.pageIndex);const o=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return i=Math.max(0,Math.min(i,o)),{...s,pageIndex:i}})},t.resetPageIndex=r=>{var s,i;t.setPageIndex(r?yL:(s=(i=t.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?s:yL)},t.resetPageSize=r=>{var s,i;t.setPageSize(r?vL:(s=(i=t.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?s:vL)},t.setPageSize=r=>{t.setPagination(s=>{const i=Math.max(1,lf(r,s.pageSize)),o=s.pageSize*s.pageIndex,l=Math.floor(o/i);return{...s,pageIndex:l,pageSize:i}})},t.setPageCount=r=>t.setPagination(s=>{var i;let o=lf(r,(i=t.options.pageCount)!=null?i:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...s,pageCount:o}}),t.getPageOptions=xn(()=>[t.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((i,o)=>o)),s},En(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:r}=t.getState().pagination,s=t.getPageCount();return s===-1?!0:s===0?!1:r<s-1},t.previousPage=()=>t.setPageIndex(r=>r-1),t.nextPage=()=>t.setPageIndex(r=>r+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var r;return(r=t.options.pageCount)!=null?r:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var r;return(r=t.options.rowCount)!=null?r:t.getPrePaginationRowModel().rows.length}}},pR=()=>({top:[],bottom:[]}),T5e={getInitialState:t=>({rowPinning:pR(),...t}),getDefaultOptions:t=>({onRowPinningChange:Ol("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,r,s)=>{const i=r?t.getLeafRows().map(c=>{let{id:u}=c;return u}):[],o=s?t.getParentRows().map(c=>{let{id:u}=c;return u}):[],l=new Set([...o,t.id,...i]);e.setRowPinning(c=>{var u,d;if(n==="bottom"){var h,m;return{top:((h=c==null?void 0:c.top)!=null?h:[]).filter(w=>!(l!=null&&l.has(w))),bottom:[...((m=c==null?void 0:c.bottom)!=null?m:[]).filter(w=>!(l!=null&&l.has(w))),...Array.from(l)]}}if(n==="top"){var p,y;return{top:[...((p=c==null?void 0:c.top)!=null?p:[]).filter(w=>!(l!=null&&l.has(w))),...Array.from(l)],bottom:((y=c==null?void 0:c.bottom)!=null?y:[]).filter(w=>!(l!=null&&l.has(w)))}}return{top:((u=c==null?void 0:c.top)!=null?u:[]).filter(w=>!(l!=null&&l.has(w))),bottom:((d=c==null?void 0:c.bottom)!=null?d:[]).filter(w=>!(l!=null&&l.has(w)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:s}=e.options;return typeof r=="function"?r(t):(n=r??s)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:r,bottom:s}=e.getState().rowPinning,i=n.some(l=>r==null?void 0:r.includes(l)),o=n.some(l=>s==null?void 0:s.includes(l));return i?"top":o?"bottom":!1},t.getPinnedIndex=()=>{var n,r;const s=t.getIsPinned();if(!s)return-1;const i=(n=s==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(o=>{let{id:l}=o;return l});return(r=i==null?void 0:i.indexOf(t.id))!=null?r:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,r;return t.setRowPinning(e?pR():(n=(r=t.initialState)==null?void 0:r.rowPinning)!=null?n:pR())},t.getIsSomeRowsPinned=e=>{var n;const r=t.getState().rowPinning;if(!e){var s,i;return!!((s=r.top)!=null&&s.length||(i=r.bottom)!=null&&i.length)}return!!((n=r[e])!=null&&n.length)},t._getPinnedRows=(e,n,r)=>{var s;return((s=t.options.keepPinnedRows)==null||s?(n??[]).map(o=>{const l=t.getRow(o,!0);return l.getIsAllParentsExpanded()?l:null}):(n??[]).map(o=>e.find(l=>l.id===o))).filter(Boolean).map(o=>({...o,position:r}))},t.getTopRows=xn(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),En(t.options,"debugRows")),t.getBottomRows=xn(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),En(t.options,"debugRows")),t.getCenterRows=xn(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,r)=>{const s=new Set([...n??[],...r??[]]);return e.filter(i=>!s.has(i.id))},En(t.options,"debugRows"))}},C5e={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:Ol("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const r={...n},s=t.getPreGroupedRowModel().flatRows;return e?s.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):s.forEach(i=>{delete r[i.id]}),r})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const r=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),s={...n};return t.getRowModel().rows.forEach(i=>{bL(s,i.id,r,!0,t)}),s}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=xn(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?gR(t,n):{rows:[],flatRows:[],rowsById:{}},En(t.options,"debugTable")),t.getFilteredSelectedRowModel=xn(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?gR(t,n):{rows:[],flatRows:[],rowsById:{}},En(t.options,"debugTable")),t.getGroupedSelectedRowModel=xn(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?gR(t,n):{rows:[],flatRows:[],rowsById:{}},En(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let r=!!(e.length&&Object.keys(n).length);return r&&e.some(s=>s.getCanSelect()&&!n[s.id])&&(r=!1),r},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=t.getState();let r=!!e.length;return r&&e.some(s=>!n[s.id])&&(r=!1),r},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,r)=>{const s=t.getIsSelected();e.setRowSelection(i=>{var o;if(n=typeof n<"u"?n:!s,t.getCanSelect()&&s===n)return i;const l={...i};return bL(l,t.id,n,(o=r==null?void 0:r.selectChildren)!=null?o:!0,e),l})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return l4(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return _L(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return _L(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return r=>{var s;n&&t.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},bL=(t,e,n,r,s)=>{var i;const o=s.getRow(e,!0);n?(o.getCanMultiSelect()||Object.keys(t).forEach(l=>delete t[l]),o.getCanSelect()&&(t[e]=!0)):delete t[e],r&&(i=o.subRows)!=null&&i.length&&o.getCanSelectSubRows()&&o.subRows.forEach(l=>bL(t,l.id,n,r,s))};function gR(t,e){const n=t.getState().rowSelection,r=[],s={},i=function(o,l){return o.map(c=>{var u;const d=l4(c,n);if(d&&(r.push(c),s[c.id]=c),(u=c.subRows)!=null&&u.length&&(c={...c,subRows:i(c.subRows)}),d)return c}).filter(Boolean)};return{rows:i(e.rows),flatRows:r,rowsById:s}}function l4(t,e){var n;return(n=e[t.id])!=null?n:!1}function _L(t,e,n){var r;if(!((r=t.subRows)!=null&&r.length))return!1;let s=!0,i=!1;return t.subRows.forEach(o=>{if(!(i&&!s)&&(o.getCanSelect()&&(l4(o,e)?i=!0:s=!1),o.subRows&&o.subRows.length)){const l=_L(o,e);l==="all"?i=!0:(l==="some"&&(i=!0),s=!1)}}),s?"all":i?"some":!1}const wL=/([0-9]+)/gm,A5e=(t,e,n)=>ane(Df(t.getValue(n)).toLowerCase(),Df(e.getValue(n)).toLowerCase()),N5e=(t,e,n)=>ane(Df(t.getValue(n)),Df(e.getValue(n))),I5e=(t,e,n)=>c4(Df(t.getValue(n)).toLowerCase(),Df(e.getValue(n)).toLowerCase()),k5e=(t,e,n)=>c4(Df(t.getValue(n)),Df(e.getValue(n))),O5e=(t,e,n)=>{const r=t.getValue(n),s=e.getValue(n);return r>s?1:r<s?-1:0},R5e=(t,e,n)=>c4(t.getValue(n),e.getValue(n));function c4(t,e){return t===e?0:t>e?1:-1}function Df(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function ane(t,e){const n=t.split(wL).filter(Boolean),r=e.split(wL).filter(Boolean);for(;n.length&&r.length;){const s=n.shift(),i=r.shift(),o=parseInt(s,10),l=parseInt(i,10),c=[o,l].sort();if(isNaN(c[0])){if(s>i)return 1;if(i>s)return-1;continue}if(isNaN(c[1]))return isNaN(o)?-1:1;if(o>l)return 1;if(l>o)return-1}return n.length-r.length}const A_={alphanumeric:A5e,alphanumericCaseSensitive:N5e,text:I5e,textCaseSensitive:k5e,datetime:O5e,basic:R5e},P5e={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:Ol("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of n){const i=s==null?void 0:s.getValue(t.id);if(Object.prototype.toString.call(i)==="[object Date]")return A_.datetime;if(typeof i=="string"&&(r=!0,i.split(wL).length>1))return A_.alphanumeric}return r?A_.text:A_.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(t.id))=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,r;if(!t)throw new Error;return qA(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(r=e.options.sortingFns)==null?void 0:r[t.columnDef.sortingFn])!=null?n:A_[t.columnDef.sortingFn]},t.toggleSorting=(n,r)=>{const s=t.getNextSortingOrder(),i=typeof n<"u"&&n!==null;e.setSorting(o=>{const l=o==null?void 0:o.find(p=>p.id===t.id),c=o==null?void 0:o.findIndex(p=>p.id===t.id);let u=[],d,h=i?n:s==="desc";if(o!=null&&o.length&&t.getCanMultiSort()&&r?l?d="toggle":d="add":o!=null&&o.length&&c!==o.length-1?d="replace":l?d="toggle":d="replace",d==="toggle"&&(i||s||(d="remove")),d==="add"){var m;u=[...o,{id:t.id,desc:h}],u.splice(0,u.length-((m=e.options.maxMultiSortColCount)!=null?m:Number.MAX_SAFE_INTEGER))}else d==="toggle"?u=o.map(p=>p.id===t.id?{...p,desc:h}:p):d==="remove"?u=o.filter(p=>p.id!==t.id):u=[{id:t.id,desc:h}];return u})},t.getFirstSortDir=()=>{var n,r;return((n=(r=t.columnDef.sortDescFirst)!=null?r:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var r,s;const i=t.getFirstSortDir(),o=t.getIsSorted();return o?o!==i&&((r=e.options.enableSortingRemoval)==null||r)&&(!(n&&(s=e.options.enableMultiRemove)!=null)||s)?!1:o==="desc"?"asc":"desc":i},t.getCanSort=()=>{var n,r;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((r=e.options.enableSorting)!=null?r:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,r;return(n=(r=t.columnDef.enableMultiSort)!=null?r:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const r=(n=e.getState().sorting)==null?void 0:n.find(s=>s.id===t.id);return r?r.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,r;return(n=(r=e.getState().sorting)==null?void 0:r.findIndex(s=>s.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return r=>{n&&(r.persist==null||r.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(r):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,r;t.setSorting(e?[]:(n=(r=t.initialState)==null?void 0:r.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},D5e=[n5e,w5e,g5e,y5e,r5e,s5e,x5e,E5e,P5e,m5e,S5e,j5e,T5e,C5e,b5e];function L5e(t){var e,n;const r=[...D5e,...(e=t._features)!=null?e:[]];let s={_features:r};const i=s._features.reduce((m,p)=>Object.assign(m,p.getDefaultOptions==null?void 0:p.getDefaultOptions(s)),{}),o=m=>s.options.mergeOptions?s.options.mergeOptions(i,m):{...i,...m};let c={...{},...(n=t.initialState)!=null?n:{}};s._features.forEach(m=>{var p;c=(p=m.getInitialState==null?void 0:m.getInitialState(c))!=null?p:c});const u=[];let d=!1;const h={_features:r,options:{...i,...t},initialState:c,_queue:m=>{u.push(m),d||(d=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();d=!1}).catch(p=>setTimeout(()=>{throw p})))},reset:()=>{s.setState(s.initialState)},setOptions:m=>{const p=lf(m,s.options);s.options=o(p)},getState:()=>s.options.state,setState:m=>{s.options.onStateChange==null||s.options.onStateChange(m)},_getRowId:(m,p,y)=>{var w;return(w=s.options.getRowId==null?void 0:s.options.getRowId(m,p,y))!=null?w:`${y?[y.id,p].join("."):p}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(m,p)=>{let y=(p?s.getPrePaginationRowModel():s.getRowModel()).rowsById[m];if(!y&&(y=s.getCoreRowModel().rowsById[m],!y))throw new Error;return y},_getDefaultColumnDef:xn(()=>[s.options.defaultColumn],m=>{var p;return m=(p=m)!=null?p:{},{header:y=>{const w=y.header.column.columnDef;return w.accessorKey?w.accessorKey:w.accessorFn?w.id:null},cell:y=>{var w,v;return(w=(v=y.renderValue())==null||v.toString==null?void 0:v.toString())!=null?w:null},...s._features.reduce((y,w)=>Object.assign(y,w.getDefaultColumnDef==null?void 0:w.getDefaultColumnDef()),{}),...m}},En(t,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:xn(()=>[s._getColumnDefs()],m=>{const p=function(y,w,v){return v===void 0&&(v=0),y.map(x=>{const _=t5e(s,x,v,w),E=x;return _.columns=E.columns?p(E.columns,_,v+1):[],_})};return p(m)},En(t,"debugColumns")),getAllFlatColumns:xn(()=>[s.getAllColumns()],m=>m.flatMap(p=>p.getFlatColumns()),En(t,"debugColumns")),_getAllFlatColumnsById:xn(()=>[s.getAllFlatColumns()],m=>m.reduce((p,y)=>(p[y.id]=y,p),{}),En(t,"debugColumns")),getAllLeafColumns:xn(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(m,p)=>{let y=m.flatMap(w=>w.getLeafColumns());return p(y)},En(t,"debugColumns")),getColumn:m=>s._getAllFlatColumnsById()[m]};Object.assign(s,h);for(let m=0;m<s._features.length;m++){const p=s._features[m];p==null||p.createTable==null||p.createTable(s)}return s}function M5e(){return t=>xn(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(s,i,o){i===void 0&&(i=0);const l=[];for(let u=0;u<s.length;u++){const d=a4(t,t._getRowId(s[u],u,o),s[u],u,i,void 0,o==null?void 0:o.id);if(n.flatRows.push(d),n.rowsById[d.id]=d,l.push(d),t.options.getSubRows){var c;d.originalSubRows=t.options.getSubRows(s[u],u),(c=d.originalSubRows)!=null&&c.length&&(d.subRows=r(d.originalSubRows,i+1,d))}}return l};return n.rows=r(e),n},En(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function $5e(t,e,n){return n.options.filterFromLeafRows?F5e(t,e,n):V5e(t,e,n)}function F5e(t,e,n){var r;const s=[],i={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(c,u){u===void 0&&(u=0);const d=[];for(let m=0;m<c.length;m++){var h;let p=c[m];const y=a4(n,p.id,p.original,p.index,p.depth,void 0,p.parentId);if(y.columnFilters=p.columnFilters,(h=p.subRows)!=null&&h.length&&u<o){if(y.subRows=l(p.subRows,u+1),p=y,e(p)&&!y.subRows.length){d.push(p),i[p.id]=p,s.push(p);continue}if(e(p)||y.subRows.length){d.push(p),i[p.id]=p,s.push(p);continue}}else p=y,e(p)&&(d.push(p),i[p.id]=p,s.push(p))}return d};return{rows:l(t),flatRows:s,rowsById:i}}function V5e(t,e,n){var r;const s=[],i={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(c,u){u===void 0&&(u=0);const d=[];for(let m=0;m<c.length;m++){let p=c[m];if(e(p)){var h;if((h=p.subRows)!=null&&h.length&&u<o){const w=a4(n,p.id,p.original,p.index,p.depth,void 0,p.parentId);w.subRows=l(p.subRows,u+1),p=w}d.push(p),s.push(p),i[p.id]=p}}return d};return{rows:l(t),flatRows:s,rowsById:i}}function U5e(){return t=>xn(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter],(e,n,r)=>{if(!e.rows.length||!(n!=null&&n.length)&&!r){for(let m=0;m<e.flatRows.length;m++)e.flatRows[m].columnFilters={},e.flatRows[m].columnFiltersMeta={};return e}const s=[],i=[];(n??[]).forEach(m=>{var p;const y=t.getColumn(m.id);if(!y)return;const w=y.getFilterFn();w&&s.push({id:m.id,filterFn:w,resolvedValue:(p=w.resolveFilterValue==null?void 0:w.resolveFilterValue(m.value))!=null?p:m.value})});const o=(n??[]).map(m=>m.id),l=t.getGlobalFilterFn(),c=t.getAllLeafColumns().filter(m=>m.getCanGlobalFilter());r&&l&&c.length&&(o.push("__global__"),c.forEach(m=>{var p;i.push({id:m.id,filterFn:l,resolvedValue:(p=l.resolveFilterValue==null?void 0:l.resolveFilterValue(r))!=null?p:r})}));let u,d;for(let m=0;m<e.flatRows.length;m++){const p=e.flatRows[m];if(p.columnFilters={},s.length)for(let y=0;y<s.length;y++){u=s[y];const w=u.id;p.columnFilters[w]=u.filterFn(p,w,u.resolvedValue,v=>{p.columnFiltersMeta[w]=v})}if(i.length){for(let y=0;y<i.length;y++){d=i[y];const w=d.id;if(d.filterFn(p,w,d.resolvedValue,v=>{p.columnFiltersMeta[w]=v})){p.columnFilters.__global__=!0;break}}p.columnFilters.__global__!==!0&&(p.columnFilters.__global__=!1)}}const h=m=>{for(let p=0;p<o.length;p++)if(m.columnFilters[o[p]]===!1)return!1;return!0};return $5e(e.rows,h,t)},En(t.options,"debugTable","getFilteredRowModel",()=>t._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function B5e(t,e){return t?z5e(t)?C.createElement(t,e):t:null}function z5e(t){return W5e(t)||typeof t=="function"||G5e(t)}function W5e(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function G5e(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function H5e(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=C.useState(()=>({current:L5e(e)})),[r,s]=C.useState(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...t,state:{...r,...t.state},onStateChange:o=>{s(o),t.onStateChange==null||t.onStateChange(o)}})),n.current}const yR={basic:{label:" ",icon:"ri-file-list-line",columns:["id","rowCode","categoryId","productId","nationalProductId","productDescription","productionType"]},quantity:{label:"  ",icon:"ri-scales-line",columns:["count","unit","fullWeight","emptyWeight","netWeight","originWeight","weightDiff"]},dimensions:{label:"",icon:"ri-ruler-line",columns:["length","width","thickness"]},status:{label:" ",icon:"ri-checkbox-circle-line",columns:["isUsed","isDefective"]},tracking:{label:"  ",icon:"ri-barcode-line",columns:["heatNumber","bundleNo","brand","orderNo","parentRow"]},location:{label:"  ",icon:"ri-map-pin-line",columns:["depoLocation","descriptionNotes"]}},q5e=({isOpen:t,toggle:e,columnVisibility:n={},columnLabels:r={},onToggleColumn:s})=>{const[i,o]=C.useState(""),l=C.useMemo(()=>{if(!i.trim())return yR;const h=i.toLowerCase();let m={};return Object.entries(yR).forEach(([p,y])=>{const w=y.columns.filter(v=>{const x=r[v];return x&&x.toLowerCase().includes(h)});w.length>0&&(m[p]={...y,columns:w})}),m},[i,r]),c=h=>{const m={...n,[h]:!n[h]};s(m)},u=h=>{const m={...n};Object.values(yR).forEach(p=>{p.columns.forEach(y=>m[y]=h)}),s(m)},d=Object.values(n).filter(Boolean).length;return a.jsxs(zs,{isOpen:t,toggle:e,size:"lg",scrollable:!0,centered:!0,children:[a.jsx(Ui,{toggle:e,className:"bg-light",children:a.jsxs("div",{className:"d-flex align-items-center gap-2",children:[a.jsx("i",{className:"ri-layout-column-line"}),"  ",a.jsxs(ut,{color:"primary",pill:!0,className:"ms-2",children:[d,"  "]})]})}),a.jsxs(Ni,{className:"p-4 bg-soft-light",children:[a.jsxs(ge,{className:"mb-4 align-items-center g-2",children:[a.jsx($,{md:6,children:a.jsxs("div",{className:"position-relative",children:[a.jsx(re,{placeholder:"  ...",value:i,onChange:h=>o(h.target.value),style:{paddingRight:"35px"},className:"bg-white border-light"}),a.jsx("i",{className:"ri-search-line position-absolute top-50 translate-middle-y text-muted",style:{right:"10px"}})]})}),a.jsxs($,{md:6,className:"text-end",children:[a.jsx(me,{size:"sm",color:"soft-success",className:"me-2",onClick:()=>u(!0),children:" "}),a.jsx(me,{size:"sm",color:"soft-danger",onClick:()=>u(!1),children:" "})]})]}),a.jsx("div",{className:"d-flex flex-column gap-3",children:Object.entries(l).map(([h,m])=>{const p=m.columns.filter(w=>n[w]).length,y=m.columns.length>0&&p===m.columns.length;return a.jsxs("div",{className:"card border shadow-sm mb-0",children:[a.jsxs("div",{className:"card-header bg-white py-2 px-3 d-flex justify-content-between align-items-center",children:[a.jsxs("div",{className:"d-flex align-items-center gap-2",children:[a.jsx("div",{className:"avatar-xs d-flex align-items-center justify-content-center bg-soft-primary rounded text-primary",children:a.jsx("i",{className:m.icon})}),a.jsx("span",{className:"fw-bold text-dark font-size-13",children:m.label})]}),a.jsx("div",{className:"form-check form-switch m-0",title:"/  ",children:a.jsx("input",{className:"form-check-input cursor-pointer",type:"checkbox",checked:y,onChange:w=>{const v={...n};m.columns.forEach(x=>v[x]=w.target.checked),s(v)}})})]}),a.jsx("div",{className:"card-body p-3",children:a.jsx(ge,{children:m.columns.map(w=>{const v=r[w];if(!v)return null;const x=!!n[w];return a.jsx($,{xs:"6",sm:"4",md:"3",className:"mb-2",children:a.jsxs("div",{className:`d-flex align-items-center p-2 rounded border cursor-pointer transition-all ${x?"border-primary bg-soft-primary":"border-light bg-white"}`,onClick:()=>c(w),children:[a.jsx("input",{type:"checkbox",className:"form-check-input m-0 me-2 cursor-pointer",checked:x,onChange:()=>c(w),onClick:_=>_.stopPropagation()}),a.jsx("span",{className:`font-size-12 ${x?"text-primary fw-bold":"text-muted"}`,children:v})]})},w)})})})]},h)})})]}),a.jsx(ro,{children:a.jsx(me,{color:"primary",onClick:e,className:"w-100",children:"   "})})]})},Ia={primary:"#556ee6",success:"#34c38f",info:"#50a5f1",dark:"#343a40",muted:"#74788d",light:"#f8f9fa",white:"#ffffff",border:"#eff2f7"},Br={card:{boxShadow:"0 0.75rem 1.5rem rgba(18,38,63,.03)",borderRadius:"0.25rem",border:"none",marginBottom:"1.5rem"},cardHeader:{background:"linear-gradient(135deg, #556ee6 0%, #4458cb 100%)",borderRadius:"0.25rem 0.25rem 0 0",padding:"1rem 1.25rem",borderBottom:"none"},cardTitle:{color:"#fff",fontSize:"1.1rem",fontWeight:500,margin:0},tableWrapper:{overflowX:"auto",borderRadius:"0 0 0.25rem 0.25rem"},table:{marginBottom:0,fontSize:"0.8125rem",tableLayout:"fixed"},tableHead:{backgroundColor:Ia.light,borderBottom:`2px solid ${Ia.border}`},th:{fontWeight:600,color:Ia.dark,padding:"0.75rem 0.5rem",whiteSpace:"nowrap",fontSize:"0.8125rem",borderTop:"none",verticalAlign:"middle",textAlign:"center",position:"relative",userSelect:"none"},td:{padding:"0.5rem",verticalAlign:"middle",borderColor:Ia.border},input:{fontSize:"0.8125rem",padding:"0.35rem 0.5rem",borderRadius:"0.2rem",border:`1px solid ${Ia.border}`,textAlign:"center",transition:"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out",width:"100%"},select:{fontSize:"0.8125rem",padding:"0.35rem 0.5rem",borderRadius:"0.2rem",border:`1px solid ${Ia.border}`,backgroundColor:Ia.white,cursor:"pointer",width:"100%"},badge:{fontSize:"0.75rem",padding:"0.35em 0.65em",fontWeight:500},summaryRow:{backgroundColor:Ia.light,fontWeight:600},actionBtn:{padding:"0.25rem 0.5rem",fontSize:"0.75rem",lineHeight:1.5,borderRadius:"0.2rem"},statsCard:{background:"linear-gradient(135deg, #fff 0%, #f8f9fa 100%)",borderRadius:"0.25rem",padding:"0.75rem 1rem",border:`1px solid ${Ia.border}`,display:"flex",alignItems:"center",gap:"0.75rem"},statsIcon:{width:"40px",height:"40px",borderRadius:"0.25rem",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.25rem"},resizeHandle:{position:"absolute",left:0,top:0,height:"100%",width:"5px",cursor:"col-resize",backgroundColor:"transparent",zIndex:1}},Fr={actions:"",id:"#",national_product_id:" ",category_id:" ",product_id:" ",product_description:" ",production_type:" ",count:"",unit_id:"",weights_full:" ",weights_empty:" ",weights_net:" ",weights_origin:" ",weights_diff:" ",is_used:"",is_defective:"",dim_length:"",dim_width:"",dim_thickness:"",heat_number:"Heat No",bundle_no:" ",brand:"",order_no:" ",parent_row:" ",depo_location:" ",description_notes:"",row_code:" "},P9=Object.keys(Fr),D9={actions:60,id:50,national_product_id:140,category_id:180,product_id:200,product_description:150,count:90},L9=Object.fromEntries(Object.keys(Fr).map(t=>[t,!0])),one="receiptTable_settings_v9",Y5e=()=>{try{const t=localStorage.getItem(one);if(t)return{columnOrder:P9,columnWidths:D9,columnVisibility:L9,...JSON.parse(t)}}catch{}return{columnOrder:P9,columnWidths:D9,columnVisibility:L9}},K5e=t=>localStorage.setItem(one,JSON.stringify(t)),sa=C.memo(({getValue:t,row:e,column:n,updateData:r,type:s="text"})=>{const i=t(),[o,l]=C.useState(i);C.useEffect(()=>l(i),[i]);const c=()=>r(e.index,n.id,o);return s==="number"?a.jsx("input",{type:"text",className:"form-control form-control-sm",value:o??"",onChange:u=>l(u.target.value.replace(/[^0-9.]/g,"")),onBlur:c,style:Br.input}):a.jsx("input",{type:"text",className:"form-control form-control-sm",value:o??"",onChange:u=>l(u.target.value),onBlur:c,style:Br.input})}),J5e=({columnId:t,columnWidth:e,onResize:n,children:r})=>{const s=C.useRef(0),i=C.useRef(0),o=l=>{l.preventDefault(),l.stopPropagation(),s.current=l.clientX,i.current=e;const c=d=>n(t,Math.max(50,i.current+(s.current-d.clientX))),u=()=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",u)};document.addEventListener("mousemove",c),document.addEventListener("mouseup",u)};return a.jsxs("th",{style:{...Br.th,width:e,minWidth:e,maxWidth:e},children:[a.jsx("div",{style:Br.resizeHandle,onMouseDown:o}),r]})},vR=({icon:t,label:e,value:n,color:r,bgColor:s})=>a.jsxs("div",{style:Br.statsCard,children:[a.jsx("div",{style:{...Br.statsIcon,backgroundColor:s,color:r},children:a.jsx("i",{className:t})}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"0.75rem",color:Ia.muted},children:e}),a.jsx("div",{style:{fontSize:"1rem",fontWeight:600,color:Ia.dark},children:n})]})]}),Q5e=({onItemsChange:t,ownerId:e,initialItems:n})=>{const[r,s]=C.useState([]),[i,o]=C.useState([]),[l,c]=C.useState([]),[u,d]=C.useState({}),[h,m]=C.useState(!1),p=C.useRef(!1),[y,w]=C.useState(Y5e),{columnOrder:v,columnWidths:x,columnVisibility:_}=y;C.useEffect(()=>K5e(y),[y]);const E=C.useMemo(()=>r.reduce((H,J)=>({count:H.count+Number(J.count||0),weights_net:H.weights_net+Number(J.weights_net||0),items:H.items+1}),{count:0,weights_net:0,items:0}),[r]);C.useEffect(()=>{GUe().then(H=>o(H||[])).catch(console.error),HUe().then(H=>c(H||[])).catch(console.error)},[]);const T=C.useCallback(async H=>{if(!(!H||u[H]))try{const J=await qUe(H);d(q=>({...q,[H]:J}))}catch(J){console.error(J)}},[u]);C.useEffect(()=>{if(!(n!=null&&n.length)||p.current)return;(async()=>{const J=await Promise.all(n.map(async(q,L)=>{let Y=q.category_id;if(!Y&&q.product_id)try{const ne=await YUe(q.product_id);Y=ne==null?void 0:ne.category_id}catch{}return{id:L+1,category_id:Y,product_id:q.product_id,national_product_id:q.national_product_id,product_description:q.product_description,count:q.count,unit_id:q.unit_id||q.unit||1,production_type:q.production_type||"domestic",is_used:!!q.is_used,is_defective:!!q.is_defective,weights_full:q.weights_full,weights_empty:q.weights_empty,weights_net:q.weights_net,weights_origin:q.weights_origin,weights_diff:q.weights_diff,dim_length:q.dim_length,dim_width:q.dim_width,dim_thickness:q.dim_thickness,heat_number:q.heat_number,bundle_no:q.bundle_no,brand:q.brand,order_no:q.order_no,parentRow:q.parent_row,depoLocation:q.depo_location,descriptionNotes:q.description_notes,rowCode:q.row_code}}));p.current=!0,s(J),[...new Set(J.map(q=>q.category_id).filter(Boolean))].forEach(T)})()},[n,T]),C.useEffect(()=>{if(!t)return;const H=r.map(J=>({owner_id:e,category_id:Number(J.category_id)||null,product_id:Number(J.product_id)||null,national_product_id:J.national_product_id,product_description:J.product_description,count:Number(J.count||0),unit_id:Number(J.unit_id)||1,production_type:J.production_type||"domestic",is_used:!!J.is_used,is_defective:!!J.is_defective,weights_full:Number(J.weights_full||0),weights_empty:Number(J.weights_empty||0),weights_net:Number(J.weights_net||0),weights_origin:Number(J.weights_origin||0),weights_diff:Number(J.weights_diff||0),dim_length:Number(J.dim_length||0),dim_width:Number(J.dim_width||0),dim_thickness:Number(J.dim_thickness||0),heat_number:J.heat_number,bundle_no:J.bundle_no,brand:J.brand,order_no:J.order_no,parent_row:J.parentRow||"",depo_location:J.depoLocation||"",description_notes:J.descriptionNotes||"",row_code:J.rowCode||""}));t(H)},[r,e,t]);const N=()=>s(H=>[...H,{id:H.length+1,unit_id:1,production_type:"domestic",is_used:!1,is_defective:!1}]),D=H=>s(J=>J.filter(q=>q.id!==H)),O=C.useCallback((H,J,q)=>{s(L=>L.map((Y,ne)=>{if(ne!==H)return Y;const te={...Y,[J]:q};if(["weights_full","weights_empty","weights_origin"].includes(J)){const ce=Number(J==="weights_full"?q:Y.weights_full)||0,ve=Number(J==="weights_empty"?q:Y.weights_empty)||0,Ue=Number(J==="weights_origin"?q:Y.weights_origin)||0;te.weights_net=ce-ve,te.weights_diff=te.weights_net-Ue}return J==="category_id"&&(te.product_id="",T(q)),te}))},[T]),F=C.useCallback((H,J)=>w(q=>({...q,columnWidths:{...q.columnWidths,[H]:J}})),[]),V=C.useMemo(()=>({actions:{id:"actions",header:()=>a.jsx(me,{color:"success",size:"sm",onClick:N,style:Br.actionBtn,children:a.jsx("i",{className:"bx bx-plus"})}),cell:({row:H})=>a.jsx(me,{color:"danger",size:"sm",outline:!0,onClick:()=>D(H.original.id),style:Br.actionBtn,children:a.jsx("i",{className:"bx bx-trash-alt"})})},id:{id:"id",header:"#",accessorKey:"id",cell:({getValue:H})=>a.jsx(ut,{color:"light",style:{...Br.badge,color:Ia.primary},children:H()})},category_id:{id:"category_id",header:Fr.category_id,cell:({row:H})=>a.jsxs("select",{className:"form-select form-select-sm",value:H.original.category_id||"",onChange:J=>O(H.index,"category_id",J.target.value),style:Br.select,children:[a.jsx("option",{value:"",children:"..."}),i.map(J=>a.jsx("option",{value:J.id,children:J.name},J.id))]})},product_id:{id:"product_id",header:Fr.product_id,cell:({row:H})=>a.jsxs("select",{className:"form-select form-select-sm",value:H.original.product_id||"",onChange:J=>O(H.index,"product_id",J.target.value),style:Br.select,children:[a.jsx("option",{value:"",children:"..."}),(u[H.original.category_id]||[]).map(J=>a.jsx("option",{value:J.id,children:J.name},J.id))]})},count:{id:"count",header:Fr.count,accessorKey:"count",cell:H=>a.jsx(sa,{...H,updateData:O,type:"number"})},unit_id:{id:"unit_id",header:Fr.unit_id,cell:({row:H})=>a.jsx("select",{className:"form-select form-select-sm",value:H.original.unit_id||"",onChange:J=>O(H.index,"unit_id",J.target.value),style:Br.select,children:l.map(J=>a.jsx("option",{value:J.id,children:J.name},J.id))})},weights_full:{id:"weights_full",header:Fr.weights_full,accessorKey:"weights_full",cell:H=>a.jsx(sa,{...H,updateData:O,type:"number"})},weights_empty:{id:"weights_empty",header:Fr.weights_empty,accessorKey:"weights_empty",cell:H=>a.jsx(sa,{...H,updateData:O,type:"number"})},weights_net:{id:"weights_net",header:Fr.weights_net,cell:({row:H})=>a.jsx(ut,{color:"primary",style:Br.badge,children:Number(H.original.weights_net||0).toLocaleString()})},weights_origin:{id:"weights_origin",header:Fr.weights_origin,accessorKey:"weights_origin",cell:H=>a.jsx(sa,{...H,updateData:O,type:"number"})},weights_diff:{id:"weights_diff",header:Fr.weights_diff,cell:({row:H})=>{const J=Number(H.original.weights_diff||0);return a.jsxs(ut,{color:J>0?"success":J<0?"danger":"secondary",style:Br.badge,children:[J>0?"+":"",J.toLocaleString()]})}},national_product_id:{id:"national_product_id",header:Fr.national_product_id,accessorKey:"national_product_id",cell:H=>a.jsx(sa,{...H,updateData:O})},product_description:{id:"product_description",header:Fr.product_description,accessorKey:"product_description",cell:H=>a.jsx(sa,{...H,updateData:O})},production_type:{id:"production_type",header:Fr.production_type,cell:({row:H})=>a.jsxs("select",{className:"form-select form-select-sm",value:H.original.production_type,onChange:J=>O(H.index,"production_type",J.target.value),style:Br.select,children:[a.jsx("option",{value:"domestic",children:""}),a.jsx("option",{value:"import",children:""})]})},is_used:{id:"is_used",header:Fr.is_used,cell:({row:H})=>a.jsx("input",{type:"checkbox",className:"form-check-input",checked:H.original.is_used,onChange:J=>O(H.index,"is_used",J.target.checked)})},is_defective:{id:"is_defective",header:Fr.is_defective,cell:({row:H})=>a.jsx("input",{type:"checkbox",className:"form-check-input",checked:H.original.is_defective,onChange:J=>O(H.index,"is_defective",J.target.checked)})},dim_length:{id:"dim_length",header:Fr.dim_length,accessorKey:"dim_length",cell:H=>a.jsx(sa,{...H,updateData:O,type:"number"})},dim_width:{id:"dim_width",header:Fr.dim_width,accessorKey:"dim_width",cell:H=>a.jsx(sa,{...H,updateData:O,type:"number"})},dim_thickness:{id:"dim_thickness",header:Fr.dim_thickness,accessorKey:"dim_thickness",cell:H=>a.jsx(sa,{...H,updateData:O,type:"number"})},heat_number:{id:"heat_number",header:Fr.heat_number,accessorKey:"heat_number",cell:H=>a.jsx(sa,{...H,updateData:O})},bundle_no:{id:"bundle_no",header:Fr.bundle_no,accessorKey:"bundle_no",cell:H=>a.jsx(sa,{...H,updateData:O})},brand:{id:"brand",header:Fr.brand,accessorKey:"brand",cell:H=>a.jsx(sa,{...H,updateData:O})},order_no:{id:"order_no",header:Fr.order_no,accessorKey:"order_no",cell:H=>a.jsx(sa,{...H,updateData:O})},parent_row:{id:"parent_row",header:Fr.parent_row,accessorKey:"parentRow",cell:H=>a.jsx(sa,{...H,updateData:O})},depo_location:{id:"depo_location",header:Fr.depo_location,accessorKey:"depoLocation",cell:H=>a.jsx(sa,{...H,updateData:O})},row_code:{id:"row_code",header:Fr.row_code,accessorKey:"rowCode",cell:H=>a.jsx(sa,{...H,updateData:O})},description_notes:{id:"description_notes",header:Fr.description_notes,accessorKey:"descriptionNotes",cell:H=>a.jsx(sa,{...H,updateData:O})}}),[i,u,l,O]),z=C.useMemo(()=>v.filter(H=>_[H]!==!1).map(H=>V[H]).filter(Boolean),[v,_,V]),U=H5e({data:r,columns:z,getCoreRowModel:M5e(),getFilteredRowModel:U5e()});return a.jsxs(dt,{style:Br.card,children:[a.jsx(oF,{style:Br.cardHeader,children:a.jsxs(ge,{className:"align-items-center",children:[a.jsx($,{children:a.jsxs("h5",{style:Br.cardTitle,children:[a.jsx("i",{className:"bx bx-package me-2"})," "]})}),a.jsx($,{xs:"auto",children:a.jsxs(me,{color:"light",size:"sm",onClick:()=>m(!0),style:{...Br.actionBtn,backgroundColor:"rgba(255,255,255,0.2)",border:"none",color:"#fff"},children:[a.jsx("i",{className:"bx bx-cog me-1"}),""]})})]})}),a.jsxs(ht,{style:{padding:"1.25rem"},children:[a.jsxs(ge,{className:"mb-3 g-3",children:[a.jsx($,{md:4,children:a.jsx(vR,{icon:"bx bx-box",label:" ",value:E.items,color:Ia.primary,bgColor:"rgba(85, 110, 230, 0.1)"})}),a.jsx($,{md:4,children:a.jsx(vR,{icon:"bx bx-layer",label:" ",value:E.count.toLocaleString(),color:Ia.success,bgColor:"rgba(52, 195, 143, 0.1)"})}),a.jsx($,{md:4,children:a.jsx(vR,{icon:"bx bx-cylinder",label:"  ",value:`${E.weights_net.toLocaleString()} `,color:Ia.info,bgColor:"rgba(80, 165, 241, 0.1)"})})]}),a.jsx("div",{style:Br.tableWrapper,children:a.jsxs(Mn,{hover:!0,responsive:!0,className:"table-nowrap mb-0 align-middle",style:Br.table,children:[a.jsx("thead",{style:Br.tableHead,children:a.jsx("tr",{children:z.map(H=>a.jsx(J5e,{columnId:H.id,columnWidth:x[H.id]||100,onResize:F,children:H.header},H.id))})}),a.jsx("tbody",{children:U.getRowModel().rows.map(H=>a.jsx("tr",{children:H.getVisibleCells().map(J=>a.jsx("td",{style:{...Br.td,width:x[J.column.id]||100,minWidth:x[J.column.id],maxWidth:x[J.column.id]},children:B5e(J.column.columnDef.cell,J.getContext())},J.id))},H.id))}),r.length>0&&a.jsx("tfoot",{children:a.jsxs("tr",{style:Br.summaryRow,children:[a.jsx("td",{colSpan:3,style:Br.td,children:a.jsx("strong",{children:" "})}),a.jsx("td",{style:{...Br.td,textAlign:"center"},children:a.jsx(ut,{color:"success",children:E.count.toLocaleString()})}),a.jsx("td",{colSpan:4,style:{...Br.td,textAlign:"center"},children:a.jsx(ut,{color:"primary",children:E.weights_net.toLocaleString()})})]})})]})}),r.length===0&&a.jsxs("div",{className:"text-center py-5",style:{color:Ia.muted},children:[a.jsx("i",{className:"bx bx-inbox",style:{fontSize:"3rem",opacity:.5}}),a.jsx("p",{className:"mt-2 mb-0",children:"  "}),a.jsxs(me,{color:"primary",size:"sm",onClick:N,className:"mt-3",children:[a.jsx("i",{className:"bx bx-plus me-1"})," "]})]})]}),a.jsx(q5e,{isOpen:h,toggle:()=>m(!1),columnVisibility:_,columnLabels:Fr,onToggleColumn:H=>w(J=>({...J,columnVisibility:H}))})]})},Z5e=["","","","","","",""," ","","","","  ","","","",""," "," ",""];function X5e({value:t,onChange:e,sourceOptions:n=[]}){const{paymentBy:r,info:s={}}=t,i=(l,c)=>{e({...t,[l]:c})},o=(l,c)=>{e({...t,info:{...s,[l]:c}})};return a.jsxs(dt,{className:"mb-3 receipt-card",style:{marginTop:25},children:[a.jsxs("div",{className:"receipt-card-header",children:[a.jsxs("div",{className:"title",children:[a.jsx("i",{className:"ri-exchange-dollar-line me-2"})," "]}),a.jsx("div",{className:"subtitle",children:"    "})]}),a.jsxs(ht,{style:{paddingTop:25},children:[a.jsx(ge,{className:"mb-4",children:a.jsxs($,{md:"4",children:[a.jsx(X,{className:"form-label fw-bold",children:"  *"}),a.jsxs(re,{type:"select",className:"form-select",value:r,onChange:l=>i("paymentBy",l.target.value),children:[a.jsx("option",{value:"customer",children:" (   )"}),a.jsx("option",{value:"warehouse",children:" "})]})]})}),r==="warehouse"&&a.jsxs("div",{className:"bg-light p-3 rounded border",children:[a.jsx("h6",{className:"text-primary mb-3 fw-bold",children:"  (  )"}),a.jsxs(ge,{className:"gy-3 mb-4",children:[a.jsxs($,{md:"6",children:[a.jsx(X,{className:"form-label fw-bold",children:"  () *"}),a.jsx(re,{type:"text",className:"fw-bold text-center",placeholder:"0",value:s.amount?Number(s.amount).toLocaleString():"",onChange:l=>o("amount",l.target.value.replace(/[^0-9]/g,""))})]}),a.jsxs($,{md:"6",children:[a.jsx(X,{className:"form-label fw-bold",children:"  (/) *"}),a.jsx(ts,{options:n,value:s.selectedSource,onChange:l=>o("selectedSource",l),placeholder:"       ...",menuPlacement:"auto"}),a.jsx("div",{className:"form-text text-muted font-size-11",children:"           ."})]})]}),a.jsx("hr",{}),a.jsx("h6",{className:"text-secondary mb-3 font-size-13",children:"  ()"}),a.jsxs(ge,{className:"gy-3",children:[a.jsxs($,{md:"3",children:[a.jsx(X,{className:"form-label",children:"  / "}),a.jsx(re,{placeholder:"  ",value:s.trackingCode||"",onChange:l=>o("trackingCode",l.target.value)})]}),a.jsxs($,{md:"3",children:[a.jsx(X,{className:"form-label",children:"  "}),a.jsx(re,{placeholder:" /",value:s.cardNumber||"",onChange:l=>o("cardNumber",l.target.value)})]}),a.jsxs($,{md:"3",children:[a.jsx(X,{className:"form-label",children:" "}),a.jsxs(re,{type:"select",value:s.bankName||"",onChange:l=>o("bankName",l.target.value),children:[a.jsx("option",{value:"",children:" "}),Z5e.map(l=>a.jsx("option",{value:l,children:l},l))]})]}),a.jsxs($,{md:"3",children:[a.jsx(X,{className:"form-label",children:"  "}),a.jsx(re,{placeholder:" ",value:s.ownerName||"",onChange:l=>o("ownerName",l.target.value)})]})]})]})]})]})}const xL=t=>t?String(t).replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","):"",eBe=t=>t?String(t).replace(/\D/g,""):"",tBe=({value:t,onChange:e,inputRef:n,onKeyDown:r})=>{const[s,i]=C.useState("");C.useEffect(()=>i(xL(t)),[t]);const o=l=>{const c=eBe(l.target.value);i(xL(c)),e(c)};return a.jsx(re,{type:"text",dir:"ltr",value:s,onChange:o,onKeyDown:r,innerRef:n,inputMode:"numeric",placeholder:"0",className:"cost-input"})},M9=["loadCost","unloadCost","warehouseCost","tax","returnFreight","loadingFee","miscCost"];function nBe({value:t,onChange:e}){const n=t||{},r=C.useRef({}),[s,i]=C.useState(!1),o=(u,d)=>{const h=d===""?"":Number(d)||0;e({...n,[u]:h}),u==="miscCost"&&i(h>0)},l=(u,d)=>{var m,p;if(u.key!=="Enter")return;u.preventDefault();const h=M9[M9.indexOf(d)+1];h?(m=r.current[h])==null||m.focus():n.miscCost>0&&((p=r.current.miscDescription)==null||p.focus())};C.useEffect(()=>i(Number(n.miscCost)>0),[n.miscCost]);const c=["loadCost","unloadCost","warehouseCost","tax","returnFreight","loadingFee","miscCost"].reduce((u,d)=>u+(Number(n[d])||0),0);return a.jsxs("div",{className:"receipt-costs-card",children:[a.jsxs("div",{className:"costs-header",children:[a.jsxs("div",{className:"costs-title",children:[a.jsx("i",{className:"ri-calculator-line"}),a.jsx("span",{children:""})]}),a.jsxs("div",{className:"costs-total",children:[a.jsx("span",{className:"total-label",children:" :"}),a.jsx("span",{className:"total-value",children:xL(c)}),a.jsx("span",{className:"total-unit",children:""})]})]}),a.jsx(ge,{className:"costs-grid",children:[{key:"loadCost",label:"",icon:"ri-truck-line",className:"loading"},{key:"unloadCost",label:"",icon:"ri-download-2-line",className:"unloading"},{key:"warehouseCost",label:"",icon:"ri-home-gear-line",className:"warehouse"},{key:"tax",label:"",icon:"ri-percent-line",className:"tax"},{key:"returnFreight",label:"",icon:"ri-arrow-go-back-line",className:"return-freight"},{key:"loadingFee",label:"",icon:"ri-stack-line",className:"loading-fee"},{key:"miscCost",label:"",icon:"ri-more-2-line",className:"misc"}].map(({key:u,label:d,icon:h,className:m})=>a.jsx($,{lg:"3",md:"4",sm:"6",children:a.jsxs("div",{className:"cost-item",children:[a.jsx("div",{className:`cost-icon ${m}`,children:a.jsx("i",{className:h})}),a.jsxs("div",{className:"cost-content",children:[a.jsx(X,{className:"cost-label",children:d}),a.jsxs("div",{className:"cost-input-wrapper",children:[a.jsx(tBe,{value:n[u],onChange:p=>o(u,p),onKeyDown:p=>l(p,u),inputRef:p=>r.current[u]=p}),a.jsx("span",{className:"cost-unit",children:""})]})]})]})},u))}),a.jsx(x0,{isOpen:s,children:a.jsx("div",{className:"misc-description-wrapper",children:a.jsxs("div",{className:"misc-description-item",children:[a.jsx("div",{className:"misc-desc-icon",children:a.jsx("i",{className:"ri-file-text-line"})}),a.jsxs("div",{className:"misc-desc-content",children:[a.jsx(X,{className:"misc-desc-label",children:"  "}),a.jsx(re,{type:"textarea",rows:2,placeholder:"    ...",value:n.miscDescription||"",onChange:u=>e({...n,miscDescription:u.target.value}),innerRef:u=>r.current.miscDescription=u})]})]})})})]})}const rBe=({form:t,receiptNo:e})=>{var l,c,u,d,h,m,p,y,w,v,x,_,E;if(!t||!t.items)return null;const n=(T,N="")=>T?`${T} ${N}`:"-",r=T=>T||T===0?Number(T).toLocaleString("fa-IR"):"-",s=T=>T?new Date(T).toLocaleDateString("fa-IR"):"-",i=C.useMemo(()=>{const T=t.items;return{nationalProductId:T.some(N=>N.national_product_id),productDescription:T.some(N=>N.product_description),productionType:T.some(N=>N.production_type),isUsed:T.some(N=>N.is_used),isDefective:T.some(N=>N.is_defective),weights:T.some(N=>N.weights_full||N.weights_empty||N.weights_origin||N.weights_diff),dims:T.some(N=>N.dim_length||N.dim_width||N.dim_thickness),heat:T.some(N=>N.heat_number),bundle:T.some(N=>N.bundle_no),brand:T.some(N=>N.brand),orderNo:T.some(N=>N.order_no),depoLocation:T.some(N=>N.depo_location),descriptionNotes:T.some(N=>N.description_notes),rowCode:T.some(N=>N.row_code)}},[t.items]),o=t.items.reduce((T,N)=>({count:T.count+(Number(N.count)||0),net:T.net+(Number(N.weights_net)||0)}),{count:0,net:0});return a.jsx("div",{id:"print-section",children:a.jsxs("div",{className:"print-wrapper",children:[a.jsxs("div",{className:"header-row",children:[a.jsxs("div",{className:"header-left",children:[a.jsx("div",{className:"barcode"}),a.jsxs("div",{children:[a.jsx("strong",{children:" :"})," ",new Date().toLocaleDateString("fa-IR")]}),a.jsxs("div",{children:[a.jsx("strong",{children:" :"})," ",e]}),a.jsxs("div",{children:[a.jsx("strong",{children:":"})," ",t.isFinal?"":""]})]}),a.jsxs("div",{className:"header-center",children:[a.jsx("h1",{className:"brand-title",children:"anbardaran"}),a.jsx("div",{style:{fontSize:"10pt",marginTop:"5px"},children:"  "}),a.jsx("div",{style:{fontSize:"9pt"},children:"www.anbardaranrey.ir"})]}),a.jsxs("div",{className:"header-right",children:[a.jsx("h2",{className:"doc-title",children:"   ( )"}),a.jsxs("div",{style:{marginTop:"10px"},children:[a.jsx("strong",{children:" :"})," ",s(t.docDate)]}),a.jsxs("div",{children:[a.jsx("strong",{children:" :"})," ",n(t.trackingCode)]})]})]}),a.jsxs("div",{className:"section-box",children:[a.jsx("div",{className:"section-header",children:" "}),a.jsxs("div",{className:"section-content",children:[a.jsxs("div",{className:"info-row",children:[a.jsxs("span",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:":"}),"   "]}),a.jsxs("span",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:" :"})," "]}),a.jsxs("span",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:" :"})," "]})]}),a.jsxs("div",{className:"info-row",children:[a.jsxs("span",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:":"}),"       "]}),a.jsxs("span",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:":"})," -"]})]})]})]}),a.jsxs("div",{className:"section-box",children:[a.jsx("div",{className:"section-header",children:"     "}),a.jsxs("div",{className:"section-content",children:[a.jsxs("div",{className:"info-row",style:{borderBottom:"1px dashed #ccc",paddingBottom:"5px",marginBottom:"5px"},children:[a.jsxs("span",{className:"info-item",style:{width:"45%"},children:[a.jsx("span",{className:"info-label",children:"  ():"})," ",n((l=t.owner)==null?void 0:l.name)]}),a.jsxs("span",{className:"info-item",style:{width:"45%"},children:[a.jsx("span",{className:"info-label",children:" / :"})," ",n((c=t.deliverer)==null?void 0:c.name)]})]}),a.jsxs("div",{className:"info-row",children:[a.jsxs("span",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:" :"})," ",n((d=(u=t.header)==null?void 0:u.driver)==null?void 0:d.name)]}),a.jsxs("span",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:" :"})," ",n((m=(h=t.header)==null?void 0:h.driver)==null?void 0:m.nationalId)]}),a.jsxs("span",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:":"})," ",n((y=(p=t.header)==null?void 0:p.driver)==null?void 0:y.phone)]}),a.jsxs("span",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:" :"})," ",(w=t.header)!=null&&w.plate?a.jsx("span",{dir:"ltr",style:{fontWeight:"bold"},children:`${t.header.plate.right2||"--"} | ${t.header.plate.middle3||"--"} | ${t.header.plate.left2||"--"}`}):"-"]})]}),a.jsxs("div",{className:"info-row",style:{marginTop:"5px"},children:[a.jsxs("span",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:" :"})," ",n((v=t.ref)==null?void 0:v.barnamehNumber)]}),a.jsxs("span",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:" :"})," ",n((x=t.ref)==null?void 0:x.havaleNumber)]}),a.jsxs("span",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:" :"})," ",n((_=t.ref)==null?void 0:_.pettehNumber)]}),a.jsxs("span",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:" :"})," ",n((E=t.ref)==null?void 0:E.productionNumber)]})]})]})]}),a.jsx("div",{className:"section-header",style:{border:"1px solid #444",borderBottom:"none",borderRadius:"5px 5px 0 0"},children:" "}),a.jsxs("table",{className:"custom-table",style:{borderTopLeftRadius:0,borderTopRightRadius:0},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"col-num",children:"#"}),a.jsx("th",{children:" "}),i.nationalProductId&&a.jsx("th",{children:"  "}),a.jsx("th",{children:" "}),i.brand&&a.jsx("th",{children:""}),i.productionType&&a.jsx("th",{children:" "}),(i.isUsed||i.isDefective)&&a.jsx("th",{children:""}),i.dims&&a.jsx("th",{children:" (L x W x T)"}),i.heat&&a.jsx("th",{children:"Heat No"}),i.bundle&&a.jsx("th",{children:"Bundle No"}),i.orderNo&&a.jsx("th",{children:" "}),i.rowCode&&a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),i.weights&&a.jsx("th",{children:" "}),i.weights&&a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),i.weights&&a.jsx("th",{children:" "}),i.weights&&a.jsx("th",{children:" "}),i.depoLocation&&a.jsx("th",{children:" "}),i.descriptionNotes&&a.jsx("th",{children:""})]})}),a.jsxs("tbody",{children:[t.items.map((T,N)=>a.jsxs("tr",{children:[a.jsx("td",{className:"col-num",children:N+1}),a.jsx("td",{children:n(T.productId)}),i.nationalProductId&&a.jsx("td",{children:n(T.national_product_id)}),a.jsx("td",{className:"col-desc",children:a.jsx("strong",{children:n(T.productName||T.product_description)})}),i.brand&&a.jsx("td",{children:n(T.brand)}),i.productionType&&a.jsx("td",{children:T.production_type==="import"?"":""}),(i.isUsed||i.isDefective)&&a.jsxs("td",{children:[T.is_used?" ":"",T.is_defective?"":"",!T.is_used&&!T.is_defective?"":""]}),i.dims&&a.jsxs("td",{dir:"ltr",children:[n(T.dim_length)," x ",n(T.dim_width)," x ",n(T.dim_thickness)]}),i.heat&&a.jsx("td",{children:n(T.heat_number)}),i.bundle&&a.jsx("td",{children:n(T.bundle_no)}),i.orderNo&&a.jsx("td",{children:n(T.order_no)}),i.rowCode&&a.jsx("td",{children:n(T.row_code)}),a.jsx("td",{children:r(T.count)}),a.jsx("td",{children:T.unit}),i.weights&&a.jsx("td",{children:r(T.weights_full)}),i.weights&&a.jsx("td",{children:r(T.weights_empty)}),a.jsx("td",{style:{fontWeight:"bold"},children:r(T.weights_net)}),i.weights&&a.jsx("td",{children:r(T.weights_origin)}),i.weights&&a.jsx("td",{children:r(T.weights_diff)}),i.depoLocation&&a.jsx("td",{children:n(T.depo_location)}),i.descriptionNotes&&a.jsx("td",{children:n(T.description_notes)})]},N)),a.jsxs("tr",{className:"total-final",children:[a.jsx("td",{colSpan:2+(i.nationalProductId?1:0)+1+(i.brand?1:0)+(i.productionType?1:0)+(i.isUsed||i.isDefective?1:0)+(i.dims?1:0)+(i.heat?1:0)+(i.bundle?1:0)+(i.orderNo?1:0)+(i.rowCode?1:0),children:" "}),a.jsx("td",{children:r(o.count)}),a.jsx("td",{children:"-"}),i.weights&&a.jsx("td",{children:"-"}),i.weights&&a.jsx("td",{children:"-"}),a.jsx("td",{children:r(o.net)}),i.weights&&a.jsx("td",{children:"-"}),i.weights&&a.jsx("td",{children:"-"}),i.depoLocation&&a.jsx("td",{children:"-"}),i.descriptionNotes&&a.jsx("td",{children:"-"})]})]})]}),a.jsxs("div",{className:"footer-row",children:[a.jsxs("div",{className:"footer-notes-area",children:[a.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:" / :"}),a.jsx("p",{style:{margin:0},children:n(t.misc_description)})," ",a.jsx("div",{style:{marginTop:"10px",fontSize:"8pt",color:"#666"},children:"*        (   )   ."})]}),a.jsxs("div",{className:"footer-totals-area",children:[a.jsxs("div",{className:"total-row",children:[a.jsx("span",{className:"total-label",children:"  :"}),a.jsxs("span",{className:"total-value",children:[r(o.count)," "]})]}),a.jsxs("div",{className:"total-row total-final",children:[a.jsx("span",{className:"total-label",children:"  :"}),a.jsxs("span",{className:"total-value",children:[r(o.net)," "]})]})]})]}),a.jsxs("div",{className:"signatures",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:"bold"},children:"    "}),a.jsx("div",{className:"sign-place"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:"bold"},children:"   "}),a.jsx("div",{className:"sign-place"})]})]})]})})},N_=t=>t?typeof t=="string"?t:t!=null&&t.toDate?t.toDate().toISOString():t instanceof Date?t.toISOString():null:null;function bR({mode:t="create"}){const e=as(),{id:n}=lu(),r=C.useRef(!1),[s,i]=C.useState(!1),[o,l]=C.useState(!1),[c,u]=C.useState(null),[d,h]=C.useState(null),[m,p]=C.useState(!1),[y,w]=C.useState(!1),[v,x]=C.useState([]),[_,E]=C.useState({docDate:new Date().toISOString(),trackingCode:"",owner:{id:null,tafsiliId:null,name:"",nationalId:"",mobile:"",birthDate:null},deliverer:{id:null,name:"",nationalId:""},header:{driver:{name:"",nationalId:"",phone:""},plate:{right2:"",middle3:"",letter:"",left2:""},birthDateDriver:null,dischargeDate:null},ref:{type:"none",barnamehNumber:"",barnamehDate:null,barnamehTracking:"",pettehNumber:"",havaleNumber:"",productionNumber:""},items:[],costs:{loadCost:0,unloadCost:0,warehouseCost:0,tax:0,returnFreight:0,loadingFee:0,miscCost:0,miscDescription:""},payment:{paymentBy:"customer",info:{amount:"",selectedSource:null,cardNumber:"",accountNumber:"",bankName:"",ownerName:"",trackingCode:""}}}),T=m||t==="view",N=C.useCallback(z=>{E(U=>({...U,items:z}))},[]);C.useEffect(()=>{(async()=>{try{const U=await k0(),H=await xb(),J=[{label:"",options:U.map(q=>{var L;return{value:q.id,label:`: ${q.title}`,type:"cash",tafsili_id:((L=q.accounting_tafsili)==null?void 0:L.id)||q.tafsili_id}})},{label:"",options:H.map(q=>{var L;return{value:q.id,label:`: ${q.bank_name}`,type:"bank",tafsili_id:((L=q.accounting_tafsili)==null?void 0:L.id)||q.tafsili_id}})}];x(J)}catch(U){console.error("Error loading sources:",U)}})()},[]),C.useEffect(()=>{if(t!=="edit"&&t!=="view"||!n||r.current)return;r.current=!0,(async()=>{var U,H,J;i(!0);try{const{data:q,error:L}=await fe.from("receipts").select(`
                        *,
                        owner:customers!fk_receipts_customer ( id, name, mobile, national_id ),
                        items:receipt_items!fk_items_receipt ( * )
                    `).eq("id",n).single();if(L)throw L;u(q.id),h(q.receipt_no),p(q.status==="final");let Y=null;if(q.payment_source_id){let ne="  ";if(q.payment_source_type==="cash"){const{data:te}=await fe.from("treasury_cashes").select("title").eq("id",q.payment_source_id).maybeSingle();te&&(ne=`: ${te.title}`)}else if(q.payment_source_type==="bank"){const{data:te}=await fe.from("treasury_banks").select("bank_name").eq("id",q.payment_source_id).maybeSingle();te&&(ne=`: ${te.bank_name}`)}Y={value:q.payment_source_id,label:ne,type:q.payment_source_type}}E({docDate:q.doc_date,trackingCode:q.tracking_code,owner:{id:q.owner_id,name:((U=q.owner)==null?void 0:U.name)||"",nationalId:(H=q.owner)==null?void 0:H.national_id,mobile:(J=q.owner)==null?void 0:J.mobile},deliverer:{id:q.deliverer_id,name:q.deliverer_name,nationalId:q.deliverer_national_id},header:{driver:{name:q.driver_name,nationalId:q.driver_national_id,phone:q.driver_phone},plate:{right2:q.plate_iran_right,middle3:q.plate_mid3,letter:q.plate_letter,left2:q.plate_left2},birthDateDriver:q.driver_birth_date,dischargeDate:q.discharge_date},ref:{type:q.ref_type||"none",barnamehNumber:q.ref_barnameh_number,barnamehDate:q.ref_barnameh_date,barnamehTracking:q.ref_barnameh_tracking,pettehNumber:q.ref_petteh_number,havaleNumber:q.ref_havale_number,productionNumber:q.ref_production_number},items:q.items||[],costs:{loadCost:q.cost_load||0,unloadCost:q.cost_unload||0,warehouseCost:q.cost_warehouse||0,tax:q.cost_tax||0,returnFreight:q.cost_return_freight||0,loadingFee:q.cost_loading_fee||0,miscCost:q.cost_misc||0,miscDescription:q.cost_misc_desc||""},payment:{paymentBy:q.payment_by||"customer",info:{amount:q.payment_amount?q.payment_amount.toString():"",selectedSource:Y,cardNumber:q.card_number,accountNumber:q.account_number,bankName:q.bank_name,ownerName:q.payment_owner_name,trackingCode:q.payment_tracking_code}}})}catch(q){console.error("Load Error:",q),ae.error(q.message),e("/receipts")}i(!1)})()},[t,n,e]);const D=()=>{if(!_.docDate)return ae.error("   "),!1;if(!_.owner.id)return ae.error("    "),!1;if(!_.items.length)return ae.error("     "),!1;if(_.items.find(U=>!U.product_id&&!U.productId))return ae.error("        ."),!1;if(_.payment.paymentBy==="warehouse"){if(!_.payment.info.amount)return ae.error("    "),!1;if(!_.payment.info.selectedSource)return ae.error("    "),!1}return!0},O=async z=>{let U=await VFe(z.id);if(U)return U;try{const H=Math.floor(1e5+Math.random()*9e5),{data:J,error:q}=await fe.from("accounting_tafsili").insert({title:z.name,code:z.nationalId||H,tafsili_type:"customer",ref_id:z.id,is_active:!0}).select().single();if(q)throw q;return J.id}catch{return null}},F=async z=>{var L;if(!D())return;l(!0);const U=_.payment.info,H=_.costs,J=_.items.map(Y=>{var te,ce;const ne=Y.product_id||Y.productId||((te=Y.product)==null?void 0:te.id)||((ce=Y.product)==null?void 0:ce.value);return{...Y,product_id:ne,count:Number(Y.count||Y.amount||0),weights_full:Number(Y.weights_full||0),weights_empty:Number(Y.weights_empty||0),weights_net:Number(Y.weights_net||0),weights_origin:Number(Y.weights_origin||0),weights_diff:Number(Y.weights_diff||0),dim_length:Number(Y.dim_length||0),dim_width:Number(Y.dim_width||0),dim_thickness:Number(Y.dim_thickness||0),parent_row:Y.parent_row||Y.parentRow||"",description_notes:Y.description_notes||Y.description||Y.descriptionNotes||"",depo_location:Y.depo_location||Y.depoLocation||"",row_code:Y.row_code||Y.rowCode||"",heat_number:Y.heat_number||"",bundle_no:Y.bundle_no||"",brand:Y.brand||"",order_no:Y.order_no||"",national_product_id:Y.national_product_id||"",product_description:Y.product_description||"",production_type:Y.production_type||"domestic",is_used:!!Y.is_used,is_defective:!!Y.is_defective}}).filter(Y=>Y.product_id),q={status:z,doc_type_id:1,doc_date:N_(_.docDate),tracking_code:_.trackingCode,owner_id:_.owner.id,owner_name:_.owner.name,owner_national_id:_.owner.nationalId,owner_mobile:_.owner.mobile,deliverer_id:_.deliverer.id||null,deliverer_name:_.deliverer.name,deliverer_national_id:_.deliverer.nationalId,driver_name:_.header.driver.name,driver_national_id:_.header.driver.nationalId,driver_phone:_.header.driver.phone,driver_birth_date:N_(_.header.birthDateDriver),discharge_date:N_(_.header.dischargeDate),plate_iran_right:_.header.plate.right2,plate_mid3:_.header.plate.middle3,plate_letter:_.header.plate.letter,plate_left2:_.header.plate.left2,ref_type:_.ref.type,ref_barnameh_number:_.ref.barnamehNumber,ref_barnameh_date:N_(_.ref.barnamehDate),ref_barnameh_tracking:_.ref.barnamehTracking,ref_petteh_number:_.ref.pettehNumber,ref_havale_number:_.ref.havaleNumber,ref_production_number:_.ref.productionNumber,cost_load:H.loadCost,cost_unload:H.unloadCost,cost_warehouse:H.warehouseCost,cost_tax:H.tax,cost_return_freight:H.returnFreight,cost_loading_fee:H.loadingFee,cost_misc:H.miscCost,cost_misc_desc:H.miscDescription,payment_by:_.payment.paymentBy,payment_amount:U.amount?Number(U.amount.toString().replace(/,/g,"")):null,payment_source_id:U.selectedSource?U.selectedSource.value:null,payment_source_type:U.selectedSource?U.selectedSource.type:null,card_number:U.cardNumber,account_number:U.accountNumber,bank_name:U.bankName,payment_owner_name:U.ownerName,payment_tracking_code:U.trackingCode,items:J,member_id:1};try{let Y=c,ne=d,te=null;if(t==="edit"&&c){const{data:ce,error:ve}=await fe.rpc("update_receipt_with_items",{p_receipt_id:Number(c),p_payload:q});if(ve)throw ve;te=ce}else{const{data:ce,error:ve}=await fe.rpc("create_receipt_with_items",{p_payload:q});if(ve)throw ve;te=ce}if(!te)throw new Error("    .");if(Y=te.receipt_id,ne=te.receipt_no,u(Y),h(ne),z==="final"&&_.payment.paymentBy==="warehouse"){const ce=Number(String(U.amount).replace(/,/g,"")),ve=await O(_.owner),Ue=(L=U.selectedSource)==null?void 0:L.tafsili_id;ve&&Ue&&(await n4e({costs:_.costs,paymentAmount:ce,date:N_(_.docDate),customerId:ve,sourceId:Ue,receiptId:Y,receiptNo:ne,description:`   ${ne} - : ${_.header.driver.name}`}),ae.success("   "))}z==="final"?(p(!0),w(!0)):t==="create"&&!c?(ae.success(`  : ${ne}`),e(`/receipt/form/edit/${Y}`,{replace:!0})):ae.success("  ")}catch(Y){console.error("Save Error:",Y),ae.error("  : "+(Y.message||""))}l(!1)},V=async()=>{if(window.confirm("    ")){l(!0);try{const{error:z}=await fe.from("receipts").delete().eq("id",c);if(z)throw z;ae.success(" "),e("/receipts")}catch(z){ae.error(z.message)}l(!1)}};return s?a.jsx("div",{className:"p-5 text-center",children:a.jsx(pn,{style:{width:"3rem",height:"3rem"}})}):a.jsxs(a.Fragment,{children:[a.jsx(rBe,{form:{..._,isFinal:m},receiptNo:d}),a.jsxs("div",{className:"page-content",children:[m&&a.jsxs(kn,{color:"warning",className:"no-print",children:[a.jsx("strong",{children:"   ."}),"    ."]}),a.jsx(dt,{className:"shadow-sm no-print border-0",children:a.jsxs(ht,{className:"p-4",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4 pb-3 border-bottom",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"card-title mb-1 fw-bold text-primary",children:t==="create"?"  ":`  ${d||""}`}),a.jsx("span",{className:"text-muted font-size-12",children:"    "})]}),a.jsxs("div",{className:"d-flex gap-2",children:[d&&a.jsx(ut,{className:"p-2 font-size-12",color:m?"success":"warning",children:m?" ":""}),a.jsx(me,{color:"light",size:"sm",onClick:()=>e("/receipts"),children:"  "})]})]}),a.jsxs(ge,{className:"mb-4",children:[a.jsxs($,{md:3,children:[a.jsxs(X,{className:"fw-bold",children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(Gs,{value:_.docDate,disabled:T,onChange:z=>E(U=>({...U,docDate:z}))})]}),a.jsxs($,{md:3,children:[a.jsx(X,{className:"fw-bold",children:" "}),a.jsx(re,{disabled:!0,value:d||"---",className:"bg-light text-center fw-bold"})]}),a.jsxs($,{md:3,children:[a.jsx(X,{className:"fw-bold",children:"  / "}),a.jsx(re,{disabled:T,value:_.trackingCode,onChange:z=>E(U=>({...U,trackingCode:z.target.value}))})]})]}),a.jsx(KUe,{value:{owner:_.owner,deliverer:_.deliverer},onChange:z=>E(U=>({...U,...z}))}),a.jsx(JUe,{value:_.header,onChange:z=>E(U=>({...U,header:z}))}),a.jsx(QUe,{refType:_.ref.type,setRefType:z=>E(U=>({...U,ref:{...U.ref,type:z}})),refValues:_.ref,updateRefValue:(z,U)=>E(H=>({...H,ref:{...H.ref,[z]:U}})),barnamehDate:_.ref.barnamehDate,setBarnamehDate:z=>E(U=>({...U,ref:{...U.ref,barnamehDate:z}}))}),a.jsx("div",{className:"my-4",children:a.jsx(Q5e,{ownerId:_.owner.id,initialItems:_.items,onItemsChange:N})}),a.jsxs(ge,{children:[a.jsx($,{md:12,children:a.jsx(nBe,{value:_.costs,onChange:z=>E(U=>({...U,costs:z}))})}),a.jsx($,{md:12,children:a.jsx(X5e,{value:_.payment,onChange:z=>E(U=>({...U,payment:z})),sourceOptions:v})})]}),a.jsxs("div",{className:"d-flex justify-content-end gap-2 mt-5 pt-3 border-top bg-light p-3 rounded sticky-bottom",children:[!m&&a.jsxs(a.Fragment,{children:[t==="edit"&&c&&a.jsxs(me,{color:"danger",outline:!0,onClick:V,disabled:o,children:[a.jsx("i",{className:"ri-delete-bin-line me-1"})," "]}),a.jsx(me,{color:"warning",className:"px-4",disabled:o,onClick:()=>F("draft"),children:o?a.jsx(pn,{size:"sm"}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"ri-save-3-line me-1"}),"  "]})}),a.jsx(me,{color:"success",className:"px-4",disabled:o,onClick:()=>F("final"),children:o?a.jsx(pn,{size:"sm"}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"ri-check-double-line me-1"}),"  "]})})]}),d&&a.jsxs(me,{color:"primary",className:"px-4 ms-2",onClick:()=>window.print(),children:[a.jsx("i",{className:"ri-printer-line me-1"}),"  "]})]})]})}),a.jsxs(zs,{isOpen:y,centered:!0,backdrop:"static",className:"no-print",children:[a.jsx(Ui,{toggle:()=>w(!1),children:" "}),a.jsxs(Ni,{className:"text-center py-5",children:[a.jsx("div",{className:"mb-3 text-success",children:a.jsx("i",{className:"ri-checkbox-circle-fill",style:{fontSize:"4rem"}})}),a.jsxs("h4",{className:"fw-bold mb-3",children:["  ",d,"  "]}),a.jsx("p",{className:"text-muted",children:"      ."})]}),a.jsxs(ro,{className:"justify-content-center",children:[a.jsx(me,{color:"secondary",onClick:()=>e("/receipts"),children:""}),a.jsx(me,{color:"primary",onClick:()=>{w(!1),window.print()},children:" "})]})]})]})]})}const $9=()=>{const t=as(),[e,n]=C.useState([]),[r,s]=C.useState(!0),[i,o]=C.useState("");C.useEffect(()=>{(async()=>{s(!0);try{let{data:y,error:w}=await fe.from("receipts").select(`
            *,
            owner:customers!fk_receipts_customer ( id, name, mobile ),
            items:receipt_items!fk_items_receipt ( id, weights_net )
          `).order("id",{ascending:!1});if(w){console.warn("Retrying fetch with simple join...");const v=await fe.from("receipts").select("*, owner:customers(id, name), items:receipt_items(id, weights_net)").order("id",{ascending:!1});if(v.error)throw v.error;y=v.data}n(y||[])}catch(y){console.error("Supabase Error:",y)}s(!1)})()},[]);const l=C.useMemo(()=>{if(!i)return e;const p=i.toLowerCase();return e.filter(y=>{var _;const w=String(y.receipt_no||y.id),v=((_=y.owner)==null?void 0:_.name)||"",x=y.driver_name||"";return w.includes(p)||v.toLowerCase().includes(p)||x.toLowerCase().includes(p)})},[i,e]),c=C.useMemo(()=>{const p=e.length,y=e.filter(v=>v.status==="final").length,w=e.reduce((v,x)=>{var E;const _=((E=x.items)==null?void 0:E.reduce((T,N)=>T+(N.weights_net||0),0))||0;return v+_},0);return{totalCount:p,finalCount:y,totalWeight:w}},[e]),u=async(p,y)=>{if(window.confirm(`     "${y}"  `))try{const{error:w}=await fe.from("receipts").delete().eq("id",p);if(w)throw w;n(v=>v.filter(x=>x.id!==p))}catch(w){console.error(w),alert("  : "+w.message)}},d=p=>p?Ax(p).format("jYYYY/jMM/jDD"):"-",h=p=>{switch(p){case"final":return a.jsxs(ut,{color:"success",className:"font-size-12",children:[a.jsx("i",{className:"bx bx-check-double me-1"}),""]});case"draft":return a.jsxs(ut,{color:"warning",className:"font-size-12",children:[a.jsx("i",{className:"bx bx-pencil me-1"}),""]});default:return a.jsx(ut,{color:"secondary",children:""})}},m=p=>p.plate_mid3?a.jsxs("div",{dir:"ltr",className:"d-inline-flex align-items-center bg-light border rounded px-2 py-1",style:{fontSize:"0.75rem"},children:[a.jsx("span",{className:"fw-bold mx-1",children:p.plate_left2}),a.jsx("span",{className:"mx-1",children:p.plate_letter}),a.jsx("span",{className:"fw-bold mx-1",children:p.plate_mid3}),a.jsxs("span",{className:"border-start ps-1 ms-1 text-muted",style:{fontSize:"0.65rem"},children:["IR ",p.plate_iran_right]})]}):a.jsx("span",{className:"text-muted",children:"-"});return a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsxs("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between mb-4",children:[a.jsx("h4",{className:"mb-sm-0 font-size-18",children:"  "}),a.jsx("div",{className:"page-title-right",children:a.jsxs("ol",{className:"breadcrumb m-0",children:[a.jsx("li",{className:"breadcrumb-item",children:a.jsx(Le,{to:"/dashboard",children:""})}),a.jsx("li",{className:"breadcrumb-item active",children:""})]})})]}),a.jsxs(ge,{className:"mb-3",children:[a.jsx($,{md:4,children:a.jsx(dt,{className:"mini-stats-wid",children:a.jsx(ht,{children:a.jsxs("div",{className:"d-flex",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("p",{className:"text-muted fw-medium",children:"  "}),a.jsx("h4",{className:"mb-0",children:c.totalCount})]}),a.jsx("div",{className:"flex-shrink-0 align-self-center",children:a.jsx("div",{className:"avatar-sm rounded-circle bg-primary mini-stat-icon",children:a.jsx("span",{className:"avatar-title rounded-circle bg-primary",children:a.jsx("i",{className:"bx bx-file font-size-24"})})})})]})})})}),a.jsx($,{md:4,children:a.jsx(dt,{className:"mini-stats-wid",children:a.jsx(ht,{children:a.jsxs("div",{className:"d-flex",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("p",{className:"text-muted fw-medium",children:" "}),a.jsx("h4",{className:"mb-0",children:c.finalCount})]}),a.jsx("div",{className:"flex-shrink-0 align-self-center",children:a.jsx("div",{className:"avatar-sm rounded-circle bg-success mini-stat-icon",children:a.jsx("span",{className:"avatar-title rounded-circle bg-success",children:a.jsx("i",{className:"bx bx-check-circle font-size-24"})})})})]})})})}),a.jsx($,{md:4,children:a.jsx(dt,{className:"mini-stats-wid",children:a.jsx(ht,{children:a.jsxs("div",{className:"d-flex",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("p",{className:"text-muted fw-medium",children:"  "}),a.jsxs("h4",{className:"mb-0",children:[c.totalWeight.toLocaleString()," ",a.jsx("span",{className:"font-size-12 text-muted",children:"kg"})]})]}),a.jsx("div",{className:"flex-shrink-0 align-self-center",children:a.jsx("div",{className:"avatar-sm rounded-circle bg-info mini-stat-icon",children:a.jsx("span",{className:"avatar-title rounded-circle bg-info",children:a.jsx("i",{className:"bx bx-weight font-size-24"})})})})]})})})})]}),a.jsx(ge,{children:a.jsx($,{lg:12,children:a.jsxs(dt,{children:[a.jsx(oF,{className:"bg-transparent border-bottom",children:a.jsxs("div",{className:"d-flex flex-wrap align-items-center justify-content-between",children:[a.jsx("h5",{className:"card-title mb-0",children:" "}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsxs(me,{color:"light",onClick:()=>window.location.reload(),children:[a.jsx("i",{className:"bx bx-refresh font-size-16 align-middle me-1"})," "]}),a.jsxs(me,{color:"primary",onClick:()=>t("/receipt/form"),children:[a.jsx("i",{className:"bx bx-plus font-size-16 align-middle me-1"}),"   "]})]})]})}),a.jsxs(ht,{children:[a.jsx(ge,{className:"mb-4",children:a.jsx($,{md:4,children:a.jsx("div",{className:"search-box me-2 mb-2 d-inline-block w-100",children:a.jsxs("div",{className:"position-relative",children:[a.jsx(re,{type:"text",className:"form-control",placeholder:" (  )...",value:i,onChange:p=>o(p.target.value)}),a.jsx("i",{className:"bx bx-search-alt search-icon"})]})})})}),r?a.jsxs("div",{className:"text-center py-5",children:[a.jsx(pn,{color:"primary"}),a.jsx("p",{className:"mt-2",children:"   ..."})]}):l.length===0?a.jsxs("div",{className:"text-center py-5 text-muted",children:[a.jsx("i",{className:"bx bx-folder-open display-4"}),a.jsx("p",{className:"mt-3",children:"   ."})]}):a.jsx("div",{className:"table-responsive",children:a.jsxs(Mn,{className:"table align-middle table-nowrap table-hover mb-0",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"70px"},children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:" (kg)"}),a.jsx("th",{children:""}),a.jsx("th",{style:{width:"150px"},children:""})]})}),a.jsx("tbody",{children:l.map(p=>{var v,x,_;const y=((v=p.items)==null?void 0:v.reduce((E,T)=>E+(T.weights_net||0),0))||0,w=((x=p.items)==null?void 0:x.length)||0;return a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("span",{className:"fw-bold text-primary",children:["#",p.receipt_no||p.id]})}),a.jsxs("td",{children:[a.jsx("i",{className:"bx bx-calendar text-muted me-1"}),d(p.doc_date)]}),a.jsx("td",{children:a.jsx("h5",{className:"font-size-14 mb-1 text-dark",children:((_=p.owner)==null?void 0:_.name)||""})}),a.jsx("td",{children:m(p)}),a.jsx("td",{children:a.jsxs(ut,{color:"soft-primary",className:"font-size-12 badge-soft-primary",children:[w," "]})}),a.jsx("td",{children:a.jsx("span",{className:"fw-bold",children:y.toLocaleString()})}),a.jsx("td",{children:h(p.status)}),a.jsx("td",{children:a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(Le,{to:`/receipt/form/edit/${p.id}`,className:"btn btn-sm btn-soft-info",id:`edit-${p.id}`,children:a.jsx("i",{className:"bx bx-edit-alt font-size-14"})}),a.jsx(Ef,{placement:"top",target:`edit-${p.id}`,children:" / "}),a.jsx("button",{className:"btn btn-sm btn-soft-danger",onClick:()=>u(p.id,p.receipt_no),id:`del-${p.id}`,children:a.jsx("i",{className:"bx bx-trash font-size-14"})}),a.jsx(Ef,{placement:"top",target:`del-${p.id}`,children:""})]})})]},p.id)})})]})})]})]})})})]})})};var R0=t=>t.type==="checkbox",fp=t=>t instanceof Date,No=t=>t==null;const lne=t=>typeof t=="object";var yi=t=>!No(t)&&!Array.isArray(t)&&lne(t)&&!fp(t),cne=t=>yi(t)&&t.target?R0(t.target)?t.target.checked:t.target.value:t,sBe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,une=(t,e)=>t.has(sBe(e)),iBe=t=>{const e=t.constructor&&t.constructor.prototype;return yi(e)&&e.hasOwnProperty("isPrototypeOf")},u4=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Si(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(u4&&(t instanceof Blob||r))&&(n||yi(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!iBe(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Si(t[s]));else return t;return e}var YA=t=>/^\w*$/.test(t),Us=t=>t===void 0,d4=t=>Array.isArray(t)?t.filter(Boolean):[],h4=t=>d4(t.replace(/["|']|\]/g,"").split(/\.|\[/)),yt=(t,e,n)=>{if(!e||!yi(t))return n;const r=(YA(e)?[e]:h4(e)).reduce((s,i)=>No(s)?s:s[i],t);return Us(r)||r===t?Us(t[e])?n:t[e]:r},yl=t=>typeof t=="boolean",Or=(t,e,n)=>{let r=-1;const s=YA(e)?[e]:h4(e),i=s.length,o=i-1;for(;++r<i;){const l=s[r];let c=n;if(r!==o){const u=t[l];c=yi(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const VT={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Hc={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Cd={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},dne=oe.createContext(null);dne.displayName="HookFormContext";const f4=()=>oe.useContext(dne);var hne=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Hc.all&&(e._proxyFormState[o]=!r||Hc.all),n&&(n[o]=!0),t[o]}});return s};const m4=typeof window<"u"?oe.useLayoutEffect:oe.useEffect;function aBe(t){const e=f4(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,l]=oe.useState(n._formState),c=oe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return m4(()=>n._subscribe({name:s,formState:c.current,exact:i,callback:u=>{!r&&l({...n._formState,...u})}}),[s,r,i]),oe.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),oe.useMemo(()=>hne(o,n,c.current,!1),[o,n])}var xl=t=>typeof t=="string",EL=(t,e,n,r,s)=>xl(t)?(r&&e.watch.add(t),yt(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),yt(n,i))):(r&&(e.watchAll=!0),n),SL=t=>No(t)||!lne(t);function qc(t,e,n=new WeakSet){if(SL(t)||SL(e))return Object.is(t,e);if(fp(t)&&fp(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const o=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=e[i];if(fp(o)&&fp(l)||yi(o)&&yi(l)||Array.isArray(o)&&Array.isArray(l)?!qc(o,l,n):!Object.is(o,l))return!1}}return!0}function oBe(t){const e=f4(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o,compute:l}=t||{},c=oe.useRef(s),u=oe.useRef(l),d=oe.useRef(void 0),h=oe.useRef(n),m=oe.useRef(r);u.current=l;const[p,y]=oe.useState(()=>{const T=n._getWatch(r,c.current);return u.current?u.current(T):T}),w=oe.useCallback(T=>{const N=EL(r,n._names,T||n._formValues,!1,c.current);return u.current?u.current(N):N},[n._formValues,n._names,r]),v=oe.useCallback(T=>{if(!i){const N=EL(r,n._names,T||n._formValues,!1,c.current);if(u.current){const D=u.current(N);qc(D,d.current)||(y(D),d.current=D)}else y(N)}},[n._formValues,n._names,i,r]);m4(()=>((h.current!==n||!qc(m.current,r))&&(h.current=n,m.current=r,v()),n._subscribe({name:r,formState:{values:!0},exact:o,callback:T=>{v(T.values)}})),[n,o,r,v]),oe.useEffect(()=>n._removeUnmounted());const x=h.current!==n,_=m.current,E=oe.useMemo(()=>{if(i)return null;const T=!x&&!qc(_,r);return x||T?w():null},[i,x,r,_,w]);return E!==null?E:p}function lBe(t){const e=f4(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i,defaultValue:o,exact:l=!0}=t,c=une(s._names.array,n),u=oe.useMemo(()=>yt(s._formValues,n,yt(s._defaultValues,n,o)),[s,n,o]),d=oBe({control:s,name:n,defaultValue:u,exact:l}),h=aBe({control:s,name:n,exact:l}),m=oe.useRef(t),p=oe.useRef(void 0),y=oe.useRef(s.register(n,{...t.rules,value:d,...yl(t.disabled)?{disabled:t.disabled}:{}}));m.current=t;const w=oe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!yt(h.errors,n)},isDirty:{enumerable:!0,get:()=>!!yt(h.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!yt(h.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!yt(h.validatingFields,n)},error:{enumerable:!0,get:()=>yt(h.errors,n)}}),[h,n]),v=oe.useCallback(T=>y.current.onChange({target:{value:cne(T),name:n},type:VT.CHANGE}),[n]),x=oe.useCallback(()=>y.current.onBlur({target:{value:yt(s._formValues,n),name:n},type:VT.BLUR}),[n,s._formValues]),_=oe.useCallback(T=>{const N=yt(s._fields,n);N&&T&&(N._f.ref={focus:()=>T.focus&&T.focus(),select:()=>T.select&&T.select(),setCustomValidity:D=>T.setCustomValidity(D),reportValidity:()=>T.reportValidity()})},[s._fields,n]),E=oe.useMemo(()=>({name:n,value:d,...yl(r)||h.disabled?{disabled:h.disabled||r}:{},onChange:v,onBlur:x,ref:_}),[n,r,h.disabled,v,x,_,d]);return oe.useEffect(()=>{const T=s._options.shouldUnregister||i,N=p.current;N&&N!==n&&!c&&s.unregister(N),s.register(n,{...m.current.rules,...yl(m.current.disabled)?{disabled:m.current.disabled}:{}});const D=(O,F)=>{const V=yt(s._fields,O);V&&V._f&&(V._f.mount=F)};if(D(n,!0),T){const O=Si(yt(s._options.defaultValues,n,m.current.defaultValue));Or(s._defaultValues,n,O),Us(yt(s._formValues,n))&&Or(s._formValues,n,O)}return!c&&s.register(n),p.current=n,()=>{(c?T&&!s._state.action:T)?s.unregister(n):D(n,!1)}},[n,s,c,i]),oe.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),oe.useMemo(()=>({field:E,formState:h,fieldState:w}),[E,h,w])}const mv=t=>t.render(lBe(t));var p4=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Nw=t=>Array.isArray(t)?t:[t],F9=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}};function fne(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const s=t[r],i=e[r];if(s&&yi(s)&&i){const o=fne(s,i);yi(o)&&(n[r]=o)}else t[r]&&(n[r]=i)}return n}var Ka=t=>yi(t)&&!Object.keys(t).length,g4=t=>t.type==="file",Yc=t=>typeof t=="function",UT=t=>{if(!u4)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},mne=t=>t.type==="select-multiple",y4=t=>t.type==="radio",cBe=t=>y4(t)||R0(t),_R=t=>UT(t)&&t.isConnected;function uBe(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Us(t)?r++:t[e[r++]];return t}function dBe(t){for(const e in t)if(t.hasOwnProperty(e)&&!Us(t[e]))return!1;return!0}function ui(t,e){const n=Array.isArray(e)?e:YA(e)?[e]:h4(e),r=n.length===1?t:uBe(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(yi(r)&&Ka(r)||Array.isArray(r)&&dBe(r))&&ui(t,n.slice(0,-1)),t}var hBe=t=>{for(const e in t)if(Yc(t[e]))return!0;return!1};function pne(t){return Array.isArray(t)||yi(t)&&!hBe(t)}function jL(t,e={}){for(const n in t){const r=t[n];pne(r)?(e[n]=Array.isArray(r)?[]:{},jL(r,e[n])):Us(r)||(e[n]=!0)}return e}function Ay(t,e,n){n||(n=jL(e));for(const r in t){const s=t[r];if(pne(s))Us(e)||SL(n[r])?n[r]=jL(s,Array.isArray(s)?[]:{}):Ay(s,No(e)?{}:e[r],n[r]);else{const i=e[r];n[r]=!qc(s,i)}}return n}const V9={value:!1,isValid:!1},U9={value:!0,isValid:!0};var gne=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Us(t[0].attributes.value)?Us(t[0].value)||t[0].value===""?U9:{value:t[0].value,isValid:!0}:U9:V9}return V9},yne=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Us(t)?t:e?t===""?NaN:t&&+t:n&&xl(t)?new Date(t):r?r(t):t;const B9={isValid:!1,value:null};var vne=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,B9):B9;function z9(t){const e=t.ref;return g4(e)?e.files:y4(e)?vne(t.refs).value:mne(e)?[...e.selectedOptions].map(({value:n})=>n):R0(e)?gne(t.refs).value:yne(Us(e.value)?t.ref.value:e.value,t)}var fBe=(t,e,n,r)=>{const s={};for(const i of t){const o=yt(e,i);o&&Or(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},BT=t=>t instanceof RegExp,I_=t=>Us(t)?t:BT(t)?t.source:yi(t)?BT(t.value)?t.value.source:t.value:t,W9=t=>({isOnSubmit:!t||t===Hc.onSubmit,isOnBlur:t===Hc.onBlur,isOnChange:t===Hc.onChange,isOnAll:t===Hc.all,isOnTouch:t===Hc.onTouched});const G9="AsyncFunction";var mBe=t=>!!t&&!!t.validate&&!!(Yc(t.validate)&&t.validate.constructor.name===G9||yi(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===G9)),pBe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),H9=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Iw=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=yt(t,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Iw(l,e))break}else if(yi(l)&&Iw(l,e))break}}};function q9(t,e,n){const r=yt(t,n);if(r||YA(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=yt(e,i),l=yt(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:n}}var gBe=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Ka(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||Hc.all))},yBe=(t,e,n)=>!t||!e||t===e||Nw(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),vBe=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,bBe=(t,e)=>!d4(yt(t,e)).length&&ui(t,e),_Be=(t,e,n)=>{const r=Nw(yt(t,n));return Or(r,"root",e[n]),Or(t,n,r),t};function Y9(t,e,n="validate"){if(xl(t)||Array.isArray(t)&&t.every(xl)||yl(t)&&!t)return{type:n,message:xl(t)?t:"",ref:e}}var py=t=>yi(t)&&!BT(t)?t:{value:t,message:""},K9=async(t,e,n,r,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:h,max:m,pattern:p,validate:y,name:w,valueAsNumber:v,mount:x}=t._f,_=yt(n,w);if(!x||e.has(w))return{};const E=l?l[0]:o,T=H=>{s&&E.reportValidity&&(E.setCustomValidity(yl(H)?"":H||""),E.reportValidity())},N={},D=y4(o),O=R0(o),F=D||O,V=(v||g4(o))&&Us(o.value)&&Us(_)||UT(o)&&o.value===""||_===""||Array.isArray(_)&&!_.length,z=p4.bind(null,w,r,N),U=(H,J,q,L=Cd.maxLength,Y=Cd.minLength)=>{const ne=H?J:q;N[w]={type:H?L:Y,message:ne,ref:o,...z(H?L:Y,ne)}};if(i?!Array.isArray(_)||!_.length:c&&(!F&&(V||No(_))||yl(_)&&!_||O&&!gne(l).isValid||D&&!vne(l).isValid)){const{value:H,message:J}=xl(c)?{value:!!c,message:c}:py(c);if(H&&(N[w]={type:Cd.required,message:J,ref:E,...z(Cd.required,J)},!r))return T(J),N}if(!V&&(!No(h)||!No(m))){let H,J;const q=py(m),L=py(h);if(!No(_)&&!isNaN(_)){const Y=o.valueAsNumber||_&&+_;No(q.value)||(H=Y>q.value),No(L.value)||(J=Y<L.value)}else{const Y=o.valueAsDate||new Date(_),ne=ve=>new Date(new Date().toDateString()+" "+ve),te=o.type=="time",ce=o.type=="week";xl(q.value)&&_&&(H=te?ne(_)>ne(q.value):ce?_>q.value:Y>new Date(q.value)),xl(L.value)&&_&&(J=te?ne(_)<ne(L.value):ce?_<L.value:Y<new Date(L.value))}if((H||J)&&(U(!!H,q.message,L.message,Cd.max,Cd.min),!r))return T(N[w].message),N}if((u||d)&&!V&&(xl(_)||i&&Array.isArray(_))){const H=py(u),J=py(d),q=!No(H.value)&&_.length>+H.value,L=!No(J.value)&&_.length<+J.value;if((q||L)&&(U(q,H.message,J.message),!r))return T(N[w].message),N}if(p&&!V&&xl(_)){const{value:H,message:J}=py(p);if(BT(H)&&!_.match(H)&&(N[w]={type:Cd.pattern,message:J,ref:o,...z(Cd.pattern,J)},!r))return T(J),N}if(y){if(Yc(y)){const H=await y(_,n),J=Y9(H,E);if(J&&(N[w]={...J,...z(Cd.validate,J.message)},!r))return T(J.message),N}else if(yi(y)){let H={};for(const J in y){if(!Ka(H)&&!r)break;const q=Y9(await y[J](_,n),E,J);q&&(H={...q,...z(J,q.message)},T(q.message),r&&(N[w]=H))}if(!Ka(H)&&(N[w]={ref:E,...H},!r))return N}}return T(!0),N};const wBe={mode:Hc.onSubmit,reValidateMode:Hc.onChange,shouldFocusError:!0};function xBe(t={}){let e={...wBe,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Yc(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=yi(e.defaultValues)||yi(e.values)?Si(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Si(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const m={array:F9(),state:F9()},p=e.criteriaMode===Hc.all,y=Q=>ee=>{clearTimeout(u),u=setTimeout(Q,ee)},w=async Q=>{if(!e.disabled&&(d.isValid||h.isValid||Q)){const ee=e.resolver?Ka((await O()).errors):await V(r,!0);ee!==n.isValid&&m.state.next({isValid:ee})}},v=(Q,ee)=>{!e.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((Q||Array.from(l.mount)).forEach(Z=>{Z&&(ee?Or(n.validatingFields,Z,ee):ui(n.validatingFields,Z))}),m.state.next({validatingFields:n.validatingFields,isValidating:!Ka(n.validatingFields)}))},x=(Q,ee=[],Z,ye,be=!0,A=!0)=>{if(ye&&Z&&!e.disabled){if(o.action=!0,A&&Array.isArray(yt(r,Q))){const B=Z(yt(r,Q),ye.argA,ye.argB);be&&Or(r,Q,B)}if(A&&Array.isArray(yt(n.errors,Q))){const B=Z(yt(n.errors,Q),ye.argA,ye.argB);be&&Or(n.errors,Q,B),bBe(n.errors,Q)}if((d.touchedFields||h.touchedFields)&&A&&Array.isArray(yt(n.touchedFields,Q))){const B=Z(yt(n.touchedFields,Q),ye.argA,ye.argB);be&&Or(n.touchedFields,Q,B)}(d.dirtyFields||h.dirtyFields)&&(n.dirtyFields=Ay(s,i)),m.state.next({name:Q,isDirty:U(Q,ee),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Or(i,Q,ee)},_=(Q,ee)=>{Or(n.errors,Q,ee),m.state.next({errors:n.errors})},E=Q=>{n.errors=Q,m.state.next({errors:n.errors,isValid:!1})},T=(Q,ee,Z,ye)=>{const be=yt(r,Q);if(be){const A=yt(i,Q,Us(Z)?yt(s,Q):Z);Us(A)||ye&&ye.defaultChecked||ee?Or(i,Q,ee?A:z9(be._f)):q(Q,A),o.mount&&!o.action&&w()}},N=(Q,ee,Z,ye,be)=>{let A=!1,B=!1;const se={name:Q};if(!e.disabled){if(!Z||ye){(d.isDirty||h.isDirty)&&(B=n.isDirty,n.isDirty=se.isDirty=U(),A=B!==se.isDirty);const de=qc(yt(s,Q),ee);B=!!yt(n.dirtyFields,Q),de?ui(n.dirtyFields,Q):Or(n.dirtyFields,Q,!0),se.dirtyFields=n.dirtyFields,A=A||(d.dirtyFields||h.dirtyFields)&&B!==!de}if(Z){const de=yt(n.touchedFields,Q);de||(Or(n.touchedFields,Q,Z),se.touchedFields=n.touchedFields,A=A||(d.touchedFields||h.touchedFields)&&de!==Z)}A&&be&&m.state.next(se)}return A?se:{}},D=(Q,ee,Z,ye)=>{const be=yt(n.errors,Q),A=(d.isValid||h.isValid)&&yl(ee)&&n.isValid!==ee;if(e.delayError&&Z?(c=y(()=>_(Q,Z)),c(e.delayError)):(clearTimeout(u),c=null,Z?Or(n.errors,Q,Z):ui(n.errors,Q)),(Z?!qc(be,Z):be)||!Ka(ye)||A){const B={...ye,...A&&yl(ee)?{isValid:ee}:{},errors:n.errors,name:Q};n={...n,...B},m.state.next(B)}},O=async Q=>{v(Q,!0);const ee=await e.resolver(i,e.context,fBe(Q||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return v(Q),ee},F=async Q=>{const{errors:ee}=await O(Q);if(Q)for(const Z of Q){const ye=yt(ee,Z);ye?Or(n.errors,Z,ye):ui(n.errors,Z)}else n.errors=ee;return ee},V=async(Q,ee,Z={valid:!0})=>{for(const ye in Q){const be=Q[ye];if(be){const{_f:A,...B}=be;if(A){const se=l.array.has(A.name),de=be._f&&mBe(be._f);de&&d.validatingFields&&v([A.name],!0);const Se=await K9(be,l.disabled,i,p,e.shouldUseNativeValidation&&!ee,se);if(de&&d.validatingFields&&v([A.name]),Se[A.name]&&(Z.valid=!1,ee))break;!ee&&(yt(Se,A.name)?se?_Be(n.errors,Se,A.name):Or(n.errors,A.name,Se[A.name]):ui(n.errors,A.name))}!Ka(B)&&await V(B,ee,Z)}}return Z.valid},z=()=>{for(const Q of l.unMount){const ee=yt(r,Q);ee&&(ee._f.refs?ee._f.refs.every(Z=>!_R(Z)):!_R(ee._f.ref))&&ct(Q)}l.unMount=new Set},U=(Q,ee)=>!e.disabled&&(Q&&ee&&Or(i,Q,ee),!qc(ve(),s)),H=(Q,ee,Z)=>EL(Q,l,{...o.mount?i:Us(ee)?s:xl(Q)?{[Q]:ee}:ee},Z,ee),J=Q=>d4(yt(o.mount?i:s,Q,e.shouldUnregister?yt(s,Q,[]):[])),q=(Q,ee,Z={})=>{const ye=yt(r,Q);let be=ee;if(ye){const A=ye._f;A&&(!A.disabled&&Or(i,Q,yne(ee,A)),be=UT(A.ref)&&No(ee)?"":ee,mne(A.ref)?[...A.ref.options].forEach(B=>B.selected=be.includes(B.value)):A.refs?R0(A.ref)?A.refs.forEach(B=>{(!B.defaultChecked||!B.disabled)&&(Array.isArray(be)?B.checked=!!be.find(se=>se===B.value):B.checked=be===B.value||!!be)}):A.refs.forEach(B=>B.checked=B.value===be):g4(A.ref)?A.ref.value="":(A.ref.value=be,A.ref.type||m.state.next({name:Q,values:Si(i)})))}(Z.shouldDirty||Z.shouldTouch)&&N(Q,be,Z.shouldTouch,Z.shouldDirty,!0),Z.shouldValidate&&ce(Q)},L=(Q,ee,Z)=>{for(const ye in ee){if(!ee.hasOwnProperty(ye))return;const be=ee[ye],A=Q+"."+ye,B=yt(r,A);(l.array.has(Q)||yi(be)||B&&!B._f)&&!fp(be)?L(A,be,Z):q(A,be,Z)}},Y=(Q,ee,Z={})=>{const ye=yt(r,Q),be=l.array.has(Q),A=Si(ee);Or(i,Q,A),be?(m.array.next({name:Q,values:Si(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&Z.shouldDirty&&m.state.next({name:Q,dirtyFields:Ay(s,i),isDirty:U(Q,A)})):ye&&!ye._f&&!No(A)?L(Q,A,Z):q(Q,A,Z),H9(Q,l)&&m.state.next({...n,name:Q}),m.state.next({name:o.mount?Q:void 0,values:Si(i)})},ne=async Q=>{o.mount=!0;const ee=Q.target;let Z=ee.name,ye=!0;const be=yt(r,Z),A=de=>{ye=Number.isNaN(de)||fp(de)&&isNaN(de.getTime())||qc(de,yt(i,Z,de))},B=W9(e.mode),se=W9(e.reValidateMode);if(be){let de,Se;const we=ee.type?z9(be._f):cne(Q),Me=Q.type===VT.BLUR||Q.type===VT.FOCUS_OUT,tt=!pBe(be._f)&&!e.resolver&&!yt(n.errors,Z)&&!be._f.deps||vBe(Me,yt(n.touchedFields,Z),n.isSubmitted,se,B),Re=H9(Z,l,Me);Or(i,Z,we),Me?(!ee||!ee.readOnly)&&(be._f.onBlur&&be._f.onBlur(Q),c&&c(0)):be._f.onChange&&be._f.onChange(Q);const qe=N(Z,we,Me),Je=!Ka(qe)||Re;if(!Me&&m.state.next({name:Z,type:Q.type,values:Si(i)}),tt)return(d.isValid||h.isValid)&&(e.mode==="onBlur"?Me&&w():Me||w()),Je&&m.state.next({name:Z,...Re?{}:qe});if(!Me&&Re&&m.state.next({...n}),e.resolver){const{errors:nt}=await O([Z]);if(A(we),ye){const rt=q9(n.errors,r,Z),Dt=q9(nt,r,rt.name||Z);de=Dt.error,Z=Dt.name,Se=Ka(nt)}}else v([Z],!0),de=(await K9(be,l.disabled,i,p,e.shouldUseNativeValidation))[Z],v([Z]),A(we),ye&&(de?Se=!1:(d.isValid||h.isValid)&&(Se=await V(r,!0)));ye&&(be._f.deps&&(!Array.isArray(be._f.deps)||be._f.deps.length>0)&&ce(be._f.deps),D(Z,Se,de,qe))}},te=(Q,ee)=>{if(yt(n.errors,ee)&&Q.focus)return Q.focus(),1},ce=async(Q,ee={})=>{let Z,ye;const be=Nw(Q);if(e.resolver){const A=await F(Us(Q)?Q:be);Z=Ka(A),ye=Q?!be.some(B=>yt(A,B)):Z}else Q?(ye=(await Promise.all(be.map(async A=>{const B=yt(r,A);return await V(B&&B._f?{[A]:B}:B)}))).every(Boolean),!(!ye&&!n.isValid)&&w()):ye=Z=await V(r);return m.state.next({...!xl(Q)||(d.isValid||h.isValid)&&Z!==n.isValid?{}:{name:Q},...e.resolver||!Q?{isValid:Z}:{},errors:n.errors}),ee.shouldFocus&&!ye&&Iw(r,te,Q?be:l.mount),ye},ve=(Q,ee)=>{let Z={...o.mount?i:s};return ee&&(Z=fne(ee.dirtyFields?n.dirtyFields:n.touchedFields,Z)),Us(Q)?Z:xl(Q)?yt(Z,Q):Q.map(ye=>yt(Z,ye))},Ue=(Q,ee)=>({invalid:!!yt((ee||n).errors,Q),isDirty:!!yt((ee||n).dirtyFields,Q),error:yt((ee||n).errors,Q),isValidating:!!yt(n.validatingFields,Q),isTouched:!!yt((ee||n).touchedFields,Q)}),Ae=Q=>{Q&&Nw(Q).forEach(ee=>ui(n.errors,ee)),m.state.next({errors:Q?n.errors:{}})},at=(Q,ee,Z)=>{const ye=(yt(r,Q,{_f:{}})._f||{}).ref,be=yt(n.errors,Q)||{},{ref:A,message:B,type:se,...de}=be;Or(n.errors,Q,{...de,...ee,ref:ye}),m.state.next({name:Q,errors:n.errors,isValid:!1}),Z&&Z.shouldFocus&&ye&&ye.focus&&ye.focus()},it=(Q,ee)=>Yc(Q)?m.state.subscribe({next:Z=>"values"in Z&&Q(H(void 0,ee),Z)}):H(Q,ee,!0),Te=Q=>m.state.subscribe({next:ee=>{yBe(Q.name,ee.name,Q.exact)&&gBe(ee,Q.formState||d,ke,Q.reRenderRoot)&&Q.callback({values:{...i},...n,...ee,defaultValues:s})}}).unsubscribe,Tt=Q=>(o.mount=!0,h={...h,...Q.formState},Te({...Q,formState:h})),ct=(Q,ee={})=>{for(const Z of Q?Nw(Q):l.mount)l.mount.delete(Z),l.array.delete(Z),ee.keepValue||(ui(r,Z),ui(i,Z)),!ee.keepError&&ui(n.errors,Z),!ee.keepDirty&&ui(n.dirtyFields,Z),!ee.keepTouched&&ui(n.touchedFields,Z),!ee.keepIsValidating&&ui(n.validatingFields,Z),!e.shouldUnregister&&!ee.keepDefaultValue&&ui(s,Z);m.state.next({values:Si(i)}),m.state.next({...n,...ee.keepDirty?{isDirty:U()}:{}}),!ee.keepIsValid&&w()},pt=({disabled:Q,name:ee})=>{(yl(Q)&&o.mount||Q||l.disabled.has(ee))&&(Q?l.disabled.add(ee):l.disabled.delete(ee))},vt=(Q,ee={})=>{let Z=yt(r,Q);const ye=yl(ee.disabled)||yl(e.disabled);return Or(r,Q,{...Z||{},_f:{...Z&&Z._f?Z._f:{ref:{name:Q}},name:Q,mount:!0,...ee}}),l.mount.add(Q),Z?pt({disabled:yl(ee.disabled)?ee.disabled:e.disabled,name:Q}):T(Q,!0,ee.value),{...ye?{disabled:ee.disabled||e.disabled}:{},...e.progressive?{required:!!ee.required,min:I_(ee.min),max:I_(ee.max),minLength:I_(ee.minLength),maxLength:I_(ee.maxLength),pattern:I_(ee.pattern)}:{},name:Q,onChange:ne,onBlur:ne,ref:be=>{if(be){vt(Q,ee),Z=yt(r,Q);const A=Us(be.value)&&be.querySelectorAll&&be.querySelectorAll("input,select,textarea")[0]||be,B=cBe(A),se=Z._f.refs||[];if(B?se.find(de=>de===A):A===Z._f.ref)return;Or(r,Q,{_f:{...Z._f,...B?{refs:[...se.filter(_R),A,...Array.isArray(yt(s,Q))?[{}]:[]],ref:{type:A.type,name:Q}}:{ref:A}}}),T(Q,!1,void 0,A)}else Z=yt(r,Q,{}),Z._f&&(Z._f.mount=!1),(e.shouldUnregister||ee.shouldUnregister)&&!(une(l.array,Q)&&o.action)&&l.unMount.add(Q)}}},Ht=()=>e.shouldFocusError&&Iw(r,te,l.mount),It=Q=>{yl(Q)&&(m.state.next({disabled:Q}),Iw(r,(ee,Z)=>{const ye=yt(r,Z);ye&&(ee.disabled=ye._f.disabled||Q,Array.isArray(ye._f.refs)&&ye._f.refs.forEach(be=>{be.disabled=ye._f.disabled||Q}))},0,!1))},Ut=(Q,ee)=>async Z=>{let ye;Z&&(Z.preventDefault&&Z.preventDefault(),Z.persist&&Z.persist());let be=Si(i);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:A,values:B}=await O();n.errors=A,be=Si(B)}else await V(r);if(l.disabled.size)for(const A of l.disabled)ui(be,A);if(ui(n.errors,"root"),Ka(n.errors)){m.state.next({errors:{}});try{await Q(be,Z)}catch(A){ye=A}}else ee&&await ee({...n.errors},Z),Ht(),setTimeout(Ht);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ka(n.errors)&&!ye,submitCount:n.submitCount+1,errors:n.errors}),ye)throw ye},Xt=(Q,ee={})=>{yt(r,Q)&&(Us(ee.defaultValue)?Y(Q,Si(yt(s,Q))):(Y(Q,ee.defaultValue),Or(s,Q,Si(ee.defaultValue))),ee.keepTouched||ui(n.touchedFields,Q),ee.keepDirty||(ui(n.dirtyFields,Q),n.isDirty=ee.defaultValue?U(Q,Si(yt(s,Q))):U()),ee.keepError||(ui(n.errors,Q),d.isValid&&w()),m.state.next({...n}))},Ee=(Q,ee={})=>{const Z=Q?Si(Q):s,ye=Si(Z),be=Ka(Q),A=be?s:ye;if(ee.keepDefaultValues||(s=Z),!ee.keepValues){if(ee.keepDirtyValues){const B=new Set([...l.mount,...Object.keys(Ay(s,i))]);for(const se of Array.from(B))yt(n.dirtyFields,se)?Or(A,se,yt(i,se)):Y(se,yt(A,se))}else{if(u4&&Us(Q))for(const B of l.mount){const se=yt(r,B);if(se&&se._f){const de=Array.isArray(se._f.refs)?se._f.refs[0]:se._f.ref;if(UT(de)){const Se=de.closest("form");if(Se){Se.reset();break}}}}if(ee.keepFieldsRef)for(const B of l.mount)Y(B,yt(A,B));else r={}}i=e.shouldUnregister?ee.keepDefaultValues?Si(s):{}:Si(A),m.array.next({values:{...A}}),m.state.next({values:{...A}})}l={mount:ee.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!ee.keepIsValid||!!ee.keepDirtyValues||!e.shouldUnregister&&!Ka(A),o.watch=!!e.shouldUnregister,o.action=!1,ee.keepErrors||(n.errors={}),m.state.next({submitCount:ee.keepSubmitCount?n.submitCount:0,isDirty:be?!1:ee.keepDirty?n.isDirty:!!(ee.keepDefaultValues&&!qc(Q,s)),isSubmitted:ee.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:be?{}:ee.keepDirtyValues?ee.keepDefaultValues&&i?Ay(s,i):n.dirtyFields:ee.keepDefaultValues&&Q?Ay(s,Q):ee.keepDirty?n.dirtyFields:{},touchedFields:ee.keepTouched?n.touchedFields:{},errors:ee.keepErrors?n.errors:{},isSubmitSuccessful:ee.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},We=(Q,ee)=>Ee(Yc(Q)?Q(i):Q,ee),Jt=(Q,ee={})=>{const Z=yt(r,Q),ye=Z&&Z._f;if(ye){const be=ye.refs?ye.refs[0]:ye.ref;be.focus&&(be.focus(),ee.shouldSelect&&Yc(be.select)&&be.select())}},ke=Q=>{n={...n,...Q}},_e={control:{register:vt,unregister:ct,getFieldState:Ue,handleSubmit:Ut,setError:at,_subscribe:Te,_runSchema:O,_focusError:Ht,_getWatch:H,_getDirty:U,_setValid:w,_setFieldArray:x,_setDisabledField:pt,_setErrors:E,_getFieldArray:J,_reset:Ee,_resetDefaultValues:()=>Yc(e.defaultValues)&&e.defaultValues().then(Q=>{We(Q,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:z,_disableForm:It,_subjects:m,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(Q){o=Q},get _defaultValues(){return s},get _names(){return l},set _names(Q){l=Q},get _formState(){return n},get _options(){return e},set _options(Q){e={...e,...Q}}},subscribe:Tt,trigger:ce,register:vt,handleSubmit:Ut,watch:it,setValue:Y,getValues:ve,reset:We,resetField:Xt,clearErrors:Ae,unregister:ct,setError:at,setFocus:Jt,getFieldState:Ue};return{..._e,formControl:_e}}function bne(t={}){const e=oe.useRef(void 0),n=oe.useRef(void 0),[r,s]=oe.useState({isDirty:!1,isValidating:!1,isLoading:Yc(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Yc(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!Yc(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...l}=xBe(t);e.current={...l,formState:r}}const i=e.current.control;return i._options=t,m4(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),oe.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),oe.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),oe.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),oe.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),oe.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),oe.useEffect(()=>{var o;t.values&&!qc(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),n.current=t.values,s(l=>({...l}))):i._resetDefaultValues()},[i,t.values]),oe.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=hne(r,i),e.current}const J9=(t,e,n)=>{if(t&&"reportValidity"in t){const r=yt(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},TL=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?J9(r.ref,n,t):r&&r.refs&&r.refs.forEach(s=>J9(s,n,t))}},Q9=(t,e)=>{e.shouldUseNativeValidation&&TL(t,e);const n={};for(const r in t){const s=yt(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(EBe(e.names||Object.keys(t),r)){const o=Object.assign({},yt(n,r));Or(o,"root",i),Or(n,r,o)}else Or(n,r,i)}return n},EBe=(t,e)=>{const n=Z9(e);return t.some(r=>Z9(r).match(`^${n}\\.\\d+`))};function Z9(t){return t.replace(/\]|\[/g,"")}function Be(t,e,n){function r(l,c){if(l._zod||Object.defineProperty(l,"_zod",{value:{def:c,constr:o,traits:new Set},enumerable:!1}),l._zod.traits.has(t))return;l._zod.traits.add(t),e(l,c);const u=o.prototype,d=Object.keys(u);for(let h=0;h<d.length;h++){const m=d[h];m in l||(l[m]=u[m].bind(l))}}const s=(n==null?void 0:n.Parent)??Object;class i extends s{}Object.defineProperty(i,"name",{value:t});function o(l){var c;const u=n!=null&&n.Parent?new i:this;r(u,l),(c=u._zod).deferred??(c.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:l=>{var c,u;return n!=null&&n.Parent&&l instanceof n.Parent?!0:(u=(c=l==null?void 0:l._zod)==null?void 0:c.traits)==null?void 0:u.has(t)}}),Object.defineProperty(o,"name",{value:t}),o}class pv extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class _ne extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const wne={};function Fp(t){return wne}function SBe(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,s])=>e.indexOf(+r)===-1).map(([r,s])=>s)}function CL(t,e){return typeof e=="bigint"?e.toString():e}function v4(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function b4(t){return t==null}function _4(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function jBe(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let s=(r.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(r)){const c=r.match(/\d?e-(\d?)/);c!=null&&c[1]&&(s=Number.parseInt(c[1]))}const i=n>s?n:s,o=Number.parseInt(t.toFixed(i).replace(".","")),l=Number.parseInt(e.toFixed(i).replace(".",""));return o%l/10**i}const X9=Symbol("evaluating");function Yr(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==X9)return r===void 0&&(r=X9,r=n()),r},set(s){Object.defineProperty(t,e,{value:s})},configurable:!0})}function fg(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function mg(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function e8(t){return JSON.stringify(t)}function TBe(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const xne="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function zT(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const CBe=v4(()=>{var t;if(typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)!=null&&t.includes("Cloudflare")))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Ox(t){if(zT(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(zT(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Ene(t){return Ox(t)?{...t}:Array.isArray(t)?[...t]:t}const ABe=new Set(["string","number","symbol"]);function KA(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function tm(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n!=null&&n.parent)&&(r._zod.parent=t),r}function en(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function NBe(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const IBe={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function kBe(t,e){const n=t._zod.def,r=mg(t._zod.def,{get shape(){const s={};for(const i in e){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&(s[i]=n.shape[i])}return fg(this,"shape",s),s},checks:[]});return tm(t,r)}function OBe(t,e){const n=t._zod.def,r=mg(t._zod.def,{get shape(){const s={...t._zod.def.shape};for(const i in e){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&delete s[i]}return fg(this,"shape",s),s},checks:[]});return tm(t,r)}function RBe(t,e){if(!Ox(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const s=mg(t._zod.def,{get shape(){const i={...t._zod.def.shape,...e};return fg(this,"shape",i),i},checks:[]});return tm(t,s)}function PBe(t,e){if(!Ox(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const r={...t._zod.def.shape,...e};return fg(this,"shape",r),r},checks:t._zod.def.checks};return tm(t,n)}function DBe(t,e){const n=mg(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return fg(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return tm(t,n)}function LBe(t,e,n){const r=mg(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(n)for(const o in n){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(i[o]=t?new t({type:"optional",innerType:s[o]}):s[o])}else for(const o in s)i[o]=t?new t({type:"optional",innerType:s[o]}):s[o];return fg(this,"shape",i),i},checks:[]});return tm(e,r)}function MBe(t,e,n){const r=mg(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(n)for(const o in n){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(i[o]=new t({type:"nonoptional",innerType:s[o]}))}else for(const o in s)i[o]=new t({type:"nonoptional",innerType:s[o]});return fg(this,"shape",i),i},checks:[]});return tm(e,r)}function Ky(t,e=0){var n;if(t.aborted===!0)return!0;for(let r=e;r<t.issues.length;r++)if(((n=t.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function Sne(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function XS(t){return typeof t=="string"?t:t==null?void 0:t.message}function Vp(t,e,n){var s,i,o,l,c,u;const r={...t,path:t.path??[]};if(!t.message){const d=XS((o=(i=(s=t.inst)==null?void 0:s._zod.def)==null?void 0:i.error)==null?void 0:o.call(i,t))??XS((l=e==null?void 0:e.error)==null?void 0:l.call(e,t))??XS((c=n.customError)==null?void 0:c.call(n,t))??XS((u=n.localeError)==null?void 0:u.call(n,t))??"Invalid input";r.message=d}return delete r.inst,delete r.continue,e!=null&&e.reportInput||delete r.input,r}function w4(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Rx(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const jne=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,CL,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},x4=Be("$ZodError",jne),JA=Be("$ZodError",jne,{Parent:Error});function $Be(t,e=n=>n.message){const n={},r=[];for(const s of t.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}function FBe(t,e=n=>n.message){const n={_errors:[]},r=s=>{for(const i of s.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(o=>r({issues:o}));else if(i.code==="invalid_key")r({issues:i.issues});else if(i.code==="invalid_element")r({issues:i.issues});else if(i.path.length===0)n._errors.push(e(i));else{let o=n,l=0;for(;l<i.path.length;){const c=i.path[l];l===i.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(e(i))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return r(t),n}const QA=t=>(e,n,r,s)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new pv;if(o.issues.length){const l=new((s==null?void 0:s.Err)??t)(o.issues.map(c=>Vp(c,i,Fp())));throw xne(l,s==null?void 0:s.callee),l}return o.value},VBe=QA(JA),ZA=t=>async(e,n,r,s)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const l=new((s==null?void 0:s.Err)??t)(o.issues.map(c=>Vp(c,i,Fp())));throw xne(l,s==null?void 0:s.callee),l}return o.value},UBe=ZA(JA),XA=t=>(e,n,r)=>{const s=r?{...r,async:!1}:{async:!1},i=e._zod.run({value:n,issues:[]},s);if(i instanceof Promise)throw new pv;return i.issues.length?{success:!1,error:new(t??x4)(i.issues.map(o=>Vp(o,s,Fp())))}:{success:!0,data:i.value}},BBe=XA(JA),eN=t=>async(e,n,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let i=e._zod.run({value:n,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new t(i.issues.map(o=>Vp(o,s,Fp())))}:{success:!0,data:i.value}},zBe=eN(JA),WBe=t=>(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return QA(t)(e,n,s)},GBe=t=>(e,n,r)=>QA(t)(e,n,r),HBe=t=>async(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ZA(t)(e,n,s)},qBe=t=>async(e,n,r)=>ZA(t)(e,n,r),YBe=t=>(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return XA(t)(e,n,s)},KBe=t=>(e,n,r)=>XA(t)(e,n,r),JBe=t=>async(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return eN(t)(e,n,s)},QBe=t=>async(e,n,r)=>eN(t)(e,n,r),ZBe=/^[cC][^\s-]{8,}$/,XBe=/^[0-9a-z]+$/,eze=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,tze=/^[0-9a-vA-V]{20}$/,nze=/^[A-Za-z0-9]{27}$/,rze=/^[a-zA-Z0-9_-]{21}$/,sze=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,ize=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,t8=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,aze=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,oze="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function lze(){return new RegExp(oze,"u")}const cze=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,uze=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,dze=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,hze=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fze=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Tne=/^[A-Za-z0-9_-]*$/,mze=/^\+(?:[0-9]){6,14}[0-9]$/,Cne="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",pze=new RegExp(`^${Cne}$`);function Ane(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function gze(t){return new RegExp(`^${Ane(t)}$`)}function yze(t){const e=Ane({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${Cne}T(?:${r})$`)}const vze=t=>{const e=t?`[\\s\\S]{${(t==null?void 0:t.minimum)??0},${(t==null?void 0:t.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},bze=/^-?\d+$/,_ze=/^-?\d+(?:\.\d+)?/,wze=/^[^A-Z]*$/,xze=/^[^a-z]*$/,Xo=Be("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),Nne={number:"number",bigint:"bigint",object:"date"},Ine=Be("$ZodCheckLessThan",(t,e)=>{Xo.init(t,e);const n=Nne[typeof e.value];t._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<i&&(e.inclusive?s.maximum=e.value:s.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),kne=Be("$ZodCheckGreaterThan",(t,e)=>{Xo.init(t,e);const n=Nne[typeof e.value];t._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>i&&(e.inclusive?s.minimum=e.value:s.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),Eze=Be("$ZodCheckMultipleOf",(t,e)=>{Xo.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):jBe(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),Sze=Be("$ZodCheckNumberFormat",(t,e)=>{var o;Xo.init(t,e),e.format=e.format||"float64";const n=(o=e.format)==null?void 0:o.includes("int"),r=n?"int":"number",[s,i]=IBe[e.format];t._zod.onattach.push(l=>{const c=l._zod.bag;c.format=e.format,c.minimum=s,c.maximum=i,n&&(c.pattern=bze)}),t._zod.check=l=>{const c=l.value;if(n){if(!Number.isInteger(c)){l.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:c,inst:t});return}if(!Number.isSafeInteger(c)){c>0?l.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort}):l.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort});return}}c<s&&l.issues.push({origin:"number",input:c,code:"too_small",minimum:s,inclusive:!0,inst:t,continue:!e.abort}),c>i&&l.issues.push({origin:"number",input:c,code:"too_big",maximum:i,inst:t})}}),jze=Be("$ZodCheckMaxLength",(t,e)=>{var n;Xo.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!b4(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<s&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const s=r.value;if(s.length<=e.maximum)return;const o=w4(s);r.issues.push({origin:o,code:"too_big",maximum:e.maximum,inclusive:!0,input:s,inst:t,continue:!e.abort})}}),Tze=Be("$ZodCheckMinLength",(t,e)=>{var n;Xo.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!b4(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>s&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const s=r.value;if(s.length>=e.minimum)return;const o=w4(s);r.issues.push({origin:o,code:"too_small",minimum:e.minimum,inclusive:!0,input:s,inst:t,continue:!e.abort})}}),Cze=Be("$ZodCheckLengthEquals",(t,e)=>{var n;Xo.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!b4(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=e.length,s.maximum=e.length,s.length=e.length}),t._zod.check=r=>{const s=r.value,i=s.length;if(i===e.length)return;const o=w4(s),l=i>e.length;r.issues.push({origin:o,...l?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),tN=Be("$ZodCheckStringFormat",(t,e)=>{var n,r;Xo.init(t,e),t._zod.onattach.push(s=>{const i=s._zod.bag;i.format=e.format,e.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=s=>{e.pattern.lastIndex=0,!e.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:e.format,input:s.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),Aze=Be("$ZodCheckRegex",(t,e)=>{tN.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),Nze=Be("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=wze),tN.init(t,e)}),Ize=Be("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=xze),tN.init(t,e)}),kze=Be("$ZodCheckIncludes",(t,e)=>{Xo.init(t,e);const n=KA(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=s=>{s.value.includes(e.includes,e.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:s.value,inst:t,continue:!e.abort})}}),Oze=Be("$ZodCheckStartsWith",(t,e)=>{Xo.init(t,e);const n=new RegExp(`^${KA(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),Rze=Be("$ZodCheckEndsWith",(t,e)=>{Xo.init(t,e);const n=new RegExp(`.*${KA(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),Pze=Be("$ZodCheckOverwrite",(t,e)=>{Xo.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class Dze{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(o=>o),s=Math.min(...r.map(o=>o.length-o.trimStart().length)),i=r.map(o=>o.slice(s)).map(o=>" ".repeat(this.indent*2)+o);for(const o of i)this.content.push(o)}compile(){const e=Function,n=this==null?void 0:this.args,s=[...((this==null?void 0:this.content)??[""]).map(i=>`  ${i}`)];return new e(...n,s.join(`
`))}}const Lze={major:4,minor:1,patch:13},li=Be("$ZodType",(t,e)=>{var s;var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=Lze;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const i of r)for(const o of i._zod.onattach)o(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),(s=t._zod.deferred)==null||s.push(()=>{t._zod.run=t._zod.parse});else{const i=(l,c,u)=>{let d=Ky(l),h;for(const m of c){if(m._zod.def.when){if(!m._zod.def.when(l))continue}else if(d)continue;const p=l.issues.length,y=m._zod.check(l);if(y instanceof Promise&&(u==null?void 0:u.async)===!1)throw new pv;if(h||y instanceof Promise)h=(h??Promise.resolve()).then(async()=>{await y,l.issues.length!==p&&(d||(d=Ky(l,p)))});else{if(l.issues.length===p)continue;d||(d=Ky(l,p))}}return h?h.then(()=>l):l},o=(l,c,u)=>{if(Ky(l))return l.aborted=!0,l;const d=i(c,r,u);if(d instanceof Promise){if(u.async===!1)throw new pv;return d.then(h=>t._zod.parse(h,u))}return t._zod.parse(d,u)};t._zod.run=(l,c)=>{if(c.skipChecks)return t._zod.parse(l,c);if(c.direction==="backward"){const d=t._zod.parse({value:l.value,issues:[]},{...c,skipChecks:!0});return d instanceof Promise?d.then(h=>o(h,l,c)):o(d,l,c)}const u=t._zod.parse(l,c);if(u instanceof Promise){if(c.async===!1)throw new pv;return u.then(d=>i(d,r,c))}return i(u,r,c)}}t["~standard"]={validate:i=>{var o;try{const l=BBe(t,i);return l.success?{value:l.data}:{issues:(o=l.error)==null?void 0:o.issues}}catch{return zBe(t,i).then(c=>{var u;return c.success?{value:c.data}:{issues:(u=c.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),E4=Be("$ZodString",(t,e)=>{var n;li.init(t,e),t._zod.pattern=[...((n=t==null?void 0:t._zod.bag)==null?void 0:n.patterns)??[]].pop()??vze(t._zod.bag),t._zod.parse=(r,s)=>{if(e.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),ys=Be("$ZodStringFormat",(t,e)=>{tN.init(t,e),E4.init(t,e)}),Mze=Be("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=ize),ys.init(t,e)}),$ze=Be("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=t8(r))}else e.pattern??(e.pattern=t8());ys.init(t,e)}),Fze=Be("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=aze),ys.init(t,e)}),Vze=Be("$ZodURL",(t,e)=>{ys.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),s=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(s.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=s.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),Uze=Be("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=lze()),ys.init(t,e)}),Bze=Be("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=rze),ys.init(t,e)}),zze=Be("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=ZBe),ys.init(t,e)}),Wze=Be("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=XBe),ys.init(t,e)}),Gze=Be("$ZodULID",(t,e)=>{e.pattern??(e.pattern=eze),ys.init(t,e)}),Hze=Be("$ZodXID",(t,e)=>{e.pattern??(e.pattern=tze),ys.init(t,e)}),qze=Be("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=nze),ys.init(t,e)}),Yze=Be("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=yze(e)),ys.init(t,e)}),Kze=Be("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=pze),ys.init(t,e)}),Jze=Be("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=gze(e)),ys.init(t,e)}),Qze=Be("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=sze),ys.init(t,e)}),Zze=Be("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=cze),ys.init(t,e),t._zod.bag.format="ipv4"}),Xze=Be("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=uze),ys.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),e6e=Be("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=dze),ys.init(t,e)}),t6e=Be("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=hze),ys.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[s,i]=r;if(!i)throw new Error;const o=Number(i);if(`${o}`!==i)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function One(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const n6e=Be("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=fze),ys.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{One(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function r6e(t){if(!Tne.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return One(n)}const s6e=Be("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=Tne),ys.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{r6e(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),i6e=Be("$ZodE164",(t,e)=>{e.pattern??(e.pattern=mze),ys.init(t,e)});function a6e(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const s=JSON.parse(atob(r));return!("typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&(!("alg"in s)||s.alg!==e))}catch{return!1}}const o6e=Be("$ZodJWT",(t,e)=>{ys.init(t,e),t._zod.check=n=>{a6e(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),Rne=Be("$ZodNumber",(t,e)=>{li.init(t,e),t._zod.pattern=t._zod.bag.pattern??_ze,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const s=n.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return n;const i=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:s,inst:t,...i?{received:i}:{}}),n}}),l6e=Be("$ZodNumberFormat",(t,e)=>{Sze.init(t,e),Rne.init(t,e)}),c6e=Be("$ZodAny",(t,e)=>{li.init(t,e),t._zod.parse=n=>n}),u6e=Be("$ZodUnknown",(t,e)=>{li.init(t,e),t._zod.parse=n=>n}),d6e=Be("$ZodNever",(t,e)=>{li.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function n8(t,e,n){t.issues.length&&e.issues.push(...Sne(n,t.issues)),e.value[n]=t.value}const h6e=Be("$ZodArray",(t,e)=>{li.init(t,e),t._zod.parse=(n,r)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:t}),n;n.value=Array(s.length);const i=[];for(let o=0;o<s.length;o++){const l=s[o],c=e.element._zod.run({value:l,issues:[]},r);c instanceof Promise?i.push(c.then(u=>n8(u,n,o))):n8(c,n,o)}return i.length?Promise.all(i).then(()=>n):n}});function WT(t,e,n,r){t.issues.length&&e.issues.push(...Sne(n,t.issues)),t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function Pne(t){var r,s,i,o;const e=Object.keys(t.shape);for(const l of e)if(!((o=(i=(s=(r=t.shape)==null?void 0:r[l])==null?void 0:s._zod)==null?void 0:i.traits)!=null&&o.has("$ZodType")))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const n=NBe(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function Dne(t,e,n,r,s,i){const o=[],l=s.keySet,c=s.catchall._zod,u=c.def.type;for(const d in e){if(l.has(d))continue;if(u==="never"){o.push(d);continue}const h=c.run({value:e[d],issues:[]},r);h instanceof Promise?t.push(h.then(m=>WT(m,n,d,e))):WT(h,n,d,e)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:e,inst:i}),t.length?Promise.all(t).then(()=>n):n}const f6e=Be("$ZodObject",(t,e)=>{li.init(t,e);const n=Object.getOwnPropertyDescriptor(e,"shape");if(!(n!=null&&n.get)){const l=e.shape;Object.defineProperty(e,"shape",{get:()=>{const c={...l};return Object.defineProperty(e,"shape",{value:c}),c}})}const r=v4(()=>Pne(e));Yr(t._zod,"propValues",()=>{const l=e.shape,c={};for(const u in l){const d=l[u]._zod;if(d.values){c[u]??(c[u]=new Set);for(const h of d.values)c[u].add(h)}}return c});const s=zT,i=e.catchall;let o;t._zod.parse=(l,c)=>{o??(o=r.value);const u=l.value;if(!s(u))return l.issues.push({expected:"object",code:"invalid_type",input:u,inst:t}),l;l.value={};const d=[],h=o.shape;for(const m of o.keys){const y=h[m]._zod.run({value:u[m],issues:[]},c);y instanceof Promise?d.push(y.then(w=>WT(w,l,m,u))):WT(y,l,m,u)}return i?Dne(d,u,l,c,r.value,t):d.length?Promise.all(d).then(()=>l):l}}),m6e=Be("$ZodObjectJIT",(t,e)=>{f6e.init(t,e);const n=t._zod.parse,r=v4(()=>Pne(e)),s=m=>{const p=new Dze(["shape","payload","ctx"]),y=r.value,w=E=>{const T=e8(E);return`shape[${T}]._zod.run({ value: input[${T}], issues: [] }, ctx)`};p.write("const input = payload.value;");const v=Object.create(null);let x=0;for(const E of y.keys)v[E]=`key_${x++}`;p.write("const newResult = {};");for(const E of y.keys){const T=v[E],N=e8(E);p.write(`const ${T} = ${w(E)};`),p.write(`
        if (${T}.issues.length) {
          payload.issues = payload.issues.concat(${T}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${N}, ...iss.path] : [${N}]
          })));
        }
        
        
        if (${T}.value === undefined) {
          if (${N} in input) {
            newResult[${N}] = undefined;
          }
        } else {
          newResult[${N}] = ${T}.value;
        }
        
      `)}p.write("payload.value = newResult;"),p.write("return payload;");const _=p.compile();return(E,T)=>_(m,E,T)};let i;const o=zT,l=!wne.jitless,u=l&&CBe.value,d=e.catchall;let h;t._zod.parse=(m,p)=>{h??(h=r.value);const y=m.value;return o(y)?l&&u&&(p==null?void 0:p.async)===!1&&p.jitless!==!0?(i||(i=s(e.shape)),m=i(m,p),d?Dne([],y,m,p,h,t):m):n(m,p):(m.issues.push({expected:"object",code:"invalid_type",input:y,inst:t}),m)}});function r8(t,e,n,r){for(const i of t)if(i.issues.length===0)return e.value=i.value,e;const s=t.filter(i=>!Ky(i));return s.length===1?(e.value=s[0].value,s[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(i=>i.issues.map(o=>Vp(o,r,Fp())))}),e)}const p6e=Be("$ZodUnion",(t,e)=>{li.init(t,e),Yr(t._zod,"optin",()=>e.options.some(s=>s._zod.optin==="optional")?"optional":void 0),Yr(t._zod,"optout",()=>e.options.some(s=>s._zod.optout==="optional")?"optional":void 0),Yr(t._zod,"values",()=>{if(e.options.every(s=>s._zod.values))return new Set(e.options.flatMap(s=>Array.from(s._zod.values)))}),Yr(t._zod,"pattern",()=>{if(e.options.every(s=>s._zod.pattern)){const s=e.options.map(i=>i._zod.pattern);return new RegExp(`^(${s.map(i=>_4(i.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(s,i)=>{if(n)return r(s,i);let o=!1;const l=[];for(const c of e.options){const u=c._zod.run({value:s.value,issues:[]},i);if(u instanceof Promise)l.push(u),o=!0;else{if(u.issues.length===0)return u;l.push(u)}}return o?Promise.all(l).then(c=>r8(c,s,t,i)):r8(l,s,t,i)}}),g6e=Be("$ZodIntersection",(t,e)=>{li.init(t,e),t._zod.parse=(n,r)=>{const s=n.value,i=e.left._zod.run({value:s,issues:[]},r),o=e.right._zod.run({value:s,issues:[]},r);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([c,u])=>s8(n,c,u)):s8(n,i,o)}});function AL(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Ox(t)&&Ox(e)){const n=Object.keys(e),r=Object.keys(t).filter(i=>n.indexOf(i)!==-1),s={...t,...e};for(const i of r){const o=AL(t[i],e[i]);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};s[i]=o.data}return{valid:!0,data:s}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const s=t[r],i=e[r],o=AL(s,i);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function s8(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),Ky(t))return t;const r=AL(e.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return t.value=r.data,t}const y6e=Be("$ZodEnum",(t,e)=>{li.init(t,e);const n=SBe(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(s=>ABe.has(typeof s)).map(s=>typeof s=="string"?KA(s):s.toString()).join("|")})$`),t._zod.parse=(s,i)=>{const o=s.value;return r.has(o)||s.issues.push({code:"invalid_value",values:n,input:o,inst:t}),s}}),v6e=Be("$ZodTransform",(t,e)=>{li.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new _ne(t.constructor.name);const s=e.transform(n.value,n);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(o=>(n.value=o,n));if(s instanceof Promise)throw new pv;return n.value=s,n}});function i8(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const b6e=Be("$ZodOptional",(t,e)=>{li.init(t,e),t._zod.optin="optional",t._zod.optout="optional",Yr(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Yr(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${_4(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>i8(i,n.value)):i8(s,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),_6e=Be("$ZodNullable",(t,e)=>{li.init(t,e),Yr(t._zod,"optin",()=>e.innerType._zod.optin),Yr(t._zod,"optout",()=>e.innerType._zod.optout),Yr(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${_4(n.source)}|null)$`):void 0}),Yr(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),w6e=Be("$ZodDefault",(t,e)=>{li.init(t,e),t._zod.optin="optional",Yr(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>a8(i,e)):a8(s,e)}});function a8(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const x6e=Be("$ZodPrefault",(t,e)=>{li.init(t,e),t._zod.optin="optional",Yr(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),E6e=Be("$ZodNonOptional",(t,e)=>{li.init(t,e),Yr(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>o8(i,t)):o8(s,t)}});function o8(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const S6e=Be("$ZodCatch",(t,e)=>{li.init(t,e),Yr(t._zod,"optin",()=>e.innerType._zod.optin),Yr(t._zod,"optout",()=>e.innerType._zod.optout),Yr(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(o=>Vp(o,r,Fp()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=e.catchValue({...n,error:{issues:s.issues.map(i=>Vp(i,r,Fp()))},input:n.value}),n.issues=[]),n)}}),j6e=Be("$ZodPipe",(t,e)=>{li.init(t,e),Yr(t._zod,"values",()=>e.in._zod.values),Yr(t._zod,"optin",()=>e.in._zod.optin),Yr(t._zod,"optout",()=>e.out._zod.optout),Yr(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const i=e.out._zod.run(n,r);return i instanceof Promise?i.then(o=>ej(o,e.in,r)):ej(i,e.in,r)}const s=e.in._zod.run(n,r);return s instanceof Promise?s.then(i=>ej(i,e.out,r)):ej(s,e.out,r)}});function ej(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const T6e=Be("$ZodReadonly",(t,e)=>{li.init(t,e),Yr(t._zod,"propValues",()=>e.innerType._zod.propValues),Yr(t._zod,"values",()=>e.innerType._zod.values),Yr(t._zod,"optin",()=>{var n,r;return(r=(n=e.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),Yr(t._zod,"optout",()=>{var n,r;return(r=(n=e.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(l8):l8(s)}});function l8(t){return t.value=Object.freeze(t.value),t}const C6e=Be("$ZodCustom",(t,e)=>{Xo.init(t,e),li.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,s=e.fn(r);if(s instanceof Promise)return s.then(i=>c8(i,n,r,t));c8(s,n,r,t)}});function c8(t,e,n,r){if(!t){const s={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),e.issues.push(Rx(s))}}var u8;class A6e{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const s={...r,...this._map.get(e)};return Object.keys(s).length?s:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function N6e(){return new A6e}(u8=globalThis).__zod_globalRegistry??(u8.__zod_globalRegistry=N6e());const tj=globalThis.__zod_globalRegistry;function I6e(t,e){return new t({type:"string",...en(e)})}function k6e(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...en(e)})}function d8(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...en(e)})}function O6e(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...en(e)})}function R6e(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...en(e)})}function P6e(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...en(e)})}function D6e(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...en(e)})}function L6e(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...en(e)})}function M6e(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...en(e)})}function $6e(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...en(e)})}function F6e(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...en(e)})}function V6e(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...en(e)})}function U6e(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...en(e)})}function B6e(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...en(e)})}function z6e(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...en(e)})}function W6e(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...en(e)})}function G6e(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...en(e)})}function H6e(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...en(e)})}function q6e(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...en(e)})}function Y6e(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...en(e)})}function K6e(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...en(e)})}function J6e(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...en(e)})}function Q6e(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...en(e)})}function Z6e(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...en(e)})}function X6e(t,e){return new t({type:"string",format:"date",check:"string_format",...en(e)})}function e9e(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...en(e)})}function t9e(t,e){return new t({type:"string",format:"duration",check:"string_format",...en(e)})}function n9e(t,e){return new t({type:"number",checks:[],...en(e)})}function r9e(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...en(e)})}function s9e(t){return new t({type:"any"})}function i9e(t){return new t({type:"unknown"})}function a9e(t,e){return new t({type:"never",...en(e)})}function h8(t,e){return new Ine({check:"less_than",...en(e),value:t,inclusive:!1})}function wR(t,e){return new Ine({check:"less_than",...en(e),value:t,inclusive:!0})}function f8(t,e){return new kne({check:"greater_than",...en(e),value:t,inclusive:!1})}function xR(t,e){return new kne({check:"greater_than",...en(e),value:t,inclusive:!0})}function m8(t,e){return new Eze({check:"multiple_of",...en(e),value:t})}function Lne(t,e){return new jze({check:"max_length",...en(e),maximum:t})}function GT(t,e){return new Tze({check:"min_length",...en(e),minimum:t})}function Mne(t,e){return new Cze({check:"length_equals",...en(e),length:t})}function o9e(t,e){return new Aze({check:"string_format",format:"regex",...en(e),pattern:t})}function l9e(t){return new Nze({check:"string_format",format:"lowercase",...en(t)})}function c9e(t){return new Ize({check:"string_format",format:"uppercase",...en(t)})}function u9e(t,e){return new kze({check:"string_format",format:"includes",...en(e),includes:t})}function d9e(t,e){return new Oze({check:"string_format",format:"starts_with",...en(e),prefix:t})}function h9e(t,e){return new Rze({check:"string_format",format:"ends_with",...en(e),suffix:t})}function Sb(t){return new Pze({check:"overwrite",tx:t})}function f9e(t){return Sb(e=>e.normalize(t))}function m9e(){return Sb(t=>t.trim())}function p9e(){return Sb(t=>t.toLowerCase())}function g9e(){return Sb(t=>t.toUpperCase())}function y9e(){return Sb(t=>TBe(t))}function v9e(t,e,n){return new t({type:"array",element:e,...en(n)})}function b9e(t,e,n){return new t({type:"custom",check:"custom",fn:e,...en(n)})}function _9e(t){const e=w9e(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Rx(r,n.value,e._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=e),s.continue??(s.continue=!e._zod.def.abort),n.issues.push(Rx(s))}},t(n.value,n)));return e}function w9e(t,e){const n=new Xo({check:"custom",...en(e)});return n._zod.check=t,n}function p8(t,e){try{var n=t()}catch(r){return e(r)}return n&&n.then?n.then(void 0,e):n}function x9e(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return t.push(h)})}),e){var c=n[o].types,u=c&&c[r.code];n[o]=p4(o,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n}function E9e(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if(r.code==="invalid_union"&&r.errors.length>0){var l=r.errors[0][0];n[o]={message:l.message,type:l.code}}else n[o]={message:i,type:s};if(r.code==="invalid_union"&&r.errors.forEach(function(d){return d.forEach(function(h){return t.push(h)})}),e){var c=n[o].types,u=c&&c[r.code];n[o]=p4(o,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n}function $ne(t,e,n){if(n===void 0&&(n={}),function(r){return"_def"in r&&typeof r._def=="object"&&"typeName"in r._def}(t))return function(r,s,i){try{return Promise.resolve(p8(function(){return Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(o){return i.shouldUseNativeValidation&&TL({},i),{errors:{},values:n.raw?Object.assign({},r):o}})},function(o){if(function(l){return Array.isArray(l==null?void 0:l.issues)}(o))return{values:{},errors:Q9(x9e(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};if(function(r){return"_zod"in r&&typeof r._zod=="object"}(t))return function(r,s,i){try{return Promise.resolve(p8(function(){return Promise.resolve((n.mode==="sync"?VBe:UBe)(t,r,e)).then(function(o){return i.shouldUseNativeValidation&&TL({},i),{errors:{},values:n.raw?Object.assign({},r):o}})},function(o){if(function(l){return l instanceof x4}(o))return{values:{},errors:Q9(E9e(o.issues,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};throw new Error("Invalid input: not a Zod schema")}const S9e=Be("ZodISODateTime",(t,e)=>{Yze.init(t,e),Os.init(t,e)});function j9e(t){return Z6e(S9e,t)}const T9e=Be("ZodISODate",(t,e)=>{Kze.init(t,e),Os.init(t,e)});function C9e(t){return X6e(T9e,t)}const A9e=Be("ZodISOTime",(t,e)=>{Jze.init(t,e),Os.init(t,e)});function N9e(t){return e9e(A9e,t)}const I9e=Be("ZodISODuration",(t,e)=>{Qze.init(t,e),Os.init(t,e)});function k9e(t){return t9e(I9e,t)}const O9e=(t,e)=>{x4.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>FBe(t,n)},flatten:{value:n=>$Be(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,CL,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,CL,2)}},isEmpty:{get(){return t.issues.length===0}}})},jc=Be("ZodError",O9e,{Parent:Error}),R9e=QA(jc),P9e=ZA(jc),D9e=XA(jc),L9e=eN(jc),M9e=WBe(jc),$9e=GBe(jc),F9e=HBe(jc),V9e=qBe(jc),U9e=YBe(jc),B9e=KBe(jc),z9e=JBe(jc),W9e=QBe(jc),vi=Be("ZodType",(t,e)=>(li.init(t,e),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(mg(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),t.clone=(n,r)=>tm(t,n,r),t.brand=()=>t,t.register=(n,r)=>(n.add(t,r),t),t.parse=(n,r)=>R9e(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>D9e(t,n,r),t.parseAsync=async(n,r)=>P9e(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>L9e(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>M9e(t,n,r),t.decode=(n,r)=>$9e(t,n,r),t.encodeAsync=async(n,r)=>F9e(t,n,r),t.decodeAsync=async(n,r)=>V9e(t,n,r),t.safeEncode=(n,r)=>U9e(t,n,r),t.safeDecode=(n,r)=>B9e(t,n,r),t.safeEncodeAsync=async(n,r)=>z9e(t,n,r),t.safeDecodeAsync=async(n,r)=>W9e(t,n,r),t.refine=(n,r)=>t.check(L8e(n,r)),t.superRefine=n=>t.check(M8e(n)),t.overwrite=n=>t.check(Sb(n)),t.optional=()=>b8(t),t.nullable=()=>_8(t),t.nullish=()=>b8(_8(t)),t.nonoptional=n=>N8e(t,n),t.array=()=>p8e(t),t.or=n=>v8e([t,n]),t.and=n=>_8e(t,n),t.transform=n=>w8(t,E8e(n)),t.default=n=>T8e(t,n),t.prefault=n=>A8e(t,n),t.catch=n=>k8e(t,n),t.pipe=n=>w8(t,n),t.readonly=()=>P8e(t),t.describe=n=>{const r=t.clone();return tj.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){var n;return(n=tj.get(t))==null?void 0:n.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return tj.get(t);const r=t.clone();return tj.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),Fne=Be("_ZodString",(t,e)=>{E4.init(t,e),vi.init(t,e);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(o9e(...r)),t.includes=(...r)=>t.check(u9e(...r)),t.startsWith=(...r)=>t.check(d9e(...r)),t.endsWith=(...r)=>t.check(h9e(...r)),t.min=(...r)=>t.check(GT(...r)),t.max=(...r)=>t.check(Lne(...r)),t.length=(...r)=>t.check(Mne(...r)),t.nonempty=(...r)=>t.check(GT(1,...r)),t.lowercase=r=>t.check(l9e(r)),t.uppercase=r=>t.check(c9e(r)),t.trim=()=>t.check(m9e()),t.normalize=(...r)=>t.check(f9e(...r)),t.toLowerCase=()=>t.check(p9e()),t.toUpperCase=()=>t.check(g9e()),t.slugify=()=>t.check(y9e())}),G9e=Be("ZodString",(t,e)=>{E4.init(t,e),Fne.init(t,e),t.email=n=>t.check(k6e(H9e,n)),t.url=n=>t.check(L6e(q9e,n)),t.jwt=n=>t.check(Q6e(l8e,n)),t.emoji=n=>t.check(M6e(Y9e,n)),t.guid=n=>t.check(d8(g8,n)),t.uuid=n=>t.check(O6e(nj,n)),t.uuidv4=n=>t.check(R6e(nj,n)),t.uuidv6=n=>t.check(P6e(nj,n)),t.uuidv7=n=>t.check(D6e(nj,n)),t.nanoid=n=>t.check($6e(K9e,n)),t.guid=n=>t.check(d8(g8,n)),t.cuid=n=>t.check(F6e(J9e,n)),t.cuid2=n=>t.check(V6e(Q9e,n)),t.ulid=n=>t.check(U6e(Z9e,n)),t.base64=n=>t.check(Y6e(i8e,n)),t.base64url=n=>t.check(K6e(a8e,n)),t.xid=n=>t.check(B6e(X9e,n)),t.ksuid=n=>t.check(z6e(e8e,n)),t.ipv4=n=>t.check(W6e(t8e,n)),t.ipv6=n=>t.check(G6e(n8e,n)),t.cidrv4=n=>t.check(H6e(r8e,n)),t.cidrv6=n=>t.check(q6e(s8e,n)),t.e164=n=>t.check(J6e(o8e,n)),t.datetime=n=>t.check(j9e(n)),t.date=n=>t.check(C9e(n)),t.time=n=>t.check(N9e(n)),t.duration=n=>t.check(k9e(n))});function Vne(t){return I6e(G9e,t)}const Os=Be("ZodStringFormat",(t,e)=>{ys.init(t,e),Fne.init(t,e)}),H9e=Be("ZodEmail",(t,e)=>{Fze.init(t,e),Os.init(t,e)}),g8=Be("ZodGUID",(t,e)=>{Mze.init(t,e),Os.init(t,e)}),nj=Be("ZodUUID",(t,e)=>{$ze.init(t,e),Os.init(t,e)}),q9e=Be("ZodURL",(t,e)=>{Vze.init(t,e),Os.init(t,e)}),Y9e=Be("ZodEmoji",(t,e)=>{Uze.init(t,e),Os.init(t,e)}),K9e=Be("ZodNanoID",(t,e)=>{Bze.init(t,e),Os.init(t,e)}),J9e=Be("ZodCUID",(t,e)=>{zze.init(t,e),Os.init(t,e)}),Q9e=Be("ZodCUID2",(t,e)=>{Wze.init(t,e),Os.init(t,e)}),Z9e=Be("ZodULID",(t,e)=>{Gze.init(t,e),Os.init(t,e)}),X9e=Be("ZodXID",(t,e)=>{Hze.init(t,e),Os.init(t,e)}),e8e=Be("ZodKSUID",(t,e)=>{qze.init(t,e),Os.init(t,e)}),t8e=Be("ZodIPv4",(t,e)=>{Zze.init(t,e),Os.init(t,e)}),n8e=Be("ZodIPv6",(t,e)=>{Xze.init(t,e),Os.init(t,e)}),r8e=Be("ZodCIDRv4",(t,e)=>{e6e.init(t,e),Os.init(t,e)}),s8e=Be("ZodCIDRv6",(t,e)=>{t6e.init(t,e),Os.init(t,e)}),i8e=Be("ZodBase64",(t,e)=>{n6e.init(t,e),Os.init(t,e)}),a8e=Be("ZodBase64URL",(t,e)=>{s6e.init(t,e),Os.init(t,e)}),o8e=Be("ZodE164",(t,e)=>{i6e.init(t,e),Os.init(t,e)}),l8e=Be("ZodJWT",(t,e)=>{o6e.init(t,e),Os.init(t,e)}),Une=Be("ZodNumber",(t,e)=>{Rne.init(t,e),vi.init(t,e),t.gt=(r,s)=>t.check(f8(r,s)),t.gte=(r,s)=>t.check(xR(r,s)),t.min=(r,s)=>t.check(xR(r,s)),t.lt=(r,s)=>t.check(h8(r,s)),t.lte=(r,s)=>t.check(wR(r,s)),t.max=(r,s)=>t.check(wR(r,s)),t.int=r=>t.check(y8(r)),t.safe=r=>t.check(y8(r)),t.positive=r=>t.check(f8(0,r)),t.nonnegative=r=>t.check(xR(0,r)),t.negative=r=>t.check(h8(0,r)),t.nonpositive=r=>t.check(wR(0,r)),t.multipleOf=(r,s)=>t.check(m8(r,s)),t.step=(r,s)=>t.check(m8(r,s)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function Bne(t){return n9e(Une,t)}const c8e=Be("ZodNumberFormat",(t,e)=>{l6e.init(t,e),Une.init(t,e)});function y8(t){return r9e(c8e,t)}const u8e=Be("ZodAny",(t,e)=>{c6e.init(t,e),vi.init(t,e)});function zne(){return s9e(u8e)}const d8e=Be("ZodUnknown",(t,e)=>{u6e.init(t,e),vi.init(t,e)});function v8(){return i9e(d8e)}const h8e=Be("ZodNever",(t,e)=>{d6e.init(t,e),vi.init(t,e)});function f8e(t){return a9e(h8e,t)}const m8e=Be("ZodArray",(t,e)=>{h6e.init(t,e),vi.init(t,e),t.element=e.element,t.min=(n,r)=>t.check(GT(n,r)),t.nonempty=n=>t.check(GT(1,n)),t.max=(n,r)=>t.check(Lne(n,r)),t.length=(n,r)=>t.check(Mne(n,r)),t.unwrap=()=>t.element});function p8e(t,e){return v9e(m8e,t,e)}const g8e=Be("ZodObject",(t,e)=>{m6e.init(t,e),vi.init(t,e),Yr(t,"shape",()=>e.shape),t.keyof=()=>w8e(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:v8()}),t.loose=()=>t.clone({...t._zod.def,catchall:v8()}),t.strict=()=>t.clone({...t._zod.def,catchall:f8e()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>RBe(t,n),t.safeExtend=n=>PBe(t,n),t.merge=n=>DBe(t,n),t.pick=n=>kBe(t,n),t.omit=n=>OBe(t,n),t.partial=(...n)=>LBe(Gne,t,n[0]),t.required=(...n)=>MBe(Hne,t,n[0])});function Wne(t,e){const n={type:"object",shape:t??{},...en(e)};return new g8e(n)}const y8e=Be("ZodUnion",(t,e)=>{p6e.init(t,e),vi.init(t,e),t.options=e.options});function v8e(t,e){return new y8e({type:"union",options:t,...en(e)})}const b8e=Be("ZodIntersection",(t,e)=>{g6e.init(t,e),vi.init(t,e)});function _8e(t,e){return new b8e({type:"intersection",left:t,right:e})}const NL=Be("ZodEnum",(t,e)=>{y6e.init(t,e),vi.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,s)=>{const i={};for(const o of r)if(n.has(o))i[o]=e.entries[o];else throw new Error(`Key ${o} not found in enum`);return new NL({...e,checks:[],...en(s),entries:i})},t.exclude=(r,s)=>{const i={...e.entries};for(const o of r)if(n.has(o))delete i[o];else throw new Error(`Key ${o} not found in enum`);return new NL({...e,checks:[],...en(s),entries:i})}});function w8e(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new NL({type:"enum",entries:n,...en(e)})}const x8e=Be("ZodTransform",(t,e)=>{v6e.init(t,e),vi.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new _ne(t.constructor.name);n.addIssue=i=>{if(typeof i=="string")n.issues.push(Rx(i,n.value,e));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),n.issues.push(Rx(o))}};const s=e.transform(n.value,n);return s instanceof Promise?s.then(i=>(n.value=i,n)):(n.value=s,n)}});function E8e(t){return new x8e({type:"transform",transform:t})}const Gne=Be("ZodOptional",(t,e)=>{b6e.init(t,e),vi.init(t,e),t.unwrap=()=>t._zod.def.innerType});function b8(t){return new Gne({type:"optional",innerType:t})}const S8e=Be("ZodNullable",(t,e)=>{_6e.init(t,e),vi.init(t,e),t.unwrap=()=>t._zod.def.innerType});function _8(t){return new S8e({type:"nullable",innerType:t})}const j8e=Be("ZodDefault",(t,e)=>{w6e.init(t,e),vi.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function T8e(t,e){return new j8e({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():Ene(e)}})}const C8e=Be("ZodPrefault",(t,e)=>{x6e.init(t,e),vi.init(t,e),t.unwrap=()=>t._zod.def.innerType});function A8e(t,e){return new C8e({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():Ene(e)}})}const Hne=Be("ZodNonOptional",(t,e)=>{E6e.init(t,e),vi.init(t,e),t.unwrap=()=>t._zod.def.innerType});function N8e(t,e){return new Hne({type:"nonoptional",innerType:t,...en(e)})}const I8e=Be("ZodCatch",(t,e)=>{S6e.init(t,e),vi.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function k8e(t,e){return new I8e({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const O8e=Be("ZodPipe",(t,e)=>{j6e.init(t,e),vi.init(t,e),t.in=e.in,t.out=e.out});function w8(t,e){return new O8e({type:"pipe",in:t,out:e})}const R8e=Be("ZodReadonly",(t,e)=>{T6e.init(t,e),vi.init(t,e),t.unwrap=()=>t._zod.def.innerType});function P8e(t){return new R8e({type:"readonly",innerType:t})}const D8e=Be("ZodCustom",(t,e)=>{C6e.init(t,e),vi.init(t,e)});function L8e(t,e={}){return b9e(D8e,t,e)}function M8e(t){return _9e(t)}const qne=async()=>{const{data:t,error:e}=await fe.from("customers").select("id, full_name:name, mobile").order("name",{ascending:!0});return e?(console.error("Error fetching owners:",e),[]):t||[]},Yne=async t=>{const{data:e,error:n}=await fe.rpc("get_owner_products_summary",{p_owner_id:Number(t)});if(n)throw console.error("Error fetching products:",n),n;return e||[]},Kne=async(t,e)=>{const{data:n,error:r}=await fe.rpc("get_batches_with_history",{p_owner_id:Number(t),p_product_id:Number(e)});if(r)throw console.error("Error fetching batches:",r),r;return n||[]},Jne=async t=>{if(!t)return null;const e=t.name.split(".").pop(),r=`${`${Date.now()}_${Math.random().toString(36).substring(2)}.${e}`}`,{data:s,error:i}=await fe.storage.from("clearance_attachments").upload(r,t,{cacheControl:"3600",upsert:!1});if(i)throw console.error("Upload Error Details:",i),i;const{data:o}=fe.storage.from("clearance_attachments").getPublicUrl(r);return o.publicUrl},$8e=async t=>{const{data:e,error:n}=await fe.rpc("create_clearance_with_items",{p_payload:t});if(n)throw n;return e},F8e=async(t={})=>{let e=fe.from("view_clearance_report").select("*");t.customer&&t.customer.trim()!==""&&(e=e.ilike("customer_name",`%${t.customer}%`)),t.product&&t.product.trim()!==""&&(e=e.ilike("product_name",`%${t.product}%`)),t.clearanceNo&&t.clearanceNo.trim()!==""&&(e=e.eq("clearance_no",t.clearanceNo)),t.batchNo&&t.batchNo.trim()!==""&&(e=e.ilike("batch_no",`%${t.batchNo}%`)),t.status&&t.status.trim()!==""&&(e=e.eq("operational_status",t.status));const{data:n,error:r}=await e.order("clearance_date",{ascending:!1});if(r)throw console.error("Error fetching report:",r),r;return n||[]},V8e=async t=>{const{data:e,error:n}=await fe.rpc("delete_clearance",{p_clearance_id:t});if(n)throw n;return e},U8e=async t=>{const{data:e,error:n}=await fe.from("clearances").select("*, customer:customers(id, name, mobile)").eq("id",t).single();if(n)throw n;const{data:r,error:s}=await fe.from("clearance_items").select("*, product:products(id, name)").eq("clearance_id",t);if(s)throw s;return{...e,items:r}},B8e=async(t,e)=>{const{data:n,error:r}=await fe.rpc("update_clearance_full",{p_clearance_id:t,p_payload:e});if(r)throw r;return n},z8e=async t=>{try{const e=t.startsWith("0")?t.replace("0","+98"):t,{data:n,error:r}=await fe.auth.signInWithOtp({phone:e});if(r)throw r;return{success:!0,data:n}}catch(e){return console.error("Auth Error:",e),{success:!1,error:e.message}}},W8e=async(t,e)=>{try{const n=t.startsWith("0")?t.replace("0","+98"):t,{data:r,error:s}=await fe.auth.verifyOtp({phone:n,token:e,type:"sms"});if(s)throw s;return{success:!0,session:r.session,user:r.user}}catch(n){return console.error("Verify Error:",n),{success:!1,error:n.message}}},S4=z8e,j4=W8e,Qne=(t,e)=>{const n=[];return t.filter(s=>s.parent_batch_no===e).forEach(s=>{const i=Qne(t,s.batch_no);n.push({...s,children:i})}),n},Zne=({item:t,level:e,onOpenModal:n,flatHistory:r})=>{const[s,i]=C.useState(!1),o=t.children||[],l=o.length>0,c=m=>m?new Date(m).toLocaleDateString("fa-IR"):"-",u=()=>{if(e===0)return{qty:t.qty_available,weight:t.weight_available};{const m=Number(t.qty||0),p=Number(t.weight||0),y=o.reduce((v,x)=>v+Number(x.qty||0),0),w=o.reduce((v,x)=>v+Number(x.weight||0),0);return{qty:m-y,weight:p-w}}},d=()=>{const m=t.batch_no||t.new_batch_no||" ",p=m===" ",y=u();if(y.qty<=0&&y.weight<=0)return ae.warn("     .");let w=1;if(!p){const v=r.filter(_=>_.parent_batch_no===m);let x=0;v.length>0&&v.forEach(_=>{const E=_.batch_no.split("/"),T=parseInt(E[E.length-1]);!isNaN(T)&&T>x&&(x=T)}),w=x+1}n({batch_no:m,qty_available:y.qty,weight_available:y.weight,next_index:w,isNoBatch:p})},h={backgroundColor:e===0?"#fff":`rgba(240, 242, 245, ${.3+e*.05})`,borderRight:e>0?`4px solid ${e%2===0?"#34c38f":"#556ee6"}`:"none"};return a.jsxs(a.Fragment,{children:[a.jsxs("tr",{style:h,className:"align-middle",children:[a.jsx("td",{className:"ps-3",children:a.jsxs("div",{className:"d-flex align-items-center",style:{marginLeft:`${e*25}px`},children:[e>0&&a.jsx("span",{style:{color:e%2===0?"#34c38f":"#556ee6",marginRight:"8px",fontSize:"18px"},children:""}),a.jsx("div",{className:`d-flex align-items-center justify-content-center rounded-circle border ${l?"cursor-pointer":""}`,style:{width:"24px",height:"24px",backgroundColor:l?"#fff":"transparent",borderColor:l?"#556ee6":"#ccc"},onClick:()=>l&&i(!s),children:l?s?a.jsx("i",{className:"bx bx-minus font-size-10"}):a.jsx("i",{className:"bx bx-plus font-size-10"}):a.jsx("i",{className:"mdi mdi-circle-small font-size-18 text-muted"})}),a.jsx("span",{className:`ms-2 font-monospace ${e===0?"fw-bold text-primary font-size-14":"font-size-13 text-dark"}`,children:t.batch_no||t.new_batch_no||" "})]})}),e===0?a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"text-center",children:a.jsx(ut,{className:"bg-success font-size-12 px-3",children:Number(t.qty_available).toLocaleString()})}),a.jsx("td",{className:"text-center font-monospace",children:Number(t.weight_available).toLocaleString()}),a.jsx("td",{colSpan:4,className:"text-center text-muted font-size-11 fst-italic",children:"---   ---"})]}):a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"text-center fw-bold text-secondary",children:Number(t.qty).toLocaleString()}),a.jsx("td",{className:"text-center text-secondary",children:t.weight?Number(t.weight).toLocaleString():"-"}),a.jsx("td",{className:"font-size-12 font-monospace text-secondary",children:t.manual_ref_id||"-"}),a.jsx("td",{className:"font-size-12 text-truncate",style:{maxWidth:"120px"},title:t.receiver_name,children:t.receiver_name}),a.jsx("td",{className:"font-size-12",children:c(t.transaction_date||t.created_at)}),a.jsx("td",{className:"text-center",children:a.jsx("i",{className:"bx bx-check-circle text-success font-size-18"})})]}),a.jsx("td",{className:"text-end pe-3",children:a.jsxs("div",{className:"d-flex justify-content-end gap-2 align-items-center",children:[a.jsxs(me,{color:"primary",size:"sm",className:"btn-rounded py-1 px-3 shadow-sm",onClick:d,children:[a.jsx("i",{className:"bx bx-git-branch me-1"}),a.jsx("span",{children:"  / "})]}),e>0&&t.attachment_url&&a.jsx("a",{href:t.attachment_url,target:"_blank",rel:"noreferrer",className:"btn btn-sm btn-soft-secondary rounded-circle ms-1",children:a.jsx("i",{className:"bx bx-download"})})]})})]}),s&&l&&t.children.map(m=>a.jsx(Zne,{item:m,level:e+1,onOpenModal:n,flatHistory:r},m.id))]})},G8e=({item:t,onOpenModal:e})=>{const n=C.useMemo(()=>Qne(t.history||[],t.batch_no),[t.history,t.batch_no]);return a.jsx(Zne,{item:{...t,children:n},level:0,onOpenModal:e,flatHistory:t.history||[]})},H8e=Wne({docDate:zne().refine(t=>!!t,"  "),customerId:Bne({required_error:"    "}),manualDocRef:Vne().optional()});function q8e(){const[t,e]=C.useState([]),[n,r]=C.useState(!1),[s,i]=C.useState(!1),[o,l]=C.useState([]),[c,u]=C.useState([]),[d,h]=C.useState([]),[m,p]=C.useState(!1),[y,w]=C.useState(!1),[v,x]=C.useState(!1),[_,E]=C.useState(null),[T,N]=C.useState(null),[D,O]=C.useState(!1),[F,V]=C.useState({qty:"",weight:"",manualRef:"",receiverName:"",receiverNationalId:"",driverName:"",plateNumber:"",description:""}),[z,U]=C.useState({}),[H,J]=C.useState(""),[q,L]=C.useState(""),[Y,ne]=C.useState(null),[te,ce]=C.useState(null),{control:ve,handleSubmit:Ue,watch:Ae}=bne({resolver:$ne(H8e),defaultValues:{docDate:new Date,customerId:null,manualDocRef:""}}),at=Ae("customerId"),[it,Te]=C.useState(null),Tt={fontFamily:"inherit"};C.useEffect(()=>{(async()=>{try{const Q=await qne();e(Q.map(ee=>({value:ee.id,label:ee.full_name,mobile:ee.mobile||""})))}catch(Q){console.error(Q)}})()},[]),C.useEffect(()=>{Te(null),h([]),l([]),at?ct(at):u([])},[at]);const ct=async _e=>{try{const Q=await Yne(_e);u(Q)}catch{ae.error("    ")}},pt=async _e=>{const Q=_e?_e.value:null;if(Te(_e),h([]),!!Q){r(!0);try{const ee=await Kne(at,Q);h(ee)}catch{ae.error("    ")}finally{r(!1)}}},vt=_e=>{E(_e),V({qty:"",weight:"",manualRef:"",receiverName:"",receiverNationalId:"",driverName:"",plateNumber:"",description:""}),N(null),U({}),p(!0)},Ht=C.useMemo(()=>_?o.filter(_e=>_e.parentBatch===_.batch_no).reduce((_e,Q)=>({qty:_e.qty+Number(Q.qty),weight:_e.weight+Number(Q.weight),count:_e.count+1}),{qty:0,weight:0,count:0}):{qty:0,weight:0,count:0},[o,_]),It=_?Math.max(0,(_.qty_available||0)-Ht.qty):0,Ut=_?Math.max(0,(_.weight_available||0)-Ht.weight):0,Xt=C.useMemo(()=>{if(!_)return"";if(_.isNoBatch||_.batch_no===" ")return" ";const _e=(_.next_index||1)+Ht.count;return`${_.batch_no}/${_e}`},[_,Ht]),Ee=async()=>{U({});let _e={},Q=!1;try{const ee=Number(F.qty||0),Z=Number(F.weight||0);if((!F.receiverName||F.receiverName.trim()==="")&&(_e.receiverName="   ",Q=!0),It<=0){ae.error("      .");return}if(It>0&&(!F.qty||ee<=0?(_e.qty=" ",Q=!0):ee>It&&(_e.qty=` ${It}`,Q=!0)),Ut>0&&(!F.weight||Z<=0?(_e.weight=" ",Q=!0):Z>Ut&&(_e.weight=` ${Ut}`,Q=!0)),Q){U(_e);return}let ye=null;if(T){O(!0);try{console.log(">>> Starting upload for:",T.name),ye=await Jne(T),console.log(">>> Upload success, URL:",ye)}catch(A){console.error("Upload Failed:",A),ae.error("   : "+(A.message||"Unknown Error")),O(!1);return}O(!1)}if(!it||!it.labelObj){ae.error("     ");return}const be={id:Date.now(),product:{id:it.value,title:it.labelObj.title},parentBatch:_.batch_no,newBatch:Xt,qty:ee,weight:Z,manualRef:F.manualRef,fileUrl:ye,status:"issued",receiverDetails:{name:F.receiverName,nationalId:F.receiverNationalId,driver:F.driverName,plate:F.plateNumber,description:F.description}};l([...o,be]),p(!1),U({}),ae.success("   ")}catch(ee){console.error("Add Item Error:",ee),ae.error("      "),O(!1)}},We=_e=>l(o.filter(Q=>Q.id!==_e)),Jt=C.useMemo(()=>c.map(_e=>({value:_e.product_id,label:_e.product_title,customData:{title:_e.product_title,qty:Number(_e.total_qty_available||0),weight:Number(_e.total_weight_available||0)},labelObj:{title:_e.product_title,qty:_e.total_qty_available,weight:_e.total_weight_available}})),[c]),ke=_e=>{Ue(async ee=>{var Z,ye,be,A,B,se,de,Se;i(!0);try{const we=t.find(nt=>nt.value===ee.customerId);if(!we||!we.mobile){ae.error("     "),i(!1);return}const Me=o.reduce((nt,rt)=>nt+Number(rt.qty),0),tt=[...new Set(o.map(nt=>nt.product.title))],Re=((ye=(Z=o[0])==null?void 0:Z.receiverDetails)==null?void 0:ye.name)||"",qe={member_id:1,status:_e,clearance_date:ee.docDate,customer_id:ee.customerId,receiver_person_name:Re,receiver_person_national_id:((A=(be=o[0])==null?void 0:be.receiverDetails)==null?void 0:A.nationalId)||"",driver_name:((se=(B=o[0])==null?void 0:B.receiverDetails)==null?void 0:se.driver)||"",plate_number:((Se=(de=o[0])==null?void 0:de.receiverDetails)==null?void 0:Se.plate)||"",description:ee.manualDocRef?`: ${ee.manualDocRef}`:"",items:o.map(nt=>({product_id:Number(nt.product.id),parent_batch_no:nt.parentBatch,new_batch_no:nt.newBatch,qty:Number(nt.qty),weight:Number(nt.weight),manual_ref_id:nt.manualRef,attachment_url:nt.fileUrl,status:nt.status,description:nt.receiverDetails.description}))};L(we.mobile),ne(qe);const Je=await S4(we.mobile,{owner:we.label,product:tt.join(" "),qty:Me.toLocaleString(),receiver:Re});Je&&(Je.success||Je.status===200||Je.message&&Je.message.includes(""))?(ae.info("   "),w(!0)):ae.error("   ")}catch(we){console.error("Final Submit Error:",we),we.response&&we.response.status===200?w(!0):ae.error("  ")}finally{i(!1)}},ee=>{ae.warning("    ")})()},lt=async()=>{var _e;if(!H)return ae.error("   ");i(!0);try{const Q=await j4(q,H);if(Q.success||Q.token){const ee=await $8e(Y);ce({clearance_no:ee.clearance_no||"---",customer:(_e=t.find(Z=>Z.value===Y.customer_id))==null?void 0:_e.label,date:new Date(Y.clearance_date).toLocaleDateString("fa-IR"),itemsCount:o.length}),w(!1),x(!0),J(""),ne(null),l([]),h([]),Te(null),Y.customer_id&&ct(Y.customer_id)}else ae.error("  ")}catch(Q){ae.error("   : "+(Q.message||""))}finally{i(!1)}};return a.jsx("div",{className:"page-content",style:Tt,children:a.jsxs(gn,{fluid:!0,children:[a.jsx(dt,{className:"shadow-sm border-0 mb-4",children:a.jsxs(ht,{className:"p-4",children:[a.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4 border-bottom pb-3",children:[a.jsxs(Ra,{className:"h4 text-primary mb-0",children:[a.jsx("i",{className:"bx bx-exit me-2"}),"   "]}),a.jsx(ut,{color:"light",className:"text-dark font-size-13 p-2",children:" : ( )"})]}),a.jsx("div",{className:"bg-light p-4 rounded-3 mb-4 border border-dashed border-primary border-opacity-25",children:a.jsxs(ge,{children:[a.jsxs($,{md:3,children:[a.jsxs(X,{children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(mv,{name:"docDate",control:ve,render:({field:_e})=>a.jsx(Gs,{value:_e.value,onChange:_e.onChange})})]}),a.jsxs($,{md:6,children:[a.jsxs(X,{children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(mv,{name:"customerId",control:ve,render:({field:_e})=>a.jsx(ts,{..._e,options:t,placeholder:" ...",value:t.find(Q=>Q.value===_e.value),onChange:Q=>_e.onChange(Q?Q.value:null)})})]}),a.jsxs($,{md:3,children:[a.jsx(X,{className:"text-muted",children:"  "}),a.jsx(mv,{name:"manualDocRef",control:ve,render:({field:_e})=>a.jsx(re,{..._e,placeholder:""})})]})]})}),a.jsxs("div",{className:"mb-5",children:[a.jsx(ge,{className:"mb-3",children:a.jsxs($,{md:12,children:[a.jsx(X,{children:"  (   )"}),a.jsx(ts,{value:it,onChange:pt,options:Jt,isDisabled:!at,placeholder:at?"     ...":"     ",noOptionsMessage:()=>"  ",formatOptionLabel:_e=>{var Q,ee;return a.jsxs("div",{className:"d-flex justify-content-between align-items-center w-100",children:[a.jsx("span",{className:"fw-bold",children:_e.label}),a.jsxs("div",{className:"d-flex gap-2 font-size-12 text-muted bg-light px-2 rounded",children:[a.jsxs("span",{children:[": ",(Q=_e.customData)==null?void 0:Q.qty.toLocaleString()]}),a.jsx("span",{className:"border-start mx-1"}),a.jsxs("span",{children:[": ",(ee=_e.customData)==null?void 0:ee.weight.toLocaleString()]})]})]})}})]})}),d.length>0&&a.jsx("div",{className:"table-responsive rounded border shadow-sm",children:a.jsxs(Mn,{className:"mb-0",children:[a.jsx("thead",{className:"bg-light text-muted",children:a.jsxs("tr",{children:[a.jsx("th",{className:"ps-3",children:""}),a.jsx("th",{className:"text-center",children:""}),a.jsx("th",{className:"text-center",children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{className:"text-center",children:""}),a.jsx("th",{className:"text-end pe-4",children:""})]})}),a.jsx("tbody",{children:d.map((_e,Q)=>a.jsx(G8e,{item:_e,onOpenModal:vt},Q))})]})})]}),o.length>0&&a.jsxs("div",{className:"mb-3 animate__animated animate__fadeInUp",children:[a.jsx("h6",{className:"font-size-14 text-secondary border-start border-3 border-success ps-2 mb-3",children:"  "}),a.jsxs(Mn,{className:"table align-middle table-nowrap table-striped border mb-0",children:[a.jsx("thead",{className:"table-dark",children:a.jsxs("tr",{children:[a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{})]})}),a.jsx("tbody",{children:o.map(_e=>a.jsxs("tr",{children:[a.jsx("td",{children:_e.product.title}),a.jsx("td",{children:a.jsx(ut,{color:"info",children:_e.newBatch})}),a.jsx("td",{children:_e.receiverDetails.name}),a.jsx("td",{children:Number(_e.weight).toLocaleString()}),a.jsx("td",{children:a.jsx(ut,{color:"success",children:Number(_e.qty).toLocaleString()})}),a.jsx("td",{className:"text-end",children:a.jsx(me,{color:"danger",size:"sm",onClick:()=>We(_e.id),children:"X"})})]},_e.id))})]})]}),a.jsx("div",{className:"d-flex justify-content-end border-top pt-4 mt-4",children:a.jsx(me,{color:"success",size:"lg",className:"px-5 shadow",onClick:()=>ke("final"),disabled:s||o.length===0,children:s?"  ...":" "})})]})}),a.jsxs(zs,{isOpen:m,toggle:()=>p(!1),size:"lg",centered:!0,children:[a.jsxs(Ui,{toggle:()=>p(!1),className:"bg-light",children:[a.jsx("span",{className:"fw-bold",children:" :"})," ",a.jsx("span",{className:"font-monospace text-primary bg-white px-2 py-1 rounded border ms-2",children:_==null?void 0:_.batch_no})]}),a.jsxs(Ni,{className:"p-4",children:[a.jsxs("div",{className:"bg-soft-primary border border-primary border-opacity-25 rounded p-3 mb-4 d-flex justify-content-between align-items-center",children:[a.jsxs("div",{className:"d-flex gap-4",children:[a.jsxs("div",{className:It>0?"text-primary":"text-muted",children:[" : ",a.jsx("strong",{className:"ms-1",children:It.toLocaleString()})," "]}),a.jsxs("div",{className:Ut>0?"text-info":"text-muted",children:[" : ",a.jsx("strong",{className:"ms-1",children:Ut.toLocaleString()})," kg "]})]}),a.jsxs("div",{className:"text-end",children:[a.jsx("small",{className:"d-block font-size-11",children:" :"}),a.jsx("span",{className:"badge bg-success font-size-13 font-monospace",children:Xt})]})]}),a.jsxs(ge,{children:[a.jsxs($,{md:6,className:"mb-3",children:[a.jsxs(X,{children:[" ",It>0&&a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs(Of,{children:[a.jsx(Vv,{className:"bg-white",children:a.jsx("i",{className:"bx bx-hash"})}),a.jsx(re,{type:"number",value:F.qty,onChange:_e=>{V({...F,qty:_e.target.value}),z.qty&&U({...z,qty:null})},invalid:!!z.qty,disabled:It<=0,autoFocus:!0}),a.jsx(Kt,{children:z.qty})]})]}),a.jsxs($,{md:6,className:"mb-3",children:[a.jsxs(X,{children:[" ",Ut>0&&a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs(Of,{children:[a.jsx(Vv,{className:"bg-white",children:a.jsx("i",{className:"bx bx-dumbbell"})}),a.jsx(re,{type:"number",value:F.weight,onChange:_e=>{V({...F,weight:_e.target.value}),z.weight&&U({...z,weight:null})},invalid:!!z.weight,disabled:Ut<=0}),a.jsx(Kt,{children:z.weight})]})]})]}),a.jsx("hr",{className:"my-2 border-light"}),a.jsxs(ge,{children:[a.jsxs($,{md:6,className:"mb-3",children:[a.jsxs(X,{children:[" ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(re,{value:F.receiverName,onChange:_e=>{V({...F,receiverName:_e.target.value}),z.receiverName&&U({...z,receiverName:null})},invalid:!!z.receiverName,placeholder:":  "}),a.jsx(Kt,{children:z.receiverName})]}),a.jsxs($,{md:6,className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{value:F.receiverNationalId,onChange:_e=>V({...F,receiverNationalId:_e.target.value}),placeholder:"10 "})]}),a.jsxs($,{md:12,className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{type:"file",onChange:_e=>N(_e.target.files[0])})]}),a.jsxs($,{md:12,children:[a.jsx(X,{children:""}),a.jsx(re,{type:"textarea",rows:"2",value:F.description,onChange:_e=>V({...F,description:_e.target.value})})]})]})]}),a.jsxs(ro,{children:[a.jsx(me,{color:"link",onClick:()=>p(!1),children:""}),a.jsx(me,{color:"success",onClick:Ee,disabled:D,children:D?"...":""})]})]}),a.jsxs(zs,{isOpen:y,toggle:()=>w(!1),size:"sm",centered:!0,children:[a.jsx(Ui,{className:"bg-primary text-white",children:" "}),a.jsxs(Ni,{className:"text-center p-4",children:[a.jsx("div",{className:"mb-3",children:a.jsx("i",{className:"bx bx-message-rounded-check display-4 text-primary"})}),a.jsxs("p",{children:["  ",a.jsx("strong",{children:q}),"  ."]}),a.jsx(re,{className:"form-control-lg text-center font-monospace mb-3 letter-spacing-2",placeholder:"_ _ _ _ _ _",maxLength:6,value:H,onChange:_e=>J(_e.target.value),autoFocus:!0}),a.jsx(me,{color:"success",className:"w-100 btn-lg shadow",onClick:lt,disabled:s,children:s?"...":" "})]})]}),a.jsx(zs,{isOpen:v,toggle:()=>x(!1),centered:!0,children:a.jsxs(Ni,{className:"text-center p-5",children:[a.jsx("div",{className:"avatar-lg mx-auto mb-4",children:a.jsx("span",{className:"avatar-title rounded-circle bg-success bg-soft text-success font-size-24",children:a.jsx("i",{className:"bx bx-check"})})}),a.jsx("h4",{children:"  !"}),a.jsx("p",{className:"text-muted",children:"     ."}),a.jsxs("div",{className:"bg-light p-3 rounded mt-4 border border-dashed",children:[a.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[a.jsx("span",{className:"text-muted",children:" :"}),a.jsx("span",{className:"fw-bold text-primary",children:te==null?void 0:te.clearance_no})]}),a.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[a.jsx("span",{className:"text-muted",children:" :"}),a.jsx("span",{className:"fw-bold",children:te==null?void 0:te.customer})]}),a.jsxs("div",{className:"d-flex justify-content-between",children:[a.jsx("span",{className:"text-muted",children:" :"}),a.jsx("span",{children:te==null?void 0:te.itemsCount})]})]}),a.jsxs("div",{className:"mt-4 d-grid gap-2",children:[a.jsxs(me,{color:"primary",onClick:()=>x(!1),children:[a.jsx("i",{className:"bx bx-printer me-1"}),"  "]}),a.jsx(me,{color:"link",onClick:()=>x(!1),children:""})]})]})})]})})}function Y8e(){const[t,e]=C.useState([]),[n,r]=C.useState(!1),[s,i]=C.useState({customer:"",product:"",clearanceNo:"",batchNo:"",status:""}),o=async()=>{r(!0);try{const h=await F8e(s);e(h)}catch{ae.error("   ")}finally{r(!1)}};C.useEffect(()=>{const h=setTimeout(()=>{o()},800);return()=>clearTimeout(h)},[s]);const l=async h=>{if(window.confirm(`      
(     )`))try{await V8e(h),ae.success("    "),o()}catch(m){ae.error(m.message||"   ")}},c=h=>{const{name:m,value:p}=h.target;i(y=>({...y,[m]:p}))},u=h=>h?new Date(h).toLocaleDateString("fa-IR"):"-",d=h=>h===" "?"badge badge-soft-success font-size-12 p-2":h==="   "?"badge badge-soft-warning font-size-12 p-2":"badge badge-soft-secondary font-size-12 p-2";return a.jsx("div",{className:"page-content",style:{fontFamily:"inherit"},children:a.jsxs(gn,{fluid:!0,children:[a.jsx(ge,{children:a.jsx($,{xs:12,children:a.jsxs("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:[a.jsx("h4",{className:"mb-sm-0 font-size-18",children:"   "}),a.jsx("div",{className:"page-title-right",children:a.jsx(Le,{to:"/clearances/form",children:a.jsxs(me,{color:"success",className:"waves-effect waves-light shadow-sm",children:[a.jsx("i",{className:"bx bx-plus font-size-16 align-middle me-2"}),"   "]})})})]})})}),a.jsx(ge,{children:a.jsx($,{xs:12,children:a.jsx(dt,{children:a.jsxs(ht,{children:[a.jsx("div",{className:"bg-light p-3 rounded mb-4 border",children:a.jsxs(ge,{className:"g-3 align-items-end",children:[a.jsxs($,{lg:2,md:4,children:[a.jsx("label",{className:"font-size-12 text-muted mb-1",children:" "}),a.jsx(re,{bsSize:"sm",className:"form-control",placeholder:"...",name:"customer",value:s.customer,onChange:c})]}),a.jsxs($,{lg:2,md:4,children:[a.jsx("label",{className:"font-size-12 text-muted mb-1",children:" "}),a.jsx(re,{bsSize:"sm",className:"form-control",placeholder:"...",name:"product",value:s.product,onChange:c})]}),a.jsxs($,{lg:2,md:4,children:[a.jsx("label",{className:"font-size-12 text-muted mb-1",children:" "}),a.jsx(re,{bsSize:"sm",className:"form-control",placeholder:" 1001",name:"clearanceNo",value:s.clearanceNo,onChange:c})]}),a.jsxs($,{lg:2,md:4,children:[a.jsx("label",{className:"font-size-12 text-muted mb-1",children:" "}),a.jsx(re,{bsSize:"sm",className:"form-control",placeholder:" 110/14",name:"batchNo",value:s.batchNo,onChange:c})]}),a.jsxs($,{lg:2,md:4,children:[a.jsx("label",{className:"font-size-12 text-muted mb-1",children:""}),a.jsxs(re,{bsSize:"sm",type:"select",className:"form-select",name:"status",value:s.status,onChange:c,children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:" ",children:" "}),a.jsx("option",{value:"   ",children:" "})]})]}),a.jsx($,{lg:2,md:4,children:a.jsx(me,{color:"danger",outline:!0,block:!0,onClick:()=>i({customer:"",product:"",clearanceNo:"",batchNo:"",status:""}),children:""})})]})}),a.jsx("div",{className:"table-responsive",children:a.jsxs(Mn,{className:"table align-middle table-nowrap table-hover mb-0",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"50px"},children:"#"}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:" (kg)"}),a.jsx("th",{children:""}),a.jsx("th",{className:"text-end",children:""})]})}),a.jsx("tbody",{children:n?a.jsx("tr",{children:a.jsx("td",{colSpan:10,className:"text-center py-5",children:a.jsx("div",{className:"spinner-border text-primary m-1"})})}):t.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:10,className:"text-center py-5 text-muted",children:"  "})}):t.map((h,m)=>a.jsxs("tr",{children:[a.jsx("td",{children:m+1}),a.jsx("td",{className:"fw-bold",children:h.clearance_no}),a.jsx("td",{children:u(h.clearance_date)}),a.jsx("td",{children:a.jsx("span",{className:"text-primary fw-medium",children:h.customer_name})}),a.jsx("td",{children:h.product_name}),a.jsx("td",{children:h.batch_no&&h.batch_no!==" "?a.jsx("span",{className:"badge badge-soft-info font-size-12 font-monospace",children:h.batch_no}):a.jsx("span",{className:"text-muted small",children:"---"})}),a.jsx("td",{children:a.jsx("span",{className:"fw-bold",children:Number(h.qty).toLocaleString()})}),a.jsx("td",{children:Number(h.weight).toLocaleString()}),a.jsx("td",{children:a.jsx("span",{className:d(h.operational_status),children:h.operational_status})}),a.jsx("td",{className:"text-end",children:a.jsx("div",{className:"d-flex justify-content-end gap-2",children:h.operational_status===" "?a.jsxs(a.Fragment,{children:[a.jsxs(Le,{to:`/clearances/edit/${h.clearance_id}`,children:[a.jsx(me,{color:"primary",outline:!0,size:"sm",id:`edit-${h.item_id}`,children:a.jsx("i",{className:"bx bx-pencil"})}),a.jsx(Ef,{placement:"top",target:`edit-${h.item_id}`,children:""})]}),a.jsx(me,{color:"danger",outline:!0,size:"sm",id:`del-${h.item_id}`,onClick:()=>l(h.clearance_id),children:a.jsx("i",{className:"bx bx-trash"})}),a.jsx(Ef,{placement:"top",target:`del-${h.item_id}`,children:""})]}):a.jsx(me,{color:"secondary",outline:!0,size:"sm",disabled:!0,children:a.jsx("i",{className:"bx bx-lock-alt"})})})})]},h.item_id))})]})}),a.jsx(ge,{className:"mt-3",children:a.jsxs($,{className:"text-muted font-size-12",children:["  : ",t.length]})})]})})})})]})})}const Xne=(t,e)=>{const n=[];return t.filter(s=>s.parent_batch_no===e).forEach(s=>{n.push({...s,children:Xne(t,s.batch_no)})}),n},ere=({item:t,level:e,onOpenModal:n,flatHistory:r})=>{const[s,i]=C.useState(!1),o=t.children||[],l=o.length>0,c=m=>m?new Date(m).toLocaleDateString("fa-IR"):"-",u=()=>{if(e===0)return{qty:t.qty_available,weight:t.weight_available};{const m=Number(t.qty||0),p=Number(t.weight||0),y=o.reduce((v,x)=>v+Number(x.qty||0),0),w=o.reduce((v,x)=>v+Number(x.weight||0),0);return{qty:m-y,weight:p-w}}},d=()=>{const m=t.batch_no||t.new_batch_no||" ",p=m===" ",y=u();y.qty<=0&&y.weight<=0;let w=1;if(!p){const v=r.filter(_=>_.parent_batch_no===m);let x=0;v.length>0&&v.forEach(_=>{const E=_.batch_no.split("/"),T=parseInt(E[E.length-1]);!isNaN(T)&&T>x&&(x=T)}),w=x+1}n({batch_no:m,qty_available:y.qty,weight_available:y.weight,next_index:w,isNoBatch:p})},h={backgroundColor:e===0?"#fff":`rgba(240, 242, 245, ${.3+e*.05})`,borderRight:e>0?`4px solid ${e%2===0?"#34c38f":"#556ee6"}`:"none"};return a.jsxs(a.Fragment,{children:[a.jsxs("tr",{style:h,className:"align-middle",children:[a.jsx("td",{className:"ps-3",children:a.jsxs("div",{className:"d-flex align-items-center",style:{marginLeft:`${e*25}px`},children:[e>0&&a.jsx("span",{style:{color:e%2===0?"#34c38f":"#556ee6",marginRight:"8px",fontSize:"18px"},children:""}),a.jsx("div",{className:`d-flex align-items-center justify-content-center rounded-circle border ${l?"cursor-pointer":""}`,style:{width:"24px",height:"24px",backgroundColor:l?"#fff":"transparent",borderColor:l?"#556ee6":"#ccc"},onClick:()=>l&&i(!s),children:l?s?a.jsx("i",{className:"bx bx-minus font-size-10"}):a.jsx("i",{className:"bx bx-plus font-size-10"}):a.jsx("i",{className:"mdi mdi-circle-small font-size-18 text-muted"})}),a.jsx("span",{className:`ms-2 font-monospace ${e===0?"fw-bold text-primary font-size-14":"font-size-13 text-dark"}`,children:t.batch_no||t.new_batch_no||" "})]})}),e===0?a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"text-center",children:a.jsx(ut,{className:"bg-success font-size-12 px-3",children:Number(t.qty_available).toLocaleString()})}),a.jsx("td",{className:"text-center font-monospace",children:Number(t.weight_available).toLocaleString()}),a.jsx("td",{colSpan:4,className:"text-center text-muted font-size-11 fst-italic",children:"---   ---"})]}):a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"text-center fw-bold text-secondary",children:Number(t.qty).toLocaleString()}),a.jsx("td",{className:"text-center text-secondary",children:t.weight?Number(t.weight).toLocaleString():"-"}),a.jsx("td",{className:"font-size-12 font-monospace text-secondary",children:t.manual_ref_id||"-"}),a.jsx("td",{className:"font-size-12 text-truncate",style:{maxWidth:"120px"},title:t.receiver_name,children:t.receiver_name}),a.jsx("td",{className:"font-size-12",children:c(t.transaction_date||t.created_at)}),a.jsx("td",{className:"text-center",children:a.jsx("i",{className:"bx bx-check-circle text-success font-size-18"})})]}),a.jsx("td",{className:"text-end pe-3",children:a.jsxs("div",{className:"d-flex justify-content-end gap-2 align-items-center",children:[a.jsxs(me,{color:"primary",size:"sm",className:"btn-rounded py-1 px-3 shadow-sm",onClick:d,children:[a.jsx("i",{className:"bx bx-git-branch me-1"})," ",a.jsx("span",{children:"  / "})]}),e>0&&t.attachment_url&&a.jsx("a",{href:t.attachment_url,target:"_blank",rel:"noreferrer",className:"btn btn-sm btn-soft-secondary rounded-circle ms-1",children:a.jsx("i",{className:"bx bx-download"})})]})})]}),s&&l&&t.children.map(m=>a.jsx(ere,{item:m,level:e+1,onOpenModal:n,flatHistory:r},m.id))]})},K8e=({item:t,onOpenModal:e})=>{const n=C.useMemo(()=>Xne(t.history||[],t.batch_no),[t.history,t.batch_no]);return a.jsx(ere,{item:{...t,children:n},level:0,onOpenModal:e,flatHistory:t.history||[]})},J8e=Wne({docDate:zne().refine(t=>!!t,"  "),customerId:Bne({required_error:"    "}),manualDocRef:Vne().optional()});function Q8e(){const{id:t}=lu(),e=as(),[n,r]=C.useState([]),[s,i]=C.useState(!1),[o,l]=C.useState(!1),[c,u]=C.useState([]),[d,h]=C.useState([]),[m,p]=C.useState([]),[y,w]=C.useState(!1),[v,x]=C.useState(!1),[_,E]=C.useState(null),[T,N]=C.useState(null),[D,O]=C.useState(!1),[F,V]=C.useState({qty:"",weight:"",manualRef:"",receiverName:"",receiverNationalId:"",driverName:"",plateNumber:"",description:""}),[z,U]=C.useState({}),[H,J]=C.useState(""),[q,L]=C.useState(""),[Y,ne]=C.useState(null),{control:te,handleSubmit:ce,watch:ve,setValue:Ue}=bne({resolver:$ne(J8e),defaultValues:{docDate:new Date,customerId:null,manualDocRef:""}}),Ae=ve("customerId"),[at,it]=C.useState(null);C.useEffect(()=>{(async()=>{try{const lt=await qne();r(lt.map(_e=>({value:_e.id,label:_e.full_name,mobile:_e.mobile||""})))}catch(lt){console.error(lt)}})()},[]),C.useEffect(()=>{t&&n.length>0&&(async()=>{try{const lt=await U8e(t);Ue("docDate",new Date(lt.clearance_date)),Ue("customerId",lt.customer_id),Ue("manualDocRef",lt.description?lt.description.replace(": ",""):"");const _e=`${lt.vehicle_plate_left2||""}-${lt.vehicle_plate_mid3||""}-${lt.vehicle_plate_letter||""}-${lt.vehicle_plate_iran_right||""}`,Q=lt.items.map(ee=>({id:ee.id,product:{id:ee.product_id,title:ee.product.name},parentBatch:ee.parent_batch_no||" ",newBatch:ee.new_batch_no||" ",qty:Number(ee.qty),weight:Number(ee.weight),manualRef:ee.manual_ref_id,fileUrl:ee.attachment_url,status:ee.status,receiverDetails:{name:lt.receiver_person_name,nationalId:lt.receiver_person_national_id,driver:lt.driver_name,plate:_e,description:ee.description}}));u(Q),Te(lt.customer_id)}catch(lt){ae.error("   : "+lt.message),e("/clearances/report")}})()},[t,n,Ue,e]),C.useEffect(()=>{Ae?Te(Ae):h([])},[Ae]);const Te=async ke=>{try{const lt=await Yne(ke);h(lt)}catch{ae.error("    ")}},Tt=async ke=>{const lt=ke?ke.value:null;if(it(ke),p([]),!!lt){i(!0);try{const _e=await Kne(Ae,lt);p(_e)}catch{ae.error("    ")}finally{i(!1)}}},ct=ke=>{E(ke);const lt=c.length>0?c[0].receiverDetails:{};V({qty:"",weight:"",manualRef:"",receiverName:lt.name||"",receiverNationalId:lt.nationalId||"",driverName:lt.driver||"",plateNumber:lt.plate||"",description:""}),N(null),U({}),w(!0)},pt=C.useMemo(()=>_?c.filter(ke=>ke.parentBatch===_.batch_no).reduce((ke,lt)=>({qty:ke.qty+Number(lt.qty),weight:ke.weight+Number(lt.weight),count:ke.count+1}),{qty:0,weight:0,count:0}):{qty:0,weight:0,count:0},[c,_]),vt=_?Math.max(0,(_.qty_available||0)-pt.qty):0,Ht=_?Math.max(0,(_.weight_available||0)-pt.weight):0,It=C.useMemo(()=>{if(!_)return"";if(_.isNoBatch||_.batch_no===" ")return" ";const ke=(_.next_index||1)+pt.count;return`${_.batch_no}/${ke}`},[_,pt]),Ut=async()=>{U({});let ke={},lt=!1;try{const _e=Number(F.qty||0),Q=Number(F.weight||0);if((!F.receiverName||F.receiverName.trim()==="")&&(ke.receiverName="   ",lt=!0),vt>0&&(!F.qty||_e<=0?(ke.qty=" ",lt=!0):_e>vt),lt){U(ke);return}let ee=null;if(T){O(!0);try{ee=await Jne(T)}catch{ae.error("   "),O(!1);return}O(!1)}const Z={id:Date.now(),product:{id:at.value,title:at.labelObj.title},parentBatch:_.batch_no,newBatch:It,qty:_e,weight:Q,manualRef:F.manualRef,fileUrl:ee,status:"issued",receiverDetails:{name:F.receiverName,nationalId:F.receiverNationalId,driver:F.driverName,plate:F.plateNumber,description:F.description}};u([...c,Z]),w(!1),U({}),ae.success("   ")}catch{ae.error("  ")}},Xt=ke=>u(c.filter(lt=>lt.id!==ke)),Ee=C.useMemo(()=>d.map(ke=>({value:ke.product_id,label:ke.product_title,customData:{title:ke.product_title,qty:Number(ke.total_qty_available||0),weight:Number(ke.total_weight_available||0)},labelObj:{title:ke.product_title,qty:ke.total_qty_available,weight:ke.total_weight_available}})),[d]),We=ke=>{ce(async _e=>{var Q,ee,Z,ye,be,A,B,se;l(!0);try{const de=n.find(qe=>qe.value===_e.customerId);if(!de||!de.mobile){ae.error("   "),l(!1);return}const Se=c.reduce((qe,Je)=>qe+Number(Je.qty),0),we=[...new Set(c.map(qe=>qe.product.title))],Me=((ee=(Q=c[0])==null?void 0:Q.receiverDetails)==null?void 0:ee.name)||"",tt={member_id:1,status:ke,clearance_date:_e.docDate,customer_id:_e.customerId,receiver_person_name:Me,receiver_person_national_id:((ye=(Z=c[0])==null?void 0:Z.receiverDetails)==null?void 0:ye.nationalId)||"",driver_name:((A=(be=c[0])==null?void 0:be.receiverDetails)==null?void 0:A.driver)||"",plate_number:((se=(B=c[0])==null?void 0:B.receiverDetails)==null?void 0:se.plate)||"",description:_e.manualDocRef?`: ${_e.manualDocRef}`:"",items:c.map(qe=>({product_id:Number(qe.product.id),parent_batch_no:qe.parentBatch,new_batch_no:qe.newBatch,qty:Number(qe.qty),weight:Number(qe.weight),manual_ref_id:qe.manualRef,attachment_url:qe.fileUrl,status:qe.status,description:qe.receiverDetails.description}))};L(de.mobile),ne(tt);const Re=await S4(de.mobile,{owner:de.label,product:we.join(" "),qty:Se.toLocaleString(),receiver:Me});Re&&(Re.success||Re.status===200||Re.message&&Re.message.includes(""))?(ae.info("   "),x(!0)):ae.error("   ")}catch(de){de.response&&de.response.status===200?x(!0):ae.error("  ")}finally{l(!1)}},_e=>{ae.warning("    ")})()},Jt=async()=>{if(!H)return ae.error("   ");l(!0);try{const ke=await j4(q,H);ke.success||ke.token?(await B8e(t,Y),ae.success("    "),e("/clearances/report")):ae.error("  ")}catch(ke){ae.error("  : "+(ke.message||""))}finally{l(!1)}};return a.jsx("div",{className:"page-content",style:{fontFamily:"inherit"},children:a.jsxs(gn,{fluid:!0,children:[a.jsx(dt,{className:"shadow-sm border-0 mb-4 bg-soft-warning border-warning",children:a.jsxs(ht,{className:"p-4",children:[a.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4 border-bottom pb-3",children:[a.jsxs(Ra,{className:"h4 text-warning mb-0",children:[a.jsx("i",{className:"bx bx-edit me-2"}),"   "]}),a.jsxs(ut,{color:"warning",className:"text-dark font-size-13 p-2",children:[" : ",t]})]}),a.jsx("div",{className:"bg-white p-4 rounded-3 mb-4 border border-dashed",children:a.jsxs(ge,{children:[a.jsxs($,{md:3,children:[a.jsxs(X,{children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(mv,{name:"docDate",control:te,render:({field:ke})=>a.jsx(Gs,{value:ke.value,onChange:ke.onChange})})]}),a.jsxs($,{md:6,children:[a.jsx(X,{children:"  (   )"}),a.jsx(mv,{name:"customerId",control:te,render:({field:ke})=>a.jsx(ts,{...ke,options:n,placeholder:"  ...",value:n.find(lt=>lt.value===ke.value),onChange:lt=>ke.onChange(lt?lt.value:null),isDisabled:!0})})]}),a.jsxs($,{md:3,children:[a.jsx(X,{className:"text-muted",children:"  "}),a.jsx(mv,{name:"manualDocRef",control:te,render:({field:ke})=>a.jsx(re,{...ke,placeholder:""})})]})]})}),a.jsxs("div",{className:"mb-5",children:[a.jsx(ge,{className:"mb-3",children:a.jsxs($,{md:12,children:[a.jsx(X,{children:"/ "}),a.jsx(ts,{value:at,onChange:Tt,options:Ee,isDisabled:!Ae,placeholder:"      ..."})]})}),m.length>0&&a.jsx("div",{className:"table-responsive rounded border shadow-sm bg-white",children:a.jsxs(Mn,{className:"mb-0",children:[a.jsx("thead",{className:"bg-light text-muted",children:a.jsxs("tr",{children:[a.jsx("th",{className:"ps-3",children:""}),a.jsx("th",{className:"text-center",children:""}),a.jsx("th",{className:"text-center",children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{className:"text-center",children:""}),a.jsx("th",{className:"text-end pe-4",children:""})]})}),a.jsx("tbody",{children:m.map((ke,lt)=>a.jsx(K8e,{item:ke,onOpenModal:ct},lt))})]})})]}),c.length>0&&a.jsxs("div",{className:"mb-3 animate__animated animate__fadeInUp",children:[a.jsx("h6",{className:"font-size-14 text-secondary border-start border-3 border-warning ps-2 mb-3",children:"  ( )"}),a.jsxs(Mn,{className:"table align-middle table-nowrap table-striped border mb-0 bg-white",children:[a.jsx("thead",{className:"table-dark",children:a.jsxs("tr",{children:[a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{})]})}),a.jsx("tbody",{children:c.map(ke=>a.jsxs("tr",{children:[a.jsx("td",{children:ke.product.title}),a.jsx("td",{children:a.jsx(ut,{color:"info",children:ke.newBatch})}),a.jsx("td",{children:ke.receiverDetails.name}),a.jsx("td",{children:Number(ke.weight).toLocaleString()}),a.jsx("td",{children:a.jsx(ut,{color:"success",children:Number(ke.qty).toLocaleString()})}),a.jsx("td",{className:"text-end",children:a.jsx(me,{color:"danger",size:"sm",onClick:()=>Xt(ke.id),children:"X"})})]},ke.id))})]})]}),a.jsxs("div",{className:"d-flex justify-content-end gap-2 border-top pt-4 mt-4",children:[a.jsx(me,{color:"secondary",size:"lg",onClick:()=>e("/clearances/report"),children:""}),a.jsx(me,{color:"warning",size:"lg",className:"px-5 shadow",onClick:()=>We("final"),disabled:o||c.length===0,children:o?"  ...":" "})]})]})}),a.jsxs(zs,{isOpen:y,toggle:()=>w(!1),size:"lg",centered:!0,children:[a.jsxs(Ui,{toggle:()=>w(!1),className:"bg-light",children:[a.jsx("span",{className:"fw-bold",children:" :"})," ",a.jsx("span",{className:"font-monospace text-primary bg-white px-2 py-1 rounded border ms-2",children:_==null?void 0:_.batch_no})]}),a.jsxs(Ni,{className:"p-4",children:[a.jsxs("div",{className:"bg-soft-primary border border-primary border-opacity-25 rounded p-3 mb-4 d-flex justify-content-between align-items-center",children:[a.jsxs("div",{className:"d-flex gap-4",children:[a.jsxs("div",{className:vt>0?"text-primary":"text-muted",children:[" : ",a.jsx("strong",{className:"ms-1",children:vt.toLocaleString()})," "]}),a.jsxs("div",{className:Ht>0?"text-info":"text-muted",children:[" : ",a.jsx("strong",{className:"ms-1",children:Ht.toLocaleString()})," kg "]})]}),a.jsxs("div",{className:"text-end",children:[a.jsx("small",{className:"d-block font-size-11",children:" :"}),a.jsx("span",{className:"badge bg-success font-size-13 font-monospace",children:It})]})]}),a.jsxs(ge,{children:[a.jsxs($,{md:6,className:"mb-3",children:[a.jsx(X,{children:""}),a.jsxs(Of,{children:[a.jsx(Vv,{className:"bg-white",children:a.jsx("i",{className:"bx bx-hash"})}),a.jsx(re,{type:"number",value:F.qty,onChange:ke=>{V({...F,qty:ke.target.value}),z.qty&&U({...z,qty:null})},invalid:!!z.qty,autoFocus:!0}),a.jsx(Kt,{children:z.qty})]})]}),a.jsxs($,{md:6,className:"mb-3",children:[a.jsx(X,{children:""}),a.jsxs(Of,{children:[a.jsx(Vv,{className:"bg-white",children:a.jsx("i",{className:"bx bx-dumbbell"})}),a.jsx(re,{type:"number",value:F.weight,onChange:ke=>{V({...F,weight:ke.target.value}),z.weight&&U({...z,weight:null})},invalid:!!z.weight}),a.jsx(Kt,{children:z.weight})]})]})]}),a.jsx("hr",{className:"my-2 border-light"}),a.jsxs(ge,{children:[a.jsxs($,{md:6,className:"mb-3",children:[a.jsxs(X,{children:[" ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(re,{value:F.receiverName,onChange:ke=>{V({...F,receiverName:ke.target.value}),z.receiverName&&U({...z,receiverName:null})},invalid:!!z.receiverName,placeholder:":  "}),a.jsx(Kt,{children:z.receiverName})]}),a.jsxs($,{md:6,className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{value:F.receiverNationalId,onChange:ke=>V({...F,receiverNationalId:ke.target.value}),placeholder:"10 "})]}),a.jsxs($,{md:12,className:"mb-3",children:[a.jsx(X,{children:" "}),a.jsx(re,{type:"file",onChange:ke=>N(ke.target.files[0])})]}),a.jsxs($,{md:12,children:[a.jsx(X,{children:""}),a.jsx(re,{type:"textarea",rows:"2",value:F.description,onChange:ke=>V({...F,description:ke.target.value})})]})]})]}),a.jsxs(ro,{children:[a.jsx(me,{color:"link",onClick:()=>w(!1),children:""}),a.jsx(me,{color:"success",onClick:Ut,disabled:D,children:D?"...":""})]})]}),a.jsxs(zs,{isOpen:v,toggle:()=>x(!1),size:"sm",centered:!0,children:[a.jsx(Ui,{className:"bg-primary text-white",children:" "}),a.jsxs(Ni,{className:"text-center p-4",children:[a.jsx("div",{className:"mb-3",children:a.jsx("i",{className:"bx bx-message-rounded-check display-4 text-primary"})}),a.jsxs("p",{children:["  ",a.jsx("strong",{children:q}),"  ."]}),a.jsx(re,{className:"form-control-lg text-center font-monospace mb-3 letter-spacing-2",placeholder:"_ _ _ _ _ _",maxLength:6,value:H,onChange:ke=>J(ke.target.value),autoFocus:!0}),a.jsx(me,{color:"warning",className:"w-100 btn-lg shadow",onClick:Jt,disabled:o,children:o?"...":" "})]})]})]})})}const Z8e=async t=>{const{data:e,error:n}=await fe.rpc("create_loading_order",{p_payload:t});if(n)throw n;return e},X8e=async t=>{const{data:e,error:n}=await fe.rpc("get_loading_order_details",{p_order_id:Number(t)});if(n)throw n;return e},eWe=async()=>{const{data:t,error:e}=await fe.rpc("get_customers_with_stock");if(e)throw console.error("Error fetching customers:",e),e;return t},tWe=async t=>{const{data:e,error:n}=await fe.rpc("get_customer_pending_items",{p_customer_id:t});if(n)throw console.error("Error fetching items:",n),n;return e},nWe=async()=>{const{data:t,error:e}=await fe.rpc("get_all_loading_orders");if(e)throw e;return t};function x8(){const t=as(),[e,n]=C.useState(!1),[r,s]=C.useState(!1),[i,o]=C.useState([]),[l,c]=C.useState(null),[u,d]=C.useState([]),[h,m]=C.useState({}),[p,y]=C.useState({name:"",plate:""}),[w,v]=C.useState({}),x=V=>{if(!V)return{right2:"",middle3:"",letter:"",left2:""};const z=V.split("-");return{right2:z[0]||"",middle3:z[1]||"",letter:z[2]||"",left2:z[3]||""}},_=V=>{const{right2:z,middle3:U,letter:H,left2:J}=V;return!z&&!U&&!H&&!J?"":`${z}-${U}-${H}-${J}`};C.useEffect(()=>{(async()=>{try{const U=(await eWe()).map(H=>({value:H.id,label:H.name}));o(U)}catch(z){console.error(z),ae.error("     ")}})()},[]);const E=async V=>{if(c(V),d([]),m({}),V){n(!0);try{const z=await tWe(V.value);d(z)}catch(z){console.error(z),ae.error("   ")}finally{n(!1)}}},T=V=>{m(z=>({...z,[V]:!z[V]}))},N=V=>{if(V.target.checked){const z={};u.forEach(U=>z[U.item_id]=!0),m(z)}else m({})},D=C.useMemo(()=>u.filter(V=>h[V.item_id]),[u,h]),O=C.useMemo(()=>D.reduce((V,z)=>({qty:V.qty+Number(z.qty),weight:V.weight+Number(z.weight)}),{qty:0,weight:0}),[D]),F=async()=>{if(v({}),!l)return ae.error("     ");if(D.length===0)return ae.error("    ");const V={};p.name.trim()||(V.name="   ");const z=x(p.plate);if((!z.right2||!z.letter||!z.middle3||!z.left2)&&(V.plate="  "),Object.keys(V).length>0)return v(V),ae.warn("    ");s(!0);try{const H={clearance_id:D[0].clearance_id,customer_id:l.value,loading_date:new Date,driver_name:p.name,plate_number:p.plate,user_id:1,items:D.map(q=>({clearance_item_id:q.item_id,product_id:q.product_id,batch_no:q.batch_no,qty:q.qty,weight:q.weight}))},J=await Z8e(H);ae.success(`   ${J.order_no}  `),t("/loading/list")}catch(U){ae.error("    "),console.error(U)}finally{s(!1)}};return a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsx(ge,{children:a.jsx($,{xs:12,children:a.jsx("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:a.jsx("h4",{className:"mb-sm-0 font-size-18",children:"  "})})})}),a.jsx(ge,{children:a.jsx($,{lg:12,children:a.jsx(dt,{children:a.jsxs(ht,{children:[a.jsx(Ra,{className:"h4 mb-4",children:".     "}),a.jsx("p",{className:"card-title-desc text-muted mb-4",children:"             ."}),a.jsxs(ge,{className:"mb-4",children:[a.jsxs($,{md:4,className:"mb-3",children:[a.jsx(X,{className:"form-label",children:"  ()"}),a.jsx(ts,{options:i,value:l,onChange:E,placeholder:"  ...",noOptionsMessage:()=>"  ",classNamePrefix:"select2-selection"})]}),a.jsxs($,{md:4,className:"mb-3",children:[a.jsxs(X,{className:"form-label",children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(re,{type:"text",className:"form-control",value:p.name,onChange:V=>y({...p,name:V.target.value}),invalid:!!w.name,placeholder:"    "}),a.jsx(Kt,{children:w.name})]}),a.jsxs($,{md:4,className:"mb-3",children:[a.jsxs(X,{className:"form-label",children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("div",{className:w.plate?"border border-danger rounded":"",children:a.jsx(Qte,{value:x(p.plate),onChange:V=>y({...p,plate:_(V)})})})]})]}),l&&a.jsxs("div",{className:"animate__animated animate__fadeIn",children:[a.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3 border-top pt-4 mt-4",children:[a.jsxs("h5",{className:"font-size-15 text-primary m-0",children:[a.jsx("i",{className:"bx bx-list-check me-1"}),".    "]}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsxs("div",{className:"badge badge-soft-primary font-size-13 p-2",children:[" : ",O.qty.toLocaleString()]}),a.jsxs("div",{className:"badge badge-soft-info font-size-13 p-2",children:[" : ",O.weight.toLocaleString()," kg"]})]})]}),a.jsx("div",{className:"table-responsive",children:a.jsxs(Mn,{className:"table align-middle table-nowrap table-check table-hover",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"20px"},className:"align-middle",children:a.jsx("div",{className:"form-check font-size-16",children:a.jsx("input",{type:"checkbox",className:"form-check-input",onChange:N,checked:u.length>0&&D.length===u.length,style:{cursor:"pointer"}})})}),a.jsx("th",{className:"align-middle",children:" "}),a.jsx("th",{className:"align-middle",children:" "}),a.jsx("th",{className:"align-middle",children:" / "}),a.jsx("th",{className:"align-middle",children:"  ()"}),a.jsx("th",{className:"align-middle text-center",children:""}),a.jsx("th",{className:"align-middle text-center",children:" (kg)"}),a.jsx("th",{className:"align-middle",children:""})]})}),a.jsx("tbody",{children:e?a.jsx("tr",{children:a.jsxs("td",{colSpan:8,className:"text-center py-5",children:[a.jsx("div",{className:"spinner-border text-primary m-1",role:"status"}),a.jsx("div",{className:"mt-2",children:"   ..."})]})}):u.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"text-center py-5 text-muted",children:"     ."})}):u.map(V=>{const z=!!h[V.item_id];return a.jsxs("tr",{className:z?"table-active":"",onClick:()=>T(V.item_id),style:{cursor:"pointer"},children:[a.jsx("td",{children:a.jsx("div",{style:{width:"20px",height:"20px",position:"relative"},children:a.jsx("input",{type:"checkbox",className:"form-check-input",checked:z,readOnly:!0,style:{pointerEvents:"none",width:"18px",height:"18px"}})})}),a.jsx("td",{children:a.jsx("span",{className:"badge badge-soft-dark font-size-12",children:V.clearance_no})}),a.jsx("td",{children:a.jsx("h5",{className:"font-size-14 mb-1 text-dark",children:V.product_name})}),a.jsx("td",{className:"text-muted font-monospace",children:V.batch_no||"-"}),a.jsxs("td",{children:[a.jsx("div",{children:V.deliverer_name?a.jsx("span",{className:"badge badge-soft-primary font-size-11",children:V.deliverer_name}):a.jsx("span",{className:"text-muted",children:"-"})}),V.national_code&&a.jsx("small",{className:"text-muted d-block mt-1",children:V.national_code})]}),a.jsx("td",{className:"text-center fw-bold",children:Number(V.qty).toLocaleString()}),a.jsx("td",{className:"text-center",children:Number(V.weight).toLocaleString()}),a.jsx("td",{children:z?a.jsxs("span",{className:"badge badge-soft-success font-size-12",children:[a.jsx("i",{className:"bx bx-check-double me-1"})," "]}):a.jsx("span",{className:"badge badge-soft-light text-muted font-size-12",children:" "})})]},V.item_id)})})]})}),a.jsx("div",{className:"d-flex justify-content-end mt-4 pt-3 border-top",children:a.jsxs("div",{className:"text-end",children:[a.jsxs("div",{className:"mb-2 text-muted font-size-13",children:[D.length,"     "]}),a.jsx(me,{color:"success",size:"lg",className:"btn-rounded waves-effect waves-light shadow-sm px-5",onClick:F,disabled:r||D.length===0,children:r?a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bx bx-loader bx-spin font-size-16 align-middle me-2"}),"   ..."]}):"   "})]})})]})]})})})})]})})}function rWe(){const[t,e]=C.useState([]),[n,r]=C.useState(!0),[s,i]=C.useState("1");C.useEffect(()=>{o()},[]);const o=async()=>{r(!0);try{const c=await nWe();e(c||[])}catch(c){console.error(c)}finally{r(!1)}},l=t.filter(c=>s==="1"?!c.is_exited:s==="2"?c.is_exited:!0);return a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[a.jsx("h4",{className:"font-size-18",children:"  "}),a.jsxs(Le,{to:"/loading/create",className:"btn btn-primary btn-rounded shadow-sm",children:[a.jsx("i",{className:"bx bx-plus me-1"}),"   "]})]}),a.jsx(dt,{children:a.jsxs(ht,{children:[a.jsxs(yb,{tabs:!0,className:"nav-tabs-custom mb-4",children:[a.jsx(Lo,{children:a.jsxs(Mo,{style:{cursor:"pointer"},className:Rt({active:s==="1"}),onClick:()=>i("1"),children:[a.jsx("span",{className:"d-block d-sm-none",children:a.jsx("i",{className:"fas fa-truck"})}),a.jsx("span",{className:"d-none d-sm-block",children:"  ()"})]})}),a.jsx(Lo,{children:a.jsxs(Mo,{style:{cursor:"pointer"},className:Rt({active:s==="2"}),onClick:()=>i("2"),children:[a.jsx("span",{className:"d-block d-sm-none",children:a.jsx("i",{className:"fas fa-check-circle"})}),a.jsx("span",{className:"d-none d-sm-block",children:"  ()"})]})})]}),a.jsx("div",{className:"table-responsive",children:a.jsxs(Mn,{className:"table align-middle table-nowrap table-hover",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:" / "}),a.jsx("th",{children:" "}),a.jsx("th",{className:"text-center",children:""}),a.jsx("th",{className:"text-center",children:"  (kg)"}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:n?a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"text-center py-4",children:"  ..."})}):l.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"text-center py-4 text-muted",children:"  ."})}):l.map(c=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("span",{className:"badge badge-soft-dark font-size-12",children:c.order_no})}),a.jsx("td",{children:new Date(c.loading_date).toLocaleDateString("fa-IR")}),a.jsxs("td",{children:[a.jsx("div",{className:"fw-bold",children:c.driver_name}),a.jsx("small",{className:"text-muted",dir:"ltr",children:c.plate_number})]}),a.jsx("td",{children:c.customer_name}),a.jsx("td",{className:"text-center",children:c.items_count}),a.jsx("td",{className:"text-center",children:Number(c.total_weight).toLocaleString()}),a.jsx("td",{children:c.is_exited?a.jsxs(ut,{color:"success",className:"p-2",children:[a.jsx("i",{className:"bx bx-check-double me-1"}),"  ( ",c.exit_permit_no,")"]}):a.jsxs(ut,{color:"warning",className:"p-2 text-dark",children:[a.jsx("i",{className:"bx bx-time-five me-1"}),"  "]})}),a.jsxs("td",{children:[a.jsx(Le,{to:`/loading/print/${c.id}`,className:"btn btn-sm btn-soft-info me-2",title:"",children:a.jsx("i",{className:"bx bx-printer font-size-16"})}),!c.is_exited&&a.jsxs(Le,{to:`/exit/create?orderNo=${c.order_no}`,className:"btn btn-sm btn-primary",children:[a.jsx("i",{className:"bx bx-door-open me-1"}),"  "]})]})]},c.id))})]})})]})})]})})}const sWe=({data:t})=>{if(!t||!t.header)return null;const{header:e,items:n}=t,r=(c,u="")=>c?`${c} ${u}`:"-",s=c=>c||c===0?Number(c).toLocaleString("fa-IR"):"-",i=c=>c?new Date(c).toLocaleDateString("fa-IR"):"-",o=c=>{if(!c)return"-";const u=c.split("-");return u.length<4?c:` ${u[3]} | ${u[1]} ${u[2]} ${u[0]}`},l=n.reduce((c,u)=>({qty:c.qty+(Number(u.qty)||0),weight:c.weight+(Number(u.weight)||0)}),{qty:0,weight:0});return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
        @import url('https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font/dist/font-face.css');

        /*    */
        @media print {
            body * { visibility: hidden; }
            #root, .layout-wrapper, .main-content, .page-content, .navbar, .footer { display: none !important; }

            body, html {
                background: #fff !important;
                height: 100%; width: 100%; margin: 0; padding: 0; overflow: visible !important;
            }

            /*      */
            #loading-print-section {
                visibility: visible !important;
                position: absolute !important;
                left: 0 !important;
                top: 0 !important;
                width: 100% !important;
                height: auto !important;
                z-index: 99999999 !important;
                background-color: #fff !important;
                display: block !important;
                padding: 10mm !important;
                margin: 0 !important;
                opacity: 1 !important;
            }
            
            #loading-print-section * { visibility: visible !important; }
        }

        /*    */
        .loading-wrapper { direction: rtl; font-family: 'Vazir', 'Tahoma', sans-serif; font-size: 10pt; color: #000; line-height: 1.5; }
        .loading-header { display: flex; justify-content: space-between; margin-bottom: 20px; border-bottom: 2px solid #000; padding-bottom: 10px; }
        .lh-side { width: 30%; }
        .lh-center { width: 40%; text-align: center; }
        .lh-title { font-size: 20pt; font-weight: 900; margin: 0; color: #333; }
        .lh-doc-name { border: 1px solid #000; padding: 5px 15px; border-radius: 5px; font-weight: bold; display: inline-block; margin-top: 5px; font-size: 12pt; background: #f0f0f0; -webkit-print-color-adjust: exact; }

        .l-box { border: 1px solid #000; border-radius: 5px; overflow: hidden; margin-bottom: 12px; }
        .l-box-header { background-color: #ddd !important; border-bottom: 1px solid #000; padding: 5px; text-align: center; font-weight: bold; font-size: 9pt; -webkit-print-color-adjust: exact; }
        .l-box-content { padding: 8px; font-size: 10pt; }
        .l-row { display: flex; flex-wrap: wrap; }
        .l-item { margin-left: 20px; margin-bottom: 5px; }
        .l-lbl { font-weight: bold; color: #444; margin-left: 5px; }
        .l-val { font-weight: bold; color: #000; }
        
        .plate-print { border: 1px solid #000; padding: 2px 8px; border-radius: 4px; font-family: 'Tahoma', sans-serif; direction: ltr; display: inline-block; font-weight: bold; letter-spacing: 1px; }

        .l-table { width: 100%; border-collapse: collapse; border: 1px solid #000; margin-bottom: 15px; font-size: 9.5pt; }
        .l-table th { background-color: #eee !important; border: 1px solid #000; padding: 8px; font-weight: bold; -webkit-print-color-adjust: exact; }
        .l-table td { border: 1px solid #000; padding: 6px; text-align: center; vertical-align: middle; }
        .col-idx { width: 40px; background-color: #f9f9f9 !important; -webkit-print-color-adjust: exact; }

        .l-footer { display: flex; margin-top: 10px; }
        .l-note { flex: 1; border: 1px solid #000; border-radius: 5px; padding: 8px; margin-left: 10px; min-height: 80px; }
        .l-total { width: 250px; border: 1px solid #000; border-radius: 5px; }
        .lt-row { display: flex; justify-content: space-between; padding: 6px 10px; border-bottom: 1px solid #ccc; }
        .lt-final { background-color: #eee !important; font-weight: bold; border-bottom: none; -webkit-print-color-adjust: exact; }

        .l-signs { margin-top: 50px; display: flex; justify-content: space-around; text-align: center; }
        .sign-box { width: 30%; }
        .sign-line { margin-top: 50px; border-bottom: 1px dashed #000; width: 80%; margin-left: auto; margin-right: auto; }
      `}),a.jsx("div",{id:"loading-print-section",style:{position:"fixed",top:0,left:"-10000px",width:"1px",height:"1px",overflow:"hidden",opacity:0,zIndex:-1e3},children:a.jsxs("div",{className:"loading-wrapper",children:[a.jsxs("div",{className:"loading-header",children:[a.jsxs("div",{className:"lh-side",children:[a.jsxs("div",{children:[a.jsx("span",{className:"l-lbl",children:" :"})," ",new Date().toLocaleDateString("fa-IR")]}),a.jsxs("div",{children:[a.jsx("span",{className:"l-lbl",children:" :"})," ",a.jsx("span",{className:"l-val",children:e.order_no})]})]}),a.jsxs("div",{className:"lh-center",children:[a.jsx("h1",{className:"lh-title",children:"anbardaran"}),a.jsx("div",{className:"lh-doc-name",children:"   ()"})]}),a.jsxs("div",{className:"lh-side",style:{textAlign:"left"},children:[a.jsxs("div",{children:[a.jsx("span",{className:"l-lbl",children:" :"})," ",i(e.loading_date)]}),a.jsxs("div",{children:[a.jsx("span",{className:"l-lbl",children:" :"})," ",e.order_no]})]})]}),a.jsxs("div",{className:"l-box",children:[a.jsx("div",{className:"l-box-header",children:"  "}),a.jsx("div",{className:"l-box-content",children:a.jsxs("div",{className:"l-row",children:[a.jsxs("span",{className:"l-item",children:[a.jsx("span",{className:"l-lbl",children:" :"}),"   "]}),a.jsxs("span",{className:"l-item",children:[a.jsx("span",{className:"l-lbl",children:":"}),"    "]}),a.jsxs("span",{className:"l-item",children:[a.jsx("span",{className:"l-lbl",children:":"})," -"]})]})})]}),a.jsxs("div",{className:"l-box",children:[a.jsx("div",{className:"l-box-header",children:"  "}),a.jsxs("div",{className:"l-box-content",children:[a.jsx("div",{className:"l-row",style:{borderBottom:"1px dashed #ccc",paddingBottom:"5px",marginBottom:"5px"},children:a.jsxs("span",{className:"l-item",style:{width:"100%"},children:[a.jsx("span",{className:"l-lbl",children:" :"})," ",a.jsx("span",{className:"l-val",style:{fontSize:"11pt"},children:r(e.customer_name)})]})}),a.jsxs("div",{className:"l-row",children:[a.jsxs("span",{className:"l-item",children:[a.jsx("span",{className:"l-lbl",children:" :"})," ",a.jsx("span",{className:"l-val",children:r(e.driver_name)})]}),a.jsxs("span",{className:"l-item",children:[a.jsx("span",{className:"l-lbl",children:" :"}),a.jsx("span",{className:"plate-print",children:o(e.plate_number)})]}),a.jsxs("span",{className:"l-item",children:[a.jsx("span",{className:"l-lbl",children:":"})," ",r(e.description)]})]})]})]}),a.jsx("div",{className:"l-box-header",style:{border:"1px solid #000",borderBottom:"none"},children:"   "}),a.jsxs("table",{className:"l-table",style:{borderTop:"none"},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"col-idx",children:"#"}),a.jsx("th",{children:" "}),a.jsx("th",{children:"  / "}),a.jsx("th",{children:""}),a.jsx("th",{children:" (kg)"}),a.jsx("th",{children:""})]})}),a.jsxs("tbody",{children:[n.map((c,u)=>a.jsxs("tr",{children:[a.jsx("td",{className:"col-idx",children:u+1}),a.jsx("td",{style:{textAlign:"right"},children:a.jsx("strong",{children:r(c.product_name)})}),a.jsx("td",{style:{fontFamily:"monospace"},children:r(c.batch_no)}),a.jsx("td",{children:a.jsx("strong",{style:{fontSize:"1.1em"},children:s(c.qty)})}),a.jsx("td",{children:s(c.weight)}),a.jsx("td",{})]},u)),a.jsxs("tr",{className:"lt-final",children:[a.jsx("td",{colSpan:3,style:{textAlign:"right",paddingRight:"10px"},children:" "}),a.jsx("td",{children:s(l.qty)}),a.jsx("td",{children:s(l.weight)}),a.jsx("td",{children:"-"})]})]})]}),a.jsxs("div",{className:"l-footer",children:[a.jsxs("div",{className:"l-note",children:[a.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:" :"}),a.jsx("p",{style:{margin:0,fontSize:"9pt"},children:"            ."})]}),a.jsxs("div",{className:"l-total",children:[a.jsxs("div",{className:"lt-row",children:[a.jsx("span",{children:"  :"}),a.jsxs("span",{children:[s(l.qty)," "]})]}),a.jsxs("div",{className:"lt-row lt-final",children:[a.jsx("span",{children:"  :"}),a.jsxs("span",{children:[s(l.weight)," kg"]})]})]})]}),a.jsxs("div",{className:"l-signs",children:[a.jsxs("div",{className:"sign-box",children:[a.jsx("div",{children:" "}),a.jsx("div",{className:"sign-line"})]}),a.jsxs("div",{className:"sign-box",children:[a.jsx("div",{children:" ( )"}),a.jsx("div",{className:"sign-line"})]}),a.jsxs("div",{className:"sign-box",children:[a.jsx("div",{children:" ()"}),a.jsx("div",{className:"sign-line"})]})]})]})})]})};function iWe(){const{id:t}=lu(),[e,n]=C.useState(null),[r,s]=C.useState(!1);return C.useEffect(()=>{(async()=>{try{const o=await X8e(t);n(o),setTimeout(()=>{window.print()},800)}catch(o){console.error(o),s(!0)}})()},[t]),r?a.jsxs("div",{className:"text-center p-5",children:[a.jsx("h4",{className:"text-danger",children:"    "}),a.jsx(me,{color:"secondary",onClick:()=>window.close(),children:""})]}):e?a.jsxs("div",{style:{backgroundColor:"#fff",minHeight:"100vh"},children:[a.jsxs("div",{className:"d-print-none p-3 text-end bg-light border-bottom sticky-top",children:[a.jsxs(me,{color:"primary",size:"sm",onClick:()=>window.print(),children:[a.jsx("i",{className:"bx bx-printer me-1"}),"  "]}),a.jsx(me,{color:"secondary",size:"sm",className:"ms-2",onClick:()=>window.close(),children:" "})]}),a.jsx(sWe,{data:e})]}):a.jsxs("div",{className:"d-flex flex-column justify-content-center align-items-center",style:{height:"100vh",backgroundColor:"#f8f9fa"},children:[a.jsx(pn,{color:"primary",style:{width:"3rem",height:"3rem"}}),a.jsx("span",{className:"mt-3 fw-bold text-secondary",children:"    ..."})]})}/*!
* sweetalert2 v11.26.4
* Released under the MIT License.
*/function tre(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function aWe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function E8(t,e){return t.get(tre(t,e))}function oWe(t,e,n){aWe(t,e),e.set(t,n)}function lWe(t,e,n){return t.set(tre(t,e),n),n}const cWe=100,Zt={},uWe=()=>{Zt.previousActiveElement instanceof HTMLElement?(Zt.previousActiveElement.focus(),Zt.previousActiveElement=null):document.body&&document.body.focus()},dWe=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;Zt.restoreFocusTimeout=setTimeout(()=>{uWe(),e()},cWe),window.scrollTo(n,r)}),nre="swal2-",hWe=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Oe=hWe.reduce((t,e)=>(t[e]=nre+e,t),{}),fWe=["success","warning","info","question","error"],HT=fWe.reduce((t,e)=>(t[e]=nre+e,t),{}),rre="SweetAlert2:",T4=t=>t.charAt(0).toUpperCase()+t.slice(1),lo=t=>{console.warn(`${rre} ${typeof t=="object"?t.join(" "):t}`)},pg=t=>{console.error(`${rre} ${t}`)},S8=[],mWe=t=>{S8.includes(t)||(S8.push(t),lo(t))},sre=(t,e=null)=>{mWe(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},nN=t=>typeof t=="function"?t():t,C4=t=>t&&typeof t.toPromise=="function",P0=t=>C4(t)?t.toPromise():Promise.resolve(t),A4=t=>t&&Promise.resolve(t)===t,fo=()=>document.body.querySelector(`.${Oe.container}`),D0=t=>{const e=fo();return e?e.querySelector(t):null},Fl=t=>D0(`.${t}`),wr=()=>Fl(Oe.popup),jb=()=>Fl(Oe.icon),pWe=()=>Fl(Oe["icon-content"]),ire=()=>Fl(Oe.title),N4=()=>Fl(Oe["html-container"]),are=()=>Fl(Oe.image),I4=()=>Fl(Oe["progress-steps"]),rN=()=>Fl(Oe["validation-message"]),rd=()=>D0(`.${Oe.actions} .${Oe.confirm}`),Tb=()=>D0(`.${Oe.actions} .${Oe.cancel}`),gg=()=>D0(`.${Oe.actions} .${Oe.deny}`),gWe=()=>Fl(Oe["input-label"]),Cb=()=>D0(`.${Oe.loader}`),L0=()=>Fl(Oe.actions),ore=()=>Fl(Oe.footer),sN=()=>Fl(Oe["timer-progress-bar"]),k4=()=>Fl(Oe.close),yWe=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,O4=()=>{const t=wr();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((i,o)=>{const l=parseInt(i.getAttribute("tabindex")||"0"),c=parseInt(o.getAttribute("tabindex")||"0");return l>c?1:l<c?-1:0}),r=t.querySelectorAll(yWe),s=Array.from(r).filter(i=>i.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(s))].filter(i=>qo(i))},R4=()=>Gd(document.body,Oe.shown)&&!Gd(document.body,Oe["toast-shown"])&&!Gd(document.body,Oe["no-backdrop"]),iN=()=>{const t=wr();return t?Gd(t,Oe.toast):!1},vWe=()=>{const t=wr();return t?t.hasAttribute("data-loading"):!1},Vl=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),s=r.querySelector("head");s&&Array.from(s.childNodes).forEach(o=>{t.appendChild(o)});const i=r.querySelector("body");i&&Array.from(i.childNodes).forEach(o=>{o instanceof HTMLVideoElement||o instanceof HTMLAudioElement?t.appendChild(o.cloneNode(!0)):t.appendChild(o)})}},Gd=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},bWe=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(Oe).includes(n)&&!Object.values(HT).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},Rl=(t,e,n)=>{if(bWe(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){lo(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}Cr(t,r)}},aN=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${Oe.popup} > .${Oe[e]}`);case"checkbox":return t.querySelector(`.${Oe.popup} > .${Oe.checkbox} input`);case"radio":return t.querySelector(`.${Oe.popup} > .${Oe.radio} input:checked`)||t.querySelector(`.${Oe.popup} > .${Oe.radio} input:first-child`);case"range":return t.querySelector(`.${Oe.popup} > .${Oe.range} input`);default:return t.querySelector(`.${Oe.popup} > .${Oe.input}`)}},lre=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},cre=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(s=>{n?s.classList.add(r):s.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},Cr=(t,e)=>{cre(t,e,!0)},Ec=(t,e)=>{cre(t,e,!1)},cf=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const s=n[r];if(s instanceof HTMLElement&&Gd(s,e))return s}},jp=(t,e,n)=>{n===`${parseInt(`${n}`)}`&&(n=parseInt(n)),n||parseInt(`${n}`)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},zi=(t,e="flex")=>{t&&(t.style.display=e)},$a=t=>{t&&(t.style.display="none")},P4=(t,e="block")=>{t&&new MutationObserver(()=>{M0(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},j8=(t,e,n,r)=>{const s=t.querySelector(e);s&&s.style.setProperty(n,r)},M0=(t,e,n="flex")=>{e?zi(t,n):$a(t)},qo=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),_We=()=>!qo(rd())&&!qo(gg())&&!qo(Tb()),IL=t=>t.scrollHeight>t.clientHeight,wWe=(t,e)=>{let n=t;for(;n&&n!==e;){if(IL(n))return!0;n=n.parentElement}return!1},ure=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},D4=(t,e=!1)=>{const n=sN();n&&qo(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},xWe=()=>{const t=sN();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},EWe=()=>typeof window>"u"||typeof document>"u",SWe=`
 <div aria-labelledby="${Oe.title}" aria-describedby="${Oe["html-container"]}" class="${Oe.popup}" tabindex="-1">
   <button type="button" class="${Oe.close}"></button>
   <ul class="${Oe["progress-steps"]}"></ul>
   <div class="${Oe.icon}"></div>
   <img class="${Oe.image}" />
   <h2 class="${Oe.title}" id="${Oe.title}"></h2>
   <div class="${Oe["html-container"]}" id="${Oe["html-container"]}"></div>
   <input class="${Oe.input}" id="${Oe.input}" />
   <input type="file" class="${Oe.file}" />
   <div class="${Oe.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Oe.select}" id="${Oe.select}"></select>
   <div class="${Oe.radio}"></div>
   <label class="${Oe.checkbox}">
     <input type="checkbox" id="${Oe.checkbox}" />
     <span class="${Oe.label}"></span>
   </label>
   <textarea class="${Oe.textarea}" id="${Oe.textarea}"></textarea>
   <div class="${Oe["validation-message"]}" id="${Oe["validation-message"]}"></div>
   <div class="${Oe.actions}">
     <div class="${Oe.loader}"></div>
     <button type="button" class="${Oe.confirm}"></button>
     <button type="button" class="${Oe.deny}"></button>
     <button type="button" class="${Oe.cancel}"></button>
   </div>
   <div class="${Oe.footer}"></div>
   <div class="${Oe["timer-progress-bar-container"]}">
     <div class="${Oe["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),jWe=()=>{const t=fo();return t?(t.remove(),Ec([document.documentElement,document.body],[Oe["no-backdrop"],Oe["toast-shown"],Oe["has-column"]]),!0):!1},Dm=()=>{Zt.currentInstance.resetValidationMessage()},TWe=()=>{const t=wr(),e=cf(t,Oe.input),n=cf(t,Oe.file),r=t.querySelector(`.${Oe.range} input`),s=t.querySelector(`.${Oe.range} output`),i=cf(t,Oe.select),o=t.querySelector(`.${Oe.checkbox} input`),l=cf(t,Oe.textarea);e.oninput=Dm,n.onchange=Dm,i.onchange=Dm,o.onchange=Dm,l.oninput=Dm,r.oninput=()=>{Dm(),s.value=r.value},r.onchange=()=>{Dm(),s.value=r.value}},CWe=t=>typeof t=="string"?document.querySelector(t):t,AWe=t=>{const e=wr();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},NWe=t=>{window.getComputedStyle(t).direction==="rtl"&&(Cr(fo(),Oe.rtl),Zt.isRTL=!0)},IWe=t=>{const e=jWe();if(EWe()){pg("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=Oe.container,e&&Cr(n,Oe["no-transition"]),Vl(n,SWe),n.dataset.swal2Theme=t.theme;const r=CWe(t.target);r.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),AWe(t),NWe(r),TWe()},L4=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?kWe(t,e):t&&Vl(e,t)},kWe=(t,e)=>{t.jquery?OWe(e,t):Vl(e,t.toString())},OWe=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},RWe=(t,e)=>{const n=L0(),r=Cb();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?$a(n):zi(n),Rl(n,e,"actions"),PWe(n,r,e),Vl(r,e.loaderHtml||""),Rl(r,e,"loader"))};function PWe(t,e,n){const r=rd(),s=gg(),i=Tb();!r||!s||!i||(SR(r,"confirm",n),SR(s,"deny",n),SR(i,"cancel",n),DWe(r,s,i,n),n.reverseButtons&&(n.toast?(t.insertBefore(i,r),t.insertBefore(s,r)):(t.insertBefore(i,e),t.insertBefore(s,e),t.insertBefore(r,e))))}function DWe(t,e,n,r){if(!r.buttonsStyling){Ec([t,e,n],Oe.styled);return}Cr([t,e,n],Oe.styled),r.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),ER(t),ER(e),ER(n)}function ER(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function SR(t,e,n){const r=T4(e);M0(t,n[`show${r}Button`],"inline-block"),Vl(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=Oe[e],Rl(t,n,`${e}Button`)}const LWe=(t,e)=>{const n=k4();n&&(Vl(n,e.closeButtonHtml||""),Rl(n,e,"closeButton"),M0(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},MWe=(t,e)=>{const n=fo();n&&($We(n,e.backdrop),FWe(n,e.position),VWe(n,e.grow),Rl(n,e,"container"))};function $We(t,e){typeof e=="string"?t.style.background=e:e||Cr([document.documentElement,document.body],Oe["no-backdrop"])}function FWe(t,e){e&&(e in Oe?Cr(t,Oe[e]):(lo('The "position" parameter is not valid, defaulting to "center"'),Cr(t,Oe.center)))}function VWe(t,e){e&&Cr(t,Oe[`grow-${e}`])}var Kr={innerParams:new WeakMap,domCache:new WeakMap};const UWe=["input","file","range","select","radio","checkbox","textarea"],BWe=(t,e)=>{const n=wr();if(!n)return;const r=Kr.innerParams.get(t),s=!r||e.input!==r.input;UWe.forEach(i=>{const o=cf(n,Oe[i]);o&&(GWe(i,e.inputAttributes),o.className=Oe[i],s&&$a(o))}),e.input&&(s&&zWe(e),HWe(e))},zWe=t=>{if(!t.input)return;if(!ri[t.input]){pg(`Unexpected type of input! Expected ${Object.keys(ri).join(" | ")}, got "${t.input}"`);return}const e=dre(t.input);if(!e)return;const n=ri[t.input](e,t);zi(e),t.inputAutoFocus&&setTimeout(()=>{lre(n)})},WWe=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},GWe=(t,e)=>{const n=wr();if(!n)return;const r=aN(n,t);if(r){WWe(r);for(const s in e)r.setAttribute(s,e[s])}},HWe=t=>{if(!t.input)return;const e=dre(t.input);e&&Rl(e,t,"input")},M4=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},$0=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),s=Oe["input-label"];r.setAttribute("for",t.id),r.className=s,typeof n.customClass=="object"&&Cr(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},dre=t=>{const e=wr();if(e)return cf(e,Oe[t]||Oe.input)},qT=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:A4(e)||lo(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},ri={};ri.text=ri.email=ri.password=ri.number=ri.tel=ri.url=ri.search=ri.date=ri["datetime-local"]=ri.time=ri.week=ri.month=(t,e)=>(qT(t,e.inputValue),$0(t,t,e),M4(t,e),t.type=e.input,t);ri.file=(t,e)=>($0(t,t,e),M4(t,e),t);ri.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return qT(n,e.inputValue),n.type=e.input,qT(r,e.inputValue),$0(n,t,e),t};ri.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");Vl(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return $0(t,t,e),t};ri.radio=t=>(t.textContent="",t);ri.checkbox=(t,e)=>{const n=aN(wr(),"checkbox");n.value="1",n.checked=!!e.inputValue;const r=t.querySelector("span");return Vl(r,e.inputPlaceholder||e.inputLabel),n};ri.textarea=(t,e)=>{qT(t,e.inputValue),M4(t,e),$0(t,t,e);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(wr()).width),s=()=>{if(!document.body.contains(t))return;const i=t.offsetWidth+n(t);i>r?wr().style.width=`${i}px`:jp(wr(),"width",e.width)};new MutationObserver(s).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const qWe=(t,e)=>{const n=N4();n&&(P4(n),Rl(n,e,"htmlContainer"),e.html?(L4(e.html,n),zi(n,"block")):e.text?(n.textContent=e.text,zi(n,"block")):$a(n),BWe(t,e))},YWe=(t,e)=>{const n=ore();n&&(P4(n),M0(n,!!e.footer,"block"),e.footer&&L4(e.footer,n),Rl(n,e,"footer"))},KWe=(t,e)=>{const n=Kr.innerParams.get(t),r=jb();if(!r)return;if(n&&e.icon===n.icon){C8(r,e),T8(r,e);return}if(!e.icon&&!e.iconHtml){$a(r);return}if(e.icon&&Object.keys(HT).indexOf(e.icon)===-1){pg(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),$a(r);return}zi(r),C8(r,e),T8(r,e),Cr(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",hre)},T8=(t,e)=>{for(const[n,r]of Object.entries(HT))e.icon!==n&&Ec(t,r);Cr(t,e.icon&&HT[e.icon]),ZWe(t,e),hre(),Rl(t,e,"icon")},hre=()=>{const t=wr();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},JWe=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,QWe=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,C8=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=A8(e.iconHtml):e.icon==="success"?(r=JWe(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=QWe:e.icon&&(r=A8({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&Vl(t,r)},ZWe=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])j8(t,n,"background-color",e.iconColor);j8(t,".swal2-success-ring","border-color",e.iconColor)}},A8=t=>`<div class="${Oe["icon-content"]}">${t}</div>`,XWe=(t,e)=>{const n=are();if(n){if(!e.imageUrl){$a(n);return}zi(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),jp(n,"width",e.imageWidth),jp(n,"height",e.imageHeight),n.className=Oe.image,Rl(n,e,"image")}};let $4=!1,fre=0,mre=0,pre=0,gre=0;const eGe=t=>{t.addEventListener("mousedown",YT),document.body.addEventListener("mousemove",KT),t.addEventListener("mouseup",JT),t.addEventListener("touchstart",YT),document.body.addEventListener("touchmove",KT),t.addEventListener("touchend",JT)},tGe=t=>{t.removeEventListener("mousedown",YT),document.body.removeEventListener("mousemove",KT),t.removeEventListener("mouseup",JT),t.removeEventListener("touchstart",YT),document.body.removeEventListener("touchmove",KT),t.removeEventListener("touchend",JT)},YT=t=>{const e=wr();if(t.target===e||jb().contains(t.target)){$4=!0;const n=yre(t);fre=n.clientX,mre=n.clientY,pre=parseInt(e.style.insetInlineStart)||0,gre=parseInt(e.style.insetBlockStart)||0,Cr(e,"swal2-dragging")}},KT=t=>{const e=wr();if($4){let{clientX:n,clientY:r}=yre(t);const s=n-fre;e.style.insetInlineStart=`${pre+(Zt.isRTL?-s:s)}px`,e.style.insetBlockStart=`${gre+(r-mre)}px`}},JT=()=>{const t=wr();$4=!1,Ec(t,"swal2-dragging")},yre=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},nGe=(t,e)=>{const n=fo(),r=wr();if(!(!n||!r)){if(e.toast){jp(n,"width",e.width),r.style.width="100%";const s=Cb();s&&r.insertBefore(s,jb())}else jp(r,"width",e.width);jp(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),$a(rN()),rGe(r,e),e.draggable&&!e.toast?(Cr(r,Oe.draggable),eGe(r)):(Ec(r,Oe.draggable),tGe(r))}},rGe=(t,e)=>{const n=e.showClass||{};t.className=`${Oe.popup} ${qo(t)?n.popup:""}`,e.toast?(Cr([document.documentElement,document.body],Oe["toast-shown"]),Cr(t,Oe.toast)):Cr(t,Oe.modal),Rl(t,e,"popup"),typeof e.customClass=="string"&&Cr(t,e.customClass),e.icon&&Cr(t,Oe[`icon-${e.icon}`])},sGe=(t,e)=>{const n=I4();if(!n)return;const{progressSteps:r,currentProgressStep:s}=e;if(!r||r.length===0||s===void 0){$a(n);return}zi(n),n.textContent="",s>=r.length&&lo("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((i,o)=>{const l=iGe(i);if(n.appendChild(l),o===s&&Cr(l,Oe["active-progress-step"]),o!==r.length-1){const c=aGe(e);n.appendChild(c)}})},iGe=t=>{const e=document.createElement("li");return Cr(e,Oe["progress-step"]),Vl(e,t),e},aGe=t=>{const e=document.createElement("li");return Cr(e,Oe["progress-step-line"]),t.progressStepsDistance&&jp(e,"width",t.progressStepsDistance),e},oGe=(t,e)=>{const n=ire();n&&(P4(n),M0(n,!!(e.title||e.titleText),"block"),e.title&&L4(e.title,n),e.titleText&&(n.innerText=e.titleText),Rl(n,e,"title"))},vre=(t,e)=>{nGe(t,e),MWe(t,e),sGe(t,e),KWe(t,e),XWe(t,e),oGe(t,e),LWe(t,e),qWe(t,e),RWe(t,e),YWe(t,e);const n=wr();typeof e.didRender=="function"&&n&&e.didRender(n),Zt.eventEmitter.emit("didRender",n)},lGe=()=>qo(wr()),bre=()=>{var t;return(t=rd())===null||t===void 0?void 0:t.click()},cGe=()=>{var t;return(t=gg())===null||t===void 0?void 0:t.click()},uGe=()=>{var t;return(t=Tb())===null||t===void 0?void 0:t.click()},Ab=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),_re=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},dGe=(t,e,n)=>{_re(t),e.toast||(t.keydownHandler=r=>fGe(e,r,n),t.keydownTarget=e.keydownListenerCapture?window:wr(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},kL=(t,e)=>{var n;const r=O4();if(r.length){t=t+e,t===-2&&(t=r.length-1),t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=wr())===null||n===void 0||n.focus()},wre=["ArrowRight","ArrowDown"],hGe=["ArrowLeft","ArrowUp"],fGe=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?mGe(e,t):e.key==="Tab"?pGe(e):[...wre,...hGe].includes(e.key)?gGe(e.key):e.key==="Escape"&&yGe(e,t,n)))},mGe=(t,e)=>{if(!nN(e.allowEnterKey))return;const n=aN(wr(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;bre(),t.preventDefault()}},pGe=t=>{const e=t.target,n=O4();let r=-1;for(let s=0;s<n.length;s++)if(e===n[s]){r=s;break}t.shiftKey?kL(r,-1):kL(r,1),t.stopPropagation(),t.preventDefault()},gGe=t=>{const e=L0(),n=rd(),r=gg(),s=Tb();if(!e||!n||!r||!s)return;const i=[n,r,s];if(document.activeElement instanceof HTMLElement&&!i.includes(document.activeElement))return;const o=wre.includes(t)?"nextElementSibling":"previousElementSibling";let l=document.activeElement;if(l){for(let c=0;c<e.children.length;c++){if(l=l[o],!l)return;if(l instanceof HTMLButtonElement&&qo(l))break}l instanceof HTMLButtonElement&&l.focus()}},yGe=(t,e,n)=>{t.preventDefault(),nN(e.allowEscapeKey)&&n(Ab.esc)};var Hv={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const vGe=()=>{const t=fo();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},xre=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},Ere=typeof window<"u"&&!!window.GestureEvent,bGe=()=>{if(Ere&&!Gd(document.body,Oe.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,Cr(document.body,Oe.iosfix),_Ge()}},_Ge=()=>{const t=fo();if(!t)return;let e;t.ontouchstart=n=>{e=wGe(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},wGe=t=>{const e=t.target,n=fo(),r=N4();return!n||!r||xGe(t)||EGe(t)?!1:e===n||!IL(n)&&e instanceof HTMLElement&&!wWe(e,r)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(IL(r)&&r.contains(e))},xGe=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",EGe=t=>t.touches&&t.touches.length>1,SGe=()=>{if(Gd(document.body,Oe.iosfix)){const t=parseInt(document.body.style.top,10);Ec(document.body,Oe.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},jGe=()=>{const t=document.createElement("div");t.className=Oe["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let gv=null;const TGe=t=>{gv===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(gv=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${gv+jGe()}px`)},CGe=()=>{gv!==null&&(document.body.style.paddingRight=`${gv}px`,gv=null)};function Sre(t,e,n,r){iN()?N8(t,r):(dWe(n).then(()=>N8(t,r)),_re(Zt)),Ere?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),R4()&&(CGe(),SGe(),xre()),AGe()}function AGe(){Ec([document.documentElement,document.body],[Oe.shown,Oe["height-auto"],Oe["no-backdrop"],Oe["toast-shown"]])}function uf(t){t=IGe(t);const e=Hv.swalPromiseResolve.get(this),n=NGe(this);this.isAwaitingPromise?t.isDismissed||(F0(this),e(t)):n&&e(t)}const NGe=t=>{const e=wr();if(!e)return!1;const n=Kr.innerParams.get(t);if(!n||Gd(e,n.hideClass.popup))return!1;Ec(e,n.showClass.popup),Cr(e,n.hideClass.popup);const r=fo();return Ec(r,n.showClass.backdrop),Cr(r,n.hideClass.backdrop),kGe(t,e,n),!0};function jre(t){const e=Hv.swalPromiseReject.get(this);F0(this),e&&e(t)}const F0=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Kr.innerParams.get(t)||t._destroy())},IGe=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),kGe=(t,e,n)=>{var r;const s=fo(),i=ure(e);typeof n.willClose=="function"&&n.willClose(e),(r=Zt.eventEmitter)===null||r===void 0||r.emit("willClose",e),i?OGe(t,e,s,n.returnFocus,n.didClose):Sre(t,s,n.returnFocus,n.didClose)},OGe=(t,e,n,r,s)=>{Zt.swalCloseEventFinishedCallback=Sre.bind(null,t,n,r,s);const i=function(o){if(o.target===e){var l;(l=Zt.swalCloseEventFinishedCallback)===null||l===void 0||l.call(Zt),delete Zt.swalCloseEventFinishedCallback,e.removeEventListener("animationend",i),e.removeEventListener("transitionend",i)}};e.addEventListener("animationend",i),e.addEventListener("transitionend",i)},N8=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=Zt.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},qv=t=>{let e=wr();if(e||new tC,e=wr(),!e)return;const n=Cb();iN()?$a(jb()):RGe(e,t),zi(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},RGe=(t,e)=>{const n=L0(),r=Cb();!n||!r||(!e&&qo(rd())&&(e=rd()),zi(n),e&&($a(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),Cr([t,n],Oe.loading))},PGe=(t,e)=>{e.input==="select"||e.input==="radio"?FGe(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(C4(e.inputValue)||A4(e.inputValue))&&(qv(rd()),VGe(t,e))},DGe=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return LGe(n);case"radio":return MGe(n);case"file":return $Ge(n);default:return e.inputAutoTrim?n.value.trim():n.value}},LGe=t=>t.checked?1:0,MGe=t=>t.checked?t.value:null,$Ge=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,FGe=(t,e)=>{const n=wr();if(!n)return;const r=s=>{e.input==="select"?UGe(n,QT(s),e):e.input==="radio"&&BGe(n,QT(s),e)};C4(e.inputOptions)||A4(e.inputOptions)?(qv(rd()),P0(e.inputOptions).then(s=>{t.hideLoading(),r(s)})):typeof e.inputOptions=="object"?r(e.inputOptions):pg(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},VGe=(t,e)=>{const n=t.getInput();n&&($a(n),P0(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,zi(n),n.focus(),t.hideLoading()}).catch(r=>{pg(`Error in inputValue promise: ${r}`),n.value="",zi(n),n.focus(),t.hideLoading()}))};function UGe(t,e,n){const r=cf(t,Oe.select);if(!r)return;const s=(i,o,l)=>{const c=document.createElement("option");c.value=l,Vl(c,o),c.selected=Tre(l,n.inputValue),i.appendChild(c)};e.forEach(i=>{const o=i[0],l=i[1];if(Array.isArray(l)){const c=document.createElement("optgroup");c.label=o,c.disabled=!1,r.appendChild(c),l.forEach(u=>s(c,u[1],u[0]))}else s(r,l,o)}),r.focus()}function BGe(t,e,n){const r=cf(t,Oe.radio);if(!r)return;e.forEach(i=>{const o=i[0],l=i[1],c=document.createElement("input"),u=document.createElement("label");c.type="radio",c.name=Oe.radio,c.value=o,Tre(o,n.inputValue)&&(c.checked=!0);const d=document.createElement("span");Vl(d,l),d.className=Oe.label,u.appendChild(c),u.appendChild(d),r.appendChild(u)});const s=r.querySelectorAll("input");s.length&&s[0].focus()}const QT=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let s=n;typeof s=="object"&&(s=QT(s)),e.push([r,s])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=QT(r)),e.push([n,r])}),e},Tre=(t,e)=>!!e&&e.toString()===t.toString(),zGe=t=>{const e=Kr.innerParams.get(t);t.disableButtons(),e.input?Cre(t,"confirm"):V4(t,!0)},WGe=t=>{const e=Kr.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?Cre(t,"deny"):F4(t,!1)},GGe=(t,e)=>{t.disableButtons(),e(Ab.cancel)},Cre=(t,e)=>{const n=Kr.innerParams.get(t);if(!n.input){pg(`The "input" parameter is needed to be set when using returnInputValueOn${T4(e)}`);return}const r=t.getInput(),s=DGe(t,n);n.inputValidator?HGe(t,s,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?F4(t,s):V4(t,s)},HGe=(t,e,n)=>{const r=Kr.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>P0(r.inputValidator(e,r.validationMessage))).then(i=>{t.enableButtons(),t.enableInput(),i?t.showValidationMessage(i):n==="deny"?F4(t,e):V4(t,e)})},F4=(t,e)=>{const n=Kr.innerParams.get(t||void 0);n.showLoaderOnDeny&&qv(gg()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>P0(n.preDeny(e,n.validationMessage))).then(s=>{s===!1?(t.hideLoading(),F0(t)):t.close({isDenied:!0,value:typeof s>"u"?e:s})}).catch(s=>Are(t||void 0,s))):t.close({isDenied:!0,value:e})},I8=(t,e)=>{t.close({isConfirmed:!0,value:e})},Are=(t,e)=>{t.rejectPromise(e)},V4=(t,e)=>{const n=Kr.innerParams.get(t||void 0);n.showLoaderOnConfirm&&qv(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>P0(n.preConfirm(e,n.validationMessage))).then(s=>{qo(rN())||s===!1?(t.hideLoading(),F0(t)):I8(t,typeof s>"u"?e:s)}).catch(s=>Are(t||void 0,s))):I8(t,e)};function ZT(){const t=Kr.innerParams.get(this);if(!t)return;const e=Kr.domCache.get(this);$a(e.loader),iN()?t.icon&&zi(jb()):qGe(e),Ec([e.popup,e.actions],Oe.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const qGe=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?zi(e[0],"inline-block"):_We()&&$a(t.actions)};function Nre(){const t=Kr.innerParams.get(this),e=Kr.domCache.get(this);return e?aN(e.popup,t.input):null}function Ire(t,e,n){const r=Kr.domCache.get(t);e.forEach(s=>{r[s].disabled=n})}function kre(t,e){const n=wr();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${Oe.radio}"]`);for(let s=0;s<r.length;s++)r[s].disabled=e}else t.disabled=e}function Ore(){Ire(this,["confirmButton","denyButton","cancelButton"],!1)}function Rre(){Ire(this,["confirmButton","denyButton","cancelButton"],!0)}function Pre(){kre(this.getInput(),!1)}function Dre(){kre(this.getInput(),!0)}function Lre(t){const e=Kr.domCache.get(this),n=Kr.innerParams.get(this);Vl(e.validationMessage,t),e.validationMessage.className=Oe["validation-message"],n.customClass&&n.customClass.validationMessage&&Cr(e.validationMessage,n.customClass.validationMessage),zi(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",Oe["validation-message"]),lre(r),Cr(r,Oe.inputerror))}function Mre(){const t=Kr.domCache.get(this);t.validationMessage&&$a(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Ec(e,Oe.inputerror))}const yv={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},YGe=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],KGe={allowEnterKey:void 0},JGe=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],$re=t=>Object.prototype.hasOwnProperty.call(yv,t),Fre=t=>YGe.indexOf(t)!==-1,Vre=t=>KGe[t],QGe=t=>{$re(t)||lo(`Unknown parameter "${t}"`)},ZGe=t=>{JGe.includes(t)&&lo(`The parameter "${t}" is incompatible with toasts`)},XGe=t=>{const e=Vre(t);e&&sre(t,e)},Ure=t=>{t.backdrop===!1&&t.allowOutsideClick&&lo('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&lo(`Invalid theme "${t.theme}"`);for(const e in t)QGe(e),t.toast&&ZGe(e),XGe(e)};function Bre(t){const e=fo(),n=wr(),r=Kr.innerParams.get(this);if(!n||Gd(n,r.hideClass.popup)){lo("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const s=eHe(t),i=Object.assign({},r,s);Ure(i),e.dataset.swal2Theme=i.theme,vre(this,i),Kr.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const eHe=t=>{const e={};return Object.keys(t).forEach(n=>{Fre(n)?e[n]=t[n]:lo(`Invalid parameter to update: ${n}`)}),e};function zre(){const t=Kr.domCache.get(this),e=Kr.innerParams.get(this);if(!e){Wre(this);return}t.popup&&Zt.swalCloseEventFinishedCallback&&(Zt.swalCloseEventFinishedCallback(),delete Zt.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Zt.eventEmitter.emit("didDestroy"),tHe(this)}const tHe=t=>{Wre(t),delete t.params,delete Zt.keydownHandler,delete Zt.keydownTarget,delete Zt.currentInstance},Wre=t=>{t.isAwaitingPromise?(jR(Kr,t),t.isAwaitingPromise=!0):(jR(Hv,t),jR(Kr,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},jR=(t,e)=>{for(const n in t)t[n].delete(e)};var nHe=Object.freeze({__proto__:null,_destroy:zre,close:uf,closeModal:uf,closePopup:uf,closeToast:uf,disableButtons:Rre,disableInput:Dre,disableLoading:ZT,enableButtons:Ore,enableInput:Pre,getInput:Nre,handleAwaitingPromise:F0,hideLoading:ZT,rejectPromise:jre,resetValidationMessage:Mre,showValidationMessage:Lre,update:Bre});const rHe=(t,e,n)=>{t.toast?sHe(t,e,n):(aHe(e),oHe(e),lHe(t,e,n))},sHe=(t,e,n)=>{e.popup.onclick=()=>{t&&(iHe(t)||t.timer||t.input)||n(Ab.close)}},iHe=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let XT=!1;const aHe=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(XT=!0)}}},oHe=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(XT=!0)}}},lHe=(t,e,n)=>{e.container.onclick=r=>{if(XT){XT=!1;return}r.target===e.container&&nN(t.allowOutsideClick)&&n(Ab.backdrop)}},cHe=t=>typeof t=="object"&&t.jquery,k8=t=>t instanceof Element||cHe(t),uHe=t=>{const e={};return typeof t[0]=="object"&&!k8(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const s=t[r];typeof s=="string"||k8(s)?e[n]=s:s!==void 0&&pg(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof s}`)}),e};function dHe(...t){return new this(...t)}function hHe(t){class e extends this{_main(r,s){return super._main(r,Object.assign({},t,s))}}return e}const fHe=()=>Zt.timeout&&Zt.timeout.getTimerLeft(),Gre=()=>{if(Zt.timeout)return xWe(),Zt.timeout.stop()},Hre=()=>{if(Zt.timeout){const t=Zt.timeout.start();return D4(t),t}},mHe=()=>{const t=Zt.timeout;return t&&(t.running?Gre():Hre())},pHe=t=>{if(Zt.timeout){const e=Zt.timeout.increase(t);return D4(e,!0),e}},gHe=()=>!!(Zt.timeout&&Zt.timeout.isRunning());let O8=!1;const OL={};function yHe(t="data-swal-template"){OL[t]=this,O8||(document.body.addEventListener("click",vHe),O8=!0)}const vHe=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in OL){const r=e.getAttribute(n);if(r){OL[n].fire({template:r});return}}};let bHe=class{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){const r=(...s)=>{this.removeListener(e,r),n.apply(this,s)};this.on(e,r)}emit(e,...n){this._getHandlersByEventName(e).forEach(r=>{try{r.apply(this,n)}catch(s){console.error(s)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),s=r.indexOf(n);s>-1&&r.splice(s,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}};Zt.eventEmitter=new bHe;const _He=(t,e)=>{Zt.eventEmitter.on(t,e)},wHe=(t,e)=>{Zt.eventEmitter.once(t,e)},xHe=(t,e)=>{if(!t){Zt.eventEmitter.reset();return}e?Zt.eventEmitter.removeListener(t,e):Zt.eventEmitter.removeAllListeners(t)};var EHe=Object.freeze({__proto__:null,argsToParams:uHe,bindClickHandler:yHe,clickCancel:uGe,clickConfirm:bre,clickDeny:cGe,enableLoading:qv,fire:dHe,getActions:L0,getCancelButton:Tb,getCloseButton:k4,getConfirmButton:rd,getContainer:fo,getDenyButton:gg,getFocusableElements:O4,getFooter:ore,getHtmlContainer:N4,getIcon:jb,getIconContent:pWe,getImage:are,getInputLabel:gWe,getLoader:Cb,getPopup:wr,getProgressSteps:I4,getTimerLeft:fHe,getTimerProgressBar:sN,getTitle:ire,getValidationMessage:rN,increaseTimer:pHe,isDeprecatedParameter:Vre,isLoading:vWe,isTimerRunning:gHe,isUpdatableParameter:Fre,isValidParameter:$re,isVisible:lGe,mixin:hHe,off:xHe,on:_He,once:wHe,resumeTimer:Hre,showLoading:qv,stopTimer:Gre,toggleTimer:mHe});class SHe{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const qre=["swal-title","swal-html","swal-footer"],jHe=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return RHe(n),Object.assign(THe(n),CHe(n),AHe(n),NHe(n),IHe(n),kHe(n),OHe(n,qre))},THe=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{Up(r,["name","value"]);const s=r.getAttribute("name"),i=r.getAttribute("value");!s||!i||(typeof yv[s]=="boolean"?e[s]=i!=="false":typeof yv[s]=="object"?e[s]=JSON.parse(i):e[s]=i)}),e},CHe=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const s=r.getAttribute("name"),i=r.getAttribute("value");!s||!i||(e[s]=new Function(`return ${i}`)())}),e},AHe=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{Up(r,["type","color","aria-label"]);const s=r.getAttribute("type");!s||!["confirm","cancel","deny"].includes(s)||(e[`${s}ButtonText`]=r.innerHTML,e[`show${T4(s)}Button`]=!0,r.hasAttribute("color")&&(e[`${s}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${s}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},NHe=t=>{const e={},n=t.querySelector("swal-image");return n&&(Up(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},IHe=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Up(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},kHe=t=>{const e={},n=t.querySelector("swal-input");n&&(Up(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(s=>{Up(s,["value"]);const i=s.getAttribute("value");if(!i)return;const o=s.innerHTML;e.inputOptions[i]=o})),e},OHe=(t,e)=>{const n={};for(const r in e){const s=e[r],i=t.querySelector(s);i&&(Up(i,[]),n[s.replace(/^swal-/,"")]=i.innerHTML.trim())}return n},RHe=t=>{const e=qre.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||lo(`Unrecognized element <${r}>`)})},Up=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&lo([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},Yre=10,PHe=t=>{const e=fo(),n=wr();typeof t.willOpen=="function"&&t.willOpen(n),Zt.eventEmitter.emit("willOpen",n);const s=window.getComputedStyle(document.body).overflowY;MHe(e,n,t),setTimeout(()=>{DHe(e,n)},Yre),R4()&&(LHe(e,t.scrollbarPadding,s),vGe()),!iN()&&!Zt.previousActiveElement&&(Zt.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),Zt.eventEmitter.emit("didOpen",n)},eC=t=>{const e=wr();if(t.target!==e)return;const n=fo();e.removeEventListener("animationend",eC),e.removeEventListener("transitionend",eC),n.style.overflowY="auto",Ec(n,Oe["no-transition"])},DHe=(t,e)=>{ure(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",eC),e.addEventListener("transitionend",eC)):t.style.overflowY="auto"},LHe=(t,e,n)=>{bGe(),e&&n!=="hidden"&&TGe(n),setTimeout(()=>{t.scrollTop=0})},MHe=(t,e,n)=>{Cr(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),zi(e,"grid"),setTimeout(()=>{Cr(e,n.showClass.popup),e.style.removeProperty("opacity")},Yre)):zi(e,"grid"),Cr([document.documentElement,document.body],Oe.shown),n.heightAuto&&n.backdrop&&!n.toast&&Cr([document.documentElement,document.body],Oe["height-auto"])};var R8={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function $He(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=R8.email),t.input==="url"&&(t.inputValidator=R8.url))}function FHe(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(lo('Target parameter is not valid, defaulting to "body"'),t.target="body")}function VHe(t){$He(t),t.showLoaderOnConfirm&&!t.preConfirm&&lo(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),FHe(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),IWe(t)}let Ou;var rj=new WeakMap;class ci{constructor(...e){if(oWe(this,rj,void 0),typeof window>"u")return;Ou=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,lWe(rj,this,this._main(Ou.params))}_main(e,n={}){if(Ure(Object.assign({},n,e)),Zt.currentInstance){const i=Hv.swalPromiseResolve.get(Zt.currentInstance),{isAwaitingPromise:o}=Zt.currentInstance;Zt.currentInstance._destroy(),o||i({isDismissed:!0}),R4()&&xre()}Zt.currentInstance=Ou;const r=BHe(e,n);VHe(r),Object.freeze(r),Zt.timeout&&(Zt.timeout.stop(),delete Zt.timeout),clearTimeout(Zt.restoreFocusTimeout);const s=zHe(Ou);return vre(Ou,r),Kr.innerParams.set(Ou,r),UHe(Ou,s,r)}then(e){return E8(rj,this).then(e)}finally(e){return E8(rj,this).finally(e)}}const UHe=(t,e,n)=>new Promise((r,s)=>{const i=o=>{t.close({isDismissed:!0,dismiss:o,isConfirmed:!1,isDenied:!1})};Hv.swalPromiseResolve.set(t,r),Hv.swalPromiseReject.set(t,s),e.confirmButton.onclick=()=>{zGe(t)},e.denyButton.onclick=()=>{WGe(t)},e.cancelButton.onclick=()=>{GGe(t,i)},e.closeButton.onclick=()=>{i(Ab.close)},rHe(n,e,i),dGe(Zt,n,i),PGe(t,n),PHe(n),WHe(Zt,n,i),GHe(e,n),setTimeout(()=>{e.container.scrollTop=0})}),BHe=(t,e)=>{const n=jHe(t),r=Object.assign({},yv,e,n,t);return r.showClass=Object.assign({},yv.showClass,r.showClass),r.hideClass=Object.assign({},yv.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},zHe=t=>{const e={popup:wr(),container:fo(),actions:L0(),confirmButton:rd(),denyButton:gg(),cancelButton:Tb(),loader:Cb(),closeButton:k4(),validationMessage:rN(),progressSteps:I4()};return Kr.domCache.set(t,e),e},WHe=(t,e,n)=>{const r=sN();$a(r),e.timer&&(t.timeout=new SHe(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(zi(r),Rl(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&D4(e.timer)})))},GHe=(t,e)=>{if(!e.toast){if(!nN(e.allowEnterKey)){sre("allowEnterKey"),YHe();return}HHe(t)||qHe(t,e)||kL(-1,1)}},HHe=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&qo(n))return n.focus(),!0;return!1},qHe=(t,e)=>e.focusDeny&&qo(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&qo(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&qo(t.confirmButton)?(t.confirmButton.focus(),!0):!1,YHe=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};ci.prototype.disableButtons=Rre;ci.prototype.enableButtons=Ore;ci.prototype.getInput=Nre;ci.prototype.disableInput=Dre;ci.prototype.enableInput=Pre;ci.prototype.hideLoading=ZT;ci.prototype.disableLoading=ZT;ci.prototype.showValidationMessage=Lre;ci.prototype.resetValidationMessage=Mre;ci.prototype.close=uf;ci.prototype.closePopup=uf;ci.prototype.closeModal=uf;ci.prototype.closeToast=uf;ci.prototype.rejectPromise=jre;ci.prototype.update=Bre;ci.prototype._destroy=zre;Object.assign(ci,EHe);Object.keys(nHe).forEach(t=>{ci[t]=function(...e){return Ou&&Ou[t]?Ou[t](...e):null}});ci.DismissReason=Ab;ci.version="11.26.4";const tC=ci;tC.default=tC;typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const Kre=async t=>{const e=t.map(s=>{var o;if(s.product_id)return s.product_id;const i=((o=s.loading_order_items)==null?void 0:o.products)||s.products;return i==null?void 0:i.id}).filter(Boolean),n=[...new Set(e)],r={};if(n.length>0){const{data:s}=await fe.from("receipt_items").select("product_id, receipts ( doc_date )").in("product_id",n).order("created_at",{ascending:!1});s&&s.forEach(i=>{var o;r[i.product_id]||(r[i.product_id]=(o=i.receipts)==null?void 0:o.doc_date)})}return r},KHe=async t=>{var u,d,h,m,p,y,w;if(!t)throw new Error("   .");let e=null,n=null;const s=`
        *,
        loading_orders!inner ( 
            id, order_no, driver_name, plate_number, 
            clearances ( customer_id, customers ( id, name ) ) 
        ),
        warehouse_exit_items ( *, loading_order_items ( 
        batch_no, qty,
        products ( 
            id, name, national_title,
            effective_storage_cost, effective_loading_cost,
            product_categories!fk_prod_to_cat ( fee_type )
        ),
        clearance_items ( weight, created_at )
     ) )
    `,{data:i}=await fe.from("loading_orders").select(`
            id, order_no, driver_name, plate_number,
            clearances (
                customer_id,
                customers ( id, name )
            )
        `).eq("order_no",t).maybeSingle();if(i){const{data:v}=await fe.from("warehouse_exits").select(s).eq("loading_order_id",i.id).maybeSingle();v?e=v:n=i}if(!e&&!n&&!isNaN(t)){const{data:v}=await fe.from("warehouse_exits").select(s).eq("id",t).maybeSingle();v&&(e=v)}if(!e&&!n)throw new Error("  .");let o=[];if(e)o=e.warehouse_exit_items;else{const{data:v}=await fe.from("loading_order_items").select("*, loading_orders!inner(id), products(id, name, effective_storage_cost, effective_loading_cost, product_categories!fk_prod_to_cat(fee_type)), clearance_items(weight, created_at)").eq("loading_order_id",n.id);o=v||[]}const l=await Kre(o),c=(v,x=!1)=>v.map(_=>{var L;const E=x?_:_.loading_order_items;if(!E)return{item_id:null,product_name:""};const T=E.products,N=E.clearance_items,D=l[T==null?void 0:T.id]||(N==null?void 0:N.created_at)||new Date().toISOString(),O=x?0:_.weight_full||0,F=x?0:_.weight_empty||0,V=O>=F?O-F:0,z=((L=T==null?void 0:T.product_categories)==null?void 0:L.fee_type)||"weight",U=x?E.qty||0:_.qty||E.qty||0,H=z==="quantity"?Number(U):V,J=Number(T==null?void 0:T.effective_storage_cost)||0,q=Number(T==null?void 0:T.effective_loading_cost)||0;return{item_id:x?_.id:_.loading_item_id,product_name:(T==null?void 0:T.name)||"",batch_no:E.batch_no,qty:U,entry_date:D,fee_type:z,base_storage_rate:J,base_loading_rate:q,cleared_weight:(N==null?void 0:N.weight)||0,weight_full:O,weight_empty:F,weight_net:V,row_storage_fee:x?H*J:Number(_.final_fee)||0,row_loading_fee:x?H*q:Number(_.loading_fee)||0}});if(e){const v=(d=(u=e.loading_orders)==null?void 0:u.clearances)==null?void 0:d.customers,x=(h=e.loading_orders)==null?void 0:h.clearances;return{source:"exit_record",is_processed:!0,status:e.status,exit_id:e.id,loading_id:e.loading_order_id,order_no:(m=e.loading_orders)==null?void 0:m.order_no,driver_name:e.driver_name||((p=e.loading_orders)==null?void 0:p.driver_name),plate_number:e.plate_number||((y=e.loading_orders)==null?void 0:y.plate_number),customer_name:(v==null?void 0:v.name)||"",customer_id:e.owner_id||(x==null?void 0:x.customer_id),driver_national_code:e.driver_national_code,weighbridge_fee:e.weighbridge_fee,extra_fee:e.extra_fee,extra_description:e.extra_description,payment_method:e.payment_method,reference_no:e.reference_no,exit_date:e.exit_date,items:c(e.warehouse_exit_items,!1)}}else{const v=(w=n.clearances)==null?void 0:w.customers,x=n.clearances;return{source:"loading_order",is_processed:!1,loading_id:n.id,order_no:n.order_no,driver_name:n.driver_name,plate_number:n.plate_number,customer_name:(v==null?void 0:v.name)||"",customer_id:x==null?void 0:x.customer_id,items:c(o,!0)}}},JHe=async t=>{console.log(" Service received payload:",t);const{data:e,error:n}=await fe.from("warehouse_exits").insert({loading_order_id:t.loading_order_id,owner_id:t.owner_id,driver_name:t.driver_name,plate_number:t.plate_number,exit_date:t.exit_date,reference_no:t.reference_no,driver_national_code:t.driver_national_code,weighbridge_fee:Number(t.weighbridge_fee)||0,extra_fee:Number(t.extra_fee)||0,extra_description:t.extra_description,vat_fee:Number(t.vat_fee)||0,total_fee:Number(t.total_fee)||0,total_loading_fee:Number(t.total_loading_fee)||0,payment_method:t.payment_method,financial_account_id:t.financial_account_id?Number(t.financial_account_id):null,status:t.status,description:t.status==="draft"?" ":" "}).select().single();if(n)throw console.error(" Database Error (Header):",n),n;const r=t.items.map(i=>({warehouse_exit_id:e.id,loading_item_id:i.item_id,weight_full:Number(i.weight_full)||0,weight_empty:Number(i.weight_empty)||0,weight_net:Number(i.weight_net)||0,qty:Number(i.qty)||0,fee_type:i.fee_type,fee_price:Number(i.base_storage_rate)||0,loading_fee:Number(i.row_loading_fee)||0,final_fee:Number(i.row_storage_fee)||0})),{error:s}=await fe.from("warehouse_exit_items").insert(r);if(s)throw console.error(" Database Error (Items):",s),await fe.from("warehouse_exits").delete().eq("id",e.id),s;return e},QHe=async t=>{var i,o,l,c,u,d;const{data:e,error:n}=await fe.from("warehouse_exits").select(`
            *,
            customers ( name ),
            loading_orders (
                order_no, driver_name, plate_number,
                clearances ( customers ( name ) )
            ),
            warehouse_exit_items (
                *,
                loading_order_items (
                    batch_no, qty,
                    products ( id, name ), 
                    clearance_items ( created_at, weight )
                )
            )
        `).eq("id",t).single();if(n)throw n;const r=await Kre(e.warehouse_exit_items),s=e.warehouse_exit_items.map(h=>{var N,D,O;const m=(N=h.loading_order_items)==null?void 0:N.products,p=(D=h.loading_order_items)==null?void 0:D.clearance_items,y=r[m==null?void 0:m.id]||(p==null?void 0:p.created_at)||new Date().toISOString(),w=new Date(y),x=new Date(e.exit_date)-w,_=Math.ceil(x/(1e3*60*60*24)),E=_>=0?_:0;let T=1;return E>30&&(T=Math.ceil(E/30)),{...h,product_name:(m==null?void 0:m.name)||"",batch_no:(O=h.loading_order_items)==null?void 0:O.batch_no,entry_date:y,days_duration:E,months_duration:T}});return{...e,driver_name:e.driver_name||((i=e.loading_orders)==null?void 0:i.driver_name),plate_number:e.plate_number||((o=e.loading_orders)==null?void 0:o.plate_number),customer_name:((l=e.customers)==null?void 0:l.name)||((d=(u=(c=e.loading_orders)==null?void 0:c.clearances)==null?void 0:u.customers)==null?void 0:d.name),items:s}},ZHe=async()=>{const{data:t,error:e}=await fe.from("warehouse_exits").select(`
            id, exit_date, status, created_at,
            total_fee, total_loading_fee, weighbridge_fee, extra_fee, vat_fee,
            customers ( name ),
            loading_orders (
                order_no, driver_name, plate_number
            )
        `).order("created_at",{ascending:!1});if(e)throw e;return t},XHe=async t=>{const{error:e}=await fe.from("warehouse_exit_items").delete().eq("warehouse_exit_id",t);if(e)throw e;const{error:n}=await fe.from("warehouse_exits").delete().eq("id",t);if(n)throw n};function eqe(){const t=as(),[e,n]=C.useState([]),[r,s]=C.useState([]),[i,o]=C.useState(!0),[l,c]=C.useState(""),u=async()=>{o(!0);try{const p=await ZHe();n(p),s(p)}catch(p){ae.error("    "),console.error(p)}finally{o(!1)}};C.useEffect(()=>{u()},[]),C.useEffect(()=>{if(!l)s(e);else{const p=l.toLowerCase(),y=e.filter(w=>{var E,T,N;const v=w.driver_name||((E=w.loading_orders)==null?void 0:E.driver_name)||"",x=w.plate_number||((T=w.loading_orders)==null?void 0:T.plate_number)||"",_=((N=w.customers)==null?void 0:N.name)||"";return String(w.id).includes(p)||String(w.exit_no||"").includes(p)||v.includes(l)||x.includes(l)||_.includes(l)});s(y)}},[l,e]);const d=async p=>{if((await tC.fire({title:"  ",text:"        !",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"  ",cancelButtonText:""})).isConfirmed)try{await XHe(p),ae.success("    ."),u()}catch{ae.error("   .")}},h=p=>{window.open(`/exit/print/${p}`,"_blank")},m=p=>(p.total_fee||0)+(p.total_loading_fee||0)+(p.weighbridge_fee||0)+(p.extra_fee||0)+(p.vat_fee||0);return a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsxs(ge,{className:"mb-3",children:[a.jsx($,{sm:6,children:a.jsx("h4",{className:"font-size-18 fw-bold",children:"    "})}),a.jsx($,{sm:6,className:"text-sm-end",children:a.jsxs(Le,{to:"/exit/create",className:"btn btn-primary",children:[a.jsx("i",{className:"bx bx-plus me-1"}),"   "]})})]}),a.jsx(dt,{children:a.jsx(ht,{children:a.jsxs(ge,{className:"g-3",children:[a.jsx($,{md:4,children:a.jsxs("div",{className:"search-box position-relative",children:[a.jsx(re,{type:"text",className:"form-control rounded-pill ps-5",placeholder:" (  ...)",value:l,onChange:p=>c(p.target.value)}),a.jsx("i",{className:"bx bx-search position-absolute top-50 start-0 translate-middle-y ms-3 text-muted font-size-16"})]})}),a.jsx($,{md:8,className:"text-end",children:a.jsx(me,{color:"light",onClick:u,title:"",children:a.jsx("i",{className:`bx bx-refresh font-size-20 ${i?"bx-spin":""}`})})})]})})}),a.jsx(dt,{children:a.jsx(ht,{children:a.jsx("div",{className:"table-responsive",children:a.jsxs(Mn,{className:"table align-middle table-nowrap table-hover mb-0",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:" / "}),a.jsx("th",{children:" "}),a.jsx("th",{children:"  ()"}),a.jsx("th",{className:"text-center",children:""})]})}),a.jsx("tbody",{children:i?a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"text-center p-4",children:"  ..."})}):r.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"text-center p-4 text-muted",children:"  ."})}):r.map(p=>{var y,w,v;return a.jsxs("tr",{children:[a.jsxs("td",{className:"fw-bold text-primary",children:["#",p.id]}),a.jsx("td",{children:a.jsx(ut,{color:p.status==="final"?"success":"warning",className:"font-size-12 px-2 py-1",children:p.status==="final"?"":""})}),a.jsx("td",{children:new Date(p.exit_date).toLocaleDateString("fa-IR")}),a.jsxs("td",{children:[a.jsx("h5",{className:"font-size-13 mb-1",children:p.driver_name||((y=p.loading_orders)==null?void 0:y.driver_name)||"---"}),a.jsx("p",{className:"text-muted mb-0 font-size-12",dir:"ltr",children:p.plate_number||((w=p.loading_orders)==null?void 0:w.plate_number)||"---"})]}),a.jsx("td",{children:((v=p.customers)==null?void 0:v.name)||"---"}),a.jsx("td",{className:"fw-bold text-secondary",children:m(p).toLocaleString()}),a.jsx("td",{className:"text-center",children:a.jsxs("div",{className:"d-flex justify-content-center gap-2",children:[a.jsx(me,{color:"soft-info",size:"sm",className:"btn-rounded",onClick:()=>{var x;return t(`/exit/create?orderNo=${((x=p.loading_orders)==null?void 0:x.order_no)||p.id}`)},id:`edit-${p.id}`,children:a.jsx("i",{className:`bx ${p.status==="final"?"bx-show":"bx-edit"} font-size-16`})}),a.jsx(Ef,{target:`edit-${p.id}`,children:p.status==="final"?" ":" "}),a.jsx(me,{color:"soft-primary",size:"sm",className:"btn-rounded",onClick:()=>h(p.id),id:`print-${p.id}`,children:a.jsx("i",{className:"bx bx-printer font-size-16"})}),a.jsx(Ef,{target:`print-${p.id}`,children:" "}),a.jsx(me,{color:"soft-danger",size:"sm",className:"btn-rounded",onClick:()=>d(p.id),id:`del-${p.id}`,children:a.jsx("i",{className:"bx bx-trash font-size-16"})}),a.jsx(Ef,{target:`del-${p.id}`,children:" "})]})})]},p.id)})})]})})})})]})})}var tqe=Object.defineProperty,nC=Object.getOwnPropertySymbols,Jre=Object.prototype.hasOwnProperty,Qre=Object.prototype.propertyIsEnumerable,P8=(t,e,n)=>e in t?tqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,RL=(t,e)=>{for(var n in e||(e={}))Jre.call(e,n)&&P8(t,n,e[n]);if(nC)for(var n of nC(e))Qre.call(e,n)&&P8(t,n,e[n]);return t},PL=(t,e)=>{var n={};for(var r in t)Jre.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&nC)for(var r of nC(t))e.indexOf(r)<0&&Qre.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Bp;(t=>{const e=class nr{constructor(c,u,d,h){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<nr.MIN_VERSION||c>nr.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let m=[];for(let y=0;y<this.size;y++)m.push(!1);for(let y=0;y<this.size;y++)this.modules.push(m.slice()),this.isFunction.push(m.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(d);if(this.drawCodewords(p),h==-1){let y=1e9;for(let w=0;w<8;w++){this.applyMask(w),this.drawFormatBits(w);const v=this.getPenaltyScore();v<y&&(h=w,y=v),this.applyMask(w)}}s(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(c,u){const d=t.QrSegment.makeSegments(c);return nr.encodeSegments(d,u)}static encodeBinary(c,u){const d=t.QrSegment.makeBytes(c);return nr.encodeSegments([d],u)}static encodeSegments(c,u,d=1,h=40,m=-1,p=!0){if(!(nr.MIN_VERSION<=d&&d<=h&&h<=nr.MAX_VERSION)||m<-1||m>7)throw new RangeError("Invalid value");let y,w;for(y=d;;y++){const E=nr.getNumDataCodewords(y,u)*8,T=o.getTotalBits(c,y);if(T<=E){w=T;break}if(y>=h)throw new RangeError("Data too long")}for(const E of[nr.Ecc.MEDIUM,nr.Ecc.QUARTILE,nr.Ecc.HIGH])p&&w<=nr.getNumDataCodewords(y,E)*8&&(u=E);let v=[];for(const E of c){n(E.mode.modeBits,4,v),n(E.numChars,E.mode.numCharCountBits(y),v);for(const T of E.getData())v.push(T)}s(v.length==w);const x=nr.getNumDataCodewords(y,u)*8;s(v.length<=x),n(0,Math.min(4,x-v.length),v),n(0,(8-v.length%8)%8,v),s(v.length%8==0);for(let E=236;v.length<x;E^=253)n(E,8,v);let _=[];for(;_.length*8<v.length;)_.push(0);return v.forEach((E,T)=>_[T>>>3]|=E<<7-(T&7)),new nr(y,u,_,m)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let d=0;d<u;d++)for(let h=0;h<u;h++)d==0&&h==0||d==0&&h==u-1||d==u-1&&h==0||this.drawAlignmentPattern(c[d],c[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let d=u;for(let m=0;m<10;m++)d=d<<1^(d>>>9)*1335;const h=(u<<10|d)^21522;s(h>>>15==0);for(let m=0;m<=5;m++)this.setFunctionModule(8,m,r(h,m));this.setFunctionModule(8,7,r(h,6)),this.setFunctionModule(8,8,r(h,7)),this.setFunctionModule(7,8,r(h,8));for(let m=9;m<15;m++)this.setFunctionModule(14-m,8,r(h,m));for(let m=0;m<8;m++)this.setFunctionModule(this.size-1-m,8,r(h,m));for(let m=8;m<15;m++)this.setFunctionModule(8,this.size-15+m,r(h,m));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;s(u>>>18==0);for(let d=0;d<18;d++){const h=r(u,d),m=this.size-11+d%3,p=Math.floor(d/3);this.setFunctionModule(m,p,h),this.setFunctionModule(p,m,h)}}drawFinderPattern(c,u){for(let d=-4;d<=4;d++)for(let h=-4;h<=4;h++){const m=Math.max(Math.abs(h),Math.abs(d)),p=c+h,y=u+d;0<=p&&p<this.size&&0<=y&&y<this.size&&this.setFunctionModule(p,y,m!=2&&m!=4)}}drawAlignmentPattern(c,u){for(let d=-2;d<=2;d++)for(let h=-2;h<=2;h++)this.setFunctionModule(c+h,u+d,Math.max(Math.abs(h),Math.abs(d))!=1)}setFunctionModule(c,u,d){this.modules[u][c]=d,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,d=this.errorCorrectionLevel;if(c.length!=nr.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const h=nr.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],m=nr.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],p=Math.floor(nr.getNumRawDataModules(u)/8),y=h-p%h,w=Math.floor(p/h);let v=[];const x=nr.reedSolomonComputeDivisor(m);for(let E=0,T=0;E<h;E++){let N=c.slice(T,T+w-m+(E<y?0:1));T+=N.length;const D=nr.reedSolomonComputeRemainder(N,x);E<y&&N.push(0),v.push(N.concat(D))}let _=[];for(let E=0;E<v[0].length;E++)v.forEach((T,N)=>{(E!=w-m||N>=y)&&_.push(T[E])});return s(_.length==p),_}drawCodewords(c){if(c.length!=Math.floor(nr.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let h=0;h<this.size;h++)for(let m=0;m<2;m++){const p=d-m,w=(d+1&2)==0?this.size-1-h:h;!this.isFunction[w][p]&&u<c.length*8&&(this.modules[w][p]=r(c[u>>>3],7-(u&7)),u++)}}s(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let h;switch(c){case 0:h=(d+u)%2==0;break;case 1:h=u%2==0;break;case 2:h=d%3==0;break;case 3:h=(d+u)%3==0;break;case 4:h=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:h=d*u%2+d*u%3==0;break;case 6:h=(d*u%2+d*u%3)%2==0;break;case 7:h=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&h&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let c=0;for(let m=0;m<this.size;m++){let p=!1,y=0,w=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[m][v]==p?(y++,y==5?c+=nr.PENALTY_N1:y>5&&c++):(this.finderPenaltyAddHistory(y,w),p||(c+=this.finderPenaltyCountPatterns(w)*nr.PENALTY_N3),p=this.modules[m][v],y=1);c+=this.finderPenaltyTerminateAndCount(p,y,w)*nr.PENALTY_N3}for(let m=0;m<this.size;m++){let p=!1,y=0,w=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[v][m]==p?(y++,y==5?c+=nr.PENALTY_N1:y>5&&c++):(this.finderPenaltyAddHistory(y,w),p||(c+=this.finderPenaltyCountPatterns(w)*nr.PENALTY_N3),p=this.modules[v][m],y=1);c+=this.finderPenaltyTerminateAndCount(p,y,w)*nr.PENALTY_N3}for(let m=0;m<this.size-1;m++)for(let p=0;p<this.size-1;p++){const y=this.modules[m][p];y==this.modules[m][p+1]&&y==this.modules[m+1][p]&&y==this.modules[m+1][p+1]&&(c+=nr.PENALTY_N2)}let u=0;for(const m of this.modules)u=m.reduce((p,y)=>p+(y?1:0),u);const d=this.size*this.size,h=Math.ceil(Math.abs(u*20-d*10)/d)-1;return s(0<=h&&h<=9),c+=h*nr.PENALTY_N4,s(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let h=this.size-7;d.length<c;h-=u)d.splice(1,0,h);return d}}static getNumRawDataModules(c){if(c<nr.MIN_VERSION||c>nr.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;u-=(25*d-10)*d-55,c>=7&&(u-=36)}return s(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(nr.getNumRawDataModules(c)/8)-nr.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*nr.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let h=0;h<c-1;h++)u.push(0);u.push(1);let d=1;for(let h=0;h<c;h++){for(let m=0;m<u.length;m++)u[m]=nr.reedSolomonMultiply(u[m],d),m+1<u.length&&(u[m]^=u[m+1]);d=nr.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(c,u){let d=u.map(h=>0);for(const h of c){const m=h^d.shift();d.push(0),u.forEach((p,y)=>d[y]^=nr.reedSolomonMultiply(p,m))}return d}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let h=7;h>=0;h--)d=d<<1^(d>>>7)*285,d^=(u>>>h&1)*c;return s(d>>>8==0),d}finderPenaltyCountPatterns(c){const u=c[1];s(u<=this.size*3);const d=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(d&&c[0]>=u*4&&c[6]>=u?1:0)+(d&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,d){return c&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function r(l,c){return(l>>>c&1)!=0}function s(l){if(!l)throw new Error("Assertion error")}const i=class $s{constructor(c,u,d){if(this.mode=c,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let u=[];for(const d of c)n(d,8,u);return new $s($s.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!$s.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<c.length;){const h=Math.min(c.length-d,3);n(parseInt(c.substring(d,d+h),10),h*3+1,u),d+=h}return new $s($s.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!$s.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=c.length;d+=2){let h=$s.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;h+=$s.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),n(h,11,u)}return d<c.length&&n($s.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,u),new $s($s.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:$s.isNumeric(c)?[$s.makeNumeric(c)]:$s.isAlphanumeric(c)?[$s.makeAlphanumeric(c)]:[$s.makeBytes($s.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,u);else if(c<16384)n(2,2,u),n(c,14,u);else if(c<1e6)n(6,3,u),n(c,21,u);else throw new RangeError("ECI assignment value out of range");return new $s($s.Mode.ECI,0,u)}static isNumeric(c){return $s.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return $s.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let d=0;for(const h of c){const m=h.mode.numCharCountBits(u);if(h.numChars>=1<<m)return 1/0;d+=4+m+h.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?u.push(c.charCodeAt(d)):(u.push(parseInt(c.substring(d+1,d+3),16)),d+=2);return u}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=i;t.QrSegment=i})(Bp||(Bp={}));(t=>{(e=>{const n=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Bp||(Bp={}));(t=>{(e=>{const n=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Bp||(Bp={}));var Jy=Bp;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var nqe={L:Jy.QrCode.Ecc.LOW,M:Jy.QrCode.Ecc.MEDIUM,Q:Jy.QrCode.Ecc.QUARTILE,H:Jy.QrCode.Ecc.HIGH},Zre=128,Xre="L",ese="#FFFFFF",tse="#000000",nse=!1,rse=1,rqe=4,sqe=0,iqe=.1;function sse(t,e=0){const n=[];return t.forEach(function(r,s){let i=null;r.forEach(function(o,l){if(!o&&i!==null){n.push(`M${i+e} ${s+e}h${l-i}v1H${i+e}z`),i=null;return}if(l===r.length-1){if(!o)return;i===null?n.push(`M${l+e},${s+e} h1v1H${l+e}z`):n.push(`M${i+e},${s+e} h${l+1-i}v1H${i+e}z`);return}o&&i===null&&(i=l)})}),n.join("")}function ise(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((s,i)=>i<e.x||i>=e.x+e.w?s:!1))}function aqe(t,e,n,r){if(r==null)return null;const s=t.length+n*2,i=Math.floor(e*iqe),o=s/e,l=(r.width||i)*o,c=(r.height||i)*o,u=r.x==null?t.length/2-l/2:r.x*o,d=r.y==null?t.length/2-c/2:r.y*o,h=r.opacity==null?1:r.opacity;let m=null;if(r.excavate){let y=Math.floor(u),w=Math.floor(d),v=Math.ceil(l+u-y),x=Math.ceil(c+d-w);m={x:y,y:w,w:v,h:x}}const p=r.crossOrigin;return{x:u,y:d,h:c,w:l,excavation:m,opacity:h,crossOrigin:p}}function oqe(t,e){return e!=null?Math.max(Math.floor(e),0):t?rqe:sqe}function ase({value:t,level:e,minVersion:n,includeMargin:r,marginSize:s,imageSettings:i,size:o,boostLevel:l}){let c=oe.useMemo(()=>{const y=(Array.isArray(t)?t:[t]).reduce((w,v)=>(w.push(...Jy.QrSegment.makeSegments(v)),w),[]);return Jy.QrCode.encodeSegments(y,nqe[e],n,void 0,void 0,l)},[t,e,n,l]);const{cells:u,margin:d,numCells:h,calculatedImageSettings:m}=oe.useMemo(()=>{let p=c.getModules();const y=oqe(r,s),w=p.length+y*2,v=aqe(p,o,y,i);return{cells:p,margin:y,numCells:w,calculatedImageSettings:v}},[c,o,i,r,s]);return{qrcode:c,margin:d,cells:u,numCells:h,calculatedImageSettings:m}}var lqe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),cqe=oe.forwardRef(function(e,n){const r=e,{value:s,size:i=Zre,level:o=Xre,bgColor:l=ese,fgColor:c=tse,includeMargin:u=nse,minVersion:d=rse,boostLevel:h,marginSize:m,imageSettings:p}=r,w=PL(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:v}=w,x=PL(w,["style"]),_=p==null?void 0:p.src,E=oe.useRef(null),T=oe.useRef(null),N=oe.useCallback(q=>{E.current=q,typeof n=="function"?n(q):n&&(n.current=q)},[n]),[D,O]=oe.useState(!1),{margin:F,cells:V,numCells:z,calculatedImageSettings:U}=ase({value:s,level:o,minVersion:d,boostLevel:h,includeMargin:u,marginSize:m,imageSettings:p,size:i});oe.useEffect(()=>{if(E.current!=null){const q=E.current,L=q.getContext("2d");if(!L)return;let Y=V;const ne=T.current,te=U!=null&&ne!==null&&ne.complete&&ne.naturalHeight!==0&&ne.naturalWidth!==0;te&&U.excavation!=null&&(Y=ise(V,U.excavation));const ce=window.devicePixelRatio||1;q.height=q.width=i*ce;const ve=i/z*ce;L.scale(ve,ve),L.fillStyle=l,L.fillRect(0,0,z,z),L.fillStyle=c,lqe?L.fill(new Path2D(sse(Y,F))):V.forEach(function(Ue,Ae){Ue.forEach(function(at,it){at&&L.fillRect(it+F,Ae+F,1,1)})}),U&&(L.globalAlpha=U.opacity),te&&L.drawImage(ne,U.x+F,U.y+F,U.w,U.h)}}),oe.useEffect(()=>{O(!1)},[_]);const H=RL({height:i,width:i},v);let J=null;return _!=null&&(J=oe.createElement("img",{src:_,key:_,style:{display:"none"},onLoad:()=>{O(!0)},ref:T,crossOrigin:U==null?void 0:U.crossOrigin})),oe.createElement(oe.Fragment,null,oe.createElement("canvas",RL({style:H,height:i,width:i,ref:N,role:"img"},x)),J)});cqe.displayName="QRCodeCanvas";var U4=oe.forwardRef(function(e,n){const r=e,{value:s,size:i=Zre,level:o=Xre,bgColor:l=ese,fgColor:c=tse,includeMargin:u=nse,minVersion:d=rse,boostLevel:h,title:m,marginSize:p,imageSettings:y}=r,w=PL(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:v,cells:x,numCells:_,calculatedImageSettings:E}=ase({value:s,level:o,minVersion:d,boostLevel:h,includeMargin:u,marginSize:p,imageSettings:y,size:i});let T=x,N=null;y!=null&&E!=null&&(E.excavation!=null&&(T=ise(x,E.excavation)),N=oe.createElement("image",{href:y.src,height:E.h,width:E.w,x:E.x+v,y:E.y+v,preserveAspectRatio:"none",opacity:E.opacity,crossOrigin:E.crossOrigin}));const D=sse(T,v);return oe.createElement("svg",RL({height:i,width:i,viewBox:`0 0 ${_} ${_}`,ref:n,role:"img"},w),!!m&&oe.createElement("title",null,m),oe.createElement("path",{fill:l,d:`M0,0 h${_}v${_}H0z`,shapeRendering:"crispEdges"}),oe.createElement("path",{fill:c,d:D,shapeRendering:"crispEdges"}),N)});U4.displayName="QRCodeSVG";const uqe=({plateData:t})=>{if(!t)return a.jsx("span",{className:"text-muted",children:"-"});const{left2:e,iranRight:n,mid3:r,middle3:s,letter:i,right2:o}=t,l=e||"",c=r||s||"",u=i||"",d=o||"",h=n||"";return l&&l.trim()||c&&c.trim()||u&&u.trim()||d&&d.trim()?a.jsx("div",{className:"iranian-plate",children:a.jsxs("div",{className:"plate-container",children:[a.jsx("div",{className:"plate-section plate-right",children:a.jsxs("div",{className:"iran-section",children:[a.jsx("div",{className:"iran-flag"}),a.jsx("div",{className:"iran-text",children:h})]})}),a.jsx("div",{className:"plate-section plate-middle",children:a.jsx("span",{className:"plate-number",children:c||"000"})}),a.jsx("div",{className:"plate-section plate-letter",children:a.jsx("span",{className:"plate-char",children:u||""})}),a.jsx("div",{className:"plate-section plate-left",children:a.jsx("span",{className:"plate-number",children:l||"00"})})]})}):a.jsx("span",{className:"text-muted",children:"-"})};function dqe(){const[t]=n_e(),[e,n]=C.useState(""),[r,s]=C.useState(!1),[i,o]=C.useState(null),[l,c]=C.useState([]),[u,d]=C.useState(null),[h,m]=C.useState(!1),[p,y]=C.useState(null),[w,v]=C.useState(!0),[x,_]=C.useState([]),[E,T]=C.useState([]),[N,D]=C.useState(""),[O,F]=C.useState(new Date().toISOString().slice(0,10)),[V,z]=C.useState(""),[U,H]=C.useState(""),[J,q]=C.useState(0),[L,Y]=C.useState(0),[ne,te]=C.useState(""),[ce,ve]=C.useState("credit");C.useEffect(()=>{(async()=>{try{const{data:We,error:Jt}=await fe.from("treasury_pos").select("id, title, terminal_id, tafsili_id, treasury_banks(id, bank_name, account_no)").order("id",{ascending:!1}),{data:ke,error:lt}=await fe.from("treasury_cashes").select("id, title, tafsili_id").order("id",{ascending:!1});Jt&&console.error("Error fetching POS:",Jt),lt&&console.error("Error fetching cashes:",lt);const _e=(We||[]).map(A=>A.tafsili_id).filter(Boolean),Q=(ke||[]).map(A=>A.tafsili_id).filter(Boolean),ee=[..._e,...Q];let Z={};if(ee.length>0){const{data:A,error:B}=await fe.from("financial_entries").select("tafsili_id, bed, bes").in("tafsili_id",ee);!B&&A&&A.forEach(se=>{const de=se.tafsili_id;Z[de]||(Z[de]=0),Z[de]+=(Number(se.bed)||0)-(Number(se.bes)||0)})}const ye=(We||[]).map(A=>{var B;return{id:A.tafsili_id,name:A.title||((B=A.treasury_banks)==null?void 0:B.bank_name)+" - "+A.terminal_id,balance:Z[A.tafsili_id]||0,pos_id:A.id}}).filter(A=>A.id),be=(ke||[]).map(A=>({id:A.tafsili_id,name:A.title,balance:Z[A.tafsili_id]||0,cash_id:A.id})).filter(A=>A.id);_(ye),T(be),console.log("POS Banks with balance:",ye),console.log("Cash Registers with balance:",be)}catch(We){console.error("Error fetching treasury data:",We)}})()},[]);const Ue=()=>{setTimeout(()=>{window.print()},100)},Ae=()=>{ae.info("      ..."),setTimeout(()=>ae.success("  ."),2e3)},at=()=>{ae.info("      ..."),setTimeout(()=>ae.success("    ."),2e3)},it=C.useCallback(async Ee=>{s(!0),y(null),d(null),m(!1),o(null),c([]);try{const We=await KHe(Ee);if(!We)throw new Error("     .");o({loading_id:We.loading_id,orderNo:We.order_no,driver:We.driver_name,plate:We.plate_number,customer:We.customer_name,customer_id:We.customer_id}),We.is_processed?(d(We.exit_id),H(We.driver_national_code||""),q(We.weighbridge_fee||0),Y(We.extra_fee||0),te(We.extra_description||""),ve(We.payment_method||"credit"),We.financial_account_id&&D(We.financial_account_id),z(We.reference_no||""),We.exit_date&&F(We.exit_date),c(We.items),We.status==="final"?(m(!0),y(`    ${We.exit_id}`)):(m(!1),y(`    ${We.exit_id}`))):(d(null),m(!1),y(null),c(We.items),H(""),q(0),Y(0),z(""),D(""))}catch(We){console.error(We),ae.error(We.message||"   .")}finally{s(!1)}},[]),Te=()=>{if(!e||String(e).trim()==="")return ae.warn("   .");it(e)},Tt=Ee=>{Ee.key==="Enter"&&(Ee.preventDefault(),Te())};C.useEffect(()=>{const Ee=t.get("orderNo");Ee&&(n(Ee),it(Ee))},[t,it]);const ct=Ee=>{if(!Ee)return null;const We=Ee.split("-");return We.length===4?{iranRight:We[0],mid3:We[1],letter:We[2],left2:We[3]}:null},pt=(Ee,We)=>{if(!Ee||!We)return{months:1,days:0};const Jt=new Date(Ee),lt=new Date(We)-Jt,_e=Math.ceil(lt/(1e3*60*60*24)),Q=_e>=0?_e:0;let ee=1;return Q>30&&(ee=Math.ceil(Q/30)),{months:ee,days:Q}},vt=C.useMemo(()=>l.map(Ee=>{const We=Number(Ee.weight_full)||0,Jt=Number(Ee.weight_empty)||0,ke=We>=Jt?We-Jt:0;let lt=Ee.fee_type==="quantity"?Number(Ee.qty)||0:ke,_e=1,Q={months:1,days:0};return w&&Ee.entry_date&&(Q=pt(Ee.entry_date,O),_e=Q.months),{...Ee,weight_net:ke,row_storage_fee:lt*(Number(Ee.base_storage_rate)||0)*_e,row_loading_fee:lt*(Number(Ee.base_loading_rate)||0),months_duration:Q.months,days_duration:Q.days,cleared_weight:Number(Ee.cleared_weight)||0}}),[l,O,w]),Ht=(Ee,We,Jt)=>{if(h)return;const ke=[...l];ke[Ee][We]=Number(Jt)||0,c(ke)},It=C.useMemo(()=>{const Ee=vt.reduce((lt,_e)=>lt+(Number(_e.row_storage_fee)||0),0),We=vt.reduce((lt,_e)=>lt+(Number(_e.row_loading_fee)||0),0),Jt=Ee+We+Number(J)+Number(L),ke=Jt*.1;return{totalStorage:Ee,totalLoading:We,subTotal:Jt,vatAmount:ke,grandTotal:Jt+ke}},[vt,J,L]),Ut=async Ee=>{var We,Jt;if(!(!i||h)){if(!U)return ae.error("    .");if(Ee==="final"){if(ce==="pos"&&!N)return ae.error("        .");if(ce==="cash"&&!N)return ae.error("      .")}s(!0);try{const ke=vt.map((ee,Z)=>{const ye=ee.item_id||ee.id;if(!ye)throw new Error(`    ${Z+1}  .`);return{item_id:ye,weight_full:Number(ee.weight_full)||0,weight_empty:Number(ee.weight_empty)||0,weight_net:Number(ee.weight_net)||0,qty:Number(ee.qty)||0,fee_type:ee.fee_type||"weight",base_storage_rate:Number(ee.base_storage_rate)||0,row_storage_fee:Number(ee.row_storage_fee)||0,row_loading_fee:Number(ee.row_loading_fee)||0}}),lt={loading_order_id:i.loading_id,owner_id:i.customer_id,driver_name:i.driver,plate_number:i.plate,driver_national_code:U,exit_date:O,reference_no:V,status:Ee,weighbridge_fee:Number(J),extra_fee:Number(L),extra_description:ne,vat_fee:It.vatAmount,total_fee:It.totalStorage,total_loading_fee:It.totalLoading,payment_method:ce,financial_account_id:ce==="pos"||ce==="cash"?N:null,items:ke},_e=await JHe(lt),Q=(_e==null?void 0:_e.id)||((We=_e==null?void 0:_e.data)==null?void 0:We.id)||Array.isArray(_e)&&((Jt=_e[0])==null?void 0:Jt.id);if(!Q)throw new Error("     (ID)  .");if(d(Q),Ee==="final")try{const ee=await r4e(Q);ee&&ee.status==="success"?ae.success(`       ${ee.doc_no}  .`):ae.warning("       : "+((ee==null?void 0:ee.message)||"")),m(!0),y(`    ${Q}`)}catch(ee){console.error(ee),ae.warning("          ."),m(!0)}else ae.success("    ."),y(`    ${Q}`)}catch(ke){console.error(ke),ae.error("  : "+(ke.message||" "))}finally{s(!1)}}},Xt=typeof window<"u"?`${window.location.origin}/exit/view/${u||0}`:"";return a.jsxs("div",{className:"page-content",children:[a.jsx("style",{children:`
                @media screen {
                    .print-only-section { display: none !important; }
                }
                @media print {
                    @page { size: auto; margin: 5mm; }
                    body * { visibility: hidden; }
                    .page-content, .navbar, .sidebar, .footer { display: none !important; }
                    
                    .print-only-section, .print-only-section * { visibility: visible !important; }
                    
                    .print-only-section {
                        display: block !important;
                        position: absolute;
                        left: 0;
                        top: 0;
                        width: 100%;
                        background-color: white;
                        z-index: 99999;
                        padding: 10px;
                        font-size: 10px;
                        direction: rtl;
                    }

                    .print-container-frame {
                        display: flex;
                        flex-direction: column;
                        border: 2px solid #000 !important;
                        border-radius: 8px;
                        padding: 10px;
                        background: white;
                    }
                    
                    .print-table td, .print-table th { 
                        padding: 3px !important; 
                        white-space: nowrap;
                    }
                }
            `}),a.jsx("div",{className:"print-only-section",style:{direction:"rtl",fontFamily:"Tahoma, Arial"},children:i?a.jsxs("div",{className:"print-container-frame",children:[a.jsxs("div",{children:[a.jsxs("header",{className:"d-flex justify-content-between align-items-center border-bottom border-dark pb-2 mb-2",children:[a.jsx("div",{style:{width:"80px"},children:a.jsx(U4,{value:Xt,size:70})}),a.jsxs("div",{className:"text-center flex-grow-1",children:[a.jsx("h3",{className:"fw-bold m-0",style:{fontSize:"16px"},children:"    "}),a.jsx("h5",{className:"text-secondary mt-1",style:{fontSize:"11px"},children:"     "})]}),a.jsxs("div",{className:"text-start",style:{minWidth:"140px",fontSize:"10px"},children:[a.jsxs("div",{className:"mb-1",children:[" : ",a.jsx("span",{className:"fw-bold font-size-12",children:u||"---"})]}),a.jsxs("div",{children:[": ",a.jsx("span",{className:"fw-bold",children:new Date(O).toLocaleDateString("fa-IR")})]})]})]}),a.jsx("section",{className:"border border-secondary rounded p-2 mb-2 bg-light",style:{fontSize:"11px"},children:a.jsxs("div",{className:"row g-1",children:[a.jsxs("div",{className:"col-4 d-flex",children:[a.jsx("span",{className:"text-muted ms-2",children:" :"}),a.jsx("span",{className:"fw-bold",children:i.customer})]}),a.jsxs("div",{className:"col-4 d-flex",children:[a.jsx("span",{className:"text-muted ms-2",children:" :"}),a.jsx("span",{className:"fw-bold",children:i.driver})]}),a.jsxs("div",{className:"col-4 d-flex",children:[a.jsx("span",{className:"text-muted ms-2",children:" :"}),a.jsx("span",{className:"fw-bold",children:U})]}),a.jsxs("div",{className:"col-4 d-flex",children:[a.jsx("span",{className:"text-muted ms-2",children:":"}),a.jsx("span",{className:"fw-bold",dir:"ltr",children:i.plate})]}),a.jsxs("div",{className:"col-4 d-flex",children:[a.jsx("span",{className:"text-muted ms-2",children:" :"}),a.jsx("span",{className:"fw-bold",children:i.orderNo})]}),a.jsxs("div",{className:"col-4 d-flex",children:[a.jsx("span",{className:"text-muted ms-2",children:" :"}),a.jsx("span",{className:"fw-bold",children:V})]})]})}),a.jsx("section",{className:"mb-2",children:a.jsxs("table",{className:"table table-bordered border-dark table-sm text-center align-middle w-100 print-table",children:[a.jsx("thead",{className:"table-secondary border-dark",children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"5%"},children:"#"}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),w&&a.jsx("th",{children:""}),w&&a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "})]})}),a.jsx("tbody",{children:vt.map((Ee,We)=>{const Jt=(Ee.weight_net||0)-(Ee.cleared_weight||0);return a.jsxs("tr",{children:[a.jsx("td",{children:We+1}),a.jsx("td",{className:"text-start fw-bold text-truncate",style:{maxWidth:"150px"},children:Ee.product_name}),a.jsx("td",{className:"font-monospace",dir:"ltr",children:Ee.batch_no||"-"}),a.jsx("td",{children:Ee.qty}),w&&a.jsx("td",{children:Ee.entry_date?new Date(Ee.entry_date).toLocaleDateString("fa-IR"):"-"}),w&&a.jsxs("td",{children:[Ee.months_duration," "]}),a.jsx("td",{className:"fw-bold",children:Number(Ee.weight_net).toLocaleString()}),a.jsx("td",{children:Number(Ee.cleared_weight).toLocaleString()}),a.jsx("td",{dir:"ltr",className:Jt!==0?"fw-bold":"",children:Jt>0?`+${Jt}`:Jt}),a.jsx("td",{children:Number(Ee.base_storage_rate).toLocaleString()}),a.jsx("td",{className:"fw-bold",children:Number(Ee.row_storage_fee).toLocaleString()})]},We)})})]})})]}),a.jsxs("div",{children:[a.jsxs("footer",{className:"row g-0 mt-0",children:[a.jsxs("div",{className:"col-7 pe-2 d-flex flex-column justify-content-between",children:[a.jsxs("div",{style:{fontSize:"10px"},className:"mb-1",children:[a.jsx("span",{className:"fw-bold",children:" :"}),a.jsx("span",{className:"border border-dark px-1 rounded ms-1",children:ce==="credit"?"":ce==="pos"?"":""}),ne&&a.jsxs("span",{className:"ms-2 text-muted",children:["(",ne,")"]})]}),a.jsxs("div",{className:"d-flex justify-content-around align-items-end mt-2",style:{fontSize:"10px"},children:[a.jsxs("div",{className:"text-center w-25",children:[a.jsx("p",{className:"mb-3 fw-bold",children:""}),a.jsx("div",{className:"border-bottom border-dark"})]}),a.jsxs("div",{className:"text-center w-25",children:[a.jsx("p",{className:"mb-3 fw-bold",children:""}),a.jsx("div",{className:"border-bottom border-dark"})]}),a.jsxs("div",{className:"text-center w-25",children:[a.jsx("p",{className:"mb-3 fw-bold",children:""}),a.jsx("div",{className:"border-bottom border-dark"})]})]})]}),a.jsx("div",{className:"col-5",children:a.jsx("div",{className:"border border-dark rounded overflow-hidden",children:a.jsx("table",{className:"table table-sm table-borderless mb-0",style:{fontSize:"10px"},children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"text-muted py-0",children:" :"}),a.jsx("td",{className:"text-end fw-bold py-0",children:Number(It.totalStorage).toLocaleString()})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-muted py-0",children:" :"}),a.jsx("td",{className:"text-end fw-bold py-0",children:Number(It.totalLoading).toLocaleString()})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-muted py-0",children:":"}),a.jsx("td",{className:"text-end fw-bold py-0",children:Number(Number(J)+Number(L)).toLocaleString()})]}),a.jsxs("tr",{className:"border-top border-dark",children:[a.jsx("td",{className:"text-danger py-0",children:" (10%):"}),a.jsx("td",{className:"text-end text-danger fw-bold py-0",children:Number(It.vatAmount).toLocaleString()})]}),a.jsxs("tr",{className:"bg-dark text-white",children:[a.jsx("td",{className:"py-1",children:" :"}),a.jsx("td",{className:"text-end py-1 fw-bold",style:{fontSize:"12px"},children:Number(It.grandTotal).toLocaleString()})]})]})})})})]}),a.jsx("div",{className:"text-center mt-2 border-top pt-1 text-muted",style:{fontSize:"9px"},children:"             ."})]})]}):a.jsx("div",{className:"text-center mt-5",children:"    ."})}),a.jsxs(gn,{fluid:!0,className:"screen-content d-print-none pb-5",children:[a.jsx("div",{className:"d-print-none",children:a.jsx(ge,{children:a.jsx($,{xs:12,children:a.jsx("h4",{className:"mb-4 font-size-18 fw-bold",children:"   "})})})}),a.jsx(dt,{className:"mb-3 shadow-sm border-0 d-print-none",children:a.jsx(ht,{children:a.jsxs(ge,{className:"align-items-center gy-3",children:[a.jsx($,{md:5,xs:12,children:a.jsxs(Of,{className:"shadow-sm",children:[a.jsx(re,{className:"text-center fw-bold font-size-16",value:e,onChange:Ee=>n(Ee.target.value),onKeyDown:Tt,placeholder:"   ..."}),a.jsx(me,{color:"primary",onClick:Te,disabled:r,className:"px-4",children:r?a.jsx("i",{className:"bx bx-loader bx-spin"}):a.jsx("i",{className:"bx bx-search-alt"})})]})}),a.jsx($,{md:7,xs:12,className:"d-flex justify-content-md-end justify-content-center",children:a.jsxs("div",{className:"d-flex align-items-center gap-2 p-2 px-3 rounded border shadow-sm bg-white",children:[a.jsx("span",{className:`fw-bold font-size-13 cursor-pointer ${w?"text-muted":"text-danger"}`,onClick:()=>v(!1),children:""}),a.jsx("div",{onClick:()=>v(!w),style:{width:"50px",height:"26px",borderRadius:"13px",backgroundColor:w?"#0d6efd":"#dc3545",cursor:"pointer",position:"relative"},children:a.jsx("div",{style:{width:"22px",height:"22px",borderRadius:"50%",backgroundColor:"white",position:"absolute",top:"2px",left:w?"26px":"2px",transition:"left 0.2s",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"}})}),a.jsx("span",{className:`fw-bold font-size-13 cursor-pointer ${w?"text-primary":"text-muted"}`,onClick:()=>v(!0),children:" ()"})]})})]})})}),p&&a.jsxs(kn,{color:h?"success":"info",className:"fw-bold shadow-sm d-print-none",children:[a.jsx("i",{className:`bx ${h?"bx-lock-alt":"bx-edit"} font-size-18 align-middle me-2`}),p]}),i&&a.jsxs("div",{className:"animate__animated animate__fadeIn",children:[a.jsx(dt,{className:"shadow-sm border-0 mb-3",children:a.jsxs(ht,{children:[a.jsx(Ra,{className:"h5 mb-4 text-primary border-bottom pb-2",children:".    "}),a.jsxs(ge,{className:"gy-4",children:[a.jsxs($,{md:3,children:[a.jsx(X,{className:"fw-bold text-muted font-size-13",children:" "}),a.jsx("div",{style:{direction:"rtl"},children:a.jsx(Gs,{value:O,onChange:Ee=>F(Ee.toDate().toISOString().slice(0,10)),disabled:h})})]}),a.jsxs($,{md:3,children:[a.jsx(X,{className:"fw-bold text-muted font-size-13",children:"  / "}),a.jsx(re,{value:V,onChange:Ee=>z(Ee.target.value),disabled:h})]}),a.jsxs($,{md:3,children:[a.jsx(X,{className:"fw-bold text-muted font-size-13",children:" "}),a.jsx(re,{value:i.driver,disabled:!0,className:"bg-light"})]}),a.jsxs($,{md:3,children:[a.jsx(X,{className:"fw-bold text-danger font-size-13",children:"   *"}),a.jsx(re,{value:U,onChange:Ee=>H(Ee.target.value),disabled:h})]}),a.jsxs($,{md:3,children:[a.jsx(X,{className:"fw-bold text-muted font-size-13",children:" "}),a.jsx("div",{className:"d-flex align-items-center justify-content-center",style:{minHeight:"45px"},children:ct(i.plate)?a.jsx("div",{style:{transform:"scale(0.85)",transformOrigin:"center"},children:a.jsx(uqe,{plateData:ct(i.plate)})}):a.jsx("div",{className:"form-control bg-light text-center fw-bold",children:i.plate||"---"})})]}),a.jsxs($,{md:3,children:[a.jsx(X,{className:"fw-bold text-muted font-size-13",children:" "}),a.jsx(re,{value:i.customer,disabled:!0,className:"bg-light"})]})]})]})}),a.jsx(dt,{className:"shadow-sm border-0 mb-3",children:a.jsxs(ht,{children:[a.jsx(Ra,{className:"h5 mb-4 text-primary border-bottom pb-2",children:".     "}),a.jsx("div",{className:"table-responsive",children:a.jsxs(Mn,{bordered:!0,hover:!0,className:"text-center align-middle table-nowrap mb-0 table-sm",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"50px"},children:"#"}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:"  ()"}),a.jsx("th",{style:{width:"80px"},children:""}),w&&a.jsx("th",{className:"bg-soft-info text-dark",style:{width:"130px"},children:" "}),a.jsx("th",{className:"bg-soft-primary text-primary",style:{width:"110px"},children:"  (kg)"}),a.jsx("th",{className:"bg-soft-primary text-primary",style:{width:"110px"},children:"  (kg)"}),a.jsx("th",{className:"bg-soft-warning text-dark",style:{width:"120px"},children:" "}),a.jsx("th",{style:{width:"120px"},children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:" "})]})}),a.jsx("tbody",{children:vt.map((Ee,We)=>{const Jt=(Ee.weight_net||0)-(Ee.cleared_weight||0);return a.jsxs("tr",{children:[a.jsx("td",{children:We+1}),a.jsxs("td",{className:"text-start",children:[a.jsx("div",{className:"fw-bold font-size-14 text-dark",children:Ee.product_name}),a.jsxs("div",{className:"text-muted font-size-11",children:["Batch: ",Ee.batch_no]})]}),a.jsx("td",{children:a.jsx(ut,{className:"font-size-11 p-2 badge-soft-"+(Ee.fee_type==="quantity"?"info":"secondary"),children:Ee.fee_type==="quantity"?"":""})}),a.jsx("td",{className:"text-muted font-size-13",children:Number(Ee.base_storage_rate).toLocaleString()}),a.jsx("td",{children:a.jsx(re,{type:"number",bsSize:"sm",className:"text-center fw-bold",value:Ee.qty||"",onChange:ke=>Ht(We,"qty",ke.target.value),disabled:h,style:{width:"60px",margin:"0 auto"}})}),w&&a.jsx("td",{className:"bg-soft-info",children:a.jsxs("div",{className:"fw-bold text-dark",children:[Ee.months_duration," "]})}),a.jsx("td",{children:a.jsx(re,{type:"number",bsSize:"sm",className:"text-center fw-bold",value:Ee.weight_full||"",onChange:ke=>Ht(We,"weight_full",ke.target.value),disabled:h})}),a.jsx("td",{children:a.jsx(re,{type:"number",bsSize:"sm",className:"text-center fw-bold",value:Ee.weight_empty||"",onChange:ke=>Ht(We,"weight_empty",ke.target.value),disabled:h})}),a.jsx("td",{className:"fw-bold bg-soft-warning font-size-15",children:Number(Ee.weight_net).toLocaleString()}),a.jsx("td",{className:"fw-bold text-secondary font-size-14",children:Number(Ee.cleared_weight).toLocaleString()}),a.jsx("td",{dir:"ltr",children:Jt!==0?a.jsx(ut,{color:Jt>0?"danger":"success",className:"font-size-12",children:Jt>0?`+${Jt}`:Jt}):a.jsx("span",{className:"text-muted",children:"-"})}),a.jsx("td",{className:"fw-bold text-success font-size-14 bg-light",children:Number(Ee.row_storage_fee).toLocaleString()})]},We)})})]})})]})}),a.jsxs(ge,{children:[a.jsx($,{lg:8,children:a.jsx(dt,{className:"shadow-sm border-0 h-100",children:a.jsxs(ht,{children:[a.jsx(Ra,{className:"h5 mb-4 text-primary border-bottom pb-2",children:".    "}),a.jsxs(ge,{className:"gy-3 mb-4",children:[a.jsxs($,{md:4,children:[a.jsx(X,{className:"text-muted",children:" "}),a.jsx(re,{type:"number",value:J,onChange:Ee=>q(Ee.target.value),disabled:h})]}),a.jsxs($,{md:4,children:[a.jsx(X,{className:"text-muted",children:" "}),a.jsx(re,{type:"number",value:L,onChange:Ee=>Y(Ee.target.value),disabled:h})]}),a.jsxs($,{md:4,children:[a.jsx(X,{className:"text-muted",children:" "}),a.jsx(re,{value:ne,onChange:Ee=>te(Ee.target.value),disabled:h})]})]}),a.jsxs("div",{className:"bg-light p-3 rounded border",children:[a.jsx(X,{className:"fw-bold mb-3 d-block text-dark",children:"  :"}),a.jsxs(ge,{children:[a.jsx($,{md:6,children:a.jsx("div",{className:"d-flex flex-wrap gap-4 mb-3",children:["credit","pos","cash"].map(Ee=>a.jsxs("div",{className:"form-check cursor-pointer",onClick:()=>!h&&ve(Ee),children:[a.jsx(re,{type:"radio",className:"form-check-input",checked:ce===Ee,onChange:()=>{},disabled:h}),a.jsx(X,{className:"form-check-label fw-bold ms-1 cursor-pointer text-dark",children:Ee==="credit"?" ( )":Ee==="pos"?" ()":" ()"})]},Ee))})}),a.jsxs($,{md:6,children:[ce==="pos"&&a.jsxs("div",{className:"animate__animated animate__fadeIn",children:[a.jsx(X,{className:"font-size-12 fw-bold text-primary",children:"    :"}),a.jsxs(re,{type:"select",value:N,onChange:Ee=>D(Ee.target.value),disabled:h,className:"shadow-sm",children:[a.jsx("option",{value:"",children:"--   --"}),x.map(Ee=>a.jsxs("option",{value:Ee.id,children:[Ee.name," (: ",Number(Ee.balance).toLocaleString(),")"]},Ee.id))]})]}),ce==="cash"&&a.jsxs("div",{className:"animate__animated animate__fadeIn",children:[a.jsx(X,{className:"font-size-12 fw-bold text-success",children:"   :"}),a.jsxs(re,{type:"select",value:N,onChange:Ee=>D(Ee.target.value),disabled:h,className:"shadow-sm",children:[a.jsx("option",{value:"",children:"--   --"}),E.map(Ee=>a.jsxs("option",{value:Ee.id,children:[Ee.name," (: ",Number(Ee.balance).toLocaleString(),")"]},Ee.id))]})]})]})]})]})]})})}),a.jsx($,{lg:4,children:a.jsx(dt,{className:"border-0 shadow-lg h-100",children:a.jsxs(ht,{className:"p-4 d-flex flex-column justify-content-between",children:[a.jsxs("div",{children:[a.jsx(Ra,{className:"h5 mb-4 text-center fw-bold",children:" "}),a.jsx("div",{className:"table-responsive",children:a.jsx("table",{className:"table table-borderless table-sm mb-0",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"text-muted",children:" :"}),a.jsx("td",{className:"text-end fw-bold font-size-14",children:Number(It.totalStorage).toLocaleString()})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-muted",children:" :"}),a.jsx("td",{className:"text-end fw-bold font-size-14",children:Number(It.totalLoading).toLocaleString()})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-muted",children:"  :"}),a.jsx("td",{className:"text-end fw-bold font-size-14",children:Number(Number(J)+Number(L)).toLocaleString()})]}),a.jsxs("tr",{className:"border-top border-bottom",children:[a.jsx("td",{className:"py-2 text-danger",children:"   (10%):"}),a.jsx("td",{className:"text-end fw-bold py-2 text-danger",children:Number(It.vatAmount).toLocaleString()})]}),a.jsxs("tr",{className:"font-size-18 bg-soft-primary",children:[a.jsx("td",{className:"pt-3 text-primary fw-bold ps-2",children:" :"}),a.jsxs("td",{className:"text-end pt-3 text-primary fw-bold pe-2",children:[Number(It.grandTotal).toLocaleString()," ",a.jsx("small",{className:"font-size-12",children:""})]})]})]})})})]}),a.jsx("div",{className:"mt-4 d-print-none",children:h?a.jsxs("div",{className:"d-flex flex-column gap-2",children:[a.jsxs(me,{color:"warning",size:"lg",className:"shadow-lg",onClick:Ue,children:[a.jsx("i",{className:"bx bx-printer font-size-18 align-middle me-2"}),"   "]}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsxs(me,{color:"info",outline:!0,className:"w-100 d-flex align-items-center justify-content-center",onClick:Ae,children:[a.jsx("i",{className:"bx bx-cloud-upload font-size-18 me-2"})," "]}),a.jsxs(me,{color:"primary",outline:!0,className:"w-100 d-flex align-items-center justify-content-center",onClick:at,children:[a.jsx("i",{className:"bx bx-building-house font-size-18 me-2"})," "]})]})]}):a.jsxs(ge,{className:"g-2",children:[a.jsx($,{xs:6,children:a.jsxs(me,{color:"success",size:"lg",className:"w-100 shadow-lg",onClick:()=>Ut("final"),disabled:r,children:[a.jsx("i",{className:"bx bx-check-double font-size-20 align-middle me-2"}),"  "]})}),a.jsx($,{xs:6,children:a.jsxs(me,{color:"secondary",outline:!0,size:"lg",className:"w-100",onClick:()=>Ut("draft"),disabled:r,children:[a.jsx("i",{className:"bx bx-save font-size-18 align-middle me-2"})," "]})})]})})]})})})]})]}),a.jsx("div",{style:{height:"120px",width:"100%",clear:"both"}})]})]})}const hqe=()=>{var p,y,w,v,x,_;const{id:t}=lu(),[e,n]=C.useState(null),[r,s]=C.useState(!0),[i,o]=C.useState(null);if(C.useEffect(()=>{t&&QHe(t).then(E=>{n(E),s(!1)}).catch(E=>{console.error("Print Error:",E),o(E.message||"   "),s(!1)})},[t]),C.useEffect(()=>{if(!r&&e&&!i){const E=setTimeout(()=>window.print(),800);return()=>clearTimeout(E)}},[r,e,i]),r)return a.jsxs("div",{className:"d-flex justify-content-center align-items-center vh-100 bg-white",children:[a.jsx("div",{className:"spinner-border text-primary"}),a.jsx("span",{className:"ms-2",children:"  ..."})]});if(i)return a.jsx("div",{className:"alert alert-danger m-5",children:i});if(!e)return null;const l=`${window.location.origin}/exit/view/${e.id}`,c=Number(e.total_fee)||0,u=Number(e.total_loading_fee)||0,d=Number(e.weighbridge_fee||0)+Number(e.extra_fee||0),h=Number(e.vat_fee)||0,m=c+u+d+h;return a.jsxs("div",{className:"exit-print-master",children:[a.jsx("div",{className:"print-actions text-center mb-3",children:a.jsx("button",{className:"btn btn-sm btn-secondary",onClick:()=>window.close(),children:""})}),a.jsxs("div",{className:"exit-print-container p-4 bg-white",children:[a.jsxs("header",{className:"d-flex justify-content-between align-items-center border-bottom border-2 border-dark pb-3 mb-4",children:[a.jsx("div",{className:"logo-section text-center",style:{width:"120px"},children:a.jsx(U4,{value:l,size:85})}),a.jsxs("div",{className:"title-section text-center flex-grow-1",children:[a.jsx("h2",{className:"fw-bolder m-0 font-size-22",children:"    "}),a.jsx("h5",{className:"text-secondary mt-2 font-size-14",children:"     "})]}),a.jsxs("div",{className:"meta-section text-start",style:{minWidth:"180px",fontSize:"13px"},children:[a.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[a.jsx("span",{children:" :"}),a.jsx("span",{className:"fw-bold",children:e.id})]}),a.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[a.jsx("span",{children:" :"}),a.jsx("span",{className:"fw-bold",children:new Date(e.exit_date).toLocaleDateString("fa-IR")})]}),a.jsxs("div",{className:"d-flex justify-content-between",children:[a.jsx("span",{children:" :"}),a.jsx("span",{className:"fw-bold",children:e.reference_no||"---"})]})]})]}),a.jsx("section",{className:"info-box border border-dark rounded-2 p-3 mb-3 bg-light bg-opacity-25",children:a.jsxs("div",{className:"row g-3 font-size-13",children:[a.jsxs("div",{className:"col-6 d-flex",children:[a.jsx("span",{className:"text-secondary ms-2",children:" :"}),a.jsx("span",{className:"fw-bold flex-grow-1 border-bottom border-secondary border-opacity-25",children:((w=(y=(p=e.loading_orders)==null?void 0:p.clearances)==null?void 0:y.customers)==null?void 0:w.name)||"---"})]}),a.jsxs("div",{className:"col-6 d-flex",children:[a.jsx("span",{className:"text-secondary ms-2",children:" :"}),a.jsx("span",{className:"fw-bold flex-grow-1 border-bottom border-secondary border-opacity-25",children:(v=e.loading_orders)==null?void 0:v.driver_name})]}),a.jsxs("div",{className:"col-6 d-flex",children:[a.jsx("span",{className:"text-secondary ms-2",children:"  :"}),a.jsx("span",{className:"fw-bold flex-grow-1 border-bottom border-secondary border-opacity-25",children:e.driver_national_code})]}),a.jsxs("div",{className:"col-6 d-flex",children:[a.jsx("span",{className:"text-secondary ms-2",children:" :"}),a.jsx("span",{className:"fw-bold flex-grow-1 border-bottom border-secondary border-opacity-25",dir:"ltr",children:(x=e.loading_orders)==null?void 0:x.plate_number})]})]})}),a.jsx("section",{className:"table-section mb-4",children:a.jsxs("table",{className:"table table-bordered border-dark table-sm text-center align-middle font-size-12 w-100",children:[a.jsx("thead",{className:"table-secondary border-dark",children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"5%"},children:"#"}),a.jsx("th",{style:{width:"35%"},children:" "}),a.jsx("th",{style:{width:"10%"},children:""}),a.jsx("th",{style:{width:"10%"},children:" "}),a.jsx("th",{style:{width:"10%"},children:" "}),a.jsx("th",{style:{width:"12%"},className:"bg-light",children:" "}),a.jsx("th",{style:{width:"8%"},children:""}),a.jsx("th",{style:{width:"10%"},children:"Batch"})]})}),a.jsx("tbody",{children:(_=e.warehouse_exit_items)==null?void 0:_.map((E,T)=>{var V,z,U,H,J;const D=(((V=E.loading_order_items)==null?void 0:V.clearance_items)||{}).weight||0,O=(E.weight_net||0)-D,F=Number(((z=E.loading_order_items)==null?void 0:z.qty)||0);return a.jsxs("tr",{children:[a.jsx("td",{children:T+1}),a.jsx("td",{className:"text-start fw-bold text-truncate",style:{maxWidth:"250px"},children:((H=(U=E.loading_order_items)==null?void 0:U.products)==null?void 0:H.name)||""}),a.jsx("td",{className:"fw-bold",children:F.toLocaleString()}),a.jsx("td",{children:Number(E.weight_full).toLocaleString()}),a.jsx("td",{children:Number(E.weight_empty).toLocaleString()}),a.jsx("td",{className:"fw-bold bg-light font-size-13",children:Number(E.weight_net).toLocaleString()}),a.jsx("td",{dir:"ltr",className:O>0?"fw-bold text-danger":"",children:O>0?`+${O}`:O}),a.jsx("td",{className:"font-family-monospace",dir:"ltr",children:((J=E.loading_order_items)==null?void 0:J.batch_no)||"-"})]},T)})})]})}),a.jsxs("footer",{className:"row g-0",children:[a.jsxs("div",{className:"col-8 pe-3 d-flex flex-column justify-content-between",children:[a.jsxs("div",{className:"payment-info mb-3 font-size-13",children:[a.jsx("span",{className:"fw-bold ms-2",children:" :"}),a.jsx("span",{className:"border px-3 py-1 rounded me-3 bg-light border-dark",children:e.payment_method==="credit"?" ( )":e.payment_method==="pos"?"":""}),e.extra_description&&a.jsxs("span",{className:"text-muted ms-3",children:["(",e.extra_description,")"]})]}),a.jsxs("div",{className:"signatures d-flex justify-content-around align-items-end mb-2",style:{height:"100px"},children:[a.jsxs("div",{className:"text-center",style:{width:"30%"},children:[a.jsx("p",{className:"mb-4 fw-bold font-size-13",children:"   "}),a.jsx("div",{className:"border-bottom border-dark border-dotted"})]}),a.jsxs("div",{className:"text-center",style:{width:"30%"},children:[a.jsx("p",{className:"mb-4 fw-bold font-size-13",children:"   "}),a.jsx("div",{className:"border-bottom border-dark border-dotted"})]}),a.jsxs("div",{className:"text-center",style:{width:"30%"},children:[a.jsx("p",{className:"mb-4 fw-bold font-size-13",children:" "}),a.jsx("div",{className:"border-bottom border-dark border-dotted"})]})]})]}),a.jsx("div",{className:"col-4",children:a.jsx("div",{className:"financial-box border border-dark rounded overflow-hidden",children:a.jsx("table",{className:"table table-sm table-borderless mb-0 font-size-13",children:a.jsxs("tbody",{children:[a.jsxs("tr",{className:"border-bottom border-secondary border-opacity-25",children:[a.jsx("td",{className:"ps-2 py-2 text-secondary",children:" :"}),a.jsx("td",{className:"text-end pe-2 py-2 fw-bold",children:c.toLocaleString()})]}),a.jsxs("tr",{className:"border-bottom border-secondary border-opacity-25",children:[a.jsx("td",{className:"ps-2 py-2 text-secondary",children:" :"}),a.jsx("td",{className:"text-end pe-2 py-2 fw-bold",children:u.toLocaleString()})]}),a.jsxs("tr",{className:"border-bottom border-secondary border-opacity-25",children:[a.jsx("td",{className:"ps-2 py-2 text-secondary",children:"  :"}),a.jsx("td",{className:"text-end pe-2 py-2 fw-bold",children:d.toLocaleString()})]}),a.jsxs("tr",{className:"bg-light border-bottom border-dark",children:[a.jsx("td",{className:"ps-2 py-2",children:"   (10%):"}),a.jsx("td",{className:"text-end pe-2 py-2 fw-bold",children:h.toLocaleString()})]}),a.jsxs("tr",{className:"bg-dark text-white",children:[a.jsx("td",{className:"ps-2 py-3 font-size-14",children:"  :"}),a.jsxs("td",{className:"text-end pe-2 py-3 font-size-15 fw-bold",children:[m.toLocaleString()," ",a.jsx("span",{className:"font-size-11 fw-normal",children:""})]})]})]})})})})]}),a.jsx("div",{className:"disclaimer text-center mt-auto pt-3 border-top border-dark mt-4 font-size-11 text-muted",children:"                ."})]})]})},fqe=async()=>{const{data:t,error:e}=await fe.from("financial_documents").select(`
            *,
            financial_entries (
                bed, bes, description,
                accounting_moein ( title, code ),
                accounting_tafsili ( title, code )
            )
        `).order("doc_date",{ascending:!1}).order("id",{ascending:!1});if(e)throw e;return t},mqe=async(t,e)=>{const{data:n,error:r}=await fe.from("financial_documents").insert({doc_date:t.doc_date,manual_no:t.manual_no,description:t.description,doc_type:"manual",status:"final"}).select().single();if(r)throw r;const s=e.map(o=>({doc_id:n.id,moein_id:o.moein_id,tafsili_id:o.tafsili_id||null,bed:o.bed||0,bes:o.bes||0,description:o.description||t.description})),{error:i}=await fe.from("financial_entries").insert(s);if(i)throw await fe.from("financial_documents").delete().eq("id",n.id),i;return n},pqe=async t=>{const{data:e,error:n}=await fe.from("financial_documents").select(`
            *,
            financial_entries (
                id, moein_id, tafsili_id, bed, bes, description,
                accounting_moein ( id, code, title ),
                accounting_tafsili ( id, code, title, tafsili_type )
            )
        `).eq("id",t).single();if(n)throw n;return e},gqe=async t=>{const{error:e}=await fe.from("financial_documents").delete().eq("id",t);if(e)throw e},yqe=async(t,e,n)=>{const{error:r}=await fe.from("financial_documents").update({doc_date:e.doc_date,manual_no:e.manual_no,description:e.description}).eq("id",t);if(r)throw r;const{error:s}=await fe.from("financial_entries").delete().eq("doc_id",t);if(s)throw s;const i=n.map(l=>({doc_id:t,moein_id:l.moein_id,tafsili_id:l.tafsili_id||null,bed:l.bed||0,bes:l.bes||0,description:l.description||e.description})),{error:o}=await fe.from("financial_entries").insert(i);if(o)throw o};function vqe(){const[t,e]=C.useState([]),[n,r]=C.useState(!0),[s,i]=C.useState(null),o=as(),l=async()=>{r(!0);try{const m=await fqe();e(m)}catch{ae.error("   ")}finally{r(!1)}};C.useEffect(()=>{l()},[]);const c=async(m,p)=>{if(p==="system")return ae.warn("  ()   .");if(window.confirm("          "))try{await gqe(m),ae.success("  "),l()}catch{ae.error("   ")}},u=(m,p)=>{if(p==="system")return ae.warn("       .");o(`/accounting/edit/${m}`)},d=m=>Number(m).toLocaleString(),h=m=>m.reduce((p,y)=>p+(Number(y.bed)||0),0);return a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[a.jsx("h4",{className:"font-size-18 fw-bold",children:"  "}),a.jsxs(me,{color:"primary",onClick:()=>o("/accounting/new"),children:[a.jsx("i",{className:"bx bx-plus me-1"}),"   "]})]}),a.jsx(dt,{children:a.jsx(ht,{children:n?a.jsx("div",{className:"text-center p-5",children:a.jsx("div",{className:"spinner-border text-primary"})}):a.jsx("div",{className:"table-responsive",children:a.jsxs(Mn,{className:"align-middle table-nowrap table-hover",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:"#"}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:t.map((m,p)=>a.jsxs(oe.Fragment,{children:[a.jsxs("tr",{className:s===m.id?"table-active":"",children:[a.jsx("td",{children:p+1}),a.jsx("td",{className:"fw-bold",children:m.doc_no}),a.jsx("td",{children:new Date(m.doc_date).toLocaleDateString("fa-IR")}),a.jsx("td",{style:{maxWidth:"250px"},className:"text-truncate",title:m.description,children:m.description}),a.jsx("td",{children:m.doc_type==="system"?a.jsx(ut,{color:"info",children:""}):a.jsx(ut,{color:"warning",children:""})}),a.jsx("td",{className:"fw-bold",children:d(h(m.financial_entries))}),a.jsx("td",{children:m.status==="final"?a.jsx("i",{className:"bx bx-check-circle text-success font-size-18"}):a.jsx("i",{className:"bx bx-time-five text-warning font-size-18"})}),a.jsx("td",{children:a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(me,{size:"sm",color:"warning",outline:!0,disabled:m.doc_type==="system",onClick:y=>{y.stopPropagation(),u(m.id,m.doc_type)},children:a.jsx("i",{className:"bx bx-edit"})}),a.jsx(me,{size:"sm",color:"danger",outline:!0,disabled:m.doc_type==="system",onClick:y=>{y.stopPropagation(),c(m.id,m.doc_type)},children:a.jsx("i",{className:"bx bx-trash"})})]})}),a.jsx("td",{onClick:()=>i(s===m.id?null:m.id),style:{cursor:"pointer"},children:a.jsx("i",{className:`bx ${s===m.id?"bx-chevron-up":"bx-chevron-down"} font-size-20`})})]}),a.jsx("tr",{children:a.jsx("td",{colSpan:"9",className:"p-0 border-0",children:a.jsx(x0,{isOpen:s===m.id,children:a.jsx("div",{className:"p-3 bg-light border-bottom",children:a.jsxs(Mn,{size:"sm",bordered:!0,className:"mb-0 bg-white text-center",style:{fontSize:"13px"},children:[a.jsx("thead",{className:"table-secondary",children:a.jsxs("tr",{children:[a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:m.financial_entries.map((y,w)=>{var v,x,_;return a.jsxs("tr",{children:[a.jsx("td",{children:(v=y.accounting_moein)==null?void 0:v.code}),a.jsx("td",{className:"fw-bold text-start",children:(x=y.accounting_moein)==null?void 0:x.title}),a.jsx("td",{className:"text-start",children:((_=y.accounting_tafsili)==null?void 0:_.title)||"-"}),a.jsx("td",{className:"text-start text-muted",children:y.description}),a.jsx("td",{className:y.bed>0?"text-dark":"text-muted",children:y.bed>0?d(y.bed):"-"}),a.jsx("td",{className:y.bes>0?"text-dark":"text-muted",children:y.bes>0?d(y.bes):"-"})]},w)})})]})})})})})]},m.id))})]})})})})]})})}const oN=t=>{throw t&&t.code==="23503"?new Error("DEPENDENCY_ERROR"):t},bqe=async()=>{const{data:t,error:e}=await fe.from("accounting_groups").select("*").order("code",{ascending:!0});if(e)throw e;return t},_qe=async t=>{const{data:e,error:n}=await fe.from("accounting_groups").insert(t).select().single();if(n)throw n;return e},wqe=async(t,e)=>{const{error:n}=await fe.from("accounting_groups").update({title:e.title,nature:e.nature,category:e.category}).eq("id",t);if(n)throw n},xqe=async t=>{const{error:e}=await fe.from("accounting_groups").delete().eq("id",t);e&&oN(e)},Eqe=async()=>{const{data:t,error:e}=await fe.from("accounting_gl").select("*, accounting_groups(title, code)").order("code",{ascending:!0});if(e)throw e;return t},Sqe=async t=>{const{data:e,error:n}=await fe.from("accounting_gl").insert(t).select().single();if(n)throw n;return e},jqe=async(t,e)=>{const{error:n}=await fe.from("accounting_gl").update({title:e.title,code:e.code,group_id:e.group_id}).eq("id",t);if(n)throw n},Tqe=async t=>{const{error:e}=await fe.from("accounting_gl").delete().eq("id",t);e&&oN(e)},ose=async()=>{const{data:t,error:e}=await fe.from("accounting_moein").select("*, accounting_gl(title, code)").order("code",{ascending:!0});if(e)throw e;return t},Cqe=async t=>{const{data:e,error:n}=await fe.from("accounting_moein").insert(t).select().single();if(n)throw n;return e},Aqe=async(t,e)=>{const{error:n}=await fe.from("accounting_moein").update({title:e.title,code:e.code,gl_id:e.gl_id}).eq("id",t);if(n)throw n},Nqe=async t=>{const{error:e}=await fe.from("accounting_moein").delete().eq("id",t);e&&oN(e)},lse=async()=>{const{data:t,error:e}=await fe.from("accounting_tafsili").select("*").order("code",{ascending:!0});if(e)throw e;return t},Iqe=async t=>{const{data:e,error:n}=await fe.from("accounting_tafsili").insert(t).select().single();if(n)throw n;return e},kqe=async(t,e)=>{const{error:n}=await fe.from("accounting_tafsili").update({title:e.title,code:e.code,tafsili_type:e.tafsili_type}).eq("id",t);if(n)throw n},Oqe=async t=>{const{error:e}=await fe.from("accounting_tafsili").delete().eq("id",t);e&&oN(e)},sj=async(t,e)=>{let n,r="";if(t==="treasury")try{const i=e==="receive"?"D":"P",o=new Date().getFullYear().toString().slice(-2),l=`${new Date().getFullYear()}-01-01`,c=`${e==="receive"?"":""}  ${i}${o}%`,{count:u,error:d}=await fe.from("financial_documents").select("id",{count:"exact",head:!0}).ilike("description",c).gte("doc_date",l);if(d)return console.error("Error counting treasury transactions:",d),`${i}${o}001`;const h=String((u||0)+1).padStart(4,"0");return`${i}${o}${h}`}catch(i){return console.error("Error generating treasury code:",i),`${e==="receive"?"D":"P"}${Date.now()}`}if(t==="gl"&&e){const{data:i}=await fe.from("accounting_groups").select("code").eq("id",e).single();i&&(r=i.code)}else if(t==="moein"&&e){const{data:i}=await fe.from("accounting_gl").select("code").eq("id",e).single();i&&(r=i.code)}if(t==="group")n=fe.from("accounting_groups").select("code").order("code",{ascending:!1}).limit(1);else if(t==="gl"){if(!e)return"";n=fe.from("accounting_gl").select("code").eq("group_id",e).order("code",{ascending:!1}).limit(1)}else if(t==="moein"){if(!e)return"";n=fe.from("accounting_moein").select("code").eq("gl_id",e).order("code",{ascending:!1}).limit(1)}else if(t==="tafsili"){if(!e)return"";n=fe.from("accounting_tafsili").select("code").eq("tafsili_type",e).order("code",{ascending:!1}).limit(1)}const{data:s}=await n;if(s&&s.length>0){const i=s[0].code,o=parseInt(i,10)+1;return t==="tafsili"?String(o).padStart(i.length,"0"):String(o)}else{if(t==="group")return"1";if(t==="gl"||t==="moein")return r+"01";if(t==="tafsili")return"0001"}};function Rqe(){const t=as(),[e,n]=C.useState("1"),[r,s]=C.useState(!1),[i,o]=C.useState(!1),[l,c]=C.useState([]),[u,d]=C.useState([]),[h,m]=C.useState([]),[p,y]=C.useState([]),[w,v]=C.useState(!1),[x,_]=C.useState(""),[E,T]=C.useState({}),[N,D]=C.useState(!1),O=async()=>{s(!0);try{const L=await bqe();c(L);const Y=await Eqe();d(Y);const ne=await ose();m(ne);const te=await lse();y(te)}catch{ae.error("   ")}finally{s(!1)}};C.useEffect(()=>{O()},[]);const F=async(L="")=>{if(_(L),T({}),D(!1),v(!w),L==="group"){o(!0);const Y=await sj("group");T(ne=>({...ne,code:Y})),o(!1)}if(L==="tafsili"){const Y=await sj("tafsili","other");T(ne=>({...ne,tafsili_type:"other",code:Y}))}},V=(L,Y)=>{if(Y==="tafsili"&&(L.tafsili_type==="bank_account"||L.tafsili_type==="customer"||L.tafsili_type==="cash"))return ae.info("         (/)  .");_(Y);let ne={...L};Y==="gl"&&(ne.group_id=L.group_id),Y==="moein"&&(ne.gl_id=L.gl_id),T(ne),D(!0),v(!0)},z=async(L,Y)=>{const ne=L.target.value;if(Y==="gl"&&T(te=>({...te,group_id:ne})),Y==="moein"&&T(te=>({...te,gl_id:ne})),ne&&!N){o(!0);const te=await sj(Y,ne);T(ce=>({...ce,code:te})),o(!1)}},U=async L=>{const Y=L.target.value;if(T(ne=>({...ne,tafsili_type:Y})),Y&&!N){o(!0);const ne=await sj("tafsili",Y);T(te=>({...te,code:ne})),o(!1)}},H=async()=>{if(!E.title||!E.code)return ae.warn("    ");try{x==="group"?N?await wqe(E.id,E):await _qe(E):x==="gl"?N?await jqe(E.id,E):await Sqe(E):x==="moein"?N?await Aqe(E.id,E):await Cqe(E):x==="tafsili"&&(N?await kqe(E.id,E):await Iqe(E)),ae.success(N?" ":" "),v(!1),O()}catch(L){console.error(L),ae.error("  ")}},J=async(L,Y,ne)=>{if(Y==="tafsili"&&(ne.tafsili_type==="bank_account"||ne.tafsili_type==="customer"||ne.tafsili_type==="cash"))return ae.warn("           (/)  .");if(window.confirm("  "))try{Y==="group"&&await xqe(L),Y==="gl"&&await Tqe(L),Y==="moein"&&await Nqe(L),Y==="tafsili"&&await Oqe(L),ae.success(" "),O()}catch(te){te.message==="DEPENDENCY_ERROR"?ae.error(":        ."):ae.error("  ")}},q=L=>{switch(L){case"customer":return a.jsx(ut,{color:"success",children:" ()"});case"bank_account":return a.jsx(ut,{color:"warning",children:" ()"});case"cash":return a.jsx(ut,{color:"warning",children:" ()"});case"cost_center":return a.jsx(ut,{color:"info",children:" "});case"project":return a.jsx(ut,{color:"primary",children:""});default:return a.jsx(ut,{color:"secondary",children:""})}};return a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsx("h4",{className:"mb-4 font-size-18 fw-bold",children:"  "}),a.jsx(dt,{children:a.jsxs(ht,{children:[a.jsxs(yb,{tabs:!0,className:"nav-tabs-custom mb-4",children:[a.jsx(Lo,{children:a.jsx(Mo,{className:Rt({active:e==="1"}),onClick:()=>n("1"),style:{cursor:"pointer"},children:"1.  "})}),a.jsx(Lo,{children:a.jsx(Mo,{className:Rt({active:e==="2"}),onClick:()=>n("2"),style:{cursor:"pointer"},children:"2.  "})}),a.jsx(Lo,{children:a.jsx(Mo,{className:Rt({active:e==="3"}),onClick:()=>n("3"),style:{cursor:"pointer"},children:"3.  "})}),a.jsx(Lo,{children:a.jsx(Mo,{className:Rt({active:e==="4"}),onClick:()=>n("4"),style:{cursor:"pointer"},children:"4.  "})})]}),a.jsxs(dF,{activeTab:e,children:[a.jsxs($d,{tabId:"1",children:[a.jsx(me,{color:"primary",className:"mb-3",onClick:()=>F("group"),children:"+  "}),a.jsxs(Mn,{bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:l.map(L=>a.jsxs("tr",{children:[a.jsx("td",{className:"fw-bold text-center",children:L.code}),a.jsx("td",{children:L.title}),a.jsx("td",{children:L.nature==="debtor"?"":""}),a.jsx("td",{children:a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(me,{size:"sm",color:"warning",outline:!0,onClick:()=>V(L,"group"),children:a.jsx("i",{className:"bx bx-edit"})}),a.jsx(me,{size:"sm",color:"danger",outline:!0,onClick:()=>J(L.id,"group"),children:a.jsx("i",{className:"bx bx-trash"})})]})})]},L.id))})]})]}),a.jsxs($d,{tabId:"2",children:[a.jsx(me,{color:"primary",className:"mb-3",onClick:()=>F("gl"),children:"+  "}),a.jsxs(Mn,{bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:u.map(L=>{var Y;return a.jsxs("tr",{children:[a.jsx("td",{className:"fw-bold text-center",children:L.code}),a.jsx("td",{children:L.title}),a.jsx("td",{className:"text-muted",children:(Y=L.accounting_groups)==null?void 0:Y.code}),a.jsx("td",{children:a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(me,{size:"sm",color:"warning",outline:!0,onClick:()=>V(L,"gl"),children:a.jsx("i",{className:"bx bx-edit"})}),a.jsx(me,{size:"sm",color:"danger",outline:!0,onClick:()=>J(L.id,"gl"),children:a.jsx("i",{className:"bx bx-trash"})})]})})]},L.id)})})]})]}),a.jsxs($d,{tabId:"3",children:[a.jsx(me,{color:"primary",className:"mb-3",onClick:()=>F("moein"),children:"+  "}),a.jsxs(Mn,{bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:h.map(L=>{var Y;return a.jsxs("tr",{children:[a.jsx("td",{className:"fw-bold text-center",children:L.code}),a.jsx("td",{children:L.title}),a.jsx("td",{className:"text-muted",children:(Y=L.accounting_gl)==null?void 0:Y.code}),a.jsx("td",{children:a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(me,{size:"sm",color:"warning",outline:!0,onClick:()=>V(L,"moein"),children:a.jsx("i",{className:"bx bx-edit"})}),a.jsx(me,{size:"sm",color:"danger",outline:!0,onClick:()=>J(L.id,"moein"),children:a.jsx("i",{className:"bx bx-trash"})})]})})]},L.id)})})]})]}),a.jsxs($d,{tabId:"4",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[a.jsx(me,{color:"primary",onClick:()=>F("tafsili"),children:"+   ()"}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(me,{size:"sm",color:"success",outline:!0,onClick:()=>t("/customers/add"),children:"+  "}),a.jsx(me,{size:"sm",color:"warning",outline:!0,onClick:()=>t("/accounting/treasury"),children:"+ / "})]})]}),a.jsxs(Mn,{bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:p.map(L=>{const Y=["customer","bank_account","cash"].includes(L.tafsili_type);return a.jsxs("tr",{children:[a.jsx("td",{className:"fw-bold text-center",children:L.code}),a.jsx("td",{children:L.title}),a.jsx("td",{children:q(L.tafsili_type)}),a.jsx("td",{children:a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(me,{size:"sm",color:"secondary",outline:!0,disabled:Y,title:Y?"   ":"",onClick:()=>V(L,"tafsili"),children:a.jsx("i",{className:`bx ${Y?"bx-lock-alt":"bx-edit"}`})}),a.jsx(me,{size:"sm",color:"danger",outline:!0,disabled:Y,title:Y?"   ":"",onClick:()=>J(L.id,"tafsili",L),children:a.jsx("i",{className:`bx ${Y?"bx-lock-alt":"bx-trash"}`})})]})})]},L.id)})})]})]})]})]})}),a.jsxs(zs,{isOpen:w,toggle:()=>v(!w),centered:!0,children:[a.jsxs(Ui,{toggle:()=>v(!w),children:[x==="group"&&" ",x==="gl"&&"  ",x==="moein"&&"  ",x==="tafsili"&&"   ( )"]}),a.jsx(Ni,{children:a.jsxs(ge,{className:"gy-3",children:[x==="gl"&&a.jsxs($,{md:12,children:[a.jsx(X,{children:"  ()"}),a.jsxs(re,{type:"select",value:E.group_id||"",onChange:L=>z(L,"gl"),disabled:N,children:[a.jsx("option",{value:"",children:" ..."}),l.map(L=>a.jsxs("option",{value:L.id,children:[L.code," - ",L.title]},L.id))]})]}),x==="moein"&&a.jsxs($,{md:12,children:[a.jsx(X,{children:"  ()"}),a.jsxs(re,{type:"select",value:E.gl_id||"",onChange:L=>z(L,"moein"),disabled:N,children:[a.jsx("option",{value:"",children:" ..."}),u.map(L=>a.jsxs("option",{value:L.id,children:[L.code," - ",L.title]},L.id))]})]}),x==="tafsili"&&a.jsxs($,{md:12,children:[a.jsxs(kn,{color:"info",className:"font-size-12",children:["  ",a.jsx("b",{children:"   "}),"      .       ."]}),a.jsx(X,{children:" "}),a.jsxs(re,{type:"select",value:E.tafsili_type||"other",onChange:U,disabled:N,children:[a.jsx("option",{value:"other",children:" ()"}),a.jsx("option",{value:"cost_center",children:" "}),a.jsx("option",{value:"project",children:""}),a.jsx("option",{value:"personnel",children:" ( )"})]})]}),a.jsxs($,{md:12,children:[a.jsxs(X,{className:"d-flex justify-content-between",children:["  ",i&&a.jsx(pn,{size:"sm",color:"primary"})]}),a.jsx(re,{value:E.code||"",onChange:L=>T({...E,code:L.target.value}),className:"fw-bold font-size-16"})]}),a.jsxs($,{md:12,children:[a.jsx(X,{children:" "}),a.jsx(re,{value:E.title||"",onChange:L=>T({...E,title:L.target.value})})]}),x==="group"&&a.jsxs(a.Fragment,{children:[a.jsxs($,{md:6,children:[a.jsx(X,{children:""}),a.jsxs(re,{type:"select",value:E.nature||"dual",onChange:L=>T({...E,nature:L.target.value}),children:[a.jsx("option",{value:"dual",children:""}),a.jsx("option",{value:"debtor",children:""}),a.jsx("option",{value:"creditor",children:""})]})]}),a.jsxs($,{md:6,children:[a.jsx(X,{children:""}),a.jsxs(re,{type:"select",value:E.category||"asset",onChange:L=>T({...E,category:L.target.value}),children:[a.jsx("option",{value:"asset",children:""}),a.jsx("option",{value:"liability",children:""}),a.jsx("option",{value:"revenue",children:""}),a.jsx("option",{value:"expense",children:""}),a.jsx("option",{value:"equity",children:""})]})]})]})]})}),a.jsxs(ro,{children:[a.jsx(me,{color:"success",onClick:H,children:N?"  ":""}),a.jsx(me,{color:"secondary",onClick:()=>v(!1),children:""})]})]})]})})}function D8(){const t=as(),{id:e}=lu(),n=!!e,[r,s]=C.useState(!1),[i,o]=C.useState(!0),[l,c]=C.useState([]),[u,d]=C.useState([]),[h,m]=C.useState(new Date().toISOString().slice(0,10)),[p,y]=C.useState(""),[w,v]=C.useState(""),[x,_]=C.useState(null),[E,T]=C.useState([{id:Date.now(),moein:null,tafsili:null,description:"",bed:0,bes:0,bedDisplay:"",besDisplay:""}]),N=C.useRef({}),D={control:(ne,te)=>({...ne,height:"38px",minHeight:"38px",borderColor:te.isFocused?"#556ee6":"#ced4da",boxShadow:te.isFocused?"0 0 0 0.2rem rgba(85, 110, 230, 0.25)":null,fontSize:"13px",borderRadius:"0.25rem"}),menuPortal:ne=>({...ne,zIndex:9999}),menu:ne=>({...ne,zIndex:9999}),option:(ne,te)=>({...ne,fontSize:"13px",backgroundColor:te.isSelected?"#556ee6":te.isFocused?"#f8f9fa":"white",color:te.isSelected?"white":"#495057",cursor:"pointer"})},O=ne=>ne?ne.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"",F=()=>{setTimeout(()=>{window.print()},100)};C.useEffect(()=>{(async()=>{o(!0);try{const te=await ose(),ce=await lse(),ve=(te==null?void 0:te.map(Ae=>({value:Ae.id,label:`${Ae.code} - ${Ae.title}`,code:Ae.code,title:Ae.title})))||[],Ue=(ce==null?void 0:ce.map(Ae=>({value:Ae.id,label:`${Ae.code} - ${Ae.title}`,code:Ae.code,title:Ae.title})))||[];if(c(ve),d(Ue),n){const Ae=await pqe(e);if(!Ae){ae.error("  "),t("/accounting/list");return}if(m(Ae.doc_date),y(Ae.manual_no||""),v(Ae.description||""),_(Ae.doc_no),Ae.financial_entries&&Ae.financial_entries.length>0){const at=Ae.financial_entries.map((it,Te)=>({id:Date.now()+Te,moein:ve.find(Tt=>Tt.value===it.moein_id)||null,tafsili:Ue.find(Tt=>Tt.value===it.tafsili_id)||null,description:it.description||"",bed:it.bed,bes:it.bes,bedDisplay:it.bed>0?O(it.bed):"",besDisplay:it.bes>0?O(it.bes):""}));T(at)}}}catch(te){console.error(te),ae.error("   ")}finally{o(!1)}})()},[e,n,t]);const V=()=>{const ne=Date.now();T([...E,{id:ne,moein:null,tafsili:null,description:w,bed:0,bes:0,bedDisplay:"",besDisplay:""}]),setTimeout(()=>{var te;return(te=N.current[`moein-${ne}`])==null?void 0:te.focus()},100)},z=ne=>{if(E.length===1)return ae.warn("      ");T(E.filter((te,ce)=>ce!==ne))},U=(ne,te,ce)=>{const ve=[...E],Ue=ve[ne].id;if(te==="moein")ve[ne].moein=ce,T(ve),setTimeout(()=>{var Ae;return(Ae=N.current[`tafsili-${Ue}`])==null?void 0:Ae.focus()},50);else if(te==="tafsili")ve[ne].tafsili=ce,T(ve),setTimeout(()=>{var Ae;return(Ae=N.current[`desc-${Ue}`])==null?void 0:Ae.focus()},50);else if(te==="bedDisplay"){const Ae=ce.replace(/[^0-9]/g,"");ve[ne].bed=Number(Ae),ve[ne].bedDisplay=O(Ae),Ae>0&&(ve[ne].bes=0,ve[ne].besDisplay=""),T(ve)}else if(te==="besDisplay"){const Ae=ce.replace(/[^0-9]/g,"");ve[ne].bes=Number(Ae),ve[ne].besDisplay=O(Ae),Ae>0&&(ve[ne].bed=0,ve[ne].bedDisplay=""),T(ve)}else ve[ne][te]=ce,T(ve)},H=(ne,te,ce)=>{var ve,Ue,Ae;if(ne.key==="Enter"){const at=E[te].id;ce==="moein"||ce==="tafsili"?setTimeout(()=>{var it,Te;ce==="moein"&&((it=N.current[`tafsili-${at}`])==null||it.focus()),ce==="tafsili"&&((Te=N.current[`desc-${at}`])==null||Te.focus())},100):(ne.preventDefault(),ce==="desc"?(ve=N.current[`bed-${at}`])==null||ve.focus():ce==="bed"?(Ue=N.current[`bes-${at}`])==null||Ue.focus():ce==="bes"&&(te===E.length-1?V():(Ae=N.current[`moein-${E[te+1].id}`])==null||Ae.focus()))}},J=async()=>{const ne=E.reduce((ce,ve)=>ce+ve.bed,0),te=E.reduce((ce,ve)=>ce+ve.bes,0);if(ne!==te)return ae.error("  !");if(ne===0)return ae.error("  .");if(E.some(ce=>!ce.moein))return ae.warn("   .");s(!0);try{const ce=E.map(Ue=>({moein_id:Ue.moein.value,tafsili_id:Ue.tafsili?Ue.tafsili.value:null,description:Ue.description||w,bed:Ue.bed,bes:Ue.bes})),ve={doc_date:h,manual_no:p,description:w};n?(await yqe(e,ve,ce),ae.success("  .")):(await mqe(ve,ce),ae.success("  .")),t("/accounting/list")}catch(ce){console.error(ce),ae.error("   .")}finally{s(!1)}},q=E.reduce((ne,te)=>ne+te.bed,0),L=E.reduce((ne,te)=>ne+te.bes,0),Y=q-L;return i?a.jsx("div",{className:"text-center p-5",children:a.jsx("div",{className:"spinner-border text-primary"})}):a.jsxs("div",{className:"page-content-wrapper",children:[a.jsx("style",{children:`
                @media screen {
                    .print-only-section { display: none !important; }
                }
                @media print {
                    @page { size: A4; margin: 10mm; }
                    body * { visibility: hidden; }
                    .page-content, .navbar, .sidebar, .footer { display: none !important; }
                    
                    .print-only-section, .print-only-section * { visibility: visible !important; }
                    
                    .print-only-section {
                        display: block !important;
                        position: absolute;
                        left: 0;
                        top: 0;
                        width: 100%;
                        background-color: white;
                        z-index: 99999;
                        direction: rtl;
                        font-family: 'Tahoma', 'Arial', sans-serif;
                    }
                    .print-table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 12px; }
                    .print-table th, .print-table td { border: 1px solid #000; padding: 5px; text-align: center; }
                    .print-header { border: 2px solid #000; padding: 10px; border-radius: 5px; margin-bottom: 10px; }
                    .signature-box { margin-top: 40px; display: flex; justify-content: space-around; text-align: center; font-size: 12px; }
                }
            `}),a.jsxs("div",{className:"print-only-section",children:[a.jsxs("div",{className:"print-header d-flex justify-content-between align-items-center",children:[a.jsxs("div",{style:{width:"30%"},children:[a.jsx("h4",{className:"fw-bold m-0",style:{fontSize:"18px"},children:" "}),a.jsx("p",{className:"m-0 mt-1",style:{fontSize:"11px"},children:"  "})]}),a.jsx("div",{style:{width:"30%",textAlign:"center"},children:a.jsx("h2",{style:{fontSize:"24px",fontWeight:"bold"},children:" "})}),a.jsxs("div",{style:{width:"30%",textAlign:"left",fontSize:"11px"},children:[a.jsxs("div",{children:[" : ",a.jsx("span",{className:"fw-bold",children:x||"---"})]}),a.jsxs("div",{children:[": ",a.jsx("span",{className:"fw-bold",children:new Date(h).toLocaleDateString("fa-IR")})]}),a.jsxs("div",{children:[": ",a.jsx("span",{children:p||"---"})]})]})]}),a.jsxs("div",{className:"border border-dark p-2 mb-2 rounded",style:{fontSize:"12px"},children:[a.jsx("strong",{children:" : "})," ",w]}),a.jsxs("table",{className:"print-table",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{backgroundColor:"#f0f0f0"},children:[a.jsx("th",{style:{width:"5%"},children:"#"}),a.jsx("th",{style:{width:"10%"},children:" "}),a.jsx("th",{style:{width:"35%"},children:"  /  "}),a.jsx("th",{style:{width:"12%"},children:" "}),a.jsx("th",{style:{width:"19%"},children:""}),a.jsx("th",{style:{width:"19%"},children:""})]})}),a.jsx("tbody",{children:E.map((ne,te)=>{var ce,ve,Ue;return a.jsxs("tr",{children:[a.jsx("td",{children:te+1}),a.jsx("td",{children:(ce=ne.moein)==null?void 0:ce.code}),a.jsxs("td",{className:"text-start",children:[a.jsx("div",{className:"fw-bold",children:(ve=ne.moein)==null?void 0:ve.title}),ne.tafsili&&a.jsx("div",{className:"text-muted",style:{fontSize:"10px"},children:ne.tafsili.title}),a.jsx("div",{style:{fontSize:"10px"},children:ne.description})]}),a.jsx("td",{children:((Ue=ne.tafsili)==null?void 0:Ue.code)||"-"}),a.jsx("td",{children:O(ne.bed)}),a.jsx("td",{children:O(ne.bes)})]},te)})}),a.jsx("tfoot",{children:a.jsxs("tr",{style:{backgroundColor:"#e8e8e8",fontWeight:"bold"},children:[a.jsx("td",{colSpan:"4",className:"text-end px-2",children:" :"}),a.jsx("td",{children:O(q)}),a.jsx("td",{children:O(L)})]})})]}),a.jsxs("div",{className:"signature-box",children:[a.jsxs("div",{children:[a.jsx("p",{className:"fw-bold mb-4",children:" "}),a.jsx("div",{style:{borderBottom:"1px dotted #000",width:"120px"}})]}),a.jsxs("div",{children:[a.jsx("p",{className:"fw-bold mb-4",children:" "}),a.jsx("div",{style:{borderBottom:"1px dotted #000",width:"120px"}})]}),a.jsxs("div",{children:[a.jsx("p",{className:"fw-bold mb-4",children:""}),a.jsx("div",{style:{borderBottom:"1px dotted #000",width:"120px"}})]})]})]}),a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[a.jsxs("div",{className:"d-flex align-items-center gap-3",children:[a.jsx("h4",{className:"font-size-18 fw-bold text-dark m-0",children:n?`   ${x||""}`:"  "}),a.jsxs(me,{color:"info",size:"sm",onClick:F,children:[a.jsx("i",{className:"bx bx-printer font-size-16 align-middle me-1"}),"  "]})]}),a.jsxs(me,{color:"secondary",outline:!0,className:"btn-sm px-3",onClick:()=>t("/accounting/list"),children:[a.jsx("i",{className:"bx bx-arrow-back me-1"})," "]})]}),a.jsx(ge,{children:a.jsx($,{lg:12,children:a.jsx(dt,{className:"shadow-sm border-0 mb-4",children:a.jsxs(ht,{children:[a.jsx(Ra,{className:"h5 mb-3 text-primary",children:"  "}),a.jsxs(ge,{className:"gy-3",children:[a.jsxs($,{md:3,children:[a.jsx(X,{className:"fw-bold font-size-13",children:" "}),a.jsx("div",{style:{direction:"rtl"},children:a.jsx(Gs,{value:h,onChange:ne=>m(ne.toDate().toISOString().slice(0,10))})})]}),a.jsxs($,{md:3,children:[a.jsx(X,{className:"fw-bold font-size-13",children:"  / "}),a.jsx(re,{value:p,onChange:ne=>y(ne.target.value),placeholder:"",className:"fw-bold"})]}),a.jsxs($,{md:6,children:[a.jsx(X,{className:"fw-bold font-size-13",children:"  "}),a.jsx(re,{value:w,onChange:ne=>v(ne.target.value),placeholder:"..."})]})]})]})})})}),a.jsxs(dt,{className:"shadow-sm border-0",children:[a.jsxs(ht,{className:"p-0",children:[a.jsx("div",{className:"table-responsive",style:{minHeight:"350px",overflow:"visible"},children:a.jsxs(Mn,{className:"table mb-0 align-middle",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"5%"},className:"text-center",children:"#"}),a.jsxs("th",{style:{width:"22%"},children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("th",{style:{width:"22%"},children:" "}),a.jsx("th",{style:{width:"25%"},children:" "}),a.jsx("th",{style:{width:"10%"},children:""}),a.jsx("th",{style:{width:"10%"},children:""}),a.jsx("th",{style:{width:"6%"},className:"text-center",children:""})]})}),a.jsx("tbody",{children:E.map((ne,te)=>a.jsxs("tr",{className:"align-top",children:[a.jsx("td",{className:"text-center pt-3",children:te+1}),a.jsx("td",{className:"p-2",children:a.jsx(ts,{ref:ce=>N.current[`moein-${ne.id}`]=ce,value:ne.moein,onChange:ce=>U(te,"moein",ce),onKeyDown:ce=>H(ce,te,"moein"),options:l,placeholder:"...",styles:D,menuPortalTarget:document.body,menuPosition:"fixed"})}),a.jsx("td",{className:"p-2",children:a.jsx(ts,{ref:ce=>N.current[`tafsili-${ne.id}`]=ce,value:ne.tafsili,onChange:ce=>U(te,"tafsili",ce),onKeyDown:ce=>H(ce,te,"tafsili"),options:u,placeholder:"...",styles:D,isClearable:!0,menuPortalTarget:document.body,menuPosition:"fixed"})}),a.jsx("td",{className:"p-2",children:a.jsx(re,{innerRef:ce=>N.current[`desc-${ne.id}`]=ce,bsSize:"sm",value:ne.description,onChange:ce=>U(te,"description",ce.target.value),onKeyDown:ce=>H(ce,te,"desc"),placeholder:w||"",style:{height:"38px"}})}),a.jsx("td",{className:"p-2",children:a.jsx(re,{innerRef:ce=>N.current[`bed-${ne.id}`]=ce,bsSize:"sm",value:ne.bedDisplay,onChange:ce=>U(te,"bedDisplay",ce.target.value),onKeyDown:ce=>H(ce,te,"bed"),placeholder:"0",className:"fw-bold text-dark",style:{height:"38px",direction:"ltr",textAlign:"right"}})}),a.jsx("td",{className:"p-2",children:a.jsx(re,{innerRef:ce=>N.current[`bes-${ne.id}`]=ce,bsSize:"sm",value:ne.besDisplay,onChange:ce=>U(te,"besDisplay",ce.target.value),onKeyDown:ce=>H(ce,te,"bes"),placeholder:"0",className:"fw-bold text-dark",style:{height:"38px",direction:"ltr",textAlign:"right"}})}),a.jsx("td",{className:"text-center pt-2",children:a.jsx(me,{color:"danger",outline:!0,size:"sm",onClick:()=>z(te),className:"mt-1",children:a.jsx("i",{className:"bx bx-trash font-size-16"})})})]},ne.id))})]})}),a.jsx("div",{className:"bg-light p-3 border-top",children:a.jsxs(ge,{className:"align-items-center",children:[a.jsx($,{md:4,children:a.jsxs(me,{color:"primary",outline:!0,onClick:V,className:"w-100 border-dashed",children:[a.jsx("i",{className:"bx bx-plus me-1"}),"    (Enter)"]})}),a.jsx($,{md:8,children:a.jsxs("div",{className:"d-flex justify-content-end gap-4 align-items-center",children:[a.jsxs("div",{className:"text-end",children:[a.jsx("small",{className:"d-block text-muted mb-1",children:" "}),a.jsx("h5",{className:"mb-0 fw-bold",children:Number(q).toLocaleString()})]}),a.jsxs("div",{className:"text-end",children:[a.jsx("small",{className:"d-block text-muted mb-1",children:" "}),a.jsx("h5",{className:"mb-0 fw-bold",children:Number(L).toLocaleString()})]}),a.jsxs("div",{className:"text-end border-start ps-4",children:[a.jsx("small",{className:"d-block text-muted mb-1",children:" "}),Y===0?a.jsxs(ut,{color:"success",className:"font-size-13 py-2 px-3",children:[a.jsx("i",{className:"bx bx-check-double me-1 align-middle"}),"  "]}):a.jsxs(ut,{color:"danger",className:"font-size-13 py-2 px-3",children:[": ",Number(Math.abs(Y)).toLocaleString()]})]})]})})]})})]}),a.jsxs("div",{className:"card-footer bg-white border-top p-3 d-flex justify-content-end gap-2",children:[a.jsxs(me,{color:"info",size:"lg",className:"px-4 shadow",onClick:F,children:[a.jsx("i",{className:"bx bx-printer me-2"}),"  "]}),a.jsxs(me,{color:n?"warning":"success",size:"lg",className:"px-5 shadow",onClick:J,disabled:r||Y!==0||q===0,children:[r?a.jsx("i",{className:"bx bx-loader bx-spin"}):a.jsx("i",{className:`bx ${n?"bx-edit":"bx-save"} me-2`}),n?"  ":"  "]})]})]})]})})]})}const Pqe=async(t,e)=>{let n=fe.from("financial_documents").select(`
            id,
            doc_date,
            description,
            manual_no,
            financial_entries (
                id,
                description,
                bed,
                bes,
                moein:accounting_moein ( title, code ),
                tafsili:accounting_tafsili ( title, code )
            )
        `).order("doc_date",{ascending:!0}).order("id",{ascending:!0});if(t){const i=t.length===10?t:t.slice(0,10);n=n.gte("doc_date",i)}if(e){const i=e.length===10?e:e.slice(0,10);n=n.lte("doc_date",i)}const{data:r,error:s}=await n;if(s)throw console.error("Error fetching journal report:",s),s;return r},cse=async t=>{if(!t)return[];const{data:e}=await fe.from("treasury_banks").select("id, tafsili_id").eq("tafsili_id",t).maybeSingle();let n=[t];if(e){const{data:i}=await fe.from("treasury_pos").select("tafsili_id").eq("bank_id",e.id);if(i&&i.length>0){const o=i.map(l=>l.tafsili_id).filter(Boolean);n=[...n,...o]}}const{data:r,error:s}=await fe.from("financial_entries").select(`
            id,
            description,
            bed,
            bes,
            tafsili_id,
            created_at,
            document:financial_documents ( id, doc_date, manual_no, description ),
            tafsili:accounting_tafsili ( title )
        `).in("tafsili_id",n);if(s)throw console.error("Error fetching ledger:",s),s;return r.sort((i,o)=>{var u,d,h,m;const l=new Date(((u=i.document)==null?void 0:u.doc_date)||0),c=new Date(((d=o.document)==null?void 0:d.doc_date)||0);return l<c?-1:l>c?1:(((h=i.document)==null?void 0:h.id)||0)-(((m=o.document)==null?void 0:m.id)||0)})},Dqe=async()=>{try{const{data:t,error:e}=await fe.from("accounting_tafsili").select("id, code, title, tafsili_type").eq("is_active",!0).eq("tafsili_type","customer");if(e)throw e;const{data:n,error:r}=await fe.from("financial_entries").select("tafsili_id, bed, bes");if(r)throw r;return t.map(i=>{const o=n.filter(d=>d.tafsili_id===i.id),l=o.reduce((d,h)=>d+(Number(h.bed)||0),0),c=o.reduce((d,h)=>d+(Number(h.bes)||0),0),u=l-c;return{...i,totalBed:l,totalBes:c,balance:u,status:u>0?"":u<0?"":""}})}catch(t){throw console.error("Error calculating customer balances:",t),t}},Lqe=async({startDate:t,endDate:e,moeinId:n,tafsiliId:r})=>{try{let s=r?[r]:null;if(r){const{data:c}=await fe.from("treasury_banks").select("id").eq("tafsili_id",r).maybeSingle();if(c){const{data:u}=await fe.from("treasury_pos").select("tafsili_id").eq("bank_id",c.id);u&&(s=[r,...u.map(d=>d.tafsili_id).filter(Boolean)])}}let i=fe.from("financial_entries").select(`
                id, description, bed, bes, tafsili_id, moein_id,
                financial_documents!inner ( id, doc_date, manual_no ),
                accounting_moein ( id, code, title ),
                accounting_tafsili ( id, code, title )
            `);n&&(i=i.eq("moein_id",n)),s&&(i=i.in("tafsili_id",s)),t&&(i=i.gte("financial_documents.doc_date",t.slice(0,10))),e&&(i=i.lte("financial_documents.doc_date",e.slice(0,10)));const{data:o,error:l}=await i;if(l)throw l;return(o||[]).map(c=>{var u,d,h,m;return{id:c.id,doc_id:(u=c.financial_documents)==null?void 0:u.id,doc_date:(d=c.financial_documents)==null?void 0:d.doc_date,description:c.description,bed:Number(c.bed||0),bes:Number(c.bes||0),moein_title:((h=c.accounting_moein)==null?void 0:h.title)||"",tafsili_title:((m=c.accounting_tafsili)==null?void 0:m.title)||"-",tafsili_id:c.tafsili_id}}).sort((c,u)=>new Date(c.doc_date)-new Date(u.doc_date)||c.doc_id-u.doc_id)}catch(s){throw console.error("Ledger Service Error:",s),s}};function Mqe(){const[t,e]=C.useState([]),[n,r]=C.useState([]),[s,i]=C.useState(null),[o,l]=C.useState(null),[c,u]=C.useState(!1),[d,h]=C.useState(""),m=async()=>{u(!0);try{const _=s?s.slice(0,10):null,E=o?o.slice(0,10):null;console.log(" Fetching journal:",{formattedStart:_,formattedEnd:E});const T=await Pqe(_,E);e(T||[]),r(T||[])}catch(_){console.error("Error fetching journal:",_)}finally{u(!1)}},p=_=>E=>{if(E!=null&&E.toDate){const T=E.toDate();_(T.toISOString())}else _(E||null)},y=_=>{const E=_.target.value.toLowerCase();if(h(E),!E){r(t);return}const T=t.filter(N=>{var F,V,z;const D=((F=N.description)==null?void 0:F.toLowerCase().includes(E))||((V=N.manual_no)==null?void 0:V.includes(E))||N.id.toString().includes(E),O=(z=N.financial_entries)==null?void 0:z.some(U=>{var H,J,q,L,Y;return((H=U.description)==null?void 0:H.toLowerCase().includes(E))||((q=(J=U.moein)==null?void 0:J.title)==null?void 0:q.toLowerCase().includes(E))||((Y=(L=U.tafsili)==null?void 0:L.title)==null?void 0:Y.toLowerCase().includes(E))});return D||O});r(T)},w=()=>{i(null),l(null),h(""),e([]),r([])},v=n.reduce((_,E)=>{var T;return _+(((T=E.financial_entries)==null?void 0:T.reduce((N,D)=>N+(Number(D.bed)||0),0))||0)},0),x=n.reduce((_,E)=>{var T;return _+(((T=E.financial_entries)==null?void 0:T.reduce((N,D)=>N+(Number(D.bes)||0),0))||0)},0);return a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsx("h4",{className:"mb-4 font-size-18 fw-bold",children:" "}),a.jsx(dt,{children:a.jsxs(ht,{children:[a.jsxs(ge,{className:"mb-4 gy-3 bg-light p-3 rounded align-items-end",children:[a.jsxs($,{md:3,children:[a.jsx(X,{children:" "}),a.jsx("div",{style:{direction:"rtl"},children:a.jsx(Gs,{value:s,onChange:p(i)})})]}),a.jsxs($,{md:3,children:[a.jsx(X,{children:" "}),a.jsx("div",{style:{direction:"rtl"},children:a.jsx(Gs,{value:o,onChange:p(l)})})]}),a.jsx($,{md:2,children:a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(me,{color:"primary",className:"flex-grow-1",onClick:m,disabled:c,children:c?a.jsx(pn,{size:"sm"}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bx bx-search-alt me-1"})," "]})}),a.jsx(me,{color:"secondary",outline:!0,onClick:w,title:" ",children:a.jsx("i",{className:"bx bx-refresh"})})]})}),a.jsxs($,{md:4,children:[a.jsx(X,{children:"  "}),a.jsx(re,{placeholder:"     ...",value:d,onChange:y})]})]}),n.length>0&&a.jsx(ge,{className:"mb-3",children:a.jsx($,{children:a.jsxs("div",{className:"d-flex gap-4 justify-content-end",children:[a.jsxs(ut,{color:"light",className:"text-dark p-2 font-size-12",children:[" : ",a.jsx("strong",{children:n.length})]}),a.jsxs(ut,{color:"success",className:"p-2 font-size-12",children:[" : ",a.jsx("strong",{children:Bn(v)})]}),a.jsxs(ut,{color:"danger",className:"p-2 font-size-12",children:[" : ",a.jsx("strong",{children:Bn(x)})]})]})})}),a.jsx("div",{className:"table-responsive",children:a.jsxs(Mn,{bordered:!0,hover:!0,className:"text-center font-size-13 align-middle mb-0",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"120px"},children:" "}),a.jsx("th",{style:{width:"80px"},children:" "}),a.jsx("th",{children:"  /  "}),a.jsx("th",{style:{width:"130px"},children:""}),a.jsx("th",{style:{width:"130px"},children:""})]})}),a.jsx("tbody",{children:n.length>0?n.map(_=>{var E,T,N;return a.jsxs(oe.Fragment,{children:[(E=_.financial_entries)==null?void 0:E.map((D,O)=>{var F,V;return a.jsxs("tr",{children:[O===0&&a.jsxs("td",{rowSpan:_.financial_entries.length+1,className:"bg-light fw-bold align-top pt-3 border-bottom-0",style:{verticalAlign:"top"},children:[a.jsx("div",{className:"mb-1",children:a.jsxs(ut,{color:"primary",className:"font-size-12",children:[" #",_.id]})}),a.jsx("div",{className:"text-muted font-size-11 mb-2",children:Ci(_.doc_date)}),_.manual_no&&a.jsxs(ut,{color:"info",className:"font-size-10",children:[": ",_.manual_no]}),_.description&&a.jsx("div",{className:"text-muted font-size-10 mt-2",style:{maxWidth:"100px"},children:_.description})]}),a.jsx("td",{className:"font-monospace",children:(F=D.moein)==null?void 0:F.code}),a.jsxs("td",{className:"text-start",children:[a.jsx("span",{className:"fw-bold text-primary",children:(V=D.moein)==null?void 0:V.title}),D.tafsili&&a.jsxs("span",{className:"text-dark ms-1",children:["(",D.tafsili.title,")"]}),D.description&&a.jsx("div",{className:"text-muted font-size-11 mt-1",children:D.description})]}),a.jsx("td",{className:"text-success fw-bold",children:Number(D.bed)>0?Bn(D.bed):""}),a.jsx("td",{className:"text-danger fw-bold",children:Number(D.bes)>0?Bn(D.bes):""})]},D.id)}),a.jsxs("tr",{className:"table-secondary",style:{borderTop:"2px solid #6c757d"},children:[a.jsx("td",{colSpan:"2",className:"text-end fw-bold text-dark py-2",children:" :"}),a.jsx("td",{className:"fw-bold text-success py-2",children:Bn((T=_.financial_entries)==null?void 0:T.reduce((D,O)=>D+(Number(O.bed)||0),0))}),a.jsx("td",{className:"fw-bold text-danger py-2",children:Bn((N=_.financial_entries)==null?void 0:N.reduce((D,O)=>D+(Number(O.bes)||0),0))})]})]},_.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"py-5 text-muted",children:c?a.jsxs(a.Fragment,{children:[a.jsx(pn,{size:"sm",className:"me-2"}),"    ..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bx bx-search-alt font-size-24 d-block mb-2"}),"          "]})})})}),n.length>0&&a.jsx("tfoot",{children:a.jsxs("tr",{className:"table-dark fw-bold font-size-14",children:[a.jsx("td",{colSpan:"3",className:"text-end py-3",children:"  :"}),a.jsx("td",{className:"text-success py-3",children:Bn(v)}),a.jsx("td",{className:"text-warning py-3",children:Bn(x)})]})})]})})]})})]})})}function $qe(){const[t,e]=C.useState([]),[n,r]=C.useState([]),[s,i]=C.useState(""),[o,l]=C.useState(!0),[c,u]=C.useState(!1),[d,h]=C.useState([]),[m,p]=C.useState(null),[y,w]=C.useState(!1);C.useEffect(()=>{Dqe().then(E=>{e(E),r(E)}).catch(E=>{console.error(E)}).finally(()=>{l(!1)})},[]);const v=E=>{const T=E.target.value.toLowerCase();i(T);const N=t.filter(D=>{var O;return D.title.toLowerCase().includes(T)||((O=D.code)==null?void 0:O.includes(T))});r(N)},x=async E=>{p(E),u(!0),w(!0),h([]);try{const T=await cse(E.id);h(T)}catch(T){console.error("Error fetching ledger:",T)}finally{w(!1)}};let _=0;return a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsx("h4",{className:"fw-bold mb-4 font-size-18",children:"    "}),a.jsx(dt,{children:a.jsxs(ht,{children:[a.jsx(ge,{className:"mb-4",children:a.jsx($,{md:4,children:a.jsx("div",{className:"search-box",children:a.jsxs("div",{className:"position-relative",children:[a.jsx(re,{className:"form-control",placeholder:"    ...",value:s,onChange:v}),a.jsx("i",{className:"bx bx-search-alt search-icon"})]})})})}),o?a.jsx("div",{className:"text-center py-5",children:a.jsx(pn,{color:"primary"})}):a.jsxs(Mn,{hover:!0,responsive:!0,className:"align-middle text-center border table-striped",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:""}),a.jsx("th",{children:"  "}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:""})," "]})}),a.jsxs("tbody",{children:[n.map(E=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx(ut,{color:"light",className:"text-dark",children:E.code})}),a.jsx("td",{className:"fw-bold text-start",children:E.title}),a.jsx("td",{className:"text-muted",children:Bn(E.totalBed)}),a.jsx("td",{className:"text-muted",children:Bn(E.totalBes)}),a.jsx("td",{className:"fw-bold font-size-15",style:{color:E.balance>0?"#198754":E.balance<0?"#dc3545":"black"},children:Bn(Math.abs(E.balance))}),a.jsx("td",{children:a.jsx(ut,{className:"font-size-11 p-2",color:E.balance>0?"success":E.balance<0?"danger":"secondary",children:E.status})}),a.jsx("td",{children:a.jsxs(me,{color:"primary",size:"sm",outline:!0,onClick:()=>x(E),title:"   ",children:[a.jsx("i",{className:"bx bx-list-ul me-1"})," "]})})]},E.id)),n.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"py-5 text-muted",children:"  "})})]})]})]})}),a.jsxs(zs,{isOpen:c,toggle:()=>u(!c),size:"xl",centered:!0,children:[a.jsxs(Ui,{toggle:()=>u(!c),children:[a.jsx("i",{className:"bx bx-history me-2 text-primary"}),"  : ",a.jsx("span",{className:"fw-bold text-dark ms-2",children:m==null?void 0:m.title})]}),a.jsx(Ni,{children:y?a.jsxs("div",{className:"text-center py-5",children:[a.jsx(pn,{color:"primary"})," ",a.jsx("p",{className:"mt-2",children:"   ..."})]}):a.jsx("div",{className:"table-responsive",children:a.jsxs(Mn,{bordered:!0,hover:!0,className:"text-center align-middle font-size-13 mb-0",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:"#"}),a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:d.length>0?d.map((E,T)=>{var O,F;const N=Number(E.bed)||0,D=Number(E.bes)||0;return _+=N-D,a.jsxs("tr",{children:[a.jsx("td",{children:T+1}),a.jsx("td",{children:Ci((O=E.document)==null?void 0:O.doc_date)}),a.jsx("td",{children:a.jsx(ut,{color:"light",className:"text-dark",children:(F=E.document)==null?void 0:F.id})}),a.jsx("td",{className:"text-start",style:{maxWidth:"350px"},children:E.description}),a.jsx("td",{className:"text-success",children:N>0?Bn(N):"-"}),a.jsx("td",{className:"text-danger",children:D>0?Bn(D):"-"}),a.jsx("td",{className:"fw-bold bg-light",children:Bn(Math.abs(_))}),a.jsx("td",{children:_>0?a.jsx("span",{className:"text-success",children:""}):_<0?a.jsx("span",{className:"text-danger",children:""}):"-"})]},E.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"py-4 text-muted",children:"       ."})})}),d.length>0&&a.jsx("tfoot",{children:a.jsxs("tr",{className:"table-secondary fw-bold",children:[a.jsx("td",{colSpan:"4",className:"text-end",children:" :"}),a.jsx("td",{className:"text-success",children:Bn(d.reduce((E,T)=>E+(T.bed||0),0))}),a.jsx("td",{className:"text-danger",children:Bn(d.reduce((E,T)=>E+(T.bes||0),0))}),a.jsx("td",{className:"text-primary font-size-15",children:Bn(Math.abs(_))}),a.jsx("td",{children:_>0?"":_<0?"":"-"})]})})]})})}),a.jsx(ro,{children:a.jsx(me,{color:"secondary",onClick:()=>u(!1),children:""})})]})]})})}function L8(){const[t,e]=C.useState([]),[n,r]=C.useState(null),[s,i]=C.useState([]),[o,l]=C.useState(!1);C.useEffect(()=>{(async()=>{try{const h=await UA(),m=await xb(),p=await k0(),{data:y}=await fe.from("treasury_pos").select("id, title, terminal_id, tafsili_id, treasury_banks(bank_name)").order("id",{ascending:!1}),w=[{label:"   ",options:h.map(v=>({value:v.id,label:`${v.code} - ${v.title}`}))},{label:" ",options:m.map(v=>{var x;return{value:v.tafsili_id||((x=v.accounting_tafsili)==null?void 0:x.id),label:`${v.bank_name} - ${v.account_no}`}}).filter(v=>v.value)},{label:"  POS",options:(y||[]).map(v=>{var x;return{value:v.tafsili_id,label:`${v.title||((x=v.treasury_banks)==null?void 0:x.bank_name)} -  ${v.terminal_id}`}}).filter(v=>v.value)},{label:" ",options:p.map(v=>{var x;return{value:v.tafsili_id||((x=v.accounting_tafsili)==null?void 0:x.id),label:v.title}}).filter(v=>v.value)}];e(w)}catch(h){console.error(h)}})()},[]);const c=async()=>{if(n){l(!0);try{const d=await cse(n.value);i(d)}finally{l(!1)}}};let u=0;return a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsx("h4",{className:"mb-4 fw-bold font-size-18",children:"    (/)"}),a.jsx(dt,{children:a.jsxs(ht,{children:[a.jsxs(ge,{className:"align-items-end mb-4 bg-light p-3 rounded",children:[a.jsxs($,{md:5,children:[a.jsx(X,{children:"  (   POS  )"}),a.jsx(ts,{options:t,onChange:r,placeholder:" ...",noOptionsMessage:()=>"  "})]}),a.jsx($,{md:2,children:a.jsx(me,{color:"primary",className:"w-100",onClick:c,disabled:o||!n,children:o?a.jsx(pn,{size:"sm"}):" "})})]}),a.jsxs(Mn,{bordered:!0,hover:!0,responsive:!0,className:"text-center font-size-13 align-middle",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:s.length>0?s.map(d=>{var p,y;const h=Number(d.bed)||0,m=Number(d.bes)||0;return u+=h-m,a.jsxs("tr",{children:[a.jsx("td",{children:Ci((p=d.document)==null?void 0:p.doc_date)}),a.jsx("td",{children:a.jsx(ut,{color:"light",className:"text-dark",children:(y=d.document)==null?void 0:y.id})}),a.jsx("td",{className:"text-start",style:{maxWidth:"300px"},children:d.description}),a.jsx("td",{className:"text-success",children:h>0?Bn(h):"-"}),a.jsx("td",{className:"text-danger",children:m>0?Bn(m):"-"}),a.jsx("td",{className:"fw-bold bg-light",children:Bn(Math.abs(u))}),a.jsx("td",{children:u>0?a.jsx(ut,{color:"success",children:""}):u<0?a.jsx(ut,{color:"danger",children:""}):a.jsx(ut,{color:"secondary",children:""})})]},d.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"py-5 text-muted",children:n?"     .":"      ."})})}),s.length>0&&a.jsx("tfoot",{children:a.jsxs("tr",{className:"table-secondary fw-bold",children:[a.jsx("td",{colSpan:"3",className:"text-end",children:" :"}),a.jsx("td",{className:"text-success",children:Bn(s.reduce((d,h)=>d+(Number(h.bed)||0),0))}),a.jsx("td",{className:"text-danger",children:Bn(s.reduce((d,h)=>d+(Number(h.bes)||0),0))}),a.jsx("td",{className:"text-primary font-size-15",children:Bn(Math.abs(u))}),a.jsx("td",{children:u>0?"":u<0?"":"-"})]})})]})]})})]})})}function Fqe(){const[t,e]=C.useState(!1),[n,r]=C.useState([]),[s,i]=C.useState("detail"),[o,l]=C.useState(null),[c,u]=C.useState(null),[d,h]=C.useState(null),[m,p]=C.useState(null),[y,w]=C.useState([]),[v,x]=C.useState([]);C.useEffect(()=>{(async()=>{try{const{data:z}=await fe.from("accounting_moein").select("id, code, title").order("code");z&&w(z.map(L=>({value:L.id,label:`${L.code} - ${L.title}`})));const[U,H,J]=await Promise.allSettled([UA(),xb(),k0()]),q=[...U.status==="fulfilled"&&U.value?U.value.map(L=>({value:L.id,label:` : ${L.title}`})):[],...H.status==="fulfilled"&&H.value?H.value.map(L=>({value:L.tafsili_id,label:` : ${L.bank_name}`})):[],...J.status==="fulfilled"&&J.value?J.value.map(L=>({value:L.tafsili_id,label:` : ${L.title}`})):[]];x(q)}catch(z){console.error("    :",z)}})()},[]);const _=V=>V?V.toDate?V.toDate().toISOString().split("T")[0]:typeof V=="string"&&V.includes("T")?V.split("T")[0]:V:null,E=async(V=void 0)=>{e(!0),r([]);try{const z=V!==void 0?V:m,U=await Lqe({startDate:_(o),endDate:_(c),moeinId:d==null?void 0:d.value,tafsiliId:z==null?void 0:z.value});U&&(r(U),i(d&&!z?"summary":"detail"))}catch(z){console.error("   :",z)}finally{e(!1)}},T=C.useMemo(()=>{if(s!=="summary"||!n)return[];const V={};return n.forEach(z=>{var H;const U=(z==null?void 0:z.tafsili_id)||"unassigned";V[U]||(V[U]={id:U,name:((H=z==null?void 0:z.tafsili)==null?void 0:H.title)||(z==null?void 0:z.tafsili_title)||" ",bed:0,bes:0}),V[U].bed+=Number(z==null?void 0:z.bed)||0,V[U].bes+=Number(z==null?void 0:z.bes)||0}),Object.values(V)},[n,s]),N=C.useMemo(()=>n?n.reduce((V,z)=>({bed:V.bed+(Number(z==null?void 0:z.bed)||0),bes:V.bes+(Number(z==null?void 0:z.bes)||0)}),{bed:0,bes:0}):{bed:0,bes:0},[n]),D=()=>{const V=document.querySelector(".accounting-table");if(!V)return;const z=document.createElement("iframe");z.style.position="absolute",z.style.width="0",z.style.height="0",z.style.border="none",z.style.left="-9999px",document.body.appendChild(z);const U=z.contentWindow.document;U.open(),U.write(`
            <!DOCTYPE html>
            <html dir="rtl" lang="fa">
            <head>
                <meta charset="UTF-8">
                <title> </title>
                <style>
                    * { box-sizing: border-box; }
                    body { 
                        font-family: Tahoma, Arial, sans-serif; 
                        direction: rtl; 
                        padding: 20px;
                        margin: 0;
                        font-size: 12px;
                        line-height: 1.6;
                    }
                    .print-header {
                        text-align: center;
                        border-bottom: 2px solid #333;
                        padding-bottom: 15px;
                        margin-bottom: 20px;
                    }
                    .print-header h3 { margin: 0 0 10px 0; font-size: 18px; }
                    .print-header-info { 
                        display: flex; 
                        justify-content: space-between; 
                        font-size: 11px; 
                        color: #666; 
                    }
                    table { 
                        width: 100%; 
                        border-collapse: collapse; 
                        margin-top: 10px;
                    }
                    th, td { 
                        border: 1px solid #333; 
                        padding: 8px 6px; 
                        text-align: center;
                    }
                    th { 
                        background: #e9ecef; 
                        font-weight: bold;
                    }
                    tfoot td {
                        background: #343a40;
                        color: white;
                        font-weight: bold;
                    }
                    .text-start { text-align: right; }
                    .text-success { color: #198754; }
                    .text-danger { color: #dc3545; }
                    .text-warning { color: #ffc107; }
                    .text-primary { color: #0d6efd; }
                    .text-muted { color: #6c757d; }
                    .fw-bold { font-weight: bold; }
                    .bg-light { background: #f8f9fa; }
                    .badge {
                        display: inline-block;
                        padding: 2px 6px;
                        border: 1px solid #333;
                        border-radius: 3px;
                        font-size: 10px;
                    }
                    .print-footer {
                        margin-top: 30px;
                        padding-top: 15px;
                        border-top: 1px solid #ccc;
                        text-align: center;
                        font-size: 10px;
                        color: #666;
                    }
                    @media print {
                        @page { size: A4 landscape; margin: 10mm; }
                        body { padding: 0; }
                    }
                </style>
            </head>
            <body>
                <div class="print-header">
                    <h3>   </h3>
                    <div class="print-header-info">
                        <span> : ${new Date().toLocaleDateString("fa-IR")}</span>
                        <span>${(d==null?void 0:d.label)||" "}</span>
                        <span>: ${o?Ci(_(o)):"---"}  ${c?Ci(_(c)):"---"}</span>
                    </div>
                </div>
                
                ${V.outerHTML}
                
                <div class="print-footer">
                           
                </div>
            </body>
            </html>
        `),U.close(),z.onload=()=>{z.contentWindow.focus(),z.contentWindow.print(),setTimeout(()=>{document.body.removeChild(z)},1e3)}},O=async()=>{if(!n||n.length===0)return;if(!window.XLSX){const L=document.createElement("script");L.src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js",document.head.appendChild(L),await new Promise(Y=>L.onload=Y)}const V=window.XLSX;let z=[],U=[];if(s==="summary")U=["  "," "," "," ",""],T.forEach(L=>{const Y=L.bed-L.bes;z.push({"  ":L.name," ":L.bed," ":L.bes," ":Math.abs(Y),:Y>=0?"":""})}),z.push({"  ":" "," ":N.bed," ":N.bes," ":Math.abs(N.bed-N.bes),:N.bed>=N.bes?"":""});else{U=["",""," "," "," ","",""," ",""];let L=0;n.forEach((Y,ne)=>{var ve,Ue,Ae;const te=Number(Y==null?void 0:Y.bed)||0,ce=Number(Y==null?void 0:Y.bes)||0;L+=te-ce,z.push({:ne+1,:Ci(((ve=Y==null?void 0:Y.document)==null?void 0:ve.doc_date)||(Y==null?void 0:Y.doc_date))," ":((Ue=Y==null?void 0:Y.document)==null?void 0:Ue.id)||(Y==null?void 0:Y.doc_id)||""," ":((Ae=Y==null?void 0:Y.tafsili)==null?void 0:Ae.title)||(Y==null?void 0:Y.tafsili_title)||"-"," ":(Y==null?void 0:Y.description)||"",:te,:ce," ":Math.abs(L),:L>=0?"":""})}),z.push({:"",:""," ":""," ":" "," ":"",:N.bed,:N.bes," ":Math.abs(N.bed-N.bes),:N.bed>=N.bes?"":""})}const H=V.utils.json_to_sheet(z,{header:U});H["!cols"]=U.map(L=>({wch:Math.max(L.length*2,15)}));const J=V.utils.book_new();V.utils.book_append_sheet(J,H,"");const q=`--${new Date().toLocaleDateString("fa-IR").replace(/\//g,"-")}.xlsx`;V.writeFile(J,q)};let F=0;return a.jsxs("div",{className:"page-content",children:[a.jsxs(gn,{fluid:!0,children:[a.jsxs("div",{className:"d-print-none",children:[a.jsx("h4",{className:"fw-bold mb-4 font-size-18",children:"   (   )"}),a.jsx(dt,{className:"shadow-sm border-0",children:a.jsx(ht,{className:"bg-light rounded",children:a.jsxs(ge,{className:"gy-3 align-items-end",children:[a.jsxs($,{md:3,children:[a.jsx(X,{className:"fw-bold",children:" "}),a.jsx(Gs,{value:o,onChange:l})]}),a.jsxs($,{md:3,children:[a.jsx(X,{className:"fw-bold",children:" "}),a.jsx(Gs,{value:c,onChange:u})]}),a.jsxs($,{md:3,children:[a.jsx(X,{className:"fw-bold",children:" "}),a.jsx(ts,{options:y,value:d,isClearable:!0,onChange:V=>{h(V),p(null)},placeholder:" ..."})]}),a.jsxs($,{md:3,children:[a.jsx(X,{className:"fw-bold",children:" "}),a.jsx(ts,{options:v,value:m,isClearable:!0,onChange:p,placeholder:" ..."})]}),a.jsxs($,{md:12,className:"text-end border-top pt-3 mt-2",children:[a.jsx(me,{color:"secondary",outline:!0,className:"me-2",onClick:()=>{l(null),u(null),h(null),p(null),r([])},children:"  "}),a.jsx(me,{color:"primary",className:"px-5 shadow",onClick:()=>E(),disabled:t,children:t?a.jsx(pn,{size:"sm"}):" "}),a.jsxs(me,{color:"success",className:"ms-2 px-4 shadow",onClick:D,disabled:!n||n.length===0,children:[a.jsx("i",{className:"bx bx-printer me-1"})," "]}),a.jsxs(me,{color:"info",className:"ms-2 px-4 shadow",onClick:O,disabled:!n||n.length===0,children:[a.jsx("i",{className:"bx bx-spreadsheet me-1"})," "]})]})]})})})]}),a.jsxs("div",{id:"printable-area",children:[a.jsx("div",{className:"d-none d-print-block mb-4",children:a.jsxs("div",{className:"text-center border-bottom pb-3 mb-3",children:[a.jsx("h3",{className:"fw-bold mb-2",children:"   "}),a.jsxs("div",{className:"d-flex justify-content-between font-size-12 text-muted",children:[a.jsxs("span",{children:[" : ",new Date().toLocaleDateString("fa-IR")]}),a.jsx("span",{children:(d==null?void 0:d.label)||" "}),a.jsxs("span",{children:[": ",o?Ci(_(o)):"---","  ",c?Ci(_(c)):"---"]})]})]})}),t&&a.jsx("div",{className:"text-center p-5 d-print-none",children:a.jsx(pn,{color:"primary"})}),!t&&n&&n.length>0&&a.jsx(dt,{className:"mt-3 border-0 shadow-sm print-card",children:a.jsxs(ht,{children:[a.jsx("div",{className:"table-responsive",children:a.jsxs(Mn,{bordered:!0,hover:!0,className:"text-center align-middle font-size-13 accounting-table mb-0",children:[a.jsx("thead",{className:"table-light",children:s==="summary"?a.jsxs("tr",{children:[a.jsx("th",{children:"  "}),a.jsx("th",{style:{width:"150px"},children:" "}),a.jsx("th",{style:{width:"150px"},children:" "}),a.jsx("th",{style:{width:"150px"},children:" "}),a.jsx("th",{style:{width:"80px"},children:""})]}):a.jsxs("tr",{children:[a.jsx("th",{style:{width:"100px"},children:""}),a.jsx("th",{style:{width:"80px"},children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{style:{width:"130px"},children:""}),a.jsx("th",{style:{width:"130px"},children:""}),a.jsx("th",{style:{width:"140px"},children:" "})]})}),a.jsx("tbody",{children:s==="summary"?T.map((V,z)=>a.jsxs("tr",{onDoubleClick:()=>{const U=v.find(H=>H.value===V.id);U&&(p(U),E(U))},style:{cursor:"pointer"},title:"      ",className:"d-print-table-row",children:[a.jsx("td",{className:"text-start fw-bold text-primary",children:V.name}),a.jsx("td",{className:"text-success",children:Bn(V.bed)}),a.jsx("td",{className:"text-danger",children:Bn(V.bes)}),a.jsx("td",{className:"fw-bold",children:Bn(Math.abs(V.bed-V.bes))}),a.jsx("td",{children:V.bed>=V.bes?a.jsx(ut,{color:"success",children:""}):a.jsx(ut,{color:"danger",children:""})})]},`sum-${z}`)):n.map((V,z)=>{var J,q,L;const U=Number(V==null?void 0:V.bed)||0,H=Number(V==null?void 0:V.bes)||0;return F+=U-H,a.jsxs("tr",{children:[a.jsx("td",{children:Ci(((J=V==null?void 0:V.document)==null?void 0:J.doc_date)||(V==null?void 0:V.doc_date))}),a.jsx("td",{children:a.jsx(ut,{color:"light",className:"text-dark",children:((q=V==null?void 0:V.document)==null?void 0:q.id)||(V==null?void 0:V.doc_id)})}),a.jsx("td",{className:"text-start text-primary font-size-12",children:((L=V==null?void 0:V.tafsili)==null?void 0:L.title)||(V==null?void 0:V.tafsili_title)||"-"}),a.jsx("td",{className:"text-start font-size-12 text-muted",children:V==null?void 0:V.description}),a.jsx("td",{className:"text-success fw-bold",children:U>0?Bn(U):"-"}),a.jsx("td",{className:"text-danger fw-bold",children:H>0?Bn(H):"-"}),a.jsxs("td",{className:"fw-bold bg-light",children:[Bn(Math.abs(F)),a.jsx("small",{className:"ms-1 text-muted",children:F>=0?"":""})]})]},(V==null?void 0:V.id)||z)})}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"table-dark fw-bold",children:[a.jsx("td",{colSpan:s==="summary"?1:4,className:"text-end py-3",children:" :"}),a.jsx("td",{className:"py-3 text-success",children:Bn(N.bed)}),a.jsx("td",{className:"py-3 text-warning",children:Bn(N.bes)}),a.jsxs("td",{className:"py-3",colSpan:s==="summary"?2:1,children:[Bn(Math.abs(N.bed-N.bes)),a.jsxs("span",{className:"ms-1",children:["(",N.bed>=N.bes?"":"",")"]})]})]})})]})}),s==="summary"&&a.jsxs("div",{className:"text-muted font-size-12 mt-2 d-print-none",children:[a.jsx("i",{className:"bx bx-info-circle me-1"}),"         ",a.jsx("b",{children:" "})," ."]})]})}),!t&&(!n||n.length===0)&&a.jsxs("div",{className:"text-center py-5 border rounded bg-white shadow-sm mt-3 d-print-none",children:[a.jsx("i",{className:"bx bx-search-alt display-4 text-muted mb-3"}),a.jsx("p",{className:"text-muted",children:"        "})]}),a.jsx("div",{className:"d-none d-print-block mt-4 pt-3 border-top text-center font-size-11 text-muted",children:"       "})]})]}),a.jsx("style",{children:`
                @media print {
                    @page { 
                        size: A4 landscape; 
                        margin: 8mm; 
                    }
                    
                    /*       */
                    .vertical-menu,
                    .navbar-header,
                    .page-title-box,
                    footer,
                    #side-menu,
                    .sidebar,
                    .left-side-menu,
                    nav { 
                        display: none !important; 
                    }
                    
                    /*    */
                    .d-print-none { 
                        display: none !important; 
                    }
                    
                    /*      */
                    .d-none.d-print-block { 
                        display: block !important; 
                    }
                    
                    /*   */
                    .page-content {
                        margin: 0 !important;
                        padding: 0 !important;
                    }
                    
                    #printable-area {
                        width: 100% !important;
                        padding: 0 !important;
                    }
                    
                    /*   */
                    .accounting-table {
                        width: 100% !important;
                        border-collapse: collapse !important;
                        font-size: 9pt !important;
                    }
                    
                    .accounting-table th,
                    .accounting-table td {
                        border: 1px solid #000 !important;
                        padding: 4px 6px !important;
                        color: #000 !important;
                    }
                    
                    .accounting-table thead th {
                        background: #ddd !important;
                        -webkit-print-color-adjust: exact !important;
                        print-color-adjust: exact !important;
                    }
                    
                    .accounting-table tfoot td {
                        background: #333 !important;
                        color: #fff !important;
                        -webkit-print-color-adjust: exact !important;
                        print-color-adjust: exact !important;
                    }
                    
                    .print-card {
                        box-shadow: none !important;
                        border: none !important;
                        margin: 0 !important;
                    }
                    
                    .card-body {
                        padding: 0 !important;
                    }
                    
                    .badge {
                        border: 1px solid #000 !important;
                        padding: 2px 4px !important;
                    }
                }
                
                .accounting-table tbody tr:hover {
                    background-color: rgba(85, 110, 230, 0.05);
                }
            `})]})}const Vqe=async()=>{try{const{data:t,error:e}=await fe.from("customers").select("id, name, mobile, tafsili_id").not("tafsili_id","is",null).order("name");if(e)throw e;return t.map(n=>({id:n.tafsili_id,title:n.name,mobile:n.mobile,original_customer_id:n.id}))}catch(t){return console.error("Error fetching rental customers:",t),[]}},Uqe=async t=>{try{const e=t.is_verified?"active":"draft",{data:n,error:r}=await fe.from("warehouse_rentals").insert([{customer_id:t.customer_id,start_date:t.start_date,monthly_rent:Number(t.monthly_rent)||0,location_name:t.location_name,rental_type:t.rental_type,rental_details:t.rental_details,description:t.description,notification_config:t.notification_config,billing_cycle:t.billing_cycle,contract_file_url:t.contract_file_url,status:e,last_invoiced_at:null,created_at:new Date().toISOString()}]).select().single();if(r)throw r;return{success:!0,data:n}}catch(e){return console.error("Create Rental Error:",e),{success:!1,error:e.message}}},Bqe=async(t={})=>{try{let e=fe.from("warehouse_rentals").select(`
                *,
                customer:accounting_tafsili(id, title)
            `).order("created_at",{ascending:!1});t.status&&(e=e.eq("status",t.status)),t.customerId&&(e=e.eq("customer_id",t.customerId));const{data:n,error:r}=await e;if(r)throw r;return n||[]}catch(e){return console.error("Error fetching rentals:",e),[]}},zqe=async(t,e)=>{try{const{error:n}=await fe.from("warehouse_rentals").update(e).eq("id",t);if(n)throw n;return{success:!0}}catch(n){return{success:!1,error:n.message}}},Wqe=async t=>{try{const{error:e}=await fe.from("warehouse_rentals").delete().eq("id",t);if(e)throw e;return{success:!0}}catch(e){return{success:!1,error:e.message}}},M8=(t,e)=>{if(!t||!e)return 0;const n=t.last_invoiced_at||t.start_date,r=new Date(n),s=new Date(e);if(r.setHours(0,0,0,0),s.setHours(0,0,0,0),s<r)return 0;const i=s.getTime()-r.getTime();let o=Math.ceil(i/(1e3*60*60*24));o===0&&(o=1);const l=(Number(t.monthly_rent)||0)/30;return Math.floor(o*l)},Gqe=async(t,e)=>{const{endDate:n,shouldGenerateInvoice:r,amount:s,customerId:i,description:o,debitDescription:l,creditDescription:c}=e;console.log(" Starting Termination Process...",{rentalId:t,amount:s});try{if(r&&s>0){const{data:d,error:h}=await fe.from("financial_documents").insert([{doc_date:n,description:o||`    #${t}`,status:"confirmed"}]).select().single();if(h)throw console.error(" Doc Header Error:",h),new Error("    : "+h.message);const m=[{doc_id:d.id,moein_id:5,tafsili_id:i,bed:s,bes:0,description:l||"    "},{doc_id:d.id,moein_id:10,tafsili_id:null,bed:0,bes:s,description:c||"   "}],{error:p}=await fe.from("financial_entries").insert(m);if(p)throw console.error(" Doc Entries Error:",p),await fe.from("financial_documents").delete().eq("id",d.id),new Error("    : "+p.message);console.log(" Entries Created Successfully.")}const{error:u}=await fe.from("warehouse_rentals").update({status:"terminated",end_date:n,last_invoiced_at:r?n:void 0}).eq("id",t);if(u)throw u;return{success:!0}}catch(u){return console.error(" Termination Error:",u),{success:!1,error:u.message}}},use="documents",Hqe=async t=>{try{if(!t)throw new Error("   ");const e=t.name.split(".").pop(),n=`contracts/${Date.now()}_${Math.random().toString(36).substring(2,9)}.${e}`,{error:r}=await fe.storage.from(use).upload(n,t,{upsert:!1});if(r)throw r;return{success:!0,path:n}}catch(e){return{success:!1,error:e.message}}},qqe=t=>{if(!t)return null;const{data:e}=fe.storage.from(use).getPublicUrl(t);return e.publicUrl},tp={types:[{value:"shed",label:""},{value:"open",label:" "},{value:"container",label:""},{value:"room",label:" / "},{value:"covered",label:" "}],billingCycles:[{value:"monthly",label:""},{value:"quarterly",label:" ( )"},{value:"6month",label:" "},{value:"yearly",label:""}],notifications:[{value:"monthly",label:""},{value:"3month",label:" "},{value:"6month",label:" "},{value:"yearly",label:""}]};function Yqe(){const[t,e]=C.useState(!1),[n,r]=C.useState([]),[s,i]=C.useState(!1),[o,l]=C.useState(!1),[c,u]=C.useState(!1),[d,h]=C.useState(!0),[m,p]=C.useState({customer:null,startDate:new Date().toISOString().slice(0,10),monthlyRent:"",locationName:"",rentalType:"shed",rentalDetails:{metrage:"",containerSize:""},description:"",notifications:[],billingCycle:"monthly",verificationCode:"",contractFile:null,manualMobile:""});C.useEffect(()=>{(async()=>{h(!0);try{const V=(await Vqe()).map(z=>({value:z.id,label:z.title,mobile:z.mobile,originalId:z.original_customer_id}));r(V)}catch(F){console.error("Error loading customers:",F),ae.error("    ")}finally{h(!1)}})()},[]);const y=O=>{p({...m,rentalType:O,rentalDetails:{metrage:"",containerSize:""}})},w=O=>{const F=m.notifications,V=F.includes(O)?F.filter(z=>z!==O):[...F,O];p({...m,notifications:V})},v=()=>{var O;return((O=m.customer)==null?void 0:O.mobile)||m.manualMobile||null},x=async()=>{if(!m.customer)return ae.warn("     .");const O=v();if(!O||O.length<10)return ae.error("   .");e(!0);try{if(c){if(!m.verificationCode)return ae.warn("   .");const F=await j4(O,m.verificationCode);F.success||F.token?(i(!0),ae.success("   .")):ae.error("   .")}else{const F=await S4(O,{owner:m.customer.label,type:" ",amount:Bn(m.monthlyRent)});F&&(F.success||F.status===200)?(u(!0),ae.info(`   ${O}  .`)):ae.error("   .")}}catch{ae.error("   .")}finally{e(!1)}},_=async O=>{const F=O.target.files[0];if(F){l(!0);try{const V=await Hqe(F);if(V.success)p({...m,contractFile:V.path}),ae.success("   .");else throw new Error(V.error)}catch{ae.error("   .")}finally{l(!1)}}},E=async O=>{if(!O&&!s)return ae.warn("     .");if(!m.customer||!m.monthlyRent)return ae.error("    .");e(!0);try{const F={customer_id:m.customer.value,start_date:m.startDate,monthly_rent:m.monthlyRent,location_name:m.locationName,rental_type:m.rentalType,rental_details:m.rentalDetails,notification_config:m.notifications,billing_cycle:m.billingCycle,contract_file_url:m.contractFile,description:m.description,is_verified:!O},V=await Uqe(F);if(V.success)ae.success(O?"  .":"  ."),p({customer:null,startDate:new Date().toISOString().slice(0,10),monthlyRent:"",locationName:"",rentalType:"shed",rentalDetails:{metrage:"",containerSize:""},description:"",notifications:[],billingCycle:"monthly",verificationCode:"",contractFile:null,manualMobile:""}),i(!1),u(!1);else throw new Error(V.error)}catch(F){ae.error(": "+F.message)}finally{e(!1)}},T=O=>{if(O){const F=O.toDate?O.toDate():new Date(O),V=F.getFullYear(),z=String(F.getMonth()+1).padStart(2,"0"),U=String(F.getDate()).padStart(2,"0");p({...m,startDate:`${V}-${z}-${U}`})}},N=()=>{var q,L,Y,ne,te;const O=((q=tp.types.find(ce=>ce.value===m.rentalType))==null?void 0:q.label)||m.rentalType,F=((L=tp.billingCycles.find(ce=>ce.value===m.billingCycle))==null?void 0:L.label)||m.billingCycle,V=Ci(new Date),z=Ci(m.startDate),U=`
            <!DOCTYPE html>
            <html dir="rtl" lang="fa">
            <head>
                <meta charset="UTF-8">
                <title> </title>
                <style>
                    @media print {
                        @page { size: A4; margin: 20mm; }
                    }
                    * { box-sizing: border-box; margin: 0; padding: 0; }
                    body {
                        font-family: 'Tahoma', 'Segoe UI', Arial, sans-serif;
                        font-size: 13px;
                        line-height: 1.8;
                        direction: rtl;
                        color: #000;
                        background: #fff;
                    }
                    .header {
                        text-align: center;
                        border-bottom: 2px solid #000;
                        padding-bottom: 10px;
                        margin-bottom: 20px;
                    }
                    .header h1 { font-size: 18px; margin-bottom: 5px; font-weight: bold; }
                    .header p { font-size: 11px; color: #444; }
                    
                    .section { margin-bottom: 20px; }
                    .section h3 {
                        font-size: 14px;
                        background: #eee;
                        padding: 5px 10px;
                        border-right: 3px solid #000;
                        margin-bottom: 10px;
                        font-weight: bold;
                        -webkit-print-color-adjust: exact; 
                        print-color-adjust: exact;
                    }
                    .section p { margin: 5px 0; text-align: justify; }
                    
                    .highlight { font-weight: bold; }
                    
                    .info-table {
                        width: 100%;
                        border-collapse: collapse;
                        margin: 10px 0;
                        font-size: 12px;
                    }
                    .info-table td {
                        padding: 6px 10px;
                        border: 1px solid #aaa;
                    }
                    .info-table td:first-child {
                        background: #f9f9f9;
                        font-weight: bold;
                        width: 130px;
                        -webkit-print-color-adjust: exact;
                        print-color-adjust: exact;
                    }
                    
                    .signatures {
                        display: flex;
                        justify-content: space-between;
                        margin-top: 50px;
                        padding: 0 40px;
                    }
                    .signature-box {
                        text-align: center;
                        width: 200px;
                    }
                    .signature-box p { font-weight: bold; margin-bottom: 60px; }
                    .signature-line {
                        border-top: 1px solid #000;
                        padding-top: 5px;
                        font-size: 11px;
                    }
                    
                    .footer {
                        position: fixed;
                        bottom: 0;
                        left: 0;
                        right: 0;
                        text-align: center;
                        font-size: 10px;
                        color: #666;
                        border-top: 1px solid #ccc;
                        padding-top: 5px;
                        padding-bottom: 0;
                        background: white;
                    }
                </style>
            </head>
            <body>
                <div class="header">
                    <h1>   </h1>
                    <p> : ${Math.floor(Math.random()*1e4)} | : ${V}</p>
                </div>

                <div class="section">
                    <h3> :  </h3>
                    <p>
                           <span class="highlight">  </span>     () 
                          / <span class="highlight">${((Y=m.customer)==null?void 0:Y.label)||".................."}</span> 
                        ${(ne=m.customer)!=null&&ne.mobile?`   ${m.customer.mobile}`:""} () 
                         .
                    </p>
                </div>

                <div class="section">
                    <h3> :   </h3>
                    <table class="info-table">
                        <tr>
                            <td> </td>
                            <td>${O}</td>
                        </tr>
                        <tr>
                            <td> </td>
                            <td>${m.locationName||"---"}</td>
                        </tr>
                        ${["shed","open","covered"].includes(m.rentalType)&&m.rentalDetails.metrage?`
                        <tr>
                            <td> </td>
                            <td>${m.rentalDetails.metrage}  </td>
                        </tr>`:""}
                        ${m.rentalType==="container"&&m.rentalDetails.containerSize?`
                        <tr>
                            <td> </td>
                            <td>${m.rentalDetails.containerSize==="20ft"?" ":" "}</td>
                        </tr>`:""}
                    </table>
                </div>

                <div class="section">
                    <h3> :    </h3>
                    <table class="info-table">
                        <tr>
                            <td> </td>
                            <td><span class="highlight">${Bn(m.monthlyRent)} </span></td>
                        </tr>
                        <tr>
                            <td>  </td>
                            <td>${z}</td>
                        </tr>
                        <tr>
                            <td> </td>
                            <td>${F}</td>
                        </tr>
                    </table>
                </div>

                <div class="section">
                    <h3> :   </h3>
                    <p>.            .</p>
                    <p>.            .</p>
                    <p>.         .</p>
                    ${m.description?`<p class="highlight" style="margin-top:10px;"> : ${m.description}</p>`:""}
                </div>

                <div class="signatures">
                    <div class="signature-box">
                        <p>   </p>
                        <div class="signature-line"> </div>
                    </div>
                    <div class="signature-box">
                        <p> </p>
                        <div class="signature-line">${((te=m.customer)==null?void 0:te.label)||""}</div>
                    </div>
                </div>

                <div class="footer">
                                . |   
                </div>
            </body>
            </html>
        `,H=document.createElement("iframe");H.style.position="fixed",H.style.right="0",H.style.bottom="0",H.style.width="0",H.style.height="0",H.style.border="0",document.body.appendChild(H);const J=H.contentWindow.document;J.open(),J.write(U),J.close(),setTimeout(()=>{H.contentWindow.focus(),H.contentWindow.print(),setTimeout(()=>{document.body.removeChild(H)},1e3)},500)},D=({label:O,mobile:F})=>a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsxs("span",{children:[" ",O]}),F&&a.jsx("span",{className:"text-success font-size-12 ms-2",children:F})]});return a.jsx("div",{className:"page-content",children:a.jsx(gn,{fluid:!0,children:a.jsxs("div",{className:"d-print-none",children:[a.jsx("h4",{className:"fw-bold mb-4 font-size-18 text-primary",children:"   "}),a.jsxs(ge,{children:[a.jsx($,{lg:8,children:a.jsx(dt,{className:"shadow-sm border-0",children:a.jsxs(ht,{children:[a.jsx(Ra,{className:"h5 text-primary border-bottom pb-2 mb-4",children:"  "}),a.jsxs(ge,{className:"gy-4",children:[a.jsxs($,{md:6,children:[a.jsx(X,{className:"fw-bold",children:" () *"}),a.jsx(ts,{options:n,value:m.customer,onChange:O=>{p({...m,customer:O,verificationCode:"",manualMobile:""}),u(!1),i(!1)},placeholder:d?"  ...":" ...",isLoading:d,formatOptionLabel:D,noOptionsMessage:()=>"  ",isClearable:!0}),m.customer&&a.jsx("div",{className:"mt-2 p-2 bg-light rounded border border-light",children:m.customer.mobile?a.jsxs("div",{className:"text-success d-flex align-items-center",children:[a.jsx("i",{className:"bx bx-check-circle me-2 font-size-16"}),a.jsxs("span",{children:[" : ",a.jsx("strong",{dir:"ltr",children:m.customer.mobile})]})]}):a.jsxs("div",{children:[a.jsx(X,{className:"text-danger small mb-1",children:"  .   :"}),a.jsx(re,{type:"tel",value:m.manualMobile,onChange:O=>p({...m,manualMobile:O.target.value}),className:"form-control-sm"})]})})]}),a.jsxs($,{md:6,children:[a.jsx(X,{className:"fw-bold",children:"  "}),a.jsx(Gs,{value:m.startDate,onChange:T})]}),a.jsxs($,{md:6,children:[a.jsx(X,{className:"fw-bold",children:"   () *"}),a.jsx(re,{type:"text",value:m.monthlyRent?Bn(m.monthlyRent):"",onChange:O=>{const F=O.target.value.replace(/,/g,"");isNaN(F)||p({...m,monthlyRent:F})},placeholder:"  ..."}),m.monthlyRent&&a.jsxs(YQ,{className:"text-info fw-bold",children:[Bn(m.monthlyRent)," "]})]}),a.jsxs($,{md:6,children:[a.jsx(X,{className:"fw-bold",children:" "}),a.jsx(re,{value:m.locationName,onChange:O=>p({...m,locationName:O.target.value}),placeholder:"  "})]})]}),a.jsx(Ra,{className:"h5 text-primary border-bottom pb-2 mt-5 mb-4",children:"   "}),a.jsxs(ge,{className:"gy-4",children:[a.jsxs($,{md:6,children:[a.jsx(X,{className:"fw-bold",children:" "}),a.jsx(re,{type:"select",value:m.rentalType,onChange:O=>y(O.target.value),children:tp.types.map(O=>a.jsx("option",{value:O.value,children:O.label},O.value))})]}),a.jsxs($,{md:6,children:[["shed","open","covered"].includes(m.rentalType)&&a.jsxs(a.Fragment,{children:[a.jsx(X,{className:"fw-bold text-danger",children:""}),a.jsx(re,{type:"number",value:m.rentalDetails.metrage,onChange:O=>p({...m,rentalDetails:{...m.rentalDetails,metrage:O.target.value}})})]}),m.rentalType==="container"&&a.jsxs(a.Fragment,{children:[a.jsx(X,{className:"fw-bold text-danger",children:" "}),a.jsxs(re,{type:"select",value:m.rentalDetails.containerSize,onChange:O=>p({...m,rentalDetails:{...m.rentalDetails,containerSize:O.target.value}}),children:[a.jsx("option",{value:"",children:"..."}),a.jsx("option",{value:"20ft",children:" "}),a.jsx("option",{value:"40ft",children:" "})]})]})]})]}),a.jsx(Ra,{className:"h5 text-primary border-bottom pb-2 mt-5 mb-4",children:""}),a.jsxs(ge,{className:"gy-4",children:[a.jsxs($,{md:6,children:[a.jsx(X,{className:"fw-bold",children:" "}),a.jsx("div",{className:"d-flex flex-wrap gap-3 mt-1",children:tp.notifications.map(O=>a.jsxs("div",{className:"form-check",children:[a.jsx(re,{type:"checkbox",className:"form-check-input",checked:m.notifications.includes(O.value),onChange:()=>w(O.value)}),a.jsx(X,{className:"form-check-label",children:O.label})]},O.value))})]}),a.jsxs($,{md:6,children:[a.jsx(X,{className:"fw-bold",children:" "}),a.jsx(re,{type:"select",value:m.billingCycle,onChange:O=>p({...m,billingCycle:O.target.value}),children:tp.billingCycles.map(O=>a.jsx("option",{value:O.value,children:O.label},O.value))})]}),a.jsxs($,{md:12,children:[a.jsx(X,{children:""}),a.jsx(re,{type:"textarea",rows:"3",value:m.description,onChange:O=>p({...m,description:O.target.value})})]})]})]})})}),a.jsx($,{lg:4,children:a.jsx(dt,{className:"shadow-sm border-primary",children:a.jsxs(ht,{children:[a.jsx(Ra,{className:"h5 fw-bold text-center mb-4",children:"  "}),a.jsxs("div",{className:"bg-light p-3 rounded mb-4 border",children:[a.jsx(X,{className:"fw-bold",children:"  "}),a.jsxs(Of,{children:[a.jsx(re,{placeholder:c?"  ...":"...",value:m.verificationCode,onChange:O=>p({...m,verificationCode:O.target.value}),disabled:!c||s,maxLength:6,className:"text-center fw-bold letter-spacing-2"}),a.jsx(me,{color:s?"success":c?"warning":"info",onClick:x,disabled:t||s||!v(),children:t?a.jsx(pn,{size:"sm"}):s?a.jsx("i",{className:"bx bx-check"}):c?"":""})]}),s&&a.jsx(kn,{color:"success",className:"p-2 mt-2 text-center small mb-0",children:" "})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx(X,{className:"fw-bold",children:" "}),a.jsx(re,{type:"file",onChange:_,accept:"image/*,.pdf"}),o&&a.jsx(pn,{size:"sm",className:"mt-2 text-primary"}),m.contractFile&&a.jsx(kn,{color:"info",className:"p-2 mt-2 small mb-0",children:"  "})]}),a.jsx("hr",{}),a.jsxs("div",{className:"d-grid gap-2",children:[a.jsx(me,{color:"success",size:"lg",onClick:()=>E(!1),disabled:t||!s,className:"shadow-sm",children:t?a.jsx(pn,{size:"sm"}):"   "}),a.jsx(me,{color:"warning",outline:!0,onClick:()=>E(!0),disabled:t,children:" "}),a.jsxs(me,{color:"secondary",outline:!0,onClick:N,className:"mt-2",children:[a.jsx("i",{className:"bx bx-printer me-1"}),"  "]})]})]})})})]})]})})})}function $8(){var q;const[t,e]=C.useState([]),[n,r]=C.useState(!0),[s,i]=C.useState(!1),[o,l]=C.useState(!1),[c,u]=C.useState(!1),[d,h]=C.useState(null),[m,p]=C.useState(!1),[y,w]=C.useState(new Date().toISOString().slice(0,10)),[v,x]=C.useState(0),[_,E]=C.useState(!0),T=async()=>{r(!0);const L=await Bqe();e(L),r(!1)};C.useEffect(()=>{T()},[]);const N=L=>{h(L);const Y=new Date().toISOString().slice(0,10);w(Y),u(!0);const ne=M8(L,Y);x(ne)},D=L=>{if(w(L),d){const Y=M8(d,L);x(Y)}},O=async()=>{var L;p(!0);try{const Y=d.last_invoiced_at||d.start_date,ne=Ci(Y),te=Ci(y),ce=d.location_name||"",ve=((L=d.customer)==null?void 0:L.title)||"",Ue=`      ${ne}   ${te}  ${ce}`,Ae=`    ${ve} ${ce}   ${ne}   ${te}`,at=await Gqe(d.id,{endDate:y,shouldGenerateInvoice:_,amount:v,customerId:d.customer_id,description:`   (  ${te})`,debitDescription:Ue,creditDescription:Ae});at.success?(ae.success("       ."),u(!1),T()):ae.error("  : "+at.error)}catch(Y){console.error(Y),ae.error(" ")}finally{p(!1)}},F=L=>{h(L),l(!0)},V=async()=>{if(!d)return;p(!0),(await Wqe(d.id)).success?(ae.success("    ."),e(t.filter(Y=>Y.id!==d.id)),l(!1)):ae.error("   ."),p(!1)},z=L=>{h({...L}),i(!0)},U=async()=>{p(!0);try{const L={monthly_rent:Number(d.monthly_rent),location_name:d.location_name,status:d.status,description:d.description,billing_cycle:d.billing_cycle};(await zqe(d.id,L)).success?(ae.success("  ."),T(),i(!1)):ae.error("  .")}catch{ae.error(" .")}finally{p(!1)}},H=L=>{switch(L){case"active":return a.jsx(ut,{color:"success",className:"p-2 font-size-12",children:" ( )"});case"draft":return a.jsx(ut,{color:"warning",className:"p-2 font-size-12",children:" ()"});case"terminated":return a.jsx(ut,{color:"danger",className:"p-2 font-size-12",children:" "});case"expired":return a.jsx(ut,{color:"secondary",className:"p-2 font-size-12",children:" "});default:return a.jsx(ut,{color:"light",className:"p-2 font-size-12",children:L})}},J=L=>{const Y=tp.types.find(ne=>ne.value===L);return Y?Y.label:L};return a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[a.jsx("h4",{className:"fw-bold font-size-18 m-0",children:"  "}),a.jsxs(Le,{to:"/rent/create",className:"btn btn-primary shadow-sm",children:[a.jsx("i",{className:"bx bx-plus me-1"}),"   "]})]}),a.jsx(dt,{className:"shadow-sm border-0",children:a.jsx(ht,{children:n?a.jsx("div",{className:"text-center py-5",children:a.jsx(pn,{color:"primary"})}):t.length===0?a.jsx("div",{className:"text-center py-5 text-muted",children:"    ."}):a.jsx("div",{className:"table-responsive",children:a.jsxs(Mn,{hover:!0,className:"align-middle table-nowrap text-center",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:" / "}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:t.map((L,Y)=>{var ne;return a.jsxs("tr",{children:[a.jsx("td",{children:Y+1}),a.jsx("td",{className:"fw-bold text-start",children:((ne=L.customer)==null?void 0:ne.title)||""}),a.jsxs("td",{children:[a.jsx("div",{className:"fw-bold text-primary",children:J(L.rental_type)}),a.jsx("small",{className:"text-muted",children:L.location_name})]}),a.jsx("td",{className:"text-success fw-bold",children:Bn(L.monthly_rent)}),a.jsx("td",{children:Ci(L.start_date)}),a.jsx("td",{className:"text-muted small",children:L.last_invoiced_at?Ci(L.last_invoiced_at):"---"}),a.jsx("td",{children:H(L.status)}),a.jsx("td",{children:a.jsxs("div",{className:"d-flex gap-2 justify-content-center",children:[L.status==="active"&&a.jsx(me,{color:"danger",outline:!0,size:"sm",onClick:()=>N(L),title:"   ",children:a.jsx("i",{className:"bx bx-stop-circle"})}),a.jsx(me,{color:"warning",size:"sm",onClick:()=>z(L),title:"",children:a.jsx("i",{className:"bx bx-edit"})}),L.contract_file_url&&a.jsx("a",{href:qqe(L.contract_file_url),rel:"noreferrer",className:"btn btn-info btn-sm",title:" ",children:a.jsx("i",{className:"bx bx-download"})}),a.jsx(me,{color:"light",size:"sm",onClick:()=>F(L),title:"",className:"text-danger",children:a.jsx("i",{className:"bx bx-trash"})})]})})]},L.id)})})]})})})}),a.jsxs(zs,{isOpen:c,toggle:()=>u(!1),centered:!0,children:[a.jsx(Ui,{className:"bg-danger text-white",children:"    "}),a.jsxs(Ni,{className:"p-4",children:[a.jsxs(kn,{color:"warning",className:"d-flex align-items-center",children:[a.jsx("i",{className:"bx bx-info-circle font-size-24 me-3"}),a.jsxs("div",{children:[a.jsx("strong",{children:":"}),'    " "        .']})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{className:"fw-bold",children:"  ( ):"}),a.jsx(Gs,{value:y,onChange:L=>(L==null?void 0:L.toDate)&&D(L.toDate().toISOString().slice(0,10))})]}),a.jsxs("div",{className:"bg-light p-3 rounded border mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[a.jsx("span",{className:"text-muted",children:"  (  ):"}),a.jsx("span",{className:"fw-bold",dir:"ltr",children:d!=null&&d.last_invoiced_at?Ci(d.last_invoiced_at):Ci(d==null?void 0:d.start_date)})]}),a.jsxs("div",{className:"d-flex justify-content-between align-items-center pt-2 border-top",children:[a.jsx("span",{className:"text-dark",children:"   ():"}),a.jsxs("span",{className:"text-success h5 mb-0 fw-bold",children:[Bn(v)," "]})]})]}),a.jsxs("div",{className:"form-check form-switch mb-3",dir:"ltr",children:[a.jsx(re,{type:"checkbox",className:"form-check-input",checked:_,onChange:L=>E(L.target.checked),id:"genInvoiceSwitch"}),a.jsx(X,{className:"form-check-label ms-2",for:"genInvoiceSwitch",children:"    (  )"})]})]}),a.jsxs(ro,{children:[a.jsx(me,{color:"secondary",onClick:()=>u(!1),children:""}),a.jsx(me,{color:"danger",onClick:O,disabled:m,children:m?a.jsx(pn,{size:"sm"}):"   "})]})]}),a.jsxs(zs,{isOpen:s,toggle:()=>i(!1),centered:!0,size:"lg",children:[a.jsx(Ui,{toggle:()=>i(!1),children:" "}),a.jsx(Ni,{children:d&&a.jsxs(ge,{className:"gy-3",children:[a.jsxs($,{md:6,children:[a.jsx(X,{children:" "}),a.jsx(re,{value:(q=d.customer)==null?void 0:q.title,disabled:!0,className:"bg-light"})]}),a.jsxs($,{md:6,children:[a.jsx(X,{children:" "}),a.jsxs(re,{type:"select",value:d.status,onChange:L=>h({...d,status:L.target.value}),children:[a.jsx("option",{value:"active",children:""}),a.jsx("option",{value:"draft",children:""}),a.jsx("option",{value:"terminated",children:" "}),a.jsx("option",{value:"expired",children:""})]})]}),a.jsxs($,{md:6,children:[a.jsx(X,{children:"  ()"}),a.jsx(re,{type:"number",value:d.monthly_rent,onChange:L=>h({...d,monthly_rent:L.target.value})})]}),a.jsxs($,{md:6,children:[a.jsx(X,{children:" "}),a.jsx(re,{value:d.location_name,onChange:L=>h({...d,location_name:L.target.value})})]}),a.jsxs($,{md:6,children:[a.jsx(X,{children:" "}),a.jsx(re,{type:"select",value:d.billing_cycle,onChange:L=>h({...d,billing_cycle:L.target.value}),children:tp.billingCycles.map(L=>a.jsx("option",{value:L.value,children:L.label},L.value))})]}),a.jsxs($,{md:12,children:[a.jsx(X,{children:""}),a.jsx(re,{type:"textarea",rows:"3",value:d.description||"",onChange:L=>h({...d,description:L.target.value})})]})]})}),a.jsxs(ro,{children:[a.jsx(me,{color:"secondary",onClick:()=>i(!1),children:""}),a.jsx(me,{color:"primary",onClick:U,disabled:m,children:m?a.jsx(pn,{size:"sm"}):" "})]})]}),a.jsxs(zs,{isOpen:o,toggle:()=>l(!1),centered:!0,size:"sm",children:[a.jsx(Ui,{className:"bg-danger text-white",children:" "}),a.jsxs(Ni,{className:"text-center p-4",children:[a.jsx("i",{className:"bx bx-error-circle display-4 text-danger mb-3"}),a.jsx("h5",{children:"  "}),a.jsx("p",{className:"text-muted",children:"    ."})]}),a.jsxs(ro,{className:"justify-content-center",children:[a.jsx(me,{color:"light",onClick:()=>l(!1),children:""}),a.jsx(me,{color:"danger",onClick:V,disabled:m,children:m?"  ...":"  "})]})]})]})})}function Kqe(){const t=as(),[e,n]=C.useState(!1),[r,s]=C.useState("receive"),[i,o]=C.useState([]),[l,c]=C.useState([]),[u,d]=C.useState([]),[h,m]=C.useState([]),[p,y]=C.useState([]),[w,v]=C.useState([]),[x,_]=C.useState([]),[E,T]=C.useState([]),[N,D]=C.useState(new Date().toISOString().slice(0,10)),[O,F]=C.useState(null),[V,z]=C.useState(""),[U,H]=C.useState(""),[J,q]=C.useState([]),[L,Y]=C.useState("cash"),[ne,te]=C.useState(""),[ce,ve]=C.useState(null),[Ue,Ae]=C.useState(""),[at,it]=C.useState(""),[Te,Tt]=C.useState(null),[ct,pt]=C.useState("issue_ours"),[vt,Ht]=C.useState({sayadi:"",no:"",bankVal:null,branchName:"",branchCode:"",accountNo:"",holder:"",date:"",desc:"",endorsement:""}),[It,Ut]=C.useState(null),[Xt,Ee]=C.useState(null),We=(A,B)=>{if(A)try{A.toDate?B(A.toDate().toISOString().slice(0,10)):B(new Date(A).toISOString().slice(0,10))}catch(se){console.error("Date Error:",se)}},Jt=A=>new Promise(B=>{if(!A.type.startsWith("image/")){B({width:null,height:null});return}const se=new Image,de=URL.createObjectURL(A);se.onload=()=>{URL.revokeObjectURL(de),B({width:se.width,height:se.height})},se.onerror=()=>{URL.revokeObjectURL(de),B({width:null,height:null})},se.src=de}),ke=async A=>{const B=A.target.files[0];if(!B)return;if(B.size>5*1024*1024){ae.error("     5  "),A.target.value="";return}if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(B.type)){ae.error("  JPG, PNG  PDF  "),A.target.value="";return}const de=B.name.split(".").pop(),we=`treasury-documents/${`treasury_${Date.now()}.${de}`}`;try{ae.info("   ...");const{data:Me,error:tt}=await fe.storage.from("media").upload(we,B,{cacheControl:"3600",upsert:!1,contentType:B.type});if(tt)throw console.error("Storage upload error:",tt),tt;const{data:Re}=fe.storage.from("media").getPublicUrl(we);let qe={width:null,height:null};B.type.startsWith("image/")&&(qe=await Jt(B)),Tt({filename:B.name,filepath:we,url:Re==null?void 0:Re.publicUrl,mimetype:B.type,size:B.size,width:qe.width,height:qe.height}),ae.success(` ${B.name}    `),A.target.value=""}catch(Me){console.error("Upload error:",Me),ae.error("   : "+(Me.message||" ")),A.target.value=""}};C.useEffect(()=>{(async()=>{try{const B=await UA();o(B.map(Re=>({value:Re.id,label:`${Re.code} - ${Re.title}`})));const se=await k0();c(se.map(Re=>({value:Re.id,label:Re.title})));const de=await xb();d(de.map(Re=>({value:Re.id,label:`${Re.bank_name} (${Re.account_no})`})));const Se=await ate();m(Se.map(Re=>({value:Re.name,label:Re.name})));const we=await ote();y(we.map(Re=>({value:Re.id,label:Re.title})));const Me=await KFe();v((Me==null?void 0:Me.map(Re=>({value:Re.id,label:`${Number(Re.amount).toLocaleString()} - ${Re.bank_name} (: ${Re.cheque_no})`,original:Re})))||[]);const tt=await YFe();_((tt==null?void 0:tt.map(Re=>{var qe,Je,nt,rt,Dt;return{value:Re.id,label:`${((qe=Re.treasury_banks)==null?void 0:qe.bank_name)||" "}${(Je=Re.treasury_banks)!=null&&Je.account_no?` - : ${Re.treasury_banks.account_no}`:""}`,bankName:((nt=Re.treasury_banks)==null?void 0:nt.bank_name)||"",accountNo:((rt=Re.treasury_banks)==null?void 0:rt.account_no)||"",branchName:((Dt=Re.treasury_banks)==null?void 0:Dt.branch_name)||"",serialStart:Re.serial_start,serialEnd:Re.serial_end,original:Re}}))||[])}catch(B){console.error("Load data error:",B),ae.error("   ")}})()},[]);const lt=async A=>{if(Ee(A),!A){T([]),Ht(B=>({...B,no:""}));return}try{const B=[];for(let Me=A.serialStart;Me<=A.serialEnd;Me++)B.push(Me);const{data:se,error:de}=await fe.from("treasury_checks").select("cheque_no").eq("checkbook_id",A.value).eq("type","issue");if(de){console.error("Error loading issued checks:",de),ae.error("    "),T([]);return}const Se=(se==null?void 0:se.map(Me=>parseInt(Me.cheque_no)))||[],we=B.filter(Me=>!Se.includes(Me));T(we.map(Me=>({value:Me.toString(),label:`: ${Me}`}))),Ht(Me=>({...Me,no:""})),we.length===0&&ae.warn("      ")}catch(B){console.error("Error in handleCheckbookChange:",B),ae.error("    "),T([])}},_e=A=>{A&&Ht(B=>({...B,no:A.value}))};C.useEffect(()=>{te(""),ve(null),Ae(""),it(""),Tt(null),Ht({sayadi:"",no:"",bankVal:null,branchName:"",branchCode:"",accountNo:"",holder:"",date:"",desc:"",endorsement:""}),Ut(null),Ee(null),T([])},[L,r]);const Q=()=>{console.log("=== handleAddItem Called ===");let A=Number(ne.replace(/,/g,""));if(r==="payment"&&L==="cheque"&&ct==="spend_customer"&&It&&(A=Number(It.original.amount)),!A||A<=0){ae.warn("   ");return}let B="";r==="payment"&&L==="cheque"&&ct==="issue_ours"&&Xt&&(B=Xt.bankName);let se={sayadi_code:vt.sayadi,cheque_no:vt.no,bank_name:r==="receive"?vt.bankVal?vt.bankVal.label:"":B,branch_name:vt.branchName,account_holder:vt.holder,due_date:vt.date,description:vt.desc,endorsement:vt.endorsement};if(r==="payment"&&ct==="spend_customer"&&It){const Se=It.original;se={sayadi_code:Se.sayadi_code||"",cheque_no:Se.cheque_no,bank_name:Se.bank_name,branch_name:Se.branch_name||"",account_holder:Se.account_holder||"",due_date:Se.due_date,description:Se.description||"",endorsement:Se.endorsement||""}}const de={id:Date.now(),method:L,amount:A,ref_id:ce?ce.value:null,ref_label:ce?ce.label:null,tracking_no:Ue,fee:at?Number(at.replace(/,/g,"")):0,attachment:Te||null,cheque_type:r==="receive"?"new_receive":ct,sayadi_code:se.sayadi_code,cheque_no:se.cheque_no,bank_name:se.bank_name,branch_name:se.branch_name,account_holder:se.account_holder,due_date:se.due_date,description:se.description,endorsement:se.endorsement,check_id:It?It.value:null,checkbook_id:Xt?Xt.value:null};if(console.log("New Item:",de),L==="cheque")if(r==="payment"&&ct==="spend_customer"){if(!It){ae.warn("     ");return}}else{if(!de.cheque_no||!de.due_date){ae.warn("      ");return}if(r==="receive"&&!de.sayadi_code){ae.warn("      ");return}if(r==="payment"&&ct==="issue_ours"&&!Xt){ae.warn("   ");return}}else if(!ce){const Se=L==="cash"?"   ":L==="pos"?"    ":L==="bank_transfer"?"    ":"   ";ae.warn(Se);return}console.log(" Validation passed, adding item to list"),q([...J,de]),ae.success("    "),te(""),it(""),Ae(""),Tt(null),ve(null),Ht({sayadi:"",no:"",bankVal:null,branchName:"",branchCode:"",accountNo:"",holder:"",date:"",desc:"",endorsement:""}),Ee(null),T([]),Ut(null),console.log("=== Item Added Successfully ===")},ee=A=>q(J.filter(B=>B.id!==A)),Z=async()=>{if(!O)return ae.warn("    ");if(J.length===0)return ae.warn("   ");n(!0);try{await QFe({type:r,date:N,person_id:O.value,description:V,manual_no:U,items:J}),ae.success("     "),t("/accounting/list")}catch(A){console.error(A),ae.error("  : "+A.message)}finally{n(!1)}},ye=J.reduce((A,B)=>A+B.amount,0),be=J.reduce((A,B)=>A+(B.fee||0),0);return a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsx("div",{className:"d-flex justify-content-center mb-4",children:a.jsxs(MQ,{className:"shadow-sm",children:[a.jsxs(me,{color:r==="receive"?"success":"light",className:"px-5 py-2",onClick:()=>s("receive"),children:[a.jsx("i",{className:"bx bx-down-arrow-alt me-1"}),"  "]}),a.jsxs(me,{color:r==="payment"?"danger":"light",className:"px-5 py-2",onClick:()=>s("payment"),children:[a.jsx("i",{className:"bx bx-up-arrow-alt me-1"}),"  "]})]})}),a.jsxs(ge,{children:[a.jsx($,{lg:12,children:a.jsx(dt,{className:"shadow-sm border-0 mb-3",style:{backgroundColor:r==="receive"?"#f0fff4":"#fff5f5"},children:a.jsx(ht,{children:a.jsxs(ge,{className:"gy-3",children:[a.jsxs($,{md:4,children:[a.jsx(X,{children:"  (/)"}),a.jsx(ts,{options:i,value:O,onChange:F,placeholder:" ..."})]}),a.jsxs($,{md:2,children:[a.jsx(X,{children:" "}),a.jsx("div",{style:{direction:"rtl"},children:a.jsx(Gs,{value:N,onChange:A=>We(A,D)})})]}),a.jsxs($,{md:6,children:[a.jsx(X,{children:" "}),a.jsx(re,{value:V,onChange:A=>z(A.target.value),placeholder:"..."})]})]})})})}),a.jsx($,{lg:12,children:a.jsx(dt,{className:"shadow-sm border-0",children:a.jsxs(ht,{children:[a.jsx(yb,{tabs:!0,className:"nav-tabs-custom mb-3",children:["cash","pos","bank_transfer","cheque"].map(A=>a.jsx(Lo,{children:a.jsx(Mo,{className:Rt({active:L===A}),onClick:()=>Y(A),style:{cursor:"pointer"},children:A==="cash"?"":A==="pos"?"":A==="bank_transfer"?"/":" "})},A))}),a.jsx("div",{className:"bg-light p-3 rounded border",children:a.jsxs(ge,{className:"gy-3",children:[a.jsxs($,{md:2,children:[a.jsx(X,{className:"fw-bold",children:" ()"}),a.jsx(re,{value:ne?Number(ne).toLocaleString():"",onChange:A=>te(A.target.value.replace(/[^0-9]/g,"")),disabled:r==="payment"&&L==="cheque"&&ct==="spend_customer",className:"fw-bold text-center border-primary"})]}),L==="cash"&&a.jsxs(a.Fragment,{children:[a.jsxs($,{md:4,children:[a.jsx(X,{children:" "}),a.jsx(ts,{options:l,value:ce,onChange:ve})]}),a.jsxs($,{md:3,children:[a.jsx(X,{children:" "}),a.jsx(re,{type:"file",onChange:ke,accept:".pdf,.jpg,.jpeg,.png"}),Te&&a.jsxs("small",{className:"text-success d-block mt-1",children:[" ",Te.filename]})]})]}),L==="pos"&&a.jsxs(a.Fragment,{children:[a.jsxs($,{md:4,children:[a.jsx(X,{children:" "}),a.jsx(ts,{options:p,value:ce,onChange:ve})]}),a.jsxs($,{md:2,children:[a.jsx(X,{children:" "}),a.jsx(re,{value:Ue,onChange:A=>Ae(A.target.value)})]}),a.jsxs($,{md:3,children:[a.jsx(X,{children:" "}),a.jsx(re,{type:"file",onChange:ke,accept:".pdf,.jpg,.jpeg,.png"}),Te&&a.jsxs("small",{className:"text-success d-block mt-1",children:[" ",Te.filename]})]})]}),L==="bank_transfer"&&a.jsxs(a.Fragment,{children:[a.jsxs($,{md:3,children:[a.jsx(X,{children:"  "}),a.jsx(ts,{options:u,value:ce,onChange:ve})]}),a.jsxs($,{md:2,children:[a.jsx(X,{children:" ()"}),a.jsx(re,{value:at?Number(at).toLocaleString():"",onChange:A=>it(A.target.value.replace(/[^0-9]/g,"")),placeholder:"0"})]}),a.jsxs($,{md:2,children:[a.jsx(X,{children:" "}),a.jsx(re,{value:Ue,onChange:A=>Ae(A.target.value)})]}),a.jsxs($,{md:3,children:[a.jsx(X,{children:"  ()"}),a.jsx(re,{type:"file",onChange:ke,accept:".pdf,.jpg,.jpeg,.png"}),Te&&a.jsxs("small",{className:"text-success d-block mt-1",children:[" ",Te.filename]})]})]}),L==="cheque"&&a.jsxs($,{md:10,children:[r==="payment"&&a.jsx("div",{className:"mb-3 pb-3 border-bottom",children:a.jsx(ge,{children:a.jsxs($,{md:12,className:"d-flex gap-4",children:[a.jsxs("div",{className:"d-flex align-items-center gap-2 p-3 border rounded cursor-pointer",style:{cursor:"pointer",backgroundColor:ct==="issue_ours"?"#e8f5e9":"#fff",borderColor:ct==="issue_ours"?"#4caf50":"#dee2e6",borderWidth:ct==="issue_ours"?"2px":"1px"},onClick:()=>pt("issue_ours"),children:[a.jsx("input",{type:"radio",name:"chequeMode",checked:ct==="issue_ours",onChange:()=>pt("issue_ours"),style:{cursor:"pointer"}}),a.jsx("label",{className:"fw-bold mb-0",style:{cursor:"pointer"},onClick:A=>{A.preventDefault(),pt("issue_ours")},children:"  "})]}),a.jsxs("div",{className:"d-flex align-items-center gap-2 p-3 border rounded cursor-pointer",style:{cursor:"pointer",backgroundColor:ct==="spend_customer"?"#e3f2fd":"#fff",borderColor:ct==="spend_customer"?"#2196f3":"#dee2e6",borderWidth:ct==="spend_customer"?"2px":"1px"},onClick:()=>pt("spend_customer"),children:[a.jsx("input",{type:"radio",name:"chequeMode",checked:ct==="spend_customer",onChange:()=>pt("spend_customer"),style:{cursor:"pointer"}}),a.jsx("label",{className:"fw-bold text-primary mb-0",style:{cursor:"pointer"},onClick:A=>{A.preventDefault(),pt("spend_customer")},children:"   (  )"})]})]})})}),(r==="receive"||r==="payment"&&ct==="issue_ours")&&a.jsx("div",{className:"p-3 border rounded bg-white",children:a.jsxs(ge,{className:"gy-3",children:[r==="payment"&&a.jsxs(a.Fragment,{children:[a.jsxs($,{md:6,children:[a.jsx(X,{className:"fw-bold text-danger",children:"  *"}),a.jsx(ts,{options:x,value:Xt,onChange:lt,placeholder:"    ..."})]}),a.jsxs($,{md:6,children:[a.jsx(X,{children:"   "}),a.jsx(ts,{options:E,onChange:_e,placeholder:Xt?"  ...":"    ",isDisabled:!Xt})]}),Xt&&a.jsx($,{md:12,children:a.jsxs("div",{className:"alert alert-info mb-0",children:[a.jsx("i",{className:"bx bx-info-circle me-2"}),": ",a.jsx("strong",{children:Xt.bankName})," |  : ",a.jsx("strong",{children:Xt.accountNo})]})})]}),a.jsxs($,{md:4,children:[a.jsxs(X,{children:["  (16 ) ",r==="receive"&&a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(re,{value:vt.sayadi,onChange:A=>Ht({...vt,sayadi:A.target.value}),maxLength:16})]}),a.jsxs($,{md:4,children:[a.jsxs(X,{className:"fw-bold",children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(re,{value:vt.no,onChange:A=>Ht({...vt,no:A.target.value}),disabled:r==="payment"&&Xt})]}),r==="receive"&&a.jsxs($,{md:4,children:[a.jsx(X,{children:" "}),a.jsx(ts,{options:h,value:vt.bankVal,onChange:A=>Ht({...vt,bankVal:A})})]}),a.jsxs($,{md:4,children:[a.jsxs(X,{className:"fw-bold",children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("div",{style:{direction:"rtl"},children:a.jsx(Gs,{value:vt.date,onChange:A=>We(A,B=>Ht(se=>({...se,date:B})))})})]}),a.jsxs($,{md:4,children:[a.jsx(X,{children:r==="receive"?"  ()":" "}),a.jsx(re,{value:vt.holder,onChange:A=>Ht({...vt,holder:A.target.value})})]}),a.jsxs($,{md:4,children:[a.jsx(X,{children:"/ "}),a.jsx(re,{value:vt.desc,onChange:A=>Ht({...vt,desc:A.target.value})})]}),a.jsxs($,{md:4,children:[a.jsx(X,{children:"  ( )"}),a.jsx(re,{type:"file",onChange:ke,accept:".pdf,.jpg,.jpeg,.png"}),Te&&a.jsxs("small",{className:"text-success d-block mt-1",children:[" ",Te.filename]})]})]})}),r==="payment"&&ct==="spend_customer"&&a.jsxs($,{md:12,children:[a.jsx(X,{className:"text-primary fw-bold",children:"    "}),a.jsx(ts,{options:w,value:It,onChange:A=>{Ut(A),te(A.original.amount.toString())},placeholder:"     ..."})]})]}),a.jsx($,{md:12,className:"text-end border-top pt-3",children:a.jsxs(me,{color:"primary",onClick:Q,className:"px-4",children:[a.jsx("i",{className:"bx bx-plus me-1"}),"    "]})})]})}),a.jsxs(Mn,{hover:!0,responsive:!0,className:"mt-4 align-middle text-center border",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:" ()"}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsxs("tbody",{children:[J.map(A=>{var de,Se;const B=((de=A.attachment)==null?void 0:de.filename)||((Se=A.attachment)==null?void 0:Se.name)||null,se=B&&B.length>15?B.substring(0,15)+"...":B;return a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx(ut,{color:A.method==="cheque"?"warning":"info",className:"p-2",children:A.method==="cash"?"":A.method==="pos"?"":A.method==="bank_transfer"?"":" "})}),a.jsx("td",{className:"text-start",children:A.cheque_no?a.jsxs("div",{children:[a.jsxs("span",{className:"fw-bold",children:[" ",A.cheque_no]}),A.bank_name&&a.jsxs(a.Fragment,{children:[" - ",A.bank_name]}),a.jsx("br",{}),a.jsxs("small",{className:"text-muted",children:[A.sayadi_code&&a.jsxs(a.Fragment,{children:[": ",A.sayadi_code," | "]}),": ",A.due_date]})]}):A.ref_label||""}),a.jsx("td",{className:"fw-bold text-dark",children:Number(A.amount).toLocaleString()}),a.jsx("td",{className:"text-danger",children:A.fee?Number(A.fee).toLocaleString():"-"}),a.jsx("td",{children:B?a.jsxs(ut,{color:"success",className:"p-2",title:B,children:[a.jsx("i",{className:"bx bx-paperclip me-1"}),se]}):a.jsx("span",{className:"text-muted",children:"-"})}),a.jsx("td",{children:a.jsx(me,{size:"sm",color:"danger",outline:!0,onClick:()=>ee(A.id),children:a.jsx("i",{className:"bx bx-trash"})})})]},A.id)}),J.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"py-4 text-muted font-italic",children:"    "})})]}),J.length>0&&a.jsx("tfoot",{children:a.jsxs("tr",{className:"table-active",children:[a.jsx("td",{colSpan:"2",className:"text-end fw-bold",children:" :"}),a.jsx("td",{className:"fw-bold text-primary fs-5",children:ye.toLocaleString()}),a.jsx("td",{className:"fw-bold text-danger",children:be>0?be.toLocaleString():"-"}),a.jsx("td",{colSpan:"2",children:""})]})})]}),a.jsx("div",{className:"text-center mt-5",children:a.jsxs(me,{color:r==="receive"?"success":"danger",size:"lg",className:"px-5 shadow-lg",onClick:Z,disabled:e||J.length===0,children:[e?a.jsx("i",{className:"bx bx-loader bx-spin me-2"}):a.jsx("i",{className:"bx bx-check-double me-2"}),r==="receive"?"     ":"     "]})})]})})})]})]})})}function Jqe(){var H,J;const[t,e]=C.useState("received"),[n,r]=C.useState([]),[s,i]=C.useState(!1),[o,l]=C.useState(!1),[c,u]=C.useState(!1),[d,h]=C.useState(null),[m,p]=C.useState(""),[y,w]=C.useState(new Date().toISOString().slice(0,10)),[v,x]=C.useState(null),[_,E]=C.useState([]),[T,N]=C.useState([]),D=q=>{if(!q)return"-";const L=new Date(q);return new Intl.DateTimeFormat("fa-IR").format(L)},O=async()=>{i(!0);try{const q=t==="received"?"receive":"issue",{data:L,error:Y}=await fe.from("treasury_checks").select(`
                    *, 
                    owner:accounting_tafsili!owner_id(title),
                    target_bank:treasury_banks!target_bank_id(bank_name, account_no)
                `).eq("type",q).order("due_date",{ascending:!0});if(Y)throw Y;r(L||[])}catch(q){ae.error("   "),console.error(q)}finally{i(!1)}},F=async()=>{try{const q=await xb();E(q.map(Y=>({value:Y.id,label:`${Y.bank_name} (${Y.account_no})`})));const L=await UA();N(L.map(Y=>({value:Y.id,label:Y.title})))}catch(q){console.error("Error fetching options",q)}};C.useEffect(()=>{O()},[t]),C.useEffect(()=>{F()},[]);const V=(q,L)=>{h(q),p(L),x(null),u(!0)},z=async()=>{if((m==="deposit"||m==="spend")&&!v)return ae.warn("    ");l(!0);try{const q=m==="clear"&&(d==null?void 0:d.status)==="deposited"?d.target_bank_id:v?v.value:null;await ZFe({checkId:d.id,operation:m,date:y,targetId:q}),ae.success("    "),u(!1),O()}catch(q){ae.error(": "+q.message)}finally{l(!1)}},U=q=>{var ne;const Y={pending:{color:"warning",text:q.type==="receive"?" ":" "},deposited:{color:"info",text:`   ${((ne=q.target_bank)==null?void 0:ne.bank_name)||""}`},cleared:{color:"success",text:" "},spent:{color:"secondary",text:" "},bounced:{color:"danger",text:""},returned:{color:"dark",text:"  "}}[q.status]||{color:"light",text:q.status};return a.jsx(ut,{color:Y.color,className:"p-2",children:Y.text})};return a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[a.jsx("h4",{className:"mb-0 font-size-18 fw-bold",children:"  "}),s&&a.jsx(pn,{size:"sm",color:"primary"})]}),a.jsx(dt,{className:"shadow-sm",children:a.jsxs(ht,{children:[a.jsxs(yb,{tabs:!0,className:"nav-tabs-custom mb-4",children:[a.jsx(Lo,{children:a.jsx(Mo,{className:Rt({active:t==="received"}),onClick:()=>e("received"),style:{cursor:"pointer"},children:"  ()"})}),a.jsx(Lo,{children:a.jsx(Mo,{className:Rt({active:t==="issued"}),onClick:()=>e("issued"),style:{cursor:"pointer"},children:"  ()"})})]}),a.jsxs(Mn,{responsive:!0,hover:!0,className:"align-middle text-center border",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:"  / "}),a.jsx("th",{children:" ()"}),a.jsx("th",{children:" ()"}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:n.length>0?n.map(q=>{var L;return a.jsxs("tr",{children:[a.jsxs("td",{className:"fw-bold",children:[q.cheque_no,a.jsx("div",{className:"small text-muted font-size-11",children:q.sayadi_code})]}),a.jsx("td",{children:Number(q.amount).toLocaleString()}),a.jsx("td",{children:D(q.due_date)}),a.jsx("td",{children:q.bank_name}),a.jsx("td",{children:((L=q.owner)==null?void 0:L.title)||"-"}),a.jsx("td",{children:U(q)}),a.jsx("td",{children:a.jsxs("div",{className:"d-flex justify-content-center gap-1",children:[t==="received"&&a.jsxs(a.Fragment,{children:[q.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx(me,{size:"sm",color:"info",outline:!0,onClick:()=>V(q,"deposit"),title:"  ",children:a.jsx("i",{className:"bx bxs-bank"})}),a.jsx(me,{size:"sm",color:"secondary",outline:!0,onClick:()=>V(q,"spend"),title:" ",children:a.jsx("i",{className:"bx bx-share"})}),a.jsx(me,{size:"sm",color:"success",outline:!0,onClick:()=>V(q,"clear"),title:" ",children:a.jsx("i",{className:"bx bx-check"})})]}),q.status==="deposited"&&a.jsxs(a.Fragment,{children:[a.jsx(me,{size:"sm",color:"success",onClick:()=>V(q,"clear"),children:" "}),a.jsx(me,{size:"sm",color:"danger",outline:!0,onClick:()=>V(q,"bounce"),children:""})]})]}),t==="issued"&&q.status==="pending"&&a.jsx(me,{size:"sm",color:"success",outline:!0,onClick:()=>V(q,"clear"),children:"  (  )"}),(q.status==="cleared"||q.status==="spent")&&a.jsx(ut,{color:"light",className:"text-muted px-2 py-1",children:" "})]})})]},q.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"text-center py-4 text-muted",children:"  "})})})]})]})}),a.jsxs(zs,{isOpen:c,toggle:()=>u(!c),centered:!0,children:[a.jsx(Ui,{toggle:()=>u(!c),className:"bg-light",children:m==="deposit"?"   ":m==="clear"?"  ":m==="spend"?"  ":" "}),a.jsxs(Ni,{children:[a.jsxs("div",{className:"alert alert-warning border-0 p-2 font-size-13 text-center mb-3",children:["  ",a.jsx("b",{children:d==null?void 0:d.cheque_no}),"   ",a.jsx("b",{children:Number(d==null?void 0:d.amount).toLocaleString()})," "]}),a.jsxs(ge,{className:"gy-3",children:[a.jsxs($,{md:12,children:[a.jsx(X,{children:"  "}),a.jsx("div",{style:{direction:"rtl"},children:a.jsx(Gs,{value:y,onChange:q=>(q==null?void 0:q.toDate)&&w(q.toDate().toISOString().slice(0,10))})})]}),m==="deposit"&&a.jsxs($,{md:12,children:[a.jsx(X,{children:"    "}),a.jsx(ts,{options:_,onChange:x,placeholder:" ..."})]}),m==="clear"&&(d==null?void 0:d.status)==="deposited"&&a.jsx($,{md:12,children:a.jsxs("div",{className:"bg-light p-3 rounded text-center border",children:[a.jsx(X,{className:"d-block text-muted small",children:"     :"}),a.jsx("strong",{className:"text-primary font-size-15",children:(H=d.target_bank)==null?void 0:H.bank_name}),a.jsx("div",{className:"small text-secondary",children:(J=d.target_bank)==null?void 0:J.account_no})]})}),m==="spend"&&a.jsxs($,{md:12,children:[a.jsx(X,{children:" "}),a.jsx(ts,{options:T,onChange:x,placeholder:" ..."})]})]})]}),a.jsxs(ro,{className:"bg-light",children:[a.jsx(me,{color:"success",onClick:z,disabled:o,className:"px-4",children:o?a.jsx(pn,{size:"sm"}):"  "}),a.jsx(me,{color:"secondary",outline:!0,onClick:()=>u(!1),children:""})]})]})]})})}function Qqe(){const t=as(),[e,n]=C.useState([]),[r,s]=C.useState(!0),[i,o]=C.useState(""),[l,c]=C.useState("all"),[u,d]=C.useState(!1),[h,m]=C.useState({id:null,date:"",description:"",manual_no:""}),[p,y]=C.useState(!1),[w,v]=C.useState(!1),[x,_]=C.useState(null),E=L=>{if(!L)return"-";try{return new Date(L).toLocaleDateString("fa-IR")}catch{return"-"}},T=L=>{if(!L)return"-";try{const Y=new Date(L);return Y.toLocaleDateString("fa-IR")+" "+Y.toLocaleTimeString("fa-IR",{hour:"2-digit",minute:"2-digit"})}catch{return"-"}},N=async()=>{s(!0);try{const L=await XFe();console.log("Treasury Documents:",L),n(L)}catch(L){console.error(L),ae.error("   : "+L.message)}finally{s(!1)}};C.useEffect(()=>{N()},[]);const D=async L=>{if(window.confirm("           .")){s(!0);try{await e4e(L),ae.success("    "),await N()}catch(Y){console.error("Delete error:",Y),ae.error("  : "+Y.message)}finally{s(!1)}}},O=L=>{m({id:L.id,date:L.doc_date,description:L.description,manual_no:L.manual_no||""}),d(!0)},F=async()=>{if(!h.description||!h.date){ae.warn("     ");return}y(!0);try{await t4e(h.id,h),ae.success("    "),d(!1),await N()}catch(L){console.error("Update error:",L),ae.error("  : "+L.message)}finally{y(!1)}},V=L=>{_(L),v(!0)},U=(()=>{let L=e;return l==="receive"?L=L.filter(Y=>{var ne;return(ne=Y.description)==null?void 0:ne.includes("")}):l==="payment"?L=L.filter(Y=>{var ne;return(ne=Y.description)==null?void 0:ne.includes("")}):l==="check"&&(L=L.filter(Y=>{var ne;return(ne=Y.description)==null?void 0:ne.includes("")})),i&&(L=L.filter(Y=>Y.description&&Y.description.toLowerCase().includes(i.toLowerCase())||Y.manual_no&&Y.manual_no.includes(i)||Y.id.toString().includes(i))),L})(),H=L=>L?L.includes("")?a.jsx(ut,{color:"success",className:"font-size-12",children:" "}):L.includes("")?a.jsx(ut,{color:"danger",className:"font-size-12",children:" "}):L.includes("")?a.jsx(ut,{color:"warning",className:"text-dark font-size-12",children:" "}):a.jsx(ut,{color:"info",className:"font-size-12",children:" "}):a.jsx(ut,{color:"secondary",className:"font-size-12",children:""}),J=L=>{if(!L)return null;const Y=L.match(/\s+([DP]\d+)/);return Y?Y[1]:null},q={total:e.length,receive:e.filter(L=>{var Y;return(Y=L.description)==null?void 0:Y.includes("")}).length,payment:e.filter(L=>{var Y;return(Y=L.description)==null?void 0:Y.includes("")}).length,check:e.filter(L=>{var Y;return(Y=L.description)==null?void 0:Y.includes("")}).length,totalReceiveAmount:e.filter(L=>{var Y;return(Y=L.description)==null?void 0:Y.includes("")}).reduce((L,Y)=>L+(Number(Y.total_amount)||0),0),totalPaymentAmount:e.filter(L=>{var Y;return(Y=L.description)==null?void 0:Y.includes("")}).reduce((L,Y)=>L+(Number(Y.total_amount)||0),0)};return a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"fw-bold font-size-18 mb-1",children:"  "}),a.jsxs("p",{className:"text-muted mb-0",children:[a.jsx("i",{className:"bx bx-file me-1"}),q.total,"   "]})]}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsxs(me,{color:"success",onClick:()=>t("/accounting/treasury-form"),children:[a.jsx("i",{className:"bx bx-plus me-1"})," / "]}),a.jsxs(me,{color:"warning",outline:!0,onClick:()=>t("/accounting/check-operations"),children:[a.jsx("i",{className:"bx bx-check-shield me-1"}),"  "]})]})]}),a.jsxs(ge,{className:"mb-4",children:[a.jsx($,{md:3,children:a.jsx(dt,{className:"mini-stats-wid shadow-sm border-0",children:a.jsx(ht,{children:a.jsxs("div",{className:"d-flex",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("p",{className:"text-muted fw-medium mb-2",children:""}),a.jsxs("h5",{className:"mb-0 text-success",children:[q.receive," "]}),a.jsxs("p",{className:"text-muted font-size-11 mb-0",children:[q.totalReceiveAmount.toLocaleString()," "]})]}),a.jsx("div",{className:"avatar-sm rounded-circle bg-success-subtle align-self-center",children:a.jsx("span",{className:"avatar-title bg-transparent",children:a.jsx("i",{className:"bx bx-down-arrow-alt font-size-24 text-success"})})})]})})})}),a.jsx($,{md:3,children:a.jsx(dt,{className:"mini-stats-wid shadow-sm border-0",children:a.jsx(ht,{children:a.jsxs("div",{className:"d-flex",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("p",{className:"text-muted fw-medium mb-2",children:""}),a.jsxs("h5",{className:"mb-0 text-danger",children:[q.payment," "]}),a.jsxs("p",{className:"text-muted font-size-11 mb-0",children:[q.totalPaymentAmount.toLocaleString()," "]})]}),a.jsx("div",{className:"avatar-sm rounded-circle bg-danger-subtle align-self-center",children:a.jsx("span",{className:"avatar-title bg-transparent",children:a.jsx("i",{className:"bx bx-up-arrow-alt font-size-24 text-danger"})})})]})})})}),a.jsx($,{md:3,children:a.jsx(dt,{className:"mini-stats-wid shadow-sm border-0",children:a.jsx(ht,{children:a.jsxs("div",{className:"d-flex",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("p",{className:"text-muted fw-medium mb-2",children:" "}),a.jsxs("h5",{className:"mb-0 text-warning",children:[q.check," "]})]}),a.jsx("div",{className:"avatar-sm rounded-circle bg-warning-subtle align-self-center",children:a.jsx("span",{className:"avatar-title bg-transparent",children:a.jsx("i",{className:"bx bx-check-shield font-size-24 text-warning"})})})]})})})}),a.jsx($,{md:3,children:a.jsx(dt,{className:"mini-stats-wid shadow-sm border-0",children:a.jsx(ht,{children:a.jsxs("div",{className:"d-flex",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("p",{className:"text-muted fw-medium mb-2",children:""}),a.jsx("h5",{className:`mb-0 ${q.totalReceiveAmount-q.totalPaymentAmount>=0?"text-success":"text-danger"}`,children:(q.totalReceiveAmount-q.totalPaymentAmount).toLocaleString()}),a.jsx("p",{className:"text-muted font-size-11 mb-0",children:""})]}),a.jsx("div",{className:"avatar-sm rounded-circle bg-primary-subtle align-self-center",children:a.jsx("span",{className:"avatar-title bg-transparent",children:a.jsx("i",{className:"bx bx-wallet font-size-24 text-primary"})})})]})})})})]}),a.jsx(dt,{className:"shadow-sm border-0",children:a.jsxs(ht,{children:[a.jsxs(ge,{className:"mb-4",children:[a.jsx($,{md:4,children:a.jsx("div",{className:"search-box",children:a.jsxs("div",{className:"position-relative",children:[a.jsx(re,{className:"form-control",placeholder:"       ...",value:i,onChange:L=>o(L.target.value)}),a.jsx("i",{className:"bx bx-search-alt search-icon"})]})})}),a.jsx($,{md:8,className:"text-end",children:a.jsxs("div",{className:"btn-group",role:"group",children:[a.jsxs(me,{color:l==="all"?"primary":"light",onClick:()=>c("all"),size:"sm",children:[" (",q.total,")"]}),a.jsxs(me,{color:l==="receive"?"success":"light",onClick:()=>c("receive"),size:"sm",children:[" (",q.receive,")"]}),a.jsxs(me,{color:l==="payment"?"danger":"light",onClick:()=>c("payment"),size:"sm",children:[" (",q.payment,")"]}),a.jsxs(me,{color:l==="check"?"warning":"light",onClick:()=>c("check"),size:"sm",children:[" (",q.check,")"]})]})})]}),r?a.jsxs("div",{className:"text-center py-5",children:[a.jsx(pn,{color:"primary"}),a.jsx("p",{className:"text-muted mt-2",children:"  ..."})]}):a.jsxs(Mn,{responsive:!0,hover:!0,className:"align-middle text-center table-nowrap border",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"70px"},children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:" ()"}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:U.length>0?U.map((L,Y)=>{const ne=J(L.description);return a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("span",{className:"text-muted",children:["#",Y+1]})}),a.jsx("td",{children:ne?a.jsx(ut,{color:"dark",className:"font-size-13 px-3 py-2",children:ne}):a.jsx("span",{className:"text-muted",children:L.id})}),a.jsx("td",{children:H(L.description)}),a.jsx("td",{className:"fw-medium",children:E(L.doc_date)}),a.jsx("td",{className:"text-start",style:{maxWidth:"300px"},children:a.jsx("div",{className:"text-truncate",title:L.description,children:L.description})}),a.jsx("td",{children:a.jsx("span",{className:"fw-bold text-dark fs-6",children:L.total_amount?Number(L.total_amount).toLocaleString():"0"})}),a.jsx("td",{children:L.manual_no?a.jsx(ut,{color:"info",className:"font-size-11",children:L.manual_no}):a.jsx("span",{className:"text-muted",children:"-"})}),a.jsx("td",{className:"font-size-11 text-muted",children:T(L.created_at)}),a.jsx("td",{children:a.jsxs(ZQ,{children:[a.jsx(eh,{tag:"button",className:"btn btn-light btn-sm",children:a.jsx("i",{className:"bx bx-dots-vertical-rounded"})}),a.jsxs(kf,{end:!0,children:[a.jsxs(sf,{onClick:()=>V(L),children:[a.jsx("i",{className:"bx bx-detail me-2 text-primary"}),""]}),a.jsxs(sf,{onClick:()=>O(L),children:[a.jsx("i",{className:"bx bx-edit me-2 text-info"}),""]}),a.jsx(sf,{divider:!0}),a.jsxs(sf,{onClick:()=>D(L.id),className:"text-danger",children:[a.jsx("i",{className:"bx bx-trash me-2"}),""]})]})]})})]},L.id)}):a.jsx("tr",{children:a.jsxs("td",{colSpan:"9",className:"text-center py-5",children:[a.jsx("i",{className:"bx bx-folder-open font-size-48 d-block mb-3 text-secondary"}),a.jsx("h5",{className:"text-muted",children:"   "}),a.jsx("p",{className:"text-muted",children:i||l!=="all"?"      ":"        "})]})})})]})]})}),a.jsxs(zs,{isOpen:u,toggle:()=>d(!u),centered:!0,children:[a.jsxs(Ui,{toggle:()=>d(!u),children:[a.jsx("i",{className:"bx bx-edit me-2"}),"   ",h.id]}),a.jsx(Ni,{children:a.jsxs(ge,{className:"gy-3",children:[a.jsxs($,{md:12,children:[a.jsxs(X,{className:"fw-bold",children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("div",{style:{direction:"rtl"},children:a.jsx(Gs,{value:h.date,onChange:L=>{L!=null&&L.toDate&&m({...h,date:L.toDate().toISOString().slice(0,10)})}})})]}),a.jsxs($,{md:12,children:[a.jsxs(X,{className:"fw-bold",children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(re,{type:"textarea",rows:"3",value:h.description,onChange:L=>m({...h,description:L.target.value}),placeholder:"     ..."})]}),a.jsxs($,{md:12,children:[a.jsx(X,{className:"fw-bold",children:"  / "}),a.jsx(re,{value:h.manual_no,onChange:L=>m({...h,manual_no:L.target.value}),placeholder:""})]}),a.jsx($,{md:12,children:a.jsxs("div",{className:"alert alert-warning p-3 mb-0",children:[a.jsx("i",{className:"bx bx-error-circle me-2"}),a.jsx("strong",{children:":"}),"              ."]})})]})}),a.jsxs(ro,{children:[a.jsx(me,{color:"primary",onClick:F,disabled:p,children:p?a.jsxs(a.Fragment,{children:[a.jsx(pn,{size:"sm",className:"me-2"}),"   ..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bx bx-check me-2"})," "]})}),a.jsx(me,{color:"secondary",outline:!0,onClick:()=>d(!1),children:""})]})]}),a.jsxs(zs,{isOpen:w,toggle:()=>v(!w),size:"lg",centered:!0,children:[a.jsxs(Ui,{toggle:()=>v(!w),children:[a.jsx("i",{className:"bx bx-detail me-2"}),"   ",x==null?void 0:x.id]}),a.jsx(Ni,{children:x&&a.jsxs("div",{children:[a.jsxs(ge,{className:"mb-3",children:[a.jsxs($,{md:6,children:[a.jsx("p",{className:"text-muted mb-1",children:" :"}),a.jsx("p",{className:"fw-bold",children:H(x.description)})]}),a.jsxs($,{md:6,children:[a.jsx("p",{className:"text-muted mb-1",children:" :"}),a.jsx("p",{className:"fw-bold",children:E(x.doc_date)})]}),a.jsxs($,{md:6,children:[a.jsx("p",{className:"text-muted mb-1",children:" :"}),a.jsxs("p",{className:"fw-bold text-primary fs-5",children:[x.total_amount?Number(x.total_amount).toLocaleString():"0"," "]})]}),a.jsxs($,{md:6,children:[a.jsx("p",{className:"text-muted mb-1",children:" :"}),a.jsx("p",{className:"fw-bold",children:x.manual_no||"-"})]}),a.jsxs($,{md:12,children:[a.jsx("p",{className:"text-muted mb-1",children:":"}),a.jsx("div",{className:"alert alert-light mb-0",children:x.description})]})]}),x.financial_entries&&x.financial_entries.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("h6",{className:"fw-bold mb-3",children:" :"}),a.jsxs(Mn,{size:"sm",bordered:!0,className:"mb-0",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:x.financial_entries.map((L,Y)=>a.jsxs("tr",{children:[a.jsx("td",{children:Y+1}),a.jsx("td",{className:"text-danger fw-bold",children:L.bed?Number(L.bed).toLocaleString():"-"}),a.jsx("td",{className:"text-success fw-bold",children:L.bes?Number(L.bes).toLocaleString():"-"})]},Y))})]})]})]})}),a.jsx(ro,{children:a.jsx(me,{color:"secondary",onClick:()=>v(!1),children:""})})]})]})})}function Zqe(){const[t,e]=C.useState("1"),[n,r]=C.useState(!1),[s,i]=C.useState([]),[o,l]=C.useState([]),[c,u]=C.useState([]),[d,h]=C.useState([]),[m,p]=C.useState([]),[y,w]=C.useState(!1),[v,x]=C.useState(""),[_,E]=C.useState({}),[T,N]=C.useState(!1),D=async()=>{r(!0);try{const U=await ate();i(U);const H=await xb();l(H);const J=await k0();u(J);const q=await ote();h(q);const L=await HFe();p(L)}catch{ae.error("   ")}finally{r(!1)}};C.useEffect(()=>{D()},[]);const O=(U="")=>{x(U),E({}),N(!1),w(!y)},F=(U,H)=>{x(H),E(U),N(!0),w(!0)},V=async()=>{try{if(v==="bank"){if(!_.bank_name||!_.account_no)return ae.warn("     ");T?(await BFe(_.id,_),ae.success("  ")):(await UFe(_),ae.success("  "))}else if(v==="cash"){if(!_.title)return ae.warn("   ");T?(await GFe(_.id,_),ae.success("  ")):(await WFe(_),ae.success("  "))}else if(v==="pos"){if(!_.title||!_.bank_id)return ae.warn("     ");await JFe(_),ae.success("  ")}else if(v==="check"){if(!_.bank_id||!_.serial_start)return ae.warn("  ");await qFe(_),ae.success("  ")}w(!1),D()}catch(U){console.error(U),ae.error("   ")}},z=async(U,H)=>{if(window.confirm("  "))try{H==="bank"&&await zFe(U),ae.success(" "),D()}catch{ae.error("  ")}};return a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsx("h4",{className:"mb-4 font-size-18 fw-bold",children:" "}),a.jsx(dt,{children:a.jsxs(ht,{children:[a.jsxs(yb,{tabs:!0,className:"nav-tabs-custom mb-4",children:[a.jsx(Lo,{children:a.jsx(Mo,{className:Rt({active:t==="1"}),onClick:()=>e("1"),style:{cursor:"pointer"},children:"1. "})}),a.jsx(Lo,{children:a.jsx(Mo,{className:Rt({active:t==="2"}),onClick:()=>e("2"),style:{cursor:"pointer"},children:"2. "})}),a.jsx(Lo,{children:a.jsx(Mo,{className:Rt({active:t==="3"}),onClick:()=>e("3"),style:{cursor:"pointer"},children:"3. "})}),a.jsx(Lo,{children:a.jsx(Mo,{className:Rt({active:t==="4"}),onClick:()=>e("4"),style:{cursor:"pointer"},children:"4. "})})]}),a.jsxs(dF,{activeTab:t,children:[a.jsxs($d,{tabId:"1",children:[a.jsx(me,{color:"primary",className:"mb-3",onClick:()=>O("bank"),children:"+   "}),a.jsxs(Mn,{bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:" "}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:o.map(U=>a.jsxs("tr",{children:[a.jsxs("td",{className:"fw-bold",children:[U.bank_name," - ",U.branch_name]}),a.jsx("td",{children:U.account_no}),a.jsx("td",{children:U.card_no}),a.jsx("td",{children:U.accounting_tafsili?a.jsxs("span",{className:"badge bg-success font-size-12",children:[U.accounting_tafsili.code," - ",U.accounting_tafsili.title]}):a.jsx("span",{className:"text-muted",children:"-"})}),a.jsx("td",{children:a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(me,{size:"sm",color:"warning",outline:!0,onClick:()=>F(U,"bank"),children:a.jsx("i",{className:"bx bx-edit"})}),a.jsx(me,{size:"sm",color:"danger",outline:!0,onClick:()=>z(U.id,"bank"),children:a.jsx("i",{className:"bx bx-trash"})})]})})]},U.id))})]})]}),a.jsxs($d,{tabId:"2",children:[a.jsx(me,{color:"primary",className:"mb-3",onClick:()=>O("cash"),children:"+  "}),a.jsxs(Mn,{bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:" "}),a.jsx("th",{children:""}),a.jsx("th",{children:" "}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:c.map(U=>a.jsxs("tr",{children:[a.jsx("td",{className:"fw-bold",children:U.title}),a.jsx("td",{children:U.keeper_name}),a.jsx("td",{children:U.accounting_tafsili?a.jsxs("span",{className:"badge bg-success font-size-12",children:[U.accounting_tafsili.code," - ",U.accounting_tafsili.title]}):a.jsx("span",{className:"text-muted",children:"-"})}),a.jsx("td",{children:a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx(me,{size:"sm",color:"warning",outline:!0,onClick:()=>F(U,"cash"),children:a.jsx("i",{className:"bx bx-edit"})}),a.jsx(me,{size:"sm",color:"danger",outline:!0,onClick:()=>z(U.id,"bank"),children:a.jsx("i",{className:"bx bx-trash"})})]})})]},U.id))})]})]}),a.jsxs($d,{tabId:"3",children:[a.jsx(me,{color:"primary",className:"mb-3",onClick:()=>O("pos"),children:"+  "}),a.jsxs(Mn,{bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:""}),a.jsx("th",{children:"  "}),a.jsx("th",{children:" "})]})}),a.jsx("tbody",{children:d.map(U=>{var H,J,q;return a.jsxs("tr",{children:[a.jsx("td",{className:"fw-bold",children:U.title}),a.jsxs("td",{children:[(H=U.treasury_banks)==null?void 0:H.bank_name," (",(J=U.treasury_banks)==null?void 0:J.account_no,")"]}),a.jsx("td",{children:a.jsx("span",{className:"badge bg-success font-size-12",children:(q=U.accounting_tafsili)==null?void 0:q.code})})]},U.id)})})]})]}),a.jsxs($d,{tabId:"4",children:[a.jsx(me,{color:"primary",className:"mb-3",onClick:()=>O("check"),children:"+  "}),a.jsxs(Mn,{bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:""}),a.jsx("th",{children:""}),a.jsx("th",{children:""})]})}),a.jsx("tbody",{children:m.map(U=>{var H;return a.jsxs("tr",{children:[a.jsx("td",{children:(H=U.treasury_banks)==null?void 0:H.bank_name}),a.jsxs("td",{children:[U.serial_start,"  ",U.serial_end]}),a.jsx("td",{children:U.status})]},U.id)})})]})]})]})]})}),a.jsxs(zs,{isOpen:y,toggle:()=>w(!y),centered:!0,children:[a.jsx(Ui,{toggle:()=>w(!y),children:T?" ":"  "}),a.jsx(Ni,{children:a.jsxs(ge,{className:"gy-3",children:[v==="bank"&&a.jsxs(a.Fragment,{children:[a.jsxs($,{md:6,children:[a.jsxs(X,{children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs(re,{type:"select",value:_.bank_name||"",onChange:U=>E({..._,bank_name:U.target.value}),children:[a.jsx("option",{value:"",children:" ..."}),s.map(U=>a.jsx("option",{value:U.name,children:U.name},U.id))]})]}),a.jsxs($,{md:6,children:[a.jsx(X,{children:" "}),a.jsx(re,{value:_.branch_name||"",onChange:U=>E({..._,branch_name:U.target.value})})]}),a.jsxs($,{md:12,children:[a.jsxs(X,{children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(re,{value:_.account_no||"",onChange:U=>E({..._,account_no:U.target.value})})]}),a.jsxs($,{md:12,children:[a.jsx(X,{children:" "}),a.jsx(re,{value:_.card_no||"",onChange:U=>E({..._,card_no:U.target.value})})]}),a.jsxs($,{md:12,children:[a.jsx(X,{children:" "}),a.jsx(re,{value:_.sheba_no||"",onChange:U=>E({..._,sheba_no:U.target.value}),placeholder:"IR..."})]})]}),v==="cash"&&a.jsxs(a.Fragment,{children:[a.jsxs($,{md:12,children:[a.jsxs(X,{children:["  ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(re,{value:_.title||"",onChange:U=>E({..._,title:U.target.value}),placeholder:"  "})]}),a.jsxs($,{md:12,children:[a.jsx(X,{children:" "}),a.jsx(re,{value:_.keeper_name||"",onChange:U=>E({..._,keeper_name:U.target.value})})]})]}),v==="pos"&&a.jsxs(a.Fragment,{children:[a.jsxs($,{md:12,children:[a.jsx(X,{children:" "}),a.jsx(re,{value:_.title||"",onChange:U=>E({..._,title:U.target.value})})]}),a.jsxs($,{md:12,children:[a.jsx(X,{children:"   "}),a.jsxs(re,{type:"select",onChange:U=>E({..._,bank_id:U.target.value}),children:[a.jsx("option",{value:"",children:" ..."}),o.map(U=>a.jsxs("option",{value:U.id,children:[U.bank_name," - ",U.account_no]},U.id))]})]}),a.jsxs($,{md:12,children:[a.jsx(X,{children:" "}),a.jsx(re,{value:_.terminal_id||"",onChange:U=>E({..._,terminal_id:U.target.value})})]})]}),v==="check"&&a.jsxs(a.Fragment,{children:[a.jsxs($,{md:12,children:[a.jsx(X,{children:" "}),a.jsxs(re,{type:"select",onChange:U=>E({..._,bank_id:U.target.value}),children:[a.jsx("option",{value:"",children:" ..."}),o.map(U=>a.jsxs("option",{value:U.id,children:[U.bank_name," - ",U.account_no]},U.id))]})]}),a.jsxs($,{md:6,children:[a.jsx(X,{children:" "}),a.jsx(re,{type:"number",value:_.serial_start||"",onChange:U=>E({..._,serial_start:U.target.value})})]}),a.jsxs($,{md:6,children:[a.jsx(X,{children:" "}),a.jsx(re,{type:"number",value:_.serial_end||"",onChange:U=>E({..._,serial_end:U.target.value})})]})]})]})}),a.jsxs(ro,{children:[a.jsx(me,{color:"success",onClick:V,children:T?"  ":""}),a.jsx(me,{color:"secondary",onClick:()=>w(!y),children:""})]})]})]})})}const dse="/assets/profile-img-CRd73P5u.png",V0="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2022.0.1,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20225%20225'%20style='enable-background:new%200%200%20225%20225;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:none;stroke:%23000000;stroke-width:20;stroke-linecap:round;stroke-miterlimit:3;}%20%3c/style%3e%3cg%20transform='matrix(%201,%200,%200,%201,%200,0)%20'%3e%3cg%3e%3cpath%20id='Layer0_0_1_STROKES'%20class='st0'%20d='M173.8,151.5l13.6-13.6%20M35.4,89.9l29.1-29%20M89.4,34.9v1%20M137.4,187.9l-0.6-0.4%20M36.6,138.7l0.2-0.2%20M56.1,169.1l27.7-27.6%20M63.8,111.5l74.3-74.4%20M87.1,188.1L187.6,87.6%20M110.8,114.5l57.8-57.8'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Xqe=t=>{if(!t)return"";let e=t.toString().trim();return e.startsWith("09")?"+98"+e.substring(1):e.startsWith("00")?"+"+e.substring(2):e.startsWith("+")?e:"+98"+e},e7e=t=>{if(!t)return"";let e=t.toString().trim();return e.startsWith("+98")?"0"+e.substring(3):e},t7e=()=>{document.title="  |  ";const t=Qf(),[e,n]=C.useState(1),[r,s]=C.useState(!1),[i,o]=C.useState(""),[l,c]=C.useState(""),[u,d]=C.useState(""),[h,m]=C.useState(""),[p,y]=C.useState(0);C.useEffect(()=>{let E=null;return p>0&&(E=setInterval(()=>y(T=>T-1),1e3)),()=>clearInterval(E)},[p]);const w=Yo({initialValues:{mobile:""},validationSchema:Ma({mobile:An().required("   ")}),onSubmit:async E=>{s(!0),o("");const T=E.mobile.trim(),N=Xqe(T);try{console.log(` Sending OTP to: ${N}`);const{error:D}=await fe.auth.signInWithOtp({phone:N});if(D)throw D.message.includes("Signups not allowed")?new Error("  ."):D;d(T),m(N),n(2),y(120),c("   .")}catch(D){console.error("OTP Error:",D),o(D.message||"   .")}finally{s(!1)}}}),v=Yo({initialValues:{otp:""},validationSchema:Ma({otp:An().required("    ").min(6,"   ")}),onSubmit:async E=>{var T;s(!0),o(""),c("");try{console.log(" Verifying OTP...");const{data:N,error:D}=await fe.auth.verifyOtp({phone:h,token:E.otp,type:"sms"});if(D)throw D;if(!N.session)throw new Error("   .");console.log(" Auth Verified. Searching in DB...");let O=null,{data:F}=await fe.from("members").select("*").eq("mobile",u).maybeSingle();if(F&&(O=F),!O){const U=e7e(h);let{data:H}=await fe.from("members").select("*").eq("mobile",U).maybeSingle();H&&(O=H)}if(!O)throw new Error("      .");if(O.member_status!=="active")throw new Error("    .");console.log(" Member Found:",O);const V={id:O.id,email:O.email||"user@local.com",phone:O.mobile,role:O.role,member_details:O,permissions:O.permissions||[]};localStorage.setItem("user",JSON.stringify(V)),localStorage.setItem("authUser",JSON.stringify(V));const z=(T=N.session)==null?void 0:T.access_token;if(z)localStorage.setItem("token",z),console.log(" Real Token Saved Successfully");else throw console.warn(" No access token found inside session object!"),new Error("    ");try{t&&t(ov(V))}catch{console.warn("Redux Dispatch Skipped")}c(" !   ..."),setTimeout(()=>{window.location.assign("/dashboard")},500)}catch(N){console.error("Login Error:",N),o(N.message||"      .")}finally{s(!1)}}}),x=()=>{n(1),o(""),c(""),v.resetForm()},_=()=>{w.handleSubmit()};return a.jsx(oe.Fragment,{children:a.jsx("div",{className:"account-pages my-5 pt-sm-5",children:a.jsx(gn,{children:a.jsx(ge,{className:"justify-content-center",children:a.jsx($,{md:8,lg:6,xl:5,children:a.jsxs(dt,{className:"overflow-hidden",children:[a.jsx("div",{className:"bg-primary-subtle",children:a.jsxs(ge,{children:[a.jsx($,{xs:7,children:a.jsxs("div",{className:"text-primary p-4",children:[a.jsx("h5",{className:"text-primary",children:" !"}),a.jsx("p",{children:"     (SMS)"})]})}),a.jsx($,{xs:5,className:"align-self-end",children:a.jsx("img",{src:dse,alt:"",className:"img-fluid"})})]})}),a.jsxs(ht,{className:"pt-0",children:[a.jsx("div",{className:"auth-logo",children:a.jsx(Le,{to:"/",className:"auth-logo-light",children:a.jsx("div",{className:"avatar-md profile-user-wid mb-4",children:a.jsx("span",{className:"avatar-title rounded-circle bg-light",children:a.jsx("img",{src:V0,alt:"",className:"rounded-circle",height:"34"})})})})}),a.jsxs("div",{className:"p-2",children:[i&&a.jsx(kn,{color:"danger",children:i}),l&&a.jsx(kn,{color:"success",children:l}),e===1&&a.jsxs(oo,{className:"form-horizontal",onSubmit:E=>{E.preventDefault(),w.handleSubmit()},children:[a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{className:"form-label",children:" "}),a.jsx(re,{name:"mobile",className:"form-control",placeholder:": 0912...",dir:"ltr",onChange:w.handleChange,onBlur:w.handleBlur,value:w.values.mobile,invalid:!!(w.touched.mobile&&w.errors.mobile),disabled:r}),w.touched.mobile&&w.errors.mobile&&a.jsx(Kt,{children:w.errors.mobile})]}),a.jsx("div",{className:"mt-3 d-grid",children:a.jsx(me,{color:"primary",type:"submit",disabled:r,children:r?a.jsx(pn,{size:"sm"}):"  "})})]}),e===2&&a.jsxs(oo,{className:"form-horizontal",onSubmit:E=>{E.preventDefault(),v.handleSubmit()},children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsxs("p",{className:"text-muted",children:["    ",a.jsx("b",{children:u})]}),a.jsx(me,{color:"link",size:"sm",onClick:x,className:"p-0",children:"( )"})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{className:"form-label",children:"  (OTP)"}),a.jsx(re,{name:"otp",className:"form-control text-center font-size-18 tracking-widest",placeholder:"- - - - - -",maxLength:6,dir:"ltr",autoComplete:"one-time-code",onChange:v.handleChange,onBlur:v.handleBlur,value:v.values.otp,invalid:!!(v.touched.otp&&v.errors.otp),disabled:r}),v.touched.otp&&v.errors.otp&&a.jsx(Kt,{children:v.errors.otp})]}),a.jsx("div",{className:"mt-3 d-grid",children:a.jsx(me,{color:"success",type:"submit",disabled:r,children:r?a.jsx(pn,{size:"sm"}):"  "})}),a.jsx("div",{className:"mt-4 text-center",children:p>0?a.jsxs("p",{className:"text-muted font-size-12",children:["   ",p,"  "]}):a.jsx(me,{color:"link",onClick:_,children:"  "})})]})]})]})]})})})})})})},lN="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2022.0.1,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20225%20225'%20style='enable-background:new%200%200%20225%20225;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:none;stroke:%23ffffff;stroke-width:20;stroke-linecap:round;stroke-miterlimit:3;}%20%3c/style%3e%3cg%20transform='matrix(%201,%200,%200,%201,%200,0)%20'%3e%3cg%3e%3cpath%20id='Layer0_0_1_STROKES'%20class='st0'%20d='M173.8,151.5l13.6-13.6%20M35.4,89.9l29.1-29%20M89.4,34.9v1%20M137.4,187.9l-0.6-0.4%20M36.6,138.7l0.2-0.2%20M56.1,169.1l27.7-27.6%20M63.8,111.5l74.3-74.4%20M87.1,188.1L187.6,87.6%20M110.8,114.5l57.8-57.8'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",n7e=()=>{document.title="Register | Skote -     Vite React ";const t=Qf(),e=Yo({enableReinitialize:!0,initialValues:{email:"",username:"",password:""},validationSchema:Ma({email:An().required("     "),username:An().required("      "),password:An().required("      ")}),onSubmit:i=>{t(vwe(i))}}),n=ig(i=>i.Account,i=>({user:i.user,registrationError:i.registrationError})),{user:r,registrationError:s}=pb(n);return C.useEffect(()=>{t(iA(""))},[]),a.jsxs(oe.Fragment,{children:[a.jsx("div",{className:"home-btn d-none d-sm-block",children:a.jsx(Le,{to:"/",className:"text-dark",children:a.jsx("i",{className:"bx bx-home h2"})})}),a.jsx("div",{className:"account-pages my-5 pt-sm-5",children:a.jsx(gn,{children:a.jsx(ge,{className:"justify-content-center",children:a.jsxs($,{md:8,lg:6,xl:5,children:[a.jsxs(dt,{className:"overflow-hidden",children:[a.jsx("div",{className:"bg-primary-subtle",children:a.jsxs(ge,{children:[a.jsx($,{className:"col-7",children:a.jsxs("div",{className:"text-primary p-4",children:[a.jsx("h5",{className:"text-primary",children:"  "}),a.jsx("p",{children:"  Skote     "})]})}),a.jsx($,{className:"col-5 align-self-end",children:a.jsx("img",{src:dse,alt:"",className:"img-fluid"})})]})}),a.jsxs(ht,{className:"pt-0",children:[a.jsxs("div",{className:"auth-logo",children:[a.jsx(Le,{to:"/",className:"auth-logo-light",children:a.jsx("div",{className:"avatar-md profile-user-wid mb-4",children:a.jsx("span",{className:"avatar-title rounded-circle bg-light",children:a.jsx("img",{src:lN,alt:"",className:"rounded-circle",height:"34"})})})}),a.jsx(Le,{to:"/",className:"auth-logo-dark",children:a.jsx("div",{className:"avatar-md profile-user-wid mb-4",children:a.jsx("span",{className:"avatar-title rounded-circle bg-light",children:a.jsx("img",{src:V0,alt:"",className:"rounded-circle",height:"34"})})})})]}),a.jsx("div",{className:"p-2",children:a.jsxs(oo,{className:"form-horizontal",onSubmit:i=>(i.preventDefault(),e.handleSubmit(),!1),children:[r&&r?a.jsx(kn,{color:"success",children:"Register User Successfully"}):null,s&&s?a.jsx(kn,{color:"danger",children:s}):null,a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{className:"form-label",children:""}),a.jsx(re,{id:"email",name:"email",className:"form-control",placeholder:"   ",type:"email",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.email||"",invalid:!!(e.touched.email&&e.errors.email)}),e.touched.email&&e.errors.email?a.jsx(Kt,{type:"invalid",children:e.errors.email}):null]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{className:"form-label",children:" "}),a.jsx(re,{name:"username",type:"text",placeholder:"    ",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.username||"",invalid:!!(e.touched.username&&e.errors.username)}),e.touched.username&&e.errors.username?a.jsx(Kt,{type:"invalid",children:e.errors.username}):null]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(X,{className:"form-label",children:" "}),a.jsx(re,{name:"password",type:"password",placeholder:"    ",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.password||"",invalid:!!(e.touched.password&&e.errors.password)}),e.touched.password&&e.errors.password?a.jsx(Kt,{type:"invalid",children:e.errors.password}):null]}),a.jsx("div",{className:"mt-4",children:a.jsx("button",{className:"btn btn-primary btn-block ",type:"submit",children:" "})}),a.jsx("div",{className:"mt-4 text-center",children:a.jsxs("p",{className:"mb-0",children:["    Skote   "," ",a.jsx(Le,{to:"#",className:"text-primary",children:" "})]})})]})})]})]}),a.jsxs("div",{className:"mt-5 text-center",children:[a.jsxs("p",{children:["    "," ",a.jsxs(Le,{to:"/login",className:"font-weight-medium text-primary",children:[" ",""]})," "]}),a.jsxs("p",{children:[" ",new Date().getFullYear()," Skote.   "," ",a.jsx("i",{className:"mdi mdi-heart text-danger"}),"    "]})]})]})})})})]})};function yg(t){function e(n){let r=ou(),s=as(),i=lu();return a.jsx(t,{...n,router:{location:r,navigate:s,params:i}})}return e}const hse=()=>{const t=as(),e=Qf();return C.useEffect(()=>{e(wwe(t))},[e,t]),a.jsx(a.Fragment,{})};hse.propTypes={history:P.object};const r7e=yg(hse),Xu="/assets/avatar-1-DgTBisRd.jpg";var TR={};const s7e=t=>{document.title="Profile | Skote -     react";const e=Qf(),[n,r]=C.useState(""),[s,i]=C.useState(""),[o,l]=C.useState(1),c=ig(m=>m.Profile,m=>({error:m.error,success:m.success})),{error:u,success:d}=pb(c);C.useEffect(()=>{if(localStorage.getItem("authUser")){const m=JSON.parse(localStorage.getItem("authUser"));TR.VITE_APP_DEFAULTAUTH==="firebase"?(i(m.displayName),r(m.email),l(m.uid)):(TR.VITE_APP_DEFAULTAUTH==="fake"||TR.VITE_APP_DEFAULTAUTH==="jwt")&&(i(m.username),r(m.email),l(m.uid)),setTimeout(()=>{e(Twe())},3e3)}},[e,d]);const h=Yo({enableReinitialize:!0,initialValues:{username:s||"",idx:o||""},validationSchema:Ma({username:An().required("      ")}),onSubmit:m=>{e(Swe(m))}});return a.jsx(oe.Fragment,{children:a.jsx("div",{className:"page-content",children:a.jsxs(gn,{fluid:!0,children:[a.jsx(hF,{title:"Skote",breadcrumbItem:""}),a.jsx(ge,{children:a.jsxs($,{lg:"12",children:[u&&u?a.jsx(kn,{color:"danger",children:u}):null,d?a.jsx(kn,{color:"success",children:d}):null,a.jsx(dt,{children:a.jsx(ht,{children:a.jsxs("div",{className:"d-flex",children:[a.jsx("div",{className:"ms-3",children:a.jsx("img",{src:Xu,alt:"",className:"avatar-md rounded-circle img-thumbnail"})}),a.jsx("div",{className:"flex-grow-1 align-self-center",children:a.jsxs("div",{className:"text-muted",children:[a.jsx("h5",{children:s}),a.jsx("p",{className:"mb-1",children:n}),a.jsxs("p",{className:"mb-0",children:[" : #",o]})]})})]})})})]})}),a.jsx("h4",{className:"card-title mb-4",children:"  "}),a.jsx(dt,{children:a.jsx(ht,{children:a.jsxs(oo,{className:"form-horizontal",onSubmit:m=>(m.preventDefault(),h.handleSubmit(),!1),children:[a.jsxs("div",{className:"form-group",children:[a.jsx(X,{className:"form-label",children:" "}),a.jsx(re,{name:"username",className:"form-control",placeholder:"    ",type:"text",onChange:h.handleChange,onBlur:h.handleBlur,value:h.values.username||"",invalid:!!(h.touched.username&&h.errors.username)}),h.touched.username&&h.errors.username?a.jsx(Kt,{type:"invalid",children:h.errors.username}):null,a.jsx(re,{name:"idx",value:o,type:"hidden"})]}),a.jsx("div",{className:"text-center mt-4",children:a.jsx(me,{type:"submit",color:"danger",children:"    "})})]})})})]})})})},i7e=yg(s7e),a7e=()=>{const t=localStorage.getItem("user");let e=!1;if(t)try{const n=JSON.parse(t);if(n.member_details&&n.member_details.role!=="admin")e=!0;else{const r="09121137675";let s=n.phone||"";s.startsWith("+98")?s="0"+s.substring(3):s.startsWith("98")&&(s="0"+s.substring(2)),s!==r&&(e=!0)}}catch(n){console.error(n)}return e?a.jsx(dPe,{}):a.jsx(Wke,{})},o7e=[{path:"/dashboard",component:a.jsx(a7e,{})},{path:"/profile",component:a.jsx(i7e,{})},{path:"/members/list",component:a.jsx(jn,{permission:"member.view",component:a.jsx(O$e,{})})},{path:"/members/add",component:a.jsx(jn,{permission:"member.create",component:a.jsx(R$e,{})})},{path:"/members/edit/:id",component:a.jsx(jn,{permission:"member.manage",component:a.jsx(D$e,{})})},{path:"/system-users",component:a.jsx(jn,{permission:"member.manage",component:a.jsx(q$e,{})})},{path:"/customers/list",component:a.jsx(jn,{permission:"customer.view",component:a.jsx(J$e,{})})},{path:"/customers/add",component:a.jsx(jn,{permission:"customer.create",component:a.jsx($Fe,{})})},{path:"/customers/edit/:id",component:a.jsx(jn,{permission:"customer.edit",component:a.jsx(FFe,{})})},{path:"/inventory/unit-list",component:a.jsx(jn,{permission:"inventory.view",component:a.jsx(hPe,{})})},{path:"/inventory/add-unit",component:a.jsx(jn,{permission:"inventory.create",component:a.jsx(x$e,{})})},{path:"/inventory/edit-unit/:id",component:a.jsx(jn,{permission:"inventory.create",component:a.jsx(E$e,{})})},{path:"/inventory/category-list",component:a.jsx(jn,{permission:"inventory.view",component:a.jsx(S$e,{})})},{path:"/inventory/add-category",component:a.jsx(jn,{permission:"inventory.create",component:a.jsx(j$e,{})})},{path:"/inventory/edit-category/:id",component:a.jsx(jn,{permission:"inventory.create",component:a.jsx(T$e,{})})},{path:"/inventory/product-list",component:a.jsx(jn,{permission:"inventory.view",component:a.jsx(N$e,{})})},{path:"/inventory/add-product",component:a.jsx(jn,{permission:"inventory.create",component:a.jsx(I$e,{})})},{path:"/inventory/edit-product/:id",component:a.jsx(jn,{permission:"inventory.create",component:a.jsx(k$e,{})})},{path:"/receipts",component:a.jsx(jn,{permission:"receipt.view",component:a.jsx($9,{})})},{path:"/receipt/list",component:a.jsx(av,{to:"/receipts"})},{path:"/receipt/form",component:a.jsx(jn,{permission:"receipt.create",component:a.jsx(bR,{mode:"create"})})},{path:"/receipt/form/edit/:id",component:a.jsx(jn,{permission:"receipt.edit",component:a.jsx(bR,{mode:"edit"})})},{path:"/receipt/view/:id",component:a.jsx(jn,{permission:"receipt.view",component:a.jsx(bR,{mode:"view"})})},{path:"/loading/create",component:a.jsx(jn,{permission:"loading.create",component:a.jsx(x8,{})})},{path:"/loading/list",component:a.jsx(jn,{permission:"loading.view",component:a.jsx(rWe,{})})},{path:"/loading/print/:id",component:a.jsx(jn,{permission:"loading.view",component:a.jsx(iWe,{})})},{path:"/exit/list",component:a.jsx(jn,{permission:"exit.view",component:a.jsx(eqe,{})})},{path:"/exit/create",component:a.jsx(jn,{permission:"exit.create",component:a.jsx(dqe,{})})},{path:"/exit/print/:id",component:a.jsx(jn,{permission:"exit.view",component:a.jsx(hqe,{})})},{path:"/clearances/form",component:a.jsx(jn,{permission:"clearance.create",component:a.jsx(q8e,{})})},{path:"/clearances/report",component:a.jsx(jn,{permission:"clearance.view",component:a.jsx(Y8e,{})})},{path:"/clearances/edit/:id",component:a.jsx(jn,{permission:"clearance.edit",component:a.jsx(Q8e,{})})},{path:"/accounting/documents",component:a.jsx(jn,{permission:"accounting.view",component:a.jsx(vqe,{})})},{path:"/accounting/coding",component:a.jsx(jn,{permission:"accounting.create",component:a.jsx(Rqe,{})})},{path:"/accounting/new",component:a.jsx(jn,{permission:"accounting.create",component:a.jsx(D8,{})})},{path:"/accounting/edit/:id",component:a.jsx(jn,{permission:"accounting.create",component:a.jsx(D8,{})})},{path:"/accounting/reports/journal",component:a.jsx(jn,{permission:"accounting.reports",component:a.jsx(Mqe,{})})},{path:"/accounting/reports/customers",component:a.jsx(jn,{permission:"accounting.reports",component:a.jsx($qe,{})})},{path:"/accounting/reports/ledger",component:a.jsx(jn,{permission:"accounting.reports",component:a.jsx(L8,{})})},{path:"/accounting/reports/comprehensive",component:a.jsx(jn,{permission:"accounting.reports",component:a.jsx(Fqe,{})})},{path:"/accounting/list",component:a.jsx(jn,{permission:"accounting.treasury",component:a.jsx(Qqe,{})})},{path:"/accounting/treasury-form",component:a.jsx(jn,{permission:"accounting.treasury",component:a.jsx(Kqe,{})})},{path:"/accounting/check-operations",component:a.jsx(jn,{permission:"accounting.treasury",component:a.jsx(Jqe,{})})},{path:"/accounting/definitions",component:a.jsx(jn,{permission:"accounting.treasury",component:a.jsx(Zqe,{})})},{path:"/rent/create",component:a.jsx(jn,{permission:"rent.create",component:a.jsx(Yqe,{})})},{path:"/rent/list",component:a.jsx(jn,{permission:"rent.list",component:a.jsx($8,{})})},{path:"/my-contracts",component:a.jsx(jn,{permission:"client.contracts",component:a.jsx($8,{})})},{path:"/my-invoices",component:a.jsx(jn,{permission:"client.invoices",component:a.jsx(L8,{})})},{path:"/my-inventory",component:a.jsx(jn,{permission:"client.portal",component:a.jsx($9,{})})},{path:"/request/loading",component:a.jsx(jn,{permission:"client.portal",component:a.jsx(x8,{})})},{path:"/",exact:!0,component:a.jsx(av,{to:"/dashboard"})}],l7e=[{path:"/login",component:a.jsx(t7e,{})},{path:"/register",component:a.jsx(n7e,{})},{path:"/logout",component:a.jsx(r7e,{})}],c7e=t=>{const e=ou(),n=localStorage.getItem("user"),r=localStorage.getItem("authUser"),s=localStorage.getItem("token");return!n&&!r&&!s?a.jsx(av,{to:{pathname:"/login",state:{from:e}}}):a.jsx(a.Fragment,{children:t.children})};var CR=function(){return cu.Date.now()},u7e=/\s/;function d7e(t){for(var e=t.length;e--&&u7e.test(t.charAt(e)););return e}var h7e=/^\s+/;function f7e(t){return t&&t.slice(0,d7e(t)+1).replace(h7e,"")}var F8=NaN,m7e=/^[-+]0x[0-9a-f]+$/i,p7e=/^0b[01]+$/i,g7e=/^0o[0-7]+$/i,y7e=parseInt;function V8(t){if(typeof t=="number")return t;if(wA(t))return F8;if(th(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=th(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=f7e(t);var n=p7e.test(t);return n||g7e.test(t)?y7e(t.slice(2),n?2:8):m7e.test(t)?F8:+t}var v7e="Expected a function",b7e=Math.max,_7e=Math.min;function t1(t,e,n){var r,s,i,o,l,c,u=0,d=!1,h=!1,m=!0;if(typeof t!="function")throw new TypeError(v7e);e=V8(e)||0,th(n)&&(d=!!n.leading,h="maxWait"in n,i=h?b7e(V8(n.maxWait)||0,e):i,m="trailing"in n?!!n.trailing:m);function p(D){var O=r,F=s;return r=s=void 0,u=D,o=t.apply(F,O),o}function y(D){return u=D,l=setTimeout(x,e),d?p(D):o}function w(D){var O=D-c,F=D-u,V=e-O;return h?_7e(V,i-F):V}function v(D){var O=D-c,F=D-u;return c===void 0||O>=e||O<0||h&&F>=i}function x(){var D=CR();if(v(D))return _(D);l=setTimeout(x,w(D))}function _(D){return l=void 0,m&&r?p(D):(r=s=void 0,o)}function E(){l!==void 0&&clearTimeout(l),u=0,r=c=s=l=void 0}function T(){return l===void 0?o:_(CR())}function N(){var D=CR(),O=v(D);if(r=arguments,s=this,c=D,O){if(l===void 0)return y(c);if(h)return clearTimeout(l),l=setTimeout(x,e),p(c)}return l===void 0&&(l=setTimeout(x,e)),o}return N.cancel=E,N.flush=T,N}var w7e="Expected a function";function x7e(t,e,n){var r=!0,s=!0;if(typeof t!="function")throw new TypeError(w7e);return th(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),t1(t,e,{leading:r,maxWait:e,trailing:s})}var Qy=function(){return Qy=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Qy.apply(this,arguments)};function fse(t){return!t||!t.ownerDocument||!t.ownerDocument.defaultView?window:t.ownerDocument.defaultView}function mse(t){return!t||!t.ownerDocument?document:t.ownerDocument}var pse=function(t){var e={},n=Array.prototype.reduce.call(t,function(r,s){var i=s.name.match(/data-simplebar-(.+)/);if(i){var o=i[1].replace(/\W+(.)/g,function(l,c){return c.toUpperCase()});switch(s.value){case"true":r[o]=!0;break;case"false":r[o]=!1;break;case void 0:r[o]=!0;break;default:r[o]=s.value}}return r},e);return n};function gse(t,e){var n;t&&(n=t.classList).add.apply(n,e.split(" "))}function yse(t,e){t&&e.split(" ").forEach(function(n){t.classList.remove(n)})}function vse(t){return".".concat(t.split(" ").join("."))}var B4=!!(typeof window<"u"&&window.document&&window.document.createElement),E7e=Object.freeze({__proto__:null,addClasses:gse,canUseDOM:B4,classNamesToQuery:vse,getElementDocument:mse,getElementWindow:fse,getOptions:pse,removeClasses:yse}),Ny=null,U8=null;B4&&window.addEventListener("resize",function(){U8!==window.devicePixelRatio&&(U8=window.devicePixelRatio,Ny=null)});function B8(){if(Ny===null){if(typeof document>"u")return Ny=0,Ny;var t=document.body,e=document.createElement("div");e.classList.add("simplebar-hide-scrollbar"),t.appendChild(e);var n=e.getBoundingClientRect().right;t.removeChild(e),Ny=n}return Ny}var Lh=fse,AR=mse,S7e=pse,Mh=gse,$h=yse,To=vse,k_=function(){function t(e,n){n===void 0&&(n={});var r=this;if(this.removePreventClickId=null,this.minScrollbarWidth=20,this.stopScrollDelay=175,this.isScrolling=!1,this.isMouseEntering=!1,this.isDragging=!1,this.scrollXTicking=!1,this.scrollYTicking=!1,this.wrapperEl=null,this.contentWrapperEl=null,this.contentEl=null,this.offsetEl=null,this.maskEl=null,this.placeholderEl=null,this.heightAutoObserverWrapperEl=null,this.heightAutoObserverEl=null,this.rtlHelpers=null,this.scrollbarWidth=0,this.resizeObserver=null,this.mutationObserver=null,this.elStyles=null,this.isRtl=null,this.mouseX=0,this.mouseY=0,this.onMouseMove=function(){},this.onWindowResize=function(){},this.onStopScrolling=function(){},this.onMouseEntered=function(){},this.onScroll=function(){var s=Lh(r.el);r.scrollXTicking||(s.requestAnimationFrame(r.scrollX),r.scrollXTicking=!0),r.scrollYTicking||(s.requestAnimationFrame(r.scrollY),r.scrollYTicking=!0),r.isScrolling||(r.isScrolling=!0,Mh(r.el,r.classNames.scrolling)),r.showScrollbar("x"),r.showScrollbar("y"),r.onStopScrolling()},this.scrollX=function(){r.axis.x.isOverflowing&&r.positionScrollbar("x"),r.scrollXTicking=!1},this.scrollY=function(){r.axis.y.isOverflowing&&r.positionScrollbar("y"),r.scrollYTicking=!1},this._onStopScrolling=function(){$h(r.el,r.classNames.scrolling),r.options.autoHide&&(r.hideScrollbar("x"),r.hideScrollbar("y")),r.isScrolling=!1},this.onMouseEnter=function(){r.isMouseEntering||(Mh(r.el,r.classNames.mouseEntered),r.showScrollbar("x"),r.showScrollbar("y"),r.isMouseEntering=!0),r.onMouseEntered()},this._onMouseEntered=function(){$h(r.el,r.classNames.mouseEntered),r.options.autoHide&&(r.hideScrollbar("x"),r.hideScrollbar("y")),r.isMouseEntering=!1},this._onMouseMove=function(s){r.mouseX=s.clientX,r.mouseY=s.clientY,(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&r.onMouseMoveForAxis("x"),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&r.onMouseMoveForAxis("y")},this.onMouseLeave=function(){r.onMouseMove.cancel(),(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&r.onMouseLeaveForAxis("x"),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&r.onMouseLeaveForAxis("y"),r.mouseX=-1,r.mouseY=-1},this._onWindowResize=function(){r.scrollbarWidth=r.getScrollbarWidth(),r.hideNativeScrollbar()},this.onPointerEvent=function(s){if(!(!r.axis.x.track.el||!r.axis.y.track.el||!r.axis.x.scrollbar.el||!r.axis.y.scrollbar.el)){var i,o;r.axis.x.track.rect=r.axis.x.track.el.getBoundingClientRect(),r.axis.y.track.rect=r.axis.y.track.el.getBoundingClientRect(),(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&(i=r.isWithinBounds(r.axis.x.track.rect)),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&(o=r.isWithinBounds(r.axis.y.track.rect)),(i||o)&&(s.stopPropagation(),s.type==="pointerdown"&&s.pointerType!=="touch"&&(i&&(r.axis.x.scrollbar.rect=r.axis.x.scrollbar.el.getBoundingClientRect(),r.isWithinBounds(r.axis.x.scrollbar.rect)?r.onDragStart(s,"x"):r.onTrackClick(s,"x")),o&&(r.axis.y.scrollbar.rect=r.axis.y.scrollbar.el.getBoundingClientRect(),r.isWithinBounds(r.axis.y.scrollbar.rect)?r.onDragStart(s,"y"):r.onTrackClick(s,"y"))))}},this.drag=function(s){var i,o,l,c,u,d,h,m,p,y,w;if(!(!r.draggedAxis||!r.contentWrapperEl)){var v,x=r.axis[r.draggedAxis].track,_=(o=(i=x.rect)===null||i===void 0?void 0:i[r.axis[r.draggedAxis].sizeAttr])!==null&&o!==void 0?o:0,E=r.axis[r.draggedAxis].scrollbar,T=(c=(l=r.contentWrapperEl)===null||l===void 0?void 0:l[r.axis[r.draggedAxis].scrollSizeAttr])!==null&&c!==void 0?c:0,N=parseInt((d=(u=r.elStyles)===null||u===void 0?void 0:u[r.axis[r.draggedAxis].sizeAttr])!==null&&d!==void 0?d:"0px",10);s.preventDefault(),s.stopPropagation(),r.draggedAxis==="y"?v=s.pageY:v=s.pageX;var D=v-((m=(h=x.rect)===null||h===void 0?void 0:h[r.axis[r.draggedAxis].offsetAttr])!==null&&m!==void 0?m:0)-r.axis[r.draggedAxis].dragOffset;D=r.draggedAxis==="x"&&r.isRtl?((y=(p=x.rect)===null||p===void 0?void 0:p[r.axis[r.draggedAxis].sizeAttr])!==null&&y!==void 0?y:0)-E.size-D:D;var O=D/(_-E.size),F=O*(T-N);r.draggedAxis==="x"&&r.isRtl&&(F=!((w=t.getRtlHelpers())===null||w===void 0)&&w.isScrollingToNegative?-F:F),r.contentWrapperEl[r.axis[r.draggedAxis].scrollOffsetAttr]=F}},this.onEndDrag=function(s){r.isDragging=!1;var i=AR(r.el),o=Lh(r.el);s.preventDefault(),s.stopPropagation(),$h(r.el,r.classNames.dragging),r.onStopScrolling(),i.removeEventListener("mousemove",r.drag,!0),i.removeEventListener("mouseup",r.onEndDrag,!0),r.removePreventClickId=o.setTimeout(function(){i.removeEventListener("click",r.preventClick,!0),i.removeEventListener("dblclick",r.preventClick,!0),r.removePreventClickId=null})},this.preventClick=function(s){s.preventDefault(),s.stopPropagation()},this.el=e,this.options=Qy(Qy({},t.defaultOptions),n),this.classNames=Qy(Qy({},t.defaultOptions.classNames),n.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}}},typeof this.el!="object"||!this.el.nodeName)throw new Error("Argument passed to SimpleBar must be an HTML element instead of ".concat(this.el));this.onMouseMove=x7e(this._onMouseMove,64),this.onWindowResize=t1(this._onWindowResize,64,{leading:!0}),this.onStopScrolling=t1(this._onStopScrolling,this.stopScrollDelay),this.onMouseEntered=t1(this._onMouseEntered,this.stopScrollDelay),this.init()}return t.getRtlHelpers=function(){if(t.rtlHelpers)return t.rtlHelpers;var e=document.createElement("div");e.innerHTML='<div class="simplebar-dummy-scrollbar-size"><div></div></div>';var n=e.firstElementChild,r=n==null?void 0:n.firstElementChild;if(!r)return null;document.body.appendChild(n),n.scrollLeft=0;var s=t.getOffset(n),i=t.getOffset(r);n.scrollLeft=-999;var o=t.getOffset(r);return document.body.removeChild(n),t.rtlHelpers={isScrollOriginAtZero:s.left!==i.left,isScrollingToNegative:i.left!==o.left},t.rtlHelpers},t.prototype.getScrollbarWidth=function(){try{return this.contentWrapperEl&&getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display==="none"||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:B8()}catch{return B8()}},t.getOffset=function(e){var n=e.getBoundingClientRect(),r=AR(e),s=Lh(e);return{top:n.top+(s.pageYOffset||r.documentElement.scrollTop),left:n.left+(s.pageXOffset||r.documentElement.scrollLeft)}},t.prototype.init=function(){B4&&(this.initDOM(),this.rtlHelpers=t.getRtlHelpers(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},t.prototype.initDOM=function(){var e,n;this.wrapperEl=this.el.querySelector(To(this.classNames.wrapper)),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector(To(this.classNames.contentWrapper)),this.contentEl=this.options.contentNode||this.el.querySelector(To(this.classNames.contentEl)),this.offsetEl=this.el.querySelector(To(this.classNames.offset)),this.maskEl=this.el.querySelector(To(this.classNames.mask)),this.placeholderEl=this.findChild(this.wrapperEl,To(this.classNames.placeholder)),this.heightAutoObserverWrapperEl=this.el.querySelector(To(this.classNames.heightAutoObserverWrapperEl)),this.heightAutoObserverEl=this.el.querySelector(To(this.classNames.heightAutoObserverEl)),this.axis.x.track.el=this.findChild(this.el,"".concat(To(this.classNames.track)).concat(To(this.classNames.horizontal))),this.axis.y.track.el=this.findChild(this.el,"".concat(To(this.classNames.track)).concat(To(this.classNames.vertical))),this.axis.x.scrollbar.el=((e=this.axis.x.track.el)===null||e===void 0?void 0:e.querySelector(To(this.classNames.scrollbar)))||null,this.axis.y.scrollbar.el=((n=this.axis.y.track.el)===null||n===void 0?void 0:n.querySelector(To(this.classNames.scrollbar)))||null,this.options.autoHide||(Mh(this.axis.x.scrollbar.el,this.classNames.visible),Mh(this.axis.y.scrollbar.el,this.classNames.visible))},t.prototype.initListeners=function(){var e=this,n,r=Lh(this.el);if(this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("pointerdown",this.onPointerEvent,!0),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),(n=this.contentWrapperEl)===null||n===void 0||n.addEventListener("scroll",this.onScroll),r.addEventListener("resize",this.onWindowResize),!!this.contentEl){if(window.ResizeObserver){var s=!1,i=r.ResizeObserver||ResizeObserver;this.resizeObserver=new i(function(){s&&r.requestAnimationFrame(function(){e.recalculate()})}),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),r.requestAnimationFrame(function(){s=!0})}this.mutationObserver=new r.MutationObserver(function(){r.requestAnimationFrame(function(){e.recalculate()})}),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})}},t.prototype.recalculate=function(){if(!(!this.heightAutoObserverEl||!this.contentEl||!this.contentWrapperEl||!this.wrapperEl||!this.placeholderEl)){var e=Lh(this.el);this.elStyles=e.getComputedStyle(this.el),this.isRtl=this.elStyles.direction==="rtl";var n=this.contentEl.offsetWidth,r=this.heightAutoObserverEl.offsetHeight<=1,s=this.heightAutoObserverEl.offsetWidth<=1||n>0,i=this.contentWrapperEl.offsetWidth,o=this.elStyles.overflowX,l=this.elStyles.overflowY;this.contentEl.style.padding="".concat(this.elStyles.paddingTop," ").concat(this.elStyles.paddingRight," ").concat(this.elStyles.paddingBottom," ").concat(this.elStyles.paddingLeft),this.wrapperEl.style.margin="-".concat(this.elStyles.paddingTop," -").concat(this.elStyles.paddingRight," -").concat(this.elStyles.paddingBottom," -").concat(this.elStyles.paddingLeft);var c=this.contentEl.scrollHeight,u=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=r?"auto":"100%",this.placeholderEl.style.width=s?"".concat(n||u,"px"):"auto",this.placeholderEl.style.height="".concat(c,"px");var d=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=n!==0&&u>n,this.axis.y.isOverflowing=c>d,this.axis.x.isOverflowing=o==="hidden"?!1:this.axis.x.isOverflowing,this.axis.y.isOverflowing=l==="hidden"?!1:this.axis.y.isOverflowing,this.axis.x.forceVisible=this.options.forceVisible==="x"||this.options.forceVisible===!0,this.axis.y.forceVisible=this.options.forceVisible==="y"||this.options.forceVisible===!0,this.hideNativeScrollbar();var h=this.axis.x.isOverflowing?this.scrollbarWidth:0,m=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&u>i-m,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&c>d-h,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el&&(this.axis.x.scrollbar.el.style.width="".concat(this.axis.x.scrollbar.size,"px")),this.axis.y.scrollbar.el&&(this.axis.y.scrollbar.el.style.height="".concat(this.axis.y.scrollbar.size,"px")),this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")}},t.prototype.getScrollbarSize=function(e){var n,r;if(e===void 0&&(e="y"),!this.axis[e].isOverflowing||!this.contentEl)return 0;var s=this.contentEl[this.axis[e].scrollSizeAttr],i=(r=(n=this.axis[e].track.el)===null||n===void 0?void 0:n[this.axis[e].offsetSizeAttr])!==null&&r!==void 0?r:0,o=i/s,l;return l=Math.max(~~(o*i),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(l=Math.min(l,this.options.scrollbarMaxSize)),l},t.prototype.positionScrollbar=function(e){var n,r,s;e===void 0&&(e="y");var i=this.axis[e].scrollbar;if(!(!this.axis[e].isOverflowing||!this.contentWrapperEl||!i.el||!this.elStyles)){var o=this.contentWrapperEl[this.axis[e].scrollSizeAttr],l=((n=this.axis[e].track.el)===null||n===void 0?void 0:n[this.axis[e].offsetSizeAttr])||0,c=parseInt(this.elStyles[this.axis[e].sizeAttr],10),u=this.contentWrapperEl[this.axis[e].scrollOffsetAttr];u=e==="x"&&this.isRtl&&(!((r=t.getRtlHelpers())===null||r===void 0)&&r.isScrollOriginAtZero)?-u:u,e==="x"&&this.isRtl&&(u=!((s=t.getRtlHelpers())===null||s===void 0)&&s.isScrollingToNegative?u:-u);var d=u/(o-c),h=~~((l-i.size)*d);h=e==="x"&&this.isRtl?-h+(l-i.size):h,i.el.style.transform=e==="x"?"translate3d(".concat(h,"px, 0, 0)"):"translate3d(0, ".concat(h,"px, 0)")}},t.prototype.toggleTrackVisibility=function(e){e===void 0&&(e="y");var n=this.axis[e].track.el,r=this.axis[e].scrollbar.el;!n||!r||!this.contentWrapperEl||(this.axis[e].isOverflowing||this.axis[e].forceVisible?(n.style.visibility="visible",this.contentWrapperEl.style[this.axis[e].overflowAttr]="scroll",this.el.classList.add("".concat(this.classNames.scrollable,"-").concat(e))):(n.style.visibility="hidden",this.contentWrapperEl.style[this.axis[e].overflowAttr]="hidden",this.el.classList.remove("".concat(this.classNames.scrollable,"-").concat(e))),this.axis[e].isOverflowing?r.style.display="block":r.style.display="none")},t.prototype.showScrollbar=function(e){e===void 0&&(e="y"),this.axis[e].isOverflowing&&!this.axis[e].scrollbar.isVisible&&(Mh(this.axis[e].scrollbar.el,this.classNames.visible),this.axis[e].scrollbar.isVisible=!0)},t.prototype.hideScrollbar=function(e){e===void 0&&(e="y"),!this.isDragging&&this.axis[e].isOverflowing&&this.axis[e].scrollbar.isVisible&&($h(this.axis[e].scrollbar.el,this.classNames.visible),this.axis[e].scrollbar.isVisible=!1)},t.prototype.hideNativeScrollbar=function(){this.offsetEl&&(this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px",this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px")},t.prototype.onMouseMoveForAxis=function(e){e===void 0&&(e="y");var n=this.axis[e];!n.track.el||!n.scrollbar.el||(n.track.rect=n.track.el.getBoundingClientRect(),n.scrollbar.rect=n.scrollbar.el.getBoundingClientRect(),this.isWithinBounds(n.track.rect)?(this.showScrollbar(e),Mh(n.track.el,this.classNames.hover),this.isWithinBounds(n.scrollbar.rect)?Mh(n.scrollbar.el,this.classNames.hover):$h(n.scrollbar.el,this.classNames.hover)):($h(n.track.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(e)))},t.prototype.onMouseLeaveForAxis=function(e){e===void 0&&(e="y"),$h(this.axis[e].track.el,this.classNames.hover),$h(this.axis[e].scrollbar.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(e)},t.prototype.onDragStart=function(e,n){var r;n===void 0&&(n="y"),this.isDragging=!0;var s=AR(this.el),i=Lh(this.el),o=this.axis[n].scrollbar,l=n==="y"?e.pageY:e.pageX;this.axis[n].dragOffset=l-(((r=o.rect)===null||r===void 0?void 0:r[this.axis[n].offsetAttr])||0),this.draggedAxis=n,Mh(this.el,this.classNames.dragging),s.addEventListener("mousemove",this.drag,!0),s.addEventListener("mouseup",this.onEndDrag,!0),this.removePreventClickId===null?(s.addEventListener("click",this.preventClick,!0),s.addEventListener("dblclick",this.preventClick,!0)):(i.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},t.prototype.onTrackClick=function(e,n){var r=this,s,i,o,l;n===void 0&&(n="y");var c=this.axis[n];if(!(!this.options.clickOnTrack||!c.scrollbar.el||!this.contentWrapperEl)){e.preventDefault();var u=Lh(this.el);this.axis[n].scrollbar.rect=c.scrollbar.el.getBoundingClientRect();var d=this.axis[n].scrollbar,h=(i=(s=d.rect)===null||s===void 0?void 0:s[this.axis[n].offsetAttr])!==null&&i!==void 0?i:0,m=parseInt((l=(o=this.elStyles)===null||o===void 0?void 0:o[this.axis[n].sizeAttr])!==null&&l!==void 0?l:"0px",10),p=this.contentWrapperEl[this.axis[n].scrollOffsetAttr],y=n==="y"?this.mouseY-h:this.mouseX-h,w=y<0?-1:1,v=w===-1?p-m:p+m,x=40,_=function(){r.contentWrapperEl&&(w===-1?p>v&&(p-=x,r.contentWrapperEl[r.axis[n].scrollOffsetAttr]=p,u.requestAnimationFrame(_)):p<v&&(p+=x,r.contentWrapperEl[r.axis[n].scrollOffsetAttr]=p,u.requestAnimationFrame(_)))};_()}},t.prototype.getContentElement=function(){return this.contentEl},t.prototype.getScrollElement=function(){return this.contentWrapperEl},t.prototype.removeListeners=function(){var e=Lh(this.el);this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("pointerdown",this.onPointerEvent,!0),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.onMouseMove.cancel(),this.onWindowResize.cancel(),this.onStopScrolling.cancel(),this.onMouseEntered.cancel()},t.prototype.unMount=function(){this.removeListeners()},t.prototype.isWithinBounds=function(e){return this.mouseX>=e.left&&this.mouseX<=e.left+e.width&&this.mouseY>=e.top&&this.mouseY<=e.top+e.height},t.prototype.findChild=function(e,n){var r=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return Array.prototype.filter.call(e.children,function(s){return r.call(s,n)})[0]},t.rtlHelpers=null,t.defaultOptions={forceVisible:!1,clickOnTrack:!0,scrollbarMinSize:25,scrollbarMaxSize:0,ariaLabel:"scrollable content",tabIndex:0,classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging",scrolling:"simplebar-scrolling",scrollable:"simplebar-scrollable",mouseEntered:"simplebar-mouse-entered"},scrollableNode:null,contentNode:null,autoHide:!0},t.getOptions=S7e,t.helpers=E7e,t}(),ml=function(){return ml=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ml.apply(this,arguments)};function j7e(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}var cN=C.forwardRef(function(t,e){var n=t.children,r=t.scrollableNodeProps,s=r===void 0?{}:r,i=j7e(t,["children","scrollableNodeProps"]),o=C.useRef(),l=C.useRef(),c=C.useRef(),u={},d={};Object.keys(i).forEach(function(p){Object.prototype.hasOwnProperty.call(k_.defaultOptions,p)?u[p]=i[p]:d[p]=i[p]});var h=ml(ml({},k_.defaultOptions.classNames),u.classNames),m=ml(ml({},s),{className:"".concat(h.contentWrapper).concat(s.className?" ".concat(s.className):""),tabIndex:u.tabIndex||k_.defaultOptions.tabIndex,role:"region","aria-label":u.ariaLabel||k_.defaultOptions.ariaLabel});return C.useEffect(function(){var p;return l.current=m.ref?m.ref.current:l.current,o.current&&(p=new k_(o.current,ml(ml(ml({},u),l.current&&{scrollableNode:l.current}),c.current&&{contentNode:c.current})),typeof e=="function"?e(p):e&&(e.current=p)),function(){p==null||p.unMount(),p=null,typeof e=="function"&&e(null)}},[]),C.createElement("div",ml({"data-simplebar":"init",ref:o},d),C.createElement("div",{className:h.wrapper},C.createElement("div",{className:h.heightAutoObserverWrapperEl},C.createElement("div",{className:h.heightAutoObserverEl})),C.createElement("div",{className:h.mask},C.createElement("div",{className:h.offset},typeof n=="function"?n({scrollableNodeRef:l,scrollableNodeProps:ml(ml({},m),{ref:l}),contentNodeRef:c,contentNodeProps:{className:h.contentEl,ref:c}}):C.createElement("div",ml({},m),C.createElement("div",{className:h.contentEl},n)))),C.createElement("div",{className:h.placeholder})),C.createElement("div",{className:"".concat(h.track," ").concat(h.horizontal)},C.createElement("div",{className:h.scrollbar})),C.createElement("div",{className:"".concat(h.track," ").concat(h.vertical)},C.createElement("div",{className:h.scrollbar})))});cN.displayName="SimpleBar";const T7e=t=>{const e=new Date,n=new Date(t),r=Math.floor((e-n)/1e3);return r<60?" ":r<3600?`${Math.floor(r/60)}  `:r<86400?`${Math.floor(r/3600)}  `:r<604800?`${Math.floor(r/86400)}  `:`${Math.floor(r/604800)}  `},C7e=t=>{const e={success:{icon:"bx-badge-check",color:"success"},info:{icon:"bx-info-circle",color:"info"},warning:{icon:"bx-error",color:"warning"},danger:{icon:"bx-x-circle",color:"danger"},order:{icon:"bx-cart",color:"primary"},user:{icon:"bx-user",color:"secondary"},product:{icon:"bx-package",color:"info"},stock:{icon:"bx-layer",color:"warning"},default:{icon:"bx-bell",color:"primary"}};return e[t]||e.default},bse=()=>{const[t,e]=C.useState(!1),[n,r]=C.useState([]),[s,i]=C.useState(0),[o,l]=C.useState(!0);C.useEffect(()=>{t&&c()},[t]);const c=async()=>{l(!0);try{const h=await cn("/notifications"),m=Array.isArray(h)?h:h.notifications||[];r(m);const p=m.filter(y=>!y.is_read).length;i(p)}catch{r([{id:1,type:"order",title:"   ",message:"  1234    ",is_read:!1,created_at:new Date(Date.now()-18e4).toISOString()},{id:2,type:"stock",title:" ",message:"       ",is_read:!1,created_at:new Date(Date.now()-36e5).toISOString()},{id:3,type:"success",title:"  ",message:"     ",is_read:!0,created_at:new Date(Date.now()-72e5).toISOString()}]),i(2)}l(!1)},u=async h=>{try{await DD(`/notifications/${h}/read`),r(m=>m.map(p=>p.id===h?{...p,is_read:!0}:p)),i(m=>Math.max(0,m-1))}catch{}},d=async()=>{try{await DD("/notifications/read-all"),r(h=>h.map(m=>({...m,is_read:!0}))),i(0)}catch{}};return a.jsx(oe.Fragment,{children:a.jsxs(tu,{isOpen:t,toggle:()=>e(!t),className:"dropdown d-inline-block",tag:"li",children:[a.jsxs(eh,{className:"btn header-item noti-icon position-relative",tag:"button",id:"page-header-notifications-dropdown",children:[a.jsx("i",{className:"bx bx-bell bx-tada"}),s>0&&a.jsx("span",{className:"badge bg-danger rounded-pill",children:s>99?"99+":s})]}),a.jsxs(kf,{className:"dropdown-menu dropdown-menu-lg p-0 dropdown-menu-end",children:[a.jsx("div",{className:"p-3",children:a.jsxs(ge,{className:"align-items-center",children:[a.jsx($,{children:a.jsx("h6",{className:"m-0",children:""})}),a.jsx("div",{className:"col-auto",children:s>0&&a.jsx("button",{onClick:d,className:"btn btn-sm btn-link text-decoration-none p-0",children:" "})})]})}),a.jsx(cN,{style:{maxHeight:"300px"},children:o?a.jsx("div",{className:"text-center p-4",children:a.jsx("div",{className:"spinner-border spinner-border-sm text-primary",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"  ..."})})}):n.length===0?a.jsxs("div",{className:"text-center p-4",children:[a.jsx("i",{className:"bx bx-bell-off display-4 text-muted d-block mb-2"}),a.jsx("p",{className:"text-muted mb-0",children:"  "})]}):n.map(h=>{const m=C7e(h.type);return a.jsx(Le,{to:"#",className:`text-reset notification-item ${h.is_read?"":"bg-light"}`,onClick:()=>{h.is_read||u(h.id)},children:a.jsxs("div",{className:"d-flex",children:[a.jsx("div",{className:"avatar-xs me-3",children:a.jsx("span",{className:`avatar-title bg-${m.color} rounded-circle font-size-16`,children:a.jsx("i",{className:`bx ${m.icon}`})})}),a.jsxs("div",{className:"flex-grow-1",children:[a.jsxs("h6",{className:"mt-0 mb-1",children:[h.title,!h.is_read&&a.jsx("span",{className:"badge bg-danger ms-2",children:""})]}),a.jsxs("div",{className:"font-size-12 text-muted",children:[a.jsx("p",{className:"mb-1",children:h.message}),a.jsxs("p",{className:"mb-0",children:[a.jsx("i",{className:"mdi mdi-clock-outline"})," ",T7e(h.created_at)]})]})]})]})},h.id)})}),n.length>0&&a.jsx("div",{className:"p-2 border-top d-grid",children:a.jsxs(Le,{className:"btn btn-sm btn-link font-size-14 text-center",to:"/notifications",children:[a.jsx("i",{className:"mdi mdi-arrow-left-circle me-1"})," "]})})]})]})})},_se=()=>{const[t,e]=C.useState(!1),[n,r]=C.useState(null);C.useEffect(()=>{try{const l=localStorage.getItem("member");if(!l){r({full_name:"",member_image:null});return}const c=JSON.parse(l);r(c)}catch{r({full_name:"",member_image:null})}},[]);const s=(n==null?void 0:n.full_name)||(n==null?void 0:n.name)||(n==null?void 0:n.email)||"",o=(()=>{var c,u,d;if(!n)return Xu;const l=((c=n.member_image)==null?void 0:c.url)||((u=n.avatar)==null?void 0:u.url)||((d=n.image)==null?void 0:d.url)||null;return l?l.startsWith("/")?zke+l:l:Xu})();return a.jsxs(tu,{isOpen:t,toggle:()=>e(!t),className:"d-inline-block",children:[a.jsxs(eh,{className:"btn header-item",id:"page-header-user-dropdown",tag:"button",children:[a.jsx("img",{className:"rounded-circle header-profile-user",src:o,alt:s,style:{width:32,height:32,objectFit:"cover"},onError:l=>l.target.src=Xu}),a.jsx("span",{className:"d-none d-xl-inline-block ms-2 me-1",children:s}),a.jsx("i",{className:"mdi mdi-chevron-down d-none d-xl-inline-block"})]}),a.jsxs(kf,{className:"dropdown-menu-end",children:[a.jsxs(sf,{tag:Le,to:"/profile",children:[a.jsx("i",{className:"bx bx-user font-size-16 align-middle me-1"}),""]}),a.jsx("div",{className:"dropdown-divider"}),a.jsxs(Le,{to:"/logout",className:"dropdown-item",children:[a.jsx("i",{className:"bx bx-power-off font-size-16 align-middle me-1 text-danger"}),""]})]})]})},wse=t=>{const[e,n]=C.useState(!1);function r(){!document.fullscreenElement&&!document.mozFullScreenElement&&!document.webkitFullscreenElement?document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()}function s(){var i=document.body;window.screen.width<=998||i.classList.toggle("vertical-collpsed"),i.classList.toggle("sidebar-enable")}return a.jsx(oe.Fragment,{children:a.jsx("header",{id:"page-topbar",children:a.jsxs("div",{className:"navbar-header",children:[a.jsxs("div",{className:"d-flex",children:[a.jsxs("div",{className:"navbar-brand-box d-lg-none d-md-block",children:[a.jsx(Le,{to:"/",className:"logo logo-dark",children:a.jsx("span",{className:"logo-sm",children:a.jsx("img",{src:V0,alt:"",height:"22"})})}),a.jsx(Le,{to:"/",className:"logo logo-light",children:a.jsx("span",{className:"logo-sm",children:a.jsx("img",{src:lN,alt:"",height:"22"})})})]}),a.jsx("button",{type:"button",onClick:()=>{s()},className:"btn btn-sm px-3 font-size-16 header-item",id:"vertical-menu-btn",children:a.jsx("i",{className:"fa fa-fw fa-bars"})}),a.jsx("form",{className:"app-search d-none d-lg-block",children:a.jsxs("div",{className:"position-relative",children:[a.jsx("input",{type:"text",className:"form-control",placeholder:"..."}),a.jsx("span",{className:"bx bx-search-alt"})]})})]}),a.jsxs("div",{className:"d-flex",children:[a.jsxs("div",{className:"dropdown d-inline-block d-lg-none ms-2",children:[a.jsx("button",{onClick:()=>{n(!e)},type:"button",className:"btn header-item noti-icon",id:"page-header-search-dropdown",children:a.jsx("i",{className:"mdi mdi-magnify"})}),a.jsx("div",{className:e?"dropdown-menu dropdown-menu-lg dropdown-menu-end p-0 show":"dropdown-menu dropdown-menu-lg dropdown-menu-end p-0","aria-labelledby":"page-header-search-dropdown",children:a.jsx("form",{className:"p-3",children:a.jsx("div",{className:"form-group m-0",children:a.jsxs("div",{className:"input-group",children:[a.jsx("input",{type:"text",className:"form-control",placeholder:"...","aria-label":"Search"}),a.jsx("div",{className:"input-group-append",children:a.jsx("button",{className:"btn btn-primary",type:"submit",children:a.jsx("i",{className:"mdi mdi-magnify"})})})]})})})})]}),a.jsx("div",{className:"dropdown d-none d-lg-inline-block ms-1",children:a.jsx("button",{type:"button",onClick:()=>{r()},className:"btn header-item noti-icon","data-toggle":"fullscreen",children:a.jsx("i",{className:"bx bx-fullscreen"})})}),a.jsx(bse,{}),a.jsx(_se,{}),a.jsx("div",{onClick:()=>{t.showRightSidebarAction(!t.showRightSidebar)},className:"dropdown d-inline-block",children:a.jsx("button",{type:"button",className:"btn header-item noti-icon right-bar-toggle",children:a.jsx("i",{className:"bx bx-cog bx-spin"})})})]})]})})})};wse.propTypes={changeSidebarType:P.func,leftMenu:P.any,leftSideBarType:P.any,showRightSidebar:P.any,showRightSidebarAction:P.func,toggleLeftmenu:P.func};const A7e=t=>{const{layoutType:e,showRightSidebar:n,leftMenu:r,leftSideBarType:s}=t.Layout;return{layoutType:e,showRightSidebar:n,leftMenu:r,leftSideBarType:s}},N7e=gb(A7e,{showRightSidebarAction:b0,toggleLeftmenu:kY,changeSidebarType:xf})(wse);function I7e(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const z8={};function DL(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&z8[e[0]]||(typeof e[0]=="string"&&(z8[e[0]]=new Date),I7e(...e))}const xse=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}};function W8(t,e,n){t.loadNamespaces(e,xse(t,n))}function G8(t,e,n,r){typeof n=="string"&&(n=[n]),n.forEach(s=>{t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,xse(t,r))}function k7e(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=e.languages[0],s=e.options?e.options.fallbackLng:!1,i=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=e.services.backendConnector.state[`${l}|${c}`];return u===-1||u===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(r,t)&&(!s||o(i,t)))}function O7e(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(DL("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(s,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!i(s.isLanguageChangingTo,t))return!1}}):k7e(t,e,n)}function R7e(t){return t.displayName||t.name||(typeof t=="string"&&t.length>0?t:"Unknown")}const P7e=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,D7e={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},L7e=t=>D7e[t],M7e=t=>t.replace(P7e,L7e);let LL={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:M7e};function $7e(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};LL={...LL,...t}}function F7e(){return LL}let Ese;function V7e(t){Ese=t}function U7e(){return Ese}const B7e={type:"3rdParty",init(t){$7e(t.options.react),V7e(t)}},z7e=C.createContext();class W7e{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const G7e=(t,e)=>{const n=C.useRef();return C.useEffect(()=>{n.current=t},[t,e]),n.current};function H7e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:r,defaultNS:s}=C.useContext(z7e)||{},i=n||r||U7e();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new W7e),!i){DL("You will need to pass in an i18next instance by using initReactI18next");const E=(N,D)=>typeof D=="string"?D:D&&typeof D=="object"&&typeof D.defaultValue=="string"?D.defaultValue:Array.isArray(N)?N[N.length-1]:N,T=[E,{},!1];return T.t=E,T.i18n={},T.ready=!1,T}i.options.react&&i.options.react.wait!==void 0&&DL("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...F7e(),...i.options.react,...e},{useSuspense:l,keyPrefix:c}=o;let u=s||i.options&&i.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(u);const d=(i.isInitialized||i.initializedStoreOnce)&&u.every(E=>O7e(E,i,o));function h(){return i.getFixedT(e.lng||null,o.nsMode==="fallback"?u:u[0],c)}const[m,p]=C.useState(h);let y=u.join();e.lng&&(y=`${e.lng}${y}`);const w=G7e(y),v=C.useRef(!0);C.useEffect(()=>{const{bindI18n:E,bindI18nStore:T}=o;v.current=!0,!d&&!l&&(e.lng?G8(i,e.lng,u,()=>{v.current&&p(h)}):W8(i,u,()=>{v.current&&p(h)})),d&&w&&w!==y&&v.current&&p(h);function N(){v.current&&p(h)}return E&&i&&i.on(E,N),T&&i&&i.store.on(T,N),()=>{v.current=!1,E&&i&&E.split(" ").forEach(D=>i.off(D,N)),T&&i&&T.split(" ").forEach(D=>i.store.off(D,N))}},[i,y]);const x=C.useRef(!0);C.useEffect(()=>{v.current&&!x.current&&p(h),x.current=!1},[i,c]);const _=[m,i,d];if(_.t=m,_.i18n=i,_.ready=d,d||!d&&!l)return _;throw new Promise(E=>{e.lng?G8(i,e.lng,u,()=>E()):W8(i,u,()=>E())})}function uN(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(r){function s(o){let{forwardedRef:l,...c}=o;const[u,d,h]=H7e(t,{...c,keyPrefix:e.keyPrefix}),m={...c,t:u,i18n:d,tReady:h};return e.withRef&&l?m.ref=l:!e.withRef&&l&&(m.forwardedRef=l),C.createElement(r,m)}s.displayName=`withI18nextTranslation(${R7e(r)})`,s.WrappedComponent=r;const i=(o,l)=>C.createElement(s,Object.assign({},o,{forwardedRef:l}));return e.withRef?C.forwardRef(i):s}}/*!
* metismenujs - v1.4.0
* MetisMenu: Collapsible menu plugin with Vanilla-JS
* https://github.com/onokumus/metismenujs#readme
*
* Made by Osman Nuri Okumus <onokumus@gmail.com> (https://github.com/onokumus)
* Under MIT License
*/const q7e={parentTrigger:"li",subMenu:"ul",toggle:!0,triggerElement:"a"},ij={ACTIVE:"mm-active",COLLAPSE:"mm-collapse",COLLAPSED:"mm-collapsed",COLLAPSING:"mm-collapsing",METIS:"metismenu",SHOW:"mm-show"};class rC{constructor(e,n){this.element=rC.isElement(e)?e:document.querySelector(e),this.config=Object.assign(Object.assign({},q7e),n),this.disposed=!1,this.triggerArr=[],this.boundEventHandler=this.clickEvent.bind(this),this.init()}static attach(e,n){return new rC(e,n)}init(){const{METIS:e,ACTIVE:n,COLLAPSE:r}=ij;this.element.classList.add(e);const s=[...this.element.querySelectorAll(this.config.subMenu)];s.length!==0&&s.forEach(i=>{i.classList.add(r);const o=i.closest(this.config.parentTrigger);o!=null&&o.classList.contains(n)?this.show(i):this.hide(i);const l=o==null?void 0:o.querySelector(this.config.triggerElement);(l==null?void 0:l.getAttribute("aria-disabled"))!=="true"&&(l==null||l.setAttribute("aria-expanded","false"),l==null||l.addEventListener("click",this.boundEventHandler),this.triggerArr.push(l))})}clickEvent(e){if(!this.disposed){const n=e==null?void 0:e.currentTarget;n&&n.tagName==="A"&&e.preventDefault();const r=n.closest(this.config.parentTrigger),s=r==null?void 0:r.querySelector(this.config.subMenu);this.toggle(s)}}update(){this.disposed=!1,this.init()}dispose(){this.triggerArr.forEach(e=>{e.removeEventListener("click",this.boundEventHandler)}),this.disposed=!0}on(e,n,r){return this.element.addEventListener(e,n,r),this}off(e,n,r){return this.element.removeEventListener(e,n,r),this}emit(e,n,r=!1){const s=new CustomEvent(e,{bubbles:r,detail:n});this.element.dispatchEvent(s)}toggle(e){const n=e.closest(this.config.parentTrigger);n!=null&&n.classList.contains(ij.ACTIVE)?this.hide(e):this.show(e)}show(e){var n;const r=e,{ACTIVE:s,COLLAPSE:i,COLLAPSED:o,COLLAPSING:l,SHOW:c}=ij;if(this.isTransitioning||r.classList.contains(l))return;const u=()=>{r.classList.remove(l),r.style.height="",r.removeEventListener("transitionend",u),this.setTransitioning(!1),this.emit("shown.metisMenu",{shownElement:r})},d=r.closest(this.config.parentTrigger);d==null||d.classList.add(s);const h=d==null?void 0:d.querySelector(this.config.triggerElement);h==null||h.setAttribute("aria-expanded","true"),h==null||h.classList.remove(o),r.style.height="0px",r.classList.remove(i),r.classList.remove(c),r.classList.add(l);const m=[].slice.call((n=d==null?void 0:d.parentNode)===null||n===void 0?void 0:n.children).filter(p=>p!==d);this.config.toggle&&m.length>0&&m.forEach(p=>{const y=p.querySelector(this.config.subMenu);y&&this.hide(y)}),this.setTransitioning(!0),r.classList.add(i),r.classList.add(c),r.style.height=`${r.scrollHeight}px`,this.emit("show.metisMenu",{showElement:r}),r.addEventListener("transitionend",u)}hide(e){const{ACTIVE:n,COLLAPSE:r,COLLAPSED:s,COLLAPSING:i,SHOW:o}=ij,l=e;if(this.isTransitioning||!l.classList.contains(o))return;this.emit("hide.metisMenu",{hideElement:l});const c=l.closest(this.config.parentTrigger);c==null||c.classList.remove(n);const u=()=>{l.classList.remove(i),l.classList.add(r),l.style.height="",l.removeEventListener("transitionend",u),this.setTransitioning(!1),this.emit("hidden.metisMenu",{hiddenElement:l})};l.style.height=`${l.getBoundingClientRect().height}px`,l.style.height=`${l.offsetHeight}px`,l.classList.add(i),l.classList.remove(r),l.classList.remove(o),this.setTransitioning(!0),l.addEventListener("transitionend",u),l.style.height="0px";const d=c==null?void 0:c.querySelector(this.config.triggerElement);d==null||d.setAttribute("aria-expanded","false"),d==null||d.classList.add(s)}setTransitioning(e){this.isTransitioning=e}static isElement(e){return!!e.classList}}const Y7e=[{label:" ",isHeader:!0},{label:"",icon:"bx bx-home-circle",url:"/dashboard"},{label:"  ",isHeader:!0,permission:"member.view"},{label:" ",icon:"bx bx-user-plus",permission:"member.view",subItems:[{label:" ",url:"/members/list",permission:"member.view"},{label:" ",url:"/members/add",permission:"member.create"},{label:"  ",url:"/system-users",permission:"member.manage"}]},{label:"",icon:"bx bx-group",permission:"customer.view",subItems:[{label:" ",url:"/customers/list",permission:"customer.view"},{label:" ",url:"/customers/add",permission:"customer.create"}]},{label:"  ",isHeader:!0,permission:"inventory.view"},{label:" ",icon:"bx bx-cube",permission:"inventory.view",subItems:[{label:" ",url:"/inventory/product-list",permission:"inventory.view"},{label:" ",url:"/inventory/add-product",permission:"inventory.create"},{label:"",url:"/inventory/category-list",permission:"inventory.view"},{label:"",url:"/inventory/unit-list",permission:"inventory.view"}]},{label:" ",isHeader:!0,permission:"receipt.view"},{label:"  ()",icon:"bx bx-log-in-circle",permission:"receipt.view",subItems:[{label:" ",url:"/receipts",permission:"receipt.view"},{label:"  ",url:"/receipt/form",permission:"receipt.create"}]},{label:"  ",icon:"bx bx-truck",permission:"loading.view",subItems:[{label:" ",url:"/loading/list",permission:"loading.view"},{label:" ",url:"/loading/create",permission:"loading.create"},{label:"  ",url:"/exit/list",permission:"exit.view"},{label:"  ()",url:"/exit/create",permission:"exit.create"}]},{label:" ",icon:"bx bx-check-shield",permission:"clearance.view",subItems:[{label:" ",url:"/clearances/form",permission:"clearance.create"},{label:" ",url:"/clearances/report",permission:"clearance.view"}]},{label:"   ",isHeader:!0,permission:"accounting.view"},{label:"",icon:"bx bx-money",permission:"accounting.view",subItems:[{label:" ",url:"/accounting/documents",permission:"accounting.view"},{label:"  ",url:"/accounting/new",permission:"accounting.create"},{label:" ",url:"/accounting/coding",permission:"accounting.create"}]},{label:" ",icon:"bx bx-stats",permission:"accounting.reports",subItems:[{label:" ",url:"/accounting/reports/journal",permission:"accounting.reports"},{label:" ",url:"/accounting/reports/customers",permission:"accounting.reports"},{label:" ",url:"/accounting/reports/ledger",permission:"accounting.reports"},{label:" ",url:"/accounting/reports/comprehensive",permission:"accounting.reports"}]},{label:"",icon:"bx bx-wallet",permission:"accounting.treasury",subItems:[{label:" ",url:"/accounting/list",permission:"accounting.treasury"},{label:" ",url:"/accounting/check-operations",permission:"accounting.treasury"},{label:" ",url:"/accounting/definitions",permission:"accounting.treasury"}]},{label:" ",icon:"bx bx-building-house",permission:"rent.list",subItems:[{label:" ",url:"/rent/list",permission:"rent.list"},{label:"  ",url:"/rent/create",permission:"rent.create"}]},{label:" ",isHeader:!0,permission:"client.portal"},{label:" ",icon:"bx bx-file-blank",url:"/my-contracts",permission:"client.portal"},{label:"  ",icon:"bx bx-box",url:"/my-inventory",permission:"client.portal"},{label:" ",icon:"bx bx-receipt",url:"/my-invoices",permission:"client.portal"}],Sse=t=>{const e=C.useRef(),n=C.useRef(null),r=ou(),[s,i]=C.useState([]),o=C.useCallback(()=>{var h,m;try{const p=localStorage.getItem("user");if(!p)return null;const y=JSON.parse(p),w=y.role||((h=y.member_details)==null?void 0:h.role);let v=y.permissions||((m=y.member_details)==null?void 0:m.permissions)||[];if(typeof v=="string")try{v=JSON.parse(v)}catch{v=v.replace(/[\[\]"]/g,"").split(",").map(_=>_.trim())}return{role:w,permissions:Array.isArray(v)?v:[]}}catch(p){return console.error("Sidebar Error parsing user data:",p),null}},[]),l=C.useCallback(h=>{const m=o();return m?m.role==="admin"||!h?!0:m.permissions.includes(h):!1},[o]);C.useEffect(()=>{const h=Y7e.map(m=>{if(m.isHeader)return l(m.permission)?m:null;if(m.subItems){const p=m.subItems.filter(y=>l(y.permission));return p.length===0?null:{...m,subItems:p}}return l(m.permission)?m:null}).filter(Boolean);i(h)},[l]),C.useEffect(()=>{if(s.length>0){const m=setTimeout(()=>{if(n.current)try{n.current.dispose()}catch{}document.getElementById("side-menu")&&(n.current=new rC("#side-menu"),c())},200);return()=>{clearTimeout(m),n.current&&n.current.dispose()}}},[s,r.pathname]);const c=C.useCallback(()=>{const h=r.pathname,m=document.getElementById("side-menu");if(!m)return;const p=m.getElementsByTagName("a");for(let y=0;y<p.length;++y)if(h===p[y].pathname){u(p[y]);break}},[r.pathname]),u=h=>{h.classList.add("active");const m=h.parentElement;if(m){m.classList.add("mm-active");const p=m.parentElement;if(p&&p.id!=="side-menu"){p.classList.add("mm-show");const y=p.parentElement;if(y){y.classList.add("mm-active");const w=y.querySelector("a.has-arrow");w&&w.classList.add("mm-active")}}}},d=h=>t.t&&t.t(h)||h;return a.jsx(oe.Fragment,{children:a.jsx(cN,{className:"h-100",ref:e,children:a.jsx("div",{id:"sidebar-menu",children:a.jsx("ul",{className:"metismenu list-unstyled",id:"side-menu",children:s.map((h,m)=>a.jsx(oe.Fragment,{children:h.isHeader?a.jsx("li",{className:"menu-title",children:d(h.label)}):h.subItems?a.jsxs("li",{children:[a.jsxs(Le,{to:"/#",className:"has-arrow waves-effect",children:[a.jsx("i",{className:h.icon}),a.jsx("span",{children:d(h.label)})]}),a.jsx("ul",{className:"sub-menu","aria-expanded":"false",children:h.subItems.map((p,y)=>a.jsx("li",{children:a.jsx(Le,{to:p.url,className:"waves-effect",children:d(p.label)})},y))})]}):a.jsx("li",{children:a.jsxs(Le,{to:h.url,className:"waves-effect",children:[a.jsx("i",{className:h.icon}),a.jsx("span",{children:d(h.label)})]})})},m))})})})})};Sse.propTypes={location:P.object,t:P.any};const H8=uN()(Sse),jse="/assets/logo-light-BlQtlCZa.png",Tse="/assets/logo-dark-J_X7roAB.png",Cse=t=>a.jsx(oe.Fragment,{children:a.jsxs("div",{className:"vertical-menu",children:[a.jsxs("div",{className:"navbar-brand-box",children:[a.jsxs(Le,{to:"/",className:"logo logo-dark",children:[a.jsx("span",{className:"logo-sm",children:a.jsx("img",{src:V0,alt:"",height:"22"})}),a.jsx("span",{className:"logo-lg",children:a.jsx("img",{src:Tse,alt:"",height:"17"})})]}),a.jsxs(Le,{to:"/",className:"logo logo-light",children:[a.jsx("span",{className:"logo-sm",children:a.jsx("img",{src:lN,alt:"",height:"22"})}),a.jsx("span",{className:"logo-lg",children:a.jsx("img",{src:jse,alt:"",height:"19"})})]})]}),a.jsx("div",{className:"h-100",children:t.type!=="condensed"?a.jsx(H8,{}):a.jsx(H8,{})}),a.jsx("div",{className:"sidebar-background"})]})});Cse.propTypes={type:P.string};const K7e=t=>({layout:t.Layout}),J7e=gb(K7e,{})(yg(uN()(Cse))),Q7e=()=>a.jsx(oe.Fragment,{children:a.jsx("footer",{className:"footer",children:a.jsx(gn,{fluid:!0,children:a.jsxs(ge,{children:[a.jsxs($,{md:6,children:[new Date().getFullYear(),"  Skote."]}),a.jsx($,{md:6,children:a.jsx("div",{className:"text-sm-end d-none d-sm-block",children:"      "})})]})})})}),Z7e="/assets/img1-C96tXIsY.jpg",X7e="/assets/img2-qFI2s88c.jpg",eYe="/assets/img3-DttWeaB9.jpg",tYe="/assets/img4-D-MgRLyP.jpg",nYe="/assets/layout-1-D0y5W9JW.jpg",rYe="/assets/layout-2-CaCZ5c4n.jpg",sYe="/assets/layout-3-CS1mEtcQ.jpg",nw={HORIZONTAL:"horizontal",VERTICAL:"vertical"},qm={FLUID:"fluid",BOXED:"boxed",SCROLLABLE:"scrollable"},rw={DARK:"dark",LIGHT:"light"},Ym={LIGHT:"light",DARK:"dark",COLORED:"colored"},Vc={NONE:"none",IMG1:"img1",IMG2:"img2",IMG3:"img3",IMG4:"img4"},Km={DEFAULT:"default",COMPACT:"compact",ICON:"icon"},aa={LIGHT:"light",COLORED:"colored",DARK:"dark",WINTER:"winter",LADYLIP:"ladylip",PLUMPLATE:"plumplate",STRONGBLISS:"strongbliss",GREATWHALE:"greatwhale"},Ase=t=>a.jsxs(oe.Fragment,{children:[a.jsx("div",{className:"right-bar",id:"right-bar",children:a.jsx(cN,{style:{height:"900px"},children:a.jsxs("div",{"data-simplebar":!0,className:"h-100",children:[a.jsxs("div",{className:"rightbar-title px-3 py-4",children:[a.jsx(Le,{to:"#",onClick:e=>{e.preventDefault(),t.showRightSidebarAction(!1)},className:"right-bar-toggle float-end",children:a.jsx("i",{className:"mdi mdi-close noti-icon"})}),a.jsx("h5",{className:"m-0",children:""})]}),a.jsx("hr",{className:"my-0"}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"radio-toolbar",children:[a.jsx("span",{className:"mb-2 d-block",children:"  "}),a.jsx("input",{type:"radio",id:"radioVertical",name:"radioFruit",value:nw.VERTICAL,checked:t.layoutType===nw.VERTICAL,onChange:e=>{e.target.checked&&t.changeLayout(e.target.value)}}),a.jsx("label",{className:"me-1",htmlFor:"radioVertical",children:""}),a.jsx("input",{type:"radio",id:"radioHorizontal",name:"radioFruit",value:nw.HORIZONTAL,checked:t.layoutType===nw.HORIZONTAL,onChange:e=>{e.target.checked&&t.changeLayout(e.target.value)}}),a.jsx("label",{htmlFor:"radioHorizontal",children:""})]}),a.jsx("hr",{className:"mt-1"}),a.jsxs("div",{className:"radio-toolbar",children:[a.jsx("span",{className:"mb-2 d-block",children:" "}),a.jsx("input",{type:"radio",id:"radioLight",name:"radioLight",value:rw.LIGHT,checked:t.layoutModeType===rw.LIGHT,onChange:e=>{e.target.checked&&t.changeLayoutMode(e.target.value)}}),a.jsx("label",{className:"me-1",htmlFor:"radioLight",children:""}),a.jsx("input",{type:"radio",id:"radioDark",name:"radioDark",value:rw.DARK,checked:t.layoutModeType===rw.DARK,onChange:e=>{e.target.checked&&t.changeLayoutMode(e.target.value)}}),a.jsx("label",{htmlFor:"radioDark",children:""})]}),a.jsx("hr",{className:"mt-1"}),a.jsxs("div",{className:"radio-toolbar",children:[a.jsx("span",{className:"mb-2 d-block",id:"radio-title",children:" "}),a.jsx("input",{type:"radio",id:"radioFluid",name:"radioWidth",value:qm.FLUID,checked:t.layoutWidth===qm.FLUID,onChange:e=>{e.target.checked&&t.changeLayoutWidth(e.target.value)}}),a.jsx("label",{className:"me-1",htmlFor:"radioFluid",children:""}),a.jsx("input",{type:"radio",id:"radioBoxed",name:"radioWidth",value:qm.BOXED,checked:t.layoutWidth===qm.BOXED,onChange:e=>{e.target.checked&&t.changeLayoutWidth(e.target.value)}}),a.jsx("label",{htmlFor:"radioBoxed",className:"me-1",children:" "}),a.jsx("input",{type:"radio",id:"radioscrollable",name:"radioscrollable",value:qm.SCROLLABLE,checked:t.layoutWidth===qm.SCROLLABLE,onChange:e=>{e.target.checked&&t.changeLayoutWidth(e.target.value)}}),a.jsx("label",{htmlFor:"radioscrollable",children:" "})]}),a.jsx("hr",{className:"mt-1"}),a.jsxs("div",{className:"radio-toolbar",children:[a.jsx("span",{className:"mb-2 d-block",id:"radio-title",children:"   "}),a.jsx("input",{type:"radio",id:"radioThemeLight",name:"radioTheme",value:Ym.LIGHT,checked:t.topbarTheme===Ym.LIGHT,onChange:e=>{e.target.checked&&t.changeTopbarTheme(e.target.value)}}),a.jsx("label",{className:"me-1",htmlFor:"radioThemeLight",children:""}),a.jsx("input",{type:"radio",id:"radioThemeDark",name:"radioTheme",value:Ym.DARK,checked:t.topbarTheme===Ym.DARK,onChange:e=>{e.target.checked&&t.changeTopbarTheme(e.target.value)}}),a.jsx("label",{className:"me-1",htmlFor:"radioThemeDark",children:""}),t.layoutType==="vertical"?null:a.jsxs(a.Fragment,{children:[a.jsx("input",{type:"radio",id:"radioThemeColored",name:"radioTheme",value:Ym.COLORED,checked:t.topbarTheme===Ym.COLORED,onChange:e=>{e.target.checked&&t.changeTopbarTheme(e.target.value)}}),a.jsx("label",{className:"me-1",htmlFor:"radioThemeColored",children:""})," "]})]}),t.layoutType==="vertical"?a.jsxs(oe.Fragment,{children:[a.jsx("hr",{className:"mt-1"}),a.jsxs("div",{className:"radio-toolbar",children:[a.jsxs("span",{className:"mb-2 d-block",id:"radio-title",children:["    "," "]}),a.jsx("input",{type:"radio",id:"sidebarDefault",name:"sidebarType",value:Km.DEFAULT,checked:t.leftSideBarType===Km.DEFAULT,onChange:e=>{e.target.checked&&t.changeSidebarType(e.target.value)}}),a.jsx("label",{className:"me-1",htmlFor:"sidebarDefault",children:" "}),a.jsx("input",{type:"radio",id:"sidebarCompact",name:"sidebarType",value:Km.COMPACT,checked:t.leftSideBarType===Km.COMPACT,onChange:e=>{e.target.checked&&t.changeSidebarType(e.target.value)}}),a.jsx("label",{className:"me-1",htmlFor:"sidebarCompact",children:""}),a.jsx("input",{type:"radio",id:"sidebarIcon",name:"sidebarType",value:Km.ICON,checked:t.leftSideBarType===Km.ICON,onChange:e=>{e.target.checked&&t.changeSidebarType(e.target.value)}}),a.jsx("label",{className:"me-1",htmlFor:"sidebarIcon",children:""})]}),a.jsx("hr",{className:"mt-1"}),a.jsxs("div",{className:"radio-toolbar coloropt-radio",children:[a.jsx("span",{className:"mb-2 d-block",id:"radio-title",children:"      "}),a.jsx(ge,{children:a.jsxs($,{children:[a.jsx("input",{type:"radio",id:"leftsidebarThemelight",name:"leftsidebarTheme",value:aa.LIGHT,checked:t.leftSideBarTheme===aa.LIGHT,onChange:e=>{e.target.checked&&t.changeSidebarTheme(e.target.value)}}),a.jsx("label",{htmlFor:"leftsidebarThemelight",className:t.layoutModeType==="dark"?"bg-dark rounded-circle wh-30 me-1":"bg-light rounded-circle wh-30 me-1"}),a.jsx("input",{type:"radio",id:"leftsidebarThemedark",name:"leftsidebarTheme",value:aa.DARK,checked:t.leftSideBarTheme===aa.DARK,onChange:e=>{e.target.checked&&t.changeSidebarTheme(e.target.value)}}),a.jsx("label",{htmlFor:"leftsidebarThemedark",className:t.layoutModeType==="light"?"bg-dark rounded-circle wh-30 me-1":"bg-light rounded-circle wh-30 me-1"}),a.jsx("input",{type:"radio",id:"leftsidebarThemecolored",name:"leftsidebarTheme",value:aa.COLORED,checked:t.leftSideBarTheme===aa.COLORED,onChange:e=>{e.target.checked&&t.changeSidebarTheme(e.target.value)}}),a.jsx("label",{htmlFor:"leftsidebarThemecolored",className:"bg-colored rounded-circle wh-30 me-1"})]})}),a.jsx(ge,{children:a.jsxs($,{children:[a.jsx("input",{type:"radio",id:"leftsidebarThemewinter",name:"leftsidebarTheme",value:aa.WINTER,checked:t.leftSideBarTheme===aa.WINTER,onChange:e=>{e.target.checked&&t.changeSidebarTheme(e.target.value)}}),a.jsx("label",{htmlFor:"leftsidebarThemewinter",className:"gradient-winter rounded-circle wh-30 me-1"}),a.jsx("input",{type:"radio",id:"leftsidebarThemeladylip",name:"leftsidebarTheme",value:aa.LADYLIP,checked:t.leftSideBarTheme===aa.LADYLIP,onChange:e=>{e.target.checked&&t.changeSidebarTheme(e.target.value)}}),a.jsx("label",{htmlFor:"leftsidebarThemeladylip",className:"gradient-lady-lip rounded-circle wh-30 me-1"}),a.jsx("input",{type:"radio",id:"leftsidebarThemeplumplate",name:"leftsidebarTheme",value:aa.PLUMPLATE,checked:t.leftSideBarTheme===aa.PLUMPLATE,onChange:e=>{e.target.checked&&t.changeSidebarTheme(e.target.value)}}),a.jsx("label",{htmlFor:"leftsidebarThemeplumplate",className:"gradient-plum-plate rounded-circle wh-30 me-1"}),a.jsx("input",{type:"radio",id:"leftsidebarThemestrongbliss",name:"leftsidebarTheme",value:aa.STRONGBLISS,checked:t.leftSideBarTheme===aa.STRONGBLISS,onChange:e=>{e.target.checked&&t.changeSidebarTheme(e.target.value)}}),a.jsx("label",{htmlFor:"leftsidebarThemestrongbliss",className:"gradient-strong-bliss rounded-circle wh-30 me-1"}),a.jsx("input",{type:"radio",id:"leftsidebarThemesgreatwhale",name:"leftsidebarTheme",value:aa.GREATWHALE,checked:t.leftSideBarTheme===aa.GREATWHALE,onChange:e=>{e.target.checked&&t.changeSidebarTheme(e.target.value)}}),a.jsx("label",{htmlFor:"leftsidebarThemesgreatwhale",className:"gradient-strong-great-whale rounded-circle wh-30 me-1"})]})})]}),a.jsxs("div",{className:"radio-toolbar imgopt-radio",children:[a.jsx("span",{className:"mb-2 d-block",id:"radio-bgimg",children:"      "}),a.jsxs("div",{className:"d-flex gap-2 flex-wrap",children:[a.jsx("input",{type:"radio",id:"leftsidebarThemebgimg1",name:"leftsidebarThemeImage",value:Vc.IMG1,checked:t.leftSideBarThemeImage===Vc.IMG1,onChange:e=>{e.target.checked&&t.changeSidebarThemeImage(e.target.value)}}),a.jsx("label",{htmlFor:"leftsidebarThemebgimg1",children:a.jsx("img",{alt:"sidebar bg image",width:"90",className:"themesideimage rounded",src:Z7e})}),"   ",a.jsx("input",{type:"radio",id:"leftsidebarThemebgimg2",name:"leftsidebarThemeImage",value:Vc.IMG2,checked:t.leftSideBarThemeImage===Vc.IMG2,onChange:e=>{e.target.checked&&t.changeSidebarThemeImage(e.target.value)}}),a.jsx("label",{htmlFor:"leftsidebarThemebgimg2",children:a.jsx("img",{alt:"sidebar bg image",width:"90",className:"themesideimage rounded",src:X7e})}),"   ",a.jsx("input",{type:"radio",id:"leftsidebarThemebgimg3",name:"leftsidebarThemeImage",value:Vc.IMG3,checked:t.leftSideBarThemeImage===Vc.IMG3,onChange:e=>{e.target.checked&&t.changeSidebarThemeImage(e.target.value)}}),a.jsx("label",{htmlFor:"leftsidebarThemebgimg3",children:a.jsx("img",{alt:"sidebar bg image",width:"90",className:"themesideimage rounded",src:eYe})}),"   ",a.jsx("input",{type:"radio",id:"leftsidebarThemebgimg4",name:"leftsidebarThemeImage",value:Vc.IMG4,checked:t.leftSideBarThemeImage===Vc.IMG4,onChange:e=>{e.target.checked&&t.changeSidebarThemeImage(e.target.value)}}),a.jsx("label",{htmlFor:"leftsidebarThemebgimg4",children:a.jsx("img",{alt:"sidebar bg image",width:"90",className:"themesideimage rounded",src:tYe})}),"   ",a.jsx("input",{type:"radio",id:"leftsidebarThemenone",name:"leftsidebarThemeImage",value:Vc.NONE,checked:t.leftSideBarThemeImage===Vc.NONE,onChange:e=>{e.target.checked&&t.changeSidebarThemeImage(e.target.value)}}),a.jsx("label",{htmlFor:"leftsidebarThemenone",children:a.jsx("div",{style:{width:"40px",height:"80px"},children:a.jsx("div",{className:"bg-light border px-2 h-100 shadow-none",children:a.jsx("div",{className:"verticalcontent",children:""})})})}),"   "]})]}),a.jsx("hr",{className:"mt-1"})]}):null,a.jsxs(qQ,{children:[a.jsx("span",{className:"mb-2 d-block",id:"radio-title",children:" "}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{type:"checkbox",className:"form-check-input checkbox",id:"checkbox_1",checked:t.isPreloader,onChange:()=>{t.changePreloader(!t.isPreloader)}}),a.jsx("label",{className:"form-check-label",htmlFor:"checkbox_1",children:" "})]})]}),a.jsx("h6",{className:"text-center",children:" "}),a.jsx("div",{className:"mb-2",children:a.jsx(Le,{to:"//skote-v-light.react.themesbrand.com",target:"_blank",children:a.jsx("img",{src:nYe,className:"img-fluid img-thumbnail",alt:""})})}),a.jsx("div",{className:"mb-2",children:a.jsx(Le,{to:"//skote-v-dark.react.themesbrand.com",target:"_blank",children:a.jsx("img",{src:rYe,className:"img-fluid img-thumbnail",alt:""})})}),a.jsx("div",{className:"mb-2",children:a.jsx(Le,{to:"//skote-v-rtl.react.themesbrand.com",target:"_blank",children:a.jsx("img",{src:sYe,className:"img-fluid img-thumbnail",alt:""})})}),a.jsxs(Le,{to:"//1.envato.market/skotereact",className:"btn btn-primary btn-block mt-3",target:"_blank",children:[a.jsx("i",{className:"mdi mdi-cart ms-1"}),"   "]})]})]})})}),a.jsx("div",{className:"rightbar-overlay"})]});Ase.propTypes={changeLayout:P.func,changeLayoutWidth:P.func,changePreloader:P.func,changeSidebarTheme:P.func,changeSidebarThemeImage:P.func,changeSidebarType:P.func,changeTopbarTheme:P.func,isPreloader:P.any,layoutType:P.any,layoutModeType:P.any,changeLayoutMode:P.func,layoutWidth:P.any,leftSideBarTheme:P.any,leftSideBarThemeImage:P.any,leftSideBarType:P.any,showRightSidebarAction:P.func,topbarTheme:P.any,onClose:P.func};const iYe=t=>({...t.Layout}),Nse=gb(iYe,{changeLayout:G$,changeLayoutMode:sA,changeSidebarTheme:NY,changeSidebarThemeImage:IY,changeSidebarType:xf,changeLayoutWidth:H$,changeTopbarTheme:q$,changePreloader:ywe,showRightSidebarAction:b0})(Ase),Ise=t=>{const e=Qf(),n=ig(y=>y.Layout,y=>({isPreloader:y.isPreloader,layoutModeType:y.layoutModeType,leftSideBarThemeImage:y.leftSideBarThemeImage,leftSideBarType:y.leftSideBarType,layoutWidth:y.layoutWidth,topbarTheme:y.topbarTheme,showRightSidebar:y.showRightSidebar,leftSideBarTheme:y.leftSideBarTheme})),{isPreloader:r,leftSideBarThemeImage:s,layoutWidth:i,leftSideBarType:o,topbarTheme:l,showRightSidebar:c,leftSideBarTheme:u,layoutModeType:d}=pb(n),h=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),m=()=>{o==="default"?e(xf("condensed",h)):o==="condensed"&&e(xf("default",h))},p=y=>{var w=document.getElementById("right-bar");w&&w.contains(y.target)||e(b0(!1))};return C.useEffect(()=>{document.body.addEventListener("click",p,!0),r===!0?(document.getElementById("preloader").style.display="block",document.getElementById("status").style.display="block",setTimeout(function(){document.getElementById("preloader").style.display="none",document.getElementById("status").style.display="none"},2500)):(document.getElementById("preloader").style.display="none",document.getElementById("status").style.display="none")},[r]),C.useEffect(()=>{window.scrollTo(0,0)},[]),C.useEffect(()=>{e(G$("vertical"))},[e]),C.useEffect(()=>{u&&e(NY(u))},[u,e]),C.useEffect(()=>{d&&e(sA(d))},[d,e]),C.useEffect(()=>{s&&e(IY(s))},[s,e]),C.useEffect(()=>{i&&e(H$(i))},[i,e]),C.useEffect(()=>{o&&e(xf(o))},[o,e]),C.useEffect(()=>{l&&e(q$(l))},[l,e]),a.jsxs(oe.Fragment,{children:[a.jsx("div",{id:"preloader",children:a.jsx("div",{id:"status",children:a.jsxs("div",{className:"spinner-chase",children:[a.jsx("div",{className:"chase-dot"}),a.jsx("div",{className:"chase-dot"}),a.jsx("div",{className:"chase-dot"}),a.jsx("div",{className:"chase-dot"}),a.jsx("div",{className:"chase-dot"}),a.jsx("div",{className:"chase-dot"})]})})}),a.jsxs("div",{id:"layout-wrapper",children:[a.jsx(N7e,{toggleMenuCallback:m}),a.jsx(J7e,{theme:u,type:o,isMobile:h}),a.jsx("div",{className:"main-content",children:t.children}),a.jsx(Q7e,{})]}),c?a.jsx(Nse,{}):null]})};Ise.propTypes={changeLayoutWidth:P.func,changeSidebarTheme:P.func,changeSidebarThemeImage:P.func,changeSidebarType:P.func,changeTopbarTheme:P.func,isPreloader:P.any,layoutWidth:P.any,leftSideBarTheme:P.any,leftSideBarThemeImage:P.any,leftSideBarType:P.any,location:P.object,showRightSidebar:P.any,topbarTheme:P.any};const q8=yg(Ise),kse=t=>{var p,y;const[e,n]=C.useState(!1),[r,s]=C.useState(!1),[i,o]=C.useState(!1),[l,c]=C.useState(null),[u,d]=C.useState(!0);C.useEffect(()=>{async function w(){d(!0);try{const v=await cn("/users/me");c(v)}catch{}d(!1)}w()},[]),C.useEffect(()=>{var w=null,v=document.getElementById("navigation"),x=v.getElementsByTagName("a");h(x);for(var _=0;_<x.length;++_)if(window.location.pathname===x[_].pathname){w=x[_];break}w&&m(w)});const h=w=>{for(var v=0;v<w.length;++v){var x=w[v];const _=w[v].parentElement;x&&x.classList.contains("active")&&x.classList.remove("active"),_&&_.classList.contains("active")&&_.classList.remove("active")}};function m(w){w.classList.add("active");const v=w.parentElement;if(v){v.classList.add("active");const x=v.parentElement;if(x){x.classList.add("active");const _=x.parentElement;if(_){_.classList.add("active");const E=_.parentElement;E&&E.classList.add("active")}}}return!1}return a.jsx(oe.Fragment,{children:a.jsx("div",{className:"topnav",children:a.jsx("div",{className:"container-fluid",children:a.jsx("nav",{className:"navbar navbar-light navbar-expand-lg topnav-menu",id:"navigation",children:a.jsx(x0,{isOpen:t.leftMenu,className:"navbar-collapse",id:"topnav-menu-content",children:a.jsxs("ul",{className:"navbar-nav",children:[a.jsx("li",{className:"nav-item",children:a.jsxs(Le,{className:"nav-link",to:"/dashboard",children:[a.jsx("i",{className:"bx bx-home-circle me-2"}),""]})}),a.jsxs("li",{className:"nav-item dropdown",children:[a.jsxs(Le,{to:"/#",onClick:w=>{w.preventDefault(),n(!e)},className:"nav-link dropdown-toggle arrow-none",children:[a.jsx("i",{className:"bx bx-layer me-2"})," ",a.jsx("div",{className:"arrow-down"})]}),a.jsxs("div",{className:Rt("dropdown-menu",{show:e}),children:[a.jsxs(Le,{to:"/inventory/unit-list",className:"dropdown-item",children:[a.jsx("i",{className:"bx bx-layer font-size-16 me-2"})," "]}),a.jsxs(Le,{to:"/inventory/category-list",className:"dropdown-item",children:[a.jsx("i",{className:"bx bx-category font-size-16 me-2"}),""]}),a.jsxs(Le,{to:"/inventory/product-list",className:"dropdown-item",children:[a.jsx("i",{className:"bx bx-package font-size-16 me-2"}),""]}),a.jsxs(Le,{to:"/inventory/warehouse-list",className:"dropdown-item",children:[a.jsx("i",{className:"bx bx-store font-size-16 me-2"}),""]})]})]}),a.jsxs("li",{className:"nav-item dropdown",children:[a.jsxs(Le,{to:"/#",onClick:w=>{w.preventDefault(),s(!r)},className:"nav-link dropdown-toggle arrow-none",children:[a.jsx("i",{className:"bx bx-transfer me-2"}),"  ",a.jsx("div",{className:"arrow-down"})]}),a.jsxs("div",{className:Rt("dropdown-menu",{show:r}),children:[a.jsxs(Le,{to:"/transactions/stock-in",className:"dropdown-item",children:[a.jsx("i",{className:"bx bx-import font-size-16 me-2"})," "]}),a.jsxs(Le,{to:"/transactions/stock-out",className:"dropdown-item",children:[a.jsx("i",{className:"bx bx-export font-size-16 me-2"})," "]}),a.jsxs(Le,{to:"/transactions/transfer",className:"dropdown-item",children:[a.jsx("i",{className:"bx bx-transfer font-size-16 me-2"}),"  "]})]})]}),a.jsxs("li",{className:"nav-item dropdown",children:[a.jsxs(Le,{to:"/#",onClick:w=>{w.preventDefault(),o(!i)},className:"nav-link dropdown-toggle arrow-none",children:[a.jsx("i",{className:"bx bx-bar-chart-alt-2 me-2"})," ",a.jsx("div",{className:"arrow-down"})]}),a.jsxs("div",{className:Rt("dropdown-menu",{show:i}),children:[a.jsxs(Le,{to:"/reports/stock",className:"dropdown-item",children:[a.jsx("i",{className:"bx bx-list-ul font-size-16 me-2"})," "]}),a.jsxs(Le,{to:"/reports/transactions",className:"dropdown-item",children:[a.jsx("i",{className:"bx bx-history font-size-16 me-2"})," "]}),a.jsxs(Le,{to:"/reports/value",className:"dropdown-item",children:[a.jsx("i",{className:"bx bx-dollar-circle font-size-16 me-2"}),"  "]})]})]}),!u&&l&&a.jsx("li",{className:"nav-item ms-auto",children:a.jsx(Le,{className:"nav-link",to:"/profile",children:a.jsxs("div",{className:"d-flex align-items-center",children:[(p=l.avatar)!=null&&p.url?a.jsx("img",{src:l.avatar.url,alt:l.full_name,className:"avatar-xs rounded-circle me-2"}):a.jsx("div",{className:"avatar-xs me-2",children:a.jsx("span",{className:"avatar-title rounded-circle bg-soft-primary text-primary",children:((y=l.full_name)==null?void 0:y.charAt(0))||"U"})}),a.jsx("span",{className:"d-none d-md-inline-block",children:l.full_name})]})})})]})})})})})})};kse.propTypes={leftMenu:P.any,location:P.any};const aYe=t=>{const{leftMenu:e}=t.Layout;return{leftMenu:e}},oYe=yg(gb(aYe,{})(kse));var sC={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */sC.exports;(function(t,e){(function(){var n,r="4.17.21",s=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",u=500,d="__lodash_placeholder__",h=1,m=2,p=4,y=1,w=2,v=1,x=2,_=4,E=8,T=16,N=32,D=64,O=128,F=256,V=512,z=30,U="...",H=800,J=16,q=1,L=2,Y=3,ne=1/0,te=9007199254740991,ce=17976931348623157e292,ve=NaN,Ue=4294967295,Ae=Ue-1,at=Ue>>>1,it=[["ary",O],["bind",v],["bindKey",x],["curry",E],["curryRight",T],["flip",V],["partial",N],["partialRight",D],["rearg",F]],Te="[object Arguments]",Tt="[object Array]",ct="[object AsyncFunction]",pt="[object Boolean]",vt="[object Date]",Ht="[object DOMException]",It="[object Error]",Ut="[object Function]",Xt="[object GeneratorFunction]",Ee="[object Map]",We="[object Number]",Jt="[object Null]",ke="[object Object]",lt="[object Promise]",_e="[object Proxy]",Q="[object RegExp]",ee="[object Set]",Z="[object String]",ye="[object Symbol]",be="[object Undefined]",A="[object WeakMap]",B="[object WeakSet]",se="[object ArrayBuffer]",de="[object DataView]",Se="[object Float32Array]",we="[object Float64Array]",Me="[object Int8Array]",tt="[object Int16Array]",Re="[object Int32Array]",qe="[object Uint8Array]",Je="[object Uint8ClampedArray]",nt="[object Uint16Array]",rt="[object Uint32Array]",Dt=/\b__p \+= '';/g,yn=/\b(__p \+=) '' \+/g,vn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,qt=/&(?:amp|lt|gt|quot|#39);/g,tn=/[&<>"']/g,Xn=RegExp(qt.source),Kn=RegExp(tn.source),Qe=/<%-([\s\S]+?)%>/g,or=/<%([\s\S]+?)%>/g,an=/<%=([\s\S]+?)%>/g,zn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wt=/^\w*$/,Ze=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,At=/[\\^$.*+?()[\]{}|]/g,ot=RegExp(At.source),Pt=/^\s+/,_n=/\s/,Qt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,xt=/\{\n\/\* \[wrapped with (.+)\] \*/,St=/,? & /,Lt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,kt=/[()=,{}\[\]\/\s]/,Bt=/\\(\\)?/g,xr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pr=/\w*$/,_a=/^[-+]0x[0-9a-f]+$/i,On=/^0b[01]+$/i,Rn=/^\[object .+?Constructor\]$/,Mr=/^0o[0-7]+$/i,Ar=/^(?:0|[1-9]\d*)$/,ls=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Wn=/($^)/,Ki=/['\n\r\u2028\u2029\\]/g,vs="\\ud800-\\udfff",ki="\\u0300-\\u036f",Rs="\\ufe20-\\ufe2f",Gn="\\u20d0-\\u20ff",Ur=ki+Rs+Gn,ur="\\u2700-\\u27bf",gr="a-z\\xdf-\\xf6\\xf8-\\xff",zr="\\xac\\xb1\\xd7\\xf7",bs="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Qr="\\u2000-\\u206f",Va=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ji="A-Z\\xc0-\\xd6\\xd8-\\xde",Qi="\\ufe0e\\ufe0f",Oi=zr+bs+Qr+Va,Ua="[']",bi="["+vs+"]",el="["+Oi+"]",mo="["+Ur+"]",du="\\d+",Ul="["+ur+"]",tl="["+gr+"]",po="[^"+vs+Oi+du+ur+gr+Ji+"]",Bl="\\ud83c[\\udffb-\\udfff]",hu="(?:"+mo+"|"+Bl+")",go="[^"+vs+"]",Qs="(?:\\ud83c[\\udde6-\\uddff]){2}",Tc="[\\ud800-\\udbff][\\udc00-\\udfff]",_s="["+Ji+"]",wa="\\u200d",Ba="(?:"+tl+"|"+po+")",_i="(?:"+_s+"|"+po+")",yo="(?:"+Ua+"(?:d|ll|m|re|s|t|ve))?",Ri="(?:"+Ua+"(?:D|LL|M|RE|S|T|VE))?",fu=hu+"?",Pi="["+Qi+"]?",mu="(?:"+wa+"(?:"+[go,Qs,Tc].join("|")+")"+Pi+fu+")*",pu="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",gu="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",yu=Pi+fu+mu,nl="(?:"+[Ul,Qs,Tc].join("|")+")"+yu,vo="(?:"+[go+mo+"?",mo,Qs,Tc,bi].join("|")+")",rl=RegExp(Ua,"g"),er=RegExp(mo,"g"),Zi=RegExp(Bl+"(?="+Bl+")|"+vo+yu,"g"),cd=RegExp([_s+"?"+tl+"+"+yo+"(?="+[el,_s,"$"].join("|")+")",_i+"+"+Ri+"(?="+[el,_s+Ba,"$"].join("|")+")",_s+"?"+Ba+"+"+yo,_s+"+"+Ri,gu,pu,du,nl].join("|"),"g"),gt=RegExp("["+wa+vs+Ur+Qi+"]"),Fn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Nn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Tn=-1,wn={};wn[Se]=wn[we]=wn[Me]=wn[tt]=wn[Re]=wn[qe]=wn[Je]=wn[nt]=wn[rt]=!0,wn[Te]=wn[Tt]=wn[se]=wn[pt]=wn[de]=wn[vt]=wn[It]=wn[Ut]=wn[Ee]=wn[We]=wn[ke]=wn[Q]=wn[ee]=wn[Z]=wn[A]=!1;var on={};on[Te]=on[Tt]=on[se]=on[de]=on[pt]=on[vt]=on[Se]=on[we]=on[Me]=on[tt]=on[Re]=on[Ee]=on[We]=on[ke]=on[Q]=on[ee]=on[Z]=on[ye]=on[qe]=on[Je]=on[nt]=on[rt]=!0,on[It]=on[Ut]=on[A]=!1;var Er={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},cs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Zs={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},za={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Wa=parseFloat,xa=parseInt,Ge=typeof vl=="object"&&vl&&vl.Object===Object&&vl,nn=typeof self=="object"&&self&&self.Object===Object&&self,un=Ge||nn||Function("return this")(),Ps=e&&!e.nodeType&&e,us=Ps&&!0&&t&&!t.nodeType&&t,Cn=us&&us.exports===Ps,ws=Cn&&Ge.process,ds=function(){try{var he=us&&us.require&&us.require("util").types;return he||ws&&ws.binding&&ws.binding("util")}catch{}}(),vu=ds&&ds.isArrayBuffer,yr=ds&&ds.isDate,bu=ds&&ds.isMap,hm=ds&&ds.isRegExp,ud=ds&&ds.isSet,sl=ds&&ds.isTypedArray;function Xi(he,De,Ce){switch(Ce.length){case 0:return he.call(De);case 1:return he.call(De,Ce[0]);case 2:return he.call(De,Ce[0],Ce[1]);case 3:return he.call(De,Ce[0],Ce[1],Ce[2])}return he.apply(De,Ce)}function fI(he,De,Ce,Ct){for(var Sn=-1,vr=he==null?0:he.length;++Sn<vr;){var Xs=he[Sn];De(Ct,Xs,Ce(Xs),he)}return Ct}function Ds(he,De){for(var Ce=-1,Ct=he==null?0:he.length;++Ce<Ct&&De(he[Ce],Ce,he)!==!1;);return he}function mI(he,De){for(var Ce=he==null?0:he.length;Ce--&&De(he[Ce],Ce,he)!==!1;);return he}function Tg(he,De){for(var Ce=-1,Ct=he==null?0:he.length;++Ce<Ct;)if(!De(he[Ce],Ce,he))return!1;return!0}function _u(he,De){for(var Ce=-1,Ct=he==null?0:he.length,Sn=0,vr=[];++Ce<Ct;){var Xs=he[Ce];De(Xs,Ce,he)&&(vr[Sn++]=Xs)}return vr}function Cg(he,De){var Ce=he==null?0:he.length;return!!Ce&&vh(he,De,0)>-1}function Wb(he,De,Ce){for(var Ct=-1,Sn=he==null?0:he.length;++Ct<Sn;)if(Ce(De,he[Ct]))return!0;return!1}function Ir(he,De){for(var Ce=-1,Ct=he==null?0:he.length,Sn=Array(Ct);++Ce<Ct;)Sn[Ce]=De(he[Ce],Ce,he);return Sn}function zl(he,De){for(var Ce=-1,Ct=De.length,Sn=he.length;++Ce<Ct;)he[Sn+Ce]=De[Ce];return he}function Gb(he,De,Ce,Ct){var Sn=-1,vr=he==null?0:he.length;for(Ct&&vr&&(Ce=he[++Sn]);++Sn<vr;)Ce=De(Ce,he[Sn],Sn,he);return Ce}function pI(he,De,Ce,Ct){var Sn=he==null?0:he.length;for(Ct&&Sn&&(Ce=he[--Sn]);Sn--;)Ce=De(Ce,he[Sn],Sn,he);return Ce}function Hb(he,De){for(var Ce=-1,Ct=he==null?0:he.length;++Ce<Ct;)if(De(he[Ce],Ce,he))return!0;return!1}var mE=qb("length");function gI(he){return he.split("")}function yI(he){return he.match(Lt)||[]}function pE(he,De,Ce){var Ct;return Ce(he,function(Sn,vr,Xs){if(De(Sn,vr,Xs))return Ct=vr,!1}),Ct}function Ag(he,De,Ce,Ct){for(var Sn=he.length,vr=Ce+(Ct?1:-1);Ct?vr--:++vr<Sn;)if(De(he[vr],vr,he))return vr;return-1}function vh(he,De,Ce){return De===De?xE(he,De,Ce):Ag(he,yE,Ce)}function gE(he,De,Ce,Ct){for(var Sn=Ce-1,vr=he.length;++Sn<vr;)if(Ct(he[Sn],De))return Sn;return-1}function yE(he){return he!==he}function dd(he,De){var Ce=he==null?0:he.length;return Ce?Kb(he,De)/Ce:ve}function qb(he){return function(De){return De==null?n:De[he]}}function fm(he){return function(De){return he==null?n:he[De]}}function vE(he,De,Ce,Ct,Sn){return Sn(he,function(vr,Xs,Jn){Ce=Ct?(Ct=!1,vr):De(Ce,vr,Xs,Jn)}),Ce}function Yb(he,De){var Ce=he.length;for(he.sort(De);Ce--;)he[Ce]=he[Ce].value;return he}function Kb(he,De){for(var Ce,Ct=-1,Sn=he.length;++Ct<Sn;){var vr=De(he[Ct]);vr!==n&&(Ce=Ce===n?vr:Ce+vr)}return Ce}function Jb(he,De){for(var Ce=-1,Ct=Array(he);++Ce<he;)Ct[Ce]=De(Ce);return Ct}function vI(he,De){return Ir(De,function(Ce){return[Ce,he[Ce]]})}function bE(he){return he&&he.slice(0,Ng(he)+1).replace(Pt,"")}function Ea(he){return function(De){return he(De)}}function Qb(he,De){return Ir(De,function(Ce){return he[Ce]})}function bh(he,De){return he.has(De)}function $r(he,De){for(var Ce=-1,Ct=he.length;++Ce<Ct&&vh(De,he[Ce],0)>-1;);return Ce}function _E(he,De){for(var Ce=he.length;Ce--&&vh(De,he[Ce],0)>-1;);return Ce}function bI(he,De){for(var Ce=he.length,Ct=0;Ce--;)he[Ce]===De&&++Ct;return Ct}var wE=fm(Er),_I=fm(cs);function wI(he){return"\\"+za[he]}function xI(he,De){return he==null?n:he[De]}function Wl(he){return gt.test(he)}function EI(he){return Fn.test(he)}function SI(he){for(var De,Ce=[];!(De=he.next()).done;)Ce.push(De.value);return Ce}function Zb(he){var De=-1,Ce=Array(he.size);return he.forEach(function(Ct,Sn){Ce[++De]=[Sn,Ct]}),Ce}function mm(he,De){return function(Ce){return he(De(Ce))}}function il(he,De){for(var Ce=-1,Ct=he.length,Sn=0,vr=[];++Ce<Ct;){var Xs=he[Ce];(Xs===De||Xs===d)&&(he[Ce]=d,vr[Sn++]=Ce)}return vr}function _h(he){var De=-1,Ce=Array(he.size);return he.forEach(function(Ct){Ce[++De]=Ct}),Ce}function jI(he){var De=-1,Ce=Array(he.size);return he.forEach(function(Ct){Ce[++De]=[Ct,Ct]}),Ce}function xE(he,De,Ce){for(var Ct=Ce-1,Sn=he.length;++Ct<Sn;)if(he[Ct]===De)return Ct;return-1}function TI(he,De,Ce){for(var Ct=Ce+1;Ct--;)if(he[Ct]===De)return Ct;return Ct}function wu(he){return Wl(he)?AI(he):mE(he)}function Ga(he){return Wl(he)?NI(he):gI(he)}function Ng(he){for(var De=he.length;De--&&_n.test(he.charAt(De)););return De}var CI=fm(Zs);function AI(he){for(var De=Zi.lastIndex=0;Zi.test(he);)++De;return De}function NI(he){return he.match(Zi)||[]}function II(he){return he.match(cd)||[]}var kI=function he(De){De=De==null?un:wh.defaults(un.Object(),De,wh.pick(un,Nn));var Ce=De.Array,Ct=De.Date,Sn=De.Error,vr=De.Function,Xs=De.Math,Jn=De.Object,Cc=De.RegExp,EE=De.String,bo=De.TypeError,pm=Ce.prototype,SE=vr.prototype,xh=Jn.prototype,Ig=De["__core-js_shared__"],gm=SE.toString,Sr=xh.hasOwnProperty,OI=0,jE=function(){var f=/[^.]+$/.exec(Ig&&Ig.keys&&Ig.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}(),kg=xh.toString,RI=gm.call(Jn),PI=un._,DI=Cc("^"+gm.call(Sr).replace(At,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Og=Cn?De.Buffer:n,xu=De.Symbol,Rg=De.Uint8Array,TE=Og?Og.allocUnsafe:n,Pg=mm(Jn.getPrototypeOf,Jn),CE=Jn.create,AE=xh.propertyIsEnumerable,hd=pm.splice,NE=xu?xu.isConcatSpreadable:n,ym=xu?xu.iterator:n,fd=xu?xu.toStringTag:n,Dg=function(){try{var f=Cm(Jn,"defineProperty");return f({},"",{}),f}catch{}}(),LI=De.clearTimeout!==un.clearTimeout&&De.clearTimeout,MI=Ct&&Ct.now!==un.Date.now&&Ct.now,$I=De.setTimeout!==un.setTimeout&&De.setTimeout,Lg=Xs.ceil,vm=Xs.floor,Mg=Jn.getOwnPropertySymbols,IE=Og?Og.isBuffer:n,bm=De.isFinite,Eh=pm.join,$g=mm(Jn.keys,Jn),Ls=Xs.max,xs=Xs.min,kE=Ct.now,OE=De.parseInt,RE=Xs.random,FI=pm.reverse,Xb=Cm(De,"DataView"),_m=Cm(De,"Map"),e_=Cm(De,"Promise"),Sh=Cm(De,"Set"),wm=Cm(De,"WeakMap"),xm=Cm(Jn,"create"),Fg=wm&&new wm,jh={},VI=Am(Xb),UI=Am(_m),BI=Am(e_),zI=Am(Sh),WI=Am(wm),Vg=xu?xu.prototype:n,Em=Vg?Vg.valueOf:n,PE=Vg?Vg.toString:n;function G(f){if(Ms(f)&&!Pn(f)&&!(f instanceof Hn)){if(f instanceof _o)return f;if(Sr.call(f,"__wrapped__"))return RU(f)}return new _o(f)}var Th=function(){function f(){}return function(g){if(!Es(g))return{};if(CE)return CE(g);f.prototype=g;var S=new f;return f.prototype=n,S}}();function Ug(){}function _o(f,g){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=n}G.templateSettings={escape:Qe,evaluate:or,interpolate:an,variable:"",imports:{_:G}},G.prototype=Ug.prototype,G.prototype.constructor=G,_o.prototype=Th(Ug.prototype),_o.prototype.constructor=_o;function Hn(f){this.__wrapped__=f,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ue,this.__views__=[]}function GI(){var f=new Hn(this.__wrapped__);return f.__actions__=xo(this.__actions__),f.__dir__=this.__dir__,f.__filtered__=this.__filtered__,f.__iteratees__=xo(this.__iteratees__),f.__takeCount__=this.__takeCount__,f.__views__=xo(this.__views__),f}function HI(){if(this.__filtered__){var f=new Hn(this);f.__dir__=-1,f.__filtered__=!0}else f=this.clone(),f.__dir__*=-1;return f}function qI(){var f=this.__wrapped__.value(),g=this.__dir__,S=Pn(f),I=g<0,M=S?f.length:0,K=ehe(0,M,this.__views__),ie=K.start,ue=K.end,pe=ue-ie,$e=I?ue:ie-1,Fe=this.__iteratees__,Ye=Fe.length,bt=0,$t=xs(pe,this.__takeCount__);if(!S||!I&&M==pe&&$t==pe)return nU(f,this.__actions__);var dn=[];e:for(;pe--&&bt<$t;){$e+=g;for(var Yn=-1,hn=f[$e];++Yn<Ye;){var tr=Fe[Yn],lr=tr.iteratee,cl=tr.type,Ya=lr(hn);if(cl==L)hn=Ya;else if(!Ya){if(cl==q)continue e;break e}}dn[bt++]=hn}return dn}Hn.prototype=Th(Ug.prototype),Hn.prototype.constructor=Hn;function Ac(f){var g=-1,S=f==null?0:f.length;for(this.clear();++g<S;){var I=f[g];this.set(I[0],I[1])}}function Bg(){this.__data__=xm?xm(null):{},this.size=0}function YI(f){var g=this.has(f)&&delete this.__data__[f];return this.size-=g?1:0,g}function KI(f){var g=this.__data__;if(xm){var S=g[f];return S===c?n:S}return Sr.call(g,f)?g[f]:n}function JI(f){var g=this.__data__;return xm?g[f]!==n:Sr.call(g,f)}function QI(f,g){var S=this.__data__;return this.size+=this.has(f)?0:1,S[f]=xm&&g===n?c:g,this}Ac.prototype.clear=Bg,Ac.prototype.delete=YI,Ac.prototype.get=KI,Ac.prototype.has=JI,Ac.prototype.set=QI;function Nc(f){var g=-1,S=f==null?0:f.length;for(this.clear();++g<S;){var I=f[g];this.set(I[0],I[1])}}function ZI(){this.__data__=[],this.size=0}function DE(f){var g=this.__data__,S=wo(g,f);if(S<0)return!1;var I=g.length-1;return S==I?g.pop():hd.call(g,S,1),--this.size,!0}function XI(f){var g=this.__data__,S=wo(g,f);return S<0?n:g[S][1]}function ek(f){return wo(this.__data__,f)>-1}function LE(f,g){var S=this.__data__,I=wo(S,f);return I<0?(++this.size,S.push([f,g])):S[I][1]=g,this}Nc.prototype.clear=ZI,Nc.prototype.delete=DE,Nc.prototype.get=XI,Nc.prototype.has=ek,Nc.prototype.set=LE;function Ic(f){var g=-1,S=f==null?0:f.length;for(this.clear();++g<S;){var I=f[g];this.set(I[0],I[1])}}function tk(){this.size=0,this.__data__={hash:new Ac,map:new(_m||Nc),string:new Ac}}function nk(f){var g=tS(this,f).delete(f);return this.size-=g?1:0,g}function Eu(f){return tS(this,f).get(f)}function ME(f){return tS(this,f).has(f)}function rk(f,g){var S=tS(this,f),I=S.size;return S.set(f,g),this.size+=S.size==I?0:1,this}Ic.prototype.clear=tk,Ic.prototype.delete=nk,Ic.prototype.get=Eu,Ic.prototype.has=ME,Ic.prototype.set=rk;function md(f){var g=-1,S=f==null?0:f.length;for(this.__data__=new Ic;++g<S;)this.add(f[g])}function sk(f){return this.__data__.set(f,c),this}function Xe(f){return this.__data__.has(f)}md.prototype.add=md.prototype.push=sk,md.prototype.has=Xe;function al(f){var g=this.__data__=new Nc(f);this.size=g.size}function ik(){this.__data__=new Nc,this.size=0}function $E(f){var g=this.__data__,S=g.delete(f);return this.size=g.size,S}function dr(f){return this.__data__.get(f)}function zg(f){return this.__data__.has(f)}function FE(f,g){var S=this.__data__;if(S instanceof Nc){var I=S.__data__;if(!_m||I.length<s-1)return I.push([f,g]),this.size=++S.size,this;S=this.__data__=new Ic(I)}return S.set(f,g),this.size=S.size,this}al.prototype.clear=ik,al.prototype.delete=$E,al.prototype.get=dr,al.prototype.has=zg,al.prototype.set=FE;function Wg(f,g){var S=Pn(f),I=!S&&Nm(f),M=!S&&!I&&kh(f),K=!S&&!I&&!M&&Jg(f),ie=S||I||M||K,ue=ie?Jb(f.length,EE):[],pe=ue.length;for(var $e in f)(g||Sr.call(f,$e))&&!(ie&&($e=="length"||M&&($e=="offset"||$e=="parent")||K&&($e=="buffer"||$e=="byteLength"||$e=="byteOffset")||bd($e,pe)))&&ue.push($e);return ue}function VE(f){var g=f.length;return g?f[bk(0,g-1)]:n}function ak(f,g){return nS(xo(f),pd(g,0,f.length))}function ok(f){return nS(xo(f))}function t_(f,g,S){(S!==n&&!Pc(f[g],S)||S===n&&!(g in f))&&kc(f,g,S)}function Sm(f,g,S){var I=f[g];(!(Sr.call(f,g)&&Pc(I,S))||S===n&&!(g in f))&&kc(f,g,S)}function wo(f,g){for(var S=f.length;S--;)if(Pc(f[S][0],g))return S;return-1}function lk(f,g,S,I){return Su(f,function(M,K,ie){g(I,M,S(M),ie)}),I}function n_(f,g){return f&&Tu(g,Di(g),f)}function ck(f,g){return f&&Tu(g,So(g),f)}function kc(f,g,S){g=="__proto__"&&Dg?Dg(f,g,{configurable:!0,enumerable:!0,value:S,writable:!0}):f[g]=S}function Gg(f,g){for(var S=-1,I=g.length,M=Ce(I),K=f==null;++S<I;)M[S]=K?n:Wk(f,g[S]);return M}function pd(f,g,S){return f===f&&(S!==n&&(f=f<=S?f:S),g!==n&&(f=f>=g?f:g)),f}function Ha(f,g,S,I,M,K){var ie,ue=g&h,pe=g&m,$e=g&p;if(S&&(ie=M?S(f,I,M,K):S(f)),ie!==n)return ie;if(!Es(f))return f;var Fe=Pn(f);if(Fe){if(ie=nhe(f),!ue)return xo(f,ie)}else{var Ye=Sa(f),bt=Ye==Ut||Ye==Xt;if(kh(f))return iU(f,ue);if(Ye==ke||Ye==Te||bt&&!M){if(ie=pe||bt?{}:SU(f),!ue)return pe?Gde(f,ck(ie,f)):Wde(f,n_(ie,f))}else{if(!on[Ye])return M?f:{};ie=rhe(f,Ye,ue)}}K||(K=new al);var $t=K.get(f);if($t)return $t;K.set(f,ie),XU(f)?f.forEach(function(hn){ie.add(Ha(hn,g,S,hn,f,K))}):QU(f)&&f.forEach(function(hn,tr){ie.set(tr,Ha(hn,g,S,tr,f,K))});var dn=$e?pe?Ik:Nk:pe?So:Di,Yn=Fe?n:dn(f);return Ds(Yn||f,function(hn,tr){Yn&&(tr=hn,hn=f[tr]),Sm(ie,tr,Ha(hn,g,S,tr,f,K))}),ie}function r_(f){var g=Di(f);return function(S){return UE(S,f,g)}}function UE(f,g,S){var I=S.length;if(f==null)return!I;for(f=Jn(f);I--;){var M=S[I],K=g[M],ie=f[M];if(ie===n&&!(M in f)||!K(ie))return!1}return!0}function Gl(f,g,S){if(typeof f!="function")throw new bo(o);return h_(function(){f.apply(n,S)},g)}function Ch(f,g,S,I){var M=-1,K=Cg,ie=!0,ue=f.length,pe=[],$e=g.length;if(!ue)return pe;S&&(g=Ir(g,Ea(S))),I?(K=Wb,ie=!1):g.length>=s&&(K=bh,ie=!1,g=new md(g));e:for(;++M<ue;){var Fe=f[M],Ye=S==null?Fe:S(Fe);if(Fe=I||Fe!==0?Fe:0,ie&&Ye===Ye){for(var bt=$e;bt--;)if(g[bt]===Ye)continue e;pe.push(Fe)}else K(g,Ye,I)||pe.push(Fe)}return pe}var Su=uU(Hl),BE=uU(i_,!0);function uk(f,g){var S=!0;return Su(f,function(I,M,K){return S=!!g(I,M,K),S}),S}function Hg(f,g,S){for(var I=-1,M=f.length;++I<M;){var K=f[I],ie=g(K);if(ie!=null&&(ue===n?ie===ie&&!ll(ie):S(ie,ue)))var ue=ie,pe=K}return pe}function dk(f,g,S,I){var M=f.length;for(S=Vn(S),S<0&&(S=-S>M?0:M+S),I=I===n||I>M?M:Vn(I),I<0&&(I+=M),I=S>I?0:t5(I);S<I;)f[S++]=g;return f}function zE(f,g){var S=[];return Su(f,function(I,M,K){g(I,M,K)&&S.push(I)}),S}function wi(f,g,S,I,M){var K=-1,ie=f.length;for(S||(S=ihe),M||(M=[]);++K<ie;){var ue=f[K];g>0&&S(ue)?g>1?wi(ue,g-1,S,I,M):zl(M,ue):I||(M[M.length]=ue)}return M}var s_=dU(),WE=dU(!0);function Hl(f,g){return f&&s_(f,g,Di)}function i_(f,g){return f&&WE(f,g,Di)}function ql(f,g){return _u(g,function(S){return _d(f[S])})}function gd(f,g){g=Nh(g,f);for(var S=0,I=g.length;f!=null&&S<I;)f=f[Cu(g[S++])];return S&&S==I?f:n}function GE(f,g,S){var I=g(f);return Pn(f)?I:zl(I,S(f))}function ea(f){return f==null?f===n?be:Jt:fd&&fd in Jn(f)?Xde(f):hhe(f)}function a_(f,g){return f>g}function hk(f,g){return f!=null&&Sr.call(f,g)}function fk(f,g){return f!=null&&g in Jn(f)}function mk(f,g,S){return f>=xs(g,S)&&f<Ls(g,S)}function o_(f,g,S){for(var I=S?Wb:Cg,M=f[0].length,K=f.length,ie=K,ue=Ce(K),pe=1/0,$e=[];ie--;){var Fe=f[ie];ie&&g&&(Fe=Ir(Fe,Ea(g))),pe=xs(Fe.length,pe),ue[ie]=!S&&(g||M>=120&&Fe.length>=120)?new md(ie&&Fe):n}Fe=f[0];var Ye=-1,bt=ue[0];e:for(;++Ye<M&&$e.length<pe;){var $t=Fe[Ye],dn=g?g($t):$t;if($t=S||$t!==0?$t:0,!(bt?bh(bt,dn):I($e,dn,S))){for(ie=K;--ie;){var Yn=ue[ie];if(!(Yn?bh(Yn,dn):I(f[ie],dn,S)))continue e}bt&&bt.push(dn),$e.push($t)}}return $e}function Oc(f,g,S,I){return Hl(f,function(M,K,ie){g(I,S(M),K,ie)}),I}function Yl(f,g,S){g=Nh(g,f),f=AU(f,g);var I=f==null?f:f[Cu(Ql(g))];return I==null?n:Xi(I,f,S)}function HE(f){return Ms(f)&&ea(f)==Te}function pk(f){return Ms(f)&&ea(f)==se}function gk(f){return Ms(f)&&ea(f)==vt}function jm(f,g,S,I,M){return f===g?!0:f==null||g==null||!Ms(f)&&!Ms(g)?f!==f&&g!==g:yk(f,g,S,I,jm,M)}function yk(f,g,S,I,M,K){var ie=Pn(f),ue=Pn(g),pe=ie?Tt:Sa(f),$e=ue?Tt:Sa(g);pe=pe==Te?ke:pe,$e=$e==Te?ke:$e;var Fe=pe==ke,Ye=$e==ke,bt=pe==$e;if(bt&&kh(f)){if(!kh(g))return!1;ie=!0,Fe=!1}if(bt&&!Fe)return K||(K=new al),ie||Jg(f)?wU(f,g,S,I,M,K):Qde(f,g,pe,S,I,M,K);if(!(S&y)){var $t=Fe&&Sr.call(f,"__wrapped__"),dn=Ye&&Sr.call(g,"__wrapped__");if($t||dn){var Yn=$t?f.value():f,hn=dn?g.value():g;return K||(K=new al),M(Yn,hn,S,I,K)}}return bt?(K||(K=new al),Zde(f,g,S,I,M,K)):!1}function l_(f){return Ms(f)&&Sa(f)==Ee}function ju(f,g,S,I){var M=S.length,K=M,ie=!I;if(f==null)return!K;for(f=Jn(f);M--;){var ue=S[M];if(ie&&ue[2]?ue[1]!==f[ue[0]]:!(ue[0]in f))return!1}for(;++M<K;){ue=S[M];var pe=ue[0],$e=f[pe],Fe=ue[1];if(ie&&ue[2]){if($e===n&&!(pe in f))return!1}else{var Ye=new al;if(I)var bt=I($e,Fe,pe,f,g,Ye);if(!(bt===n?jm(Fe,$e,y|w,I,Ye):bt))return!1}}return!0}function Tm(f){if(!Es(f)||ohe(f))return!1;var g=_d(f)?DI:Rn;return g.test(Am(f))}function ir(f){return Ms(f)&&ea(f)==Q}function b(f){return Ms(f)&&Sa(f)==ee}function j(f){return Ms(f)&&lS(f.length)&&!!wn[ea(f)]}function k(f){return typeof f=="function"?f:f==null?jo:typeof f=="object"?Pn(f)?bn(f[0],f[1]):jt(f):h5(f)}function R(f){if(!d_(f))return $g(f);var g=[];for(var S in Jn(f))Sr.call(f,S)&&S!="constructor"&&g.push(S);return g}function W(f){if(!Es(f))return dhe(f);var g=d_(f),S=[];for(var I in f)I=="constructor"&&(g||!Sr.call(f,I))||S.push(I);return S}function le(f,g){return f<g}function Ie(f,g){var S=-1,I=Eo(f)?Ce(f.length):[];return Su(f,function(M,K,ie){I[++S]=g(M,K,ie)}),I}function jt(f){var g=Ok(f);return g.length==1&&g[0][2]?TU(g[0][0],g[0][1]):function(S){return S===f||ju(S,f,g)}}function bn(f,g){return Pk(f)&&jU(g)?TU(Cu(f),g):function(S){var I=Wk(S,f);return I===n&&I===g?Gk(S,f):jm(g,I,y|w)}}function qn(f,g,S,I,M){f!==g&&s_(g,function(K,ie){if(M||(M=new al),Es(K))ta(f,g,ie,S,qn,I,M);else{var ue=I?I(Lk(f,ie),K,ie+"",f,g,M):n;ue===n&&(ue=K),t_(f,ie,ue)}},So)}function ta(f,g,S,I,M,K,ie){var ue=Lk(f,S),pe=Lk(g,S),$e=ie.get(pe);if($e){t_(f,S,$e);return}var Fe=K?K(ue,pe,S+"",f,g,ie):n,Ye=Fe===n;if(Ye){var bt=Pn(pe),$t=!bt&&kh(pe),dn=!bt&&!$t&&Jg(pe);Fe=pe,bt||$t||dn?Pn(ue)?Fe=ue:ei(ue)?Fe=xo(ue):$t?(Ye=!1,Fe=iU(pe,!0)):dn?(Ye=!1,Fe=aU(pe,!0)):Fe=[]:f_(pe)||Nm(pe)?(Fe=ue,Nm(ue)?Fe=n5(ue):(!Es(ue)||_d(ue))&&(Fe=SU(pe))):Ye=!1}Ye&&(ie.set(pe,Fe),M(Fe,pe,I,K,ie),ie.delete(pe)),t_(f,S,Fe)}function Kl(f,g){var S=f.length;if(S)return g+=g<0?S:0,bd(g,S)?f[g]:n}function Rc(f,g,S){g.length?g=Ir(g,function(K){return Pn(K)?function(ie){return gd(ie,K.length===1?K[0]:K)}:K}):g=[jo];var I=-1;g=Ir(g,Ea(ln()));var M=Ie(f,function(K,ie,ue){var pe=Ir(g,function($e){return $e(K)});return{criteria:pe,index:++I,value:K}});return Yb(M,function(K,ie){return zde(K,ie,S)})}function kde(f,g){return JV(f,g,function(S,I){return Gk(f,I)})}function JV(f,g,S){for(var I=-1,M=g.length,K={};++I<M;){var ie=g[I],ue=gd(f,ie);S(ue,ie)&&c_(K,Nh(ie,f),ue)}return K}function Ode(f){return function(g){return gd(g,f)}}function vk(f,g,S,I){var M=I?gE:vh,K=-1,ie=g.length,ue=f;for(f===g&&(g=xo(g)),S&&(ue=Ir(f,Ea(S)));++K<ie;)for(var pe=0,$e=g[K],Fe=S?S($e):$e;(pe=M(ue,Fe,pe,I))>-1;)ue!==f&&hd.call(ue,pe,1),hd.call(f,pe,1);return f}function QV(f,g){for(var S=f?g.length:0,I=S-1;S--;){var M=g[S];if(S==I||M!==K){var K=M;bd(M)?hd.call(f,M,1):xk(f,M)}}return f}function bk(f,g){return f+vm(RE()*(g-f+1))}function Rde(f,g,S,I){for(var M=-1,K=Ls(Lg((g-f)/(S||1)),0),ie=Ce(K);K--;)ie[I?K:++M]=f,f+=S;return ie}function _k(f,g){var S="";if(!f||g<1||g>te)return S;do g%2&&(S+=f),g=vm(g/2),g&&(f+=f);while(g);return S}function Qn(f,g){return Mk(CU(f,g,jo),f+"")}function Pde(f){return VE(Qg(f))}function Dde(f,g){var S=Qg(f);return nS(S,pd(g,0,S.length))}function c_(f,g,S,I){if(!Es(f))return f;g=Nh(g,f);for(var M=-1,K=g.length,ie=K-1,ue=f;ue!=null&&++M<K;){var pe=Cu(g[M]),$e=S;if(pe==="__proto__"||pe==="constructor"||pe==="prototype")return f;if(M!=ie){var Fe=ue[pe];$e=I?I(Fe,pe,ue):n,$e===n&&($e=Es(Fe)?Fe:bd(g[M+1])?[]:{})}Sm(ue,pe,$e),ue=ue[pe]}return f}var ZV=Fg?function(f,g){return Fg.set(f,g),f}:jo,Lde=Dg?function(f,g){return Dg(f,"toString",{configurable:!0,enumerable:!1,value:qk(g),writable:!0})}:jo;function Mde(f){return nS(Qg(f))}function Jl(f,g,S){var I=-1,M=f.length;g<0&&(g=-g>M?0:M+g),S=S>M?M:S,S<0&&(S+=M),M=g>S?0:S-g>>>0,g>>>=0;for(var K=Ce(M);++I<M;)K[I]=f[I+g];return K}function $de(f,g){var S;return Su(f,function(I,M,K){return S=g(I,M,K),!S}),!!S}function qE(f,g,S){var I=0,M=f==null?I:f.length;if(typeof g=="number"&&g===g&&M<=at){for(;I<M;){var K=I+M>>>1,ie=f[K];ie!==null&&!ll(ie)&&(S?ie<=g:ie<g)?I=K+1:M=K}return M}return wk(f,g,jo,S)}function wk(f,g,S,I){var M=0,K=f==null?0:f.length;if(K===0)return 0;g=S(g);for(var ie=g!==g,ue=g===null,pe=ll(g),$e=g===n;M<K;){var Fe=vm((M+K)/2),Ye=S(f[Fe]),bt=Ye!==n,$t=Ye===null,dn=Ye===Ye,Yn=ll(Ye);if(ie)var hn=I||dn;else $e?hn=dn&&(I||bt):ue?hn=dn&&bt&&(I||!$t):pe?hn=dn&&bt&&!$t&&(I||!Yn):$t||Yn?hn=!1:hn=I?Ye<=g:Ye<g;hn?M=Fe+1:K=Fe}return xs(K,Ae)}function XV(f,g){for(var S=-1,I=f.length,M=0,K=[];++S<I;){var ie=f[S],ue=g?g(ie):ie;if(!S||!Pc(ue,pe)){var pe=ue;K[M++]=ie===0?0:ie}}return K}function eU(f){return typeof f=="number"?f:ll(f)?ve:+f}function ol(f){if(typeof f=="string")return f;if(Pn(f))return Ir(f,ol)+"";if(ll(f))return PE?PE.call(f):"";var g=f+"";return g=="0"&&1/f==-ne?"-0":g}function Ah(f,g,S){var I=-1,M=Cg,K=f.length,ie=!0,ue=[],pe=ue;if(S)ie=!1,M=Wb;else if(K>=s){var $e=g?null:Kde(f);if($e)return _h($e);ie=!1,M=bh,pe=new md}else pe=g?[]:ue;e:for(;++I<K;){var Fe=f[I],Ye=g?g(Fe):Fe;if(Fe=S||Fe!==0?Fe:0,ie&&Ye===Ye){for(var bt=pe.length;bt--;)if(pe[bt]===Ye)continue e;g&&pe.push(Ye),ue.push(Fe)}else M(pe,Ye,S)||(pe!==ue&&pe.push(Ye),ue.push(Fe))}return ue}function xk(f,g){return g=Nh(g,f),f=AU(f,g),f==null||delete f[Cu(Ql(g))]}function tU(f,g,S,I){return c_(f,g,S(gd(f,g)),I)}function YE(f,g,S,I){for(var M=f.length,K=I?M:-1;(I?K--:++K<M)&&g(f[K],K,f););return S?Jl(f,I?0:K,I?K+1:M):Jl(f,I?K+1:0,I?M:K)}function nU(f,g){var S=f;return S instanceof Hn&&(S=S.value()),Gb(g,function(I,M){return M.func.apply(M.thisArg,zl([I],M.args))},S)}function Ek(f,g,S){var I=f.length;if(I<2)return I?Ah(f[0]):[];for(var M=-1,K=Ce(I);++M<I;)for(var ie=f[M],ue=-1;++ue<I;)ue!=M&&(K[M]=Ch(K[M]||ie,f[ue],g,S));return Ah(wi(K,1),g,S)}function rU(f,g,S){for(var I=-1,M=f.length,K=g.length,ie={};++I<M;){var ue=I<K?g[I]:n;S(ie,f[I],ue)}return ie}function Sk(f){return ei(f)?f:[]}function jk(f){return typeof f=="function"?f:jo}function Nh(f,g){return Pn(f)?f:Pk(f,g)?[f]:OU(Nr(f))}var Fde=Qn;function Ih(f,g,S){var I=f.length;return S=S===n?I:S,!g&&S>=I?f:Jl(f,g,S)}var sU=LI||function(f){return un.clearTimeout(f)};function iU(f,g){if(g)return f.slice();var S=f.length,I=TE?TE(S):new f.constructor(S);return f.copy(I),I}function Tk(f){var g=new f.constructor(f.byteLength);return new Rg(g).set(new Rg(f)),g}function Vde(f,g){var S=g?Tk(f.buffer):f.buffer;return new f.constructor(S,f.byteOffset,f.byteLength)}function Ude(f){var g=new f.constructor(f.source,pr.exec(f));return g.lastIndex=f.lastIndex,g}function Bde(f){return Em?Jn(Em.call(f)):{}}function aU(f,g){var S=g?Tk(f.buffer):f.buffer;return new f.constructor(S,f.byteOffset,f.length)}function oU(f,g){if(f!==g){var S=f!==n,I=f===null,M=f===f,K=ll(f),ie=g!==n,ue=g===null,pe=g===g,$e=ll(g);if(!ue&&!$e&&!K&&f>g||K&&ie&&pe&&!ue&&!$e||I&&ie&&pe||!S&&pe||!M)return 1;if(!I&&!K&&!$e&&f<g||$e&&S&&M&&!I&&!K||ue&&S&&M||!ie&&M||!pe)return-1}return 0}function zde(f,g,S){for(var I=-1,M=f.criteria,K=g.criteria,ie=M.length,ue=S.length;++I<ie;){var pe=oU(M[I],K[I]);if(pe){if(I>=ue)return pe;var $e=S[I];return pe*($e=="desc"?-1:1)}}return f.index-g.index}function lU(f,g,S,I){for(var M=-1,K=f.length,ie=S.length,ue=-1,pe=g.length,$e=Ls(K-ie,0),Fe=Ce(pe+$e),Ye=!I;++ue<pe;)Fe[ue]=g[ue];for(;++M<ie;)(Ye||M<K)&&(Fe[S[M]]=f[M]);for(;$e--;)Fe[ue++]=f[M++];return Fe}function cU(f,g,S,I){for(var M=-1,K=f.length,ie=-1,ue=S.length,pe=-1,$e=g.length,Fe=Ls(K-ue,0),Ye=Ce(Fe+$e),bt=!I;++M<Fe;)Ye[M]=f[M];for(var $t=M;++pe<$e;)Ye[$t+pe]=g[pe];for(;++ie<ue;)(bt||M<K)&&(Ye[$t+S[ie]]=f[M++]);return Ye}function xo(f,g){var S=-1,I=f.length;for(g||(g=Ce(I));++S<I;)g[S]=f[S];return g}function Tu(f,g,S,I){var M=!S;S||(S={});for(var K=-1,ie=g.length;++K<ie;){var ue=g[K],pe=I?I(S[ue],f[ue],ue,S,f):n;pe===n&&(pe=f[ue]),M?kc(S,ue,pe):Sm(S,ue,pe)}return S}function Wde(f,g){return Tu(f,Rk(f),g)}function Gde(f,g){return Tu(f,xU(f),g)}function KE(f,g){return function(S,I){var M=Pn(S)?fI:lk,K=g?g():{};return M(S,f,ln(I,2),K)}}function qg(f){return Qn(function(g,S){var I=-1,M=S.length,K=M>1?S[M-1]:n,ie=M>2?S[2]:n;for(K=f.length>3&&typeof K=="function"?(M--,K):n,ie&&qa(S[0],S[1],ie)&&(K=M<3?n:K,M=1),g=Jn(g);++I<M;){var ue=S[I];ue&&f(g,ue,I,K)}return g})}function uU(f,g){return function(S,I){if(S==null)return S;if(!Eo(S))return f(S,I);for(var M=S.length,K=g?M:-1,ie=Jn(S);(g?K--:++K<M)&&I(ie[K],K,ie)!==!1;);return S}}function dU(f){return function(g,S,I){for(var M=-1,K=Jn(g),ie=I(g),ue=ie.length;ue--;){var pe=ie[f?ue:++M];if(S(K[pe],pe,K)===!1)break}return g}}function Hde(f,g,S){var I=g&v,M=u_(f);function K(){var ie=this&&this!==un&&this instanceof K?M:f;return ie.apply(I?S:this,arguments)}return K}function hU(f){return function(g){g=Nr(g);var S=Wl(g)?Ga(g):n,I=S?S[0]:g.charAt(0),M=S?Ih(S,1).join(""):g.slice(1);return I[f]()+M}}function Yg(f){return function(g){return Gb(u5(c5(g).replace(rl,"")),f,"")}}function u_(f){return function(){var g=arguments;switch(g.length){case 0:return new f;case 1:return new f(g[0]);case 2:return new f(g[0],g[1]);case 3:return new f(g[0],g[1],g[2]);case 4:return new f(g[0],g[1],g[2],g[3]);case 5:return new f(g[0],g[1],g[2],g[3],g[4]);case 6:return new f(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new f(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var S=Th(f.prototype),I=f.apply(S,g);return Es(I)?I:S}}function qde(f,g,S){var I=u_(f);function M(){for(var K=arguments.length,ie=Ce(K),ue=K,pe=Kg(M);ue--;)ie[ue]=arguments[ue];var $e=K<3&&ie[0]!==pe&&ie[K-1]!==pe?[]:il(ie,pe);if(K-=$e.length,K<S)return yU(f,g,JE,M.placeholder,n,ie,$e,n,n,S-K);var Fe=this&&this!==un&&this instanceof M?I:f;return Xi(Fe,this,ie)}return M}function fU(f){return function(g,S,I){var M=Jn(g);if(!Eo(g)){var K=ln(S,3);g=Di(g),S=function(ue){return K(M[ue],ue,M)}}var ie=f(g,S,I);return ie>-1?M[K?g[ie]:ie]:n}}function mU(f){return vd(function(g){var S=g.length,I=S,M=_o.prototype.thru;for(f&&g.reverse();I--;){var K=g[I];if(typeof K!="function")throw new bo(o);if(M&&!ie&&eS(K)=="wrapper")var ie=new _o([],!0)}for(I=ie?I:S;++I<S;){K=g[I];var ue=eS(K),pe=ue=="wrapper"?kk(K):n;pe&&Dk(pe[0])&&pe[1]==(O|E|N|F)&&!pe[4].length&&pe[9]==1?ie=ie[eS(pe[0])].apply(ie,pe[3]):ie=K.length==1&&Dk(K)?ie[ue]():ie.thru(K)}return function(){var $e=arguments,Fe=$e[0];if(ie&&$e.length==1&&Pn(Fe))return ie.plant(Fe).value();for(var Ye=0,bt=S?g[Ye].apply(this,$e):Fe;++Ye<S;)bt=g[Ye].call(this,bt);return bt}})}function JE(f,g,S,I,M,K,ie,ue,pe,$e){var Fe=g&O,Ye=g&v,bt=g&x,$t=g&(E|T),dn=g&V,Yn=bt?n:u_(f);function hn(){for(var tr=arguments.length,lr=Ce(tr),cl=tr;cl--;)lr[cl]=arguments[cl];if($t)var Ya=Kg(hn),ul=bI(lr,Ya);if(I&&(lr=lU(lr,I,M,$t)),K&&(lr=cU(lr,K,ie,$t)),tr-=ul,$t&&tr<$e){var ti=il(lr,Ya);return yU(f,g,JE,hn.placeholder,S,lr,ti,ue,pe,$e-tr)}var Dc=Ye?S:this,xd=bt?Dc[f]:f;return tr=lr.length,ue?lr=fhe(lr,ue):dn&&tr>1&&lr.reverse(),Fe&&pe<tr&&(lr.length=pe),this&&this!==un&&this instanceof hn&&(xd=Yn||u_(xd)),xd.apply(Dc,lr)}return hn}function pU(f,g){return function(S,I){return Oc(S,f,g(I),{})}}function QE(f,g){return function(S,I){var M;if(S===n&&I===n)return g;if(S!==n&&(M=S),I!==n){if(M===n)return I;typeof S=="string"||typeof I=="string"?(S=ol(S),I=ol(I)):(S=eU(S),I=eU(I)),M=f(S,I)}return M}}function Ck(f){return vd(function(g){return g=Ir(g,Ea(ln())),Qn(function(S){var I=this;return f(g,function(M){return Xi(M,I,S)})})})}function ZE(f,g){g=g===n?" ":ol(g);var S=g.length;if(S<2)return S?_k(g,f):g;var I=_k(g,Lg(f/wu(g)));return Wl(g)?Ih(Ga(I),0,f).join(""):I.slice(0,f)}function Yde(f,g,S,I){var M=g&v,K=u_(f);function ie(){for(var ue=-1,pe=arguments.length,$e=-1,Fe=I.length,Ye=Ce(Fe+pe),bt=this&&this!==un&&this instanceof ie?K:f;++$e<Fe;)Ye[$e]=I[$e];for(;pe--;)Ye[$e++]=arguments[++ue];return Xi(bt,M?S:this,Ye)}return ie}function gU(f){return function(g,S,I){return I&&typeof I!="number"&&qa(g,S,I)&&(S=I=n),g=wd(g),S===n?(S=g,g=0):S=wd(S),I=I===n?g<S?1:-1:wd(I),Rde(g,S,I,f)}}function XE(f){return function(g,S){return typeof g=="string"&&typeof S=="string"||(g=Zl(g),S=Zl(S)),f(g,S)}}function yU(f,g,S,I,M,K,ie,ue,pe,$e){var Fe=g&E,Ye=Fe?ie:n,bt=Fe?n:ie,$t=Fe?K:n,dn=Fe?n:K;g|=Fe?N:D,g&=~(Fe?D:N),g&_||(g&=-4);var Yn=[f,g,M,$t,Ye,dn,bt,ue,pe,$e],hn=S.apply(n,Yn);return Dk(f)&&NU(hn,Yn),hn.placeholder=I,IU(hn,f,g)}function Ak(f){var g=Xs[f];return function(S,I){if(S=Zl(S),I=I==null?0:xs(Vn(I),292),I&&bm(S)){var M=(Nr(S)+"e").split("e"),K=g(M[0]+"e"+(+M[1]+I));return M=(Nr(K)+"e").split("e"),+(M[0]+"e"+(+M[1]-I))}return g(S)}}var Kde=Sh&&1/_h(new Sh([,-0]))[1]==ne?function(f){return new Sh(f)}:Jk;function vU(f){return function(g){var S=Sa(g);return S==Ee?Zb(g):S==ee?jI(g):vI(g,f(g))}}function yd(f,g,S,I,M,K,ie,ue){var pe=g&x;if(!pe&&typeof f!="function")throw new bo(o);var $e=I?I.length:0;if($e||(g&=-97,I=M=n),ie=ie===n?ie:Ls(Vn(ie),0),ue=ue===n?ue:Vn(ue),$e-=M?M.length:0,g&D){var Fe=I,Ye=M;I=M=n}var bt=pe?n:kk(f),$t=[f,g,S,I,M,Fe,Ye,K,ie,ue];if(bt&&uhe($t,bt),f=$t[0],g=$t[1],S=$t[2],I=$t[3],M=$t[4],ue=$t[9]=$t[9]===n?pe?0:f.length:Ls($t[9]-$e,0),!ue&&g&(E|T)&&(g&=-25),!g||g==v)var dn=Hde(f,g,S);else g==E||g==T?dn=qde(f,g,ue):(g==N||g==(v|N))&&!M.length?dn=Yde(f,g,S,I):dn=JE.apply(n,$t);var Yn=bt?ZV:NU;return IU(Yn(dn,$t),f,g)}function bU(f,g,S,I){return f===n||Pc(f,xh[S])&&!Sr.call(I,S)?g:f}function _U(f,g,S,I,M,K){return Es(f)&&Es(g)&&(K.set(g,f),qn(f,g,n,_U,K),K.delete(g)),f}function Jde(f){return f_(f)?n:f}function wU(f,g,S,I,M,K){var ie=S&y,ue=f.length,pe=g.length;if(ue!=pe&&!(ie&&pe>ue))return!1;var $e=K.get(f),Fe=K.get(g);if($e&&Fe)return $e==g&&Fe==f;var Ye=-1,bt=!0,$t=S&w?new md:n;for(K.set(f,g),K.set(g,f);++Ye<ue;){var dn=f[Ye],Yn=g[Ye];if(I)var hn=ie?I(Yn,dn,Ye,g,f,K):I(dn,Yn,Ye,f,g,K);if(hn!==n){if(hn)continue;bt=!1;break}if($t){if(!Hb(g,function(tr,lr){if(!bh($t,lr)&&(dn===tr||M(dn,tr,S,I,K)))return $t.push(lr)})){bt=!1;break}}else if(!(dn===Yn||M(dn,Yn,S,I,K))){bt=!1;break}}return K.delete(f),K.delete(g),bt}function Qde(f,g,S,I,M,K,ie){switch(S){case de:if(f.byteLength!=g.byteLength||f.byteOffset!=g.byteOffset)return!1;f=f.buffer,g=g.buffer;case se:return!(f.byteLength!=g.byteLength||!K(new Rg(f),new Rg(g)));case pt:case vt:case We:return Pc(+f,+g);case It:return f.name==g.name&&f.message==g.message;case Q:case Z:return f==g+"";case Ee:var ue=Zb;case ee:var pe=I&y;if(ue||(ue=_h),f.size!=g.size&&!pe)return!1;var $e=ie.get(f);if($e)return $e==g;I|=w,ie.set(f,g);var Fe=wU(ue(f),ue(g),I,M,K,ie);return ie.delete(f),Fe;case ye:if(Em)return Em.call(f)==Em.call(g)}return!1}function Zde(f,g,S,I,M,K){var ie=S&y,ue=Nk(f),pe=ue.length,$e=Nk(g),Fe=$e.length;if(pe!=Fe&&!ie)return!1;for(var Ye=pe;Ye--;){var bt=ue[Ye];if(!(ie?bt in g:Sr.call(g,bt)))return!1}var $t=K.get(f),dn=K.get(g);if($t&&dn)return $t==g&&dn==f;var Yn=!0;K.set(f,g),K.set(g,f);for(var hn=ie;++Ye<pe;){bt=ue[Ye];var tr=f[bt],lr=g[bt];if(I)var cl=ie?I(lr,tr,bt,g,f,K):I(tr,lr,bt,f,g,K);if(!(cl===n?tr===lr||M(tr,lr,S,I,K):cl)){Yn=!1;break}hn||(hn=bt=="constructor")}if(Yn&&!hn){var Ya=f.constructor,ul=g.constructor;Ya!=ul&&"constructor"in f&&"constructor"in g&&!(typeof Ya=="function"&&Ya instanceof Ya&&typeof ul=="function"&&ul instanceof ul)&&(Yn=!1)}return K.delete(f),K.delete(g),Yn}function vd(f){return Mk(CU(f,n,LU),f+"")}function Nk(f){return GE(f,Di,Rk)}function Ik(f){return GE(f,So,xU)}var kk=Fg?function(f){return Fg.get(f)}:Jk;function eS(f){for(var g=f.name+"",S=jh[g],I=Sr.call(jh,g)?S.length:0;I--;){var M=S[I],K=M.func;if(K==null||K==f)return M.name}return g}function Kg(f){var g=Sr.call(G,"placeholder")?G:f;return g.placeholder}function ln(){var f=G.iteratee||Yk;return f=f===Yk?k:f,arguments.length?f(arguments[0],arguments[1]):f}function tS(f,g){var S=f.__data__;return ahe(g)?S[typeof g=="string"?"string":"hash"]:S.map}function Ok(f){for(var g=Di(f),S=g.length;S--;){var I=g[S],M=f[I];g[S]=[I,M,jU(M)]}return g}function Cm(f,g){var S=xI(f,g);return Tm(S)?S:n}function Xde(f){var g=Sr.call(f,fd),S=f[fd];try{f[fd]=n;var I=!0}catch{}var M=kg.call(f);return I&&(g?f[fd]=S:delete f[fd]),M}var Rk=Mg?function(f){return f==null?[]:(f=Jn(f),_u(Mg(f),function(g){return AE.call(f,g)}))}:Qk,xU=Mg?function(f){for(var g=[];f;)zl(g,Rk(f)),f=Pg(f);return g}:Qk,Sa=ea;(Xb&&Sa(new Xb(new ArrayBuffer(1)))!=de||_m&&Sa(new _m)!=Ee||e_&&Sa(e_.resolve())!=lt||Sh&&Sa(new Sh)!=ee||wm&&Sa(new wm)!=A)&&(Sa=function(f){var g=ea(f),S=g==ke?f.constructor:n,I=S?Am(S):"";if(I)switch(I){case VI:return de;case UI:return Ee;case BI:return lt;case zI:return ee;case WI:return A}return g});function ehe(f,g,S){for(var I=-1,M=S.length;++I<M;){var K=S[I],ie=K.size;switch(K.type){case"drop":f+=ie;break;case"dropRight":g-=ie;break;case"take":g=xs(g,f+ie);break;case"takeRight":f=Ls(f,g-ie);break}}return{start:f,end:g}}function the(f){var g=f.match(xt);return g?g[1].split(St):[]}function EU(f,g,S){g=Nh(g,f);for(var I=-1,M=g.length,K=!1;++I<M;){var ie=Cu(g[I]);if(!(K=f!=null&&S(f,ie)))break;f=f[ie]}return K||++I!=M?K:(M=f==null?0:f.length,!!M&&lS(M)&&bd(ie,M)&&(Pn(f)||Nm(f)))}function nhe(f){var g=f.length,S=new f.constructor(g);return g&&typeof f[0]=="string"&&Sr.call(f,"index")&&(S.index=f.index,S.input=f.input),S}function SU(f){return typeof f.constructor=="function"&&!d_(f)?Th(Pg(f)):{}}function rhe(f,g,S){var I=f.constructor;switch(g){case se:return Tk(f);case pt:case vt:return new I(+f);case de:return Vde(f,S);case Se:case we:case Me:case tt:case Re:case qe:case Je:case nt:case rt:return aU(f,S);case Ee:return new I;case We:case Z:return new I(f);case Q:return Ude(f);case ee:return new I;case ye:return Bde(f)}}function she(f,g){var S=g.length;if(!S)return f;var I=S-1;return g[I]=(S>1?"& ":"")+g[I],g=g.join(S>2?", ":" "),f.replace(Qt,`{
/* [wrapped with `+g+`] */
`)}function ihe(f){return Pn(f)||Nm(f)||!!(NE&&f&&f[NE])}function bd(f,g){var S=typeof f;return g=g??te,!!g&&(S=="number"||S!="symbol"&&Ar.test(f))&&f>-1&&f%1==0&&f<g}function qa(f,g,S){if(!Es(S))return!1;var I=typeof g;return(I=="number"?Eo(S)&&bd(g,S.length):I=="string"&&g in S)?Pc(S[g],f):!1}function Pk(f,g){if(Pn(f))return!1;var S=typeof f;return S=="number"||S=="symbol"||S=="boolean"||f==null||ll(f)?!0:Wt.test(f)||!zn.test(f)||g!=null&&f in Jn(g)}function ahe(f){var g=typeof f;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?f!=="__proto__":f===null}function Dk(f){var g=eS(f),S=G[g];if(typeof S!="function"||!(g in Hn.prototype))return!1;if(f===S)return!0;var I=kk(S);return!!I&&f===I[0]}function ohe(f){return!!jE&&jE in f}var lhe=Ig?_d:Zk;function d_(f){var g=f&&f.constructor,S=typeof g=="function"&&g.prototype||xh;return f===S}function jU(f){return f===f&&!Es(f)}function TU(f,g){return function(S){return S==null?!1:S[f]===g&&(g!==n||f in Jn(S))}}function che(f){var g=aS(f,function(I){return S.size===u&&S.clear(),I}),S=g.cache;return g}function uhe(f,g){var S=f[1],I=g[1],M=S|I,K=M<(v|x|O),ie=I==O&&S==E||I==O&&S==F&&f[7].length<=g[8]||I==(O|F)&&g[7].length<=g[8]&&S==E;if(!(K||ie))return f;I&v&&(f[2]=g[2],M|=S&v?0:_);var ue=g[3];if(ue){var pe=f[3];f[3]=pe?lU(pe,ue,g[4]):ue,f[4]=pe?il(f[3],d):g[4]}return ue=g[5],ue&&(pe=f[5],f[5]=pe?cU(pe,ue,g[6]):ue,f[6]=pe?il(f[5],d):g[6]),ue=g[7],ue&&(f[7]=ue),I&O&&(f[8]=f[8]==null?g[8]:xs(f[8],g[8])),f[9]==null&&(f[9]=g[9]),f[0]=g[0],f[1]=M,f}function dhe(f){var g=[];if(f!=null)for(var S in Jn(f))g.push(S);return g}function hhe(f){return kg.call(f)}function CU(f,g,S){return g=Ls(g===n?f.length-1:g,0),function(){for(var I=arguments,M=-1,K=Ls(I.length-g,0),ie=Ce(K);++M<K;)ie[M]=I[g+M];M=-1;for(var ue=Ce(g+1);++M<g;)ue[M]=I[M];return ue[g]=S(ie),Xi(f,this,ue)}}function AU(f,g){return g.length<2?f:gd(f,Jl(g,0,-1))}function fhe(f,g){for(var S=f.length,I=xs(g.length,S),M=xo(f);I--;){var K=g[I];f[I]=bd(K,S)?M[K]:n}return f}function Lk(f,g){if(!(g==="constructor"&&typeof f[g]=="function")&&g!="__proto__")return f[g]}var NU=kU(ZV),h_=$I||function(f,g){return un.setTimeout(f,g)},Mk=kU(Lde);function IU(f,g,S){var I=g+"";return Mk(f,she(I,mhe(the(I),S)))}function kU(f){var g=0,S=0;return function(){var I=kE(),M=J-(I-S);if(S=I,M>0){if(++g>=H)return arguments[0]}else g=0;return f.apply(n,arguments)}}function nS(f,g){var S=-1,I=f.length,M=I-1;for(g=g===n?I:g;++S<g;){var K=bk(S,M),ie=f[K];f[K]=f[S],f[S]=ie}return f.length=g,f}var OU=che(function(f){var g=[];return f.charCodeAt(0)===46&&g.push(""),f.replace(Ze,function(S,I,M,K){g.push(M?K.replace(Bt,"$1"):I||S)}),g});function Cu(f){if(typeof f=="string"||ll(f))return f;var g=f+"";return g=="0"&&1/f==-ne?"-0":g}function Am(f){if(f!=null){try{return gm.call(f)}catch{}try{return f+""}catch{}}return""}function mhe(f,g){return Ds(it,function(S){var I="_."+S[0];g&S[1]&&!Cg(f,I)&&f.push(I)}),f.sort()}function RU(f){if(f instanceof Hn)return f.clone();var g=new _o(f.__wrapped__,f.__chain__);return g.__actions__=xo(f.__actions__),g.__index__=f.__index__,g.__values__=f.__values__,g}function phe(f,g,S){(S?qa(f,g,S):g===n)?g=1:g=Ls(Vn(g),0);var I=f==null?0:f.length;if(!I||g<1)return[];for(var M=0,K=0,ie=Ce(Lg(I/g));M<I;)ie[K++]=Jl(f,M,M+=g);return ie}function ghe(f){for(var g=-1,S=f==null?0:f.length,I=0,M=[];++g<S;){var K=f[g];K&&(M[I++]=K)}return M}function yhe(){var f=arguments.length;if(!f)return[];for(var g=Ce(f-1),S=arguments[0],I=f;I--;)g[I-1]=arguments[I];return zl(Pn(S)?xo(S):[S],wi(g,1))}var vhe=Qn(function(f,g){return ei(f)?Ch(f,wi(g,1,ei,!0)):[]}),bhe=Qn(function(f,g){var S=Ql(g);return ei(S)&&(S=n),ei(f)?Ch(f,wi(g,1,ei,!0),ln(S,2)):[]}),_he=Qn(function(f,g){var S=Ql(g);return ei(S)&&(S=n),ei(f)?Ch(f,wi(g,1,ei,!0),n,S):[]});function whe(f,g,S){var I=f==null?0:f.length;return I?(g=S||g===n?1:Vn(g),Jl(f,g<0?0:g,I)):[]}function xhe(f,g,S){var I=f==null?0:f.length;return I?(g=S||g===n?1:Vn(g),g=I-g,Jl(f,0,g<0?0:g)):[]}function Ehe(f,g){return f&&f.length?YE(f,ln(g,3),!0,!0):[]}function She(f,g){return f&&f.length?YE(f,ln(g,3),!0):[]}function jhe(f,g,S,I){var M=f==null?0:f.length;return M?(S&&typeof S!="number"&&qa(f,g,S)&&(S=0,I=M),dk(f,g,S,I)):[]}function PU(f,g,S){var I=f==null?0:f.length;if(!I)return-1;var M=S==null?0:Vn(S);return M<0&&(M=Ls(I+M,0)),Ag(f,ln(g,3),M)}function DU(f,g,S){var I=f==null?0:f.length;if(!I)return-1;var M=I-1;return S!==n&&(M=Vn(S),M=S<0?Ls(I+M,0):xs(M,I-1)),Ag(f,ln(g,3),M,!0)}function LU(f){var g=f==null?0:f.length;return g?wi(f,1):[]}function The(f){var g=f==null?0:f.length;return g?wi(f,ne):[]}function Che(f,g){var S=f==null?0:f.length;return S?(g=g===n?1:Vn(g),wi(f,g)):[]}function Ahe(f){for(var g=-1,S=f==null?0:f.length,I={};++g<S;){var M=f[g];I[M[0]]=M[1]}return I}function MU(f){return f&&f.length?f[0]:n}function Nhe(f,g,S){var I=f==null?0:f.length;if(!I)return-1;var M=S==null?0:Vn(S);return M<0&&(M=Ls(I+M,0)),vh(f,g,M)}function Ihe(f){var g=f==null?0:f.length;return g?Jl(f,0,-1):[]}var khe=Qn(function(f){var g=Ir(f,Sk);return g.length&&g[0]===f[0]?o_(g):[]}),Ohe=Qn(function(f){var g=Ql(f),S=Ir(f,Sk);return g===Ql(S)?g=n:S.pop(),S.length&&S[0]===f[0]?o_(S,ln(g,2)):[]}),Rhe=Qn(function(f){var g=Ql(f),S=Ir(f,Sk);return g=typeof g=="function"?g:n,g&&S.pop(),S.length&&S[0]===f[0]?o_(S,n,g):[]});function Phe(f,g){return f==null?"":Eh.call(f,g)}function Ql(f){var g=f==null?0:f.length;return g?f[g-1]:n}function Dhe(f,g,S){var I=f==null?0:f.length;if(!I)return-1;var M=I;return S!==n&&(M=Vn(S),M=M<0?Ls(I+M,0):xs(M,I-1)),g===g?TI(f,g,M):Ag(f,yE,M,!0)}function Lhe(f,g){return f&&f.length?Kl(f,Vn(g)):n}var Mhe=Qn($U);function $U(f,g){return f&&f.length&&g&&g.length?vk(f,g):f}function $he(f,g,S){return f&&f.length&&g&&g.length?vk(f,g,ln(S,2)):f}function Fhe(f,g,S){return f&&f.length&&g&&g.length?vk(f,g,n,S):f}var Vhe=vd(function(f,g){var S=f==null?0:f.length,I=Gg(f,g);return QV(f,Ir(g,function(M){return bd(M,S)?+M:M}).sort(oU)),I});function Uhe(f,g){var S=[];if(!(f&&f.length))return S;var I=-1,M=[],K=f.length;for(g=ln(g,3);++I<K;){var ie=f[I];g(ie,I,f)&&(S.push(ie),M.push(I))}return QV(f,M),S}function $k(f){return f==null?f:FI.call(f)}function Bhe(f,g,S){var I=f==null?0:f.length;return I?(S&&typeof S!="number"&&qa(f,g,S)?(g=0,S=I):(g=g==null?0:Vn(g),S=S===n?I:Vn(S)),Jl(f,g,S)):[]}function zhe(f,g){return qE(f,g)}function Whe(f,g,S){return wk(f,g,ln(S,2))}function Ghe(f,g){var S=f==null?0:f.length;if(S){var I=qE(f,g);if(I<S&&Pc(f[I],g))return I}return-1}function Hhe(f,g){return qE(f,g,!0)}function qhe(f,g,S){return wk(f,g,ln(S,2),!0)}function Yhe(f,g){var S=f==null?0:f.length;if(S){var I=qE(f,g,!0)-1;if(Pc(f[I],g))return I}return-1}function Khe(f){return f&&f.length?XV(f):[]}function Jhe(f,g){return f&&f.length?XV(f,ln(g,2)):[]}function Qhe(f){var g=f==null?0:f.length;return g?Jl(f,1,g):[]}function Zhe(f,g,S){return f&&f.length?(g=S||g===n?1:Vn(g),Jl(f,0,g<0?0:g)):[]}function Xhe(f,g,S){var I=f==null?0:f.length;return I?(g=S||g===n?1:Vn(g),g=I-g,Jl(f,g<0?0:g,I)):[]}function efe(f,g){return f&&f.length?YE(f,ln(g,3),!1,!0):[]}function tfe(f,g){return f&&f.length?YE(f,ln(g,3)):[]}var nfe=Qn(function(f){return Ah(wi(f,1,ei,!0))}),rfe=Qn(function(f){var g=Ql(f);return ei(g)&&(g=n),Ah(wi(f,1,ei,!0),ln(g,2))}),sfe=Qn(function(f){var g=Ql(f);return g=typeof g=="function"?g:n,Ah(wi(f,1,ei,!0),n,g)});function ife(f){return f&&f.length?Ah(f):[]}function afe(f,g){return f&&f.length?Ah(f,ln(g,2)):[]}function ofe(f,g){return g=typeof g=="function"?g:n,f&&f.length?Ah(f,n,g):[]}function Fk(f){if(!(f&&f.length))return[];var g=0;return f=_u(f,function(S){if(ei(S))return g=Ls(S.length,g),!0}),Jb(g,function(S){return Ir(f,qb(S))})}function FU(f,g){if(!(f&&f.length))return[];var S=Fk(f);return g==null?S:Ir(S,function(I){return Xi(g,n,I)})}var lfe=Qn(function(f,g){return ei(f)?Ch(f,g):[]}),cfe=Qn(function(f){return Ek(_u(f,ei))}),ufe=Qn(function(f){var g=Ql(f);return ei(g)&&(g=n),Ek(_u(f,ei),ln(g,2))}),dfe=Qn(function(f){var g=Ql(f);return g=typeof g=="function"?g:n,Ek(_u(f,ei),n,g)}),hfe=Qn(Fk);function ffe(f,g){return rU(f||[],g||[],Sm)}function mfe(f,g){return rU(f||[],g||[],c_)}var pfe=Qn(function(f){var g=f.length,S=g>1?f[g-1]:n;return S=typeof S=="function"?(f.pop(),S):n,FU(f,S)});function VU(f){var g=G(f);return g.__chain__=!0,g}function gfe(f,g){return g(f),f}function rS(f,g){return g(f)}var yfe=vd(function(f){var g=f.length,S=g?f[0]:0,I=this.__wrapped__,M=function(K){return Gg(K,f)};return g>1||this.__actions__.length||!(I instanceof Hn)||!bd(S)?this.thru(M):(I=I.slice(S,+S+(g?1:0)),I.__actions__.push({func:rS,args:[M],thisArg:n}),new _o(I,this.__chain__).thru(function(K){return g&&!K.length&&K.push(n),K}))});function vfe(){return VU(this)}function bfe(){return new _o(this.value(),this.__chain__)}function _fe(){this.__values__===n&&(this.__values__=e5(this.value()));var f=this.__index__>=this.__values__.length,g=f?n:this.__values__[this.__index__++];return{done:f,value:g}}function wfe(){return this}function xfe(f){for(var g,S=this;S instanceof Ug;){var I=RU(S);I.__index__=0,I.__values__=n,g?M.__wrapped__=I:g=I;var M=I;S=S.__wrapped__}return M.__wrapped__=f,g}function Efe(){var f=this.__wrapped__;if(f instanceof Hn){var g=f;return this.__actions__.length&&(g=new Hn(this)),g=g.reverse(),g.__actions__.push({func:rS,args:[$k],thisArg:n}),new _o(g,this.__chain__)}return this.thru($k)}function Sfe(){return nU(this.__wrapped__,this.__actions__)}var jfe=KE(function(f,g,S){Sr.call(f,S)?++f[S]:kc(f,S,1)});function Tfe(f,g,S){var I=Pn(f)?Tg:uk;return S&&qa(f,g,S)&&(g=n),I(f,ln(g,3))}function Cfe(f,g){var S=Pn(f)?_u:zE;return S(f,ln(g,3))}var Afe=fU(PU),Nfe=fU(DU);function Ife(f,g){return wi(sS(f,g),1)}function kfe(f,g){return wi(sS(f,g),ne)}function Ofe(f,g,S){return S=S===n?1:Vn(S),wi(sS(f,g),S)}function UU(f,g){var S=Pn(f)?Ds:Su;return S(f,ln(g,3))}function BU(f,g){var S=Pn(f)?mI:BE;return S(f,ln(g,3))}var Rfe=KE(function(f,g,S){Sr.call(f,S)?f[S].push(g):kc(f,S,[g])});function Pfe(f,g,S,I){f=Eo(f)?f:Qg(f),S=S&&!I?Vn(S):0;var M=f.length;return S<0&&(S=Ls(M+S,0)),cS(f)?S<=M&&f.indexOf(g,S)>-1:!!M&&vh(f,g,S)>-1}var Dfe=Qn(function(f,g,S){var I=-1,M=typeof g=="function",K=Eo(f)?Ce(f.length):[];return Su(f,function(ie){K[++I]=M?Xi(g,ie,S):Yl(ie,g,S)}),K}),Lfe=KE(function(f,g,S){kc(f,S,g)});function sS(f,g){var S=Pn(f)?Ir:Ie;return S(f,ln(g,3))}function Mfe(f,g,S,I){return f==null?[]:(Pn(g)||(g=g==null?[]:[g]),S=I?n:S,Pn(S)||(S=S==null?[]:[S]),Rc(f,g,S))}var $fe=KE(function(f,g,S){f[S?0:1].push(g)},function(){return[[],[]]});function Ffe(f,g,S){var I=Pn(f)?Gb:vE,M=arguments.length<3;return I(f,ln(g,4),S,M,Su)}function Vfe(f,g,S){var I=Pn(f)?pI:vE,M=arguments.length<3;return I(f,ln(g,4),S,M,BE)}function Ufe(f,g){var S=Pn(f)?_u:zE;return S(f,oS(ln(g,3)))}function Bfe(f){var g=Pn(f)?VE:Pde;return g(f)}function zfe(f,g,S){(S?qa(f,g,S):g===n)?g=1:g=Vn(g);var I=Pn(f)?ak:Dde;return I(f,g)}function Wfe(f){var g=Pn(f)?ok:Mde;return g(f)}function Gfe(f){if(f==null)return 0;if(Eo(f))return cS(f)?wu(f):f.length;var g=Sa(f);return g==Ee||g==ee?f.size:R(f).length}function Hfe(f,g,S){var I=Pn(f)?Hb:$de;return S&&qa(f,g,S)&&(g=n),I(f,ln(g,3))}var qfe=Qn(function(f,g){if(f==null)return[];var S=g.length;return S>1&&qa(f,g[0],g[1])?g=[]:S>2&&qa(g[0],g[1],g[2])&&(g=[g[0]]),Rc(f,wi(g,1),[])}),iS=MI||function(){return un.Date.now()};function Yfe(f,g){if(typeof g!="function")throw new bo(o);return f=Vn(f),function(){if(--f<1)return g.apply(this,arguments)}}function zU(f,g,S){return g=S?n:g,g=f&&g==null?f.length:g,yd(f,O,n,n,n,n,g)}function WU(f,g){var S;if(typeof g!="function")throw new bo(o);return f=Vn(f),function(){return--f>0&&(S=g.apply(this,arguments)),f<=1&&(g=n),S}}var Vk=Qn(function(f,g,S){var I=v;if(S.length){var M=il(S,Kg(Vk));I|=N}return yd(f,I,g,S,M)}),GU=Qn(function(f,g,S){var I=v|x;if(S.length){var M=il(S,Kg(GU));I|=N}return yd(g,I,f,S,M)});function HU(f,g,S){g=S?n:g;var I=yd(f,E,n,n,n,n,n,g);return I.placeholder=HU.placeholder,I}function qU(f,g,S){g=S?n:g;var I=yd(f,T,n,n,n,n,n,g);return I.placeholder=qU.placeholder,I}function YU(f,g,S){var I,M,K,ie,ue,pe,$e=0,Fe=!1,Ye=!1,bt=!0;if(typeof f!="function")throw new bo(o);g=Zl(g)||0,Es(S)&&(Fe=!!S.leading,Ye="maxWait"in S,K=Ye?Ls(Zl(S.maxWait)||0,g):K,bt="trailing"in S?!!S.trailing:bt);function $t(ti){var Dc=I,xd=M;return I=M=n,$e=ti,ie=f.apply(xd,Dc),ie}function dn(ti){return $e=ti,ue=h_(tr,g),Fe?$t(ti):ie}function Yn(ti){var Dc=ti-pe,xd=ti-$e,f5=g-Dc;return Ye?xs(f5,K-xd):f5}function hn(ti){var Dc=ti-pe,xd=ti-$e;return pe===n||Dc>=g||Dc<0||Ye&&xd>=K}function tr(){var ti=iS();if(hn(ti))return lr(ti);ue=h_(tr,Yn(ti))}function lr(ti){return ue=n,bt&&I?$t(ti):(I=M=n,ie)}function cl(){ue!==n&&sU(ue),$e=0,I=pe=M=ue=n}function Ya(){return ue===n?ie:lr(iS())}function ul(){var ti=iS(),Dc=hn(ti);if(I=arguments,M=this,pe=ti,Dc){if(ue===n)return dn(pe);if(Ye)return sU(ue),ue=h_(tr,g),$t(pe)}return ue===n&&(ue=h_(tr,g)),ie}return ul.cancel=cl,ul.flush=Ya,ul}var Kfe=Qn(function(f,g){return Gl(f,1,g)}),Jfe=Qn(function(f,g,S){return Gl(f,Zl(g)||0,S)});function Qfe(f){return yd(f,V)}function aS(f,g){if(typeof f!="function"||g!=null&&typeof g!="function")throw new bo(o);var S=function(){var I=arguments,M=g?g.apply(this,I):I[0],K=S.cache;if(K.has(M))return K.get(M);var ie=f.apply(this,I);return S.cache=K.set(M,ie)||K,ie};return S.cache=new(aS.Cache||Ic),S}aS.Cache=Ic;function oS(f){if(typeof f!="function")throw new bo(o);return function(){var g=arguments;switch(g.length){case 0:return!f.call(this);case 1:return!f.call(this,g[0]);case 2:return!f.call(this,g[0],g[1]);case 3:return!f.call(this,g[0],g[1],g[2])}return!f.apply(this,g)}}function Zfe(f){return WU(2,f)}var Xfe=Fde(function(f,g){g=g.length==1&&Pn(g[0])?Ir(g[0],Ea(ln())):Ir(wi(g,1),Ea(ln()));var S=g.length;return Qn(function(I){for(var M=-1,K=xs(I.length,S);++M<K;)I[M]=g[M].call(this,I[M]);return Xi(f,this,I)})}),Uk=Qn(function(f,g){var S=il(g,Kg(Uk));return yd(f,N,n,g,S)}),KU=Qn(function(f,g){var S=il(g,Kg(KU));return yd(f,D,n,g,S)}),eme=vd(function(f,g){return yd(f,F,n,n,n,g)});function tme(f,g){if(typeof f!="function")throw new bo(o);return g=g===n?g:Vn(g),Qn(f,g)}function nme(f,g){if(typeof f!="function")throw new bo(o);return g=g==null?0:Ls(Vn(g),0),Qn(function(S){var I=S[g],M=Ih(S,0,g);return I&&zl(M,I),Xi(f,this,M)})}function rme(f,g,S){var I=!0,M=!0;if(typeof f!="function")throw new bo(o);return Es(S)&&(I="leading"in S?!!S.leading:I,M="trailing"in S?!!S.trailing:M),YU(f,g,{leading:I,maxWait:g,trailing:M})}function sme(f){return zU(f,1)}function ime(f,g){return Uk(jk(g),f)}function ame(){if(!arguments.length)return[];var f=arguments[0];return Pn(f)?f:[f]}function ome(f){return Ha(f,p)}function lme(f,g){return g=typeof g=="function"?g:n,Ha(f,p,g)}function cme(f){return Ha(f,h|p)}function ume(f,g){return g=typeof g=="function"?g:n,Ha(f,h|p,g)}function dme(f,g){return g==null||UE(f,g,Di(g))}function Pc(f,g){return f===g||f!==f&&g!==g}var hme=XE(a_),fme=XE(function(f,g){return f>=g}),Nm=HE(function(){return arguments}())?HE:function(f){return Ms(f)&&Sr.call(f,"callee")&&!AE.call(f,"callee")},Pn=Ce.isArray,mme=vu?Ea(vu):pk;function Eo(f){return f!=null&&lS(f.length)&&!_d(f)}function ei(f){return Ms(f)&&Eo(f)}function pme(f){return f===!0||f===!1||Ms(f)&&ea(f)==pt}var kh=IE||Zk,gme=yr?Ea(yr):gk;function yme(f){return Ms(f)&&f.nodeType===1&&!f_(f)}function vme(f){if(f==null)return!0;if(Eo(f)&&(Pn(f)||typeof f=="string"||typeof f.splice=="function"||kh(f)||Jg(f)||Nm(f)))return!f.length;var g=Sa(f);if(g==Ee||g==ee)return!f.size;if(d_(f))return!R(f).length;for(var S in f)if(Sr.call(f,S))return!1;return!0}function bme(f,g){return jm(f,g)}function _me(f,g,S){S=typeof S=="function"?S:n;var I=S?S(f,g):n;return I===n?jm(f,g,n,S):!!I}function Bk(f){if(!Ms(f))return!1;var g=ea(f);return g==It||g==Ht||typeof f.message=="string"&&typeof f.name=="string"&&!f_(f)}function wme(f){return typeof f=="number"&&bm(f)}function _d(f){if(!Es(f))return!1;var g=ea(f);return g==Ut||g==Xt||g==ct||g==_e}function JU(f){return typeof f=="number"&&f==Vn(f)}function lS(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=te}function Es(f){var g=typeof f;return f!=null&&(g=="object"||g=="function")}function Ms(f){return f!=null&&typeof f=="object"}var QU=bu?Ea(bu):l_;function xme(f,g){return f===g||ju(f,g,Ok(g))}function Eme(f,g,S){return S=typeof S=="function"?S:n,ju(f,g,Ok(g),S)}function Sme(f){return ZU(f)&&f!=+f}function jme(f){if(lhe(f))throw new Sn(i);return Tm(f)}function Tme(f){return f===null}function Cme(f){return f==null}function ZU(f){return typeof f=="number"||Ms(f)&&ea(f)==We}function f_(f){if(!Ms(f)||ea(f)!=ke)return!1;var g=Pg(f);if(g===null)return!0;var S=Sr.call(g,"constructor")&&g.constructor;return typeof S=="function"&&S instanceof S&&gm.call(S)==RI}var zk=hm?Ea(hm):ir;function Ame(f){return JU(f)&&f>=-te&&f<=te}var XU=ud?Ea(ud):b;function cS(f){return typeof f=="string"||!Pn(f)&&Ms(f)&&ea(f)==Z}function ll(f){return typeof f=="symbol"||Ms(f)&&ea(f)==ye}var Jg=sl?Ea(sl):j;function Nme(f){return f===n}function Ime(f){return Ms(f)&&Sa(f)==A}function kme(f){return Ms(f)&&ea(f)==B}var Ome=XE(le),Rme=XE(function(f,g){return f<=g});function e5(f){if(!f)return[];if(Eo(f))return cS(f)?Ga(f):xo(f);if(ym&&f[ym])return SI(f[ym]());var g=Sa(f),S=g==Ee?Zb:g==ee?_h:Qg;return S(f)}function wd(f){if(!f)return f===0?f:0;if(f=Zl(f),f===ne||f===-ne){var g=f<0?-1:1;return g*ce}return f===f?f:0}function Vn(f){var g=wd(f),S=g%1;return g===g?S?g-S:g:0}function t5(f){return f?pd(Vn(f),0,Ue):0}function Zl(f){if(typeof f=="number")return f;if(ll(f))return ve;if(Es(f)){var g=typeof f.valueOf=="function"?f.valueOf():f;f=Es(g)?g+"":g}if(typeof f!="string")return f===0?f:+f;f=bE(f);var S=On.test(f);return S||Mr.test(f)?xa(f.slice(2),S?2:8):_a.test(f)?ve:+f}function n5(f){return Tu(f,So(f))}function Pme(f){return f?pd(Vn(f),-te,te):f===0?f:0}function Nr(f){return f==null?"":ol(f)}var Dme=qg(function(f,g){if(d_(g)||Eo(g)){Tu(g,Di(g),f);return}for(var S in g)Sr.call(g,S)&&Sm(f,S,g[S])}),r5=qg(function(f,g){Tu(g,So(g),f)}),uS=qg(function(f,g,S,I){Tu(g,So(g),f,I)}),Lme=qg(function(f,g,S,I){Tu(g,Di(g),f,I)}),Mme=vd(Gg);function $me(f,g){var S=Th(f);return g==null?S:n_(S,g)}var Fme=Qn(function(f,g){f=Jn(f);var S=-1,I=g.length,M=I>2?g[2]:n;for(M&&qa(g[0],g[1],M)&&(I=1);++S<I;)for(var K=g[S],ie=So(K),ue=-1,pe=ie.length;++ue<pe;){var $e=ie[ue],Fe=f[$e];(Fe===n||Pc(Fe,xh[$e])&&!Sr.call(f,$e))&&(f[$e]=K[$e])}return f}),Vme=Qn(function(f){return f.push(n,_U),Xi(s5,n,f)});function Ume(f,g){return pE(f,ln(g,3),Hl)}function Bme(f,g){return pE(f,ln(g,3),i_)}function zme(f,g){return f==null?f:s_(f,ln(g,3),So)}function Wme(f,g){return f==null?f:WE(f,ln(g,3),So)}function Gme(f,g){return f&&Hl(f,ln(g,3))}function Hme(f,g){return f&&i_(f,ln(g,3))}function qme(f){return f==null?[]:ql(f,Di(f))}function Yme(f){return f==null?[]:ql(f,So(f))}function Wk(f,g,S){var I=f==null?n:gd(f,g);return I===n?S:I}function Kme(f,g){return f!=null&&EU(f,g,hk)}function Gk(f,g){return f!=null&&EU(f,g,fk)}var Jme=pU(function(f,g,S){g!=null&&typeof g.toString!="function"&&(g=kg.call(g)),f[g]=S},qk(jo)),Qme=pU(function(f,g,S){g!=null&&typeof g.toString!="function"&&(g=kg.call(g)),Sr.call(f,g)?f[g].push(S):f[g]=[S]},ln),Zme=Qn(Yl);function Di(f){return Eo(f)?Wg(f):R(f)}function So(f){return Eo(f)?Wg(f,!0):W(f)}function Xme(f,g){var S={};return g=ln(g,3),Hl(f,function(I,M,K){kc(S,g(I,M,K),I)}),S}function epe(f,g){var S={};return g=ln(g,3),Hl(f,function(I,M,K){kc(S,M,g(I,M,K))}),S}var tpe=qg(function(f,g,S){qn(f,g,S)}),s5=qg(function(f,g,S,I){qn(f,g,S,I)}),npe=vd(function(f,g){var S={};if(f==null)return S;var I=!1;g=Ir(g,function(K){return K=Nh(K,f),I||(I=K.length>1),K}),Tu(f,Ik(f),S),I&&(S=Ha(S,h|m|p,Jde));for(var M=g.length;M--;)xk(S,g[M]);return S});function rpe(f,g){return i5(f,oS(ln(g)))}var spe=vd(function(f,g){return f==null?{}:kde(f,g)});function i5(f,g){if(f==null)return{};var S=Ir(Ik(f),function(I){return[I]});return g=ln(g),JV(f,S,function(I,M){return g(I,M[0])})}function ipe(f,g,S){g=Nh(g,f);var I=-1,M=g.length;for(M||(M=1,f=n);++I<M;){var K=f==null?n:f[Cu(g[I])];K===n&&(I=M,K=S),f=_d(K)?K.call(f):K}return f}function ape(f,g,S){return f==null?f:c_(f,g,S)}function ope(f,g,S,I){return I=typeof I=="function"?I:n,f==null?f:c_(f,g,S,I)}var a5=vU(Di),o5=vU(So);function lpe(f,g,S){var I=Pn(f),M=I||kh(f)||Jg(f);if(g=ln(g,4),S==null){var K=f&&f.constructor;M?S=I?new K:[]:Es(f)?S=_d(K)?Th(Pg(f)):{}:S={}}return(M?Ds:Hl)(f,function(ie,ue,pe){return g(S,ie,ue,pe)}),S}function cpe(f,g){return f==null?!0:xk(f,g)}function upe(f,g,S){return f==null?f:tU(f,g,jk(S))}function dpe(f,g,S,I){return I=typeof I=="function"?I:n,f==null?f:tU(f,g,jk(S),I)}function Qg(f){return f==null?[]:Qb(f,Di(f))}function hpe(f){return f==null?[]:Qb(f,So(f))}function fpe(f,g,S){return S===n&&(S=g,g=n),S!==n&&(S=Zl(S),S=S===S?S:0),g!==n&&(g=Zl(g),g=g===g?g:0),pd(Zl(f),g,S)}function mpe(f,g,S){return g=wd(g),S===n?(S=g,g=0):S=wd(S),f=Zl(f),mk(f,g,S)}function ppe(f,g,S){if(S&&typeof S!="boolean"&&qa(f,g,S)&&(g=S=n),S===n&&(typeof g=="boolean"?(S=g,g=n):typeof f=="boolean"&&(S=f,f=n)),f===n&&g===n?(f=0,g=1):(f=wd(f),g===n?(g=f,f=0):g=wd(g)),f>g){var I=f;f=g,g=I}if(S||f%1||g%1){var M=RE();return xs(f+M*(g-f+Wa("1e-"+((M+"").length-1))),g)}return bk(f,g)}var gpe=Yg(function(f,g,S){return g=g.toLowerCase(),f+(S?l5(g):g)});function l5(f){return Hk(Nr(f).toLowerCase())}function c5(f){return f=Nr(f),f&&f.replace(ls,wE).replace(er,"")}function ype(f,g,S){f=Nr(f),g=ol(g);var I=f.length;S=S===n?I:pd(Vn(S),0,I);var M=S;return S-=g.length,S>=0&&f.slice(S,M)==g}function vpe(f){return f=Nr(f),f&&Kn.test(f)?f.replace(tn,_I):f}function bpe(f){return f=Nr(f),f&&ot.test(f)?f.replace(At,"\\$&"):f}var _pe=Yg(function(f,g,S){return f+(S?"-":"")+g.toLowerCase()}),wpe=Yg(function(f,g,S){return f+(S?" ":"")+g.toLowerCase()}),xpe=hU("toLowerCase");function Epe(f,g,S){f=Nr(f),g=Vn(g);var I=g?wu(f):0;if(!g||I>=g)return f;var M=(g-I)/2;return ZE(vm(M),S)+f+ZE(Lg(M),S)}function Spe(f,g,S){f=Nr(f),g=Vn(g);var I=g?wu(f):0;return g&&I<g?f+ZE(g-I,S):f}function jpe(f,g,S){f=Nr(f),g=Vn(g);var I=g?wu(f):0;return g&&I<g?ZE(g-I,S)+f:f}function Tpe(f,g,S){return S||g==null?g=0:g&&(g=+g),OE(Nr(f).replace(Pt,""),g||0)}function Cpe(f,g,S){return(S?qa(f,g,S):g===n)?g=1:g=Vn(g),_k(Nr(f),g)}function Ape(){var f=arguments,g=Nr(f[0]);return f.length<3?g:g.replace(f[1],f[2])}var Npe=Yg(function(f,g,S){return f+(S?"_":"")+g.toLowerCase()});function Ipe(f,g,S){return S&&typeof S!="number"&&qa(f,g,S)&&(g=S=n),S=S===n?Ue:S>>>0,S?(f=Nr(f),f&&(typeof g=="string"||g!=null&&!zk(g))&&(g=ol(g),!g&&Wl(f))?Ih(Ga(f),0,S):f.split(g,S)):[]}var kpe=Yg(function(f,g,S){return f+(S?" ":"")+Hk(g)});function Ope(f,g,S){return f=Nr(f),S=S==null?0:pd(Vn(S),0,f.length),g=ol(g),f.slice(S,S+g.length)==g}function Rpe(f,g,S){var I=G.templateSettings;S&&qa(f,g,S)&&(g=n),f=Nr(f),g=uS({},g,I,bU);var M=uS({},g.imports,I.imports,bU),K=Di(M),ie=Qb(M,K),ue,pe,$e=0,Fe=g.interpolate||Wn,Ye="__p += '",bt=Cc((g.escape||Wn).source+"|"+Fe.source+"|"+(Fe===an?xr:Wn).source+"|"+(g.evaluate||Wn).source+"|$","g"),$t="//# sourceURL="+(Sr.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Tn+"]")+`
`;f.replace(bt,function(hn,tr,lr,cl,Ya,ul){return lr||(lr=cl),Ye+=f.slice($e,ul).replace(Ki,wI),tr&&(ue=!0,Ye+=`' +
__e(`+tr+`) +
'`),Ya&&(pe=!0,Ye+=`';
`+Ya+`;
__p += '`),lr&&(Ye+=`' +
((__t = (`+lr+`)) == null ? '' : __t) +
'`),$e=ul+hn.length,hn}),Ye+=`';
`;var dn=Sr.call(g,"variable")&&g.variable;if(!dn)Ye=`with (obj) {
`+Ye+`
}
`;else if(kt.test(dn))throw new Sn(l);Ye=(pe?Ye.replace(Dt,""):Ye).replace(yn,"$1").replace(vn,"$1;"),Ye="function("+(dn||"obj")+`) {
`+(dn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ue?", __e = _.escape":"")+(pe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ye+`return __p
}`;var Yn=d5(function(){return vr(K,$t+"return "+Ye).apply(n,ie)});if(Yn.source=Ye,Bk(Yn))throw Yn;return Yn}function Ppe(f){return Nr(f).toLowerCase()}function Dpe(f){return Nr(f).toUpperCase()}function Lpe(f,g,S){if(f=Nr(f),f&&(S||g===n))return bE(f);if(!f||!(g=ol(g)))return f;var I=Ga(f),M=Ga(g),K=$r(I,M),ie=_E(I,M)+1;return Ih(I,K,ie).join("")}function Mpe(f,g,S){if(f=Nr(f),f&&(S||g===n))return f.slice(0,Ng(f)+1);if(!f||!(g=ol(g)))return f;var I=Ga(f),M=_E(I,Ga(g))+1;return Ih(I,0,M).join("")}function $pe(f,g,S){if(f=Nr(f),f&&(S||g===n))return f.replace(Pt,"");if(!f||!(g=ol(g)))return f;var I=Ga(f),M=$r(I,Ga(g));return Ih(I,M).join("")}function Fpe(f,g){var S=z,I=U;if(Es(g)){var M="separator"in g?g.separator:M;S="length"in g?Vn(g.length):S,I="omission"in g?ol(g.omission):I}f=Nr(f);var K=f.length;if(Wl(f)){var ie=Ga(f);K=ie.length}if(S>=K)return f;var ue=S-wu(I);if(ue<1)return I;var pe=ie?Ih(ie,0,ue).join(""):f.slice(0,ue);if(M===n)return pe+I;if(ie&&(ue+=pe.length-ue),zk(M)){if(f.slice(ue).search(M)){var $e,Fe=pe;for(M.global||(M=Cc(M.source,Nr(pr.exec(M))+"g")),M.lastIndex=0;$e=M.exec(Fe);)var Ye=$e.index;pe=pe.slice(0,Ye===n?ue:Ye)}}else if(f.indexOf(ol(M),ue)!=ue){var bt=pe.lastIndexOf(M);bt>-1&&(pe=pe.slice(0,bt))}return pe+I}function Vpe(f){return f=Nr(f),f&&Xn.test(f)?f.replace(qt,CI):f}var Upe=Yg(function(f,g,S){return f+(S?" ":"")+g.toUpperCase()}),Hk=hU("toUpperCase");function u5(f,g,S){return f=Nr(f),g=S?n:g,g===n?EI(f)?II(f):yI(f):f.match(g)||[]}var d5=Qn(function(f,g){try{return Xi(f,n,g)}catch(S){return Bk(S)?S:new Sn(S)}}),Bpe=vd(function(f,g){return Ds(g,function(S){S=Cu(S),kc(f,S,Vk(f[S],f))}),f});function zpe(f){var g=f==null?0:f.length,S=ln();return f=g?Ir(f,function(I){if(typeof I[1]!="function")throw new bo(o);return[S(I[0]),I[1]]}):[],Qn(function(I){for(var M=-1;++M<g;){var K=f[M];if(Xi(K[0],this,I))return Xi(K[1],this,I)}})}function Wpe(f){return r_(Ha(f,h))}function qk(f){return function(){return f}}function Gpe(f,g){return f==null||f!==f?g:f}var Hpe=mU(),qpe=mU(!0);function jo(f){return f}function Yk(f){return k(typeof f=="function"?f:Ha(f,h))}function Ype(f){return jt(Ha(f,h))}function Kpe(f,g){return bn(f,Ha(g,h))}var Jpe=Qn(function(f,g){return function(S){return Yl(S,f,g)}}),Qpe=Qn(function(f,g){return function(S){return Yl(f,S,g)}});function Kk(f,g,S){var I=Di(g),M=ql(g,I);S==null&&!(Es(g)&&(M.length||!I.length))&&(S=g,g=f,f=this,M=ql(g,Di(g)));var K=!(Es(S)&&"chain"in S)||!!S.chain,ie=_d(f);return Ds(M,function(ue){var pe=g[ue];f[ue]=pe,ie&&(f.prototype[ue]=function(){var $e=this.__chain__;if(K||$e){var Fe=f(this.__wrapped__),Ye=Fe.__actions__=xo(this.__actions__);return Ye.push({func:pe,args:arguments,thisArg:f}),Fe.__chain__=$e,Fe}return pe.apply(f,zl([this.value()],arguments))})}),f}function Zpe(){return un._===this&&(un._=PI),this}function Jk(){}function Xpe(f){return f=Vn(f),Qn(function(g){return Kl(g,f)})}var ege=Ck(Ir),tge=Ck(Tg),nge=Ck(Hb);function h5(f){return Pk(f)?qb(Cu(f)):Ode(f)}function rge(f){return function(g){return f==null?n:gd(f,g)}}var sge=gU(),ige=gU(!0);function Qk(){return[]}function Zk(){return!1}function age(){return{}}function oge(){return""}function lge(){return!0}function cge(f,g){if(f=Vn(f),f<1||f>te)return[];var S=Ue,I=xs(f,Ue);g=ln(g),f-=Ue;for(var M=Jb(I,g);++S<f;)g(S);return M}function uge(f){return Pn(f)?Ir(f,Cu):ll(f)?[f]:xo(OU(Nr(f)))}function dge(f){var g=++OI;return Nr(f)+g}var hge=QE(function(f,g){return f+g},0),fge=Ak("ceil"),mge=QE(function(f,g){return f/g},1),pge=Ak("floor");function gge(f){return f&&f.length?Hg(f,jo,a_):n}function yge(f,g){return f&&f.length?Hg(f,ln(g,2),a_):n}function vge(f){return dd(f,jo)}function bge(f,g){return dd(f,ln(g,2))}function _ge(f){return f&&f.length?Hg(f,jo,le):n}function wge(f,g){return f&&f.length?Hg(f,ln(g,2),le):n}var xge=QE(function(f,g){return f*g},1),Ege=Ak("round"),Sge=QE(function(f,g){return f-g},0);function jge(f){return f&&f.length?Kb(f,jo):0}function Tge(f,g){return f&&f.length?Kb(f,ln(g,2)):0}return G.after=Yfe,G.ary=zU,G.assign=Dme,G.assignIn=r5,G.assignInWith=uS,G.assignWith=Lme,G.at=Mme,G.before=WU,G.bind=Vk,G.bindAll=Bpe,G.bindKey=GU,G.castArray=ame,G.chain=VU,G.chunk=phe,G.compact=ghe,G.concat=yhe,G.cond=zpe,G.conforms=Wpe,G.constant=qk,G.countBy=jfe,G.create=$me,G.curry=HU,G.curryRight=qU,G.debounce=YU,G.defaults=Fme,G.defaultsDeep=Vme,G.defer=Kfe,G.delay=Jfe,G.difference=vhe,G.differenceBy=bhe,G.differenceWith=_he,G.drop=whe,G.dropRight=xhe,G.dropRightWhile=Ehe,G.dropWhile=She,G.fill=jhe,G.filter=Cfe,G.flatMap=Ife,G.flatMapDeep=kfe,G.flatMapDepth=Ofe,G.flatten=LU,G.flattenDeep=The,G.flattenDepth=Che,G.flip=Qfe,G.flow=Hpe,G.flowRight=qpe,G.fromPairs=Ahe,G.functions=qme,G.functionsIn=Yme,G.groupBy=Rfe,G.initial=Ihe,G.intersection=khe,G.intersectionBy=Ohe,G.intersectionWith=Rhe,G.invert=Jme,G.invertBy=Qme,G.invokeMap=Dfe,G.iteratee=Yk,G.keyBy=Lfe,G.keys=Di,G.keysIn=So,G.map=sS,G.mapKeys=Xme,G.mapValues=epe,G.matches=Ype,G.matchesProperty=Kpe,G.memoize=aS,G.merge=tpe,G.mergeWith=s5,G.method=Jpe,G.methodOf=Qpe,G.mixin=Kk,G.negate=oS,G.nthArg=Xpe,G.omit=npe,G.omitBy=rpe,G.once=Zfe,G.orderBy=Mfe,G.over=ege,G.overArgs=Xfe,G.overEvery=tge,G.overSome=nge,G.partial=Uk,G.partialRight=KU,G.partition=$fe,G.pick=spe,G.pickBy=i5,G.property=h5,G.propertyOf=rge,G.pull=Mhe,G.pullAll=$U,G.pullAllBy=$he,G.pullAllWith=Fhe,G.pullAt=Vhe,G.range=sge,G.rangeRight=ige,G.rearg=eme,G.reject=Ufe,G.remove=Uhe,G.rest=tme,G.reverse=$k,G.sampleSize=zfe,G.set=ape,G.setWith=ope,G.shuffle=Wfe,G.slice=Bhe,G.sortBy=qfe,G.sortedUniq=Khe,G.sortedUniqBy=Jhe,G.split=Ipe,G.spread=nme,G.tail=Qhe,G.take=Zhe,G.takeRight=Xhe,G.takeRightWhile=efe,G.takeWhile=tfe,G.tap=gfe,G.throttle=rme,G.thru=rS,G.toArray=e5,G.toPairs=a5,G.toPairsIn=o5,G.toPath=uge,G.toPlainObject=n5,G.transform=lpe,G.unary=sme,G.union=nfe,G.unionBy=rfe,G.unionWith=sfe,G.uniq=ife,G.uniqBy=afe,G.uniqWith=ofe,G.unset=cpe,G.unzip=Fk,G.unzipWith=FU,G.update=upe,G.updateWith=dpe,G.values=Qg,G.valuesIn=hpe,G.without=lfe,G.words=u5,G.wrap=ime,G.xor=cfe,G.xorBy=ufe,G.xorWith=dfe,G.zip=hfe,G.zipObject=ffe,G.zipObjectDeep=mfe,G.zipWith=pfe,G.entries=a5,G.entriesIn=o5,G.extend=r5,G.extendWith=uS,Kk(G,G),G.add=hge,G.attempt=d5,G.camelCase=gpe,G.capitalize=l5,G.ceil=fge,G.clamp=fpe,G.clone=ome,G.cloneDeep=cme,G.cloneDeepWith=ume,G.cloneWith=lme,G.conformsTo=dme,G.deburr=c5,G.defaultTo=Gpe,G.divide=mge,G.endsWith=ype,G.eq=Pc,G.escape=vpe,G.escapeRegExp=bpe,G.every=Tfe,G.find=Afe,G.findIndex=PU,G.findKey=Ume,G.findLast=Nfe,G.findLastIndex=DU,G.findLastKey=Bme,G.floor=pge,G.forEach=UU,G.forEachRight=BU,G.forIn=zme,G.forInRight=Wme,G.forOwn=Gme,G.forOwnRight=Hme,G.get=Wk,G.gt=hme,G.gte=fme,G.has=Kme,G.hasIn=Gk,G.head=MU,G.identity=jo,G.includes=Pfe,G.indexOf=Nhe,G.inRange=mpe,G.invoke=Zme,G.isArguments=Nm,G.isArray=Pn,G.isArrayBuffer=mme,G.isArrayLike=Eo,G.isArrayLikeObject=ei,G.isBoolean=pme,G.isBuffer=kh,G.isDate=gme,G.isElement=yme,G.isEmpty=vme,G.isEqual=bme,G.isEqualWith=_me,G.isError=Bk,G.isFinite=wme,G.isFunction=_d,G.isInteger=JU,G.isLength=lS,G.isMap=QU,G.isMatch=xme,G.isMatchWith=Eme,G.isNaN=Sme,G.isNative=jme,G.isNil=Cme,G.isNull=Tme,G.isNumber=ZU,G.isObject=Es,G.isObjectLike=Ms,G.isPlainObject=f_,G.isRegExp=zk,G.isSafeInteger=Ame,G.isSet=XU,G.isString=cS,G.isSymbol=ll,G.isTypedArray=Jg,G.isUndefined=Nme,G.isWeakMap=Ime,G.isWeakSet=kme,G.join=Phe,G.kebabCase=_pe,G.last=Ql,G.lastIndexOf=Dhe,G.lowerCase=wpe,G.lowerFirst=xpe,G.lt=Ome,G.lte=Rme,G.max=gge,G.maxBy=yge,G.mean=vge,G.meanBy=bge,G.min=_ge,G.minBy=wge,G.stubArray=Qk,G.stubFalse=Zk,G.stubObject=age,G.stubString=oge,G.stubTrue=lge,G.multiply=xge,G.nth=Lhe,G.noConflict=Zpe,G.noop=Jk,G.now=iS,G.pad=Epe,G.padEnd=Spe,G.padStart=jpe,G.parseInt=Tpe,G.random=ppe,G.reduce=Ffe,G.reduceRight=Vfe,G.repeat=Cpe,G.replace=Ape,G.result=ipe,G.round=Ege,G.runInContext=he,G.sample=Bfe,G.size=Gfe,G.snakeCase=Npe,G.some=Hfe,G.sortedIndex=zhe,G.sortedIndexBy=Whe,G.sortedIndexOf=Ghe,G.sortedLastIndex=Hhe,G.sortedLastIndexBy=qhe,G.sortedLastIndexOf=Yhe,G.startCase=kpe,G.startsWith=Ope,G.subtract=Sge,G.sum=jge,G.sumBy=Tge,G.template=Rpe,G.times=cge,G.toFinite=wd,G.toInteger=Vn,G.toLength=t5,G.toLower=Ppe,G.toNumber=Zl,G.toSafeInteger=Pme,G.toString=Nr,G.toUpper=Dpe,G.trim=Lpe,G.trimEnd=Mpe,G.trimStart=$pe,G.truncate=Fpe,G.unescape=Vpe,G.uniqueId=dge,G.upperCase=Upe,G.upperFirst=Hk,G.each=UU,G.eachRight=BU,G.first=MU,Kk(G,function(){var f={};return Hl(G,function(g,S){Sr.call(G.prototype,S)||(f[S]=g)}),f}(),{chain:!1}),G.VERSION=r,Ds(["bind","bindKey","curry","curryRight","partial","partialRight"],function(f){G[f].placeholder=G}),Ds(["drop","take"],function(f,g){Hn.prototype[f]=function(S){S=S===n?1:Ls(Vn(S),0);var I=this.__filtered__&&!g?new Hn(this):this.clone();return I.__filtered__?I.__takeCount__=xs(S,I.__takeCount__):I.__views__.push({size:xs(S,Ue),type:f+(I.__dir__<0?"Right":"")}),I},Hn.prototype[f+"Right"]=function(S){return this.reverse()[f](S).reverse()}}),Ds(["filter","map","takeWhile"],function(f,g){var S=g+1,I=S==q||S==Y;Hn.prototype[f]=function(M){var K=this.clone();return K.__iteratees__.push({iteratee:ln(M,3),type:S}),K.__filtered__=K.__filtered__||I,K}}),Ds(["head","last"],function(f,g){var S="take"+(g?"Right":"");Hn.prototype[f]=function(){return this[S](1).value()[0]}}),Ds(["initial","tail"],function(f,g){var S="drop"+(g?"":"Right");Hn.prototype[f]=function(){return this.__filtered__?new Hn(this):this[S](1)}}),Hn.prototype.compact=function(){return this.filter(jo)},Hn.prototype.find=function(f){return this.filter(f).head()},Hn.prototype.findLast=function(f){return this.reverse().find(f)},Hn.prototype.invokeMap=Qn(function(f,g){return typeof f=="function"?new Hn(this):this.map(function(S){return Yl(S,f,g)})}),Hn.prototype.reject=function(f){return this.filter(oS(ln(f)))},Hn.prototype.slice=function(f,g){f=Vn(f);var S=this;return S.__filtered__&&(f>0||g<0)?new Hn(S):(f<0?S=S.takeRight(-f):f&&(S=S.drop(f)),g!==n&&(g=Vn(g),S=g<0?S.dropRight(-g):S.take(g-f)),S)},Hn.prototype.takeRightWhile=function(f){return this.reverse().takeWhile(f).reverse()},Hn.prototype.toArray=function(){return this.take(Ue)},Hl(Hn.prototype,function(f,g){var S=/^(?:filter|find|map|reject)|While$/.test(g),I=/^(?:head|last)$/.test(g),M=G[I?"take"+(g=="last"?"Right":""):g],K=I||/^find/.test(g);M&&(G.prototype[g]=function(){var ie=this.__wrapped__,ue=I?[1]:arguments,pe=ie instanceof Hn,$e=ue[0],Fe=pe||Pn(ie),Ye=function(tr){var lr=M.apply(G,zl([tr],ue));return I&&bt?lr[0]:lr};Fe&&S&&typeof $e=="function"&&$e.length!=1&&(pe=Fe=!1);var bt=this.__chain__,$t=!!this.__actions__.length,dn=K&&!bt,Yn=pe&&!$t;if(!K&&Fe){ie=Yn?ie:new Hn(this);var hn=f.apply(ie,ue);return hn.__actions__.push({func:rS,args:[Ye],thisArg:n}),new _o(hn,bt)}return dn&&Yn?f.apply(this,ue):(hn=this.thru(Ye),dn?I?hn.value()[0]:hn.value():hn)})}),Ds(["pop","push","shift","sort","splice","unshift"],function(f){var g=pm[f],S=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",I=/^(?:pop|shift)$/.test(f);G.prototype[f]=function(){var M=arguments;if(I&&!this.__chain__){var K=this.value();return g.apply(Pn(K)?K:[],M)}return this[S](function(ie){return g.apply(Pn(ie)?ie:[],M)})}}),Hl(Hn.prototype,function(f,g){var S=G[g];if(S){var I=S.name+"";Sr.call(jh,I)||(jh[I]=[]),jh[I].push({name:g,func:S})}}),jh[JE(n,x).name]=[{name:"wrapper",func:n}],Hn.prototype.clone=GI,Hn.prototype.reverse=HI,Hn.prototype.value=qI,G.prototype.at=yfe,G.prototype.chain=vfe,G.prototype.commit=bfe,G.prototype.next=_fe,G.prototype.plant=xfe,G.prototype.reverse=Efe,G.prototype.toJSON=G.prototype.valueOf=G.prototype.value=Sfe,G.prototype.first=G.prototype.head,ym&&(G.prototype[ym]=wfe),G},wh=kI();us?((us.exports=wh)._=wh,Ps._=wh):un._=wh}).call(vl)})(sC,sC.exports);var aj=sC.exports;const lYe={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};let cYe=class ML{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||lYe,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,s){return s&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new ML(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ML(this.logger,e)}};var zu=new cYe;class dN{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]=this.observers[r]||[],this.observers[r].push(n)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e]=this.observers[e].filter(r=>r!==n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];this.observers[e]&&[].concat(this.observers[e]).forEach(o=>{o(...r)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(o=>{o.apply(o,[e,...r])})}}function O_(){let t,e;const n=new Promise((r,s)=>{t=r,e=s});return n.resolve=t,n.reject=e,n}function Y8(t){return t==null?"":""+t}function uYe(t,e,n){t.forEach(r=>{e[r]&&(n[r]=e[r])})}function z4(t,e,n){function r(o){return o&&o.indexOf("###")>-1?o.replace(/###/g,"."):o}function s(){return!t||typeof t=="string"}const i=typeof e!="string"?[].concat(e):e.split(".");for(;i.length>1;){if(s())return{};const o=r(i.shift());!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={}}return s()?{}:{obj:t,k:r(i.shift())}}function K8(t,e,n){const{obj:r,k:s}=z4(t,e,Object);r[s]=n}function dYe(t,e,n,r){const{obj:s,k:i}=z4(t,e,Object);s[i]=s[i]||[],s[i].push(n)}function iC(t,e){const{obj:n,k:r}=z4(t,e);if(n)return n[r]}function hYe(t,e,n){const r=iC(t,n);return r!==void 0?r:iC(e,n)}function Ose(t,e,n){for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):Ose(t[r],e[r],n):t[r]=e[r]);return t}function gy(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var fYe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function mYe(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>fYe[e]):t}const pYe=[" ",",","?","!",";"];function gYe(t,e,n){e=e||"",n=n||"";const r=pYe.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const s=new RegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!s.test(t);if(!i){const o=t.indexOf(n);o>0&&!s.test(t.substring(0,o))&&(i=!0)}return i}function aC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let s=t;for(let i=0;i<r.length;++i){if(!s||typeof s[r[i]]=="string"&&i+1<r.length)return;if(s[r[i]]===void 0){let o=2,l=r.slice(i,i+o).join(n),c=s[l];for(;c===void 0&&r.length>i+o;)o++,l=r.slice(i,i+o).join(n),c=s[l];if(c===void 0)return;if(c===null)return null;if(e.endsWith(l)){if(typeof c=="string")return c;if(l&&typeof c[l]=="string")return c[l]}const u=r.slice(i+o).join(n);return u?aC(c,u,n):void 0}s=s[r[i]]}return s}function oC(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}class J8 extends dN{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let l=[e,n];r&&typeof r!="string"&&(l=l.concat(r)),r&&typeof r=="string"&&(l=l.concat(i?r.split(i):r)),e.indexOf(".")>-1&&(l=e.split("."));const c=iC(this.data,l);return c||!o||typeof r!="string"?c:aC(this.data&&this.data[e]&&this.data[e][n],r,i)}addResource(e,n,r,s){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[e,n];r&&(l=l.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(l=e.split("."),s=n,n=l[1]),this.addNamespaces(n),K8(this.data,l,s),i.silent||this.emit("added",e,n,r,s)}addResources(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)(typeof r[i]=="string"||Object.prototype.toString.apply(r[i])==="[object Array]")&&this.addResource(e,n,i,r[i],{silent:!0});s.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,s,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},l=[e,n];e.indexOf(".")>-1&&(l=e.split("."),s=r,r=n,n=l[1]),this.addNamespaces(n);let c=iC(this.data,l)||{};s?Ose(c,r,i):c={...c,...r},K8(this.data,l,c),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var Rse={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,s){return t.forEach(i=>{this.processors[i]&&(e=this.processors[i].process(e,n,r,s))}),e}};const Q8={};class lC extends dN{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),uYe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=zu.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!gYe(e,r,s);if(o&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:i};const u=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(s)}return typeof i=="string"&&(i=[i]),{key:e,namespaces:i}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],n),c=l[l.length-1],u=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(d){const T=n.nsSeparator||this.options.nsSeparator;return s?{res:`${c}${T}${o}`,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:`${c}${T}${o}`}return s?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:o}const h=this.resolve(e,n);let m=h&&h.res;const p=h&&h.usedKey||o,y=h&&h.exactUsedKey||o,w=Object.prototype.toString.apply(m),v=["[object Number]","[object Function]","[object RegExp]"],x=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject;if(_&&m&&(typeof m!="string"&&typeof m!="boolean"&&typeof m!="number")&&v.indexOf(w)<0&&!(typeof x=="string"&&w==="[object Array]")){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const T=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,m,{...n,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return s?(h.res=T,h.usedParams=this.getUsedParamsDetails(n),h):T}if(i){const T=w==="[object Array]",N=T?[]:{},D=T?y:p;for(const O in m)if(Object.prototype.hasOwnProperty.call(m,O)){const F=`${D}${i}${O}`;N[O]=this.translate(F,{...n,joinArrays:!1,ns:l}),N[O]===F&&(N[O]=m[O])}m=N}}else if(_&&typeof x=="string"&&w==="[object Array]")m=m.join(x),m&&(m=this.extendTranslation(m,e,n,r));else{let T=!1,N=!1;const D=n.count!==void 0&&typeof n.count!="string",O=lC.hasDefaultValue(n),F=D?this.pluralResolver.getSuffix(u,n.count,n):"",V=n.ordinal&&D?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",z=n[`defaultValue${F}`]||n[`defaultValue${V}`]||n.defaultValue;!this.isValidLookup(m)&&O&&(T=!0,m=z),this.isValidLookup(m)||(N=!0,m=o);const H=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&N?void 0:m,J=O&&z!==m&&this.options.updateMissing;if(N||T||J){if(this.logger.log(J?"updateKey":"missingKey",u,c,o,J?z:m),i){const ne=this.resolve(o,{...n,keySeparator:!1});ne&&ne.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let q=[];const L=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&L&&L[0])for(let ne=0;ne<L.length;ne++)q.push(L[ne]);else this.options.saveMissingTo==="all"?q=this.languageUtils.toResolveHierarchy(n.lng||this.language):q.push(n.lng||this.language);const Y=(ne,te,ce)=>{const ve=O&&ce!==m?ce:H;this.options.missingKeyHandler?this.options.missingKeyHandler(ne,c,te,ve,J,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(ne,c,te,ve,J,n),this.emit("missingKey",ne,c,te,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&D?q.forEach(ne=>{this.pluralResolver.getSuffixes(ne,n).forEach(te=>{Y([ne],o+te,n[`defaultValue${te}`]||z)})}):Y(q,o,z))}m=this.extendTranslation(m,e,n,h,r),N&&m===o&&this.options.appendNamespaceToMissingKey&&(m=`${c}:${o}`),(N||T)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${o}`:o,T?m:void 0):m=this.options.parseMissingKeyHandler(m))}return s?(h.res=m,h.usedParams=this.getUsedParamsDetails(n),h):m}extendTranslation(e,n,r,s,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=typeof e=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const m=e.match(this.interpolator.nestingRegexp);d=m&&m.length}let h=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language,r),u){const m=e.match(this.interpolator.nestingRegexp),p=m&&m.length;d<p&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(r.lng=s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var m=arguments.length,p=new Array(m),y=0;y<m;y++)p[y]=arguments[y];return i&&i[0]===p[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):o.translate(...p,n)},r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,c=typeof l=="string"?[l]:l;return e!=null&&c&&c.length&&r.applyPostProcessor!==!1&&(e=Rse.handle(c,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,s,i,o,l;return typeof e=="string"&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(c,n),d=u.key;s=d;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const m=n.count!==void 0&&typeof n.count!="string",p=m&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),y=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",w=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(v=>{this.isValidLookup(r)||(l=v,!Q8[`${w[0]}-${v}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(Q8[`${w[0]}-${v}`]=!0,this.logger.warn(`key "${s}" for languages "${w.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(x=>{if(this.isValidLookup(r))return;o=x;const _=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(_,d,x,v,n);else{let T;m&&(T=this.pluralResolver.getSuffix(x,n.count,n));const N=`${this.options.pluralSeparator}zero`,D=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(_.push(d+T),n.ordinal&&T.indexOf(D)===0&&_.push(d+T.replace(D,this.options.pluralSeparator)),p&&_.push(d+N)),y){const O=`${d}${this.options.contextSeparator}${n.context}`;_.push(O),m&&(_.push(O+T),n.ordinal&&T.indexOf(D)===0&&_.push(O+T.replace(D,this.options.pluralSeparator)),p&&_.push(O+N))}}let E;for(;E=_.pop();)this.isValidLookup(r)||(i=E,r=this.getResource(x,v,E,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:o,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,s):this.resourceStore.getResource(e,n,r,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&typeof e.replace!="string";let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}function NR(t){return t.charAt(0).toUpperCase()+t.slice(1)}class Z8{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=zu.create("languageUtils")}getScriptPartFromCode(e){if(e=oC(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=oC(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(s=>s.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=NR(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=NR(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=NR(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(i=>{if(i===s)return i;if(!(i.indexOf("-")<0&&s.indexOf("-")<0)&&i.indexOf(s)===0)return i})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),typeof e=="string"&&(e=[e]),Object.prototype.toString.apply(e)==="[object Array]")return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),s=[],i=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):typeof e=="string"&&i(this.formatLanguageCode(e)),r.forEach(o=>{s.indexOf(o)<0&&i(this.formatLanguageCode(o))}),s}}let yYe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],vYe={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}};const bYe=["v1","v2","v3"],_Ye=["v4"],X8={zero:0,one:1,two:2,few:3,many:4,other:5};function wYe(){const t={};return yYe.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:vYe[e.fc]}})}),t}class xYe{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=zu.create("pluralResolver"),(!this.options.compatibilityJSON||_Ye.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=wYe()}addRule(e,n){this.rules[e]=n}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(oC(e),{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(s=>`${n}${s}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((s,i)=>X8[s]-X8[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):r.numbers.map(s=>this.getSuffix(e,s,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,r);return s?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:this.getSuffixRetroCompatible(s,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let s=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const i=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!bYe.includes(this.options.compatibilityJSON)}}function eW(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=hYe(t,e,n);return!i&&s&&typeof n=="string"&&(i=aC(t,n,r),i===void 0&&(i=aC(e,n,r))),i}class EYe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=zu.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const n=e.interpolation;this.escape=n.escape!==void 0?n.escape:mYe,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?gy(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?gy(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?gy(n.nestingPrefix):n.nestingPrefixEscaped||gy("$t("),this.nestingSuffix=n.nestingSuffix?gy(n.nestingSuffix):n.nestingSuffixEscaped||gy(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(e,"g");const n=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(n,"g");const r=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp(r,"g")}interpolate(e,n,r,s){let i,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(y){return y.replace(/\$/g,"$$$$")}const d=y=>{if(y.indexOf(this.formatSeparator)<0){const _=eW(n,c,y,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(_,void 0,r,{...s,...n,interpolationkey:y}):_}const w=y.split(this.formatSeparator),v=w.shift().trim(),x=w.join(this.formatSeparator).trim();return this.format(eW(n,c,v,this.options.keySeparator,this.options.ignoreJSONStructure),x,r,{...s,...n,interpolationkey:v})};this.resetRegExp();const h=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,m=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:y=>u(y)},{regex:this.regexp,safeValue:y=>this.escapeValue?u(this.escape(y)):u(y)}].forEach(y=>{for(l=0;i=y.regex.exec(e);){const w=i[1].trim();if(o=d(w),o===void 0)if(typeof h=="function"){const x=h(e,i,s);o=typeof x=="string"?x:""}else if(s&&Object.prototype.hasOwnProperty.call(s,w))o="";else if(m){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${w} for interpolating ${e}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=Y8(o));const v=y.safeValue(o);if(e=e.replace(i[0],v),m?(y.regex.lastIndex+=o.length,y.regex.lastIndex-=i[0].length):y.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,i,o;function l(c,u){const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const h=c.split(new RegExp(`${d}[ ]*{`));let m=`{${h[1]}`;c=h[0],m=this.interpolate(m,o);const p=m.match(/'/g),y=m.match(/"/g);(p&&p.length%2===0&&!y||y.length%2!==0)&&(m=m.replace(/'/g,'"'));try{o=JSON.parse(m),u&&(o={...u,...o})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,w),`${c}${d}${m}`}return delete o.defaultValue,c}for(;s=this.nestingRegexp.exec(e);){let c=[];o={...r},o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const d=s[1].split(this.formatSeparator).map(h=>h.trim());s[1]=d.shift(),c=d,u=!0}if(i=n(l.call(this,s[1].trim(),o),o),i&&s[0]===e&&typeof i!="string")return i;typeof i!="string"&&(i=Y8(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),u&&(i=c.reduce((d,h)=>this.format(d,h,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}function SYe(t){let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(o=>{if(!o)return;const[l,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,"");n[l.trim()]||(n[l.trim()]=u),u==="false"&&(n[l.trim()]=!1),u==="true"&&(n[l.trim()]=!0),isNaN(u)||(n[l.trim()]=parseInt(u,10))})}return{formatName:e,formatOptions:n}}function yy(t){const e={};return function(r,s,i){const o=s+JSON.stringify(i);let l=e[o];return l||(l=t(oC(s),i),e[o]=l),l(r)}}class jYe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=zu.create("formatter"),this.options=e,this.formats={number:yy((n,r)=>{const s=new Intl.NumberFormat(n,{...r});return i=>s.format(i)}),currency:yy((n,r)=>{const s=new Intl.NumberFormat(n,{...r,style:"currency"});return i=>s.format(i)}),datetime:yy((n,r)=>{const s=new Intl.DateTimeFormat(n,{...r});return i=>s.format(i)}),relativetime:yy((n,r)=>{const s=new Intl.RelativeTimeFormat(n,{...r});return i=>s.format(i,r.range||"day")}),list:yy((n,r)=>{const s=new Intl.ListFormat(n,{...r});return i=>s.format(i)})},this.init(e)}init(e){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=yy(n)}format(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((l,c)=>{const{formatName:u,formatOptions:d}=SYe(c);if(this.formats[u]){let h=l;try{const m=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},p=m.locale||m.lng||s.locale||s.lng||r;h=this.formats[u](l,p,{...d,...s,...m})}catch(m){this.logger.warn(m)}return h}else this.logger.warn(`there was no format function for ${u}`);return l},e)}}function TYe(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}class CYe extends dN{constructor(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=zu.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,s.backend,s)}queueLoad(e,n,r,s){const i={},o={},l={},c={};return e.forEach(u=>{let d=!0;n.forEach(h=>{const m=`${u}|${h}`;!r.reload&&this.store.hasResourceBundle(u,h)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?o[m]===void 0&&(o[m]=!0):(this.state[m]=1,d=!1,o[m]===void 0&&(o[m]=!0),i[m]===void 0&&(i[m]=!0),c[h]===void 0&&(c[h]=!0)))}),d||(l[u]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,n,r){const s=e.split("|"),i=s[0],o=s[1];n&&this.emit("failedLoading",i,o,n),r&&this.store.addResourceBundle(i,o,r),this.state[e]=n?-1:2;const l={};this.queue.forEach(c=>{dYe(c.loaded,[i],o),TYe(c,e),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(h=>{l[u][h]===void 0&&(l[u][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:s,wait:i,callback:o});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&d&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,s+1,i*2,o)},i);return}o(u,d)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const u=c(e,n);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(e,n,l)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof n=="string"&&(n=[n]);const i=this.queueLoad(e,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,o),!o&&l&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,l),this.loaded(e,o,l)})}saveMissing(e,n,r,s,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const c={...o,isUpdate:i},u=this.backend.create.bind(this.backend);if(u.length<6)try{let d;u.length===5?d=u(e,n,r,s,c):d=u(e,n,r,s),d&&typeof d.then=="function"?d.then(h=>l(null,h)).catch(l):l(null,d)}catch(d){l(d)}else u(e,n,r,s,l,c)}!e||!e[0]||this.store.addResource(e[0],n,r,s)}}}function tW(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let n={};if(typeof e[1]=="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(s=>{n[s]=r[s]})}return n},interpolation:{escapeValue:!0,format:(t,e,n,r)=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function nW(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function oj(){}function AYe(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}class Px extends dN{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=nW(e),this.services={},this.logger=zu,this.modules={external:[]},AYe(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const s=tW();this.options={...s,...this.options,...nW(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);function i(d){return d?typeof d=="function"?new d:d:null}if(!this.options.isClone){this.modules.logger?zu.init(i(this.modules.logger),this.options):zu.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=jYe);const h=new Z8(this.options);this.store=new J8(this.options.resources,this.options);const m=this.services;m.logger=zu,m.resourceStore=this.store,m.languageUtils=h,m.pluralResolver=new xYe(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(m.formatter=i(d),m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new EYe(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new CYe(i(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",function(p){for(var y=arguments.length,w=new Array(y>1?y-1:0),v=1;v<y;v++)w[v-1]=arguments[v];e.emit(p,...w)}),this.modules.languageDetector&&(m.languageDetector=i(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=i(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new lC(this.services,this.options),this.translator.on("*",function(p){for(var y=arguments.length,w=new Array(y>1?y-1:0),v=1;v<y;v++)w[v-1]=arguments[v];e.emit(p,...w)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,r||(r=oj),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});const c=O_(),u=()=>{const d=(h,m)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(m),r(h,m)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),c}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:oj;const s=typeof e=="string"?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],o=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(u=>{u!=="cimode"&&i.indexOf(u)<0&&i.push(u)})};s?o(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload&&this.options.preload.forEach(l=>o(l)),this.services.backendConnector.load(i,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(l)})}else r(null)}reloadResources(e,n,r){const s=O_();return e||(e=this.languages),n||(n=this.options.ns),r||(r=oj),this.services.backendConnector.reload(e,n,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Rse.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const s=O_();this.emit("languageChanging",e);const i=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,u)=>{u?(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,s.resolve(function(){return r.t(...arguments)}),n&&n(c,function(){return r.t(...arguments)})},l=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const u=typeof c=="string"?c:this.services.languageUtils.getBestMatchFromCodes(c);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,d=>{o(d,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),s}getFixedT(e,n,r){var s=this;const i=function(o,l){let c;if(typeof l!="object"){for(var u=arguments.length,d=new Array(u>2?u-2:0),h=2;h<u;h++)d[h-2]=arguments[h];c=s.options.overloadTranslationOptionHandler([o,l].concat(d))}else c={...l};c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix=c.keyPrefix||r||i.keyPrefix;const m=s.options.keySeparator||".";let p;return c.keyPrefix&&Array.isArray(o)?p=o.map(y=>`${c.keyPrefix}${m}${y}`):p=c.keyPrefix?`${c.keyPrefix}${m}${o}`:o,s.t(p,c)};return typeof e=="string"?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===2};if(n.precheck){const l=n.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!s||o(i,e)))}loadNamespaces(e,n){const r=O_();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=O_();typeof e=="string"&&(e=[e]);const s=this.options.preload||[],i=e.filter(o=>s.indexOf(o)<0);return i.length?(this.options.preload=s.concat(i),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new Z8(tW());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new Px(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:oj;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new Px(s);return(e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r&&(i.store=new J8(this.store.data,s),i.services.resourceStore=i.store),i.translator=new lC(i.services,s),i.translator.on("*",function(l){for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];i.emit(l,...u)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ba=Px.createInstance();ba.createInstance=Px.createInstance;ba.createInstance;ba.dir;ba.init;ba.loadResources;ba.reloadResources;ba.use;ba.changeLanguage;ba.getFixedT;ba.t;ba.exists;ba.setDefaultNamespace;ba.hasLoadedNamespace;ba.loadNamespaces;ba.loadLanguages;var Pse=[],NYe=Pse.forEach,IYe=Pse.slice;function kYe(t){return NYe.call(IYe.call(arguments,1),function(e){if(e)for(var n in e)t[n]===void 0&&(t[n]=e[n])}),t}var rW=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,OYe=function(e,n,r){var s=r||{};s.path=s.path||"/";var i=encodeURIComponent(n),o="".concat(e,"=").concat(i);if(s.maxAge>0){var l=s.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(l))}if(s.domain){if(!rW.test(s.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(s.domain)}if(s.path){if(!rW.test(s.path))throw new TypeError("option path is invalid");o+="; Path=".concat(s.path)}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires=".concat(s.expires.toUTCString())}if(s.httpOnly&&(o+="; HttpOnly"),s.secure&&(o+="; Secure"),s.sameSite){var c=typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite;switch(c){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o},sW={create:function(e,n,r,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+r*60*1e3)),s&&(i.domain=s),document.cookie=OYe(e,encodeURIComponent(n),i)},read:function(e){for(var n="".concat(e,"="),r=document.cookie.split(";"),s=0;s<r.length;s++){for(var i=r[s];i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(n)===0)return i.substring(n.length,i.length)}return null},remove:function(e){this.create(e,"",-1)}},RYe={name:"cookie",lookup:function(e){var n;if(e.lookupCookie&&typeof document<"u"){var r=sW.read(e.lookupCookie);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupCookie&&typeof document<"u"&&sW.create(n.lookupCookie,e,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},PYe={name:"querystring",lookup:function(e){var n;if(typeof window<"u"){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var s=r.substring(1),i=s.split("&"),o=0;o<i.length;o++){var l=i[o].indexOf("=");if(l>0){var c=i[o].substring(0,l);c===e.lookupQuerystring&&(n=i[o].substring(l+1))}}}return n}},R_=null,iW=function(){if(R_!==null)return R_;try{R_=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{R_=!1}return R_},DYe={name:"localStorage",lookup:function(e){var n;if(e.lookupLocalStorage&&iW()){var r=window.localStorage.getItem(e.lookupLocalStorage);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupLocalStorage&&iW()&&window.localStorage.setItem(n.lookupLocalStorage,e)}},P_=null,aW=function(){if(P_!==null)return P_;try{P_=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{P_=!1}return P_},LYe={name:"sessionStorage",lookup:function(e){var n;if(e.lookupSessionStorage&&aW()){var r=window.sessionStorage.getItem(e.lookupSessionStorage);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupSessionStorage&&aW()&&window.sessionStorage.setItem(n.lookupSessionStorage,e)}},MYe={name:"navigator",lookup:function(e){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)n.push(navigator.languages[r]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},$Ye={name:"htmlTag",lookup:function(e){var n,r=e.htmlTag||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},FYe={name:"path",lookup:function(e){var n;if(typeof window<"u"){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof r[e.lookupFromPathIndex]!="string")return;n=r[e.lookupFromPathIndex].replace("/","")}else n=r[0].replace("/","")}return n}},VYe={name:"subdomain",lookup:function(e){var n=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,r=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}};function UYe(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var Dse=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ute(this,t),this.type="languageDetector",this.detectors={},this.init(e,n)}return dte(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n||{languageUtils:{}},this.options=kYe(r,this.options||{},UYe()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(i){return i.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(RYe),this.addDetector(PYe),this.addDetector(DYe),this.addDetector(LYe),this.addDetector(MYe),this.addDetector($Ye),this.addDetector(FYe),this.addDetector(VYe)}},{key:"addDetector",value:function(n){this.detectors[n.name]=n}},{key:"detect",value:function(n){var r=this;n||(n=this.options.order);var s=[];return n.forEach(function(i){if(r.detectors[i]){var o=r.detectors[i].lookup(r.options);o&&typeof o=="string"&&(o=[o]),o&&(s=s.concat(o))}}),s=s.map(function(i){return r.options.convertDetectedLanguage(i)}),this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}},{key:"cacheUserLanguage",value:function(n,r){var s=this;r||(r=this.options.caches),r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||r.forEach(function(i){s.detectors[i]&&s.detectors[i].cacheUserLanguage(n,s.options)}))}}]),t}();Dse.type="languageDetector";const BYe="",zYe="",WYe="",GYe="",HYe="",qYe="Saas",YYe="",KYe="",JYe="",QYe="",ZYe="",XYe=" ",eKe="",tKe="",nKe="",rKe="",sKe=" ",iKe="",aKe=" ",oKe="",lKe="",cKe="",uKe=" ",dKe="",hKe="",fKe="",mKe="",pKe="",gKe="",yKe="",vKe=" ",bKe="",_Ke="",wKe="",xKe="",EKe=" ",SKe=" ",jKe="",TKe="",CKe="",AKe="",NKe="",IKe="",kKe="",OKe="",RKe="",PKe="",DKe="",LKe="",MKe="",$Ke="",FKe="",VKe="",UKe="",BKe="",zKe="",WKe="",GKe="",HKe="Boxicons",qKe="Dripicons",YKe="",KKe="",JKe="",QKe="",ZKe={"Mega Menu":" ",Search:BYe,Menu:zYe,Dashboards:WYe,Dashboard:GYe,Default:HYe,Saas:qYe,Crypto:YYe,Apps:KYe,Calendar:JYe,New:QYe,Chat:ZYe,Ecommerce:XYe,Products:eKe,"Product Detail":" ",Orders:tKe,Customers:nKe,Cart:rKe,Checkout:sKe,Shops:iKe,"Add Product":" ",Wallet:aKe,"Buy/Sell":"/",Exchange:oKe,Lending:lKe,"KYC Application":" KYC","ICO Landing":" ICO",Email:cKe,Inbox:uKe,"Read Email":" ",Invoices:dKe,"Invoice List":" ","Invoice Detail":" ",Projects:hKe,"Projects Grid":" ","Projects List":" ","Project Overview":"  ","Create New":" ",Tasks:fKe,"Task List":" ",Blog:mKe,"File Manager":" ","Blog List":" ","Blog Grid":" ","Blog Details":" ",Templates:pKe,"Basic Action":" ","Alert Email":" ","Billing Email":" ","Login 2":" ","Register 2":" ","Recover Password":"  ","Recover Password 2":"   ","Lock Screen 2":"  ","Confirm Mail":" ","Confirm Mail 2":"  ","Email verification":" ","Email verification 2":"  ","Two step verification":"  ","Two step verification 2":"   ","Create Task":" ",Contacts:gKe,"User Grid":" ","User List":" ",Profile:yKe,Authentication:vKe,Login:bKe,Register:_Ke,"Forget Password":"  ",Utility:wKe,"Starter Page":" ",Maintenance:xKe,"Coming Soon":" ",Timeline:EKe,FAQs:SKe,Pricing:jKe,"Error 404":" ","Error 500":" ",Components:TKe,"UI Elements":"  UI",Alerts:CKe,Buttons:AKe,Cards:NKe,Carousel:IKe,Dropdowns:kKe,Grid:OKe,Images:RKe,Lightbox:PKe,Modals:DKe,"Range Slider":" ","Session Timeout":" ","Progress Bars":" ","Sweet-Alert":" ","Tabs & Accordions":"  ",Typography:LKe,Video:MKe,General:$Ke,Colors:FKe,Rating:VKe,Notifications:UKe,"Image Cropper":"  ",Forms:BKe,"Form Elements":" ","Form Validation":" ","Form Layouts":" ","Form Advanced":" ","Form Editors":" ","Form File Upload":"  ","Form Xeditable":" Xeditable","Form Repeater":"  ","Form Wizard":" ","Form Mask":" ",Tables:zKe,"Basic Tables":" ","Data Tables":" ","Responsive Table":" ","Editable Table":"  ",Charts:WKe,"Apex charts":" Apex","Chartist Chart":" Chartist","Chartjs Chart":" Chartjs","E Chart":" E","Sparkline Chart":" Sparkline","Toast UI Chart":" Toast UI",Icons:GKe,Boxicons:HKe,"Material Design":" ",Dripicons:qKe,"Font awesome":" ",Maps:YKe,"Google Maps":" ","Vector Maps":" ","Level 1.1":" 1.1","Multi Level":" ","Level 1.2":" 1.2","Level 2.1":" 2.1","Level 2.2":" 2.2","My Wallet":"  ",Settings:KKe,"Lock screen":" ","View all":" ",Logout:JKe,"Your order is placed":"   ","It will seem like simplified English":"       ","Your item is shipped":"   ","If several languages coalesce the grammar":"       ","3 min ago":"  ","As a skeptical Cambridge friend of mine occidental":"       ","1 hours ago":"  ","UI Components":" UI",Applications:QKe,"Extra Pages":" ","Horizontal layout":" ","Light Sidebar":"  ","Compact Sidebar":"  "},XKe="Suche",eJe="Speisekarte",tJe="Dashboards",nJe="Dashboard",rJe="Standard",sJe="Sass",iJe="Krypto",aJe="Apps",oJe="Kalender",lJe="Neu",cJe="Plaudern",uJe="E-Commerce",dJe="Produkte",hJe="Kunden",fJe="Wagen",mJe="Auschecken",pJe="Geschfte",gJe="Brieftasche",yJe="Austausch",vJe="Ausleihe",bJe="Auftrge",_Je="Email",wJe="Posteingang",xJe="Rechnungen",EJe="Projekte",SJe="Aufgaben",jJe="Blog",TJe="Arbeit",CJe="Arbeitspltze",AJe="Kandidatin",NJe="Auffhren",IJe="berblick",kJe="Vorlage",OJe="Kontakte",RJe="Profil",PJe="Authentifizierung",DJe="Anmeldung",LJe="Registrieren",MJe="Ntzlichkeit",$Je="Instandhaltung",FJe="Zeitleiste",VJe="FAQs",UJe="Preisgestaltung",BJe="Komponenten",zJe="Warnungen",WJe="Tasten",GJe="Karten",HJe="Karussell",qJe="Dropdowns",YJe="Gitter",KJe="Bilder",JJe="Leuchtkasten",QJe="Platzhalter",ZJe="OffCanvas",XJe="Toasts",eQe="Modale",tQe="Typografie",nQe="Video",rQe="Allgemeines",sQe="Farben",iQe="Bewertung",aQe="Benachrichtigungen",oQe="Formen",lQe="Tabellen",cQe="Diagramme",uQe="Symbole",dQe="Boxicons",hQe="Dripicons",fQe="Karten",mQe="die Einstellungen",pQe="Ausloggen",gQe="Anwendungen",yQe={"Mega Menu":"Mega-Men",Search:XKe,Menu:eJe,Dashboards:tJe,Dashboard:nJe,Default:rJe,Saas:sJe,Crypto:iJe,Apps:aJe,Calendar:oJe,New:lJe,Chat:cJe,Ecommerce:uJe,Products:dJe,"Product Detail":"Produktdetail",Customers:hJe,Cart:fJe,Checkout:mJe,Shops:pJe,"Add Product":"Produkt hinzufgen",Wallet:gJe,"Buy/Sell":"Kaufen Verkaufen",Exchange:yJe,Lending:vJe,Orders:bJe,"KYC Application":"KYC-Anwendung","ICO Landing":"ICO Landung",Email:_Je,Inbox:wJe,"Read Email":"E-Mail lesen",Invoices:xJe,"Invoice List":"Rechnungsliste","Invoice Detail":"Rechnungsdetail",Projects:EJe,"Projects Grid":"Projektraster","Projects List":"Projektliste","Project Overview":"Projektbersicht","Create New":"Erstelle neu",Tasks:SJe,"Task List":"Aufgabenliste","Kanban Board":"Kanban Board","Create Task":"Aufgabe erstellen",Blog:jJe,Job:TJe,"File Manager":"Dateimanager","Blog List":"Blog-Liste","Blog Grid":"Blog-Raster","Blog Details":"Blog-Details",Jobs:CJe,"Job List":"Job-Liste","Job Grid":"Job-Raster","Apply Job":"Stelle bewerben","Job Details":"Auftragsdetails","Jobs Categories":"Job-Kategorien",Candidate:AJe,List:NJe,Overview:IJe,Templates:kJe,"Basic Action":"Grundlegende Aktion","Alert Email":"Benachrichtigungs-E-Mail","Billing Email":"Abrechnung per E-Mail","Login 2":"Anmeldung 2","Register 2":"Registrieren 2","Recover Password":"Passwort wiederherstellen","Recover Password 2":"Passwort wiederherstellen 2","Lock Screen 2":"Bildschirm sperren 2","Confirm Mail":"Mail besttigen","Confirm Mail 2":"Mail besttigen 2","Email verification":"E-Mail-Verifizierung","Email verification 2":"E-Mail-Verifizierung 2","Two step verification":"berprfung in zwei Schritten","Two step verification 2":"berprfung in zwei Schritten 2",Contacts:OJe,"User Grid":"User Grid","User List":"Benutzerliste",Profile:RJe,Authentication:PJe,Login:DJe,Register:LJe,"Forget Password":"Passwort vergessen",Utility:MJe,"Starter Page":"Startseite",Maintenance:$Je,"Coming Soon":"Demnchst",Timeline:FJe,FAQs:VJe,Pricing:UJe,"Error 404":"Fehler 404","Error 500":"Fehler 500",Components:BJe,"UI Elements":"UI-Elemente",Alerts:zJe,Buttons:WJe,Cards:GJe,Carousel:HJe,Dropdowns:qJe,Grid:YJe,Images:KJe,Lightbox:JJe,Placeholders:QJe,OffCanvas:ZJe,Toasts:XJe,Modals:eQe,"Range Slider":"Range Slider","Session Timeout":"Session-Timeout","Progress Bars":"Fortschrittsbalken","Sweet-Alert":"Sweet-Alert","Tabs & Accordions":"Tabs & Akkordeons",Typography:tQe,Video:nQe,General:rQe,Colors:sQe,Rating:iQe,Notifications:aQe,"Image Cropper":"Bild Cropper",Forms:oQe,"Form Elements":"Formularelemente","Form Layouts":"Formularlayout","Form Validation":"Formularvalidierung","Form Advanced":"Formular erweitert","Form Editors":"Formulareditoren","Form File Upload":"Hochladen von Formulardateien","Form Xeditable":"Formular Xeditable","Form Repeater":"Form Repeater","Form Wizard":"Formzauberer","Form Mask":"Formularmaske",Tables:lQe,"Basic Tables":"Grundtabellen","Data Tables":"Datentabellen","Responsive Table":"Antworttabelle","Editable Table":"Bearbeitbare Tabelle",Charts:cQe,"Apex charts":"Apex-Diagramme","Chartist Chart":"Chartist Diagramm","Chartjs Chart":"Chartjs Diagramm","E Chart":"E Diagramm","Sparkline Chart":"Sparkline-Diagramm","Toast UI Chart":"Toast UI Chart",Icons:uQe,Boxicons:dQe,"Material Design":"Material Design",Dripicons:hQe,"Font awesome":"Schriftart fantastisch",Maps:fQe,"Google Maps":"Google Maps","Vector Maps":"Vektorkarten","Level 1.1":"Stufe 1.1","Multi Level":"Multi Level","Level 1.2":"Stufe 1.2","Level 2.1":"Stufe 2.1","Level 2.2":"Stufe 2.2","My Wallet":"Bildschirm sperren",Settings:mQe,"Lock Screen":"Bildschirm sperren",Logout:pQe,"View all":"Alle ansehen","Your order is placed":"Ihre Bestellung wird aufgegeben","If several languages coalesce the grammar":"Wenn mehrere Sprachen die Grammatik verschmelzen","3 min ago":"Vor 3 min","It will seem like simplified English":"Es wird wie vereinfachtes Englisch erscheinen","1 hours ago":"Vor 1 Stunde","Your item is shipped":"Ihr Artikel wird versendet","As a skeptical Cambridge friend of mine occidental":"","UI Components":"UI-Komponenten",Applications:gQe,"Extra Pages":"Zustzliche Seiten","Horizontal layout":"Horizontales Layout","Light Sidebar":"Leichte Seitenleiste","Compact Sidebar":"Kompakte Seitenleiste"},vQe="Ricerca",bQe="Men",_Qe="cruscotti",wQe="Pannello di controllo",xQe="Predefinita",EQe="Sass",SQe="Crypto",jQe="applicazioni",TQe="Calendario",CQe="Nuova",AQe="Chiacchierare",NQe="ecommerce",IQe="Prodotti",kQe="I clienti",OQe="Carrello",RQe="Check-out",PQe="negozi",DQe="Portafoglio",LQe="Scambio",MQe="prestito",$Qe="Blog",FQe="Lavoro",VQe="Lavoro",UQe="Candidata",BQe="Elenco",zQe="Panoramica",WQe="Modella",GQe="Ordini",HQe="E-mail",qQe="Posta in arrivo",YQe="Fatture",KQe="progetti",JQe="Compiti",QQe="Contatti",ZQe="Profilo",XQe="Autenticazione",eZe="Accesso",tZe="Registrati",nZe="Utilit",rZe="Manutenzione",sZe="Sequenza temporale",iZe="FAQs",aZe="Prezzi",oZe="componenti",lZe="avvisi",cZe="pulsanti",uZe="Carte",dZe="Giostra",hZe="menu a discesa",fZe="Griglia",mZe="immagini",pZe="ID",gZe="segnaposto",yZe="Fuori tela",vZe="brindisi",bZe="Modals",_Ze="Tipografia",wZe="Video",xZe="Generale",EZe="Colori",SZe="Valutazione",jZe="notifiche",TZe="Le forme",CZe="tabelle",AZe="Grafici",NZe="Icone",IZe="Boxicons",kZe="Dripicons",OZe="Mappe",RZe="impostazioni",PZe="Disconnettersi",DZe="applicazioni",LZe={"Mega Menu":"Mega Menu",Search:vQe,Menu:bQe,Dashboards:_Qe,Dashboard:wQe,Default:xQe,Saas:EQe,Crypto:SQe,Apps:jQe,Calendar:TQe,New:CQe,Chat:AQe,Ecommerce:NQe,Products:IQe,"Product Detail":"Dettagli del prodotto",Customers:kQe,Cart:OQe,Checkout:RQe,Shops:PQe,"Add Product":"Aggiungi prodotto",Wallet:DQe,"Buy/Sell":"Comprare vendere",Exchange:LQe,Lending:MQe,Blog:$Qe,Job:FQe,"File Manager":"File Manager","Blog List":"Elenco blog","Blog Grid":"Blog Grid","Blog Details":"Dettagli del blog",Jobs:VQe,"Job List":"Elenco dei lavori","Job Grid":"Griglia di lavoro","Apply Job":"Applica lavoro","Job Details":"Dettagli di lavoro","Jobs Categories":"Categorie di lavoro",Candidate:UQe,List:BQe,Overview:zQe,Template:WQe,"Basic Action":"Azione di base","Alert Email":"Email di avviso","Billing Email":"Email di fatturazione","Login 2":"Accedi 2","Register 2":"Registrati 2","Recover Password":"Recupera la password","Recover Password 2":"Recupera password 2","Lock Screen 2":"Schermata di blocco 2","Confirm Mail":"Conferma posta","Confirm Mail 2":"Conferma posta 2","Email verification":"Verifica email","Email verification 2":"Verifica email 2","Two step verification":"Verifica in due passaggi","Two step verification 2":"Verifica in due passaggi 2",Orders:GQe,"KYC Application":"Applicazione KYC","ICO Landing":"Atterraggio ICO",Email:HQe,"Read Email":"Leggi l'email",Inbox:qQe,Invoices:YQe,"Invoice List":"Elenco fatture","Invoice Detail":"Dettaglio fattura",Projects:KQe,"Projects Grid":"Griglia dei progetti","Projects List":"Elenco dei progetti","Project Overview":"Panoramica del progetto","Create New":"Creare nuovo",Tasks:JQe,"Task List":"Elenco delle attivit","Kanban Board":"Kanban Board","Create Task":"Crea attivit",Contacts:QQe,"User Grid":"Griglia utente","User List":"lista degli utenti",Profile:ZQe,Authentication:XQe,Login:eZe,Register:tZe,"Forget Password":"Dimenticare la password",Utility:nZe,"Starter Page":"Pagina iniziale",Maintenance:rZe,"Coming Soon":"Prossimamente",Timeline:sZe,FAQs:iZe,Pricing:aZe,"Error 404":"Errore 404","Error 500":"Errore 500",Components:oZe,"UI Elements":"Elementi dell'interfaccia utente",Alerts:lZe,Buttons:cZe,Cards:uZe,Carousel:dZe,Dropdowns:hZe,Grid:fZe,Images:mZe,Lightbox:pZe,Placeholders:gZe,OffCanvas:yZe,Toasts:vZe,Modals:bZe,"Range Slider":"Cursore gamma","Session Timeout":"Timeout della sessione","Progress Bars":"Indicatori di stato","Sweet-Alert":"Sweet-Alert","Tabs & Accordions":"Schede e fisarmoniche",Typography:_Ze,Video:wZe,General:xZe,Colors:EZe,Rating:SZe,Notifications:jZe,"Image Cropper":"Image Cropper",Forms:TZe,"Form Elements":"Elementi della forma","Form Validation":"Convalida del modulo","Form Advanced":"Modulo avanzato","Form Layouts":"Layout del modulo","Form Editors":"Redattori di moduli","Form File Upload":"Caricamento file modulo","Form Xeditable":"Modulo Xeditable","Form Repeater":"Ripetitore di moduli","Form Wizard":"Procedura guidata modulo","Form Mask":"Maschera di forma",Tables:CZe,"Basic Tables":"Tabelle di base","Data Tables":"Tabelle dati","Responsive Table":"Tabella reattiva","Editable Table":"Tabella modificabile",Charts:AZe,"Apex charts":"Grafici apicali","Chartist Chart":"Chart Chartist","Chartjs Chart":"Grafico di Chartjs","E Chart":"E Chart","Sparkline Chart":"Grafico sparkline","Toast UI Chart":"Grafico dell'interfaccia utente di Toast",Icons:NZe,Boxicons:IZe,"Material Design":"Design materiale",Dripicons:kZe,"Font awesome":"Carattere fantastico",Maps:OZe,"Google Maps":"Google Maps","Vector Maps":"Mappe vettoriali","Level 1.1":"Livello 1.1","Multi Level":"Multi livello","Level 1.2":"Livello 1.2","Level 2.1":"Livello 2.1","Level 2.2":"Livello 2.2","My Wallet":"Il mio portafoglio",Settings:RZe,"Lock screen":"Blocca schermo",Logout:PZe,"View all":"Mostra tutto","Your order is placed":"Il tuo ordine  stato effettuato","If several languages coalesce the grammar":"Se diverse lingue fondono la grammatica","3 min ago":"3 min fa","It will seem like simplified English":"Sembrer un inglese semplificato","1 hours ago":"1 ora fa","Your item is shipped":"Il tuo articolo viene spedito","As a skeptical Cambridge friend of mine occidental":"Come un mio scettico amico di Cambridge occidentale","UI Components":"Componenti dell'interfaccia utente",Applications:DZe,"Extra Pages":"Pagine extra","Horizontal layout":"Layout orizzontale","Light Sidebar":"Barra laterale leggera","Compact Sidebar":"Barra laterale compatta"},MZe="",$Ze="Menu",FZe="",VZe=" ",UZe=" ",BZe="",zZe="-",WZe="",GZe="Nuova",HZe="",qZe="",YZe=" ",KZe="",JZe="",QZe="",ZZe="",XZe=", ",eXe="",tXe="",nXe="",rXe="",sXe="",iXe="",aXe="",oXe="",lXe="",cXe="",uXe="",dXe=" ",hXe="",fXe="-",mXe="",pXe="",gXe="",yXe="",vXe="",bXe="",_Xe="",wXe="",xXe=" ",EXe=" ",SXe="  ",jXe="",TXe="",CXe="",AXe="",NXe="",IXe="",kXe="Dropdowns",OXe="",RXe="",PXe="Lightbox",DXe="",LXe="OffCanvas",MXe="",$Xe="",FXe="",VXe="",UXe="",BXe="",zXe="",WXe="",GXe="",HXe="",qXe="",YXe="",KXe="",JXe="Dripicons",QXe="",ZXe="",XXe="",eet="",tet={"Mega Menu":" ",Search:MZe,Menu:$Ze,Dashboards:FZe,Dashboard:VZe,Default:UZe,Saas:BZe,Crypto:zZe,Apps:WZe,New:GZe,Calendar:HZe,Chat:qZe,Ecommerce:YZe,Products:KZe,"Product Detail":"  ",Orders:JZe,Customers:QZe,Cart:ZZe,Checkout:XZe,Shops:eXe,"Add Product":" ",Blog:tXe,Job:nXe,"File Manager":" ","Blog List":" ","Blog Grid":" ","Blog Details":" ",Jobs:rXe,"Job List":" ","Job Grid":" ","Apply Job":" ","Job Details":" ","Jobs Categories":" ",Candidate:sXe,List:iXe,Overview:aXe,Templates:oXe,"Basic Action":" ","Alert Email":"   ","Billing Email":"    ","Login 2":" 2","Register 2":" 2","Recover Password":" ","Recover Password 2":"  2","Lock Screen 2":"  2","Confirm Mail":" ","Confirm Mail 2":"  2","Email verification":"   ","Email verification 2":"    2","Two step verification":" ","Two step verification 2":"  2",Wallet:lXe,"Buy/Sell":" ",Exchange:cXe,Lending:uXe,"KYC Application":" KYC","ICO Landing":"ICO Landing",Email:dXe,"Read Email":"  ",Inbox:hXe,Invoices:fXe,"Invoice List":" ","Invoice Detail":" ",Projects:mXe,"Projects Grid":" ","Projects List":" ","Project Overview":" ","Create New":" ",Tasks:pXe,"Task List":" ","Kanban Board":" ","Create Task":" ",Contacts:gXe,"User Grid":" ","User List":" ",Profile:yXe,Authentication:vXe,Login:bXe,Register:_Xe,"Forget Password":" ",Utility:wXe,"Starter Page":" ",Maintenance:xXe,"Coming Soon":" ",Timeline:EXe,FAQs:SXe,Pricing:jXe,"Error 404":" 404","Error 500":" 500",Components:TXe,"UI Elements":"  ",Alerts:CXe,Buttons:AXe,Cards:NXe,Carousel:IXe,Dropdowns:kXe,Grid:OXe,Images:RXe,Lightbox:PXe,Placeholders:DXe,OffCanvas:LXe,Toasts:MXe,Modals:$Xe,"Range Slider":" ","Session Timeout":"- ","Progress Bars":" ","Sweet-Alert":"Sweet-","Tabs & Accordions":"  ",Typography:FXe,Video:VXe,General:UXe,Colors:BXe,Rating:zXe,Notifications:WXe,"Image Cropper":" ",Forms:GXe,"Form Elements":" ","Form Validation":" ","Form Advanced":" Advanced","Form Editors":" ","Form File Upload":"  ","Form Layouts":" ","Form Xeditable":" Xeditable","Form Repeater":" ","Form Wizard":" ","Form Mask":" ",Tables:HXe,"Basic Tables":" ","Data Tables":" ","Responsive Table":" ","Editable Table":" ",Charts:qXe,"Apex charts":" ","Chartist Chart":" ","Chartjs Chart":" Chartjs","E Chart":" ","Sparkline Chart":"Sparkline Chart","Toast UI Chart":" ",Icons:YXe,Boxicons:KXe,"Material Design":" ",Dripicons:JXe,"Font awesome":" ",Maps:QXe,"Google Maps":" ","Vector Maps":" ","Level 1.1":" 1.1","Multi Level":"","Level 1.2":" 1.2","Level 2.1":" 2.1","Level 2.2":" 2.2","My Wallet":" ",Settings:ZXe,"Lock screen":" ",Logout:XXe,"View all":" ","Your order is placed":"  ","If several languages coalesce the grammar":"    ","3 min ago":"3 . ","It will seem like simplified English":"     ","1 hours ago":"1  ","Your item is shipped":"  ","As a skeptical Cambridge friend of mine occidental":"      ","UI Components":"UI ",Applications:eet,"Extra Pages":" ","Horizontal layout":" ","Light Sidebar":"  ","Compact Sidebar":"  "},net="Buscar",ret="Men",set="Cuadros de mando",iet="Tablero",aet="Defecto",oet="Saas",cet="Cripto",uet="Aplicaciones",det="Calendario",het="Nuova",fet="Charla",met="Productos",pet="Comercio electrnico",get="Pedidos",yet="Clientes",vet="Carro",bet="Revisa",_et="Tiendas",wet="Billetera",xet="Blog",Eet="Modelo",jet="Intercambiar",Tet="Prstamo",Cet="Correo electrnico",Aet="Bandeja de entrada",Net="Facturas",Iet="progetti",ket="Compiti",Oet="Contatti",Ret="Proyectos",Pet="Autenticacin",Det="Iniciar sesin",Let="Registrarse",Met="Utilidad",$et="Mantenimiento",Fet="Cronograma",Vet="Preguntas frecuentes",Uet="Precios",Bet="Componentes",zet="Alertas",Wet="Botones",Get="Tarjetas",Het="Carrusel",qet="Listas deplegables",Yet="Cuadrcula",Ket="Imgenes",Jet="Modals",Qet="Caja ligera",Zet="Tipografa",Xet="Vdeo",ett="General",ttt="Colores",ntt="Clasificacin",rtt="Notificaciones",stt="Formas",itt="Mesas",att="Grficos",ott="conos",ltt="Boxicones",ctt="Dripicons",utt="Mapas",dtt="Configuraciones",htt="Cerrar sesin",ftt="Aplicaciones",mtt={"Mega Menu":"Mega men",Search:net,Menu:ret,Dashboards:set,Dashboard:iet,Default:aet,Saas:oet,Crypto:cet,Apps:uet,Calendar:det,New:het,Chat:fet,Products:met,Ecommerce:pet,"Product Detail":"Detalle del producto",Orders:get,Customers:yet,Cart:vet,Checkout:bet,Shops:_et,"Add Product":"Aadir Producto",Wallet:wet,"Buy/Sell":"Compra venta",Blog:xet,"File Manager":"Administradora de archivos","Blog List":"Lista de blogs","Blog Grid":"Blog Grid","Blog Details":"Detalles del blog",Templates:Eet,"Basic Action":"Accin bsica","Alert Email":"Correo electrnico de alerta","Billing Email":"Correo Electrnico de Facturas","Login 2":"Login 2","Register 2":"Iniciar sesin 2","Recover Password":"Recuperar contrasea","Recover Password 2":"Recuperar contrasea 2","Lock Screen 2":"Bloquear pantalla 2","Confirm Mail":"Confirmar correo","Confirm Mail 2":"Confirmar correo 2","Email verification":"Verificacion de email","Email verification 2":"Verificacion de email 2","Two step verification":"Verificacin de dos pasos","Two step verification 2":"Verificacin de dos pasos 2",Exchange:jet,Lending:Tet,"KYC Application":"Solicitud KYC","ICO Landing":"Aterrizaje ICO",Email:Cet,"Read Email":"Leer el correo electrnico",Inbox:Aet,Invoices:Net,"Invoice List":"Lista de facturas","Invoice Detail":"Detalle de factura",Projects:Iet,"Projects Grid":"Griglia dei progetti","Projects List":"Elenco dei progetti","Project Overview":"Panoramica del progetto","Create New":"Creare nuovo",Tasks:ket,"Task List":"Elenco delle attivit","Create Task":"Crea attivit",Contacts:Oet,"User Grid":"Griglia utente","User List":"lista degli utenti",Profile:Ret,Authentication:Pet,Login:Det,Register:Let,"Forget Password":"Contrasea olvidada",Utility:Met,"Starter Page":"Pgina de inicio",Maintenance:$et,"Coming Soon":"Prximamente",Timeline:Fet,FAQs:Vet,Pricing:Uet,"Error 404":"error 404","Error 500":"Error 500",Components:Bet,"UI Elements":"Elementos de la IU",Alerts:zet,Buttons:Wet,Cards:Get,Carousel:Het,Dropdowns:qet,Grid:Yet,Images:Ket,Modals:Jet,Lightbox:Qet,"Range Slider":"Control deslizante de rango","Session Timeout":"Hora de trmino de la sesin","Progress Bars":"Barras de progreso","Sweet-Alert":"Alerta dulce","Tabs & Accordions":"Pestaas y acordeones",Typography:Zet,Video:Xet,General:ett,Colors:ttt,Rating:ntt,Notifications:rtt,"Image Cropper":"Recortador de imagen",Forms:stt,"Form Elements":"Elementos de formulario","Form Validation":"Validacin de formulario","Form Advanced":"Formulario avanzado","Form Editors":"Editores de formularios","Form Layouts":"Diseos de formulario","Form File Upload":"Subir archivo de formulario","Form Xeditable":"Formulario Xeditable","Form Repeater":"Repetidor de forma","Form Wizard":"Asistente de formulario","Form Mask":"Mscara de forma",Tables:itt,"Basic Tables":"Tablas Bsicas","Data Tables":"Tablas de datos","Responsive Table":"Mesa receptiva","Editable Table":"Tabla editable",Charts:att,"Apex charts":"Tablas de Apex","Chartist Chart":"Grfico Chartist","Chartjs Chart":"Grfico de Chartjs","E Chart":"Grfico E","Sparkline Chart":"Grfico de minigrfico","Toast UI Chart":"Toast UI Chart",Icons:ott,Boxicons:ltt,"Material Design":"Diseo de materiales",Dripicons:ctt,"Font awesome":"Font awesome",Maps:utt,"Google Maps":"mapas de Google","Vector Maps":"Mapas vectoriales","Level 1.1":"Nivel 1.1","Multi Level":"Multi nivel","Level 1.2":"Nivel 1.2","Level 2.1":"Nivel 2.1","Level 2.2":"Nivel 2.2","My Wallet":"Mi billetera",Settings:dtt,"Lock screen":"Bloquear pantalla",Logout:htt,"View all":"Ver todo","Your order is placed":"Su pedido es realizado","If several languages coalesce the grammar":"Si varios idiomas fusionan la gramtica","3 min ago":"Hace 3 minutos","It will seem like simplified English":"Parecer un ingls simplificado","1 hours ago":"Hace 1 hora","Your item is shipped":"Su artculo es enviado","As a skeptical Cambridge friend of mine occidental":"Como escptico amigo mio de Cambridge occidental","UI Components":"Componentes de la IU",Applications:ftt,"Extra Pages":"Pginas extra","Horizontal layout":"Diseo horizontal","Light Sidebar":"Barra lateral ligera","Compact Sidebar":"Barra lateral compacta"},ptt="Search",gtt="Menu",ytt="Dashboards",vtt="Dashboard",btt="Default",_tt="Saas",wtt="Crypto",xtt="Apps",Ett="Calendar",Stt="New",jtt="Chat",Ttt="Ecommerce",Ctt="Products",Att="Orders",Ntt="Customers",Itt="Cart",ktt="Checkout",Ott="Shops",Rtt="Wallet",Ptt="Exchange",Dtt="Lending",Ltt="Email",Mtt="Inbox",$tt="Invoices",Ftt="Projects",Vtt="Tasks",Utt="Blog",Btt="Templates",ztt="Contacts",Wtt="Profile",Gtt="Authentication",Htt="Login",qtt="Register",Ytt="Utility",Ktt="Maintenance",Jtt="Timeline",Qtt="FAQs",Ztt="Pricing",Xtt="Components",ent="Alerts",tnt="Buttons",nnt="Cards",rnt="Carousel",snt="Dropdowns",int="Grid",ant="Images",ont="Lightbox",lnt="Modals",cnt="Typography",unt="Video",dnt="General",hnt="Colors",fnt="Rating",mnt="Notifications",pnt="Forms",gnt="Tables",ynt="Charts",vnt="Icons",bnt="Boxicons",_nt="Dripicons",wnt="Maps",xnt="Settings",Ent="Logout",Snt="Applications",jnt={"Mega Menu":"Mega Menu",Search:ptt,Menu:gtt,Dashboards:ytt,Dashboard:vtt,Default:btt,Saas:_tt,Crypto:wtt,Apps:xtt,Calendar:Ett,New:Stt,Chat:jtt,Ecommerce:Ttt,Products:Ctt,"Product Detail":"Product Detail",Orders:Att,Customers:Ntt,Cart:Itt,Checkout:ktt,Shops:Ott,"Add Product":"Add Product",Wallet:Rtt,"Buy/Sell":"Buy/Sell",Exchange:Ptt,Lending:Dtt,"KYC Application":"KYC Application","ICO Landing":"ICO Landing",Email:Ltt,Inbox:Mtt,"Read Email":"Read Email",Invoices:$tt,"Invoice List":"Invoice List","Invoice Detail":"Invoice Detail",Projects:Ftt,"Projects Grid":"Projects Grid","Projects List":"Projects List","Project Overview":"Project Overview","Create New":"Create New",Tasks:Vtt,"Task List":"Task List",Blog:Utt,"File Manager":"File Manager","Blog List":"Blog List","Blog Grid":"Blog Grid","Blog Details":"Blog Details",Templates:Btt,"Basic Action":"Basic Action","Alert Email":"Alert Email","Billing Email":"Billing Email","Login 2":"Login 2","Register 2":"Register 2","Recover Password":"Recover Password","Recover Password 2":"Recover Password 2","Lock Screen 2":"Lock Screen 2","Confirm Mail":"Confirm Mail","Confirm Mail 2":"Confirm Mail 2","Email verification":"Email verification","Email verification 2":"Email verification 2","Two step verification":"Two Step verification","Two step verification 2":"Two Step verification 2","Create Task":",Create Task",Contacts:ztt,"User Grid":"User Grid","User List":"User List",Profile:Wtt,Authentication:Gtt,Login:Htt,Register:qtt,"Forget Password":"Forget Password",Utility:Ytt,"Starter Page":"Starter Page",Maintenance:Ktt,"Coming Soon":"Coming Soon",Timeline:Jtt,FAQs:Qtt,Pricing:Ztt,"Error 404":"Error 404","Error 500":"Error 500",Components:Xtt,"UI Elements":"UI Elements",Alerts:ent,Buttons:tnt,Cards:nnt,Carousel:rnt,Dropdowns:snt,Grid:int,Images:ant,Lightbox:ont,Modals:lnt,"Range Slider":"Range Slider","Session Timeout":"Session Timeout","Progress Bars":"Progress Bars","Sweet-Alert":"Sweet-Alert","Tabs & Accordions":"Tabs & Accordions",Typography:cnt,Video:unt,General:dnt,Colors:hnt,Rating:fnt,Notifications:mnt,"Image Cropper":"Image Cropper",Forms:pnt,"Form Elements":"Form Elements","Form Validation":"Form Validation","Form Layouts":"Form Layouts","Form Advanced":"Form Advanced","Form Editors":"Form Editors","Form File Upload":"Form File Upload","Form Xeditable":"Form Xeditable","Form Repeater":"Form Repeater","Form Wizard":"Form Wizard","Form Mask":"Form Mask",Tables:gnt,"Basic Tables":"Basic Tables","Data Tables":"Data Tables","Responsive Table":"Responsive Table","Editable Table":"Editable Table",Charts:ynt,"Apex charts":"Apex charts","Chartist Chart":"Chartist Chart","Chartjs Chart":"Chartjs Chart","E Chart":"E Chart","Sparkline Chart":"Sparkline Chart","Toast UI Chart":"Toast UI Chart",Icons:vnt,Boxicons:bnt,"Material Design":"Material Design",Dripicons:_nt,"Font awesome":"Font awesome",Maps:wnt,"Google Maps":"Google Maps","Vector Maps":"Vector Maps","Level 1.1":"Level 1.1","Multi Level":"Multi Level","Level 1.2":"Level 1.2","Level 2.1":"Level 2.1","Level 2.2":"Level 2.2","My Wallet":"My Wallet",Settings:xnt,"Lock screen":"Lock screen","View all":"View all",Logout:Ent,"Your order is placed":"Your order is placed","It will seem like simplified English":"It will seem like simplified English","Your item is shipped":"Your item is shipped","If several languages coalesce the grammar":"If several languages coalesce the grammar","3 min ago":"3 min ago","As a skeptical Cambridge friend of mine occidental":"As a skeptical Cambridge friend of mine occidental","1 hours ago":"1 hours ago","UI Components":"UI Components",Applications:Snt,"Extra Pages":"Extra Pages","Horizontal layout":"Horizontal layout","Light Sidebar":"Light Sidebar","Compact Sidebar":"Compact Sidebar"},Tnt={fa:{translation:ZKe},gr:{translation:yQe},it:{translation:LZe},rs:{translation:tet},sp:{translation:mtt},eng:{translation:jnt}},Cnt=localStorage.getItem("I18N_LANGUAGE");Cnt||localStorage.setItem("I18N_LANGUAGE","fa");ba.use(Dse).use(B7e).init({resources:Tnt,lng:localStorage.getItem("I18N_LANGUAGE")||"fa",fallbackLng:"fa",keySeparator:!1,interpolation:{escapeValue:!1}});const Ant="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAQEBAQEBAQEBAQGBgUGBggHBwcHCAwJCQkJCQwTDA4MDA4MExEUEA8QFBEeFxUVFx4iHRsdIiolJSo0MjRERFz/2wBDAQQEBAQEBAQEBAQGBgUGBggHBwcHCAwJCQkJCQwTDA4MDA4MExEUEA8QFBEeFxUVFx4iHRsdIiolJSo0MjRERFz/wAARCAAqAEADASIAAhEBAxEB/8QAGwAAAgIDAQAAAAAAAAAAAAAAAAcDBgEEBQj/xAA1EAABAgIHBwIFAwUAAAAAAAABAgQAAwUGBxESFlYTFBVRk6HTMVciI5GS0hdBYiElRVKC/8QAGgEAAgMBAQAAAAAAAAAAAAAAAAYBBQcDBP/EADERAAAEAwMKBQUAAAAAAAAAAAABAgMEBRESIZETFBUWUVRWkpPSBjIzZoExQVNk0f/aAAwDAQACEQMRAD8AoRouTPo5m9mKnNJ0yS7nrcOydi8VLWAJbYpQSV88X7x0zV9nxZcnc6RwCcuVwr/KACRtNqRgw4L+0RtEhtQzadMG6hwwfoTOegOJLoiYkYGyMB2MwemOO0W39wNF7k62ofTF8Mxp4okbpftN6wXGX++CNHU4ojWRKOlFl8VFeK23oNotqsrcmbj3A7/JxFoz3kkLQ6vReFD+MWWqNDUPx+r8mlHDpk0cSX22fkjd5+xKwhTclIOH+lxjUbqQuXIfCdLmIbIohK3siQENGhxH4XkjB89Q/wBo6lW10QxrDVt/TlFOXFGzUUkpSpaxu7n4lpC20v5eySk+qY8UzWapfHktRWci5W15fTreLCUm4U0lxtG7lM5as5EiNytovJauqHXlazfWk76p/CDK1m+tJ31T+EGYbK9KPPtHlgzDZXpR59o8sZRRjZCYrG1VnXuTkhAZWs31pO+qfwjKas2cJIUmuk4KBvBBSCCP+IxmGyvSjz7R5YMw2V6UefaPLBRj9TFYKzo7j1k5IQI9FS6/MWqGrGpdJSXCpLhs8nYDOTPlzFAgJSQQjliTG2aqVzLhUn9P6T4Nty4Sw+PGJhlbPFt8OP8AlHpHglrOp2HbwwcEtZ1Ow7eGHHWmIP6y06/P9GZaswnEkr6jnYPNMuq9ooSifOqdSUykWwaJYuRKwiQlqSQlSAnDNv5qixVQoGu9DViomnBUN4HTdDsuVzQrZz1uMVygj0Rdf6CHpwS1nU7Dt4YOCWs6nYdvDHJ/xJEPsvM6PUjKINFpJXlUqbR2h/DsEw+y8ufyp1KFpUaFuu2VU+x0QIs0V90IjprgzRX3QiOmuJeCWs6nYdvDBwS1nU7Dt4YW6vbYrlQGazKPbvXihFmivuhEdNcGaK+6ER01xLwS1nU7Dt4YOCWs6nYdvDBV7bFcqAWZR7d68UK1lep3uIrrIgyvU73EV1kQqXqEIeukIQAkTZgAAuAuMa1w5RW5w3uyMVB/TI5goiPWOLvL8THYG/lep3uIrrIgyvU73EV1kQoLhyguHKDOW92RioToGYcRxfSY7A38r1O9xFdZEGV6ne4iusiFBcOUFw5QZy3uyMVA0DMOI4vpMdgb+V6ne4iusiDK9TvcRXWRCguHKNlkhC3rVC0ApM2WCCLwbzBnDe7IxUIVI5glJnrHF3FX0mOwf//Z",Nnt="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAQEBAQEBAQEBAQGBgUGBggHBwcHCAwJCQkJCQwTDA4MDA4MExEUEA8QFBEeFxUVFx4iHRsdIiolJSo0MjRERFz/2wBDAQQEBAQEBAQEBAQGBgUGBggHBwcHCAwJCQkJCQwTDA4MDA4MExEUEA8QFBEeFxUVFx4iHRsdIiolJSo0MjRERFz/wAARCAAqAEADASIAAhEBAxEB/8QAGgAAAwEBAQEAAAAAAAAAAAAAAAUIBgQBAv/EACkQAAIBAgQFBAMBAAAAAAAAAAECAwAEBQYREhUWVZTRExRRUiIxQXH/xAAaAQACAwEBAAAAAAAAAAAAAAAABgEDBwQC/8QAKREAAgEDAgUDBQEAAAAAAAAAAQIDAAQRIVQFEhMUkhWRkwYWNFNxgf/aAAwDAQACEQMRAD8AyzSSSMWZ2ZmbVmJJJJ/przc32aq04BgXRrDtk8V8PguW4Y5JrrDcNggiR3eR7eMKqqNST+NZfH9WxSukcdhKzuQqgMNSa2b1+ID8Z/epO3N9mo3N9mqlbC7yLiF/Lh8WHwRS+pshe5w4QpK2u3buK/idw0Aan/AMC6NYdsniui6+omsigueHSLzZ5SJFIOP5Xo8dVTyvZyqcA4bTQ/0VJe5vs1G5vs1VpwDAujWHbJ4o4BgXRrDtk8VyfeFvspPIVHr8W3f3qS9zfZq9WSSNgyuysraqwJBBH9FVnwDAujWHbJ4o4BgXRrDtk8UfeFvspPIUevRbZ/enFYLMM/D0ZbLD8QtPd3UbX07e3kUxsCm5VjaRwGAGm5K3tZWe1fFbO4w9cCTCgzBzcL6Tes4kDEuI2JJPyaW+ENbIl7JcdPRY+UO4U5LjUAnXFLkcqxTwBwSjNhsAkf7iluRsTytMbuC6ksPd2uIMDLd7bZxbFQFKkiMFtQdRWlshavcXN9Dhl5BLcNtmmlkt2icwnaoURO5BA+wFZmfIqJbotpiVuXnhMd0TAwOpZ9HTQjcdH0/KtLbPuugnLiWuxHT32sReZQw2hthLf5rTJxm74XcWkkNrFbo8VmoEglQu7FkY5xy5Oh0ql2w5m7h5WmkcEBHVUQEkDBNOKKKKQKsooooooqT+aMx9cv8AuH80c0Zj65f9w/mubEY40v75ERVVbiVVAGgAB/Qrl2r8Cto7S120PxrT6IoSAehH4LTPmjMfXL/uH80c0Zj65f8AcP5pZtX4FG1fgUdpa7aH41qejD+mPwWmfNGY+uX/AHD+aOaMx9cv+4fzSzavwKNq/Ao7S120PxrR0Yf0x+C0z5ozH1y/7h/NHNGY+uX/AHD+aWbV+BXVh0cb39ijorK1xErAjUEE/o0dna7aH41qDFCBnoR+C1//2Q==",Int="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAQEBAQEBAQEBAQGBgUGBggHBwcHCAwJCQkJCQwTDA4MDA4MExEUEA8QFBEeFxUVFx4iHRsdIiolJSo0MjRERFz/2wBDAQQEBAQEBAQEBAQGBgUGBggHBwcHCAwJCQkJCQwTDA4MDA4MExEUEA8QFBEeFxUVFx4iHRsdIiolJSo0MjRERFz/wAARCAAqAEADASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAcCBQH/xAAlEAABAgILAQEAAAAAAAAAAAABAAIDUQUREhYXVFWjpNLiITL/xAAYAQEBAQEBAAAAAAAAAAAAAAAABwEDBf/EACURAAACCQUBAQAAAAAAAAAAAAABAgMEBREVVKPRFBZVkpTSUf/aAAwDAQACEQMRAD8AiL4sWI98SJFe57nEucSSST9JJK8tOmV3bs03kdyH2S7NN5Hch9l31bLVKe5D1JA/eEb/ADLMDhWnTKWnTK7t2abyO5D7Jdmm8juQ+yaxlqlPcgkD94Rv8yzA4Vp0ylp0yu7dmm8juQ+yXZpvI7kPsmsZapT3IJA/eEb/ADLMDhWnTK9ZFiw3siQ4r2va4FrgSCCPoIIXcuzTeR3IfZLs03kdyH2TVstUp7kEgfvCN/mWYFWRVjC8a5xfaYXjXOL7UunzqqraeBft0uKutLPkSdFWMLxrnF9pheNc4vtJ86qq2ngN0uKutLPkSdFWMLxrnF9pheNc4vtJ86qq2ngN0uKutLPkSdFWMLxrnF9pheNc4vtJ86qq2ngN0uKutLPkVpFt/wC3iRSoSU5SRgZlER+Iwi3UJJUJLIBEYRbqEkqEkgERhFuoSRn7YJlaSMTIv0wiP//Z",knt="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAQEBAQEBAQEBAQGBgUGBggHBwcHCAwJCQkJCQwTDA4MDA4MExEUEA8QFBEeFxUVFx4iHRsdIiolJSo0MjRERFz/2wBDAQQEBAQEBAQEBAQGBgUGBggHBwcHCAwJCQkJCQwTDA4MDA4MExEUEA8QFBEeFxUVFx4iHRsdIiolJSo0MjRERFz/wAARCAAqAEADASIAAhEBAxEB/8QAGwAAAgIDAQAAAAAAAAAAAAAAAAgCBwEDBAX/xAAjEAACAQMEAgMBAAAAAAAAAAABAgADBzYEEXSxUbISIUQW/8QAFwEBAQEBAAAAAAAAAAAAAAAABwYFCP/EACcRAAIAAgkEAwAAAAAAAAAAAAABAgMEBQYHETM0dII1NrHBEiEx/9oADAMBAAIRAxEAPwD1mdmYu7sWLbkk7kkyO58yMJzKT5ZtqSf6at9/gre6xi4ulqcmrcCr7rGLjRYXoS3Ez0atDyeTCLPdnKl+/wAVLtozEWa7OVrwqPbShrPTc4RGu77he1m+UVlufMyrupDK5UqdwQdiCJiEnh2aT+mjuhCEFzi4s21OTVuBV91jFxdLU5NW4FX3WMXGiwnQluJno1aFk8mEWa7OVrwqPbRmYs12crXhUe2lDWem5wiNd33C9rN8orKEISeHc7oT0NaiJrdWiIFUVXAAGwABmj4r4EGYocG1icWliWpyatwKvusYuLvazJq3Cq+yxiozWF6EtxM9GrQsnkyMWa7OVrwqPbRm4tF18qXhUu2lDWem5wiNd33A9rN8oq6E27DxOnRIj63So6AqatMEEbg7mTw6RR/GFvD8WJ//2Q==",Ont="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAQEBAQEBAQEBAQGBgUGBggHBwcHCAwJCQkJCQwTDA4MDA4MExEUEA8QFBEeFxUVFx4iHRsdIiolJSo0MjRERFz/2wBDAQQEBAQEBAQEBAQGBgUGBggHBwcHCAwJCQkJCQwTDA4MDA4MExEUEA8QFBEeFxUVFx4iHRsdIiolJSo0MjRERFz/wAARCAAqAEADASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAMGBwQI/8QAIxAAAgACCwEAAAAAAAAAAAAAAAECBAcRFhdRVFajpNPiA//EABoBAQACAwEAAAAAAAAAAAAAAAABBgIEBwj/xAAmEQAAAwUJAQEAAAAAAAAAAAAAAQIDBhZUowQRExRSVZPR0hIx/9oADAMBAAIRAxEAPwD3UDLL6qM9S8Oa6xfVRnqXhzXWbeQt0k341dDDERrIamDLL6qM9S8Oa6xfVRnqXhzXWMhbpJvxq6DERrIamDLL6qM9S8Oa6xfVRnqXhzXWMhbpJvxq6DERrIamDLL6qM9S8Oa6xfVRnqXhzXWMhbpJvxq6DERrIeBgXOySz+16Fkln9r0WmLHfn6TXyLBAD27TXY+xTAXOySz+16Fkln9r0Isd+fpNfIQA9u012PsUwFzsks/tehZJZ/a9CLHfn6TXyEAPbtNdj7FMBc7JLP7XoWSWf2vQix35+k18hAD27TXY+xcwd07BBBOzUEECUK+v0SSVSVTOapYHGR6SSv6Iju/SIxECWpYCpYATeIgS1LAVLABeIgS1LA6ZKCCOdlYI4E4X9fmmmq062BCl/KTO78K8f//Z",Rnt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP8AAACSCAMAAAC9vOx8AAAAn1BMVEX////aAAAjn0DreHiLzJphunbpZWXkSEjf8eP1vb16xYzfICA/q1jwmpqo2bPkRETx+fP97+/62trG5s7cEREypU3uiIjmVVX4zc3nWlrhMzNPsmbU7NqY0qb++vrgKyu338Bsv4Dzq6tLsGLqcHD74eHjPDzcDQ386en2xMTeGhovpEpYtm7M6dPc8OHgJibvkZH51NTypaXwm5vrdHRHGBp5AAAFQUlEQVR4nO2aa3OiShBApzGACoo8BCQJrInKI+6aZPf//7bbPQMYtlK1nxIv9JyqaIPNwAGmZ6AiDN6IWx/AjdH+vNH+vNH+vNH+vNH+vNH+vNH+vNH+vNH+vNH+vNH+vNH+vNH+vNH+vNH+vNH+vNH+vNH+vNH+vCH/Z3PAy73rPr+YxnDt2TCN89Z93g5Xu+79C/0wyjZa/8f5ADdc3v243xgPg7U/tmL7sH9cn4fJy2XoCmNujrIN4/P7v93mL67bDGj3O9Y2yH8tiO2DEGtThmqbDYXYqhBml4HbdBlCXDNwv6Nso/NfYycRW9ddr82567o/222wU92FhutiqypD7ldlvLhml6H2O8Y2Ov/H83orfobhHM9ZGLrhr/nmAbe5v9svN2EY4jmbh5Sx+YUZc4MywpAyHkLM+CkoY4xttP7ne3dvLInzFj9eTBkby635/CzD7Xm57DMw6DOWyz5jjG20/uZdh+n24Z1xDd2JZpD/fr8PRUf42Ieb/aaPHyeage5Co9FoNJrvpcrbIK9uehy3op4J4Vu+ELP61odyE/ymSJqmSYom/3fyFElPza7eNaf01gfy/VSB+n7P3lUQcKoBqX3I30h4BhfAKiCqNLdsLrdBbsFBpDGFO2hgR0GcigNYLOpAVUAi/Iu833cQKX//4gsbCgadoLqA4wtLWqN/CW1kCd+By+RPQH4CWIga/4gdQOu/gBr/4DT1LjADsIWwS+V59c/LBFeDrIYT5lgCpCKAk1q8+osTBCIFKI+3O7hv4ACkHoOlFj/4W4AjQgY4NEyYPAJ4FcKDWC1/8J+BJ8QrwKQnwzX6BtjX6SQQH/xfAWtCgMtTfhiKASIsAvCJP/6Egx/eH/HtDu/LsYDu8hQ+uf/R/416RlcaJkkidRe9JJ6PD2EtT0hyu8P7chJZ39+gG/9wOOgK/kle/8O0/S2pWwG08x+cDbUzHqyJ1P8P077/Y6lHrotuuS0FC1kZ6QRNuf7Vsv7RPFddZRzv26HAUje+N+3xD+c/jZDapU/LK/T/TUFVqhPRQDTl+Y/4A3CUBUB1+3cM5AswLARlJWcGf257gF8MPv+shLzbS3oD+IT+T2q17BGrqT//qGk+jYDyG6uerITY7Wn0uz4YTJacnnPVwBer54FaDQPUH96m//5DVBea8OaZ7Pk4E4ZUVoGMxHfTf/+FJyCjF91HB6VX9LwX/MYPh7p9mjHQx2v/Ttc6aGjuDyVYnX7+6t/60L6TI874cRigD2/iRf9z8ljKQzn1mv85eRoX0r+I08lX/b/I61mGF7/JIIIMC0F5mtXczoHI0dgrPBUw5WizLH1XWA15Go1G838iSZJFv7C4TkX95Fqa44lmoLvACag967CdPjzAoY+diWagO/mfrAGlfSm8aAe7wdoEH1QTJzs1w+TiYpf4QzPKNlr/w2JAs7BmT5kPT4O1q0hEaRKvsmFyYi0cAUdvlG20/pFDQOM4UUlRrbaRaxv6KimjUNvIDKekL5kxU/sdZRut/0pWgygVYuXJUG0jawa2ik8pXQZu02VgVekzcL+jbKPzl/+WQP96sPKO9Ea63SYDsOgNNbaqMuR+VQZAn6H2O8Y2en/7KRJBEPgrLw+CZlFV/pG2ebUsXA5yb+UHlJFXPrVKGUFAGccAM46CMsbYRutfXJoT2EQR4UeZUeiBV2ZOI1dHhW33GRj0GbbdZ4yxjdafM9qfN9qfN9qfN9qfN9qfN9qfN9qfN9qfN9qfN9qfN9qfN9qfN9qfN9qfN9qfN9qfN9qfN9qfN9qfN9z9/wOZ/2Mbq2n5OQAAAABJRU5ErkJggg==",lj={fa:{label:"",flag:Rnt},sp:{label:"",flag:Nnt},gr:{label:"",flag:Int},it:{label:"",flag:knt},rs:{label:"",flag:Ont},en:{label:"",flag:Ant}},Pnt=()=>{const[t,e]=C.useState(""),[n,r]=C.useState(!1);C.useEffect(()=>{const o=localStorage.getItem("I18N_LANGUAGE");e(o)},[]);const s=o=>{ba.changeLanguage(o),localStorage.setItem("I18N_LANGUAGE",o),e(o)},i=()=>{r(!n)};return a.jsx(a.Fragment,{children:a.jsxs(tu,{isOpen:n,toggle:i,className:"d-inline-block",children:[a.jsx(eh,{className:"btn header-item ",tag:"button",children:a.jsx("img",{src:aj.get(lj,`${t}.flag`),alt:"Skote",height:"16",className:"me-1"})}),a.jsx(kf,{className:"language-switch dropdown-menu-end",children:aj.map(Object.keys(lj),o=>a.jsxs(sf,{onClick:()=>s(o),className:`notify-item ${t===o?"active":"none"}`,children:[a.jsx("img",{src:aj.get(lj,`${o}.flag`),alt:"Skote",className:"me-1",height:"12"}),a.jsx("span",{className:"align-middle",children:aj.get(lj,`${o}.label`)})]},o))})]})})},Dnt=uN()(Pnt),Lnt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAeCAMAAACR41cYAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAJ/UExURUdwTCEgIB8fHyAfHyAfHyAfHyAfHx8eHiAfHx8eHiAfHyAfHyAfHx8eHiAfH5jU5h8eHiAfHyAfHyAfHx8eHh8eHiAfHyAfIAQBAxgWFiEhISEgIAwCACAgIB0bGi40NhkVFCAfH5za8FBncENVXKTm95vZ8Jza8J7c8R0bGhMTEx0cHCAfHyEgH73//yEgIJ7c8QAAAIfF6TM7PwwJCh4cHHm45SAfHyAfH5za8CAfH5za8Jza8Jza8Jza8CAfH5za8G6VokRVWxIKCJza8JvY7pza8DtITTlFSZ3b8AMHCgAABJza8ElBPDA4PFVLRK3z/zEvLRcXGEVBPTA5PJza8AADB5vZ74XD6QIAAIrJ67T+/4HA6BAIByAfH4zK7IrI6zE4O7D5/yAfHwEAACIgIJza8BUWGAACBhoaGvXLsQ0PEZ/g957c8RATFf/oy1p4hfzRticqLIC+6Jrm///jxiMiIvDEq//Xu/bHq//fxG5eVRgXF////P/z0P/22lNHQv/gv//877H5/xcTEhUOC76cicyolCcjIf/avdivlpvY7mZaUQMHC1lNRfrNsPTJr//o0v/cwf3WuHtnXIshF4VuYvTEqfrcyM+oqOrW1PTm4v716zM7PqHf8v/t1SkpJsD//1RueGebxaPn/IXK/TVIV3OapbmXheK0mNuymv/GrdWZhu/Tx+u7pI54adymkf/658+dlMifn+S1mafq+7uhizYvLeLCufLs7/rk1mNVTf/NrtOskqeHd8aXlXFgVv/kwZU1LNW1neK9tJAuJsCMirJwa+nKv9zFx2CRtVuKronG6naszSUnKUZaZG+TmUFPU3agr3GkxIu8xSfH+3sAAABzdFJOUwD97RwqJTMat/4VL6DlCwmSOh2qV77yhGEIms8njIj9+xEk6wESA6CMcwRtUGQlwnjIs9iu9u3fsS5e3hvwhB66hguP9eJfotdT9nPf4o7mPNW62Kc/5MnTMeRzzcTG3/LkYv////////////////////54WQMpAAACTklEQVQYGXXABVMiYRgA4BdYdhkExa5TR8Xuvu7u7v5g2V06XFGxO7C72+vu7s74Qaczd87sIg/85yeUJMMCsUK+FFzIEEISvwSZxF8iSwpEczyBT4L4xMAXhniE4CIQ8QRgwCMWID458PgipEYag0ZD07TGYHCgOcuBI1GIWA3lqEcOrVbrUNdXUzSLfIHDB7EG7fXGi411tRdq6y7dedrl1KjTgGMNop3PSm+WGO35+fkNHSUlpT0U8geO4ABneUX7w9tXWxmGKXzU/7HyyX2tBLhCVT0vh/q7b7W3MW1Fb169H6p4TIXAP1IRQfiIMV/qRUXl8+4HHUwnY//w9l1lZ7kzHBP7EIRICpg3juMemLd2zGwcHOjrLbjB9PYNDI72sgYc88Bx3BsDQiSN9FQCpFDFxrKyVvO1KwXmwtGy0i4qBUDpGSkVEbDA73D5vYIGo/2y3Vhkfl28PQl4NoQABAdl79vV0lzc3LLnwP4dBPB4rbNkwbwM1byMRHAVk7qe3gIAyWpWIBCwKAgWFTS8dfdBQY5cIMsRsv6wuARLhIU+rUBhKCQgFNwIPrYkTR6uVqjD80LBvWxhIFKgsLxT4IYy9XyWJbo6ujo64tyJvbGwiM1H9OM/kalmosb0bXhct2m1F/DExpG6KZPqxy/Vd9XsrGriro5cEQVcUSSp05s+T0XU/HGM6T6Z9DqSjAcur7Vkk77KNjnzu+rrzKStSt9ErloGfOk7yRGr1Tb9ZdpmtY6QG+NWgivlofTMk2dyz+YeP5oZvy0GFvwFlSbPVswTomsAAAAASUVORK5CYII=",Mnt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAdCAMAAABopjdHAAAAwFBMVEVHcEwAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4MAT4Mri5Y4AAAAP3RSTlMAIwhydxy28hIWIc+je6u9P/b9BUziKJcMxKdZAjyMXjfXu8Hm1eou2t0z+rKRRq+A7my6Qp/M34PrU1YPiL7YsJ9AAAABbUlEQVQYGW3Bh3aiQAAF0EedoSMiYu+isdcka7Lv//9qYTib3eR4LwB9b9yilWBtefeN2NFR6h3WJOfeLIqizn3REiQXgdaEMSdb5uiaWTLXc+mOH5+XOSlGaJDJDN+NSJ7QILn0zcegcJ2SpWUvaZcleFROk44d+jf/MF1sWHlHl895OPI5GyM+10bML97US/iXiazB2jIo8uJtzlqSQptQWZ6hxzoMQaU1gGVTCfUsbPnaR0hllkG2WUkCmCQDmFRuEk2TlcSESdJAQCVoAj0q4YfWXrRduaXyC0BKRQRAARwFK5sxAGdL5X0YW/HniUrkomQNWVt11lQ2swFq4+GK/7RsA7XrzkKWGu3Q/h3Z4c7YQw5yVHpiYTpAX1quJZuATKO1hsqLR+H556smc6mNH0c74dZBxbFZEuv77DLtTARLZx2Vvs+f4j6UIX+yUCte+V03R60/PvA/ouvii7N/m742yESsLrtejsofWqVrkBSdwYAAAAAASUVORK5CYII=",$nt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAA0lBMVEVHcEzEI2HDI2HDI2HEI2HDI2HDI2HEI2HDImHDI2HDI2HDImDDI2HEI2HDI2HDI2HDI2HEI2HDI2HDI2HDI2HDI2HDI2HDI2HDI2HDI2HDI2HEJGLDI2HDI2HDI2HqTInxU5C9HFq7GlnyVJHEI2HpS4jwUY/BIV/tTou3FlTCImDzVZK6GVfUNXPfP32+HVziQ4DaOnjrTYrFJWO/Hl3MLGrKKmjAH17uUI3cPXrXN3XSMnC1FFLoSYf1V5T4WpfPLm3mR4TIKGbQMG7wU5DqS4gW3fYwAAAAH3RSTlMAlnPA0mVNzNyLQuQo7zUfxPFVXWx6pPMCRX/1A3yvLDJKvgAAAk1JREFUGBllwIV2GmkUAOAbIUD8bCrp2v1dx10ZBmbf/5WW0DZtTz/44X518fzwef3pwyP87uZKiJhRSlns1iv41f2Vpk73bdumYVUwff0FfvKS07rUNJz4wrlJwpqJj/Dug2D5vNsHrPUS0Sx+rgqxhW/+EKxsuMpEoKWSiCj5rqTiTzh7EqzkSkof0WBPMkRpfORYIW7hzZrmjZKIGd8HrPUSCe8Cmx7pA5zcOpp4iYhSSRfkxvOxtDacUNeXALBmR45n0reUhSaMh7jlxnfsAeDJ0YRjZoxaiG8OsXBDsB95JtWs9S2s4spz1Rg5R+mxcrWu99Gi8ETt6RYu6qrr92WV18wOVuSFyHYZZojIU/YMVzkdBmstK0QVtpgUQTepE0KmhG5go8uwD8M0SkZD/LQrg7zrj8c+TJO0voMNjSa1ELIoY3jT9rlzwWCtHQZbizu4oinHN7LhyYENTNeHtG3bri+F28AFCwmeyKXpmaWHJAxytVsIX3YpfYZVcTAGUfLxYIND1ExzwVqOJ7ynW3hycUJQ8lnbuGu8yZrSlipDbEanvwCsWe8lH7XViTcSkXc2Hw1Kn7LPrwA3ukimLB/c6PGNSmIaEakyV/wDJ9e08v2gR49nBnPbEeP37K9XOLkX9UHTyP+HXy29LdWuY+4Gzl5EHKQTfsfTIDcp01v46vVSFOXsVYZnZK5FVegLeLcStAjnhpNlIZwkoo7dFn7yuNasLrs2itq0dE5sbuBXL2tHGY1jyqjeXP4Nv3m8/LS+u7v+9+MtvPsfo0R0DDqUOxMAAAAASUVORK5CYII=",Fnt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAhCAMAAABkz+JgAAAAxlBMVEVHcEwAfuYAfuYAfuYAfuYAfecAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuUAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAf+UAfuYAfuYAfuYAfuYAfuYAfuYAfuYAf+YAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuYAfuUAfuYAgOcAfuYAfeYAf+YAfuYAfuZXV9ysAAAAQXRSTlMACxEy+QLr/PX+2xgHGh58vjZgQeTHDu1k6RWMKIbTudej4Jipy0cFcPPvL3MkTBNn0HfFVq5Q6LVrOh8GnFk8kkQ6JVUAAAGsSURBVBgZfcEHgppAAAXQjw4Mgi5iD/Yu9o6uW/Lvf6kgiowmm/cQq3y1G0g0hvMKXuTaksESMdei2LhQaWuTIbOQxZW+9xnyJys8NMqCEVHXAYybPiNyOMNNZW3wYWBjVZeMmVsPocVOMiE3bl4yITdpYFSlShyKXZ8qs4ZcmYrSKIvxd4+KzQXQ+oJ31X4OV5VmlXdyYCM0rklGrLSOG/0tz4jcZnGz7JEMnCwS2sQiWSroiHlDnlY6nngDGjMo3tseXun9dyi8jiyn8MzeyamLh31A0ndSSKQmPZJBLYuI7kheZaouYpcWI7KJK+9T8M7sL3CVq5uMHS5ArkOFudeB4pSK0gWjElXiMOoKqn6tgVReMpEZvuUzTMjWBSGt1mMs8zmrp+uCselcw01uJxkRzqXDanouGJFlGw/jQsCQUThaJIPC0WAoOKeg0k6SRnHpM+I0LMrWAs/m6a/urCl4I7ru6ewV8KxtLO0uE3m7OG3j2dmXFlWdKZt44bYEVZlOEX/RagYTxsTGv1S6Pm/MfAM/+CiWeWUds/jZh1Oi8VvDf+mLbVrHsz8x4n90MIcLhQAAAABJRU5ErkJggg==",Vnt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAjCAMAAADCMPhoAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAJAUExURUdwTGVPRGVPRHVeUGVPRGVPRGRPRWVPRGVPRGVPRGRQRWVPRWVPRGVPRGVPRGRPRWVPRGVPRGVPRGVPRGVPRGBVUmVPRGVPRGtUR2VPRGVPRGVPRGVPRGVPRGVPRGVPRF9LQ3NZSZ6IdmVPRGNVT3poX2VPRGVPRHlhRl9gZIFnR2VPRJBpTP3rzvTSqxIgNEme1yyDwhUiNY5oTGZQRGlSRfzoyf3qzffbuPXixZpzVfTVsGBMQ/PQqXpbSIRiSnFWRvjlyP///39fSW1URrKUeIhkSkM8Pe/Np4tmSyx8tvrgvv37+ZRtT5ZwUuPDn1VHQ595WnNYR5FqTVKCo2NOQ/vlxdrBpCEpN9y7mPXUrj1IWZV7ZzWKxqqTfunIo/PRq7mafsm/ubipoP338LispLyrmKWNeFtlcPzy55yBa/PNo9e2lCcsOO3AkO7Gm1lZXhUpQi6CvsilgzA8TaeCY0SZ05yDbysuOTExOvbYs/HdwaqHaeDBnc62nGJqeOXQtBspPLKch8ytj/327fjz7sO3r35sWb+yqbOObk5jdmNdXzR7sPHJnfDbvUVujVd1inhxcVJgb7+aeerXvDZ5qo2Aeyg0Rh9PdkhphShzq/fixBxFaRk1UZ97XjpznjZCUzQzO15LQydrnq6Vf829sPnn06GGcIRlTy4+UqCeoPLv7s7Hw+Hd2+zp546UnqCjpc62e7uoayhfiqmRSHWAjlBTROa+T9KxTFKFqe/HTp+XXllwgsW4a5e0njlHS3QagBcAAAArdFJOUwChif0QVMAFATnZ3hjoM8j3bbLSKPesC/SV9JpILoBY8Pz9kf3wgnaT/pqvGFBIAAACu0lEQVQ4y3WU5VsiURTGCZFBxcCu7ebOXBiQRgQBRbBwLbCwde3uWN1Ht7u7w+3u/df23mGYhcf1/fp776k5Z3i8CIklObm8rZWbndr9c+2QmCeOF22P34Tj+Ae/KX79/vHlQObeK+dPViRERWBCtOewQqH48/3rx3cvFmkIYX90RPLMbgVWyef3b/0Qc0hLw3hUwjmGN3741A1Z0bFhPBaHV0w8fP5mGdJI2DCV/Y/HMLzx1r1Fum7qvslkKuqH9A4xlz/67ATiI8P+MXraJA9quiiJC7DthFKJyoP+5TqM1XmWQq9dncZxyZBSqWwsgWN0EcJ5hSqA5eSaJGJOIUMJfRVWIOwCQVWV7UxnDaILiI8M05h7ASg1GEqrQFm9r1bGGmSXkeEahCi+HQCDdYbCMg8MxrCGVMRvQFiH8qPsZ3ynB44wluJww21IV6MCAHAYzYMMpuqbk1kD/7ry7oNqxOX5ACxQ6HlfOXovLE/gxjTkRbFdankhAKP4ce8kpXMbizNEoTkUoNpG51AEFSgzI4Oj13jJMa/R7+IHDfssoNJMNaARokDHWyjKWKMlrVqS1DYJgkW4QMBnRgacA1T21ZAh6RrisEFgAXMa3Roy2F2gcl4TwtqZZmEcW0NVYCmAP6HTUBziGl1LoC24MsRu1B9QMX1e1CGm17h1LStd6683pESw0aSMAm8eM8nxmyT56HFra+vLVx6bzXY0NCyxgFkSFSidJa0rT3ra23t6PDbPuj6LuwnWAGpJsulY++qqx7bR0WntEnFLkYYNFgDGSXK2s62jo61zQe+eD9/rRLxNTgD0bBc1bl+zMCXsMiQ4hN0JHCGHtl64P+L2RNihtqju1FoxXuqSC4jI442XYoe6IP/Z06ZJoTwradN5E/xEOafolP/9INIFyYxHKpNs+RMhUnIk4T+Gv3cNvzi99G5fAAAAAElFTkSuQmCC",Unt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAACplBMVEVHcEz////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////60uX///////////////////////////////9uytzmmQDpqCA+uZHgFWPkkQAWjnjODgjIAQNVwdYarX3XADfcAEj5/f3cAE7L7PN/1e7ppAuw49I2t42G1bjjFnJkyuXsqyX22qE8uJDyn75zzN70qcViegRUgh/ZAT245ddB2aIzACb34LAFgmbMAgpFsrj//vTS7/QVqnr+/PrppxwwvIzvw2Puu1BKvdT+8PXI7OEOqHaS1+XfA15cw9f96r7E6vFcz/pLdARCvZTw+fbfDV9lhhv/ryHpU4zhGmj2vtH7AlgdtIEYDjGm3+oKlG8bk3zrtwmd2+ggl4FSwpoIimozpJrIkgDe9PrPJQB12v/rtiT8//8rpoR/0N6v4/LtwBxSwtvlO3vI6+pgxqVGu9MLp3NzzLC95++Zkxzwibb/GW0bfWb33qvumwD+c6cUACE3ADAvs4k5UVo3EDnvzCxsxK/kfUb96vnSNgD+rBznnh81r4zUEil7ysTpf4H384miwZjWOxfcag395/cPjW714Hn3ynT6nABVvc9gx+D44rVkx9rbWhfkjxzmS4V3ih1Lj03fFV7TDCJmnV5staHhK2njMHNuxc0nn4Jv0e+wVX9dqo3sFmem6P9Eu9JtAC/IvG1Jfhxym1BsgQqh5/9AEjyoAErufqr01pXrsDYoDjQ4Gj0cy47Alw5wLFTuAVp6z7PYJWp43rueFVRmEkb0ZprVAEUgt4QsiG94nZYsIT9Gx5y9/+uQ18Ci3coAom6/ICZyAAAAKXRSTlMAP9pMoGFRR+eup71y+9DzuF0xoyLgFQKyWWadV4P2w5b+kQivDFtcxZCJTt8AAAKlSURBVBgZdcCDU2QBGADwrxXaai/76oTvvbdmNnezbetqsjHZOtu2bdvGf3K1u9NMN9cPFmPzOOtZsBQ6jiX5IxP+z5bjLxKJnprCP+wtGSwAsMJnpB9J4Vq2I8MeFliiZziuBLDBZJKixrNR5eaGxmBgrupNTx9ANoDj2HhxMXn3YZAsJUNlDno8z/4Ar7g0S1sWL4Z6NfQgtNuXIPpyeKC3zFMuEMR5861Vsbfu590LDbnYQpxIcbMDPXqBl1d+Yl1sZ5As90ZIUVHIhdxuWRUagZ4Test3tB+M9s0irl0pCgnNC+3obEIT0FlHw6Zd9WJxZIM7QRC5Z/PODDVmc5wtQIeNg0G+R8XianEt4SvLatnb6Fd85LA1GJjl9GUR7g311eLIaPeq2LaYbR6Uh1+8EVhZrAIA04yUIMI9OlJcu2ETzksiKYrMNuMickwAaDm3ZbJjxNV2QWIdzosgqdaaQwcCT196gubAxsGODDeVd0V+gDwN522s2b5/X6laqVYMcwCYNOQzzMLlAkGcN87ZsnmrRCoN8xGWhpWYwhwrG3AqCJgWJGowNbjERyGNkkh2+hQqFYE0MOC/f6kJGL0+olRmnpNIJNIodWZPMNJBh+7KDx+deTF5p1woFPqcl0qjmnevQBc66Lhi2ad3Wu3U80fCm4XqTEXzyVMee0wtQI8VXxKmLP9YOTtb+bhcfXm4rLWry8Mvxgj0lgUrCoUjHyqntJOvJ8qQtjyJpCgywhj0eIEKofDNZ+33ma8/2rhGsPq4KCFBFMEFPYfUnjBl6cS3Co3mS5ozAAuTRaLkeBYY2GFgcCr+rBAI5G/5awCM0d8fGbCAacxgmxR4TefLe9EGAJhcLhMWs8Vff9L7Pa1hCSb4eyAc2bAUBzOOCx0W+QuvxroExNCXxAAAAABJRU5ErkJggg==",Lse=t=>{const[e,n]=C.useState(!1),[r,s]=C.useState(!1),[i,o]=C.useState(!1);function l(){!document.fullscreenElement&&!document.mozFullScreenElement&&!document.webkitFullscreenElement?document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()}return a.jsx(oe.Fragment,{children:a.jsx("header",{id:"page-topbar",children:a.jsxs("div",{className:"navbar-header",children:[a.jsxs("div",{className:"d-flex",children:[a.jsxs("div",{className:"navbar-brand-box",children:[a.jsxs(Le,{to:"/",className:"logo logo-dark",children:[a.jsx("span",{className:"logo-sm",children:a.jsx("img",{src:V0,alt:"",height:"22"})}),a.jsx("span",{className:"logo-lg",children:a.jsx("img",{src:Tse,alt:"",height:"17"})})]}),a.jsxs(Le,{to:"/",className:"logo logo-light",children:[a.jsx("span",{className:"logo-sm",children:a.jsx("img",{src:lN,alt:"",height:"22"})}),a.jsx("span",{className:"logo-lg",children:a.jsx("img",{src:jse,alt:"",height:"19"})})]})]}),a.jsx("button",{type:"button",className:"btn btn-sm px-3 font-size-16 d-lg-none header-item","data-toggle":"collapse",onClick:()=>{t.toggleLeftmenu(!t.leftMenu)},"data-target":"#topnav-menu-content",children:a.jsx("i",{className:"fa fa-fw fa-bars"})}),a.jsx("form",{className:"app-search d-none d-lg-block",children:a.jsxs("div",{className:"position-relative",children:[a.jsx("input",{type:"text",className:"form-control",placeholder:"..."}),a.jsx("span",{className:"bx bx-search-alt"})]})}),a.jsxs(tu,{className:"dropdown-mega d-none d-lg-block ms-2",isOpen:e,toggle:()=>n(!e),children:[a.jsxs(eh,{className:"btn header-item ",caret:!0,tag:"button",children:[t.t("Mega Menu")," ",a.jsx("i",{className:"mdi mdi-chevron-down"})]}),a.jsx(kf,{className:"dropdown-megamenu",children:a.jsxs(ge,{children:[a.jsx($,{sm:8,children:a.jsxs(ge,{children:[a.jsxs($,{md:4,children:[a.jsx("h5",{className:"font-size-14 mt-0",children:t.t("    ")}),a.jsxs("ul",{className:"list-unstyled megamenu-list",children:[a.jsx("li",{children:a.jsx(Le,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Le,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Le,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Le,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Le,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Le,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Le,{to:"#",children:t.t(" ")})})]})]}),a.jsxs($,{md:4,children:[a.jsx("h5",{className:"font-size-14 mt-0",children:t.t("  ")}),a.jsxs("ul",{className:"list-unstyled megamenu-list",children:[a.jsx("li",{children:a.jsx(Le,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Le,{to:"#",children:t.t("")})}),a.jsx("li",{children:a.jsx(Le,{to:"#",children:t.t("")})}),a.jsx("li",{children:a.jsx(Le,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Le,{to:"#",children:t.t("")})}),a.jsx("li",{children:a.jsx(Le,{to:"#",children:t.t("")})})]})]}),a.jsxs($,{md:4,children:[a.jsx("h5",{className:"font-size-14 mt-0",children:t.t(" ")}),a.jsxs("ul",{className:"list-unstyled megamenu-list",children:[a.jsx("li",{children:a.jsx(Le,{to:"#",children:t.t("  ")})}),a.jsx("li",{children:a.jsx(Le,{to:"#",children:t.t("  ")})}),a.jsx("li",{children:a.jsx(Le,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsxs(Le,{to:"#",children:[" ",t.t("")]})}),a.jsx("li",{children:a.jsx(Le,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Le,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Le,{to:"#",children:t.t(" ")})})]})]})]})}),a.jsx($,{sm:4,children:a.jsx(ge,{children:a.jsxs($,{sm:6,children:[a.jsx("h5",{className:"font-size-14 mt-0",children:t.t("  ")}),a.jsxs("ul",{className:"list-unstyled megamenu-list",children:[a.jsx("li",{children:a.jsx(Le,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Le,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Le,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Le,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Le,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Le,{to:"#",children:t.t(" ")})}),a.jsx("li",{children:a.jsx(Le,{to:"#",children:t.t(" ")})})]})]})})})]})})]})]}),a.jsxs("div",{className:"d-flex",children:[a.jsxs("div",{className:"dropdown d-inline-block d-lg-none ms-2",children:[a.jsx("button",{type:"button",className:"btn header-item noti-icon ",id:"page-header-search-dropdown",onClick:()=>s(!r),children:a.jsx("i",{className:"mdi mdi-magnify"})}),a.jsx("div",{className:r?"dropdown-menu dropdown-menu-lg dropdown-menu-end p-0 show":"dropdown-menu dropdown-menu-lg dropdown-menu-end p-0","aria-labelledby":"page-header-search-dropdown",children:a.jsx("form",{className:"p-3",children:a.jsx("div",{className:"form-group m-0",children:a.jsxs("div",{className:"input-group",children:[a.jsx("input",{type:"text",className:"form-control",placeholder:t.t("")+"...","aria-label":"Recipient's username"}),a.jsx("div",{className:"input-group-append",children:a.jsx("button",{className:"btn btn-primary",type:"submit",children:a.jsx("i",{className:"mdi mdi-magnify"})})})]})})})})]}),a.jsx(Dnt,{}),a.jsxs(tu,{className:"d-none d-lg-inline-block ms-1",isOpen:i,toggle:()=>{o(!i)},children:[a.jsx(eh,{className:"btn header-item noti-icon ",caret:!0,tag:"button",children:a.jsx("i",{className:"bx bx-customize"})}),a.jsx(kf,{className:"dropdown-menu-lg dropdown-menu-end",children:a.jsxs("div",{className:"px-lg-2",children:[a.jsxs(ge,{className:"no-gutters",children:[a.jsx($,{children:a.jsxs(Le,{className:"dropdown-icon-item",to:"#",children:[a.jsx("img",{src:Lnt,alt:"Github"}),a.jsx("span",{children:"GitHub"})]})}),a.jsx($,{children:a.jsxs(Le,{className:"dropdown-icon-item",to:"#",children:[a.jsx("img",{src:Mnt,alt:"bitbucket"}),a.jsx("span",{children:"Bitbucket"})]})}),a.jsx($,{children:a.jsxs(Le,{className:"dropdown-icon-item",to:"#",children:[a.jsx("img",{src:$nt,alt:"dribbble"}),a.jsx("span",{children:"Dribbble"})]})})]}),a.jsxs(ge,{className:"no-gutters",children:[a.jsx($,{children:a.jsxs(Le,{className:"dropdown-icon-item",to:"#",children:[a.jsx("img",{src:Fnt,alt:"dropbox"}),a.jsx("span",{children:"Dropbox"})]})}),a.jsx($,{children:a.jsxs(Le,{className:"dropdown-icon-item",to:"#",children:[a.jsx("img",{src:Vnt,alt:"mail_chimp"}),a.jsx("span",{children:"Mail Chimp"})]})}),a.jsx($,{children:a.jsxs(Le,{className:"dropdown-icon-item",to:"#",children:[a.jsx("img",{src:Unt,alt:"slack"}),a.jsx("span",{children:"Slack"})]})})]})]})})]}),a.jsx("div",{className:"dropdown d-none d-lg-inline-block ms-1",children:a.jsx("button",{type:"button",className:"btn header-item noti-icon ",onClick:()=>{l()},"data-toggle":"fullscreen",children:a.jsx("i",{className:"bx bx-fullscreen"})})}),a.jsx(bse,{}),a.jsx(_se,{}),a.jsx("div",{className:"dropdown d-inline-block",children:a.jsx("button",{onClick:()=>{t.showRightSidebarAction(!t.showRightSidebar)},type:"button",className:"btn header-item noti-icon right-bar-toggle ",children:a.jsx("i",{className:"bx bx-cog bx-spin"})})})]})]})})})};Lse.propTypes={leftMenu:P.any,showRightSidebar:P.any,showRightSidebarAction:P.func,t:P.any,toggleLeftmenu:P.func};const Bnt=t=>{const{layoutType:e,showRightSidebar:n,leftMenu:r}=t.Layout;return{layoutType:e,showRightSidebar:n,leftMenu:r}},znt=gb(Bnt,{showRightSidebarAction:b0,toggleLeftmenu:kY})(uN()(Lse)),Wnt=()=>a.jsx(oe.Fragment,{children:a.jsx("footer",{className:"footer",children:a.jsx(gn,{fluid:!0,children:a.jsxs(ge,{children:[a.jsxs($,{md:6,children:[new Date().getFullYear(),"  ."]}),a.jsx($,{md:6,children:a.jsx("div",{className:"text-sm-end d-none d-sm-block",children:"      "})})]})})})}),Mse=t=>{const e=Qf(),n=ig(p=>p.Layout,p=>({topbarTheme:p.topbarTheme,layoutWidth:p.layoutWidth,isPreloader:p.isPreloader,showRightSidebar:p.showRightSidebar,layoutModeType:p.layoutModeType})),{topbarTheme:r,layoutModeType:s,layoutWidth:i,isPreloader:o,showRightSidebar:l}=pb(n),c=ou();C.useEffect(()=>{const p=c.pathname;let y=p.charAt(1).toUpperCase()+p.slice(2);document.title=y+" |     "},[c.pathname]),C.useEffect(()=>{window.scrollTo(0,0)},[]);const u=p=>{var y=document.getElementById("right-bar");y&&y.contains(p.target)||e(b0(!1))};C.useEffect(()=>{e(G$("horizontal"))},[e]),C.useEffect(()=>{document.body.addEventListener("click",u,!0),o===!0?(document.getElementById("preloader").style.display="block",document.getElementById("status").style.display="block",setTimeout(function(){document.getElementById("preloader").style.display="none",document.getElementById("status").style.display="none"},2500)):(document.getElementById("preloader").style.display="none",document.getElementById("status").style.display="none")},[o]),C.useEffect(()=>{r&&e(q$(r))},[e,r]),C.useEffect(()=>{s&&e(sA(s))},[s,e]),C.useEffect(()=>{i&&e(H$(i))},[e,i]);const[d,h]=C.useState(!1),m=()=>{h(!d)};return a.jsxs(oe.Fragment,{children:[a.jsx("div",{id:"preloader",children:a.jsx("div",{id:"status",children:a.jsxs("div",{className:"spinner-chase",children:[a.jsx("div",{className:"chase-dot"}),a.jsx("div",{className:"chase-dot"}),a.jsx("div",{className:"chase-dot"}),a.jsx("div",{className:"chase-dot"}),a.jsx("div",{className:"chase-dot"}),a.jsx("div",{className:"chase-dot"})]})})}),a.jsxs("div",{id:"layout-wrapper",children:[a.jsx(znt,{theme:r,isMenuOpened:d,openLeftMenuCallBack:m}),a.jsx(oYe,{menuOpen:d}),a.jsx("div",{className:"main-content",children:t.children}),a.jsx(Wnt,{})]}),l?a.jsx(Nse,{}):null]})};Mse.propTypes={changeLayout:P.func,changeLayoutWidth:P.func,changeTopbarTheme:P.func,children:P.object,isPreloader:P.any,layoutWidth:P.any,location:P.object,showRightSidebar:P.any,topbarTheme:P.any};const Gnt=yg(Mse),$se=t=>{const e=Qf(),n=ig(s=>s.Layout,s=>({layoutModeType:s.layoutModeType})),{layoutModeType:r}=pb(n);return C.useEffect(()=>{r&&e(sA(r))},[r]),a.jsx(oe.Fragment,{children:t.children})};$se.propTypes={children:P.any,location:P.object};const Hnt=yg($se);var W4={exports:{}};const qnt=ng(Bke);var Ynt=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n};/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Knt=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)};/*!
 * MIT License
 *
 * Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (https://sindresorhus.com)
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated
 * documentation files (the "Software"), to deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit
 * persons to whom the Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the
 * Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
 * WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
 * OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */function Jnt(t){return typeof Blob>"u"?!1:t instanceof Blob||Object.prototype.toString.call(t)==="[object Blob]"}var Qnt=Jnt,oW=qnt,Fse=Ynt,Znt=Knt,Xnt=Qnt,Vse=Object.prototype.toString;function Use(t,e){for(var n=t.length,r=0;r<n;r++){var s=t[r];if(e(s))return s}}function Bse(t){return Vse.call(t)==="[object Function]"}function zse(t){return t!==null&&typeof t=="object"}function ert(t){return zse(t)&&Bse(t.pipe)}function trt(t){return Vse.call(t)==="[object ArrayBuffer]"}function lW(t,e){return t?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):e}function nrt(t,e,n,r,s,i,o){return Use(t[e.toLowerCase()],function(l){if(typeof l[0]=="string")return(cW(n,l[0])||cW(lW(o,n),l[0]))&&$L(e,r,s,l[1])&&cC(i,l[2]);if(l[0]instanceof RegExp)return(l[0].test(n)||l[0].test(lW(o,n)))&&$L(e,r,s,l[1])&&cC(i,l[2])})}function cW(t,e){var n=t[0]==="/"?t.substr(1):t,r=e[0]==="/"?e.substr(1):e;return n===r}function $L(t,e,n,r){var s=["delete","get","head","options"];if(s.indexOf(t.toLowerCase())>=0){var i=r?r.data:void 0,o=r?r.params:void 0;return cC(n,o)&&uW(e,i)}else return uW(e,r)}function cC(t,e){return e===void 0?!0:typeof e.asymmetricMatch=="function"?e.asymmetricMatch(t):Fse(t,e)}function uW(t,e){if(e===void 0)return!0;var n;try{n=JSON.parse(t)}catch{}return cC(n||t,e)}function rrt(t,e){Object.keys(t.handlers).forEach(function(n){var r=t.handlers[n].indexOf(e);r>-1&&t.handlers[n].splice(r,1)})}function Wse(t,e,n,r){if(r>0){setTimeout(Wse,r,t,e,n);return}!n.config.validateStatus||n.config.validateStatus(n.status)?t(n):e(Gse("Request failed with status code "+n.status,n.config,n))}function Gse(t,e,n,r){if(typeof oW.AxiosError=="function")return oW.AxiosError.from(new Error(t),r,e,null,n);var s=new Error(t);return s.isAxiosError=!0,s.config=e,n!==void 0&&(s.response=n),r!==void 0&&(s.code=r),s.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},s}function srt(t){var e=`Could not find mock for: 
`+JSON.stringify(t,["method","url"],2),n=new Error(e);return n.isCouldNotFindMockError=!0,n.url=t.url,n.method=t.method,n}var Hse={find:Use,findHandler:nrt,purgeIfReplyOnce:rrt,settle:Wse,isStream:ert,isArrayBuffer:trt,isFunction:Bse,isObjectOrArray:zse,isBuffer:Znt,isBlob:Xnt,isBodyOrParametersMatching:$L,isEqual:Fse,createAxiosError:Gse,createCouldNotFindMockError:srt},gl=Hse;function irt(t){return gl.isArrayBuffer(t)||gl.isBuffer(t)||gl.isStream(t)||gl.isBlob(t)?t:gl.isObjectOrArray(t)?JSON.parse(JSON.stringify(t)):t}function cj(t,e){return{status:t[0],data:irt(t[1]),headers:t[2],config:e,request:{responseURL:e.url}}}function dW(t,e,n,r){var s=r.baseURL;if(r.baseURL&&!/^https?:/.test(r.baseURL)&&(s=void 0),typeof t.originalAdapter=="function")return t.originalAdapter(r).then(e,n);t.axiosInstanceWithoutInterceptors(Object.assign({},r,{baseURL:s,adapter:t.originalAdapter,transformRequest:[],transformResponse:[]})).then(e,n)}function art(t,e,n,r){var s=r.url||"";r.baseURL&&s.substr(0,r.baseURL.length)===r.baseURL&&(s=s.slice(r.baseURL.length)),delete r.adapter,t.history[r.method].push(r);var i=gl.findHandler(t.handlers,r.method,s,r.data,r.params,r.headers&&r.headers.constructor.name==="AxiosHeaders"?Object.assign({},r.headers):r.headers,r.baseURL);if(i)if(i.length===7&&gl.purgeIfReplyOnce(t,i),i.length===2)dW(t,e,n,r);else if(typeof i[3]!="function")gl.settle(e,n,cj(i.slice(3),r),uj(t,i));else{var o=i[3](r);typeof o.then!="function"?gl.settle(e,n,cj(o,r),uj(t,i)):o.then(function(l){l.config&&l.status?gl.settle(e,n,cj([l.status,l.data,l.headers],l.config),0):gl.settle(e,n,cj(l,r),uj(t,i))},function(l){t.delayResponse>0?setTimeout(function(){n(l)},uj(t,i)):n(l)})}else switch(t.onNoMatch){case"passthrough":dW(t,e,n,r);break;case"throwException":throw gl.createCouldNotFindMockError(r);default:gl.settle(e,n,{status:404,config:r},t.delayResponse)}}function uj(t,e){var n;return e.length===8&&(n=e[7]),n||t.delayResponse}var ort=art,lrt=ort,Yh=Hse,G4=["get","post","head","delete","patch","put","options","list","link","unlink"];function crt(){return(function(t){var e=this;return new Promise(function(n,r){lrt(e,n,r,t)})}).bind(this)}function qse(){return G4.reduce(function(t,e){return t[e]=[],t},{})}function Yse(){Kse.call(this),Jse.call(this)}function Kse(){this.handlers=qse()}function Jse(){this.history=qse()}function nm(t,e){if(Yse.call(this),t)this.axiosInstance=t,this.axiosInstanceWithoutInterceptors=t.create?t.create():void 0,this.originalAdapter=t.defaults.adapter,this.delayResponse=e&&e.delayResponse>0?e.delayResponse:null,this.onNoMatch=e&&e.onNoMatch||null,t.defaults.adapter=this.adapter.call(this);else throw new Error("Please provide an instance of axios to mock")}nm.prototype.adapter=crt;nm.prototype.restore=function(){this.axiosInstance&&(this.axiosInstance.defaults.adapter=this.originalAdapter,this.axiosInstance=void 0)};nm.prototype.reset=Yse;nm.prototype.resetHandlers=Kse;nm.prototype.resetHistory=Jse;G4.concat("any").forEach(function(t){var e="on"+t.charAt(0).toUpperCase()+t.slice(1);nm.prototype[e]=function(o,r,s){var i=this,o=o===void 0?/.*/:o;function l(h,m,p){var y=[o,r,s,h,m,p];return dj(t,i.handlers,y),i}function c(h,m,p,y){var w=[o,r,s,m,p,y,!1,h];return dj(t,i.handlers,w),i}function u(h){return function(m,p,y){c(h,m,p,y)}}function d(h,m,p){var y=[o,r,s,h,m,p,!0];return dj(t,i.handlers,y),i}return{reply:l,replyOnce:d,withDelayInMs:u,passThrough:function(){var m=[o,r];return dj(t,i.handlers,m),i},abortRequest:function(){return l(function(h){var m=Yh.createAxiosError("Request aborted",h,void 0,"ECONNABORTED");return Promise.reject(m)})},abortRequestOnce:function(){return d(function(h){var m=Yh.createAxiosError("Request aborted",h,void 0,"ECONNABORTED");return Promise.reject(m)})},networkError:function(){return l(function(h){var m=Yh.createAxiosError("Network Error",h);return Promise.reject(m)})},networkErrorOnce:function(){return d(function(h){var m=Yh.createAxiosError("Network Error",h);return Promise.reject(m)})},timeout:function(){return l(function(h){var m=Yh.createAxiosError(h.timeoutErrorMessage||"timeout of "+h.timeout+"ms exceeded",h,void 0,h.transitional&&h.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED");return Promise.reject(m)})},timeoutOnce:function(){return d(function(h){var m=Yh.createAxiosError(h.timeoutErrorMessage||"timeout of "+h.timeout+"ms exceeded",h,void 0,h.transitional&&h.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED");return Promise.reject(m)})}}}});function urt(t,e,n){for(var r=-1,s=0;s<e[t].length;s+=1){var i=e[t][s],o=i.length===7,l=i[0]instanceof RegExp&&n[0]instanceof RegExp?String(i[0])===String(n[0]):i[0]===n[0],c=l&&Yh.isEqual(i[1],n[1])&&Yh.isEqual(i[2],n[2]);c&&!o&&(r=s)}return r}function dj(t,e,n){if(t==="any")G4.forEach(function(s){e[s].push(n)});else{var r=urt(t,e,n);r>-1&&n.length<7?e[t].splice(r,1,n):e[t].push(n)}}W4.exports=nm;W4.exports.default=nm;var drt=W4.exports;const hrt=Qo(drt),Qse="/post-fake-register",frt="/post-fake-login",mrt="/post-jwt-login",prt="/fake-forget-pwd",grt="/jwt-forget-pwd",yrt="/post-jwt-profile",vrt="/post-fake-profile",Zse="/products",Xse="/product",eie="/mailslists",tie="/folders",nie="/selectedmails",rie="/setfolderonmail",sie="/delete/mail",iie="/trash/mail",aie="/stared/mail",oie="/mail:id",lie="/events",cie="/add/event",uie="/update/event",die="/delete/event",hie="/categories",fie="/chats",mie="/groups",pie="/contacts",gie="/messages",yie="/add/messages",vie="/delete/message",bie="/orders",_ie="/add/order",wie="/update/order",xie="/delete/order",Eie="/cart",Sie="/customers",jie="/add/customer",Tie="/update/customer",Cie="/delete/customer",Aie="/shops",Nie="/wallet",Iie="/crypto/orders",kie="/crypto-products",Oie="/invoices",Rie="/invoice",Pie="/jobs",Die="/add/job",Lie="/update/job",Mie="/delete/job",$ie="/jobApply",Fie="add/applyjob",Vie="/projects",Uie="/project",Bie="/update/project",zie="/delete/project",Wie="/tasks",Gie="/delete/tasks",Hie="/add/tasks",qie="/update/tasks",Yie="/users",Kie="/user",Jie="/add/user",Qie="/update/user",Zie="/delete/user",Xie="/visitor-data",eae="/top-selling-data",tae="/dashboard/email-chart",nae="/wallet-balance-data",rae="/Statistics-data",sae="/earning-charts-data",iae="/comments-product",H4="/comments-product-action",aae="/comments-product-add-reply",oae="/comments-product-add-comment",IR="Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6ImFkbWluIiwiYWRtaW4iOnRydWUsImp0aSI6ImQ2MTEwYzAxLWMwYjUtNDUzNy1iNDZhLTI0NTk5Mjc2YjY1NiIsImlhdCI6MTU5MjU2MDk2MCwiZXhwIjoxNTkyNTY0NjE5fQ.QgFSQtFaK_Ktauadttq1Is7f9w0SUtKcL8xCmkAvGLw",Fs="/assets/avatar-2-BuERsa_0.jpg",Ao="/assets/avatar-3-l0xLIBQ8.jpg",uC="/assets/avatar-8-D9ToPDH5.jpg",uc="/assets/avatar-5-D6a0w9Bd.jpg",hW={id:"#SK0234",userName:" ",email:"sara@abc.com",availableBalance:" 9148.23",lastMonthDifference:"+  248.35",lastMonthDifferencePercent:"+ 1.3 %",send:" 654.42",receive:" 1054.32",withdraw:" 824.34",series:[{type:"area",name:"BTC",data:[87,57,74,99,75,38,62,47,82,56,45,47]},{type:"area",name:"ETH",data:[28,41,52,42,13,18,29,18,36,51,55,35]},{type:"line",name:"LTC",data:[45,52,38,24,33,65,45,75,54,18,28,10]}],options:{chart:{toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2,dashArray:[0,0,3]},fill:{type:"solid",opacity:[.15,.05,1]},xaxis:{categories:["","","","","","","","","","","",""]},colors:["#f1b44c","#3452e1","#50a5f1"]},walletHistory:[{id:"#SK3215",date:"03 , 1402",type:"",currency:" ",amount:"1.00952 BTC",amountinUSD:" 9067.62"},{id:"#SK3216",date:"04 , 1402",type:"",currency:"",amount:"0.00413 ETH",amountinUSD:" 2123.01"},{id:"#SK3217",date:"04 , 1402",type:"",currency:" ",amount:"1.00952 BTC",amountinUSD:" 9067.62"},{id:"#SK3218",date:"03 , 1402",type:"",currency:" ",amount:"1.00952 BTC",amountinUSD:" 9067.62"},{id:"#SK3219",date:"03 , 1402",type:"",currency:" ",amount:"1.00952 BTC",amountinUSD:" 9067.62"},{id:"#SK3220",date:"03 , 1402",type:"",currency:" ",amount:"1.00952 BTC",amountinUSD:" 9067.62"},{id:"#SK3221",date:"03 , 1402",type:"",currency:" ",amount:"1.00952 BTC",amountinUSD:" 9067.62"},{id:"#SK3222",date:"03 , 1402",type:"",currency:" ",amount:"1.00952 BTC",amountinUSD:" 9067.62"},{id:"#SK3223",date:"03 , 1402",type:"",currency:" ",amount:"1.00952 BTC",amountinUSD:" 9067.62"},{id:"#SK3224",date:"03 , 1402",type:"",currency:" ",amount:"1.00952 BTC",amountinUSD:" 9067.62"},{id:"#SK3225",date:"03 , 1402",type:"",currency:" ",amount:"1.00952 BTC",amountinUSD:" 9067.62"},{id:"#SK3226",date:"03 , 1402",type:"",currency:" ",amount:"1.00952 BTC",amountinUSD:" 9067.62"}]},fW=[{id:1,idno:"#SK3215",pdate:"03 , 1402",type:"",coin:" ",amount:"1.00952 BTC",valueInUsd:" 9067.62"},{id:2,idno:"#SK3216",pdate:"04 , 1402",type:"",coin:"",amount:"0.00413 ETH",valueInUsd:" 2123.01"},{id:3,idno:"#SK3217",pdate:"04 , 1402",type:"",coin:" ",amount:"0.00321 BTC",valueInUsd:" 1802.621"},{id:4,idno:"#SK3218",pdate:"05 , 1402",type:"",coin:" ",amount:"0.00224 LTC",valueInUsd:" 1773.01"},{id:5,idno:"#SK3219",pdate:"06 , 1402",type:"",coin:"",amount:"1.04321 ETH",valueInUsd:" 9423.73"},{id:6,idno:"#SK3220",pdate:"07 , 1402",type:"",coin:" ",amount:"0.00413 LTC",valueInUsd:" 2123.01"},{id:7,idno:"#SK3221",pdate:"07 , 1402",type:"",coin:" ",amount:"1.00952 BTC",valueInUsd:" 9067.62"},{id:8,idno:"#SK3222",pdate:"08 , 1402",type:"",coin:"",amount:"0.00413 ETH",valueInUsd:" 2123.01"},{id:9,idno:"#SK3223",pdate:"09 , 1402",type:"",coin:"Litecoin",amount:"1.00952 LTC",valueInUsd:" 9067.62"},{id:10,idno:"#SK3224",pdate:"10 , 1402",type:"",coin:"",amount:"0.00413 ETH",valueInUsd:" 2123.01"},{id:11,idno:"#SK3225",pdate:"11 , 1402",type:"",coin:" ",amount:"1.00952 BTC",valueInUsd:" 9067.62"},{id:12,idno:"#SK3226",pdate:"12 , 1402",type:"",coin:"",amount:"0.00413 ETH",valueInUsd:" 2123.01"}],mW=[{id:1,pdate:"03-03-1402",type:"",coin:" ",value:"1.00952 BTC",valueInUsd:" 9067.62",status:" "},{id:2,pdate:"04-03-1402",type:"",coin:"",value:"0.00413 ETH",valueInUsd:" 2123.01",status:" "},{id:3,pdate:"04-03-1402",type:"",coin:" ",value:"0.00321 BTC",valueInUsd:" 1802.62",status:" "},{id:4,pdate:"05-03-1402",type:"",coin:" ",value:"0.00224 LTC",valueInUsd:" 1773.01",status:" "},{id:5,pdate:"06-03-1402",type:"",coin:"",value:"1.04321 ETH",valueInUsd:" 9423.73",status:""},{id:6,pdate:"07-03-1402",type:"",coin:" ",value:"0.00413 ETH",valueInUsd:" 2123.01",status:" "},{id:7,pdate:"07-03-1402",type:"",coin:" ",value:"1.00952 BTC",valueInUsd:" 9067.62",status:" "},{id:8,pdate:"08-03-1402",type:"",coin:"",value:"0.00413 ETH",valueInUsd:" 2123.01",status:" "},{id:9,pdate:"09-03-1402",type:"",coin:" ",value:"1.00952 LTC",valueInUsd:" 9067.62",status:" "},{id:10,pdate:"10-03-1402",type:"",coin:"",value:"0.00413 ETH",valueInUsd:" 2123.01",status:" "},{id:11,pdate:"11-03-1402",type:"",coin:"",value:"1.04321 ETH",valueInUsd:" 9423.73",status:" "},{id:12,pdate:"12-03-1402",type:"",coin:" ",value:"0.00413 ETH",valueInUsd:" 2123.01",status:" "},{id:13,pdate:"03-03-1402",type:"",coin:" ",value:"1.00952 BTC",valueInUsd:" 9067.62",status:" "},{id:14,pdate:"4-03-1402",type:"",coin:"",value:"0.00413 ETH",valueInUsd:" 2123.01",status:" "},{id:15,pdate:"4-03-1402",type:"",coin:" ",value:"0.00321 BTC",valueInUsd:" 1802.62",status:" "},{id:16,pdate:"05-03-1402",type:"",coin:" ",value:"0.00224 LTC",valueInUsd:" 1773.01",status:" "},{id:17,pdate:"06-03-1402",type:"",coin:"",value:"1.04321 ETH",valueInUsd:" 9423.73",status:""},{id:18,pdate:"07-03-1402",type:"",coin:" ",value:"0.00413 ETH",valueInUsd:" 2123.01",status:" "},{id:19,pdate:"07-03-1402",type:"",coin:" ",value:"1.00952 BTC",valueInUsd:" 9067.62",status:" "},{id:20,pdate:"08-03-1402",type:"",coin:"",value:"0.00413 ETH",valueInUsd:" 2123.01",status:" "},{id:21,pdate:"09-03-1402",type:"",coin:" ",value:"1.00952 LTC",valueInUsd:" 9067.62",status:" "},{id:22,pdate:"10-03-1402",type:"",coin:"",value:"0.00413 ETH",valueInUsd:" 2123.01",status:" "},{id:23,pdate:"11-03-1402",type:"",coin:"",value:"1.04321 ETH",valueInUsd:" 9423.73",status:" "},{id:24,pdate:"12-03-1402",type:"",coin:" ",value:"0.00413 ETH",valueInUsd:" 2123.01",status:" "}],dc="/assets/avatar-4-BKMMMj7m.jpg",vv="/assets/avatar-7-Dw38KNwE.jpg",hj=[{id:1,founder:" ",founderAt:"Skote",invoiceID:"14251",company:"   Skote",invoicePrice:"1455",date:" 10 , 19",color:"primary",text:"primary",orderId:"12345",billingAddress:"  12657  ",shippingAddress:"         ",card:"  **** 4242",email:"hemati@email.com",orderDate:" 16, 1402",orderSummary:{items:[{id:1,item:"  Skote - Bootstrap 4",price:" 499.00"},{id:2,item:"Skote -  ",price:" 399.00"}],subTotal:" 898.00",shipping:" 13.00",total:" 911.00"}},{id:2,image:Fs,founder:" ",founderAt:"Skote",invoiceID:"14252",company:"  ",invoicePrice:"1024",date:" 11 , 19",orderId:"12345",billingAddress:"  18765 ",shippingAddress:"         ",card:"Visa ending **** 4242",email:"hhhh@email.com",orderDate:" 16, 1402",orderSummary:{items:[{id:1,item:"  Skote - Bootstrap 4",price:" 499.00"},{id:2,item:"  Veltrix Bootstrap 4",price:" 499.00"}],subTotal:" 998.00",shipping:" 13.00",total:" 1011.00"}},{id:3,image:vv,founder:" ",founderAt:"Skote",invoiceID:"14253",company:"  ",invoicePrice:"1189",date:" 12 , 19",orderId:"12345",billingAddress:"  19885 ",shippingAddress:"         ",card:"Visa ending **** 4242",email:"taha@email.com",orderDate:" 16, 1402",orderSummary:{items:[{id:1,item:"  Skote - Bootstrap 4",price:" 399.00"},{id:2,item:"  Veltrix Bootstrap 4",price:" 499.00"}],subTotal:" 898.00",shipping:" 13.00",total:" 911.00"}},{id:4,image:uC,founder:" ",founderAt:"Skote",invoiceID:"14254",company:"  -  ",invoicePrice:"1245",date:" 12 , 19",orderId:"12345",billingAddress:"  45689 ",shippingAddress:"         ",card:"  **** 4242",email:"negin@email.com",orderDate:" 16, 1402",orderSummary:{items:[{id:1,item:"  Skote - Bootstrap 4",price:" 499.00"},{id:2,item:"Skote - Bootstrap 4 Landing Template",price:" 399.00"},{id:3,item:"  Veltrix Bootstrap 4",price:" 499.00"}],subTotal:" 1397.00",shipping:" 13.00",total:" 1410.00"}},{id:5,image:uc,founder:" ",founderAt:"Skote",invoiceID:"14255",company:"  ",invoicePrice:"1024",date:" 11 , 19",orderId:"12345",billingAddress:"  448548 ",shippingAddress:"         ",card:"  **** 4242",email:"ana@email.com",orderDate:" 16, 1402",orderSummary:{items:[{id:1,item:"  Skote - Bootstrap 4",price:" 499.00"},{id:2,item:"  Veltrix Bootstrap 4",price:" 499.00"}],subTotal:" 998.00",shipping:" 13.00",total:" 1010.00"}},{id:6,founder:" ",founderAt:"Skote",invoiceID:"14256",company:"  ",invoicePrice:"1189",date:" 13 , 19",color:"info",text:"primary",orderId:"12345",billingAddress:"  46345 ",shippingAddress:"         ",card:"  **** 4242",email:"arman@email.com",orderDate:" 16, 1402",orderSummary:{items:[{id:1,item:"  Skote - Bootstrap 4",price:"$499.00"},{id:2,item:"  Veltrix Bootstrap 4",price:" 399.00"}],subTotal:" 898.00",shipping:" 13.00",total:" 911.00"}},{id:7,image:Xu,founder:" ",founderAt:"Skote",invoiceID:"14257",company:"   ",invoicePrice:"1148",date:" 14 , 19",orderId:"12345",billingAddress:"  54849 ",shippingAddress:"         ",card:"  **** 4242",email:"sara@email.com",orderDate:" 16, 1402",orderSummary:{items:[{id:1,item:"  Skote - Bootstrap 4",price:"$399.00"},{id:2,item:"  Veltrix Bootstrap 4",price:" 499.00"}],subTotal:" 898.00",shipping:" 13.00",total:" 911.00"}},{id:8,founder:" ",founderAt:"Skote",invoiceID:"14258",company:"  - ",invoicePrice:"1259",date:" 15 , 19",color:"success",text:"success",orderId:"12345",billingAddress:"  5438975 ",shippingAddress:"         ",card:"  **** 4242",email:"ali@email.com",orderDate:" 16, 1402",orderSummary:{items:[{id:1,item:"  Skote - Bootstrap 4",price:" 499.00"}],subTotal:" 499.00",shipping:" 13.00",total:" 512.00"}},{id:9,image:dc,founder:" ",founderAt:"Skote",invoiceID:"14259",company:"   ",invoicePrice:"1355",date:" 15 , 19",orderId:"12345",billingAddress:"  454894 ",shippingAddress:"         ",card:"  **** 4242",email:"samane@email.com",orderDate:" 16, 1402",orderSummary:{items:[{id:3,item:"Veltrix - Bootstrap 4 Admin Template",price:"499.00"}],subTotal:" 499.00",shipping:" 13.00",total:" 512.00"}}],dC="/assets/avatar-6-CyMLtFAW.jpg",lae="/assets/img-1-Bj6XGib_.png",sw="/assets/img-2-D4HwKVFr.png",FL="/assets/img-3-DjS5c7EI.png",pW="/assets/img-4-CqxwJAhp.png",brt="/assets/img-5-CSLn8iyX.png",_rt="/assets/img-6-CI3kTg48.png",fj=[{id:1,img:sw,name:"  ",description:"      ",status:"  ",color:"warning",dueDate:"22 , 19",commentsCount:183,team:[{id:1,img:uC,fullname:" "},{id:2,img:Fs,fullname:" "}],startDate:"08 , 1402",projectDetails:{description:"                 .                               ",points:["      ","     .","      "]},files:[{name:"Skote Landing.Zip",size:"3.25 MB",link:"#"},{name:"Skote Admin.Zip",size:"3.15 MB",link:"#"},{name:"Skote Logo.Zip",size:"2.02 MB",link:"#"},{name:"Veltrix admin.Zip",size:"2.25 MB",link:"#"}],comments:[{id:1,username:" ",userImg:Fs,comment:"     "},{id:2,username:" ",userImg:Ao,comment:"@       ",reply:{username:" ",comment:"       "}},{id:3,username:" ",comment:"      "}]},{id:2,img:FL,name:"  ",description:"     ",status:"  ",color:"danger",dueDate:"13 , 19",commentsCount:175,team:[{id:3,img:"Null",name:"K",color:"info"},{id:4,img:Fs,fullname:" "}],startDate:"08 , 1402",projectDetails:{description:"                 .                               ",points:["      ","     ","      "]},files:[{name:"Skote Landing.Zip",size:"3.25 MB",link:"#"},{name:"Skote Admin.Zip",size:"3.15 MB",link:"#"},{name:"Skote Logo.Zip",size:"2.02 MB",link:"#"},{name:"Veltrix admin.Zip",size:"2.25 MB",link:"#"}],comments:[{id:1,username:" ",userImg:Fs,comment:"     ."},{id:2,username:" ",userImg:Ao,comment:"        ",reply:{username:" ",comment:"    "}},{id:3,username:" ",comment:"      ."}]},{id:3,img:pW,name:"  -  ",description:"      ",status:" ",color:"success",dueDate:"14 , 19",commentsCount:202,team:[{id:5,img:Xu,fullname:" "},{id:6,img:dC,fullname:" "},{id:7,img:vv,fullname:" "}],startDate:"08 , 1402",projectDetails:{description:"                 .                               ",points:["      ","     .","      "]},files:[{name:"Skote Landing.Zip",size:"3.25 MB",link:"#"},{name:"Skote Admin.Zip",size:"3.15 MB",link:"#"},{name:"Skote Logo.Zip",size:"2.02 MB",link:"#"},{name:"Veltrix admin.Zip",size:"2.25 MB",link:"#"}],comments:[{id:1,username:"David Lambert",userImg:Fs,comment:"     ."},{id:2,username:" ",userImg:Ao,comment:"@       ",reply:{username:" ",comment:"      "}},{id:3,username:" ",comment:"      ."}]},{id:4,img:brt,name:" UI",description:"     ",status:" ",color:"success",dueDate:"13 , 19",commentsCount:194,team:[{id:8,img:Xu,fullname:" "},{id:9,img:Ao,fullname:" "},{id:10,img:"Null",name:"3+",color:"danger"}],startDate:"08 , 1402",projectDetails:{description:"                 .                               ",points:["      ","     .","      "]},files:[{name:"Skote Landing.Zip",size:"3.25 MB",link:"#"},{name:"Skote Admin.Zip",size:"3.15 MB",link:"#"},{name:"Skote Logo.Zip",size:"2.02 MB",link:"#"},{name:"Veltrix admin.Zip",size:"2.25 MB",link:"#"}],comments:[{id:1,username:" ",userImg:Fs,comment:"     ."},{id:2,username:" ",userImg:Ao,comment:"      ",reply:{username:" ",comment:"      "}},{id:3,username:" ",comment:"      ."}]},{id:5,img:_rt,name:"   ",description:"     ",status:"  ",color:"warning",dueDate:"24 , 19",commentsCount:122,team:[{id:11,img:dc,fullname:" "},{id:12,img:uc,fullname:" "}],startDate:"08 , 1402",projectDetails:{description:"                 .                               ",points:["      ","     .","      "]},files:[{name:"Skote Landing.Zip",size:"3.25 MB",link:"#"},{name:"Skote Admin.Zip",size:"3.15 MB",link:"#"},{name:"Skote Logo.Zip",size:"2.02 MB",link:"#"},{name:"Veltrix admin.Zip",size:"2.25 MB",link:"#"}],comments:[{id:1,username:" ",userImg:Fs,comment:"     ."},{id:2,username:" ",userImg:Ao,comment:"        ",reply:{username:" ",comment:"    "}},{id:3,username:"Steven Carlson",comment:"      ."}]},{id:6,img:FL,name:"  ",description:"  Occidental  ",status:"  ",color:"danger",dueDate:"15 , 19",commentsCount:214,team:[{id:13,img:uc,fullname:" "},{id:14,img:"Null",name:"R",color:"warning",fullname:" "}]},{id:7,img:pW,name:"   ",description:"      ",status:" ",color:"success",dueDate:"11 , 19",commentsCount:185,team:[{id:15,img:"Null",name:"L",color:"pink",fullname:"Lony Mackay"},{id:16,img:Fs,fullname:" "}],startDate:"08 , 1402",projectDetails:{description:"                 .                               ",points:["      ","     .","      "]},files:[{name:"Skote Landing.Zip",size:"3.25 MB",link:"#"},{name:"Skote Admin.Zip",size:"3.15 MB",link:"#"},{name:"Skote Logo.Zip",size:"2.02 MB",link:"#"},{name:"Veltrix admin.Zip",size:"2.25 MB",link:"#"}],comments:[{id:1,username:"David Lambert",userImg:Fs,comment:"     ."},{id:2,username:"Steve Foster",userImg:Ao,comment:"        d",reply:{username:"Jeffrey Walker",comment:"    "}},{id:3,username:"Steven Carlson",comment:"      ."}]},{id:8,img:sw,name:"  ",description:"Their most common words.",status:" ",color:"success",dueDate:"12 , 19",commentsCount:106,team:[{id:17,img:dc,fullname:" "},{id:18,img:uc,fullname:" "},{id:19,img:"Null",name:"A",color:"success",fullname:"Aeffrey Walker"},{id:20,img:Fs,fullname:" "}],startDate:"08 , 1402",projectDetails:{description:"                 .                               ",points:["      ","     ","      "]},files:[{name:"Skote Landing.Zip",size:"3.25 MB",link:"#"},{name:"Skote Admin.Zip",size:"3.15 MB",link:"#"},{name:"Skote Logo.Zip",size:"2.02 MB",link:"#"},{name:"Veltrix admin.Zip",size:"2.25 MB",link:"#"}],comments:[{id:1,username:" ",userImg:Fs,comment:"     ."},{id:2,username:" ",userImg:Ao,comment:"        ",reply:{username:" ",comment:"    "}},{id:3,username:" ",comment:"      ."}]},{id:9,img:lae,name:"  ",description:"  Occidental  ",status:" ",color:"success",dueDate:"15 , 19",commentsCount:214,team:[{id:21,img:dc,fullname:"Janice Cole",skills:[{id:1,name:" "},{id:2,name:""}]},{id:22,img:uc,fullname:" ",skills:[{id:1,name:"UI/UX"}]},{id:23,img:"Null",name:"A",color:"success",fullname:" ",skills:[{id:1,name:" "}]},{id:24,img:Fs,fullname:" ",skills:[{id:1,name:" "},{id:2,name:"UI"}]}],startDate:"08 , 1402",projectDetails:{description:"                 .                               ",points:["      ","     .","      "]},files:[{name:"Skote Landing.Zip",size:"3.25 MB",link:"#"},{name:"Skote Admin.Zip",size:"3.15 MB",link:"#"},{name:"Skote Logo.Zip",size:"2.02 MB",link:"#"},{name:"Veltrix admin.Zip",size:"2.25 MB",link:"#"}],comments:[{id:1,username:" ",userImg:Fs,comment:"     ."},{id:2,username:" ",userImg:Ao,comment:"        ",reply:{username:" ",comment:"    "}},{id:3,username:" ",comment:"      ."}]},{id:10,img:sw,name:" ",description:"  Occidental  ",status:" ",color:"success",dueDate:"15 , 19",commentsCount:214,team:[{id:25,img:"Null",name:"L",color:"pink",fullname:"Lony Mackay"},{id:26,img:Fs,fullname:" "}],startDate:"08 , 1402",projectDetails:{description:"                 .                               ",points:["      ","     .","      "]},files:[{name:"Skote Landing.Zip",size:"3.25 MB",link:"#"},{name:"Skote Admin.Zip",size:"3.15 MB",link:"#"},{name:"Skote Logo.Zip",size:"2.02 MB",link:"#"},{name:"Veltrix admin.Zip",size:"2.25 MB",link:"#"}],comments:[{id:1,username:" ",userImg:Fs,comment:"     ."},{id:2,username:" ",userImg:Ao,comment:"        ",reply:{username:" ",comment:"    "}},{id:3,username:" ",comment:"      ."}]},{id:11,img:sw,name:"  ",description:"  Occidental  ",status:" ",color:"success",dueDate:"15 , 19",commentsCount:214,team:[{id:27,img:dc,fullname:"  ",skills:[{id:1,name:"Frontend"},{id:2,name:"UI"}]},{id:28,img:"Null",name:"A",color:"success",fullname:" ",skills:[{id:1,name:" "}]},{id:29,img:uc,fullname:" ",skills:[{id:1,name:"UI/UX"}]}],startDate:"08 , 1402",projectDetails:{description:"                 .                               ",points:["      ","     .","      "]},files:[{name:"Skote Landing.Zip",size:"3.25 MB",link:"#"},{name:"Skote Admin.Zip",size:"3.15 MB",link:"#"},{name:"Skote Logo.Zip",size:"2.02 MB",link:"#"},{name:"Veltrix admin.Zip",size:"2.25 MB",link:"#"}],comments:[{id:1,username:" ",userImg:Fs,comment:"     ."},{id:2,username:" ",userImg:Ao,comment:"        ",reply:{username:" ",comment:"    "}},{id:3,username:" ",comment:"      ."}]}],wrt="/assets/img-4-BKhXHz3A.jpg",xrt="/assets/img-5-CryunUaP.jpg",Ert="/assets/img-6-BG6V9DmB.jpg",gW=[{id:"1",name:"",cards:[{id:"1",title:"  Topnav",date:"14 , 1402",badgeText:" ",badgeColor:"secondary",budget:"145",kanbanImgtextColor:"bg-info",kanbanImgtext:[{id:1,imageText:"3+"}],userImages:[{id:4,img:dc},{id:5,img:uc},{id:2,img:Fs}],taskdesc:"   "},{id:"2",title:"     ",date:"15 , 2021",badgeText:" ",badgeColor:"primary",taskdesc:"    ",taskdesc1:"    ",budget:"112",imageTextColor:"bg-success",userImages:[{id:1,img:Xu},{id:2,img:Fs},{id:0,imageText:"A"},{id:5,img:uc}],taskdesc:"  "},{id:"3",title:" Skote ",date:"15 , 1402",badgeText:" ",badgeColor:"secondary",budget:"86",imageTextColor:"bg-warning",kanbanImgtextColor:"bg-danger",kanbanImgtext:[{id:1,imageText:"9+"}],userImages:[{id:4,img:dc},{id:0,imageText:"R"},{id:5,img:uc}],taskdesc:"solved issue"}]},{id:"4",name:"   ",cards:[{id:"5",title:"  ",date:"12 , 1402",badgeText:"",badgeColor:"success",budget:"132",userImages:[{id:7,img:vv},{id:8,img:uC}],brandLogo:[{id:1,img:lae},{id:2,img:sw},{id:3,img:FL}],taskdesc:" "},{id:"6",title:"      ",date:"13 , 1402",badgeText:" ",badgeColor:"warning",budget:"103",imageTextColor:"bg-success",kanbanImgtextColor:"bg-info",kanbanImgtext:[{id:1,imageText:"3+"}],userImages:[{id:0,imageText:"A"},{id:6,img:dC},{id:4,img:dc},{id:7,img:vv}],taskdesc:"Create a Blog "},{id:"7",title:"      ",date:"13 , 1402",badgeText:" ",badgeColor:"warning",budget:"103",imageTextColor:"bg-success",kanbanImgtextColor:"bg-primary",kanbanImgtext:[{id:1,imageText:"7+"}],userImages:[{id:0,imageText:"A"},{id:4,img:dc},{id:5,img:uc}],taskdesc:"    "}]},{id:"8",name:" ",cards:[{id:"9",title:"  - ",date:"10 , 1402",badgeText:"",badgeColor:"success",imageTextColor:"",budget:"145",imageTextColor:"bg-danger",userImages:[{id:1,img:Xu},{id:2,img:Fs},{id:0,imageText:"K"},{id:3,img:Ao}],taskdesc:"  - "},{id:"10",title:"  ",date:"09 , 1402",badgeText:"",badgeColor:"success",budget:"92",kanbanImgtextColor:"bg-pink",kanbanImgtext:[{id:1,imageText:"5+"}],userImages:[{id:4,img:dc},{id:5,img:uc},{id:6,img:dC}],brandLogo:[{id:1,imges:wrt},{id:2,imges:xrt},{id:3,imges:Ert}],taskdesc:"     "},{id:"11",title:"Skote ",date:"15 , 1402",badgeText:" ",badgeColor:"secondary",budget:"86",imageTextColor:"bg-danger",kanbanImgtextColor:"bg-info",kanbanImgtext:[{id:1,imageText:"2+"}],userImages:[{id:7,img:vv},{id:8,img:uC},{id:0,imageText:"D"}],taskdesc:"  Skote "}]}],Fh={allmail:[{id:1,name:",  (3)",description:"<a class='subject' href='#'>  <span class='teaser'>                 . :)</span></a>",read:!0,starred:!0,date:" 6",category:" "},{id:2,name:",  (7)",description:"<a href='#' class='subject'> <span class='bg-warning badge me-2'>  </span>                     <span class='teaser'>               </span></a>",read:!0,starred:!1,date:" 6",category:" "},{id:3,name:"  ",description:"<a href='#' class='subject'>   <span class='teaser'>          </span></a>",read:!0,starred:!1,date:" 7",category:""},{id:4,name:",  (2)",description:"<a href='#' class='subject'> <span class='bg-info badge me-2'>  </span>    - <span class='teaser'>                   </span></a>",read:!0,starred:!1,date:" 4",category:""},{id:5,name:"",description:"<a href='#' class='subject'> <span class='bg-primary badge me-2'>  </span>       <span class='teaser'>              </span></a>",read:!0,starred:!0,date:" 28",category:" "},{id:6,name:" ",description:"<a href='#' class='subject'>  <span class='teaser'>          </span></a>",read:!0,starred:!1,date:" 28",category:2},{id:7,name:",  (5)",description:"<a href='#' class='subject'> <span class='bg-success badge me-2'>  </span>              </span></a>",read:!1,starred:!1,date:"5:01 .",category:""},{id:8,name:" ",description:"<a href='#' class='subject'>     <span class='teaser'>             </span></a>",read:!0,starred:!1,date:" 8",category:""},{id:9,name:" HR",description:"<a href='#' class='subject'>      <span class='teaser'>        </span></a>",read:!0,starred:!1,date:" 8",category:""},{id:10,name:"",description:"<a href='#' class='subject'> <span class='bg-danger badge me-2'>  </span>      <span class='teaser'>               </span></a>",read:!0,starred:!1,date:" 27",category:""},{id:11,name:",  (5)",description:"<a href='#' class='subject'>      <span class='teaser'>    </span></a>",read:!0,starred:!0,date:" 24",category:" "},{id:12,name:"",description:"<a href='#' class='subject'> <span class='bg-primary badge me-2'>  </span>   :     ARP - <span class='teaser'>  Alex@Work            . </span></a>",read:!0,starred:!1,date:" 24",category:""},{id:13,name:"  ",description:"<a href='#' class='subject'>      <span class='teaser'>           </span></a>",read:!0,starred:!1,date:" 23",category:" "},{id:14,name:",  (7)",description:"<a href='#' class='subject'>  <span class='teaser'>         </span></a>",read:!0,starred:!0,date:" 23",category:" "},{id:15,name:",  (5)",description:"<a href='#' class='subject'> <span class='bg-info badge me-2'>  </span>  !  <span class='teaser'>     </span></a>",read:!1,starred:!1,date:" 21",category:" "},{id:16,name:" ",description:"<a href='#' class='subject'>1      Stackexchange   <span class='teaser'>               Stack Exchange    </span></a>",read:!0,starred:!1,date:" 21",category:""},{id:17,name:"Google Drive ",description:"<a href='#' class='subject'>          Google Drive    <span class='teaser'>  !        Google Drive </span></a>",read:!0,starred:!0,date:" 20",category:" "},{id:18,name:",  (11)",description:"<a href='#' class='subject'>  /   <span class='teaser'>     </span></a>",read:!0,starred:!1,date:" 19",category:""}],folders:[{id:0,handle:"inbox",title:""},{id:1,handle:"important",title:""},{id:2,handle:"drafts",title:" "},{id:3,handle:"sent",title:" "},{id:4,handle:"trash",title:" "}]},Ad="/assets/img-1-CcFJDHYH.png",Lm="/assets/img-2-BjKJO-LC.png",kR="/assets/img-3-Cbjl7Pmz.png",n1="/assets/img-4-DvR987FO.png",mj="/assets/img-5-C3axgz3s.png",Jm="/assets/img-6-AsEaabJ6.png",Srt="/assets/img-7-yTyzhdeD.png",jrt="/assets/Pro-12b-BBlTDTpf.png",yW="/assets/Pro-17-2jaIFaQq.png",Trt="/assets/Pro-17a-CM-CrHLz.png",pj=[{id:1,image:Ad,name:"  ",link:"#",category:"",rating:5,oldPrice:500,newPrice:450,isOffer:!0,offer:0,reviews:0,subImage:[Ad,Jm,Lm],specification:[{type:" ",value:""},{type:"",value:""},{type:"",value:""},{type:"",value:""}],features:[{icon:"fa fa-caret-right",type:"",value:" "},{icon:"fa fa-caret-right",type:"",value:"   "},{icon:"fa fa-caret-right",type:"",value:"      "},{icon:"fa fa-caret-right",type:"",value:"    "}],colorOptions:[{image:Ad,color:""},{image:Lm,color:""}]},{id:2,image:Lm,name:"  ",link:"#",category:"",rating:4,oldPrice:225,newPrice:175,isOffer:!0,offer:30,reviews:0,subImage:[Lm,mj,Jm],specification:[{type:" ",value:""},{type:"",value:""},{type:"",value:""},{type:"",value:" "}],features:[{icon:"fa fa-caret-right",type:"Fit",value:" "},{icon:"fa fa-caret-right",type:"",value:"   "},{icon:"fa fa-caret-right",type:"",value:"      "},{icon:"fa fa-caret-right",type:"",value:"    "}],colorOptions:[{image:Lm,color:""},{image:mj,color:""}]},{id:3,image:kR,name:"  ",link:"#",category:"",rating:4,oldPrice:177,newPrice:152,isOffer:!0,offer:10,reviews:0,subImage:[kR,Ad,Jm],specification:[{type:" ",value:""},{type:"",value:""},{type:"",value:" "},{type:"",value:""}],features:[{icon:"fa fa-caret-right",type:"Fit",value:" "},{icon:"fa fa-caret-right",type:"",value:"   "},{icon:"fa fa-caret-right",type:"",value:"      "},{icon:"fa fa-caret-right",type:"",value:"    "}],colorOptions:[{image:kR,color:""},{image:Ad,color:""}]},{id:4,image:n1,name:" ()",link:"#",category:"",rating:3,oldPrice:150,newPrice:145,reviews:0,offer:20,subImage:[n1,Ad,jrt],specification:[{type:" ",value:""},{type:"",value:""},{type:"",value:""},{type:"",value:""}],features:[{icon:"fa fa-caret-right",type:"Fit",value:" "},{icon:"fa fa-caret-right",type:"",value:"   "},{icon:"fa fa-caret-right",type:"",value:"      "},{icon:"fa fa-caret-right",type:"",value:"    "}],colorOptions:[{image:n1,color:" "},{image:Ad,color:""}]},{id:5,image:mj,name:"   ",link:"#",category:"",rating:3,oldPrice:177,newPrice:152,isOffer:!0,offer:40,reviews:5,subImage:[mj,Lm,Ad],specification:[{type:"Size",value:""},{type:"Color",value:""}],features:[{icon:"fa fa-caret-right",type:"Fit",value:" "},{icon:"fa fa-caret-right",type:"",value:"   "},{icon:"fa fa-caret-right",type:"",value:"      "},{icon:"fa fa-caret-right",type:"",value:"    "}],colorOptions:[{image:Ad,color:""},{image:Lm,color:""}]},{id:6,image:Jm,name:"  ",link:"#",category:"",rating:2,oldPrice:200,newPrice:100,isOffer:!0,offer:30,reviews:10,subImage:[Jm,yW,Trt],specification:[{type:" ",value:""},{type:"",value:""},{type:"",value:"L"},{type:"",value:""}],features:[{icon:"fa fa-caret-right",type:"Fit",value:" "},{icon:"fa fa-caret-right",type:"",value:"   "},{icon:"fa fa-caret-right",type:"",value:"      "},{icon:"fa fa-caret-right",type:"",value:"    "}],colorOptions:[{image:Jm,color:""},{image:yW,color:" "}]}],Crt=[{id:1,img:Srt,name:"  ",link:"",rating:4,oldPrice:240,newPrice:225},{id:2,img:n1,name:"  ",link:"",rating:4,oldPrice:150,newPrice:145},{id:3,img:Jm,name:"   ",link:"",rating:4,oldPrice:138,newPrice:135}],Art=[{id:1,img:"avatar2",name:"",description:"             ",date:"5  "},{id:2,img:"avatar4",name:"",description:"    2       ",date:"07 , 1402",childComment:[{id:1,img:"avatar5",name:"",description:"        ",date:"08 , 1402"}]},{id:3,img:"Null",name:"",description:"            ",date:"05 , 1402"}],vW=[{id:"customCheck2",orderId:"#SK2540",billingName:" ",orderDate:"1402-10-08",total:" 400.000",badgeClass:"success",paymentStatus:" ",methodIcon:"fa-cc-mastercard",paymentMethod:"",coin:" ",type:""},{id:"customCheck3",orderId:"#SK2541",billingName:" ",orderDate:"1402-10-07",total:" 380.000",badgeClass:"danger",paymentStatus:" ",methodIcon:"fa-cc-visa",paymentMethod:"",coin:"",type:""},{id:"customCheck4",orderId:"#SK2542",billingName:" ",orderDate:"1401-10-06",total:" 384.000",badgeClass:"success",paymentStatus:" ",methodIcon:"fa-cc-paypal",paymentMethod:" ",coin:" ",type:""},{id:"customCheck5",orderId:"#SK2543",billingName:" ",orderDate:"1400-10-05",total:" 412.000",badgeClass:"success",paymentStatus:" ",methodIcon:"fa-cc-mastercard",paymentMethod:"",coin:" ",type:""},{id:"customCheck6",orderId:"#SK2544",billingName:" ",orderDate:"1402-10-04",total:" 404.000",badgeClass:"warning",paymentStatus:"",methodIcon:"fa-cc-visa",paymentMethod:"",coin:" ",type:""},{id:"customCheck7",orderId:"#SK2545",billingName:" ",orderDate:"1402-10-04",total:" 392.000",badgeClass:"success",paymentStatus:" ",methodIcon:"fa-cc-paypal",paymentMethod:" ",coin:"",type:""},{id:"customCheck8",orderId:"#SK2546",billingName:" ",orderDate:"1400-10-03",total:" 374.000",badgeClass:"success",paymentStatus:" ",methodIcon:"fas fa-money-bill-alt",paymentMethod:"COD",coin:" ",type:""},{id:"customCheck9",orderId:"#SK2547",billingName:" ",orderDate:"1401-10-02",total:"  350.000",badgeClass:"success",paymentStatus:" ",methodIcon:"fa-cc-paypal",paymentMethod:"",coin:" ",type:""},{id:"customCheck10",orderId:"#SK2548",billingName:" ",orderDate:"1400-10-01",total:"  345",badgeClass:"warning",paymentStatus:"",methodIcon:"fa-cc-paypal",paymentMethod:"",coin:"",type:""},{id:"customCheck11",orderId:"#SK2540",billingName:" ",orderDate:"1402-10-08",total:"  400",badgeClass:"success",paymentStatus:" ",methodIcon:"fa-cc-mastercard",paymentMethod:"",coin:"",type:""},{id:"customCheck12",orderId:"#SK2541",billingName:" ",orderDate:"1402-10-07",total:"  380",badgeClass:"danger",paymentStatus:" ",methodIcon:"fa-cc-visa",paymentMethod:"",coin:" ",type:""},{id:"customCheck13",orderId:"#SK2542",billingName:" ",orderDate:"1400-10-06",total:"  384",badgeClass:"success",paymentStatus:" ",methodIcon:"fa-cc-paypal",paymentMethod:" ",coin:" ",type:""},{id:"customCheck14",orderId:"#SK2543",billingName:" ",orderDate:"1401-10-05",total:"  412",badgeClass:"success",paymentStatus:" ",methodIcon:"fa-cc-mastercard",paymentMethod:"",coin:" ",type:""}],bW={products:[{id:1,img:"img1",name:"  ",color:" ",price:"450.000",data_attr:2,total:900},{id:2,img:"img2",name:"   ",color:" ",price:"225.000",data_attr:6,total:225},{id:3,img:"img3",name:"  ",color:"",price:"152.000",data_attr:2,total:304},{id:4,img:"img4",name:" ()",color:"",price:"145.000",data_attr:2,total:290},{id:5,img:"img5",name:"  ",color:" ",price:"138.000",data_attr:8,total:138},{id:6,img:"img6",name:"  ",color:"",price:"152.000",data_attr:2,total:304}],orderSummary:{grandTotal:" 1,857,000",discount:" 157,000",shippingCharge:" 25,000",estimatedTax:" 19.22,",total:" 1744.22"}},_W=[{id:1,username:" ",phone:"0912567987",email:"setare@teleworm.us",address:"     ",rating:"4.2",walletBalance:" 5,412",joiningDate:"1400-10-07"},{id:2,username:" ",phone:"0912567987",email:"erfamiri@armyspy.com",address:"     11",rating:"4.0",walletBalance:" 5,632",joiningDate:"1400-10-06"},{id:3,username:" ",phone:"0912567987",email:"sooba@jourrapide.com",address:"       ",rating:"4.4",walletBalance:" 7,523",joiningDate:"1402-10-06"},{id:4,username:" ",phone:"0912567987",email:"elnaz@armyspy.com",address:"     ",rating:"4.1",walletBalance:" 6,325",joiningDate:"1400-10-05"},{id:5,username:" ",phone:"0912567987",email:"nura@dayrep.com",address:"    2",rating:"3.8",walletBalance:" 4,523",joiningDate:"1401-10-04"},{id:6,username:" ",phone:"0912567987",email:"arman@teleworm.us",address:"     ",rating:"4.0",walletBalance:" 5,412",joiningDate:"1401-10-03"},{id:7,username:" ",phone:"0912567987",email:"niasalehi@teleworm.us",address:"     2",rating:"4.2",walletBalance:" 6,180",joiningDate:"1402-10-02"},{id:8,username:" ",phone:"0912567987",email:"alitehrani@armyspy.com",address:"      ",rating:"4.1",walletBalance:" 5,2870",joiningDate:"1400-10-02"},{id:9,username:" ",phone:"0912567987",email:"elahe@teleworm.us",address:"    4",rating:"4.2",walletBalance:" 5,412",joiningDate:"1400-10-07"},{id:10,username:" ",phone:"0912567987",email:"darabi@armyspy.com",address:"     12",rating:"4.0",walletBalance:" 5,632",joiningDate:"1400-10-06"},{id:11,username:" ",phone:"0912567987",email:"hossein@jourrapide.com",address:"   ",rating:"4.4",walletBalance:" 7,523",joiningDate:"1401-10-06"},{id:12,username:" ",phone:"0912567987",email:"elnaz@armyspy.com",address:"     ",rating:"4.1",walletBalance:" 6,325",joiningDate:"1401-10-05"},{id:13,username:" ",phone:"0912567987",email:"farahani@dayrep.com",address:"    11",rating:"3.8",walletBalance:" 4,523",joiningDate:"1401-10-04"}],wW=[{id:1,color:"primary",name:" ",product:112,balance:"13,575",profileLink:"#"},{id:2,color:"warning",name:" ",product:104,balance:"11,145",profileLink:"#"},{id:3,color:"danger",name:" ",product:126,balance:"12,356",profileLink:"#"},{id:4,color:"success",name:" ",product:102,balance:"11,228",profileLink:"#"},{id:5,color:"info",name:" ",product:96,balance:"9,235",profileLink:"#"},{id:6,color:"dark",name:" ",product:120,balance:"14,794",profileLink:"#"},{id:7,color:"dark",name:" ",product:104,balance:"11,145",profileLink:"#"},{id:8,color:"primary",name:" ",product:112,balance:"13,575",profileLink:"#"},{id:9,color:"success",name:" ",product:120,balance:"12,356",profileLink:"#"}],Nd=[{commentId:1,user:{name:"",profile:"avatar2"},comment:"           ",time:"5   ",hasLiked:!1},{commentId:2,user:{name:"",profile:"avatar4"},comment:"      ",time:"07 , 1402",hasLiked:!1,replies:[{commentId:2,replyId:1,user:{name:"",profile:"avatar5"},comment:"        ",time:"08 , 1402",hasLiked:!1}]},{commentId:3,user:{name:"",profile:"avatar3"},comment:"",time:"05 , 1402",hasLiked:!1}],xW=[{id:1,roomId:1,status:" ",image:Fs,name:" ",description:"!     ",time:"05 "},{id:2,roomId:2,status:"",image:Ao,name:" ",description:"  !  ",time:"12 "},{id:3,roomId:3,status:"",name:" ",description:"   !",time:"24 ",isImg:!0,profile:"K"},{id:4,roomId:4,status:" ",image:dc,name:" ",description:"   ",time:"1 "},{id:5,roomId:5,status:"",name:" ",description:"!     ",time:"3 ",isImg:!0,profile:"M"},{id:6,roomId:6,status:"",image:dC,name:" ",description:"  !  ",time:"5 "},{id:7,roomId:7,status:"",name:" ",description:"   !",time:"24 ",isImg:!0,profile:"K"}],EW=[{id:1,roomId:1,image:"G",name:"",status:" "},{id:2,roomId:2,image:"R",name:" ",status:""},{id:3,roomId:3,image:"M",name:"",status:" "},{id:4,roomId:4,image:"A",name:" A",status:""},{id:5,roomId:5,image:"B",name:" B",status:" "}],SW=[{id:1,category:"A",child:[{id:1,roomId:1,name:" ",status:""},{id:2,roomId:2,name:" ",status:" "}]},{id:2,roomId:2,category:"B",child:[{id:3,roomId:3,name:" ",status:""}]},{id:3,roomId:3,category:"C",child:[{id:4,roomId:4,name:" ",status:" "},{id:5,roomId:5,name:" ",status:""},{id:6,roomId:6,name:" ",status:" "}]},{id:4,roomId:4,category:"D",child:[{id:7,roomId:7,name:" ",status:""}]}],jW=[{id:1,roomId:1,sender:" ",message:"!",isToday:"",userMessages:[{id:1,to_id:1,msg:"  ",time:"10:00",isImages:!1},{id:2,to_id:2,msg:".     ",isImages:!1,time:"10:02"},{id:3,to_id:1,msg:"   ",isImages:!1,time:"10:06"},{id:4,to_id:2,msg:"     10 ",isImages:!1,time:"10:06"},{id:5,to_id:1,msg:" ",isImages:!1,time:"10:07"}]},{id:2,roomId:2,sender:" ",message:"!",isToday:"",userMessages:[{id:6,to_id:1,msg:".     ",time:"10:02"},{id:7,to_id:2,msg:"   ",time:"10:06"},{id:8,to_id:1,msg:"     10 ",time:"10:06"}]},{id:3,roomId:3,sender:" ",message:"!",time:"11:02",isToday:"5 ",userMessages:[{id:1,to_id:1,msg:"   ",time:"10:06"},{id:2,to_id:2,msg:"     10 ",time:"10:06"},{id:3,to_id:1,msg:" ",time:"10:07"}]},{id:4,roomId:4,sender:" ",message:"!",time:"1 ",isToday:"1 ",userMessages:[{id:1,to_id:1,msg:"  ",time:"10:00"},{id:2,to_id:2,msg:"   ",time:"10:06"}]},{id:5,roomId:5,sender:" ",message:"!",time:"11:05",isToday:"1 ",userMessages:[{id:1,to_id:1,msg:"  ",time:"10:00"},{id:2,to_id:2,msg:"     10 ",time:"10:06"},{id:3,to_id:1,msg:" ",time:"10:07"}]},{id:6,roomId:6,sender:" ",message:"!",time:"1 ",isToday:"30 ",userMessages:[{id:1,to_id:1,msg:"  ",time:"10:00"},{id:2,to_id:2,msg:".     ",time:"10:02"},{id:3,to_id:1,msg:"   ",time:"10:06"},{id:4,to_id:2,msg:"     10 ",time:"10:06"}]},{id:7,roomId:7,sender:" ",message:"",time:"1 ",isToday:"30 ",userMessages:[{id:1,to_id:1,msg:"  ",time:"10:00"},{id:2,to_id:2,msg:".     ",time:"10:02"},{id:3,to_id:1,msg:"Yeah everything is fine",time:"10:06"},{id:4,to_id:2,msg:"     10 ",time:"10:06"},{id:5,to_id:1,msg:" ",time:"10:07"}]}],TW=[{id:1,title:"[ ]",start:new Date().setDate(new Date().getDate()+1),className:"bg-success text-white"},{id:2,title:"",start:new Date,end:new Date,className:"bg-success text-white"},{id:3,title:"  ",start:new Date().setDate(new Date().getDate()+18),className:"bg-dark text-white"},{id:4,title:"   ",start:new Date().setDate(new Date().getDate()-9),className:"bg-primary text-white"},{id:5,title:" ",start:new Date().setDate(new Date().getDate()-3),className:"bg-info text-white"},{id:6,title:"",start:new Date().setDate(new Date().getDate()),className:"bg-danger text-white"},{id:7,title:" ",start:new Date().setDate(new Date().getDate()+4),className:"bg-primary text-white"},{id:8,title:" ",start:new Date().setDate(new Date().getDate()-5),end:new Date().setDate(new Date().getDate()-3),className:"bg-warning text-white"}],CW=[{id:1,title:"   ",type:"bg-success"},{id:2,title:"",type:"bg-info"},{id:3,title:"  ",type:"bg-warning"},{id:4,title:"  ",type:"bg-danger"}],AW=[{id:1,name:" ",designation:"UI/UX ",color:"primary",email:"david@skote.com",projects:"125",tags:["",""]},{id:2,img:Fs,name:" ",designation:"  Frontend",email:"ali@skote.com",projects:"132",tags:["Html","Css","Php"]},{id:3,img:Ao,name:" ",designation:"Backend   ",email:"mmss@skote.com",projects:"1112",tags:["Php","","","Html"]},{id:4,name:" ",designation:"Full Stack   ",color:"success",email:"sara@skote.com",projects:"121",tags:["","Php","UI/UX "]},{id:5,img:dc,name:" ",designation:"  Frontend",email:"mahshid@skote.com",projects:"145",tags:["Html","Css",""]},{id:6,img:uc,name:" ",designation:"UI/UX Designer",email:"samira@skote.com",projects:"136",tags:["",""]},{id:7,name:" ",designation:"Full Stack   ",color:"info",email:"sahel@skote.com",projects:"125",tags:["","Php",""]},{id:8,img:vv,name:" ",designation:"Backend   ",color:"",email:"zaniar@skote.com",projects:"136",tags:["Php","",""]}],NW={id:1,name:" ",designation:"UI/UX ",img:Xu,projectCount:125,revenue:1245,personalDetail:"                     .                               ",phone:"(123) 123 1234",email:"saratavasoli@gmail.com",location:", ",experiences:[{id:1,iconClass:"bx-server",link:"#",designation:"Back end   ",timeDuration:"1400 - 19"},{id:2,iconClass:"bx-code",link:"#",designation:"Front end   ",timeDuration:"1398 - 16"},{id:3,iconClass:"bx-edit",link:"#",designation:"UI /UX ",timeDuration:"1399 - 13"}],projects:[{id:1,name:"   Skote",startDate:"2 , 1401",deadline:"20 , 1401",budget:" 506"},{id:2,name:"  Skote",startDate:"1 , 1401",deadline:"2 , 1401",budget:" 94"},{id:3,name:"  -   ",startDate:"21 , 1401",deadline:"29 , 1401",budget:" 156"},{id:4,name:"   ",startDate:"29 , 1401",deadline:"04 , 1401",budget:" 122"},{id:5,name:" ",startDate:"05 , 1401",deadline:"16 , 1401",budget:" 164"},{id:6,name:"  -   ",startDate:"17 , 1401",deadline:"05 , 1401",budget:" 192"},{id:7,name:" ",startDate:"04 , 1401",deadline:"05 , 1401",budget:" 94"}]},IW=[{id:"Year",Year:[{name:" A",data:[44,55,41,67,22,43,36,52,24,18,36,48]},{name:" B",data:[13,23,20,8,13,27,18,22,10,16,24,22]},{name:" C",data:[11,17,15,15,21,14,11,18,17,12,20,18]}]},{id:"Month",Month:[{name:" A",type:"bar",data:[34,55,21,77,32,63,86,42,34,18,16,41]},{name:" B",type:"bar",data:[10,63,40,80,52,41,11,32,30,86,44,33]},{name:" C",type:"bar",data:[11,17,15,85,21,14,80,58,17,12,20,18]}]},{id:"Week",Week:[{name:" A",type:"bar",data:[14,52,11,57,22,33,31,22,64,14,32,68]},{name:" B",type:"bar",data:[13,23,20,8,13,27,18,22,10,16,24,22]},{name:" C",type:"bar",data:[11,17,15,15,34,55,21,18,17,12,20,18]}]}],kW=[{id:1,jobId:"#SK2540",jobTitle:"Magento  ",companyName:"  ",location:"",experience:"0-2 ",position:2,type:" ",typeBadgeColor:"success",postedDate:"02  1401",lastDate:"25  1401",status:"",statusBadgeColor:"success"},{id:2,jobId:"#SK2541",jobTitle:" ",companyName:"  pvt.ltd",location:"",experience:"1-2 ",position:3,type:" ",typeBadgeColor:"danger",postedDate:"15  1401",lastDate:"28  1401",status:"",statusBadgeColor:"info"},{id:3,jobId:"#SK2542",jobTitle:" ",companyName:" ",location:"",experience:"-",position:5,type:" ",typeBadgeColor:"success",postedDate:"02  1401",lastDate:"25  1401",status:"",statusBadgeColor:"danger"},{id:4,jobId:"#SK2543",jobTitle:"HTML  ",companyName:"  pvt.ltd",location:"",experience:"0-4 ",position:8,type:" ",typeBadgeColor:"success",postedDate:"02  1401",lastDate:"25  1401",status:"",statusBadgeColor:"success"},{id:5,jobId:"#SK2544",jobTitle:"  ",companyName:" Skote Technology Pvt.Ltd",location:"",experience:"5+ ",position:1,type:" ",typeBadgeColor:"danger",postedDate:"02  1401",lastDate:"25  1401",status:"",statusBadgeColor:"info"},{id:6,jobId:"#SK2545",jobTitle:"Magento  ",companyName:"  pvt.ltd",location:"",experience:"0-2 ",position:2,type:"",typeBadgeColor:"info",postedDate:"02  1401",lastDate:"25  1401",status:"",statusBadgeColor:"info"},{id:7,jobId:"#SK2546",jobTitle:" ",companyName:"  pvt.ltd",location:"",experience:"0-2 ",position:2,type:" ",typeBadgeColor:"success",postedDate:"02  2021",lastDate:"25  1401",status:"",statusBadgeColor:"success"},{id:8,jobId:"#SK2547",jobTitle:"Magento  ",companyName:" Adobe",location:"",experience:"0-2 ",position:2,type:" ",typeBadgeColor:"success",postedDate:"02  1401",lastDate:"25  1401",status:"",statusBadgeColor:"danger"},{id:9,jobId:"#SK2548",jobTitle:"HTML  ",companyName:"  pvt.ltd",location:"",experience:"0-2 ",position:2,type:" ",typeBadgeColor:"danger",postedDate:"02  1401",lastDate:"25  1401",status:"",statusBadgeColor:"info"},{id:10,jobId:"#SK2549",jobTitle:" ",companyName:"  pvt.ltd",location:"",experience:"0-2 ",position:2,type:"",typeBadgeColor:"warning",postedDate:"02  1401",lastDate:"25  1401",status:"",statusBadgeColor:"success"}],OW=[{id:10,no:10,jobTitle:"Magento  ",companyName:"  Pvt.Ltd",type:"",applyDate:"02  1402",status:""},{id:9,no:9,jobTitle:"Magento  ",companyName:" Adobe",type:"",applyDate:"02  1402",status:""},{id:8,no:8,jobTitle:"Magento  ",companyName:"  Pvt.Ltd",type:" ",applyDate:"02  1402",status:""},{id:7,no:7,jobTitle:"Magento  ",companyName:"  Pvt.Ltd",type:" ",applyDate:"25  1402",status:""},{id:6,no:6,jobTitle:"Magento  ",companyName:"  ",type:"",applyDate:"25  1402",status:""},{id:5,no:5,jobTitle:" ",companyName:" New Technology Pvt.Ltd",type:" ",applyDate:"25  1402",status:""},{id:4,no:4,jobTitle:"HTML  ",companyName:" Skote Technology Pvt.Ltd",type:" ",applyDate:"02  1402",status:""},{id:3,no:3,jobTitle:"Magento  ",companyName:"  Pvt.Ltd",type:" ",applyDate:"02  1402",status:""},{id:2,no:2,jobTitle:" ",companyName:"  ",type:" ",applyDate:"15  1402",status:""},{id:1,no:1,jobTitle:"Magento  ",companyName:" ",type:" ",applyDate:"02  1402",status:""}],RW=[{id:"jan",jan:[{name:" A",desc:"   ",value:37},{name:" B",desc:"  ",value:72},{name:" C",desc:"  ",value:54}]},{id:"dec",dec:[{name:" D",desc:"   ",value:18},{name:" E",desc:"    ",value:51},{name:" F",desc:"   ",value:48}]},{id:"nov",nov:[{name:" G",desc:"  ",value:27},{name:" H",desc:"    ",value:75},{name:" I",desc:"   ",value:39}]},{id:"oct",oct:[{name:" J",desc:" ",value:56},{name:" K",desc:"   ",value:41},{name:" L",desc:" ",value:20}]}],PW=[{id:"jan",jan:[31,40,36,51,49,72,69,56,68,82,68,76]},{id:"dec",dec:[42,19,32,51,49,44,14,56,68,82,68,60]},{id:"nov",nov:[31,40,30,51,49,72,69,15,35,42,18,70]},{id:"oct",oct:[31,40,49,44,14,56,69,31,40,36,51,40]}],DW=[{id:"1",series:[76,67,61],availablebalance:9575.39,income:5749.46,Expense:1698.38,Ethereum:{ETH:1.5236,Dollar:1123.64},Bitcoin:{BTC:.4412,Dollar:2968.29},Litecoin:{LTC:17.4169,Dollar:1169.47}},{id:"2",series:[76,40,60],availablebalance:6134.39,income:2698.46,Expense:845.38,Ethereum:{ETH:7.5698,Dollar:3657.19},Bitcoin:{BTC:2.8527,Dollar:7459.62},Litecoin:{LTC:43.4985,Dollar:4789.93}},{id:"3",series:[20,55,61],availablebalance:5296.39,income:4126.12,Expense:568.49,Ethereum:{ETH:5.6781,Dollar:958.52},Bitcoin:{BTC:1.5269,Dollar:5239.16},Litecoin:{LTC:49.5987,Dollar:3698.13}},{id:"4",series:[70,67,40],availablebalance:6134.39,income:2632.46,Expense:924.38,Ethereum:{ETH:4.5701,Dollar:1123.64},Bitcoin:{BTC:.4412,Dollar:4025.32},Litecoin:{LTC:35.3811,Dollar:2263.09}}],LW=[{id:1,data:{company:[30,48,28,74,39,87,54,36,50,87,84],newJobs:[20,50,42,10,24,28,60,35,47,64,78],totalJobs:[44,55,41,67,22,43,21,41,56,27,43],jobView:[30,25,36,30,45,35,64,52,59,36,39]}},{id:2,data:{company:[25,95,87,14,56,12,14,56,35,14,25],newJobs:[85,87,56,45,14,87,56,98,19,51,78,49],totalJobs:[85,75,95,48,59,68,15,35,26,45,59,57],jobView:[78,89,84,98,67,59,48,42,35,29,18,59]}},{id:3,data:{company:[30,48,28,74,39,87,54,56,35,14,30],newJobs:[52,43,69,75,49,28,56,19,51,60,49],totalJobs:[57,49,68,87,71,29,49,26,50,59,57],jobView:[78,84,95,76,68,57,48,35,29,20,59]}}],MW=[{id:1,data:{categories:["28' ","13' 05' ","13' ","13' ","13' ","13' ","13' ","13' ","13' ","13' ","13' ","13' "],CurrentData:[18,21,45,36,65,47,51,32,40,28,31,26],PreviousData:[30,11,22,18,32,23,58,45,30,36,15,34]},today:1024,thisMonth:12356,thisYear:102354},{id:2,data:{categories:["Jul","Aug","Sep","Oct","Nov","Dec"],CurrentData:[51,32,40,28,31,26],PreviousData:[58,45,30,36,15,34]},today:2022,thisMonth:39485,thisYear:102938},{id:3,data:{categories:[" '21"," '21"," '21"," '21"," '21"," '21"," '21"," '21"," '21"," '21"," '21","2022"],CurrentData:[19,27,47,56,68,41,57,22,29,58,20,18],PreviousData:[51,46,28,17,67,13,49,47,57,84,72,16]},today:1029,thisMonth:56473,thisYear:938271},{id:4,data:{categories:["","","","","","","","","","","",""],CurrentData:[18,21,45,36,65,47,50,32,45,28,30,26],PreviousData:[20,11,22,20,32,23,58,25,30,36,25,34]},today:6095,thisMonth:47893,thisYear:348098}];let sc=[{uid:1,username:"admin",role:"admin",password:"123456",email:"admin@themesbrand.com"}];const Nrt=()=>{const t=new hrt(is,{onNoMatch:"passthrough"});t.onPost(Qse).reply(e=>{const n=JSON.parse(e.data);return sc.push(n),new Promise((r,s)=>{setTimeout(()=>{r([200,n])})})}),t.onPost("/post-fake-login").reply(e=>{const n=JSON.parse(e.data),r=sc.filter(s=>s.email===n.email&&s.password===n.password);return new Promise((s,i)=>{setTimeout(()=>{r.length===1?s([200,r[0]]):i(["      .          "])})})}),t.onPost("/fake-forget-pwd").reply(e=>new Promise((n,r)=>{setTimeout(()=>{n([200,"           "])})})),t.onPost("/post-jwt-register").reply(e=>{const n=JSON.parse(e.data);return sc.push(n),new Promise((r,s)=>{setTimeout(()=>{r([200,n])})})}),t.onPost("/post-jwt-login").reply(e=>{const n=JSON.parse(e.data),r=sc.filter(s=>s.email===n.email&&s.password===n.password);return new Promise((s,i)=>{setTimeout(()=>{if(r.length===1){const o=IR,l=n.name,c={accessToken:o,username:l},u={...r[0],...c,...n.name};s([200,u])}else i([400,"      .          "])})})}),t.onPost("/post-jwt-profile").reply(e=>{const n=JSON.parse(e.data);let s=e.headers.Authorization;const i=sc.filter(o=>o.uid===n.idx);return new Promise((o,l)=>{setTimeout(()=>{if(s===IR)if(i.length===1){let c;c=sc.findIndex(u=>u.uid===n.idx),sc[c].username=n.username,localStorage.removeItem("authUser"),localStorage.setItem("authUser",JSON.stringify(sc[c])),o([200,"     "])}else l([400,"     "]);else l([400,"   !!"])})})}),t.onPost("/post-fake-profile").reply(e=>{const n=JSON.parse(e.data),r=sc.filter(s=>s.uid===n.idx);return new Promise((s,i)=>{setTimeout(()=>{if(r.length===1){let o;o=sc.findIndex(l=>l.uid===n.idx),sc[o].username=n.username,localStorage.removeItem("authUser"),localStorage.setItem("authUser",JSON.stringify(sc[o])),s([200,"     "])}else i([400,"           "])})})}),t.onPost("/jwt-forget-pwd").reply(e=>new Promise((n,r)=>{setTimeout(()=>{n([200,"           "])})})),t.onPost("/social-login").reply(e=>{const n=JSON.parse(e.data);return new Promise((r,s)=>{setTimeout(()=>{if(n&&n.token){const i=IR,o=n.name,l={accessToken:i,username:o},c={...n[0],...l,...n.name};r([200,c])}else s([400,"      .          "])})})}),t.onGet(Zse).reply(()=>new Promise((e,n)=>{setTimeout(()=>{pj?e([200,pj]):n([400,"     "])})})),t.onGet(new RegExp(`${Xse}/*`)).reply(e=>new Promise((n,r)=>{setTimeout(()=>{if(pj){const{params:s}=e,i=pj.find(o=>o.id.toString()===s.id.toString());n([200,{...i,recentProducts:Crt,comments:Art}])}else r([400,"      "])})})),t.onGet(lie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{TW?e([200,TW]):n([400,"    "])})})),t.onGet(tie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{Fh.folders?e([200,Fh.folders]):n([400,"    "])})})),t.onPost(eie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{Fh.allmail?n([200,Fh.allmail]):r([400,"       "])})})),t.onPost(nie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{if(e&&e.data){const s=JSON.parse(e.data),i=Object.keys(s).map(o=>parseInt(s[o]));n([200,i.length>1?i:s[0]])}else r([400,"        "])})})),t.onPost(rie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{if(e&&e.data){const s=JSON.parse(e.data),{selectedmails:i,folderId:o}=s;Fh.allmail=Fh.allmail.map(l=>i.includes(l.id)?{...l,folder:parseInt(o)}:l),n([200])}else r([400,"       "])})})),t.onDelete(sie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.headers?n([200,e.headers.mail]):r([400,"     "])})})),t.onDelete(iie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.headers?n([200,e.headers.mail]):r([400,"    "])})})),t.onDelete(aie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.headers?n([200,e.headers.mail]):r([400,"     "])})})),t.onGet(new RegExp(`${oie}/*`)).reply(e=>new Promise((n,r)=>{setTimeout(()=>{if(Fh.allmail){const{params:s}=e,i=Fh.allmail.find(o=>o.id.toString()===s.id.toString());n([200,i])}else r([400,"    "])})})),t.onPost(Jie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.data?n([200,e.data]):r([400,"     "])})})),t.onPut(Qie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.data?n([200,e.data]):r([400,"    "])})})),t.onDelete(Zie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.headers?n([200,e.headers.user]):r([400,"    "])})})),t.onPut(Bie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.data?n([200,e.data]):r([400,"     "])})})),t.onDelete(zie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.headers?n([200,e.headers.project]):r([400,"     "])})})),t.onPost(cie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.data?n([200,e.data]):r([400,"     "])})})),t.onPut(uie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.data?n([200,e.data]):r([400,"  "])})})),t.onDelete(die).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.headers?n([200,e.headers.event]):r([400,"  "])})})),t.onGet(hie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{CW?e([200,CW]):n([400,"      "])})})),t.onGet(fie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{xW?e([200,xW]):n([400,"      "])})})),t.onGet(mie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{EW?e([200,EW]):n([400,"      "])})})),t.onGet(pie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{SW?e([200,SW]):n([400,"      "])})})),t.onGet(new RegExp(`${gie}/*`)).reply(e=>new Promise((n,r)=>{setTimeout(()=>{if(jW){const{params:s}=e,i=jW.filter(o=>o.roomId===s.roomId);n([200,i])}else r([400,"      "])})})),t.onPost(yie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e.data?n([200,e.data]):r([400,"    "])})})),t.onDelete(vie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.headers?n([200,e.headers.data]):r([400,"    "])})})),t.onGet(bie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{vW?e([200,vW]):n([400,"    "])})})),t.onPost(_ie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.data?n([200,e.data]):r([400,"   "])})})),t.onPut(wie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.data?n([200,e.data]):r([400,"      "])})})),t.onDelete(xie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.headers?n([200,e.headers.order]):r([400,"      "])})})),t.onGet(Eie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{bW?e([200,bW]):n([400,"       "])})})),t.onGet(Sie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{_W?e([200,_W]):n([400,"      "])})})),t.onPost(jie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.data?n([200,e.data]):r([400,"    "])})})),t.onPut(Tie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.data?n([200,e.data]):r([400,"      "])})})),t.onDelete(Cie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.headers?n([200,e.headers.customer]):r([400,"     "])})})),t.onGet(Aie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{wW?e([200,wW]):n([400,"       "])})})),t.onGet(Nie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{hW?e([200,hW]):n([400,"        "])})})),t.onGet(kie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{fW?e([200,fW]):n([400,"      "])})})),t.onGet(Iie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{mW?e([200,mW]):n([400,"    "])})})),t.onGet(Oie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{hj?e([200,hj]):n([400,"     "])})})),t.onGet(new RegExp(`${Rie}/*`)).reply(e=>new Promise((n,r)=>{setTimeout(()=>{if(hj){const{params:s}=e,i=hj.find(o=>o.id.toString()===s.id.toString());n([200,i])}else r([400,"     "])})})),t.onGet(Vie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{fj?e([200,fj]):n([400,"      "])})})),t.onGet(Pie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{kW?e([200,kW]):n([400,"      "])})})),t.onPost(Die).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.data?n([200,e.data]):r([400,"      "])})})),t.onPut(Lie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.data?n([200,e.data]):r([400,"       "])})})),t.onDelete(Mie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.headers?n([200,e.headers.job]):r([400,"      "])})})),t.onGet($ie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{OW?e([200,OW]):n([400,"    "])})})),t.onDelete(Fie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.headers?n([200,e.headers.data]):r([400,"     "])})})),t.onGet(new RegExp(`${Uie}/*`)).reply(e=>new Promise((n,r)=>{setTimeout(()=>{if(fj){const{params:s}=e,i=fj.find(o=>o.id.toString()===s.id.toString());n([200,i])}else r([400,"      "])})})),t.onGet(Wie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{gW?e([200,gW]):n([400,"     "])})})),t.onPost(Hie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.data?n([200,e.data]):r([400,"  Kanban Data   "])})})),t.onPut(qie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.data?n([200,e.data]):r([400,"       "])})})),t.onDelete(Gie).reply(e=>new Promise((n,r)=>{setTimeout(()=>{e&&e.headers?n([200,e.headers.kanban]):r([400,"     "])})})),t.onGet(Yie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{AW?e([200,AW]):n([400,"     "])})})),t.onGet(Kie).reply(()=>new Promise((e,n)=>{setTimeout(()=>{NW?e([200,NW]):n([400,"      "])})})),t.onGet(new RegExp(`${tae}/*`)).reply(e=>new Promise((n,r)=>{setTimeout(()=>{const{param:s}=e;if(IW){const o=IW.filter(l=>l.id===s).map(l=>l[s]);n([200,o[0]])}else r([400,"     "])})})),t.onGet(new RegExp(`${eae}/*`)).reply(e=>new Promise((n,r)=>{setTimeout(()=>{const{params:s}=e;if(RW){const o=RW.filter(l=>l.id===s.month).map(l=>l[s.month]);n([200,o[0]])}else r([400,"       "])})})),t.onGet(new RegExp(`${sae}/*`)).reply(e=>new Promise((n,r)=>{setTimeout(()=>{const{params:s}=e;if(PW){const o=PW.filter(l=>l.id===s.month).map(l=>l[s.month]);n([200,o[0]])}else r([400,"        "])})})),t.onGet(new RegExp(`${Xie}/*`)).reply(e=>new Promise((n,r)=>{setTimeout(()=>{const{params:s}=e;if(MW){const i=MW.filter(o=>o.id===s.roomId);n([200,i])}else r([400,"        "])})})),t.onGet(new RegExp(`${rae}/*`)).reply(e=>new Promise((n,r)=>{setTimeout(()=>{const{params:s}=e;if(LW){const i=LW.filter(o=>o.id===s.roomId);n([200,i])}else r([400,"       "])})})),t.onGet(new RegExp(`${nae}/*`)).reply(e=>new Promise((n,r)=>{setTimeout(()=>{if(DW){const{params:s}=e,i=(DW||[]).filter(o=>o.id===s.roomId);n([200,i])}else r([400,"         "])})})),t.onGet(iae).reply(()=>new Promise((e,n)=>{setTimeout(()=>{Nd?e([200,Nd]):n([400,"       "])})})),t.onPost(new RegExp(`${H4}/*`)).reply(e=>new Promise((n,r)=>{const{data:s}=e,{params:i}=JSON.parse(s);setTimeout(()=>{if(Nd){var o=[...Nd];const l=(o||[]).findIndex(c=>c.commentId.toString()===i.commentId.toString());if(l>-1)if(i.replyId&&o[l].replies){const c=(o[l].replies||[]).findIndex(u=>u.replyId.toString()===i.replyId.toString());c>-1&&(o[l].replies[c].hasLiked?o[l].replies[c].hasLiked=!1:o[l].replies[c].hasLiked=!0)}else o[l].hasLiked?o[l].hasLiked=!1:o[l].hasLiked=!0;n([200,o])}else r([400,"    "])})})),t.onPost(new RegExp(`${aae}/*`)).reply(e=>new Promise((n,r)=>{const{data:s}=e,{params:i}=JSON.parse(s);setTimeout(()=>{if(Nd){const l=[...Nd],c=(l||[]).findIndex(h=>h.commentId.toString()===i.commentId.toString()),d=new Date().getMinutes();if(c>-1){var o=1;if(l[c].replies&&l[c].replies.length){const h=l[c].replies;o=h[h.length-1]+1;const m={commentId:i.commentId,replyId:o,user:{name:"Admin",profile:"avatar1"},comment:i.replyText,time:`${d} mins ago`,hasLiked:!1};l[c].replies.push({...m}),l[c].showAddComment=!1}else{l[c].replies=[];const h={commentId:i.commentId,replyId:o,user:{name:"Admin",profile:"avatar1"},comment:i.replyText,time:`${d} mins ago`,hasLiked:!1};l[c].replies.push({...h})}}n([200,l])}else r([400,"    "])})})),t.onPost(new RegExp(`${oae}/*`)).reply(e=>new Promise((n,r)=>{const{data:s}=e,{params:i}=JSON.parse(s);setTimeout(()=>{if(Nd){const o=[...Nd],c=new Date().getMinutes(),u={commentId:o.length+1,user:{name:"Admin",profile:"avatar1"},comment:i.commentText,time:`${c} mins ago`,hasLiked:!1};o.push({...u}),Nd.push({...u}),n([200,o])}else r([400,"    "])})}))};Nrt();const cae=t=>{const e=Qf();C.useEffect(()=>{const o=localStorage.getItem("authUser"),l=localStorage.getItem("user");if(o||l)try{const c=JSON.parse(o||l);console.log(" App: Restoring user session...",c),e(ov(c))}catch(c){console.error("Failed to parse user data:",c)}},[e]);const n=ig(o=>o.Layout,o=>({layoutType:o.layoutType})),{layoutType:r}=pb(n);function s(o){let l=q8;switch(o){case"horizontal":l=Gnt;break;default:l=q8;break}return l}const i=s(r);return a.jsx(oe.Fragment,{children:a.jsxs(Gbe,{children:[l7e.map((o,l)=>a.jsx(e2,{path:o.path,element:a.jsx(Hnt,{children:o.component}),exact:!0},l)),o7e.map((o,l)=>a.jsx(e2,{path:o.path,element:a.jsx(c7e,{children:a.jsx(i,{children:o.component})}),exact:!0},l))]})})};cae.propTypes={layout:P.any};const Irt=t=>({layout:t.Layout}),krt=gb(Irt,null)(cae);window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/);function Ort(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(t=>{t.unregister()}).catch(t=>{console.error(t.message)})}function la(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Rrt=typeof Symbol=="function"&&Symbol.observable||"@@observable",$W=Rrt,OR=()=>Math.random().toString(36).substring(7).split("").join("."),Prt={INIT:`@@redux/INIT${OR()}`,REPLACE:`@@redux/REPLACE${OR()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${OR()}`},hC=Prt;function Drt(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function uae(t,e,n){if(typeof t!="function")throw new Error(la(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(la(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(la(1));return n(uae)(t,e)}let r=t,s=e,i=new Map,o=i,l=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((v,x)=>{o.set(x,v)}))}function d(){if(c)throw new Error(la(3));return s}function h(v){if(typeof v!="function")throw new Error(la(4));if(c)throw new Error(la(5));let x=!0;u();const _=l++;return o.set(_,v),function(){if(x){if(c)throw new Error(la(6));x=!1,u(),o.delete(_),i=null}}}function m(v){if(!Drt(v))throw new Error(la(7));if(typeof v.type>"u")throw new Error(la(8));if(typeof v.type!="string")throw new Error(la(17));if(c)throw new Error(la(9));try{c=!0,s=r(s,v)}finally{c=!1}return(i=o).forEach(_=>{_()}),v}function p(v){if(typeof v!="function")throw new Error(la(10));r=v,m({type:hC.REPLACE})}function y(){const v=h;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(la(11));function _(){const T=x;T.next&&T.next(d())}return _(),{unsubscribe:v(_)}},[$W](){return this}}}return m({type:hC.INIT}),{dispatch:m,subscribe:h,getState:d,replaceReducer:p,[$W]:y}}function Lrt(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:hC.INIT})>"u")throw new Error(la(12));if(typeof n(void 0,{type:hC.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(la(13))})}function Mrt(t){const e=Object.keys(t),n={};for(let i=0;i<e.length;i++){const o=e[i];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let s;try{Lrt(n)}catch(i){s=i}return function(o={},l){if(s)throw s;let c=!1;const u={};for(let d=0;d<r.length;d++){const h=r[d],m=n[h],p=o[h],y=m(p,l);if(typeof y>"u")throw l&&l.type,new Error(la(14));u[h]=y,c=c||y!==p}return c=c||r.length!==Object.keys(o).length,c?u:o}}function dae(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function $rt(...t){return e=>(n,r)=>{const s=e(n,r);let i=()=>{throw new Error(la(15))};const o={getState:s.getState,dispatch:(c,...u)=>i(c,...u)},l=t.map(c=>c(o));return i=dae(...l)(s.dispatch),{...s,dispatch:i}}}var uu=function(e){return"@@redux-saga/"+e},Frt=uu("CANCEL_PROMISE"),hae=uu("CHANNEL_END"),fae=uu("IO"),FW=uu("MATCH"),mae=uu("MULTICAST"),pae=uu("SAGA_ACTION"),gae=uu("SELF_CANCELLATION"),Vrt=uu("TASK"),bv=uu("TASK_CANCEL"),yae=uu("TERMINATE"),Urt=uu("LOCATION");function fC(){return fC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fC.apply(null,arguments)}function Brt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vae=function(e){return e==null},r1=function(e){return e!=null},Jo=function(e){return typeof e=="function"},q4=function(e){return typeof e=="string"},rm=Array.isArray,hN=function(e){return e&&Jo(e.then)},Y4=function(e){return e&&Jo(e.next)&&Jo(e.throw)},VL=function(e){return e&&(q4(e)||_ae(e)||Jo(e)||rm(e)&&e.every(VL))},K4=function(e){return e&&Jo(e.take)&&Jo(e.close)},bae=function(e){return Jo(e)&&e.hasOwnProperty("toString")},_ae=function(e){return!!e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype},zrt=function(e){return K4(e)&&e[mae]},Wrt=function(e){return function(){return e}},Grt=Wrt(!0),Xa=function(){},Hrt=function(e){return e},J4=function(e,n){fC(e,n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(n).forEach(function(r){e[r]=n[r]})},qrt=function(e,n){var r;return(r=[]).concat.apply(r,n.map(e))};function fN(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}function Yrt(t){var e=!1;return function(){e||(e=!0,t())}}var Krt=function(e){throw e},Jrt=function(e){return{value:e,done:!0}};function UL(t,e,n){e===void 0&&(e=Krt),n===void 0&&(n="iterator");var r={meta:{name:n},next:t,throw:e,return:Jrt,isSagaIterator:!0};return typeof Symbol<"u"&&(r[Symbol.iterator]=function(){return r}),r}function Qrt(t,e){var n=e.sagaStack;console.error(t),console.error(n)}var wae=function(e){return Array.apply(null,new Array(e))},Zrt=function(e){return function(n){return e(Object.defineProperty(n,pae,{value:!0}))}},xae=function(e){return e===yae},Eae=function(e){return e===bv},Sae=function(e){return xae(e)||Eae(e)};function jae(t,e){var n=Object.keys(t),r=n.length,s=0,i,o=rm(t)?wae(r):{},l={};function c(){s===r&&(i=!0,e(o))}return n.forEach(function(u){var d=function(m,p){i||(p||Sae(m)?(e.cancel(),e(m,p)):(o[u]=m,s++,c()))};d.cancel=Xa,l[u]=d}),e.cancel=function(){i||(i=!0,n.forEach(function(u){return l[u].cancel()}))},l}function Q4(t){return{name:t.name||"anonymous",location:Tae(t)}}function Tae(t){return t[Urt]}function Xrt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,s){return function(){return r(s.apply(void 0,arguments))}})}var est="Channel's Buffer overflow!",tst=1,nst=3,Cae=4;function rst(t,e){t===void 0&&(t=10);var n=new Array(t),r=0,s=0,i=0,o=function(d){n[s]=d,s=(s+1)%t,r++},l=function(){if(r!=0){var d=n[i];return n[i]=null,r--,i=(i+1)%t,d}},c=function(){for(var d=[];r;)d.push(l());return d};return{isEmpty:function(){return r==0},put:function(d){if(r<t)o(d);else{var h;switch(e){case tst:throw new Error(est);case nst:n[s]=d,s=(s+1)%t,i=s;break;case Cae:h=2*t,n=c(),r=n.length,s=n.length,i=0,n.length=h,t=h,o(d);break}}},take:l,flush:c}}var sst=function(e){return rst(e,Cae)},s1="TAKE",Aae="PUT",Nae="ALL",ist="RACE",Iae="CALL",ast="CPS",kae="FORK",ost="JOIN",Oae="CANCEL",lst="SELECT",cst="ACTION_CHANNEL",ust="CANCELLED",dst="FLUSH",hst="GET_CONTEXT",fst="SET_CONTEXT",Tf=function(e,n){var r;return r={},r[fae]=!0,r.combinator=!1,r.type=e,r.payload=n,r};function Rae(t,e){if(t===void 0&&(t="*"),VL(t))return r1(e)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),Tf(s1,{pattern:t});if(zrt(t)&&r1(e)&&VL(e))return Tf(s1,{channel:t,pattern:e});if(K4(t))return r1(e)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),Tf(s1,{channel:t})}function xe(t,e){return vae(e)&&(e=t,t=void 0),Tf(Aae,{channel:t,action:e})}function ru(t){var e=Tf(Nae,t);return e.combinator=!0,e}function Pae(t,e){var n=null,r;return Jo(t)?r=t:(rm(t)?(n=t[0],r=t[1]):(n=t.context,r=t.fn),n&&q4(r)&&Jo(n[r])&&(r=n[r])),{context:n,fn:r,args:e}}function ze(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Tf(Iae,Pae(t,n))}function Un(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Tf(kae,Pae(t,n))}function mst(t){return t===void 0&&(t=gae),Tf(Oae,t)}function pst(){var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t}var Dae=[],mN=0;function gst(t){try{Z4(),t()}finally{$ae()}}function Lae(t){Dae.push(t),mN||(Z4(),Fae())}function Mae(t){try{return Z4(),t()}finally{Fae()}}function Z4(){mN++}function $ae(){mN--}function Fae(){$ae();for(var t;!mN&&(t=Dae.shift())!==void 0;)gst(t)}var yst=function(e){return function(n){return e.some(function(r){return X4(r)(n)})}},vst=function(e){return function(n){return e(n)}},VW=function(e){return function(n){return n.type===String(e)}},bst=function(e){return function(n){return n.type===e}},Vae=function(){return Grt};function X4(t){var e=t==="*"?Vae:q4(t)?VW:rm(t)?yst:bae(t)?VW:Jo(t)?vst:_ae(t)?bst:null;if(e===null)throw new Error("invalid pattern: "+t);return e(t)}var kw={type:hae},e3=function(e){return e&&e.type===hae};function _st(t){t===void 0&&(t=sst());var e=!1,n=[];function r(l){if(!e){if(n.length===0)return t.put(l);var c=n.shift();c(l)}}function s(l){e&&t.isEmpty()?l(kw):t.isEmpty()?(n.push(l),l.cancel=function(){fN(n,l)}):l(t.take())}function i(l){if(e&&t.isEmpty()){l(kw);return}l(t.flush())}function o(){if(!e){e=!0;var l=n;n=[];for(var c=0,u=l.length;c<u;c++){var d=l[c];d(kw)}}}return{take:s,put:r,flush:i,close:o}}function wst(){var t,e=!1,n=[],r=n,s=function(){r===n&&(r=n.slice())},i=function(){e=!0;var l=n=r;r=[],l.forEach(function(c){c(kw)})};return t={},t[mae]=!0,t.put=function(l){if(!e){if(e3(l)){i();return}for(var c=n=r,u=0,d=c.length;u<d;u++){var h=c[u];h[FW](l)&&(h.cancel(),h(l))}}},t.take=function(l,c){if(c===void 0&&(c=Vae),e){l(kw);return}l[FW]=c,s(),r.push(l),l.cancel=Yrt(function(){s(),fN(r,l)})},t.close=i,t}function Uae(){var t=wst(),e=t.put;return t.put=function(n){if(n[pae]){e(n);return}Lae(function(){e(n)})},t}var np=0,Dd=1,i1=2,Bae=3;function t3(t,e){var n=t[Frt];Jo(n)&&(e.cancel=n),t.then(e,function(r){e(r,!0)})}var U0=0,zae=function(){return++U0},ia;function xst(t,e){return t.isSagaIterator?{name:t.meta.name}:Q4(e)}function Est(t){var e=t.context,n=t.fn,r=t.args;try{var s=n.apply(e,r);if(Y4(s))return s;var i=!1,o=function(c){return i?{value:c,done:!0}:(i=!0,{value:s,done:!hN(s)})};return UL(o)}catch(l){return UL(function(){throw l})}}function Sst(t,e,n){var r=e.channel,s=e.action,i=e.resolve;Lae(function(){var o;try{o=(r?r.put:t.dispatch)(s)}catch(l){n(l,!0);return}i&&hN(o)?t3(o,n):n(o)})}function jst(t,e,n){var r=e.channel,s=r===void 0?t.channel:r,i=e.pattern,o=e.maybe,l=function(u){if(u instanceof Error){n(u,!0);return}if(e3(u)&&!o){n(yae);return}n(u)};try{s.take(l,r1(i)?X4(i):null)}catch(c){n(c,!0);return}n.cancel=l.cancel}function Tst(t,e,n,r){var s=e.context,i=e.fn,o=e.args,l=r.task;try{var c=i.apply(s,o);if(hN(c)){t3(c,n);return}if(Y4(c)){pN(t,c,l.context,U0,Q4(i),!1,n);return}n(c)}catch(u){n(u,!0)}}function Cst(t,e,n){var r=e.context,s=e.fn,i=e.args;try{var o=function(c,u){vae(c)?n(u):n(c,!0)};s.apply(r,i.concat(o)),o.cancel&&(n.cancel=o.cancel)}catch(l){n(l,!0)}}function Ast(t,e,n,r){var s=e.context,i=e.fn,o=e.args,l=e.detached,c=r.task,u=Est({context:s,fn:i,args:o}),d=xst(u,i);Mae(function(){var h=pN(t,u,c.context,U0,d,l,void 0);l?n(h):h.isRunning()?(c.queue.addTask(h),n(h)):h.isAborted()?c.queue.abort(h.error()):n(h)})}function Nst(t,e,n,r){var s=r.task,i=function(c,u){if(c.isRunning()){var d={task:s,cb:u};u.cancel=function(){c.isRunning()&&fN(c.joiners,d)},c.joiners.push(d)}else c.isAborted()?u(c.error(),!0):u(c.result())};if(rm(e)){if(e.length===0){n([]);return}var o=jae(e,n);e.forEach(function(l,c){i(l,o[c])})}else i(e,n)}function RR(t){t.isRunning()&&t.cancel()}function Ist(t,e,n,r){var s=r.task;e===gae?RR(s):rm(e)?e.forEach(RR):RR(e),n()}function kst(t,e,n,r){var s=r.digestEffect,i=U0,o=Object.keys(e);if(o.length===0){n(rm(e)?[]:{});return}var l=jae(e,n);o.forEach(function(c){s(e[c],i,l[c],c)})}function Ost(t,e,n,r){var s=r.digestEffect,i=U0,o=Object.keys(e),l=rm(e)?wae(o.length):{},c={},u=!1;o.forEach(function(d){var h=function(p,y){u||(y||Sae(p)?(n.cancel(),n(p,y)):(n.cancel(),u=!0,l[d]=p,n(l)))};h.cancel=Xa,c[d]=h}),n.cancel=function(){u||(u=!0,o.forEach(function(d){return c[d].cancel()}))},o.forEach(function(d){u||s(e[d],i,c[d],d)})}function Rst(t,e,n){var r=e.selector,s=e.args;try{var i=r.apply(void 0,[t.getState()].concat(s));n(i)}catch(o){n(o,!0)}}function Pst(t,e,n){var r=e.pattern,s=e.buffer,i=_st(s),o=X4(r),l=function(d){e3(d)||t.channel.take(l,o),i.put(d)},c=i.close;i.close=function(){l.cancel(),c()},t.channel.take(l,o),n(i)}function Dst(t,e,n,r){var s=r.task;n(s.isCancelled())}function Lst(t,e,n){e.flush(n)}function Mst(t,e,n,r){var s=r.task;n(s.context[e])}function $st(t,e,n,r){var s=r.task;J4(s.context,e),n()}var Fst=(ia={},ia[s1]=jst,ia[Aae]=Sst,ia[Nae]=kst,ia[ist]=Ost,ia[Iae]=Tst,ia[ast]=Cst,ia[kae]=Ast,ia[ost]=Nst,ia[Oae]=Ist,ia[lst]=Rst,ia[cst]=Pst,ia[ust]=Dst,ia[dst]=Lst,ia[hst]=Mst,ia[fst]=$st,ia);function Vst(t,e,n){var r=[],s,i=!1;c(t);var o=function(){return r};function l(d){e(),u(),n(d,!0)}function c(d){r.push(d),d.cont=function(h,m){i||(fN(r,d),d.cont=Xa,m?l(h):(d===t&&(s=h),r.length||(i=!0,n(s))))}}function u(){i||(i=!0,r.forEach(function(d){d.cont=Xa,d.cancel()}),r=[])}return{addTask:c,cancelAll:u,abort:l,getTasks:o}}function Wae(t,e){return t+"?"+e}function Ust(t){var e=Tae(t);if(e){var n=e.code,r=e.fileName,s=e.lineNumber,i=n+"  "+Wae(r,s);return i}return""}function UW(t){var e=t.name,n=t.location;return n?e+"  "+Wae(n.fileName,n.lineNumber):e}function Bst(t){var e=qrt(function(n){return n.cancelledTasks},t);return e.length?["Tasks cancelled due to error:"].concat(e).join(`
`):""}var n3=null,Ow=[],zst=function(e){e.crashedEffect=n3,Ow.push(e)},Gae=function(){n3=null,Ow.length=0},Wst=function(e){n3=e},Gst=function(){var e=Ow[0],n=Ow.slice(1),r=e.crashedEffect?Ust(e.crashedEffect):null,s="The above error occurred in task "+UW(e.meta)+(r?` 
 when executing effect `+r:"");return[s].concat(n.map(function(i){return"    created by "+UW(i.meta)}),[Bst(Ow)]).join(`
`)};function Hst(t,e,n,r,s,i,o){var l;o===void 0&&(o=Xa);var c=np,u,d,h=null,m=[],p=Object.create(n),y=Vst(e,function(){m.push.apply(m,y.getTasks().map(function(N){return N.meta.name}))},v);function w(){c===np&&(c=Dd,y.cancelAll(),v(bv,!1))}function v(T,N){if(!N)T===bv?c=Dd:c!==Dd&&(c=Bae),u=T,h&&h.resolve(T);else{if(c=i1,zst({meta:s,cancelledTasks:m}),E.isRoot){var D=Gst();Gae(),t.onError(T,{sagaStack:D})}d=T,h&&h.reject(T)}E.cont(T,N),E.joiners.forEach(function(O){O.cb(T,N)}),E.joiners=null}function x(T){J4(p,T)}function _(){return h||(h=pst(),c===i1?h.reject(d):c!==np&&h.resolve(u)),h.promise}var E=(l={},l[Vrt]=!0,l.id=r,l.meta=s,l.isRoot=i,l.context=p,l.joiners=[],l.queue=y,l.cancel=w,l.cont=o,l.end=v,l.setContext=x,l.toPromise=_,l.isRunning=function(){return c===np},l.isCancelled=function(){return c===Dd||c===np&&e.status===Dd},l.isAborted=function(){return c===i1},l.result=function(){return u},l.error=function(){return d},l);return E}function pN(t,e,n,r,s,i,o){var l=t.finalizeRunEffect(p);m.cancel=Xa;var c={meta:s,cancel:h,status:np},u=Hst(t,c,n,r,s,i,o),d={task:u,digestEffect:y};function h(){c.status===np&&(c.status=Dd,m(bv))}return o&&(o.cancel=u.cancel),m(),u;function m(w,v){try{var x;v?(x=e.throw(w),Gae()):Eae(w)?(c.status=Dd,m.cancel(),x=Jo(e.return)?e.return(bv):{done:!0,value:bv}):xae(w)?x=Jo(e.return)?e.return():{done:!0}:x=e.next(w),x.done?(c.status!==Dd&&(c.status=Bae),c.cont(x.value)):y(x.value,r,m)}catch(_){if(c.status===Dd)throw _;c.status=i1,c.cont(_,!0)}}function p(w,v,x){if(hN(w))t3(w,x);else if(Y4(w))pN(t,w,u.context,v,s,!1,x);else if(w&&w[fae]){var _=Fst[w.type];_(t,w.payload,x,d)}else x(w)}function y(w,v,x,_){_===void 0&&(_="");var E=zae();t.sagaMonitor&&t.sagaMonitor.effectTriggered({effectId:E,parentEffectId:v,label:_,effect:w});var T;function N(D,O){T||(T=!0,x.cancel=Xa,t.sagaMonitor&&(O?t.sagaMonitor.effectRejected(E,D):t.sagaMonitor.effectResolved(E,D)),O&&Wst(w),x(D,O))}N.cancel=Xa,x.cancel=function(){T||(T=!0,N.cancel(),N.cancel=Xa,t.sagaMonitor&&t.sagaMonitor.effectCancelled(E))},l(w,E,N)}}function qst(t,e){for(var n=t.channel,r=n===void 0?Uae():n,s=t.dispatch,i=t.getState,o=t.context,l=o===void 0?{}:o,c=t.sagaMonitor,u=t.effectMiddlewares,d=t.onError,h=d===void 0?Qrt:d,m=arguments.length,p=new Array(m>2?m-2:0),y=2;y<m;y++)p[y-2]=arguments[y];var w=e.apply(void 0,p),v=zae();c&&(c.rootSagaStarted=c.rootSagaStarted||Xa,c.effectTriggered=c.effectTriggered||Xa,c.effectResolved=c.effectResolved||Xa,c.effectRejected=c.effectRejected||Xa,c.effectCancelled=c.effectCancelled||Xa,c.actionDispatched=c.actionDispatched||Xa,c.rootSagaStarted({effectId:v,saga:e,args:p}));var x;if(u){var _=Xrt.apply(void 0,u);x=function(N){return function(D,O,F){var V=function(U){return N(U,O,F)};return _(V)(D)}}}else x=Hrt;var E={channel:r,dispatch:Zrt(s),getState:i,sagaMonitor:c,onError:h,finalizeRunEffect:x};return Mae(function(){var T=pN(E,w,l,v,Q4(e),!0,void 0);return c&&c.effectResolved(v,T),T})}var Yst=["context","channel","sagaMonitor"];function Kst(t){var e={},n=e.context,r=n===void 0?{}:n,s=e.channel,i=s===void 0?Uae():s,o=e.sagaMonitor,l=Brt(e,Yst),c;function u(d){var h=d.getState,m=d.dispatch;return c=qst.bind(null,fC({},l,{context:r,channel:i,dispatch:m,getState:h,sagaMonitor:o})),function(p){return function(y){o&&o.actionDispatched&&o.actionDispatched(y);var w=p(y);return i.put(y),w}}}return u.run=function(){return c.apply(void 0,arguments)},u.setContext=function(d){J4(r,d)},u}const Jst={layoutType:nw.VERTICAL,layoutModeType:rw.LIGHT,layoutWidth:qm.FLUID,leftSideBarTheme:aa.DARK,leftSideBarThemeImage:Vc.NONE,leftSideBarType:Km.DEFAULT,topbarTheme:Ym.LIGHT,isPreloader:!1,showRightSidebar:!1,isMobile:!1,showSidebar:!0,leftMenu:!1},Qst=(t=Jst,e)=>{switch(e.type){case M$:return{...t,layoutType:e.payload};case AY:return{...t,isPreloader:e.payload};case W$:return{...t,layoutModeType:e.payload};case $$:return{...t,layoutWidth:e.payload};case F$:return{...t,leftSideBarTheme:e.payload};case V$:return{...t,leftSideBarThemeImage:e.payload};case U$:return{...t,leftSideBarType:e.payload.sidebarType};case B$:return{...t,topbarTheme:e.payload};case z$:return{...t,showRightSidebar:e.payload};case gwe:return{...t,showSidebar:e.payload};case CY:return{...t,leftMenu:e.payload};default:return t}},Zst={user:JSON.parse(localStorage.getItem("authUser"))||null,token:localStorage.getItem("token")||null,loading:!1,error:""},Xst=(t=Zst,e)=>{switch(e.type){case PY:return{...t,loading:!0,error:""};case DY:return{...t,loading:!1,user:e.payload,token:localStorage.getItem("token")};case K$:return{...t};case LY:return localStorage.removeItem("token"),localStorage.removeItem("authUser"),{...t,user:null,token:null,loading:!1};case MY:return{...t,loading:!1,error:e.payload};default:return t}},eit={registrationError:null,message:null,loading:!1,user:null},tit=(t=eit,e)=>{switch(e.type){case Y$:t={...t,loading:!0,registrationError:null};break;case OY:t={...t,loading:!1,user:e.payload,registrationError:null};break;case RY:t={...t,user:null,loading:!1,registrationError:e.payload};break;default:t={...t};break}return t},nit={forgetSuccessMsg:null,forgetError:null},rit=(t=nit,e)=>{switch(e.type){case $Y:t={...t,forgetSuccessMsg:null,forgetError:null};break;case FY:t={...t,forgetSuccessMsg:e.payload};break;case VY:t={...t,forgetError:e.payload};break;default:t={...t};break}return t},sit={error:"",success:""},iit=(t=sit,e)=>{switch(e.type){case J$:t={...t};break;case UY:t={...t,success:e.payload};break;case BY:t={...t,error:e.payload};break;case zY:t={...t,success:null};break;default:t={...t};break}return t},ait={products:[],product:{},orders:[],cartData:{},customers:[],shops:[],error:{},productComments:[],loading:!0},oit=(t=ait,e)=>{switch(e.type){case WY:return{...t,products:e.payload,loading:!0};case GY:return{...t,error:e.payload};case HY:return{...t,product:e.payload};case qY:return{...t,error:e.payload};case eK:return{...t,orders:e.payload,loading:!0};case tK:return{...t,error:e.payload};case nK:return{...t,orders:[e.payload,...t.orders]};case rK:return{...t,error:e.payload};case sK:return{...t,orders:t.orders.map(n=>n.id.toString()===e.payload.id.toString()?{order:n,...e.payload}:n)};case iK:return{...t,error:e.payload};case aK:return{...t,orders:t.orders.filter(n=>n.id.toString()!==e.payload.toString())};case oK:return{...t,error:e.payload};case lK:return{...t,cartData:e.payload};case cK:return{...t,error:e.payload};case uK:return{...t,customers:e.payload,loading:!0};case dK:return{...t,error:e.payload};case hK:return{...t,customers:[e.payload,...t.customers]};case fK:return{...t,error:e.payload};case mK:return{...t,customers:t.customers.map(n=>n.id.toString()===e.payload.id.toString()?{customer:n,...e.payload}:n)};case pK:return{...t,error:e.payload};case gK:return{...t,customers:t.customers.filter(n=>n.id.toString()!==e.payload.toString())};case yK:return{...t,error:e.payload};case vK:return{...t,shops:e.payload,loading:!0};case bK:return{...t,error:e.payload};case YY:case JY:case QY:case ZY:case XY:return{...t,productComments:e.payload};case KY:return{...t,error:e.payload};default:return t}},lit={events:[],categories:[],error:{}},cit=(t=lit,e)=>{switch(e.type){case _K:return{...t,events:e.payload};case wK:return{...t,error:e.payload};case xK:return{...t,events:[...t.events,e.payload]};case EK:return{...t,error:e.payload};case SK:return{...t,events:t.events.map(n=>n.id.toString()===e.payload.id.toString()?{event:n,...e.payload}:n)};case jK:return{...t,error:e.payload};case TK:return{...t,events:t.events.filter(n=>n.id.toString()!==e.payload.toString())};case CK:return{...t,error:e.payload};case AK:return{...t,categories:e.payload};case NK:return{...t,error:e.payload};default:return t}},uit={chats:[],groups:[],contacts:[],messages:[],error:{},loading:!0},dit=(t=uit,e)=>{switch(e.type){case IK:return{...t,chats:e.payload,loading:!0};case kK:return{...t,error:e.payload};case OK:return{...t,groups:e.payload};case RK:return{...t,error:e.payload};case PK:return{...t,contacts:e.payload};case DK:return{...t,error:e.payload};case LK:return{...t,messages:e.payload,loading:!0};case MK:return{...t,error:e.payload};case $K:return{...t,messages:t.messages.map(n=>({...n,userMessages:[...n.userMessages,e.payload]}))};case FK:return{...t,error:e.payload};case VK:return{...t,messages:t.messages.map(n=>({...n,userMessages:n.userMessages.filter(r=>r.id!==e.payload)}))};case UK:return{...t,error:e.payload};default:return t}},hit={wallet:{},orders:[],products:[],loading:!0},fit=(t=hit,e)=>{switch(e.type){case BK:return{...t,wallet:e.payload,loading:!0};case zK:return{...t,error:e.payload};case WK:return{...t,orders:e.payload};case GK:return{...t,error:e.payload};case HK:return{...t,products:e.payload};case qK:return{...t,error:e.payload};default:return t}},mit={invoices:[],invoiceDetail:{},error:{},loading:!0},pit=(t=mit,e)=>{switch(e.type){case YK:return{...t,invoices:e.payload,loading:!0};case KK:return{...t,error:e.payload};case JK:return{...t,invoiceDetail:e.payload};case QK:return{...t,error:e.payload};default:return t}},git={jobs:[],error:{},loading:!0},yit=(t=git,e)=>{switch(e.type){case XK:return{...t,jobs:e.payload,loading:!0};case ZK:return{...t,error:e.payload};case eJ:return{...t,jobs:[e.payload,...t.jobs]};case tJ:return{...t,error:e.payload};case nJ:return{...t,jobs:t.jobs.map(n=>n.id.toString()===e.payload.id.toString()?{job:n,...e.payload}:n)};case rJ:return{...t,error:e.payload};case sJ:return{...t,jobs:t.jobs.filter(n=>n.id.toString()!==e.payload.toString())};case iJ:return{...t,error:e.payload};case aJ:return{...t,jobApply:e.payload,loading:!0};case oJ:return{...t,error:e.payload};case lJ:return{...t,jobApply:t.jobApply.filter(n=>n.id.toString()!==e.payload.toString())};case cJ:return{...t,error:e.payload};default:return t}},vit={projects:[],projectDetail:{},error:{},loading:!0},bit=(t=vit,e)=>{switch(e.type){case uJ:return{...t,projects:e.payload,loading:!0};case dJ:return{...t,error:e.payload};case hJ:return{...t,projectDetail:e.payload};case mJ:return{...t,projects:t.projects.map(n=>n.id.toString()===e.payload.id.toString()?{project:n,...e.payload}:n)};case pJ:return{...t,error:e.payload};case gJ:return{...t,projects:t.projects.filter(n=>n.id.toString()!==e.payload.toString())};case yJ:return{...t,error:e.payload};case fJ:return{...t,error:e.payload};default:return t}},_it={tasks:[],error:{},loading:!0},wit=(t=_it,e)=>{switch(e.type){case vJ:return{...t,tasks:e.payload,loading:!0};case bJ:return{...t,error:e.payload};case EJ:return{...t,tasks:t.tasks.map(n=>n.id===e.payload.kanId?{...n,cards:[...n.cards,e.payload]}:n)};case SJ:return{...t,error:e.payload};case jJ:return{...t,tasks:t.tasks.map(n=>n.id===e.payload.kanId?{...n,cards:n.cards.map(r=>r.id.toString()===e.payload.id.toString()?{card:r,...e.payload}:r)}:n)};case TJ:return{...t,error:e.payload};case _J:return{...t,tasks:t.tasks.map(n=>{const r=n.cards.filter(s=>s.id!==e.payload);return{...n,cards:r}})};case wJ:return{...t,tasks:t.tasks.filter(n=>n.id.toString()!==e.payload.toString())};case xJ:return{...t,error:e.payload};default:return t}},xit={users:[],userProfile:{},error:{},loading:!0},Eit=(t=xit,e)=>{switch(e.type){case CJ:return{...t,users:e.payload,loading:!0};case AJ:return{...t,error:e.payload};case kJ:return{...t,users:[e.payload,...t.users]};case OJ:return{...t,error:e.payload};case NJ:return{...t,userProfile:e.payload};case RJ:return{...t,users:t.users.map(n=>n.id.toString()===e.payload.id.toString()?{user:n,...e.payload}:n)};case PJ:return{...t,error:e.payload};case DJ:return{...t,users:t.users.filter(n=>n.id.toString()!==e.payload.toString())};case LJ:return{...t,error:e.payload};case IJ:return{...t,error:e.payload};default:return t}},Sit={mailslists:[],mailsListsId:[],error:{},selectedmails:[],folderId:[],folders:[],loading:!0},jit=(t=Sit,e)=>{switch(e.type){case MJ:return{...t,mailslists:e.payload,loading:!0};case $J:return{...t,error:e.payload};case FJ:return{...t,folders:e.payload};case VJ:return{...t,error:e.payload};case UJ:return{...t,selectedmails:e.payload?e.payload.length>1?e.payload:t.selectedmails.includes(e.payload)?t.selectedmails.filter(n=>n!==e.payload):[...t.selectedmails,e.payload]:[]};case BJ:return{...t,error:e.payload};case GJ:return{...t,mailslists:t.mailslists.filter(n=>n.id!==e.payload)};case HJ:return{...t,error:e.payload};case qJ:return{...t,mailslists:t.mailslists.map(n=>n.id===e.payload?{...n,category:"trash"}:n)};case YJ:return{...t,error:e.payload};case KJ:return{...t,mailslists:t.mailslists.map(n=>{if(n.id===e.payload){const r=n.category==="starred"?"inbox":"starred";return{...n,category:r}}return n})};case JJ:return{...t,error:e.payload};case zJ:return{...t,selectedmails:t.selectedmails,folderId:e.payload};case WJ:return{...t,error:e.payload};case QJ:return{...t,mailsListsId:e.payload};case ZJ:return{...t,error:e.payload};default:return t}},Tit={chartsData:[]},Cit=(t=Tit,e)=>{switch(e.type){case rQ:switch(e.payload.actionType){case lx:return{...t,chartsData:e.payload.data};default:return t}case sQ:switch(e.payload.actionType){case lx:return{...t,chartsDataError:e.payload.error};default:return t}default:return t}},Ait={sellingData:[],earningChartData:[]},Nit=(t=Ait,e)=>{switch(e.type){case oQ:switch(e.payload.actionType){case ux:return{...t,sellingData:e.payload.data};case dx:return{...t,earningChartData:e.payload.data};default:return t}case lQ:switch(e.payload.actionType){case ux:return{...t,sellingDataError:e.payload.error};case dx:return{...t,earningChartDataError:e.payload.error};default:return t}default:return t}},Iit={walletbalanceData:[]},kit=(t=Iit,e)=>{switch(e.type){case iQ:switch(e.payload.actionType){case cx:return{...t,walletbalanceData:e.payload.data};default:return t}case aQ:switch(e.payload.actionType){case cx:return{...t,error:e.payload.error};default:return t}default:return t}},Oit={visitor:[]},Rit=(t=Oit,e)=>{switch(e.type){case dQ:switch(e.payload.actionType){case hx:return{...t,visitor:e.payload.data};default:return t}case hQ:switch(e.payload.actionType){case hx:return{...t,error:e.payload.error};default:return t}default:return t}},Pit={statistic_data:[]},Dit=(t=Pit,e)=>{switch(e.type){case fQ:switch(e.payload.actionType){case fx:return{...t,statistic_data:e.payload.data};default:return t}case mQ:switch(e.payload.actionType){case fx:return{...t,error:e.payload.error};default:return t}default:return t}},Lit=Mrt({Layout:Qst,Login:Xst,Account:tit,ForgetPassword:rit,Profile:iit,ecommerce:oit,calendar:cit,chat:dit,mails:jit,crypto:fit,invoices:pit,JobReducer:yit,projects:bit,tasks:wit,contacts:Eit,Dashboard:Cit,DashboardSaas:Nit,DashboardCrypto:kit,DashboardBlog:Rit,DashboardJob:Dit});var BW=function(e){return{done:!0,value:e}},PR={};function Hae(t){return K4(t)?"channel":bae(t)?String(t):Jo(t)?t.name:String(t)}function qae(t,e,n){var r,s,i,o=e;function l(c,u){if(o===PR)return BW(c);if(u&&!s)throw o=PR,u;r&&r(c);var d=u?t[s](u):t[o]();return o=d.nextState,i=d.effect,r=d.stateUpdater,s=d.errorState,o===PR?BW(c):i}return UL(l,function(c){return l(null,c)},n)}function Mit(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var i={done:!1,value:Rae(t)},o=function(d){return{done:!1,value:Un.apply(void 0,[e].concat(r,[d]))}},l,c=function(d){return l=d};return qae({q1:function(){return{nextState:"q2",effect:i,stateUpdater:c}},q2:function(){return{nextState:"q1",effect:o(l)}}},"q1","takeEvery("+Hae(t)+", "+e.name+")")}function $it(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var i={done:!1,value:Rae(t)},o=function(p){return{done:!1,value:Un.apply(void 0,[e].concat(r,[p]))}},l=function(p){return{done:!1,value:mst(p)}},c,u,d=function(p){return c=p},h=function(p){return u=p};return qae({q1:function(){return{nextState:"q2",effect:i,stateUpdater:h}},q2:function(){return c?{nextState:"q3",effect:l(c)}:{nextState:"q1",effect:o(u),stateUpdater:d}},q3:function(){return{nextState:"q1",effect:o(u),stateUpdater:d}}},"q1","takeLatest("+Hae(t)+", "+e.name+")")}function ft(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return Un.apply(void 0,[Mit,t,e].concat(r))}function Fit(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return Un.apply(void 0,[$it,t,e].concat(r))}var zW={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yae=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Vit=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Kae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,h=(i&3)<<4|l>>4;let m=(l&15)<<2|u>>6,p=u&63;c||(p=64,o||(m=64)),r.push(n[d],n[h],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Yae(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Vit(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||h==null)throw new Uit;const m=i<<2|l>>4;if(r.push(m),u!==64){const p=l<<4&240|u>>2;if(r.push(p),h!==64){const y=u<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Uit extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bit=function(t){const e=Yae(t);return Kae.encodeByteArray(e,!0)},mC=function(t){return Bit(t).replace(/\./g,"")},Jae=function(t){try{return Kae.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function pC(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!zit(n)||(t[n]=pC(t[n],e[n]));return t}function zit(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wit(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Git=()=>Wit().__FIREBASE_DEFAULTS__,Hit=()=>{if(typeof process>"u"||typeof zW>"u")return;const t=zW.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qit=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Jae(t[1]);return e&&JSON.parse(e)},r3=()=>{try{return Git()||Hit()||qit()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Qae=()=>{var t;return(t=r3())===null||t===void 0?void 0:t.config},Yit=t=>{var e;return(e=r3())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kit{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jit(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mC(JSON.stringify(n)),mC(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qit(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ks())}function s3(){var t;const e=(t=r3())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zit(){return typeof self=="object"&&self.self===self}function Zae(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function i3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xae(){const t=ks();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Xit(){return!s3()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dx(){try{return typeof indexedDB=="object"}catch{return!1}}function eat(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tat="FirebaseError";class so extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tat,Object.setPrototypeOf(this,so.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vg.prototype.create)}}class vg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?nat(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new so(s,l,r)}}function nat(t,e){return t.replace(rat,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const rat=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WW(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function sat(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function BL(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(GW(i)&&GW(o)){if(!BL(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function GW(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zy(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function iw(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function eoe(t,e){const n=new iat(t,e);return n.subscribe.bind(n)}class iat{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aat(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=DR),s.error===void 0&&(s.error=DR),s.complete===void 0&&(s.complete=DR);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aat(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function DR(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t){return t&&t._delegate?t._delegate:t}class sd{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oat{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Kit;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cat(e))try{this.getOrInitializeService({instanceIdentifier:Qm})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Qm){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qm){return this.instances.has(e)}getOptions(e=Qm){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lat(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qm){return this.component?this.component.multipleInstances?e:Qm:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lat(t){return t===Qm?void 0:t}function cat(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uat{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oat(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=[];var rr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rr||(rr={}));const toe={debug:rr.DEBUG,verbose:rr.VERBOSE,info:rr.INFO,warn:rr.WARN,error:rr.ERROR,silent:rr.SILENT},dat=rr.INFO,hat={[rr.DEBUG]:"log",[rr.VERBOSE]:"log",[rr.INFO]:"info",[rr.WARN]:"warn",[rr.ERROR]:"error"},fat=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=hat[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gN{constructor(e){this.name=e,this._logLevel=dat,this._logHandler=fat,this._userLogHandler=null,a3.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?toe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rr.DEBUG,...e),this._logHandler(this,rr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rr.VERBOSE,...e),this._logHandler(this,rr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rr.INFO,...e),this._logHandler(this,rr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rr.WARN,...e),this._logHandler(this,rr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rr.ERROR,...e),this._logHandler(this,rr.ERROR,...e)}}function mat(t){a3.forEach(e=>{e.setLogLevel(t)})}function pat(t,e){for(const n of a3){let r=null;e&&e.level&&(r=toe[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(s,i,...o)=>{const l=o.map(c=>{if(c==null)return null;if(typeof c=="string")return c;if(typeof c=="number"||typeof c=="boolean")return c.toString();if(c instanceof Error)return c.message;try{return JSON.stringify(c)}catch{return null}}).filter(c=>c).join(" ");i>=(r??s.logLevel)&&t({level:rr[i].toLowerCase(),message:l,args:o,type:s.name})}}}const gat=(t,e)=>e.some(n=>t instanceof n);let HW,qW;function yat(){return HW||(HW=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vat(){return qW||(qW=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const noe=new WeakMap,zL=new WeakMap,roe=new WeakMap,LR=new WeakMap,o3=new WeakMap;function bat(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Cf(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&noe.set(n,t)}).catch(()=>{}),o3.set(e,t),e}function _at(t){if(zL.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});zL.set(t,e)}let WL={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zL.get(t);if(e==="objectStoreNames")return t.objectStoreNames||roe.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cf(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wat(t){WL=t(WL)}function xat(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(MR(this),e,...n);return roe.set(r,e.sort?e.sort():[e]),Cf(r)}:vat().includes(t)?function(...e){return t.apply(MR(this),e),Cf(noe.get(this))}:function(...e){return Cf(t.apply(MR(this),e))}}function Eat(t){return typeof t=="function"?xat(t):(t instanceof IDBTransaction&&_at(t),gat(t,yat())?new Proxy(t,WL):t)}function Cf(t){if(t instanceof IDBRequest)return bat(t);if(LR.has(t))return LR.get(t);const e=Eat(t);return e!==t&&(LR.set(t,e),o3.set(e,t)),e}const MR=t=>o3.get(t);function Sat(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Cf(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Cf(o.result),c.oldVersion,c.newVersion,Cf(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const jat=["get","getKey","getAll","getAllKeys","count"],Tat=["put","add","delete","clear"],$R=new Map;function YW(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($R.get(e))return $R.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Tat.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||jat.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return $R.set(e,i),i}wat(t=>({...t,get:(e,n,r)=>YW(e,n)||t.get(e,n,r),has:(e,n)=>!!YW(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cat{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Aat(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Aat(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const GL="@firebase/app",KW="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=new gN("@firebase/app"),Nat="@firebase/app-compat",Iat="@firebase/analytics-compat",kat="@firebase/analytics",Oat="@firebase/app-check-compat",Rat="@firebase/app-check",Pat="@firebase/auth",Dat="@firebase/auth-compat",Lat="@firebase/database",Mat="@firebase/database-compat",$at="@firebase/functions",Fat="@firebase/functions-compat",Vat="@firebase/installations",Uat="@firebase/installations-compat",Bat="@firebase/messaging",zat="@firebase/messaging-compat",Wat="@firebase/performance",Gat="@firebase/performance-compat",Hat="@firebase/remote-config",qat="@firebase/remote-config-compat",Yat="@firebase/storage",Kat="@firebase/storage-compat",Jat="@firebase/firestore",Qat="@firebase/firestore-compat",Zat="firebase",Xat="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="[DEFAULT]",eot={[GL]:"fire-core",[Nat]:"fire-core-compat",[kat]:"fire-analytics",[Iat]:"fire-analytics-compat",[Rat]:"fire-app-check",[Oat]:"fire-app-check-compat",[Pat]:"fire-auth",[Dat]:"fire-auth-compat",[Lat]:"fire-rtdb",[Mat]:"fire-rtdb-compat",[$at]:"fire-fn",[Fat]:"fire-fn-compat",[Vat]:"fire-iid",[Uat]:"fire-iid-compat",[Bat]:"fire-fcm",[zat]:"fire-fcm-compat",[Wat]:"fire-perf",[Gat]:"fire-perf-compat",[Hat]:"fire-rc",[qat]:"fire-rc-compat",[Yat]:"fire-gcs",[Kat]:"fire-gcs-compat",[Jat]:"fire-fst",[Qat]:"fire-fst-compat","fire-js":"fire-js",[Zat]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf=new Map,Lx=new Map;function gC(t,e){try{t.container.addComponent(e)}catch(n){zp.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function soe(t,e){t.container.addOrOverwriteComponent(e)}function $f(t){const e=t.name;if(Lx.has(e))return zp.debug(`There were multiple attempts to register component ${e}.`),!1;Lx.set(e,t);for(const n of Mf.values())gC(n,t);return!0}function ioe(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function tot(t,e,n=Lf){ioe(t,e).clearInstance(n)}function not(){Lx.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rot={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Hd=new vg("app","Firebase",rot);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sot=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hd.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=Xat;function l3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Lf,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Hd.create("bad-app-name",{appName:String(s)});if(n||(n=Qae()),!n)throw Hd.create("no-options");const i=Mf.get(s);if(i){if(BL(n,i.options)&&BL(r,i.config))return i;throw Hd.create("duplicate-app",{appName:s})}const o=new uat(s);for(const c of Lx.values())o.addComponent(c);const l=new sot(n,r,o);return Mf.set(s,l),l}function iot(t=Lf){const e=Mf.get(t);if(!e&&t===Lf&&Qae())return l3();if(!e)throw Hd.create("no-app",{appName:t});return e}function aot(){return Array.from(Mf.values())}async function aoe(t){const e=t.name;Mf.has(e)&&(Mf.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function ed(t,e,n){var r;let s=(r=eot[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zp.warn(l.join(" "));return}$f(new sd(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function ooe(t,e){if(t!==null&&typeof t!="function")throw Hd.create("invalid-log-argument");pat(t,e)}function loe(t){mat(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oot="firebase-heartbeat-database",lot=1,Mx="firebase-heartbeat-store";let FR=null;function coe(){return FR||(FR=Sat(oot,lot,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Mx)}}}).catch(t=>{throw Hd.create("idb-open",{originalErrorMessage:t.message})})),FR}async function cot(t){try{return await(await coe()).transaction(Mx).objectStore(Mx).get(uoe(t))}catch(e){if(e instanceof so)zp.warn(e.message);else{const n=Hd.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zp.warn(n.message)}}}async function JW(t,e){try{const r=(await coe()).transaction(Mx,"readwrite");await r.objectStore(Mx).put(e,uoe(t)),await r.done}catch(n){if(n instanceof so)zp.warn(n.message);else{const r=Hd.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zp.warn(r.message)}}}function uoe(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uot=1024,dot=30*24*60*60*1e3;class hot{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mot(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=QW();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=dot}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=QW(),{heartbeatsToSend:r,unsentEntries:s}=fot(this._heartbeatsCache.heartbeats),i=mC(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function QW(){return new Date().toISOString().substring(0,10)}function fot(t,e=uot){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),ZW(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ZW(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mot{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Dx()?eat().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cot(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return JW(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return JW(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ZW(t){return mC(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pot(t){$f(new sd("platform-logger",e=>new Cat(e),"PRIVATE")),$f(new sd("heartbeat",e=>new hot(e),"PRIVATE")),ed(GL,KW,t),ed(GL,KW,"esm2017"),ed("fire-js","")}pot("");const got=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:so,SDK_VERSION:sm,_DEFAULT_ENTRY_NAME:Lf,_addComponent:gC,_addOrOverwriteComponent:soe,_apps:Mf,_clearComponents:not,_components:Lx,_getProvider:ioe,_registerComponent:$f,_removeServiceInstance:tot,deleteApp:aoe,getApp:iot,getApps:aot,initializeApp:l3,onLog:ooe,registerVersion:ed,setLogLevel:loe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yot{constructor(e,n){this._delegate=e,this.firebase=n,gC(e,new sd("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),aoe(this._delegate)))}_getService(e,n=Lf){var r;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(e);return!s.isInitialized()&&((r=s.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:n})}_removeServiceInstance(e,n=Lf){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){gC(this._delegate,e)}_addOrOverwriteComponent(e){soe(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vot={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},XW=new vg("app-compat","Firebase",vot);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bot(t){const e={},n={__esModule:!0,initializeApp:i,app:s,registerVersion:ed,setLogLevel:loe,onLog:ooe,apps:null,SDK_VERSION:sm,INTERNAL:{registerComponent:l,removeApp:r,useAsService:c,modularAPIs:got}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function s(u){if(u=u||Lf,!WW(e,u))throw XW.create("no-app",{appName:u});return e[u]}s.App=t;function i(u,d={}){const h=l3(u,d);if(WW(e,h.name))return e[h.name];const m=new t(h,n);return e[h.name]=m,m}function o(){return Object.keys(e).map(u=>e[u])}function l(u){const d=u.name,h=d.replace("-compat","");if($f(u)&&u.type==="PUBLIC"){const m=(p=s())=>{if(typeof p[h]!="function")throw XW.create("invalid-app-argument",{appName:d});return p[h]()};u.serviceProps!==void 0&&pC(m,u.serviceProps),n[h]=m,t.prototype[h]=function(...p){return this._getService.bind(this,d).apply(this,u.multipleInstances?p:[])}}return u.type==="PUBLIC"?n[h]:null}function c(u,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function doe(){const t=bot(yot);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:doe,extendNamespace:e,createSubscribe:eoe,ErrorFactory:vg,deepExtend:pC});function e(n){pC(t,n)}return t}const _ot=doe();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eG=new gN("@firebase/app-compat"),wot="@firebase/app-compat",xot="0.2.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eot(t){ed(wot,xot,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Zit()&&self.firebase!==void 0){eG.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&eG.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const B0=_ot;Eot();var Sot="firebase",jot="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */B0.registerVersion(Sot,jot,"app-compat");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function c3(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}const D_={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},vy={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tot(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function hoe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Cot=Tot,Aot=hoe,foe=new vg("auth","Firebase",hoe());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new gN("@firebase/auth");function Not(t,...e){yC.logLevel<=rr.WARN&&yC.warn(`Auth (${sm}): ${t}`,...e)}function a1(t,...e){yC.logLevel<=rr.ERROR&&yC.error(`Auth (${sm}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(t,...e){throw u3(t,...e)}function pa(t,...e){return u3(t,...e)}function moe(t,e,n){const r=Object.assign(Object.assign({},Aot()),{[e]:n});return new vg("auth","Firebase",r).create(e,{appName:t.name})}function Ib(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&va(t,"argument-error"),moe(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function u3(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return foe.create(t,...e)}function st(t,e,...n){if(!t)throw u3(e,...n)}function Wu(t){const e="INTERNAL ASSERTION FAILED: "+t;throw a1(e),new Error(e)}function su(t,e){t||Wu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function d3(){return tG()==="http:"||tG()==="https:"}function tG(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iot(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(d3()||Zae()||"connection"in navigator)?navigator.onLine:!0}function kot(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n){this.shortDelay=e,this.longDelay=n,su(n>e,"Short delay should be less than long delay!"),this.isMobile=Qit()||i3()}get(){return Iot()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t,e){su(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class poe{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oot={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rot=new z0(3e4,6e4);function Ks(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Js(t,e,n,r,s={}){return goe(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=Nb(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),poe.fetch()(yoe(t,t.config.apiHost,n,l),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},i))})}async function goe(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Oot),e);try{const s=new Dot(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw aw(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw aw(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw aw(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw aw(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw moe(t,d,u);va(t,d)}}catch(s){if(s instanceof so)throw s;va(t,"network-request-failed",{message:String(s)})}}async function fh(t,e,n,r,s={}){const i=await Js(t,e,n,r,s);return"mfaPendingCredential"in i&&va(t,"multi-factor-auth-required",{_serverResponse:i}),i}function yoe(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?h3(t.config,s):`${t.config.apiScheme}://${s}`}function Pot(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Dot{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pa(this.auth,"network-request-failed")),Rot.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function aw(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=pa(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nG(t){return t!==void 0&&t.getResponse!==void 0}function rG(t){return t!==void 0&&t.enterprise!==void 0}class Lot{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Pot(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mot(t){return(await Js(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function $ot(t,e){return Js(t,"GET","/v2/recaptchaConfig",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fot(t,e){return Js(t,"POST","/v1/accounts:delete",e)}async function Vot(t,e){return Js(t,"POST","/v1/accounts:update",e)}async function Uot(t,e){return Js(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Bot(t,e=!1){const n=sn(t),r=await n.getIdToken(e),s=yN(r);st(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Rw(VR(s.auth_time)),issuedAtTime:Rw(VR(s.iat)),expirationTime:Rw(VR(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function VR(t){return Number(t)*1e3}function yN(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return a1("JWT malformed, contained fewer than 3 sections"),null;try{const s=Jae(n);return s?JSON.parse(s):(a1("Failed to decode base64 JWT payload"),null)}catch(s){return a1("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function zot(t){const e=yN(t);return st(e,"internal-error"),st(typeof e.exp<"u","internal-error"),st(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof so&&Wot(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Wot({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Got{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class voe{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rw(this.lastLoginAt),this.creationTime=Rw(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx(t){var e;const n=t.auth,r=await t.getIdToken(),s=await rh(t,Uot(n,{idToken:r}));st(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Yot(i.providerUserInfo):[],l=qot(t.providerData,o),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new voe(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function Hot(t){const e=sn(t);await Fx(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qot(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Yot(t){return t.map(e=>{var{providerId:n}=e,r=c3(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kot(t,e){const n=await goe(t,{},async()=>{const r=Nb({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=yoe(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",poe.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Jot(t,e){return Js(t,"POST","/v2/accounts:revokeToken",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){st(e.idToken,"internal-error"),st(typeof e.idToken<"u","internal-error"),st(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zot(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return st(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Kot(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Vx;return r&&(st(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(st(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(st(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vx,this.toJSON())}_performRefresh(){return Wu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(t,e){st(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Tp{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=c3(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Got(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new voe(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await rh(this,this.stsTokenManager.getToken(this.auth,e));return st(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Bot(this,e)}reload(){return Hot(this)}_assign(e){this!==e&&(st(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Tp(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){st(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Fx(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await rh(this,Fot(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,l,c,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(l=n.tenantId)!==null&&l!==void 0?l:void 0,v=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:T,isAnonymous:N,providerData:D,stsTokenManager:O}=n;st(E&&O,e,"internal-error");const F=Vx.fromJSON(this.name,O);st(typeof E=="string",e,"internal-error"),Vh(h,e.name),Vh(m,e.name),st(typeof T=="boolean",e,"internal-error"),st(typeof N=="boolean",e,"internal-error"),Vh(p,e.name),Vh(y,e.name),Vh(w,e.name),Vh(v,e.name),Vh(x,e.name),Vh(_,e.name);const V=new Tp({uid:E,auth:e,email:m,emailVerified:T,displayName:h,isAnonymous:N,photoURL:y,phoneNumber:p,tenantId:w,stsTokenManager:F,createdAt:x,lastLoginAt:_});return D&&Array.isArray(D)&&(V.providerData=D.map(z=>Object.assign({},z))),v&&(V._redirectEventId=v),V}static async _fromIdTokenResponse(e,n,r=!1){const s=new Vx;s.updateFromServerResponse(n);const i=new Tp({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Fx(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG=new Map;function jl(t){su(t instanceof Function,"Expected a class definition");let e=sG.get(t);return e?(su(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sG.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class boe{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}boe.type="NONE";const Yv=boe;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(t,e,n){return`firebase:${t}:${e}:${n}`}class _v{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Cp(this.userKey,s.apiKey,i),this.fullPersistenceKey=Cp("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Tp._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _v(jl(Yv),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||jl(Yv);const o=Cp(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(o);if(d){const h=Tp._fromJSON(e,d);u!==i&&(l=h),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new _v(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new _v(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iG(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xoe(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_oe(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Eoe(e))return"Blackberry";if(Soe(e))return"Webos";if(f3(e))return"Safari";if((e.includes("chrome/")||woe(e))&&!e.includes("edge/"))return"Chrome";if(W0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _oe(t=ks()){return/firefox\//i.test(t)}function f3(t=ks()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function woe(t=ks()){return/crios\//i.test(t)}function xoe(t=ks()){return/iemobile/i.test(t)}function W0(t=ks()){return/android/i.test(t)}function Eoe(t=ks()){return/blackberry/i.test(t)}function Soe(t=ks()){return/webos/i.test(t)}function kb(t=ks()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Qot(t=ks()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function Zot(t=ks()){var e;return kb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Xot(){return Xae()&&document.documentMode===10}function joe(t=ks()){return kb(t)||W0(t)||Soe(t)||Eoe(t)||/windows phone/i.test(t)||xoe(t)}function elt(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Toe(t,e=[]){let n;switch(t){case"Browser":n=iG(ks());break;case"Worker":n=`${iG(ks())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sm}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tlt{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nlt(t,e={}){return Js(t,"GET","/v2/passwordPolicy",Ks(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rlt=6;class slt{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:rlt,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ilt{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aG(this),this.idTokenSubscription=new aG(this),this.beforeStateQueue=new tlt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=foe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=jl(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await _v.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return st(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fx(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kot()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?sn(e):null;return n&&st(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&st(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(jl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nlt(this),n=new slt(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vg("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Jot(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&jl(e)||this._popupRedirectResolver;st(n,this,"argument-error"),this.redirectPersistenceManager=await _v.create(this,[jl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(st(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return st(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Toe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Not(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Hs(t){return sn(t)}class aG{constructor(e){this.auth=e,this.observer=null,this.addObserver=eoe(n=>this.observer=n)}get next(){return st(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function alt(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function m3(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=pa("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",alt().appendChild(r)})}function Coe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const olt="https://www.google.com/recaptcha/enterprise.js?render=",llt="recaptcha-enterprise",clt="NO_RECAPTCHA";class ult{constructor(e){this.type=llt,this.auth=Hs(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{$ot(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new Lot(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,o,l){const c=window.grecaptcha;rG(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(clt)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(l=>{if(!n&&rG(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}m3(olt+l).then(()=>{s(l,i,o)}).catch(c=>{o(c)})}}).catch(l=>{o(l)})})}}async function oG(t,e,n,r=!1){const s=new ult(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ux(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await oG(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await oG(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}function dlt(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(jl);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function hlt(t,e,n){const r=Hs(t);st(r._canInitEmulator,r,"emulator-config-failed"),st(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=Aoe(e),{host:o,port:l}=flt(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||mlt()}function Aoe(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function flt(t){const e=Aoe(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:lG(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:lG(o)}}}function lG(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mlt(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wu("not implemented")}_getIdTokenResponse(e){return Wu("not implemented")}_linkToIdToken(e,n){return Wu("not implemented")}_getReauthenticationResolver(e){return Wu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Noe(t,e){return Js(t,"POST","/v1/accounts:resetPassword",Ks(t,e))}async function plt(t,e){return Js(t,"POST","/v1/accounts:update",e)}async function glt(t,e){return Js(t,"POST","/v1/accounts:signUp",e)}async function ylt(t,e){return Js(t,"POST","/v1/accounts:update",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vlt(t,e){return fh(t,"POST","/v1/accounts:signInWithPassword",Ks(t,e))}async function vN(t,e){return Js(t,"POST","/v1/accounts:sendOobCode",Ks(t,e))}async function blt(t,e){return vN(t,e)}async function _lt(t,e){return vN(t,e)}async function wlt(t,e){return vN(t,e)}async function xlt(t,e){return vN(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Elt(t,e){return fh(t,"POST","/v1/accounts:signInWithEmailLink",Ks(t,e))}async function Slt(t,e){return fh(t,"POST","/v1/accounts:signInWithEmailLink",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx extends Ob{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Bx(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Bx(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ux(e,n,"signInWithPassword",vlt);case"emailLink":return Elt(e,{email:this._email,oobCode:this._password});default:va(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ux(e,r,"signUpPassword",glt);case"emailLink":return Slt(e,{idToken:n,email:this._email,oobCode:this._password});default:va(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qd(t,e){return fh(t,"POST","/v1/accounts:signInWithIdp",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jlt="http://localhost";class id extends Ob{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new id(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):va("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=c3(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new id(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return qd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,qd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qd(e,n)}buildRequest(){const e={requestUri:jlt,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nb(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tlt(t,e){return Js(t,"POST","/v1/accounts:sendVerificationCode",Ks(t,e))}async function Clt(t,e){return fh(t,"POST","/v1/accounts:signInWithPhoneNumber",Ks(t,e))}async function Alt(t,e){const n=await fh(t,"POST","/v1/accounts:signInWithPhoneNumber",Ks(t,e));if(n.temporaryProof)throw aw(t,"account-exists-with-different-credential",n);return n}const Nlt={USER_NOT_FOUND:"user-not-found"};async function Ilt(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return fh(t,"POST","/v1/accounts:signInWithPhoneNumber",Ks(t,n),Nlt)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap extends Ob{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Ap({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Ap({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return Clt(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return Alt(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return Ilt(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:s}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:i}=e;return!r&&!n&&!s&&!i?null:new Ap({verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function klt(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Olt(t){const e=Zy(iw(t)).link,n=e?Zy(iw(e)).deep_link_id:null,r=Zy(iw(t)).deep_link_id;return(r?Zy(iw(r)).link:null)||r||n||e||t}class bN{constructor(e){var n,r,s,i,o,l;const c=Zy(iw(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,h=klt((s=c.mode)!==null&&s!==void 0?s:null);st(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=Olt(e);try{return new bN(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(){this.providerId=im.PROVIDER_ID}static credential(e,n){return Bx._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=bN.parseLink(n);return st(r,"argument-error"),Bx._fromEmailAndCode(e,r.code,r.tenantId)}}im.PROVIDER_ID="password";im.EMAIL_PASSWORD_SIGN_IN_METHOD="password";im.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb extends mh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class wv extends Rb{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return st("providerId"in n&&"signInMethod"in n,"argument-error"),id._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return st(e.idToken||e.accessToken,"argument-error"),id._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return wv.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return wv.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:s,pendingToken:i,nonce:o,providerId:l}=e;if(!r&&!s&&!n&&!i||!l)return null;try{return new wv(l)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:i})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends Rb{constructor(){super("facebook.com")}static credential(e){return id._fromParams({providerId:Mu.PROVIDER_ID,signInMethod:Mu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mu.credentialFromTaggedObject(e)}static credentialFromError(e){return Mu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mu.credential(e.oauthAccessToken)}catch{return null}}}Mu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends Rb{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return id._fromParams({providerId:$u.PROVIDER_ID,signInMethod:$u.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $u.credentialFromTaggedObject(e)}static credentialFromError(e){return $u.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return $u.credential(n,r)}catch{return null}}}$u.GOOGLE_SIGN_IN_METHOD="google.com";$u.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends Rb{constructor(){super("github.com")}static credential(e){return id._fromParams({providerId:Fu.PROVIDER_ID,signInMethod:Fu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fu.credentialFromTaggedObject(e)}static credentialFromError(e){return Fu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fu.credential(e.oauthAccessToken)}catch{return null}}}Fu.GITHUB_SIGN_IN_METHOD="github.com";Fu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rlt="http://localhost";class Kv extends Ob{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return qd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,qd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qd(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,pendingToken:i}=n;return!r||!s||!i||r!==s?null:new Kv(r,i)}static _create(e,n){return new Kv(e,n)}buildRequest(){return{requestUri:Rlt,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Plt="saml.";class vC extends mh{constructor(e){st(e.startsWith(Plt),"argument-error"),super(e)}static credentialFromResult(e){return vC.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return vC.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Kv.fromJSON(e);return st(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Kv._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends Rb{constructor(){super("twitter.com")}static credential(e,n){return id._fromParams({providerId:Vu.PROVIDER_ID,signInMethod:Vu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vu.credentialFromTaggedObject(e)}static credentialFromError(e){return Vu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vu.credential(n,r)}catch{return null}}}Vu.TWITTER_SIGN_IN_METHOD="twitter.com";Vu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ioe(t,e){return fh(t,"POST","/v1/accounts:signUp",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Tp._fromIdTokenResponse(e,r,s),o=cG(r);return new Sc({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=cG(r);return new Sc({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function cG(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dlt(t){var e;const n=Hs(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Sc({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Ioe(n,{returnSecureToken:!0}),s=await Sc._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC extends so{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,bC.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new bC(e,n,r,s)}}function koe(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?bC._fromErrorAndOperation(t,i,e,r):i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ooe(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Llt(t,e){const n=sn(t);await _N(!0,n,e);const{providerUserInfo:r}=await Vot(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),s=Ooe(r||[]);return n.providerData=n.providerData.filter(i=>s.has(i.providerId)),s.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function p3(t,e,n=!1){const r=await rh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Sc._forOperation(t,"link",r)}async function _N(t,e,n){await Fx(e);const r=Ooe(e.providerData),s=t===!1?"provider-already-linked":"no-such-provider";st(r.has(n)===t,e.auth,s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Roe(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await rh(t,koe(r,s,e,t),n);st(i.idToken,r,"internal-error");const o=yN(i.idToken);st(o,r,"internal-error");const{sub:l}=o;return st(t.uid===l,r,"user-mismatch"),Sc._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&va(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Poe(t,e,n=!1){const r="signIn",s=await koe(t,r,e),i=await Sc._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function wN(t,e){return Poe(Hs(t),e)}async function Doe(t,e){const n=sn(t);return await _N(!1,n,e.providerId),p3(n,e)}async function Loe(t,e){return Roe(sn(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mlt(t,e){return fh(t,"POST","/v1/accounts:signInWithCustomToken",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $lt(t,e){const n=Hs(t),r=await Mlt(n,{token:e,returnSecureToken:!0}),s=await Sc._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?g3._fromServerResponse(e,n):"totpInfo"in n?y3._fromServerResponse(e,n):va(e,"internal-error")}}class g3 extends G0{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new g3(n)}}class y3 extends G0{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new y3(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t,e,n){var r;st(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),st(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(st(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(st(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v3(t){const e=Hs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Flt(t,e,n){const r=Hs(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&xN(r,s,n),await Ux(r,s,"getOobCode",_lt)}async function Vlt(t,e,n){await Noe(sn(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&v3(t),r})}async function Ult(t,e){await ylt(sn(t),{oobCode:e})}async function Moe(t,e){const n=sn(t),r=await Noe(n,{oobCode:e}),s=r.requestType;switch(st(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":st(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":st(r.mfaInfo,n,"internal-error");default:st(r.email,n,"internal-error")}let i=null;return r.mfaInfo&&(i=G0._fromServerResponse(Hs(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:i},operation:s}}async function Blt(t,e){const{data:n}=await Moe(sn(t),e);return n.email}async function zlt(t,e,n){const r=Hs(t),o=await Ux(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ioe).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&v3(t),c}),l=await Sc._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function Wlt(t,e,n){return wN(sn(t),im.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&v3(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Glt(t,e,n){const r=Hs(t),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function i(o,l){st(l.handleCodeInApp,r,"argument-error"),l&&xN(r,o,l)}i(s,n),await Ux(r,s,"getOobCode",wlt)}function Hlt(t,e){const n=bN.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function qlt(t,e,n){const r=sn(t),s=im.credentialWithLink(e,n||$x());return st(s._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),wN(r,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ylt(t,e){return Js(t,"POST","/v1/accounts:createAuthUri",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Klt(t,e){const n=d3()?$x():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:s}=await Ylt(sn(t),r);return s||[]}async function Jlt(t,e){const n=sn(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&xN(n.auth,s,e);const{email:i}=await blt(n.auth,s);i!==t.email&&await t.reload()}async function Qlt(t,e,n){const r=sn(t),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&xN(r.auth,i,n);const{email:o}=await xlt(r.auth,i);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zlt(t,e){return Js(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xlt(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=sn(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await rh(r,Zlt(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function ect(t,e){return $oe(sn(t),e,null)}function tct(t,e){return $oe(sn(t),null,e)}async function $oe(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(i.email=e),n&&(i.password=n);const o=await rh(t,plt(r,i));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nct(t){var e,n;if(!t)return null;const{providerId:r}=t,s=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},i=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=yN(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const l=o!=="anonymous"&&o!=="custom"?o:null;return new xv(i,l)}}if(!r)return null;switch(r){case"facebook.com":return new rct(i,s);case"github.com":return new sct(i,s);case"google.com":return new ict(i,s);case"twitter.com":return new act(i,s,t.screenName||null);case"custom":case"anonymous":return new xv(i,null);default:return new xv(i,r,s)}}class xv{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class Foe extends xv{constructor(e,n,r,s){super(e,n,r),this.username=s}}class rct extends xv{constructor(e,n){super(e,"facebook.com",n)}}class sct extends Foe{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class ict extends xv{constructor(e,n){super(e,"google.com",n)}}class act extends Foe{constructor(e,n,r){super(e,"twitter.com",n,r)}}function oct(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:nct(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new mp("enroll",e,n)}static _fromMfaPendingCredential(e){return new mp("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return mp._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return mp._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Hs(e),s=n.customData._serverResponse,i=(s.mfaInfo||[]).map(l=>G0._fromServerResponse(r,l));st(s.mfaPendingCredential,r,"internal-error");const o=mp._fromMfaPendingCredential(s.mfaPendingCredential);return new b3(o,i,async l=>{const c=await l._process(r,o);delete s.mfaInfo,delete s.mfaPendingCredential;const u=Object.assign(Object.assign({},s),{idToken:c.idToken,refreshToken:c.refreshToken});switch(n.operationType){case"signIn":const d=await Sc._fromIdTokenResponse(r,n.operationType,u);return await r._updateCurrentUser(d.user),d;case"reauthenticate":return st(n.user,r,"internal-error"),Sc._forOperation(n.user,n.operationType,u);default:va(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function lct(t,e){var n;const r=sn(t),s=e;return st(e.customData.operationType,r,"argument-error"),st((n=s.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),b3._fromError(r,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cct(t,e){return Js(t,"POST","/v2/accounts/mfaEnrollment:start",Ks(t,e))}function uct(t,e){return Js(t,"POST","/v2/accounts/mfaEnrollment:finalize",Ks(t,e))}function dct(t,e){return Js(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Ks(t,e))}class _3{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>G0._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new _3(e)}async getSession(){return mp._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,s=await this.getSession(),i=await rh(this.user,r._process(this.user.auth,s,n));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const s=await rh(this.user,dct(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:i})=>i!==n),await this.user._updateTokensIfNecessary(s),await this.user.reload()}catch(s){throw s}}}const UR=new WeakMap;function hct(t){const e=sn(t);return UR.has(e)||UR.set(e,_3._fromUser(e)),UR.get(e)}const _C="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Voe{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_C,"1"),this.storage.removeItem(_C),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fct(){const t=ks();return f3(t)||kb(t)}const mct=1e3,pct=10;class Uoe extends Voe{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=fct()&&elt(),this.fallbackToPolling=joe(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Xot()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,pct):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},mct)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Uoe.type="LOCAL";const w3=Uoe;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Boe extends Voe{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Boe.type="SESSION";const Wp=Boe;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gct(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new EN(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async u=>u(n.origin,i)),c=await gct(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}EN.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yct{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const u=H0("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const m=h;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return window}function vct(t){mi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(){return typeof mi().WorkerGlobalScope<"u"&&typeof mi().importScripts=="function"}async function bct(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _ct(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function wct(){return x3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zoe="firebaseLocalStorageDb",xct=1,wC="firebaseLocalStorage",Woe="fbase_key";class q0{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function SN(t,e){return t.transaction([wC],e?"readwrite":"readonly").objectStore(wC)}function Ect(){const t=indexedDB.deleteDatabase(zoe);return new q0(t).toPromise()}function HL(){const t=indexedDB.open(zoe,xct);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wC,{keyPath:Woe})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wC)?e(r):(r.close(),await Ect(),e(await HL()))})})}async function uG(t,e,n){const r=SN(t,!0).put({[Woe]:e,value:n});return new q0(r).toPromise()}async function Sct(t,e){const n=SN(t,!1).get(e),r=await new q0(n).toPromise();return r===void 0?null:r.value}function dG(t,e){const n=SN(t,!0).delete(e);return new q0(n).toPromise()}const jct=800,Tct=3;class Goe{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await HL(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Tct)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return x3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=EN._getInstance(wct()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await bct(),!this.activeServiceWorker)return;this.sender=new yct(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_ct()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await HL();return await uG(e,_C,"1"),await dG(e,_C),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>uG(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Sct(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>dG(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=SN(s,!1).getAll();return new q0(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jct)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Goe.type="LOCAL";const zx=Goe;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cct(t,e){return Js(t,"POST","/v2/accounts/mfaSignIn:start",Ks(t,e))}function Act(t,e){return Js(t,"POST","/v2/accounts/mfaSignIn:finalize",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nct=500,Ict=6e4,gj=1e12;class kct{constructor(e){this.auth=e,this.counter=gj,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new Oct(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||gj;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||gj;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||gj;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class Oct{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;st(s,"argument-error",{appName:n}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Rct(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},Ict)},Nct))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function Rct(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=Coe("rcb"),Pct=new z0(3e4,6e4),Dct="https://www.google.com/recaptcha/api.js?";class Lct{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=mi().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return st(Mct(n),e,"argument-error"),this.shouldResolveImmediately(n)&&nG(mi().grecaptcha)?Promise.resolve(mi().grecaptcha):new Promise((r,s)=>{const i=mi().setTimeout(()=>{s(pa(e,"network-request-failed"))},Pct.get());mi()[BR]=()=>{mi().clearTimeout(i),delete mi()[BR];const l=mi().grecaptcha;if(!l||!nG(l)){s(pa(e,"internal-error"));return}const c=l.render;l.render=(u,d)=>{const h=c(u,d);return this.counter++,h},this.hostLanguage=n,r(l)};const o=`${Dct}?${Nb({onload:BR,render:"explicit",hl:n})}`;m3(o).catch(()=>{clearTimeout(i),s(pa(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=mi().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function Mct(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class $ct{async load(e){return new kct(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hoe="recaptcha",Fct={theme:"light",type:"image"};let Vct=class{constructor(e,n,r=Object.assign({},Fct)){this.parameters=r,this.type=Hoe,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Hs(e),this.isInvisible=this.parameters.size==="invisible",st(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof n=="string"?document.getElementById(n):n;st(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $ct:new Lct,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(s=>{const i=o=>{o&&(this.tokenChangeListeners.delete(i),s(o))};this.tokenChangeListeners.add(i),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){st(!this.parameters.sitekey,this.auth,"argument-error"),st(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),st(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=mi()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){st(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){st(d3()&&!x3(),this.auth,"internal-error"),await Uct(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Mot(this.auth);st(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return st(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function Uct(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Ap._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function Bct(t,e,n){const r=Hs(t),s=await jN(r,e,sn(n));return new E3(s,i=>wN(r,i))}async function zct(t,e,n){const r=sn(t);await _N(!1,r,"phone");const s=await jN(r.auth,e,sn(n));return new E3(s,i=>Doe(r,i))}async function Wct(t,e,n){const r=sn(t),s=await jN(r.auth,e,sn(n));return new E3(s,i=>Loe(r,i))}async function jN(t,e,n){var r;const s=await n.verify();try{st(typeof s=="string",t,"argument-error"),st(n.type===Hoe,t,"argument-error");let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const o=i.session;if("phoneNumber"in i)return st(o.type==="enroll",t,"internal-error"),(await cct(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,recaptchaToken:s}})).phoneSessionInfo.sessionInfo;{st(o.type==="signin",t,"internal-error");const l=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;return st(l,t,"missing-multi-factor-info"),(await Cct(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:s}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await Tlt(t,{phoneNumber:i.phoneNumber,recaptchaToken:s});return o}}finally{n._reset()}}async function Gct(t,e){await p3(sn(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gp=class o1{constructor(e){this.providerId=o1.PROVIDER_ID,this.auth=Hs(e)}verifyPhoneNumber(e,n){return jN(this.auth,e,sn(n))}static credential(e,n){return Ap._fromVerification(e,n)}static credentialFromResult(e){const n=e;return o1.credentialFromTaggedObject(n)}static credentialFromError(e){return o1.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Ap._fromTokenResponse(n,r):null}};Gp.PROVIDER_ID="phone";Gp.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(t,e){return e?jl(e):(st(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3 extends Ob{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Hct(t){return Poe(t.auth,new S3(t),t.bypassAuthState)}function qct(t){const{auth:e,user:n}=t;return st(n,e,"internal-error"),Roe(n,new S3(t),t.bypassAuthState)}async function Yct(t){const{auth:e,user:n}=t;return st(n,e,"internal-error"),p3(n,new S3(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qoe{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Hct;case"linkViaPopup":case"linkViaRedirect":return Yct;case"reauthViaPopup":case"reauthViaRedirect":return qct;default:va(this.auth,"internal-error")}}resolve(e){su(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){su(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kct=new z0(2e3,1e4);async function Jct(t,e,n){const r=Hs(t);Ib(t,e,mh);const s=bg(r,n);return new Vd(r,"signInViaPopup",e,s).executeNotNull()}async function Qct(t,e,n){const r=sn(t);Ib(r.auth,e,mh);const s=bg(r.auth,n);return new Vd(r.auth,"reauthViaPopup",e,s,r).executeNotNull()}async function Zct(t,e,n){const r=sn(t);Ib(r.auth,e,mh);const s=bg(r.auth,n);return new Vd(r.auth,"linkViaPopup",e,s,r).executeNotNull()}class Vd extends qoe{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Vd.currentPopupAction&&Vd.currentPopupAction.cancel(),Vd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return st(e,this.auth,"internal-error"),e}async onExecution(){su(this.filter.length===1,"Popup operations only handle one event");const e=H0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Kct.get())};e()}}Vd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xct="pendingRedirect",Pw=new Map;class eut extends qoe{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pw.get(this.auth._key());if(!e){try{const r=await tut(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pw.set(this.auth._key(),e)}return this.bypassAuthState||Pw.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tut(t,e){const n=Koe(e),r=Yoe(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}async function j3(t,e){return Yoe(t)._set(Koe(e),"true")}function nut(){Pw.clear()}function T3(t,e){Pw.set(t._key(),e)}function Yoe(t){return jl(t._redirectPersistence)}function Koe(t){return Cp(Xct,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rut(t,e,n){return sut(t,e,n)}async function sut(t,e,n){const r=Hs(t);Ib(t,e,mh),await r._initializationPromise;const s=bg(r,n);return await j3(s,r),s._openRedirect(r,e,"signInViaRedirect")}function iut(t,e,n){return aut(t,e,n)}async function aut(t,e,n){const r=sn(t);Ib(r.auth,e,mh),await r.auth._initializationPromise;const s=bg(r.auth,n);await j3(s,r.auth);const i=await Joe(r);return s._openRedirect(r.auth,e,"reauthViaRedirect",i)}function out(t,e,n){return lut(t,e,n)}async function lut(t,e,n){const r=sn(t);Ib(r.auth,e,mh),await r.auth._initializationPromise;const s=bg(r.auth,n);await _N(!1,r,e.providerId),await j3(s,r.auth);const i=await Joe(r);return s._openRedirect(r.auth,e,"linkViaRedirect",i)}async function cut(t,e){return await Hs(t)._initializationPromise,TN(t,e,!1)}async function TN(t,e,n=!1){const r=Hs(t),s=bg(r,e),o=await new eut(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function Joe(t){const e=H0(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uut=10*60*1e3;class Qoe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dut(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Zoe(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(pa(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uut&&this.cachedEventUids.clear(),this.cachedEventUids.has(hG(e))}saveEventToCache(e){this.cachedEventUids.add(hG(e)),this.lastProcessedEventTime=Date.now()}}function hG(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Zoe({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dut(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zoe(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xoe(t,e={}){return Js(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hut=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fut=/^https?/;async function mut(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Xoe(t);for(const n of e)try{if(put(n))return}catch{}va(t,"unauthorized-domain")}function put(t){const e=$x(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!fut.test(n))return!1;if(hut.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gut=new z0(3e4,6e4);function fG(){const t=mi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function yut(t){return new Promise((e,n)=>{var r,s,i;function o(){fG(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fG(),n(pa(t,"network-request-failed"))},timeout:gut.get()})}if(!((s=(r=mi().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=mi().gapi)===null||i===void 0)&&i.load)o();else{const l=Coe("iframefcb");return mi()[l]=()=>{gapi.load?o():n(pa(t,"network-request-failed"))},m3(`https://apis.google.com/js/api.js?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw l1=null,e})}let l1=null;function vut(t){return l1=l1||yut(t),l1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const but=new z0(5e3,15e3),_ut="__/auth/iframe",wut="emulator/auth/iframe",xut={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Eut=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sut(t){const e=t.config;st(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?h3(e,wut):`https://${t.config.authDomain}/${_ut}`,r={apiKey:e.apiKey,appName:t.name,v:sm},s=Eut.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Nb(r).slice(1)}`}async function jut(t){const e=await vut(t),n=mi().gapi;return st(n,t,"internal-error"),e.open({where:document.body,url:Sut(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xut,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=pa(t,"network-request-failed"),l=mi().setTimeout(()=>{i(o)},but.get());function c(){mi().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tut={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Cut=500,Aut=600,Nut="_blank",Iut="http://localhost";class mG{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kut(t,e,n,r=Cut,s=Aut){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Tut),{width:r.toString(),height:s.toString(),top:i,left:o}),u=ks().toLowerCase();n&&(l=woe(u)?Nut:n),_oe(u)&&(e=e||Iut,c.scrollbars="yes");const d=Object.entries(c).reduce((m,[p,y])=>`${m}${p}=${y},`,"");if(Zot(u)&&l!=="_self")return Out(e||"",l),new mG(null);const h=window.open(e||"",l,d);st(h,t,"popup-blocked");try{h.focus()}catch{}return new mG(h)}function Out(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rut="__/auth/handler",Put="emulator/auth/handler",Dut=encodeURIComponent("fac");async function qL(t,e,n,r,s,i){st(t.config.authDomain,t,"auth-domain-config-required"),st(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:sm,eventId:s};if(e instanceof mh){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",sat(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(i||{}))o[d]=h}if(e instanceof Rb){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${Dut}=${encodeURIComponent(c)}`:"";return`${Lut(t)}?${Nb(l).slice(1)}${u}`}function Lut({config:t}){return t.emulator?h3(t,Put):`https://${t.authDomain}/${Rut}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="webStorageSupport";class Mut{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wp,this._completeRedirectFn=TN,this._overrideRedirectResult=T3}async _openPopup(e,n,r,s){var i;su((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await qL(e,n,r,$x(),s);return kut(e,o,H0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await qL(e,n,r,$x(),s);return vct(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(su(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await jut(e),r=new Qoe(e);return n.register("authEvent",s=>(st(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zR,{type:zR},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[zR];o!==void 0&&n(!!o),va(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mut(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return joe()||f3()||kb()}}const $ut=Mut;class Fut{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Wu("unexpected MultiFactorSessionType")}}}class C3 extends Fut{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new C3(e)}_finalizeEnroll(e,n,r){return uct(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return Act(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class ele{constructor(){}static assertion(e){return C3._fromCredential(e)}}ele.FACTOR_ID="phone";var pG="@firebase/auth",gG="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vut{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){st(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uut(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function But(t){$f(new sd("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;st(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Toe(t)},u=new ilt(r,s,i,c);return dlt(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$f(new sd("auth-internal",e=>{const n=Hs(e.getProvider("auth").getImmediate());return(r=>new Vut(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ed(pG,gG,Uut(t)),ed(pG,gG,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zut=5*60;Yit("authIdTokenMaxAge");But("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wut=2e3;async function Gut(t,e,n){var r;const{BuildInfo:s}=Hp();su(e.sessionId,"AuthEvent did not contain a session ID");const i=await Jut(e.sessionId),o={};return kb()?o.ibi=s.packageName:W0()?o.apn=s.packageName:va(t,"operation-not-supported-in-this-environment"),s.displayName&&(o.appDisplayName=s.displayName),o.sessionId=i,qL(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function Hut(t){const{BuildInfo:e}=Hp(),n={};kb()?n.iosBundleId=e.packageName:W0()?n.androidPackageName=e.packageName:va(t,"operation-not-supported-in-this-environment"),await Xoe(t,n)}function qut(t){const{cordova:e}=Hp();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let s=null;r?e.plugins.browsertab.openUrl(t):s=e.InAppBrowser.open(t,Qot()?"_blank":"_system","location=yes"),n(s)})})}async function Yut(t,e,n){const{cordova:r}=Hp();let s=()=>{};try{await new Promise((i,o)=>{let l=null;function c(){var h;i();const m=(h=r.plugins.browsertab)===null||h===void 0?void 0:h.close;typeof m=="function"&&m(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function u(){l||(l=window.setTimeout(()=>{o(pa(t,"redirect-cancelled-by-user"))},Wut))}function d(){(document==null?void 0:document.visibilityState)==="visible"&&u()}e.addPassiveListener(c),document.addEventListener("resume",u,!1),W0()&&document.addEventListener("visibilitychange",d,!1),s=()=>{e.removePassiveListener(c),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",d,!1),l&&window.clearTimeout(l)}})}finally{s()}}function Kut(t){var e,n,r,s,i,o,l,c,u,d;const h=Hp();st(typeof((e=h==null?void 0:h.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),st(typeof((n=h==null?void 0:h.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),st(typeof((i=(s=(r=h==null?void 0:h.cordova)===null||r===void 0?void 0:r.plugins)===null||s===void 0?void 0:s.browsertab)===null||i===void 0?void 0:i.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),st(typeof((c=(l=(o=h==null?void 0:h.cordova)===null||o===void 0?void 0:o.plugins)===null||l===void 0?void 0:l.browsertab)===null||c===void 0?void 0:c.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),st(typeof((d=(u=h==null?void 0:h.cordova)===null||u===void 0?void 0:u.InAppBrowser)===null||d===void 0?void 0:d.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function Jut(t){const e=Qut(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}function Qut(t){if(su(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zut=20;class Xut extends Qoe{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function edt(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:rdt(),postBody:null,tenantId:t.tenantId,error:pa(t,"no-auth-event")}}function tdt(t,e){return YL()._set(KL(t),e)}async function yG(t){const e=await YL()._get(KL(t));return e&&await YL()._remove(KL(t)),e}function ndt(t,e){var n,r;const s=idt(e);if(s.includes("/__/auth/callback")){const i=c1(s),o=i.firebaseError?sdt(decodeURIComponent(i.firebaseError)):null,l=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],c=l?pa(l):null;return c?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:c,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:s,postBody:null}}return null}function rdt(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Zut;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function YL(){return jl(w3)}function KL(t){return Cp("authEvent",t.config.apiKey,t.name)}function sdt(t){try{return JSON.parse(t)}catch{return null}}function idt(t){const e=c1(t),n=e.link?decodeURIComponent(e.link):void 0,r=c1(n).link,s=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return c1(s).link||s||r||n||t}function c1(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Zy(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const adt=500;class odt{constructor(){this._redirectPersistence=Wp,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=TN,this._overrideRedirectResult=T3}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new Xut(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){va(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,s){Kut(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),nut(),await this._originValidation(e);const o=edt(e,r,s);await tdt(e,o);const l=await Gut(e,o,n),c=await qut(l);return Yut(e,i,c)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Hut(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:s,BuildInfo:i}=Hp(),o=setTimeout(async()=>{await yG(e),n.onEvent(vG())},adt),l=async d=>{clearTimeout(o);const h=await yG(e);let m=null;h&&(d!=null&&d.url)&&(m=ndt(h,d.url)),n.onEvent(m||vG())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,l);const c=s,u=`${i.packageName.toLowerCase()}://`;Hp().handleOpenURL=async d=>{if(d.toLowerCase().startsWith(u)&&l({url:d}),typeof c=="function")try{c(d)}catch(h){console.error(h)}}}}const ldt=odt;function vG(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:pa("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cdt(t,e){Hs(t)._logFramework(e)}var udt="@firebase/auth-compat",ddt="0.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hdt=1e3;function Dw(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function fdt(){return Dw()==="http:"||Dw()==="https:"}function tle(t=ks()){return!!((Dw()==="file:"||Dw()==="ionic:"||Dw()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function mdt(){return i3()||s3()}function pdt(){return Xae()&&(document==null?void 0:document.documentMode)===11}function gdt(t=ks()){return/Edge\/\d+/.test(t)}function ydt(t=ks()){return pdt()||gdt(t)}function nle(){try{const t=self.localStorage,e=H0();if(t)return t.setItem(e,"1"),t.removeItem(e),ydt()?Dx():!0}catch{return A3()&&Dx()}return!1}function A3(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function WR(){return(fdt()||Zae()||tle())&&!mdt()&&nle()&&!A3()}function rle(){return tle()&&typeof document<"u"}async function vdt(){return rle()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},hdt);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function bdt(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl={LOCAL:"local",NONE:"none",SESSION:"session"},L_=st,sle="persistence";function _dt(t,e){if(L_(Object.values(bl).includes(e),t,"invalid-persistence-type"),i3()){L_(e!==bl.SESSION,t,"unsupported-persistence-type");return}if(s3()){L_(e===bl.NONE,t,"unsupported-persistence-type");return}if(A3()){L_(e===bl.NONE||e===bl.LOCAL&&Dx(),t,"unsupported-persistence-type");return}L_(e===bl.NONE||nle(),t,"unsupported-persistence-type")}async function JL(t){await t._initializationPromise;const e=ile(),n=Cp(sle,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function wdt(t,e){const n=ile();if(!n)return[];const r=Cp(sle,t,e);switch(n.getItem(r)){case bl.NONE:return[Yv];case bl.LOCAL:return[zx,Wp];case bl.SESSION:return[Wp];default:return[]}}function ile(){var t;try{return((t=bdt())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xdt=st;class df{constructor(){this.browserResolver=jl($ut),this.cordovaResolver=jl(ldt),this.underlyingResolver=null,this._redirectPersistence=Wp,this._completeRedirectFn=TN,this._overrideRedirectResult=T3}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,s)}async _openRedirect(e,n,r,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,s)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return rle()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return xdt(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await vdt();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ale(t){return t.unwrap()}function Edt(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sdt(t){return ole(t)}function jdt(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const s=e;s.resolver=new Tdt(t,lct(t,e))}else if(r){const s=ole(e),i=e;s&&(i.credential=s,i.tenantId=r.tenantId||void 0,i.email=r.email||void 0,i.phoneNumber=r.phoneNumber||void 0)}}function ole(t){const{_tokenResponse:e}=t instanceof so?t.customData:t;if(!e)return null;if(!(t instanceof so)&&"temporaryProof"in e&&"phoneNumber"in e)return Gp.credentialFromResult(t);const n=e.providerId;if(!n||n===D_.PASSWORD)return null;let r;switch(n){case D_.GOOGLE:r=$u;break;case D_.FACEBOOK:r=Mu;break;case D_.GITHUB:r=Fu;break;case D_.TWITTER:r=Vu;break;default:const{oauthIdToken:s,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:l,nonce:c}=e;return!i&&!o&&!s&&!l?null:l?n.startsWith("saml.")?Kv._create(n,l):id._fromParams({providerId:n,signInMethod:n,pendingToken:l,idToken:s,accessToken:i}):new wv(n).credential({idToken:s,accessToken:i,rawNonce:c})}return t instanceof so?r.credentialFromError(t):r.credentialFromResult(t)}function Io(t,e){return e.catch(n=>{throw n instanceof so&&jdt(t,n),n}).then(n=>{const r=n.operationType,s=n.user;return{operationType:r,credential:Sdt(n),additionalUserInfo:oct(n),user:CN.getOrCreate(s)}})}async function QL(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Io(t,n.confirm(r))}}class Tdt{constructor(e,n){this.resolver=n,this.auth=Edt(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Io(ale(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CN=class ow{constructor(e){this._delegate=e,this.multiFactor=hct(e)}static getOrCreate(e){return ow.USER_MAP.has(e)||ow.USER_MAP.set(e,new ow(e)),ow.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Io(this.auth,Doe(this._delegate,e))}async linkWithPhoneNumber(e,n){return QL(this.auth,zct(this._delegate,e,n))}async linkWithPopup(e){return Io(this.auth,Zct(this._delegate,e,df))}async linkWithRedirect(e){return await JL(Hs(this.auth)),out(this._delegate,e,df)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Io(this.auth,Loe(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return QL(this.auth,Wct(this._delegate,e,n))}reauthenticateWithPopup(e){return Io(this.auth,Qct(this._delegate,e,df))}async reauthenticateWithRedirect(e){return await JL(Hs(this.auth)),iut(this._delegate,e,df)}sendEmailVerification(e){return Jlt(this._delegate,e)}async unlink(e){return await Llt(this._delegate,e),this}updateEmail(e){return ect(this._delegate,e)}updatePassword(e){return tct(this._delegate,e)}updatePhoneNumber(e){return Gct(this._delegate,e)}updateProfile(e){return Xlt(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return Qlt(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};CN.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=st;class ZL{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;M_(r,"invalid-api-key",{appName:e.name}),M_(r,"invalid-api-key",{appName:e.name});const s=typeof window<"u"?df:void 0;this._delegate=n.initialize({options:{persistence:Cdt(r,e.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(Cot),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?CN.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){hlt(this._delegate,e,n)}applyActionCode(e){return Ult(this._delegate,e)}checkActionCode(e){return Moe(this._delegate,e)}confirmPasswordReset(e,n){return Vlt(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Io(this._delegate,zlt(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Klt(this._delegate,e)}isSignInWithEmailLink(e){return Hlt(this._delegate,e)}async getRedirectResult(){M_(WR(),this._delegate,"operation-not-supported-in-this-environment");const e=await cut(this._delegate,df);return e?Io(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){cdt(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:s,error:i,complete:o}=bG(e,n,r);return this._delegate.onAuthStateChanged(s,i,o)}onIdTokenChanged(e,n,r){const{next:s,error:i,complete:o}=bG(e,n,r);return this._delegate.onIdTokenChanged(s,i,o)}sendSignInLinkToEmail(e,n){return Glt(this._delegate,e,n)}sendPasswordResetEmail(e,n){return Flt(this._delegate,e,n||void 0)}async setPersistence(e){_dt(this._delegate,e);let n;switch(e){case bl.SESSION:n=Wp;break;case bl.LOCAL:n=await jl(zx)._isAvailable()?zx:w3;break;case bl.NONE:n=Yv;break;default:return va("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Io(this._delegate,Dlt(this._delegate))}signInWithCredential(e){return Io(this._delegate,wN(this._delegate,e))}signInWithCustomToken(e){return Io(this._delegate,$lt(this._delegate,e))}signInWithEmailAndPassword(e,n){return Io(this._delegate,Wlt(this._delegate,e,n))}signInWithEmailLink(e,n){return Io(this._delegate,qlt(this._delegate,e,n))}signInWithPhoneNumber(e,n){return QL(this._delegate,Bct(this._delegate,e,n))}async signInWithPopup(e){return M_(WR(),this._delegate,"operation-not-supported-in-this-environment"),Io(this._delegate,Jct(this._delegate,e,df))}async signInWithRedirect(e){return M_(WR(),this._delegate,"operation-not-supported-in-this-environment"),await JL(this._delegate),rut(this._delegate,e,df)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Blt(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}ZL.Persistence=bl;function bG(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const s=r;return{next:o=>s(o&&CN.getOrCreate(o)),error:e,complete:n}}function Cdt(t,e){const n=wdt(t,e);if(typeof self<"u"&&!n.includes(zx)&&n.push(zx),typeof window<"u")for(const r of[w3,Wp])n.includes(r)||n.push(r);return n.includes(Yv)||n.push(Yv),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(){this.providerId="phone",this._delegate=new Gp(ale(B0.auth()))}static credential(e,n){return Gp.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}N3.PHONE_SIGN_IN_METHOD=Gp.PHONE_SIGN_IN_METHOD;N3.PROVIDER_ID=Gp.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Adt=st;class Ndt{constructor(e,n,r=B0.app()){var s;Adt((s=r.options)===null||s===void 0?void 0:s.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new Vct(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Idt="auth-compat";function kdt(t){t.INTERNAL.registerComponent(new sd(Idt,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new ZL(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:vy.EMAIL_SIGNIN,PASSWORD_RESET:vy.PASSWORD_RESET,RECOVER_EMAIL:vy.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:vy.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:vy.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:vy.VERIFY_EMAIL}},EmailAuthProvider:im,FacebookAuthProvider:Mu,GithubAuthProvider:Fu,GoogleAuthProvider:$u,OAuthProvider:wv,SAMLAuthProvider:vC,PhoneAuthProvider:N3,PhoneMultiFactorGenerator:ele,RecaptchaVerifier:Ndt,TwitterAuthProvider:Vu,Auth:ZL,AuthCredential:Ob,Error:so}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(udt,ddt)}kdt(B0);var Odt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wt,I3=I3||{},In=Odt||self;function AN(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function NN(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Rdt(t,e,n){return t.call.apply(t.bind,arguments)}function Pdt(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Pa(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Pa=Rdt:Pa=Pdt,Pa.apply(null,arguments)}function yj(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Hi(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return e.prototype[s].apply(r,o)}}function am(){this.s=this.s,this.o=this.o}var Ddt=0;am.prototype.s=!1;am.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Ddt!=0)};am.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const lle=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function k3(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function _G(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(AN(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Da(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Da.prototype.h=function(){this.defaultPrevented=!0};var Ldt=function(){if(!In.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};In.addEventListener("test",n,e),In.removeEventListener("test",n,e)}catch{}return t}();function Wx(t){return/^[\s\xa0]*$/.test(t)}function IN(){var t=In.navigator;return t&&(t=t.userAgent)?t:""}function Uu(t){return IN().indexOf(t)!=-1}function O3(t){return O3[" "](t),t}O3[" "]=function(){};function Mdt(t,e){var n=Iht;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var $dt=Uu("Opera"),Jv=Uu("Trident")||Uu("MSIE"),cle=Uu("Edge"),XL=cle||Jv,ule=Uu("Gecko")&&!(IN().toLowerCase().indexOf("webkit")!=-1&&!Uu("Edge"))&&!(Uu("Trident")||Uu("MSIE"))&&!Uu("Edge"),Fdt=IN().toLowerCase().indexOf("webkit")!=-1&&!Uu("Edge");function dle(){var t=In.document;return t?t.documentMode:void 0}var eM;e:{var GR="",HR=function(){var t=IN();if(ule)return/rv:([^\);]+)(\)|;)/.exec(t);if(cle)return/Edge\/([\d\.]+)/.exec(t);if(Jv)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Fdt)return/WebKit\/(\S+)/.exec(t);if($dt)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(HR&&(GR=HR?HR[1]:""),Jv){var qR=dle();if(qR!=null&&qR>parseFloat(GR)){eM=String(qR);break e}}eM=GR}var tM;if(In.document&&Jv){var wG=dle();tM=wG||parseInt(eM,10)||void 0}else tM=void 0;var Vdt=tM;function Gx(t,e){if(Da.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ule){e:{try{O3(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Udt[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Gx.$.h.call(this)}}Hi(Gx,Da);var Udt={2:"touch",3:"pen",4:"mouse"};Gx.prototype.h=function(){Gx.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var kN="closure_listenable_"+(1e6*Math.random()|0),Bdt=0;function zdt(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++Bdt,this.fa=this.ia=!1}function ON(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function R3(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Wdt(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function hle(t){const e={};for(const n in t)e[n]=t[n];return e}const xG="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fle(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<xG.length;i++)n=xG[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function RN(t){this.src=t,this.g={},this.h=0}RN.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=rM(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new zdt(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function nM(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=lle(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(ON(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function rM(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var P3="closure_lm_"+(1e6*Math.random()|0),YR={};function mle(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)mle(t,e[i],n,r,s);return null}return n=yle(n),t&&t[kN]?t.O(e,n,NN(r)?!!r.capture:!1,s):Gdt(t,e,n,!1,r,s)}function Gdt(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=NN(s)?!!s.capture:!!s,l=L3(t);if(l||(t[P3]=l=new RN(t)),n=l.add(e,n,r,o,i),n.proxy)return n;if(r=Hdt(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ldt||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(gle(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Hdt(){function t(n){return e.call(t.src,t.listener,n)}const e=qdt;return t}function ple(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)ple(t,e[i],n,r,s);else r=NN(r)?!!r.capture:!!r,n=yle(n),t&&t[kN]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=rM(i,n,r,s),-1<n&&(ON(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=L3(t))&&(e=t.g[e.toString()],t=-1,e&&(t=rM(e,n,r,s)),(n=-1<t?e[t]:null)&&D3(n))}function D3(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[kN])nM(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(gle(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=L3(e))?(nM(n,t),n.h==0&&(n.src=null,e[P3]=null)):ON(t)}}}function gle(t){return t in YR?YR[t]:YR[t]="on"+t}function qdt(t,e){if(t.fa)t=!0;else{e=new Gx(e,this);var n=t.listener,r=t.la||t.src;t.ia&&D3(t),t=n.call(r,e)}return t}function L3(t){return t=t[P3],t instanceof RN?t:null}var KR="__closure_events_fn_"+(1e9*Math.random()>>>0);function yle(t){return typeof t=="function"?t:(t[KR]||(t[KR]=function(e){return t.handleEvent(e)}),t[KR])}function Wi(){am.call(this),this.i=new RN(this),this.S=this,this.J=null}Hi(Wi,am);Wi.prototype[kN]=!0;Wi.prototype.removeEventListener=function(t,e,n,r){ple(this,t,e,n,r)};function ga(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Da(e,t);else if(e instanceof Da)e.target=e.target||t;else{var s=e;e=new Da(r,t),fle(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=vj(o,r,!0,e)&&s}if(o=e.g=t,s=vj(o,r,!0,e)&&s,s=vj(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=vj(o,r,!1,e)&&s}Wi.prototype.N=function(){if(Wi.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ON(n[r]);delete t.g[e],t.h--}}this.J=null};Wi.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Wi.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function vj(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var l=o.listener,c=o.la||o.src;o.ia&&nM(t.i,o),s=l.call(c,r)!==!1&&s}}return s&&!r.defaultPrevented}var M3=In.JSON.stringify;class Ydt{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Kdt(){var t=$3;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Jdt{constructor(){this.h=this.g=null}add(e,n){const r=vle.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var vle=new Ydt(()=>new Qdt,t=>t.reset());class Qdt{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Zdt(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Xdt(t){In.setTimeout(()=>{throw t},0)}let Hx,qx=!1,$3=new Jdt,ble=()=>{const t=In.Promise.resolve(void 0);Hx=()=>{t.then(eht)}};var eht=()=>{for(var t;t=Kdt();){try{t.h.call(t.g)}catch(n){Xdt(n)}var e=vle;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}qx=!1};function PN(t,e){Wi.call(this),this.h=t||1,this.g=e||In,this.j=Pa(this.qb,this),this.l=Date.now()}Hi(PN,Wi);wt=PN.prototype;wt.ga=!1;wt.T=null;wt.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ga(this,"tick"),this.ga&&(F3(this),this.start()))}};wt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function F3(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}wt.N=function(){PN.$.N.call(this),F3(this),delete this.g};function V3(t,e,n){if(typeof t=="function")n&&(t=Pa(t,n));else if(t&&typeof t.handleEvent=="function")t=Pa(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:In.setTimeout(t,e||0)}function _le(t){t.g=V3(()=>{t.g=null,t.i&&(t.i=!1,_le(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class tht extends am{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_le(this)}N(){super.N(),this.g&&(In.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yx(t){am.call(this),this.h=t,this.g={}}Hi(Yx,am);var EG=[];function wle(t,e,n,r){Array.isArray(n)||(n&&(EG[0]=n.toString()),n=EG);for(var s=0;s<n.length;s++){var i=mle(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function xle(t){R3(t.g,function(e,n){this.g.hasOwnProperty(n)&&D3(e)},t),t.g={}}Yx.prototype.N=function(){Yx.$.N.call(this),xle(this)};Yx.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function DN(){this.g=!0}DN.prototype.Ea=function(){this.g=!1};function nht(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",l=i.split("&"),c=0;c<l.length;c++){var u=l[c].split("=");if(1<u.length){var d=u[0];u=u[1];var h=d.split("_");o=2<=h.length&&h[1]=="type"?o+(d+"="+u+"&"):o+(d+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function rht(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function Xy(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+iht(t,n)+(r?" "+r:"")})}function sht(t,e){t.info(function(){return"TIMEOUT: "+e})}DN.prototype.info=function(){};function iht(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return M3(n)}catch{return e}}var _g={},SG=null;function LN(){return SG=SG||new Wi}_g.Ta="serverreachability";function Ele(t){Da.call(this,_g.Ta,t)}Hi(Ele,Da);function Kx(t){const e=LN();ga(e,new Ele(e))}_g.STAT_EVENT="statevent";function Sle(t,e){Da.call(this,_g.STAT_EVENT,t),this.stat=e}Hi(Sle,Da);function to(t){const e=LN();ga(e,new Sle(e,t))}_g.Ua="timingevent";function jle(t,e){Da.call(this,_g.Ua,t),this.size=e}Hi(jle,Da);function Y0(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return In.setTimeout(function(){t()},e)}var MN={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Tle={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function U3(){}U3.prototype.h=null;function jG(t){return t.h||(t.h=t.i())}function Cle(){}var K0={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function B3(){Da.call(this,"d")}Hi(B3,Da);function z3(){Da.call(this,"c")}Hi(z3,Da);var sM;function $N(){}Hi($N,U3);$N.prototype.g=function(){return new XMLHttpRequest};$N.prototype.i=function(){return{}};sM=new $N;function J0(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Yx(this),this.P=aht,t=XL?125:void 0,this.V=new PN(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ale}function Ale(){this.i=null,this.g="",this.h=!1}var aht=45e3,Nle={},iM={};wt=J0.prototype;wt.setTimeout=function(t){this.P=t};function aM(t,e,n){t.L=1,t.A=VN(sh(e)),t.u=n,t.S=!0,Ile(t,null)}function Ile(t,e){t.G=Date.now(),Q0(t),t.B=sh(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),$le(n.i,"t",r),t.o=0,n=t.l.J,t.h=new Ale,t.g=ice(t.l,n?e:null,!t.u),0<t.O&&(t.M=new tht(Pa(t.Pa,t,t.g),t.O)),wle(t.U,t.g,"readystatechange",t.nb),e=t.I?hle(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Kx(),nht(t.j,t.v,t.B,t.m,t.W,t.u)}wt.nb=function(t){t=t.target;const e=this.M;e&&Gu(t)==3?e.l():this.Pa(t)};wt.Pa=function(t){try{if(t==this.g)e:{const d=Gu(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>d)&&(d!=3||XL||this.g&&(this.h.h||this.g.ja()||NG(this.g)))){this.J||d!=4||e==7||(e==8||0>=h?Kx(3):Kx(2)),FN(this);var n=this.g.da();this.ca=n;t:if(kle(this)){var r=NG(this.g);t="";var s=r.length,i=Gu(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pp(this),Lw(this);var o="";break t}this.h.i=new In.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,rht(this.j,this.v,this.B,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wx(l)){var u=l;break t}}u=null}if(n=u)Xy(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oM(this,n);else{this.i=!1,this.s=3,to(12),pp(this),Lw(this);break e}}this.S?(Ole(this,d,o),XL&&this.i&&d==3&&(wle(this.U,this.V,"tick",this.mb),this.V.start())):(Xy(this.j,this.m,o,null),oM(this,o)),d==4&&pp(this),this.i&&!this.J&&(d==4?tce(this.l,this):(this.i=!1,Q0(this)))}else Cht(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,to(12)):(this.s=0,to(13)),pp(this),Lw(this)}}}catch{}finally{}};function kle(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function Ole(t,e,n){let r=!0,s;for(;!t.J&&t.o<n.length;)if(s=oht(t,n),s==iM){e==4&&(t.s=4,to(14),r=!1),Xy(t.j,t.m,null,"[Incomplete Response]");break}else if(s==Nle){t.s=4,to(15),Xy(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Xy(t.j,t.m,s,null),oM(t,s);kle(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,to(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),K3(e),e.M=!0,to(11))):(Xy(t.j,t.m,n,"[Invalid Chunked Response]"),pp(t),Lw(t))}wt.mb=function(){if(this.g){var t=Gu(this.g),e=this.g.ja();this.o<e.length&&(FN(this),Ole(this,t,e),this.i&&t!=4&&Q0(this))}};function oht(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?iM:(n=Number(e.substring(n,r)),isNaN(n)?Nle:(r+=1,r+n>e.length?iM:(e=e.slice(r,r+n),t.o=r+n,e)))}wt.cancel=function(){this.J=!0,pp(this)};function Q0(t){t.Y=Date.now()+t.P,Rle(t,t.P)}function Rle(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Y0(Pa(t.lb,t),e)}function FN(t){t.C&&(In.clearTimeout(t.C),t.C=null)}wt.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(sht(this.j,this.B),this.L!=2&&(Kx(),to(17)),pp(this),this.s=2,Lw(this)):Rle(this,this.Y-t)};function Lw(t){t.l.H==0||t.J||tce(t.l,t)}function pp(t){FN(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,F3(t.V),xle(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function oM(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||lM(n.i,t))){if(!t.K&&lM(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)SC(n),WN(n);else break e;Y3(n),to(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Y0(Pa(n.ib,n),6e3));if(1>=Ule(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else gp(n,11)}else if((t.K||n.g==t)&&SC(n),!Wx(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const d=u[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const m=u[5];m!=null&&typeof m=="number"&&0<m&&(r=1.5*m,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const y=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var i=r.i;i.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(W3(i,i.h),i.h=null))}if(r.F){const w=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,ns(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=sce(r,r.J?r.pa:null,r.Y),o.K){Ble(r.i,o);var l=o,c=r.L;c&&l.setTimeout(c),l.C&&(FN(l),Q0(l)),r.g=o}else Xle(r);0<n.j.length&&GN(n)}else u[0]!="stop"&&u[0]!="close"||gp(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?gp(n,7):q3(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Kx(4)}catch{}}function lht(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(AN(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function cht(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(AN(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Ple(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(AN(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=cht(t),r=lht(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var Dle=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uht(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Np(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Np){this.h=t.h,xC(this,t.j),this.s=t.s,this.g=t.g,EC(this,t.m),this.l=t.l;var e=t.i,n=new Jx;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),TG(this,n),this.o=t.o}else t&&(e=String(t).match(Dle))?(this.h=!1,xC(this,e[1]||"",!0),this.s=lw(e[2]||""),this.g=lw(e[3]||"",!0),EC(this,e[4]),this.l=lw(e[5]||"",!0),TG(this,e[6]||"",!0),this.o=lw(e[7]||"")):(this.h=!1,this.i=new Jx(null,this.h))}Np.prototype.toString=function(){var t=[],e=this.j;e&&t.push(cw(e,CG,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(cw(e,CG,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(cw(n,n.charAt(0)=="/"?fht:hht,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",cw(n,pht)),t.join("")};function sh(t){return new Np(t)}function xC(t,e,n){t.j=n?lw(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function EC(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function TG(t,e,n){e instanceof Jx?(t.i=e,ght(t.i,t.h)):(n||(e=cw(e,mht)),t.i=new Jx(e,t.h))}function ns(t,e,n){t.i.set(e,n)}function VN(t){return ns(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function lw(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function cw(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,dht),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function dht(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var CG=/[#\/\?@]/g,hht=/[#\?:]/g,fht=/[#\?]/g,mht=/[#\?@]/g,pht=/#/g;function Jx(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function om(t){t.g||(t.g=new Map,t.h=0,t.i&&uht(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}wt=Jx.prototype;wt.add=function(t,e){om(this),this.i=null,t=Pb(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Lle(t,e){om(t),e=Pb(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Mle(t,e){return om(t),e=Pb(t,e),t.g.has(e)}wt.forEach=function(t,e){om(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};wt.ta=function(){om(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};wt.Z=function(t){om(this);let e=[];if(typeof t=="string")Mle(this,t)&&(e=e.concat(this.g.get(Pb(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};wt.set=function(t,e){return om(this),this.i=null,t=Pb(this,t),Mle(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};wt.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function $le(t,e,n){Lle(t,e),0<n.length&&(t.i=null,t.g.set(Pb(t,e),k3(n)),t.h+=n.length)}wt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function Pb(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function ght(t,e){e&&!t.j&&(om(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(Lle(this,r),$le(this,s,n))},t)),t.j=e}var yht=class{constructor(t,e){this.g=t,this.map=e}};function Fle(t){this.l=t||vht,In.PerformanceNavigationTiming?(t=In.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(In.g&&In.g.Ka&&In.g.Ka()&&In.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var vht=10;function Vle(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Ule(t){return t.h?1:t.g?t.g.size:0}function lM(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function W3(t,e){t.g?t.g.add(e):t.h=e}function Ble(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Fle.prototype.cancel=function(){if(this.i=zle(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function zle(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return k3(t.i)}var bht=class{stringify(t){return In.JSON.stringify(t,void 0)}parse(t){return In.JSON.parse(t,void 0)}};function _ht(){this.g=new bht}function wht(t,e,n){const r=n||"";try{Ple(t,function(s,i){let o=s;NN(s)&&(o=M3(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function xht(t,e){const n=new DN;if(In.Image){const r=new Image;r.onload=yj(bj,n,r,"TestLoadImage: loaded",!0,e),r.onerror=yj(bj,n,r,"TestLoadImage: error",!1,e),r.onabort=yj(bj,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=yj(bj,n,r,"TestLoadImage: timeout",!1,e),In.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function bj(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function UN(t){this.l=t.ec||null,this.j=t.ob||!1}Hi(UN,U3);UN.prototype.g=function(){return new BN(this.l,this.j)};UN.prototype.i=function(t){return function(){return t}}({});function BN(t,e){Wi.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=G3,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Hi(BN,Wi);var G3=0;wt=BN.prototype;wt.open=function(t,e){if(this.readyState!=G3)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Qx(this)};wt.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||In).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};wt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Z0(this)),this.readyState=G3};wt.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Qx(this)),this.g&&(this.readyState=3,Qx(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof In.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Wle(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Wle(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}wt.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Z0(this):Qx(this),this.readyState==3&&Wle(this)}};wt.Za=function(t){this.g&&(this.response=this.responseText=t,Z0(this))};wt.Ya=function(t){this.g&&(this.response=t,Z0(this))};wt.ka=function(){this.g&&Z0(this)};function Z0(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Qx(t)}wt.setRequestHeader=function(t,e){this.v.append(t,e)};wt.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};wt.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Qx(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(BN.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Eht=In.JSON.parse;function qs(t){Wi.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Gle,this.L=this.M=!1}Hi(qs,Wi);var Gle="",Sht=/^https?$/i,jht=["POST","PUT"];wt=qs.prototype;wt.Oa=function(t){this.M=t};wt.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():sM.g(),this.C=this.u?jG(this.u):jG(sM),this.g.onreadystatechange=Pa(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){AG(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=In.FormData&&t instanceof In.FormData,!(0<=lle(jht,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Yle(this),0<this.B&&((this.L=Tht(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pa(this.ua,this)):this.A=V3(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){AG(this,i)}};function Tht(t){return Jv&&typeof t.timeout=="number"&&t.ontimeout!==void 0}wt.ua=function(){typeof I3<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ga(this,"timeout"),this.abort(8))};function AG(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Hle(t),zN(t)}function Hle(t){t.F||(t.F=!0,ga(t,"complete"),ga(t,"error"))}wt.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ga(this,"complete"),ga(this,"abort"),zN(this))};wt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zN(this,!0)),qs.$.N.call(this)};wt.La=function(){this.s||(this.G||this.v||this.l?qle(this):this.kb())};wt.kb=function(){qle(this)};function qle(t){if(t.h&&typeof I3<"u"&&(!t.C[1]||Gu(t)!=4||t.da()!=2)){if(t.v&&Gu(t)==4)V3(t.La,0,t);else if(ga(t,"readystatechange"),Gu(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(Dle)[1]||null;!s&&In.self&&In.self.location&&(s=In.self.location.protocol.slice(0,-1)),r=!Sht.test(s?s.toLowerCase():"")}n=r}if(n)ga(t,"complete"),ga(t,"success");else{t.m=6;try{var i=2<Gu(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",Hle(t)}}finally{zN(t)}}}}function zN(t,e){if(t.g){Yle(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ga(t,"ready");try{n.onreadystatechange=r}catch{}}}function Yle(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(In.clearTimeout(t.A),t.A=null)}wt.isActive=function(){return!!this.g};function Gu(t){return t.g?t.g.readyState:0}wt.da=function(){try{return 2<Gu(this)?this.g.status:-1}catch{return-1}};wt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};wt.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Eht(e)}};function NG(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Gle:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Cht(t){const e={};t=(t.g&&2<=Gu(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Wx(t[r]))continue;var n=Zdt(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}Wdt(e,function(r){return r.join(", ")})}wt.Ia=function(){return this.m};wt.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Kle(t){let e="";return R3(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function H3(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Kle(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ns(t,e,n))}function $_(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Jle(t){this.Ga=0,this.j=[],this.l=new DN,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$_("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$_("baseRetryDelayMs",5e3,t),this.hb=$_("retryDelaySeedMs",1e4,t),this.eb=$_("forwardChannelMaxRetries",2,t),this.xa=$_("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Fle(t&&t.concurrentRequestLimit),this.Ja=new _ht,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}wt=Jle.prototype;wt.ra=8;wt.H=1;function q3(t){if(Qle(t),t.H==3){var e=t.W++,n=sh(t.I);if(ns(n,"SID",t.K),ns(n,"RID",e),ns(n,"TYPE","terminate"),X0(t,n),e=new J0(t,t.l,e),e.L=2,e.A=VN(sh(n)),n=!1,In.navigator&&In.navigator.sendBeacon)try{n=In.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&In.Image&&(new Image().src=e.A,n=!0),n||(e.g=ice(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Q0(e)}rce(t)}function WN(t){t.g&&(K3(t),t.g.cancel(),t.g=null)}function Qle(t){WN(t),t.u&&(In.clearTimeout(t.u),t.u=null),SC(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&In.clearTimeout(t.m),t.m=null)}function GN(t){if(!Vle(t.i)&&!t.m){t.m=!0;var e=t.Na;Hx||ble(),qx||(Hx(),qx=!0),$3.add(e,t),t.C=0}}function Aht(t,e){return Ule(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Y0(Pa(t.Na,t,e),nce(t,t.C)),t.C++,!0)}wt.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new J0(this,this.l,t);let i=this.s;if(this.U&&(i?(i=hle(i),fle(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Zle(this,s,e),n=sh(this.I),ns(n,"RID",t),ns(n,"CVER",22),this.F&&ns(n,"X-HTTP-Session-Id",this.F),X0(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(Kle(i)))+"&"+e:this.o&&H3(n,this.o,i)),W3(this.i,s),this.bb&&ns(n,"TYPE","init"),this.P?(ns(n,"$req",e),ns(n,"SID","null"),s.aa=!0,aM(s,n,null)):aM(s,n,e),this.H=2}}else this.H==3&&(t?IG(this,t):this.j.length==0||Vle(this.i)||IG(this))};function IG(t,e){var n;e?n=e.m:n=t.W++;const r=sh(t.I);ns(r,"SID",t.K),ns(r,"RID",n),ns(r,"AID",t.V),X0(t,r),t.o&&t.s&&H3(r,t.o,t.s),n=new J0(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Zle(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),W3(t.i,n),aM(n,r,e)}function X0(t,e){t.na&&R3(t.na,function(n,r){ns(e,r,n)}),t.h&&Ple({},function(n,r){ns(e,r,n)})}function Zle(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Pa(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let l=!0;for(let c=0;c<n;c++){let u=s[c].g;const d=s[c].map;if(u-=i,0>u)i=Math.max(0,s[c].g-100),l=!1;else try{wht(d,o,"req"+u+"_")}catch{r&&r(d)}}if(l){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Xle(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Hx||ble(),qx||(Hx(),qx=!0),$3.add(e,t),t.A=0}}function Y3(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Y0(Pa(t.Ma,t),nce(t,t.A)),t.A++,!0)}wt.Ma=function(){if(this.u=null,ece(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Y0(Pa(this.jb,this),t)}};wt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,to(10),WN(this),ece(this))};function K3(t){t.B!=null&&(In.clearTimeout(t.B),t.B=null)}function ece(t){t.g=new J0(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=sh(t.wa);ns(e,"RID","rpc"),ns(e,"SID",t.K),ns(e,"AID",t.V),ns(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ns(e,"TO",t.qa),ns(e,"TYPE","xmlhttp"),X0(t,e),t.o&&t.s&&H3(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=VN(sh(e)),n.u=null,n.S=!0,Ile(n,t)}wt.ib=function(){this.v!=null&&(this.v=null,WN(this),Y3(this),to(19))};function SC(t){t.v!=null&&(In.clearTimeout(t.v),t.v=null)}function tce(t,e){var n=null;if(t.g==e){SC(t),K3(t),t.g=null;var r=2}else if(lM(t.i,e))n=e.F,Ble(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;r=LN(),ga(r,new jle(r,n)),GN(t)}else Xle(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&Aht(t,e)||r==2&&Y3(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:gp(t,5);break;case 4:gp(t,10);break;case 3:gp(t,6);break;default:gp(t,2)}}}function nce(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function gp(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Pa(t.pb,t);n||(n=new Np("//www.google.com/images/cleardot.gif"),In.location&&In.location.protocol=="http"||xC(n,"https"),VN(n)),xht(n.toString(),r)}else to(2);t.H=0,t.h&&t.h.za(e),rce(t),Qle(t)}wt.pb=function(t){t?(this.l.info("Successfully pinged google.com"),to(2)):(this.l.info("Failed to ping google.com"),to(1))};function rce(t){if(t.H=0,t.ma=[],t.h){const e=zle(t.i);(e.length!=0||t.j.length!=0)&&(_G(t.ma,e),_G(t.ma,t.j),t.i.i.length=0,k3(t.j),t.j.length=0),t.h.ya()}}function sce(t,e,n){var r=n instanceof Np?sh(n):new Np(n);if(r.g!="")e&&(r.g=e+"."+r.g),EC(r,r.m);else{var s=In.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Np(null);r&&xC(i,r),e&&(i.g=e),s&&EC(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&ns(r,n,e),ns(r,"VER",t.ra),X0(t,r),r}function ice(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new qs(new UN({ob:n})):new qs(t.va),e.Oa(t.J),e}wt.isActive=function(){return!!this.h&&this.h.isActive(this)};function ace(){}wt=ace.prototype;wt.Ba=function(){};wt.Aa=function(){};wt.za=function(){};wt.ya=function(){};wt.isActive=function(){return!0};wt.Va=function(){};function jC(){if(Jv&&!(10<=Number(Vdt)))throw Error("Environmental error: no available transport.")}jC.prototype.g=function(t,e){return new Pl(t,e)};function Pl(t,e){Wi.call(this),this.g=new Jle(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Wx(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Wx(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Db(this)}Hi(Pl,Wi);Pl.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;to(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=sce(t,null,t.Y),GN(t)};Pl.prototype.close=function(){q3(this.g)};Pl.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=M3(t),t=n);e.j.push(new yht(e.fb++,t)),e.H==3&&GN(e)};Pl.prototype.N=function(){this.g.h=null,delete this.j,q3(this.g),delete this.g,Pl.$.N.call(this)};function oce(t){B3.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Hi(oce,B3);function lce(){z3.call(this),this.status=1}Hi(lce,z3);function Db(t){this.g=t}Hi(Db,ace);Db.prototype.Ba=function(){ga(this.g,"a")};Db.prototype.Aa=function(t){ga(this.g,new oce(t))};Db.prototype.za=function(t){ga(this.g,new lce)};Db.prototype.ya=function(){ga(this.g,"b")};function Nht(){this.blockSize=-1}function iu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Hi(iu,Nht);iu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function JR(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}iu.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)JR(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){JR(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){JR(this,r),s=0;break}}this.h=s,this.i+=e};iu.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Dr(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var Iht={};function J3(t){return-128<=t&&128>t?Mdt(t,function(e){return new Dr([e|0],0>e?-1:0)}):new Dr([t|0],0>t?-1:0)}function Hu(t){if(isNaN(t)||!isFinite(t))return Ev;if(0>t)return ha(Hu(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=cM;return new Dr(e,0)}function cce(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return ha(cce(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Hu(Math.pow(e,8)),r=Ev,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=Hu(Math.pow(e,i)),r=r.R(i).add(Hu(o))):(r=r.R(n),r=r.add(Hu(o)))}return r}var cM=4294967296,Ev=J3(0),uM=J3(1),kG=J3(16777216);wt=Dr.prototype;wt.ea=function(){if(hc(this))return-ha(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:cM+r)*e,e*=cM}return t};wt.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ud(this))return"0";if(hc(this))return"-"+ha(this).toString(t);for(var e=Hu(Math.pow(t,6)),n=this,r="";;){var s=CC(n,e).g;n=TC(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Ud(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};wt.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ud(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function hc(t){return t.h==-1}wt.X=function(t){return t=TC(this,t),hc(t)?-1:Ud(t)?0:1};function ha(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Dr(n,~t.h).add(uM)}wt.abs=function(){return hc(this)?ha(this):this};wt.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new Dr(n,n[n.length-1]&-2147483648?-1:0)};function TC(t,e){return t.add(ha(e))}wt.R=function(t){if(Ud(this)||Ud(t))return Ev;if(hc(this))return hc(t)?ha(this).R(ha(t)):ha(ha(this).R(t));if(hc(t))return ha(this.R(ha(t)));if(0>this.X(kG)&&0>t.X(kG))return Hu(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,l=t.D(s)>>>16,c=t.D(s)&65535;n[2*r+2*s]+=o*c,_j(n,2*r+2*s),n[2*r+2*s+1]+=i*c,_j(n,2*r+2*s+1),n[2*r+2*s+1]+=o*l,_j(n,2*r+2*s+1),n[2*r+2*s+2]+=i*l,_j(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Dr(n,0)};function _j(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function F_(t,e){this.g=t,this.h=e}function CC(t,e){if(Ud(e))throw Error("division by zero");if(Ud(t))return new F_(Ev,Ev);if(hc(t))return e=CC(ha(t),e),new F_(ha(e.g),ha(e.h));if(hc(e))return e=CC(t,ha(e)),new F_(ha(e.g),e.h);if(30<t.g.length){if(hc(t)||hc(e))throw Error("slowDivide_ only works with positive integers.");for(var n=uM,r=e;0>=r.X(t);)n=OG(n),r=OG(r);var s=by(n,1),i=by(r,1);for(r=by(r,2),n=by(n,2);!Ud(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=by(r,1),n=by(n,1)}return e=TC(t,s.R(e)),new F_(s,e)}for(s=Ev;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Hu(n),o=i.R(e);hc(o)||0<o.X(t);)n-=r,i=Hu(n),o=i.R(e);Ud(i)&&(i=uM),s=s.add(i),t=TC(t,o)}return new F_(s,t)}wt.gb=function(t){return CC(this,t).h};wt.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Dr(n,this.h&t.h)};wt.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Dr(n,this.h|t.h)};wt.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Dr(n,this.h^t.h)};function OG(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Dr(n,t.h)}function by(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new Dr(s,t.h)}jC.prototype.createWebChannel=jC.prototype.g;Pl.prototype.send=Pl.prototype.u;Pl.prototype.open=Pl.prototype.m;Pl.prototype.close=Pl.prototype.close;MN.NO_ERROR=0;MN.TIMEOUT=8;MN.HTTP_ERROR=6;Tle.COMPLETE="complete";Cle.EventType=K0;K0.OPEN="a";K0.CLOSE="b";K0.ERROR="c";K0.MESSAGE="d";Wi.prototype.listen=Wi.prototype.O;qs.prototype.listenOnce=qs.prototype.P;qs.prototype.getLastError=qs.prototype.Sa;qs.prototype.getLastErrorCode=qs.prototype.Ia;qs.prototype.getStatus=qs.prototype.da;qs.prototype.getResponseJson=qs.prototype.Wa;qs.prototype.getResponseText=qs.prototype.ja;qs.prototype.send=qs.prototype.ha;qs.prototype.setWithCredentials=qs.prototype.Oa;iu.prototype.digest=iu.prototype.l;iu.prototype.reset=iu.prototype.reset;iu.prototype.update=iu.prototype.j;Dr.prototype.add=Dr.prototype.add;Dr.prototype.multiply=Dr.prototype.R;Dr.prototype.modulo=Dr.prototype.gb;Dr.prototype.compare=Dr.prototype.X;Dr.prototype.toNumber=Dr.prototype.ea;Dr.prototype.toString=Dr.prototype.toString;Dr.prototype.getBits=Dr.prototype.D;Dr.fromNumber=Hu;Dr.fromString=cce;var kht=function(){return new jC},Oht=function(){return LN()},QR=MN,Rht=Tle,Pht=_g,RG={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},wj=Cle,Dht=qs,Lht=iu,Sv=Dr,Mht={};const PG="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fi.UNAUTHENTICATED=new Fi(null),Fi.GOOGLE_CREDENTIALS=new Fi("google-credentials-uid"),Fi.FIRST_PARTY=new Fi("first-party-uid"),Fi.MOCK_USER=new Fi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lb="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff=new gN("@firebase/firestore");function Iy(){return Ff.logLevel}function $ht(t){Ff.setLogLevel(t)}function Ke(t,...e){if(Ff.logLevel<=rr.DEBUG){const n=e.map(Q3);Ff.debug(`Firestore (${Lb}): ${t}`,...n)}}function ii(t,...e){if(Ff.logLevel<=rr.ERROR){const n=e.map(Q3);Ff.error(`Firestore (${Lb}): ${t}`,...n)}}function au(t,...e){if(Ff.logLevel<=rr.WARN){const n=e.map(Q3);Ff.warn(`Firestore (${Lb}): ${t}`,...n)}}function Q3(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t="Unexpected state"){const e=`FIRESTORE (${Lb}) INTERNAL ASSERTION FAILED: `+t;throw ii(e),new Error(e)}function Vt(t,e){t||Nt()}function Fht(t,e){t||Nt()}function _t(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class He extends so{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uce{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vht{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Fi.UNAUTHENTICATED))}shutdown(){}}class Uht{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Bht{constructor(e){this.t=e,this.currentUser=Fi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Bi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Bi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Bi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Vt(typeof r.accessToken=="string"),new uce(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Vt(e===null||typeof e=="string"),new Fi(e)}}class zht{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Fi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Wht{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new zht(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Fi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ght{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hht{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Ke("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Vt(typeof n.token=="string"),this.R=n.token,new Ght(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qht(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dce{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=qht(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Dn(t,e){return t<e?-1:t>e?1:0}function Qv(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}function hce(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new He(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new He(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new He(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new He(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gs.fromMillis(Date.now())}static fromDate(e){return gs.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new gs(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Dn(this.nanoseconds,e.nanoseconds):Dn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new zt(e)}static min(){return new zt(new gs(0,0))}static max(){return new zt(new gs(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n,r){n===void 0?n=0:n>e.length&&Nt(),r===void 0?r=e.length-n:r>e.length-n&&Nt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zx.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zx?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class mr extends Zx{construct(e,n,r){return new mr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new He(Ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new mr(n)}static emptyPath(){return new mr([])}}const Yht=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ms extends Zx{construct(e,n,r){return new ms(e,n,r)}static isValidIdentifier(e){return Yht.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ms.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ms(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new He(Ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new He(Ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new He(Ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new He(Ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ms(n)}static emptyPath(){return new ms([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.path=e}static fromPath(e){return new mt(mr.fromString(e))}static fromName(e){return new mt(mr.fromString(e).popFirst(5))}static empty(){return new mt(mr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new mr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function dM(t){return t.fields.find(e=>e.kind===2)}function Zm(t){return t.fields.filter(e=>e.kind!==2)}AC.UNKNOWN_ID=-1;class u1{constructor(e,n){this.fieldPath=e,this.kind=n}}class Xx{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Xx(0,Dl.min())}}function fce(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=zt.fromTimestamp(r===1e9?new gs(n+1,0):new gs(n,r));return new Dl(s,mt.empty(),e)}function mce(t){return new Dl(t.readTime,t.key,-1)}class Dl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Dl(zt.min(),mt.empty(),-1)}static max(){return new Dl(zt.max(),mt.empty(),-1)}}function Z3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=mt.comparator(t.documentKey,e.documentKey),n!==0?n:Dn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pce="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gce{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lm(t){if(t.code!==Ne.FAILED_PRECONDITION||t.message!==pce)throw t;Ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new je((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof je?n:je.resolve(n)}catch(n){return je.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):je.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):je.reject(n)}static resolve(e){return new je((n,r)=>{n(e)})}static reject(e){return new je((n,r)=>{r(e)})}static waitFor(e){return new je((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=je.resolve(!1);for(const r of e)n=n.next(s=>s?je.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new je((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++l,l===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new je((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Bi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Mw(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=X3(r.target.error);this.V.reject(new Mw(e,s))}}static open(e,n,r,s){try{return new HN(n,e.transaction(s,r))}catch(i){throw new Mw(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Jht(n)}}class Jc{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Jc.S(ks())===12.2&&ii("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ke("SimpleDb","Removing database:",e),rp(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Dx())return!1;if(Jc.C())return!0;const e=ks(),n=Jc.S(e),r=0<n&&n<10,s=Jc.v(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static C(){var e;return typeof process<"u"&&((e=Mht)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(Ke("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new Mw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new He(Ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new He(Ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Mw(e,o))},s.onupgradeneeded=i=>{Ke("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.p.N(o,s.transaction,i.oldVersion,this.version).next(()=>{Ke("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const l=HN.open(this.db,e,i?"readonly":"readwrite",r),c=s(l).next(u=>(l.g(),u)).catch(u=>(l.abort(u),je.reject(u))).toPromise();return c.catch(()=>{}),await l.m,c}catch(l){const c=l,u=c.name!=="FirebaseError"&&o<3;if(Ke("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Kht{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return rp(this.k.delete())}}class Mw extends He{constructor(e,n){super(Ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function cm(t){return t.name==="IndexedDbTransactionError"}class Jht{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Ke("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),rp(r)}add(e){return Ke("SimpleDb","ADD",this.store.name,e,e),rp(this.store.add(e))}get(e){return rp(this.store.get(e)).next(n=>(n===void 0&&(n=null),Ke("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Ke("SimpleDb","DELETE",this.store.name,e),rp(this.store.delete(e))}count(){return Ke("SimpleDb","COUNT",this.store.name),rp(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const s=this.cursor(r),i=[];return this.G(s,(o,l)=>{i.push(l)}).next(()=>i)}{const s=this.store.getAll(r.range);return new je((i,o)=>{s.onerror=l=>{o(l.target.error)},s.onsuccess=l=>{i(l.target.result)}})}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new je((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}H(e,n){Ke("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const s=this.cursor(r);return this.G(s,(i,o,l)=>l.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.G(s,n)}Z(e){const n=this.cursor({});return new je((r,s)=>{n.onerror=i=>{const o=X3(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(l=>{l?o.continue():r()}):r()}})}G(e,n){const r=[];return new je((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const l=o.target.result;if(!l)return void s();const c=new Kht(l),u=n(l.primaryKey,l.value,c);if(u instanceof je){const d=u.catch(h=>(c.done(),je.reject(h)));r.push(d)}c.isDone?s():c.$===null?l.continue():l.continue(c.$)}}).next(()=>je.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function rp(t){return new je((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=X3(r.target.error);n(s)}})}let DG=!1;function X3(t){const e=Jc.S(ks());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new He("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return DG||(DG=!0,setTimeout(()=>{throw r},0)),r}}return t}class Qht{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){Ke("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{Ke("IndexBackiller",`Documents written: ${await this.X.te()}`)}catch(n){cm(n)?Ke("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await lm(n)}await this.ee(6e4)})}}class Zht{constructor(e,n){this.localStore=e,this.persistence=n}async te(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))}ne(e,n){const r=new Set;let s=n,i=!0;return je.doWhile(()=>i===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return Ke("IndexBackiller",`Processing collection: ${o}`),this.re(e,o,s).next(l=>{s-=l,r.add(o)});i=!1})).next(()=>n-s)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next(i=>{const o=i.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(s,i)).next(l=>(Ke("IndexBackiller",`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,n,l))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((s,i)=>{const o=mce(i);Z3(o,r)>0&&(r=o)}),new Dl(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Fo._e=-1;function eE(t){return t==null}function e0(t){return t===0&&1/t==-1/0}function yce(t){return typeof t=="number"&&Number.isInteger(t)&&!e0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=LG(e)),e=Xht(t.get(n),e);return LG(e)}function Xht(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case"":n+="";break;default:n+=i}}return n}function LG(t){return t+""}function qu(t){const e=t.length;if(Vt(e>=2),e===2)return Vt(t.charAt(0)===""&&t.charAt(1)===""),mr.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const o=t.indexOf("",i);switch((o<0||o>n)&&Nt(),t.charAt(o+1)){case"":const l=t.substring(i,o);let c;s.length===0?c=l:(s+=l,c=s,s=""),r.push(c);break;case"":s+=t.substring(i,o),s+="\0";break;case"":s+=t.substring(i,o+1);break;default:Nt()}i=o+2}return new mr(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MG=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(t,e){return[t,io(e)]}function vce(t,e,n){return[t,io(e),n]}const eft={},tft=["prefixPath","collectionGroup","readTime","documentId"],nft=["prefixPath","collectionGroup","documentId"],rft=["collectionGroup","readTime","prefixPath","documentId"],sft=["canonicalId","targetId"],ift=["targetId","path"],aft=["path","targetId"],oft=["collectionId","parent"],lft=["indexId","uid"],cft=["uid","sequenceNumber"],uft=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],dft=["indexId","uid","orderedDocumentKey"],hft=["userId","collectionPath","documentId"],fft=["userId","collectionPath","largestBatchId"],mft=["userId","collectionGroup","largestBatchId"],bce=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],pft=[...bce,"documentOverlays"],_ce=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],wce=_ce,gft=[...wce,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM extends gce{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function qi(t,e){const n=_t(t);return Jc.M(n.ae,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $G(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wg(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xce(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n){this.comparator=e,this.root=n||ua.EMPTY}insert(e,n){return new Jr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ua.BLACK,null,null))}remove(e){return new Jr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ua.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xj(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xj(this.root,e,this.comparator,!1)}getReverseIterator(){return new xj(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xj(this.root,e,this.comparator,!0)}}class xj{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ua{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ua.RED,this.left=s??ua.EMPTY,this.right=i??ua.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ua(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ua.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ua.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ua.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ua.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Nt();const e=this.left.check();if(e!==this.right.check())throw Nt();return e+(this.isRed()?0:1)}}ua.EMPTY=null,ua.RED=!0,ua.BLACK=!1;ua.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt()}get value(){throw Nt()}get color(){throw Nt()}get left(){throw Nt()}get right(){throw Nt()}copy(e,n,r,s,i){return this}insert(e,n,r){return new ua(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.comparator=e,this.data=new Jr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new FG(this.data.getIterator())}getIteratorFrom(e){return new FG(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Vr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vr(this.comparator);return n.data=e,n}}class FG{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _y(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.fields=e,e.sort(ms.comparator)}static empty(){return new Vo([])}unionWith(e){let n=new Vr(ms.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qv(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ece extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yft(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Ece("Invalid base64 string: "+i):i}}(e);return new Ii(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Ii(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ii.EMPTY_BYTE_STRING=new Ii("");const vft=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vf(t){if(Vt(!!t),typeof t=="string"){let e=0;const n=vft.exec(t);if(Vt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bs(t.seconds),nanos:Bs(t.nanos)}}function Bs(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Uf(t){return typeof t=="string"?Ii.fromBase64String(t):Ii.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function eV(t){const e=t.mapValue.fields.__previous_value__;return qN(e)?eV(e):e}function t0(t){const e=Vf(t.mapValue.fields.__local_write_time__.timestampValue);return new gs(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bft{constructor(e,n,r,s,i,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class Bf{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Bf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Bf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},h1={nullValue:"NULL_VALUE"};function qp(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qN(t)?4:Sce(t)?9007199254740991:10:Nt()}function ad(t,e){if(t===e)return!0;const n=qp(t);if(n!==qp(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return t0(t).isEqual(t0(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Vf(s.timestampValue),l=Vf(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Uf(s.bytesValue).isEqual(Uf(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Bs(s.geoPointValue.latitude)===Bs(i.geoPointValue.latitude)&&Bs(s.geoPointValue.longitude)===Bs(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Bs(s.integerValue)===Bs(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Bs(s.doubleValue),l=Bs(i.doubleValue);return o===l?e0(o)===e0(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Qv(t.arrayValue.values||[],e.arrayValue.values||[],ad);case 10:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if($G(o)!==$G(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!ad(o[c],l[c])))return!1;return!0}(t,e);default:return Nt()}}function n0(t,e){return(t.values||[]).find(n=>ad(n,e))!==void 0}function zf(t,e){if(t===e)return 0;const n=qp(t),r=qp(e);if(n!==r)return Dn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dn(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=Bs(i.integerValue||i.doubleValue),c=Bs(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return VG(t.timestampValue,e.timestampValue);case 4:return VG(t0(t),t0(e));case 5:return Dn(t.stringValue,e.stringValue);case 6:return function(i,o){const l=Uf(i),c=Uf(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Dn(l[u],c[u]);if(d!==0)return d}return Dn(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=Dn(Bs(i.latitude),Bs(o.latitude));return l!==0?l:Dn(Bs(i.longitude),Bs(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const l=i.values||[],c=o.values||[];for(let u=0;u<l.length&&u<c.length;++u){const d=zf(l[u],c[u]);if(d)return d}return Dn(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===hf.mapValue&&o===hf.mapValue)return 0;if(i===hf.mapValue)return 1;if(o===hf.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const m=Dn(c[h],d[h]);if(m!==0)return m;const p=zf(l[c[h]],u[d[h]]);if(p!==0)return p}return Dn(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Nt()}}function VG(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Dn(t,e);const n=Vf(t),r=Vf(e),s=Dn(n.seconds,r.seconds);return s!==0?s:Dn(n.nanos,r.nanos)}function Zv(t){return fM(t)}function fM(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Vf(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Uf(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return mt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=fM(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${fM(n.fields[o])}`;return s+"}"}(t.mapValue):Nt()}function Yp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function mM(t){return!!t&&"integerValue"in t}function r0(t){return!!t&&"arrayValue"in t}function UG(t){return!!t&&"nullValue"in t}function BG(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function f1(t){return!!t&&"mapValue"in t}function $w(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return wg(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$w(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$w(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Sce(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function _ft(t){return"nullValue"in t?h1:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Yp(Bf.empty(),mt.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Nt()}function wft(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Yp(Bf.empty(),mt.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?hf:Nt()}function zG(t,e){const n=zf(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function WG(t,e){const n=zf(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.value=e}static empty(){return new fa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!f1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$w(n)}setAll(e){let n=ms.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=$w(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());f1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ad(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];f1(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){wg(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new fa($w(this.value))}}function jce(t){const e=[];return wg(t.fields,(n,r)=>{const s=new ms([n]);if(f1(r)){const i=jce(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Vo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new rs(e,0,zt.min(),zt.min(),zt.min(),fa.empty(),0)}static newFoundDocument(e,n,r,s){return new rs(e,1,n,zt.min(),r,s,0)}static newNoDocument(e,n){return new rs(e,2,n,zt.min(),zt.min(),fa.empty(),0)}static newUnknownDocument(e,n){return new rs(e,3,n,zt.min(),zt.min(),fa.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=zt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,n){this.position=e,this.inclusive=n}}function GG(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=mt.comparator(mt.fromName(o.referenceValue),n.key):r=zf(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function HG(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ad(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,n="asc"){this.field=e,this.dir=n}}function xft(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tce{}class ar extends Tce{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Eft(e,n,r):n==="array-contains"?new Tft(e,r):n==="in"?new Oce(e,r):n==="not-in"?new Cft(e,r):n==="array-contains-any"?new Aft(e,r):new ar(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Sft(e,r):new jft(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(zf(n,this.value)):n!==null&&qp(this.value)===qp(n)&&this.matchesComparison(zf(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends Tce{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Rr(e,n)}matches(e){return Xv(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Xv(t){return t.op==="and"}function pM(t){return t.op==="or"}function tV(t){return Cce(t)&&Xv(t)}function Cce(t){for(const e of t.filters)if(e instanceof Rr)return!1;return!0}function gM(t){if(t instanceof ar)return t.field.canonicalString()+t.op.toString()+Zv(t.value);if(tV(t))return t.filters.map(e=>gM(e)).join(",");{const e=t.filters.map(n=>gM(n)).join(",");return`${t.op}(${e})`}}function Ace(t,e){return t instanceof ar?function(r,s){return s instanceof ar&&r.op===s.op&&r.field.isEqual(s.field)&&ad(r.value,s.value)}(t,e):t instanceof Rr?function(r,s){return s instanceof Rr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&Ace(o,s.filters[l]),!0):!1}(t,e):void Nt()}function Nce(t,e){const n=t.filters.concat(e);return Rr.create(n,t.op)}function Ice(t){return t instanceof ar?function(n){return`${n.field.canonicalString()} ${n.op} ${Zv(n.value)}`}(t):t instanceof Rr?function(n){return n.op.toString()+" {"+n.getFilters().map(Ice).join(" ,")+"}"}(t):"Filter"}class Eft extends ar{constructor(e,n,r){super(e,n,r),this.key=mt.fromName(r.referenceValue)}matches(e){const n=mt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Sft extends ar{constructor(e,n){super(e,"in",n),this.keys=kce("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jft extends ar{constructor(e,n){super(e,"not-in",n),this.keys=kce("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kce(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>mt.fromName(r.referenceValue))}class Tft extends ar{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return r0(n)&&n0(n.arrayValue,this.value)}}class Oce extends ar{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&n0(this.value.arrayValue,n)}}class Cft extends ar{constructor(e,n){super(e,"not-in",n)}matches(e){if(n0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!n0(this.value.arrayValue,n)}}class Aft extends ar{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!r0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>n0(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nft{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.ce=null}}function yM(t,e=null,n=[],r=[],s=null,i=null,o=null){return new Nft(t,e,n,r,s,i,o)}function Kp(t){const e=_t(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>gM(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),eE(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zv(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zv(r)).join(",")),e.ce=n}return e.ce}function tE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xft(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ace(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!HG(t.startAt,e.startAt)&&HG(t.endAt,e.endAt)}function NC(t){return mt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function IC(t,e){return t.filters.filter(n=>n instanceof ar&&n.field.isEqual(e))}function qG(t,e,n){let r=h1,s=!0;for(const i of IC(t,e)){let o=h1,l=!0;switch(i.op){case"<":case"<=":o=_ft(i.value);break;case"==":case"in":case">=":o=i.value;break;case">":o=i.value,l=!1;break;case"!=":case"not-in":o=h1}zG({value:r,inclusive:s},{value:o,inclusive:l})<0&&(r=o,s=l)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];zG({value:r,inclusive:s},{value:o,inclusive:n.inclusive})<0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}function YG(t,e,n){let r=hf,s=!0;for(const i of IC(t,e)){let o=hf,l=!0;switch(i.op){case">=":case">":o=wft(i.value),l=!1;break;case"==":case"in":case"<=":o=i.value;break;case"<":o=i.value,l=!1;break;case"!=":case"not-in":o=hf}WG({value:r,inclusive:s},{value:o,inclusive:l})>0&&(r=o,s=l)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];WG({value:r,inclusive:s},{value:o,inclusive:n.inclusive})>0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Rce(t,e,n,r,s,i,o,l){return new ph(t,e,n,r,s,i,o,l)}function Mb(t){return new ph(t)}function KG(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nV(t){return t.collectionGroup!==null}function jv(t){const e=_t(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Vr(ms.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new s0(i,r))}),n.has(ms.keyField().canonicalString())||e.le.push(new s0(ms.keyField(),r))}return e.le}function ao(t){const e=_t(t);return e.he||(e.he=Ift(e,jv(t))),e.he}function Ift(t,e){if(t.limitType==="F")return yM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new s0(s.field,i)});const n=t.endAt?new Wf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Wf(t.startAt.position,t.startAt.inclusive):null;return yM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function vM(t,e){const n=t.filters.concat([e]);return new ph(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function kC(t,e,n){return new ph(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nE(t,e){return tE(ao(t),ao(e))&&t.limitType===e.limitType}function Pce(t){return`${Kp(ao(t))}|lt:${t.limitType}`}function ky(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Ice(s)).join(", ")}]`),eE(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Zv(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Zv(s)).join(",")),`Target(${r})`}(ao(t))}; limitType=${t.limitType})`}function rE(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):mt.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of jv(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const u=GG(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,jv(r),s)||r.endAt&&!function(o,l,c){const u=GG(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,jv(r),s))}(t,e)}function Dce(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Lce(t){return(e,n)=>{let r=!1;for(const s of jv(t)){const i=kft(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function kft(t,e,n){const r=t.field.isKeyField()?mt.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),u=l.data.field(i);return c!==null&&u!==null?zf(c,u):Nt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Nt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){wg(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return xce(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oft=new Jr(mt.comparator);function Uo(){return Oft}const Mce=new Jr(mt.comparator);function uw(...t){let e=Mce;for(const n of t)e=e.insert(n.key,n);return e}function $ce(t){let e=Mce;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Yu(){return Fw()}function Fce(){return Fw()}function Fw(){return new um(t=>t.toString(),(t,e)=>t.isEqual(e))}const Rft=new Jr(mt.comparator),Pft=new Vr(mt.comparator);function Ln(...t){let e=Pft;for(const n of t)e=e.add(n);return e}const Dft=new Vr(Dn);function rV(){return Dft}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vce(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e0(e)?"-0":e}}function Uce(t){return{integerValue:""+t}}function Bce(t,e){return yce(e)?Uce(e):Vce(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(){this._=void 0}}function Lft(t,e,n){return t instanceof eb?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&qN(i)&&(i=eV(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Jp?Wce(t,e):t instanceof Qp?Gce(t,e):function(s,i){const o=zce(s,i),l=JG(o)+JG(s.Ie);return mM(o)&&mM(s.Ie)?Uce(l):Vce(s.serializer,l)}(t,e)}function Mft(t,e,n){return t instanceof Jp?Wce(t,e):t instanceof Qp?Gce(t,e):n}function zce(t,e){return t instanceof tb?function(r){return mM(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class eb extends YN{}class Jp extends YN{constructor(e){super(),this.elements=e}}function Wce(t,e){const n=Hce(e);for(const r of t.elements)n.some(s=>ad(s,r))||n.push(r);return{arrayValue:{values:n}}}class Qp extends YN{constructor(e){super(),this.elements=e}}function Gce(t,e){let n=Hce(e);for(const r of t.elements)n=n.filter(s=>!ad(s,r));return{arrayValue:{values:n}}}class tb extends YN{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function JG(t){return Bs(t.integerValue||t.doubleValue)}function Hce(t){return r0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,n){this.field=e,this.transform=n}}function $ft(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Jp&&s instanceof Jp||r instanceof Qp&&s instanceof Qp?Qv(r.elements,s.elements,ad):r instanceof tb&&s instanceof tb?ad(r.Ie,s.Ie):r instanceof eb&&s instanceof eb}(t.transform,e.transform)}class Fft{constructor(e,n){this.version=e,this.transformResults=n}}class ps{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ps}static exists(e){return new ps(void 0,e)}static updateTime(e){return new ps(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function m1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class KN{}function qce(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Fb(t.key,ps.none()):new $b(t.key,t.data,ps.none());{const n=t.data,r=fa.empty();let s=new Vr(ms.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new gh(t.key,r,new Vo(s.toArray()),ps.none())}}function Vft(t,e,n){t instanceof $b?function(s,i,o){const l=s.value.clone(),c=ZG(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof gh?function(s,i,o){if(!m1(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=ZG(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(Yce(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Vw(t,e,n,r){return t instanceof $b?function(i,o,l,c){if(!m1(i.precondition,o))return l;const u=i.value.clone(),d=XG(i.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof gh?function(i,o,l,c){if(!m1(i.precondition,o))return l;const u=XG(i.fieldTransforms,c,o),d=o.data;return d.setAll(Yce(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,l){return m1(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function Uft(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=zce(r.transform,s||null);i!=null&&(n===null&&(n=fa.empty()),n.set(r.field,i))}return n||null}function QG(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Qv(r,s,(i,o)=>$ft(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $b extends KN{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class gh extends KN{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Yce(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ZG(t,e,n){const r=new Map;Vt(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,Mft(o,l,n[s]))}return r}function XG(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,Lft(i,o,e))}return r}class Fb extends KN{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sV extends KN{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Vft(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vw(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vw(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Fce();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=qce(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(zt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ln())}isEqual(e){return this.batchId===e.batchId&&Qv(this.mutations,e.mutations,(n,r)=>QG(n,r))&&Qv(this.baseMutations,e.baseMutations,(n,r)=>QG(n,r))}}class aV{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Vt(e.mutations.length===r.length);let s=function(){return Rft}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new aV(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bft{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hi,hr;function Kce(t){switch(t){default:return Nt();case Ne.CANCELLED:case Ne.UNKNOWN:case Ne.DEADLINE_EXCEEDED:case Ne.RESOURCE_EXHAUSTED:case Ne.INTERNAL:case Ne.UNAVAILABLE:case Ne.UNAUTHENTICATED:return!1;case Ne.INVALID_ARGUMENT:case Ne.NOT_FOUND:case Ne.ALREADY_EXISTS:case Ne.PERMISSION_DENIED:case Ne.FAILED_PRECONDITION:case Ne.ABORTED:case Ne.OUT_OF_RANGE:case Ne.UNIMPLEMENTED:case Ne.DATA_LOSS:return!0}}function Jce(t){if(t===void 0)return ii("GRPC error has no .code"),Ne.UNKNOWN;switch(t){case hi.OK:return Ne.OK;case hi.CANCELLED:return Ne.CANCELLED;case hi.UNKNOWN:return Ne.UNKNOWN;case hi.DEADLINE_EXCEEDED:return Ne.DEADLINE_EXCEEDED;case hi.RESOURCE_EXHAUSTED:return Ne.RESOURCE_EXHAUSTED;case hi.INTERNAL:return Ne.INTERNAL;case hi.UNAVAILABLE:return Ne.UNAVAILABLE;case hi.UNAUTHENTICATED:return Ne.UNAUTHENTICATED;case hi.INVALID_ARGUMENT:return Ne.INVALID_ARGUMENT;case hi.NOT_FOUND:return Ne.NOT_FOUND;case hi.ALREADY_EXISTS:return Ne.ALREADY_EXISTS;case hi.PERMISSION_DENIED:return Ne.PERMISSION_DENIED;case hi.FAILED_PRECONDITION:return Ne.FAILED_PRECONDITION;case hi.ABORTED:return Ne.ABORTED;case hi.OUT_OF_RANGE:return Ne.OUT_OF_RANGE;case hi.UNIMPLEMENTED:return Ne.UNIMPLEMENTED;case hi.DATA_LOSS:return Ne.DATA_LOSS;default:return Nt()}}(hr=hi||(hi={}))[hr.OK=0]="OK",hr[hr.CANCELLED=1]="CANCELLED",hr[hr.UNKNOWN=2]="UNKNOWN",hr[hr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hr[hr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hr[hr.NOT_FOUND=5]="NOT_FOUND",hr[hr.ALREADY_EXISTS=6]="ALREADY_EXISTS",hr[hr.PERMISSION_DENIED=7]="PERMISSION_DENIED",hr[hr.UNAUTHENTICATED=16]="UNAUTHENTICATED",hr[hr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hr[hr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hr[hr.ABORTED=10]="ABORTED",hr[hr.OUT_OF_RANGE=11]="OUT_OF_RANGE",hr[hr.UNIMPLEMENTED=12]="UNIMPLEMENTED",hr[hr.INTERNAL=13]="INTERNAL",hr[hr.UNAVAILABLE=14]="UNAVAILABLE",hr[hr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qce(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zft=new Sv([4294967295,4294967295],0);function eH(t){const e=Qce().encode(t),n=new Lht;return n.update(e),new Uint8Array(n.digest())}function tH(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Sv([n,r],0),new Sv([s,i],0)]}class lV{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new dw(`Invalid padding: ${n}`);if(r<0)throw new dw(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new dw(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new dw(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Sv.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(Sv.fromNumber(r)));return s.compare(zft)===1&&(s=new Sv([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=eH(e),[r,s]=tH(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new lV(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Te===0)return;const n=eH(e),[r,s]=tH(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class dw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,aE.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new iE(zt.min(),s,new Jr(Dn),Uo(),Ln())}}class aE{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new aE(r,n,Ln(),Ln(),Ln())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class Zce{constructor(e,n){this.targetId=e,this.fe=n}}class Xce{constructor(e,n,r=Ii.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class nH{constructor(){this.ge=0,this.pe=sH(),this.ye=Ii.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ln(),n=Ln(),r=Ln();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Nt()}}),new aE(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=sH()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Vt(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Wft{constructor(e){this.Le=e,this.ke=new Map,this.qe=Uo(),this.Qe=rH(),this.Ke=new Jr(Dn)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Nt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(NC(i))if(r===0){const o=new mt(i.path);this.We(n,o,rs.newNoDocument(o,zt.min()))}else Vt(r===1);else{const o=this.Ze(n);if(o!==r){const l=this.Xe(e),c=l?this.et(l,e,o):1;if(c!==0){this.He(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=Uf(r).toUint8Array()}catch(c){if(c instanceof Ece)return au("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new lV(o,s,i)}catch(c){return au(c instanceof dw?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Te===0?null:l}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.nt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,o)=>{const l=this.Ye(o);if(l){if(i.current&&NC(l.target)){const c=new mt(l.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,rs.newNoDocument(c,e))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=Ln();this.Qe.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(e));const s=new iE(e,n,this.Ke,this.qe,r);return this.qe=Uo(),this.Qe=rH(),this.Ke=new Jr(Dn),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new nH,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Vr(Dn),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Ke("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new nH),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function rH(){return new Jr(mt.comparator)}function sH(){return new Jr(mt.comparator)}const Gft={asc:"ASCENDING",desc:"DESCENDING"},Hft={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qft={and:"AND",or:"OR"};class Yft{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bM(t,e){return t.useProto3Json||eE(e)?e:{value:e}}function nb(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eue(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Kft(t,e){return nb(t,e.toTimestamp())}function oi(t){return Vt(!!t),zt.fromTimestamp(function(n){const r=Vf(n);return new gs(r.seconds,r.nanos)}(t))}function cV(t,e){return function(r){return new mr(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function tue(t){const e=mr.fromString(t);return Vt(uue(e)),e}function i0(t,e){return cV(t.databaseId,e.path)}function td(t,e){const n=tue(e);if(n.get(1)!==t.databaseId.projectId)throw new He(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new He(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new mt(rue(n))}function _M(t,e){return cV(t.databaseId,e)}function nue(t){const e=tue(t);return e.length===4?mr.emptyPath():rue(e)}function a0(t){return new mr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rue(t){return Vt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function iH(t,e,n){return{name:i0(t,e),fields:n.value.mapValue.fields}}function sue(t,e,n){const r=td(t,e.name),s=oi(e.updateTime),i=e.createTime?oi(e.createTime):zt.min(),o=new fa({mapValue:{fields:e.fields}}),l=rs.newFoundDocument(r,s,i,o);return n&&l.setHasCommittedMutations(),n?l.setHasCommittedMutations():l}function Jft(t,e){return"found"in e?function(r,s){Vt(!!s.found),s.found.name,s.found.updateTime;const i=td(r,s.found.name),o=oi(s.found.updateTime),l=s.found.createTime?oi(s.found.createTime):zt.min(),c=new fa({mapValue:{fields:s.found.fields}});return rs.newFoundDocument(i,o,l,c)}(t,e):"missing"in e?function(r,s){Vt(!!s.missing),Vt(!!s.readTime);const i=td(r,s.missing),o=oi(s.readTime);return rs.newNoDocument(i,o)}(t,e):Nt()}function Qft(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Nt()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(Vt(d===void 0||typeof d=="string"),Ii.fromBase64String(d||"")):(Vt(d===void 0||d instanceof Uint8Array),Ii.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?Ne.UNKNOWN:Jce(u.code);return new He(d,u.message||"")}(o);n=new Xce(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=td(t,r.document.name),i=oi(r.document.updateTime),o=r.document.createTime?oi(r.document.createTime):zt.min(),l=new fa({mapValue:{fields:r.document.fields}}),c=rs.newFoundDocument(s,i,o,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new p1(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=td(t,r.document),i=r.readTime?oi(r.readTime):zt.min(),o=rs.newNoDocument(s,i),l=r.removedTargetIds||[];n=new p1([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=td(t,r.document),i=r.removedTargetIds||[];n=new p1([],i,s,null)}else{if(!("filter"in e))return Nt();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new Bft(s,i),l=r.targetId;n=new Zce(l,o)}}return n}function o0(t,e){let n;if(e instanceof $b)n={update:iH(t,e.key,e.value)};else if(e instanceof Fb)n={delete:i0(t,e.key)};else if(e instanceof gh)n={update:iH(t,e.key,e.data),updateMask:rmt(e.fieldMask)};else{if(!(e instanceof sV))return Nt();n={verify:i0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof eb)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Jp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Qp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof tb)return{fieldPath:o.field.canonicalString(),increment:l.Ie};throw Nt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Kft(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Nt()}(t,e.precondition)),n}function wM(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?ps.updateTime(oi(i.updateTime)):i.exists!==void 0?ps.exists(i.exists):ps.none()}(e.currentDocument):ps.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(o,l){let c=null;if("setToServerValue"in l)Vt(l.setToServerValue==="REQUEST_TIME"),c=new eb;else if("appendMissingElements"in l){const d=l.appendMissingElements.values||[];c=new Jp(d)}else if("removeAllFromArray"in l){const d=l.removeAllFromArray.values||[];c=new Qp(d)}else"increment"in l?c=new tb(o,l.increment):Nt();const u=ms.fromServerFormat(l.fieldPath);return new sE(u,c)}(t,s)):[];if(e.update){e.update.name;const s=td(t,e.update.name),i=new fa({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(c){const u=c.fieldPaths||[];return new Vo(u.map(d=>ms.fromServerFormat(d)))}(e.updateMask);return new gh(s,i,o,n,r)}return new $b(s,i,n,r)}if(e.delete){const s=td(t,e.delete);return new Fb(s,n)}if(e.verify){const s=td(t,e.verify);return new sV(s,n)}return Nt()}function Zft(t,e){return t&&t.length>0?(Vt(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?oi(s.updateTime):oi(i);return o.isEqual(zt.min())&&(o=oi(i)),new Fft(o,s.transformResults||[])}(n,e))):[]}function iue(t,e){return{documents:[_M(t,e.path)]}}function aue(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=_M(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=_M(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(c){if(c.length!==0)return cue(Rr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Oy(h.field),direction:emt(h.dir)}}(u))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=bM(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function oue(t){let e=nue(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Vt(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const m=lue(h);return m instanceof Rr&&tV(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(m=>function(y){return new s0(Ry(y.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(h){let m;return m=typeof h=="object"?h.value:h,eE(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(h){const m=!!h.before,p=h.values||[];return new Wf(p,m)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const m=!h.before,p=h.values||[];return new Wf(p,m)}(n.endAt)),Rce(e,s,o,i,l,"F",c,u)}function Xft(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lue(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ry(n.unaryFilter.field);return ar.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ry(n.unaryFilter.field);return ar.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ry(n.unaryFilter.field);return ar.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ry(n.unaryFilter.field);return ar.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Nt()}}(t):t.fieldFilter!==void 0?function(n){return ar.create(Ry(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rr.create(n.compositeFilter.filters.map(r=>lue(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Nt()}}(n.compositeFilter.op))}(t):Nt()}function emt(t){return Gft[t]}function tmt(t){return Hft[t]}function nmt(t){return qft[t]}function Oy(t){return{fieldPath:t.canonicalString()}}function Ry(t){return ms.fromServerFormat(t.fieldPath)}function cue(t){return t instanceof ar?function(n){if(n.op==="=="){if(BG(n.value))return{unaryFilter:{field:Oy(n.field),op:"IS_NAN"}};if(UG(n.value))return{unaryFilter:{field:Oy(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(BG(n.value))return{unaryFilter:{field:Oy(n.field),op:"IS_NOT_NAN"}};if(UG(n.value))return{unaryFilter:{field:Oy(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oy(n.field),op:tmt(n.op),value:n.value}}}(t):t instanceof Rr?function(n){const r=n.getFilters().map(s=>cue(s));return r.length===1?r[0]:{compositeFilter:{op:nmt(n.op),filters:r}}}(t):Nt()}function rmt(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uue(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n,r,s,i=zt.min(),o=zt.min(),l=Ii.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Bd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bd(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class due{constructor(e){this.ut=e}}function smt(t,e){let n;if(e.document)n=sue(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=mt.fromSegments(e.noDocument.path),s=Xp(e.noDocument.readTime);n=rs.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Nt();{const r=mt.fromSegments(e.unknownDocument.path),s=Xp(e.unknownDocument.version);n=rs.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime(function(s){const i=new gs(s[0],s[1]);return zt.fromTimestamp(i)}(e.readTime)),n}function aH(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:OC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,o){return{name:i0(i,o.key),fields:o.data.value.mapValue.fields,updateTime:nb(i,o.version.toTimestamp()),createTime:nb(i,o.createTime.toTimestamp())}}(t.ut,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Zp(e.version)};else{if(!e.isUnknownDocument())return Nt();r.unknownDocument={path:n.path.toArray(),version:Zp(e.version)}}return r}function OC(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Zp(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Xp(t){const e=new gs(t.seconds,t.nanoseconds);return zt.fromTimestamp(e)}function sp(t,e){const n=(e.baseMutations||[]).map(i=>wM(t.ut,i));for(let i=0;i<e.mutations.length-1;++i){const o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const l=e.mutations[i+1];o.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map(i=>wM(t.ut,i)),s=gs.fromMillis(e.localWriteTimeMs);return new iV(e.batchId,s,n,r)}function hw(t){const e=Xp(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Xp(t.lastLimboFreeSnapshotVersion):zt.min();let r;return r=function(i){return i.documents!==void 0}(t.query)?function(i){return Vt(i.documents.length===1),ao(Mb(nue(i.documents[0])))}(t.query):function(i){return ao(oue(i))}(t.query),new Bd(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ii.fromBase64String(t.resumeToken))}function hue(t,e){const n=Zp(e.snapshotVersion),r=Zp(e.lastLimboFreeSnapshotVersion);let s;s=NC(e.target)?iue(t.ut,e.target):aue(t.ut,e.target);const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Kp(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function uV(t){const e=oue({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?kC(e,e.limit,"L"):e}function ZR(t,e){return new oV(e.largestBatchId,wM(t.ut,e.overlayMutation))}function oH(t,e){const n=e.path.lastSegment();return[t,io(e.path.popLast()),n]}function lH(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Zp(r.readTime),documentKey:io(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class imt{getBundleMetadata(e,n){return cH(e).get(n).next(r=>{if(r)return function(i){return{id:i.bundleId,createTime:Xp(i.createTime),version:i.version}}(r)})}saveBundleMetadata(e,n){return cH(e).put(function(s){return{bundleId:s.id,createTime:Zp(oi(s.createTime)),version:s.version}}(n))}getNamedQuery(e,n){return uH(e).get(n).next(r=>{if(r)return function(i){return{name:i.name,query:uV(i.bundledQuery),readTime:Xp(i.readTime)}}(r)})}saveNamedQuery(e,n){return uH(e).put(function(s){return{name:s.name,readTime:Zp(oi(s.readTime)),bundledQuery:s.bundledQuery}}(n))}}function cH(t){return qi(t,"bundles")}function uH(t){return qi(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){const r=n.uid||"";return new JN(e,r)}getOverlay(e,n){return V_(e).get(oH(this.userId,n)).next(r=>r?ZR(this.serializer,r):null)}getOverlays(e,n){const r=Yu();return je.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){const s=[];return r.forEach((i,o)=>{const l=new oV(n,o);s.push(this.lt(e,l))}),je.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach(o=>s.add(io(o.getCollectionPath())));const i=[];return s.forEach(o=>{const l=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);i.push(V_(e).H("collectionPathOverlayIndex",l))}),je.waitFor(i)}getOverlaysForCollection(e,n,r){const s=Yu(),i=io(n),o=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return V_(e).W("collectionPathOverlayIndex",o).next(l=>{for(const c of l){const u=ZR(this.serializer,c);s.set(u.getKey(),u)}return s})}getOverlaysForCollectionGroup(e,n,r,s){const i=Yu();let o;const l=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return V_(e).Y({index:"collectionGroupOverlayIndex",range:l},(c,u,d)=>{const h=ZR(this.serializer,u);i.size()<s||h.largestBatchId===o?(i.set(h.getKey(),h),o=h.largestBatchId):d.done()}).next(()=>i)}lt(e,n){return V_(e).put(function(s,i,o){const[l,c,u]=oH(i,o.mutation.key);return{userId:i,collectionPath:c,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:o0(s.ut,o.mutation)}}(this.serializer,this.userId,n))}}function V_(t){return qi(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Bs(e.integerValue));else if("doubleValue"in e){const r=Bs(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),e0(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),typeof r=="string"?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Uf(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?Sce(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Nt()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const s of Object.keys(r))this.At(s,n),this.Pt(r[s],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const s of r)this.Pt(s,n)}ft(e,n){this.Tt(n,37),mt.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}ip.St=new ip;function amt(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function dH(t){const e=64-function(r){let s=0;for(let i=0;i<8;++i){const o=amt(255&r[i]);if(s+=o,o!==8)break}return s}(t);return Math.ceil(e/8)}class omt{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Dt(r.value),r=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const s=n.codePointAt(0);this.Dt(240|s>>>18),this.Dt(128|63&s>>>12),this.Dt(128|63&s>>>6),this.Dt(128|63&s)}}this.Ct()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const s=n.codePointAt(0);this.Ft(240|s>>>18),this.Ft(128|63&s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s)}}this.Mt()}Nt(e){const n=this.Bt(e),r=dH(n);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}kt(e){const n=this.Bt(e),r=dH(n);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Dt(e){const n=255&e;n===0?(this.Qt(0),this.Qt(255)):n===255?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;n===0?(this.$t(0),this.$t(255)):n===255?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class lmt{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class cmt{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class U_{constructor(){this.Wt=new omt,this.Gt=new lmt(this.Wt),this.zt=new cmt(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return e===0?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n,r,s){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=s}Ht(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new ap(this.indexId,this.documentKey,this.arrayValue,r)}}function Uh(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=hH(t.arrayValue,e.arrayValue),n!==0?n:(n=hH(t.directionalValue,e.directionalValue),n!==0?n:mt.comparator(t.documentKey,e.documentKey)))}function hH(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(e){this.Jt=new Vr((n,r)=>ms.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(Vt(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=dM(e);if(n!==void 0&&!this.tn(n))return!1;const r=Zm(e);let s=new Set,i=0,o=0;for(;i<r.length&&this.tn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.Jt.size>0){const l=this.Jt.getIterator().getNext();if(!s.has(l.field.canonicalString())){const c=r[i];if(!this.nn(l,c)||!this.rn(this.Yt[o++],c))return!1}++i}for(;i<r.length;++i){const l=r[i];if(o>=this.Yt.length||!this.rn(this.Yt[o++],l))return!1}return!0}sn(){if(this.Xt)return null;let e=new Vr(ms.comparator);const n=[];for(const r of this.Zt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new u1(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new u1(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new u1(r.field,r.dir==="asc"?0:1)));return new AC(AC.UNKNOWN_ID,this.collectionId,n,Xx.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fue(t){var e,n;if(Vt(t instanceof ar||t instanceof Rr),t instanceof ar){if(t instanceof Oce){const s=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(i=>ar.create(t.field,"==",i)))||[];return Rr.create(s,"or")}return t}const r=t.filters.map(s=>fue(s));return Rr.create(r,t.op)}function umt(t){if(t.getFilters().length===0)return[];const e=SM(fue(t));return Vt(mue(e)),xM(e)||EM(e)?[e]:e.getFilters()}function xM(t){return t instanceof ar}function EM(t){return t instanceof Rr&&tV(t)}function mue(t){return xM(t)||EM(t)||function(n){if(n instanceof Rr&&pM(n)){for(const r of n.getFilters())if(!xM(r)&&!EM(r))return!1;return!0}return!1}(t)}function SM(t){if(Vt(t instanceof ar||t instanceof Rr),t instanceof ar)return t;if(t.filters.length===1)return SM(t.filters[0]);const e=t.filters.map(r=>SM(r));let n=Rr.create(e,t.op);return n=RC(n),mue(n)?n:(Vt(n instanceof Rr),Vt(Xv(n)),Vt(n.filters.length>1),n.filters.reduce((r,s)=>dV(r,s)))}function dV(t,e){let n;return Vt(t instanceof ar||t instanceof Rr),Vt(e instanceof ar||e instanceof Rr),n=t instanceof ar?e instanceof ar?function(s,i){return Rr.create([s,i],"and")}(t,e):mH(t,e):e instanceof ar?mH(e,t):function(s,i){if(Vt(s.filters.length>0&&i.filters.length>0),Xv(s)&&Xv(i))return Nce(s,i.getFilters());const o=pM(s)?s:i,l=pM(s)?i:s,c=o.filters.map(u=>dV(u,l));return Rr.create(c,"or")}(t,e),RC(n)}function mH(t,e){if(Xv(e))return Nce(e,t.getFilters());{const n=e.filters.map(r=>dV(t,r));return Rr.create(n,"or")}}function RC(t){if(Vt(t instanceof ar||t instanceof Rr),t instanceof ar)return t;const e=t.getFilters();if(e.length===1)return RC(e[0]);if(Cce(t))return t;const n=e.map(s=>RC(s)),r=[];return n.forEach(s=>{s instanceof ar?r.push(s):s instanceof Rr&&(s.op===t.op?r.push(...s.filters):r.push(s))}),r.length===1?r[0]:Rr.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dmt{constructor(){this.on=new hV}addToCollectionParentIndex(e,n){return this.on.add(n),je.resolve()}getCollectionParents(e,n){return je.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return je.resolve()}deleteFieldIndex(e,n){return je.resolve()}deleteAllFieldIndexes(e){return je.resolve()}createTargetIndexes(e,n){return je.resolve()}getDocumentsMatchingTarget(e,n){return je.resolve(null)}getIndexType(e,n){return je.resolve(0)}getFieldIndexes(e,n){return je.resolve([])}getNextCollectionGroupToUpdate(e){return je.resolve(null)}getMinOffset(e,n){return je.resolve(Dl.min())}getMinOffsetFromCollectionGroup(e,n){return je.resolve(Dl.min())}updateCollectionGroup(e,n,r){return je.resolve()}updateIndexEntries(e,n){return je.resolve()}}class hV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Vr(mr.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Vr(mr.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=new Uint8Array(0);class hmt{constructor(e,n){this.user=e,this.databaseId=n,this._n=new hV,this.an=new um(r=>Kp(r),(r,s)=>tE(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const i={collectionId:r,parent:io(s)};return pH(e).put(i)}return je.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[hce(n),""],!1,!0);return pH(e).W(s).next(i=>{for(const o of i){if(o.collectionId!==n)break;r.push(qu(o.parent))}return r})}addFieldIndex(e,n){const r=B_(e),s=function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete s.indexId;const i=r.add(s);if(n.indexState){const o=xy(e);return i.next(l=>{o.put(lH(l,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return i.next()}deleteFieldIndex(e,n){const r=B_(e),s=xy(e),i=wy(e);return r.delete(n.indexId).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=B_(e),r=wy(e),s=xy(e);return n.H().next(()=>r.H()).next(()=>s.H())}createTargetIndexes(e,n){return je.forEach(this.un(n),r=>this.getIndexType(e,r).next(s=>{if(s===0||s===1){const i=new fH(r).sn();if(i!=null)return this.addFieldIndex(e,i)}}))}getDocumentsMatchingTarget(e,n){const r=wy(e);let s=!0;const i=new Map;return je.forEach(this.un(n),o=>this.cn(e,o).next(l=>{s&&(s=!!l),i.set(o,l)})).next(()=>{if(s){let o=Ln();const l=[];return je.forEach(i,(c,u)=>{Ke("IndexedDbIndexManager",`Using index ${function(E){return`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(T=>`${T.fieldPath}:${T.kind}`).join(",")}`}(c)} to execute ${Kp(n)}`);const d=function(E,T){const N=dM(T);if(N===void 0)return null;for(const D of IC(E,N.fieldPath))switch(D.op){case"array-contains-any":return D.value.arrayValue.values||[];case"array-contains":return[D.value]}return null}(u,c),h=function(E,T){const N=new Map;for(const D of Zm(T))for(const O of IC(E,D.fieldPath))switch(O.op){case"==":case"in":N.set(D.fieldPath.canonicalString(),O.value);break;case"not-in":case"!=":return N.set(D.fieldPath.canonicalString(),O.value),Array.from(N.values())}return null}(u,c),m=function(E,T){const N=[];let D=!0;for(const O of Zm(T)){const F=O.kind===0?qG(E,O.fieldPath,E.startAt):YG(E,O.fieldPath,E.startAt);N.push(F.value),D&&(D=F.inclusive)}return new Wf(N,D)}(u,c),p=function(E,T){const N=[];let D=!0;for(const O of Zm(T)){const F=O.kind===0?YG(E,O.fieldPath,E.endAt):qG(E,O.fieldPath,E.endAt);N.push(F.value),D&&(D=F.inclusive)}return new Wf(N,D)}(u,c),y=this.ln(c,u,m),w=this.ln(c,u,p),v=this.hn(c,u,h),x=this.Pn(c.indexId,d,y,m.inclusive,w,p.inclusive,v);return je.forEach(x,_=>r.j(_,n.limit).next(E=>{E.forEach(T=>{const N=mt.fromSegments(T.documentKey);o.has(N)||(o=o.add(N),l.push(N))})}))}).next(()=>l)}return je.resolve(null)})}un(e){let n=this.an.get(e);return n||(e.filters.length===0?n=[e]:n=umt(Rr.create(e.filters,"and")).map(r=>yM(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,r,s,i,o,l){const c=(n!=null?n.length:1)*Math.max(r.length,i.length),u=c/(n!=null?n.length:1),d=[];for(let h=0;h<c;++h){const m=n?this.In(n[h/u]):Ej,p=this.Tn(e,m,r[h%u],s),y=this.En(e,m,i[h%u],o),w=l.map(v=>this.Tn(e,m,v,!0));d.push(...this.createRange(p,y,w))}return d}Tn(e,n,r,s){const i=new ap(e,mt.empty(),n,r);return s?i:i.Ht()}En(e,n,r,s){const i=new ap(e,mt.empty(),n,r);return s?i.Ht():i}cn(e,n){const r=new fH(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next(i=>{let o=null;for(const l of i)r.en(l)&&(!o||l.fields.length>o.fields.length)&&(o=l);return o})}getIndexType(e,n){let r=2;const s=this.un(n);return je.forEach(s,i=>this.cn(e,i).next(o=>{o?r!==0&&o.fields.length<function(c){let u=new Vr(ms.comparator),d=!1;for(const h of c.filters)for(const m of h.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?d=!0:u=u.add(m.field));for(const h of c.orderBy)h.field.isKeyField()||(u=u.add(h.field));return u.size+(d?1:0)}(i)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&s.length>1&&r===2?1:r)}dn(e,n){const r=new U_;for(const s of Zm(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const o=r.jt(s.kind);ip.St.ht(i,o)}return r.Ut()}In(e){const n=new U_;return ip.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const r=new U_;return ip.St.ht(Yp(this.databaseId,n),r.jt(function(i){const o=Zm(i);return o.length===0?0:o[o.length-1].kind}(e))),r.Ut()}hn(e,n,r){if(r===null)return[];let s=[];s.push(new U_);let i=0;for(const o of Zm(e)){const l=r[i++];for(const c of s)if(this.Rn(n,o.fieldPath)&&r0(l))s=this.Vn(s,o,l);else{const u=c.jt(o.kind);ip.St.ht(l,u)}}return this.mn(s)}ln(e,n,r){return this.hn(e,n,r.position)}mn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ut();return n}Vn(e,n,r){const s=[...e],i=[];for(const o of r.arrayValue.values||[])for(const l of s){const c=new U_;c.seed(l.Ut()),ip.St.ht(o,c.jt(n.kind)),i.push(c)}return i}Rn(e,n){return!!e.filters.find(r=>r instanceof ar&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=B_(e),s=xy(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(i=>{const o=[];return je.forEach(i,l=>s.get([l.indexId,this.uid]).next(c=>{o.push(function(d,h){const m=h?new Xx(h.sequenceNumber,new Dl(Xp(h.readTime),new mt(qu(h.documentKey)),h.largestBatchId)):Xx.empty(),p=d.fields.map(([y,w])=>new u1(ms.fromServerFormat(y),w));return new AC(d.indexId,d.collectionGroup,p,m)}(l,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Dn(r.collectionGroup,s.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const s=B_(e),i=xy(e);return this.fn(e).next(o=>s.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(l=>je.forEach(l,c=>i.put(lH(c.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return je.forEach(n,(s,i)=>{const o=r.get(s.collectionGroup);return(o?je.resolve(o):this.getFieldIndexes(e,s.collectionGroup)).next(l=>(r.set(s.collectionGroup,l),je.forEach(l,c=>this.gn(e,s,c).next(u=>{const d=this.pn(i,c);return u.isEqual(d)?je.resolve():this.yn(e,i,c,u,d)}))))})}wn(e,n,r,s){return wy(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.An(r,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,r,s){return wy(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.An(r,n.key),n.key.path.toArray()])}gn(e,n,r){const s=wy(e);let i=new Vr(Uh);return s.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,n)])},(o,l)=>{i=i.add(new ap(r.indexId,n,l.arrayValue,l.directionalValue))}).next(()=>i)}pn(e,n){let r=new Vr(Uh);const s=this.dn(n,e);if(s==null)return r;const i=dM(n);if(i!=null){const o=e.data.field(i.fieldPath);if(r0(o))for(const l of o.arrayValue.values||[])r=r.add(new ap(n.indexId,e.key,this.In(l),s))}else r=r.add(new ap(n.indexId,e.key,Ej,s));return r}yn(e,n,r,s,i){Ke("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(c,u,d,h,m){const p=c.getIterator(),y=u.getIterator();let w=_y(p),v=_y(y);for(;w||v;){let x=!1,_=!1;if(w&&v){const E=d(w,v);E<0?_=!0:E>0&&(x=!0)}else w!=null?_=!0:x=!0;x?(h(v),v=_y(y)):_?(m(w),w=_y(p)):(w=_y(p),v=_y(y))}}(s,i,Uh,l=>{o.push(this.wn(e,n,r,l))},l=>{o.push(this.Sn(e,n,r,l))}),je.waitFor(o)}fn(e){let n=1;return xy(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,i)=>{i.done(),n=s.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,l)=>Uh(o,l)).filter((o,l,c)=>!l||Uh(o,c[l-1])!==0);const s=[];s.push(e);for(const o of r){const l=Uh(o,e),c=Uh(o,n);if(l===0)s[0]=e.Ht();else if(l>0&&c<0)s.push(o),s.push(o.Ht());else if(c>0)break}s.push(n);const i=[];for(let o=0;o<s.length;o+=2){if(this.bn(s[o],s[o+1]))return[];const l=[s[o].indexId,this.uid,s[o].arrayValue,s[o].directionalValue,Ej,[]],c=[s[o+1].indexId,this.uid,s[o+1].arrayValue,s[o+1].directionalValue,Ej,[]];i.push(IDBKeyRange.bound(l,c))}return i}bn(e,n){return Uh(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(gH)}getMinOffset(e,n){return je.mapArray(this.un(n),r=>this.cn(e,r).next(s=>s||Nt())).next(gH)}}function pH(t){return qi(t,"collectionParents")}function wy(t){return qi(t,"indexEntries")}function B_(t){return qi(t,"indexConfiguration")}function xy(t){return qi(t,"indexState")}function gH(t){Vt(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;Z3(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new Dl(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yH={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ko{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ko(e,ko.DEFAULT_COLLECTION_PERCENTILE,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pue(t,e,n){const r=t.store("mutations"),s=t.store("documentMutations"),i=[],o=IDBKeyRange.only(n.batchId);let l=0;const c=r.Y({range:o},(d,h,m)=>(l++,m.delete()));i.push(c.next(()=>{Vt(l===1)}));const u=[];for(const d of n.mutations){const h=vce(e,d.key.path,n.batchId);i.push(s.delete(h)),u.push(d.key)}return je.waitFor(i).next(()=>u)}function PC(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Nt();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ko.DEFAULT_COLLECTION_PERCENTILE=10,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ko.DEFAULT=new ko(41943040,ko.DEFAULT_COLLECTION_PERCENTILE,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ko.DISABLED=new ko(-1,0,0);class QN{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Dn={}}static ct(e,n,r,s){Vt(e.uid!=="");const i=e.isAuthenticated()?e.uid:"";return new QN(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bh(e).Y({index:"userMutationsIndex",range:r},(s,i,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,s){const i=Py(e),o=Bh(e);return o.add({}).next(l=>{Vt(typeof l=="number");const c=new iV(l,n,r,s),u=function(p,y,w){const v=w.baseMutations.map(_=>o0(p.ut,_)),x=w.mutations.map(_=>o0(p.ut,_));return{userId:y,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:v,mutations:x}}(this.serializer,this.userId,c),d=[];let h=new Vr((m,p)=>Dn(m.canonicalString(),p.canonicalString()));for(const m of s){const p=vce(this.userId,m.key.path,l);h=h.add(m.key.path.popLast()),d.push(o.put(u)),d.push(i.put(p,eft))}return h.forEach(m=>{d.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Dn[l]=c.keys()}),je.waitFor(d).next(()=>c)})}lookupMutationBatch(e,n){return Bh(e).get(n).next(r=>r?(Vt(r.userId===this.userId),sp(this.serializer,r)):null)}Cn(e,n){return this.Dn[n]?je.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const s=r.keys();return this.Dn[n]=s,s}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Bh(e).Y({index:"userMutationsIndex",range:s},(o,l,c)=>{l.userId===this.userId&&(Vt(l.batchId>=r),i=sp(this.serializer,l)),c.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Bh(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(s,i,o)=>{r=i.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bh(e).W("userMutationsIndex",n).next(r=>r.map(s=>sp(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=d1(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return Py(e).Y({range:s},(o,l,c)=>{const[u,d,h]=o,m=qu(d);if(u===this.userId&&n.path.isEqual(m))return Bh(e).get(h).next(p=>{if(!p)throw Nt();Vt(p.userId===this.userId),i.push(sp(this.serializer,p))});c.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vr(Dn);const s=[];return n.forEach(i=>{const o=d1(this.userId,i.path),l=IDBKeyRange.lowerBound(o),c=Py(e).Y({range:l},(u,d,h)=>{const[m,p,y]=u,w=qu(p);m===this.userId&&i.path.isEqual(w)?r=r.add(y):h.done()});s.push(c)}),je.waitFor(s).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=d1(this.userId,r),o=IDBKeyRange.lowerBound(i);let l=new Vr(Dn);return Py(e).Y({range:o},(c,u,d)=>{const[h,m,p]=c,y=qu(m);h===this.userId&&r.isPrefixOf(y)?y.length===s&&(l=l.add(p)):d.done()}).next(()=>this.vn(e,l))}vn(e,n){const r=[],s=[];return n.forEach(i=>{s.push(Bh(e).get(i).next(o=>{if(o===null)throw Nt();Vt(o.userId===this.userId),r.push(sp(this.serializer,o))}))}),je.waitFor(s).next(()=>r)}removeMutationBatch(e,n){return pue(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),je.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return je.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),s=[];return Py(e).Y({range:r},(i,o,l)=>{if(i[0]===this.userId){const c=qu(i[1]);s.push(c)}else l.done()}).next(()=>{Vt(s.length===0)})})}containsKey(e,n){return gue(e,this.userId,n)}Mn(e){return yue(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function gue(t,e,n){const r=d1(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let o=!1;return Py(t).Y({range:i,J:!0},(l,c,u)=>{const[d,h,m]=l;d===e&&h===s&&(o=!0),u.done()}).next(()=>o)}function Bh(t){return qi(t,"mutations")}function Py(t){return qi(t,"documentMutations")}function yue(t){return qi(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new eg(0)}static Nn(){return new eg(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fmt{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new eg(n.highestTargetId);return n.highestTargetId=r.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>zt.fromTimestamp(new gs(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.Ln(e,s)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(n,r),this.Ln(e,r))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Ey(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(Vt(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,n,r){let s=0;const i=[];return Ey(e).Y((o,l)=>{const c=hw(l);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(s++,i.push(this.removeTargetData(e,c)))}).next(()=>je.waitFor(i)).next(()=>s)}forEachTarget(e,n){return Ey(e).Y((r,s)=>{const i=hw(s);n(i)})}Bn(e){return vH(e).get("targetGlobalKey").next(n=>(Vt(n!==null),n))}Ln(e,n){return vH(e).put("targetGlobalKey",n)}kn(e,n){return Ey(e).put(hue(this.serializer,n))}qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Kp(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return Ey(e).Y({range:s,index:"queryTargetsIndex"},(o,l,c)=>{const u=hw(l);tE(n,u.target)&&(i=u,c.done())}).next(()=>i)}addMatchingKeys(e,n,r){const s=[],i=Xh(e);return n.forEach(o=>{const l=io(o.path);s.push(i.put({targetId:r,path:l})),s.push(this.referenceDelegate.addReference(e,r,o))}),je.waitFor(s)}removeMatchingKeys(e,n,r){const s=Xh(e);return je.forEach(n,i=>{const o=io(i.path);return je.waitFor([s.delete([r,o]),this.referenceDelegate.removeReference(e,r,i)])})}removeMatchingKeysForTargetId(e,n){const r=Xh(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=Xh(e);let i=Ln();return s.Y({range:r,J:!0},(o,l,c)=>{const u=qu(o[1]),d=new mt(u);i=i.add(d)}).next(()=>i)}containsKey(e,n){const r=io(n.path),s=IDBKeyRange.bound([r],[hce(r)],!1,!0);let i=0;return Xh(e).Y({index:"documentTargetsIndex",J:!0,range:s},([o,l],c,u)=>{o!==0&&(i++,u.done())}).next(()=>i>0)}_t(e,n){return Ey(e).get(n).next(r=>r?hw(r):null)}}function Ey(t){return qi(t,"targets")}function vH(t){return qi(t,"targetGlobal")}function Xh(t){return qi(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bH([t,e],[n,r]){const s=Dn(t,n);return s===0?Dn(e,r):s}class mmt{constructor(e){this.Qn=e,this.buffer=new Vr(bH),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();bH(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class pmt{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Wn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return this.Wn!==null}Gn(e){Ke("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){cm(n)?Ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await lm(n)}await this.Gn(3e5)})}}class gmt{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return je.resolve(Fo._e);const r=new mmt(n);return this.zn.forEachTarget(e,s=>r.Un(s.sequenceNumber)).next(()=>this.zn.Hn(e,s=>r.Un(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(yH)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yH):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let r,s,i,o,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,l=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),Iy()<=rr.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),je.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function ymt(t,e){return new gmt(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vmt{constructor(e,n){this.db=e,this.garbageCollector=ymt(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Yn(e){let n=0;return this.Hn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(r,s)=>n(s))}addReference(e,n,r){return Sj(e,r)}removeReference(e,n,r){return Sj(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Sj(e,n)}Xn(e,n){return function(s,i){let o=!1;return yue(s).Z(l=>gue(s,l,i).next(c=>(c&&(o=!0),je.resolve(!c)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Zn(e,(o,l)=>{if(l<=n){const c=this.Xn(e,o).next(u=>{if(!u)return i++,r.getEntry(e,o).next(()=>(r.removeEntry(o,zt.min()),Xh(e).delete(function(h){return[0,io(h.path)]}(o))))});s.push(c)}}).next(()=>je.waitFor(s)).next(()=>r.apply(e)).next(()=>i)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Sj(e,n)}Zn(e,n){const r=Xh(e);let s,i=Fo._e;return r.Y({index:"documentTargetsIndex"},([o,l],{path:c,sequenceNumber:u})=>{o===0?(i!==Fo._e&&n(new mt(qu(s)),i),i=u,s=c):i=Fo._e}).next(()=>{i!==Fo._e&&n(new mt(qu(s)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Sj(t,e){return Xh(t).put(function(r,s){return{targetId:0,path:io(r.path),sequenceNumber:s}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vue{constructor(){this.changes=new um(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rs.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?je.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bmt{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Mm(e).put(r)}removeEntry(e,n,r){return Mm(e).delete(function(i,o){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],OC(o),l[l.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.er(e,r)))}getEntry(e,n){let r=rs.newInvalidDocument(n);return Mm(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(z_(n))},(s,i)=>{r=this.tr(n,i)}).next(()=>r)}nr(e,n){let r={size:0,document:rs.newInvalidDocument(n)};return Mm(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(z_(n))},(s,i)=>{r={document:this.tr(n,i),size:PC(i)}}).next(()=>r)}getEntries(e,n){let r=Uo();return this.rr(e,n,(s,i)=>{const o=this.tr(s,i);r=r.insert(s,o)}).next(()=>r)}ir(e,n){let r=Uo(),s=new Jr(mt.comparator);return this.rr(e,n,(i,o)=>{const l=this.tr(i,o);r=r.insert(i,l),s=s.insert(i,PC(o))}).next(()=>({documents:r,sr:s}))}rr(e,n,r){if(n.isEmpty())return je.resolve();let s=new Vr(xH);n.forEach(c=>s=s.add(c));const i=IDBKeyRange.bound(z_(s.first()),z_(s.last())),o=s.getIterator();let l=o.getNext();return Mm(e).Y({index:"documentKeyIndex",range:i},(c,u,d)=>{const h=mt.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;l&&xH(l,h)<0;)r(l,null),l=o.getNext();l&&l.isEqual(h)&&(r(l,u),l=o.hasNext()?o.getNext():null),l?d.U(z_(l)):d.done()}).next(()=>{for(;l;)r(l,null),l=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,s,i){const o=n.path,l=[o.popLast().toArray(),o.lastSegment(),OC(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Mm(e).W(IDBKeyRange.bound(l,c,!0)).next(u=>{i==null||i.incrementDocumentReadCount(u.length);let d=Uo();for(const h of u){const m=this.tr(mt.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);m.isFoundDocument()&&(rE(n,m)||s.has(m.key))&&(d=d.insert(m.key,m))}return d})}getAllFromCollectionGroup(e,n,r,s){let i=Uo();const o=wH(n,r),l=wH(n,Dl.max());return Mm(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,l,!0)},(c,u,d)=>{const h=this.tr(mt.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);i=i.insert(h.key,h),i.size===s&&d.done()}).next(()=>i)}newChangeBuffer(e){return new _mt(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return _H(e).get("remoteDocumentGlobalKey").next(n=>(Vt(!!n),n))}er(e,n){return _H(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const r=smt(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(zt.min())))return r}return rs.newInvalidDocument(e)}}function bue(t){return new bmt(t)}class _mt extends vue{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new um(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const n=[];let r=0,s=new Vr((i,o)=>Dn(i.canonicalString(),o.canonicalString()));return this.changes.forEach((i,o)=>{const l=this.ar.get(i);if(n.push(this._r.removeEntry(e,i,l.readTime)),o.isValidDocument()){const c=aH(this._r.serializer,o);s=s.add(i.path.popLast());const u=PC(c);r+=u-l.size,n.push(this._r.addEntry(e,i,c))}else if(r-=l.size,this.trackRemovals){const c=aH(this._r.serializer,o.convertToNoDocument(zt.min()));n.push(this._r.addEntry(e,i,c))}}),s.forEach(i=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,i))}),n.push(this._r.updateMetadata(e,r)),je.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(r=>(this.ar.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:r,sr:s})=>(s.forEach((i,o)=>{this.ar.set(i,{size:o,readTime:r.get(i).readTime})}),r))}}function _H(t){return qi(t,"remoteDocumentGlobal")}function Mm(t){return qi(t,"remoteDocumentsV14")}function z_(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function wH(t,e){const n=e.documentKey.path.toArray();return[t,OC(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function xH(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=Dn(n[i],r[i]),s)return s;return s=Dn(n.length,r.length),s||(s=Dn(n[n.length-2],r[r.length-2]),s||Dn(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wmt{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ue{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Vw(r.mutation,s,Vo.empty(),gs.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ln()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ln()){const s=Yu();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=uw();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Yu();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ln()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=Uo();const o=Fw(),l=function(){return Fw()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof gh)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Vw(d.mutation,u,d.mutation.getFieldMask(),gs.now())):o.set(u.key,Vo.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return l.set(u,new wmt(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Fw();let s=new Jr((o,l)=>o-l),i=Ln();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||Vo.empty();d=l.applyToLocalView(u,d),r.set(c,d);const h=(s.get(l.batchId)||Ln()).add(c);s=s.insert(l.batchId,h)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,h=Fce();d.forEach(m=>{if(!i.has(m)){const p=qce(n.get(m),r.get(m));p!==null&&h.set(m,p),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return je.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return mt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nV(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):je.resolve(Yu());let l=-1,c=i;return o.next(u=>je.forEach(u,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),i.get(d)?je.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,Ln())).next(d=>({batchId:l,changes:$ce(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new mt(n)).next(r=>{let s=uw();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=uw();return this.indexManager.getCollectionParents(e,i).next(l=>je.forEach(l,c=>{const u=function(h,m){return new ph(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,rs.newInvalidDocument(d)))});let l=uw();return o.forEach((c,u)=>{const d=i.get(c);d!==void 0&&Vw(d.mutation,u,Vo.empty(),gs.now()),rE(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xmt{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return je.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:oi(s.createTime)}}(n)),je.resolve()}getNamedQuery(e,n){return je.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(s){return{name:s.name,query:uV(s.bundledQuery),readTime:oi(s.readTime)}}(n)),je.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Emt{constructor(){this.overlays=new Jr(mt.comparator),this.lr=new Map}getOverlay(e,n){return je.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yu();return je.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.lt(e,n,i)}),je.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.lr.delete(r)),je.resolve()}getOverlaysForCollection(e,n,r){const s=Yu(),i=n.length+1,o=new mt(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return je.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Jr((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Yu(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Yu(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return je.resolve(l)}lt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.lr.get(s.largestBatchId).delete(r.key);this.lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new oV(n,r));let i=this.lr.get(n);i===void 0&&(i=Ln(),this.lr.set(n,i)),this.lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(){this.hr=new Vr(Mi.Pr),this.Ir=new Vr(Mi.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Mi(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Mi(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new mt(new mr([])),r=new Mi(n,e),s=new Mi(n,e+1),i=[];return this.Ir.forEachInRange([r,s],o=>{this.dr(o),i.push(o.key)}),i}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new mt(new mr([])),r=new Mi(n,e),s=new Mi(n,e+1);let i=Ln();return this.Ir.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Mi(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Mi{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return mt.comparator(e.key,n.key)||Dn(e.gr,n.gr)}static Tr(e,n){return Dn(e.gr,n.gr)||mt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Smt{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Vr(Mi.Pr)}checkEmpty(e){return je.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new iV(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.yr=this.yr.add(new Mi(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return je.resolve(o)}lookupMutationBatch(e,n){return je.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Sr(r),i=s<0?0:s;return je.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Mi(n,0),s=new Mi(n,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([r,s],o=>{const l=this.wr(o.gr);i.push(l)}),je.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vr(Dn);return n.forEach(s=>{const i=new Mi(s,0),o=new Mi(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([i,o],l=>{r=r.add(l.gr)})}),je.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;mt.isDocumentKey(i)||(i=i.child(""));const o=new Mi(new mt(i),0);let l=new Vr(Dn);return this.yr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.gr)),!0)},o),je.resolve(this.br(l))}br(e){const n=[];return e.forEach(r=>{const s=this.wr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Vt(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return je.forEach(n.mutations,s=>{const i=new Mi(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Mi(n,0),s=this.yr.firstAfterOrEqual(r);return je.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,je.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jmt{constructor(e){this.Cr=e,this.docs=function(){return new Jr(mt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return je.resolve(r?r.document.mutableCopy():rs.newInvalidDocument(n))}getEntries(e,n){let r=Uo();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():rs.newInvalidDocument(s))}),je.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Uo();const o=n.path,l=new mt(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Z3(mce(d),r)<=0||(s.has(d.key)||rE(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return je.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Nt()}vr(e,n){return je.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Tmt(this)}getSize(e){return je.resolve(this.size)}}class Tmt extends vue{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(r)}),je.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cmt{constructor(e){this.persistence=e,this.Fr=new um(n=>Kp(n),tE),this.lastRemoteSnapshotVersion=zt.min(),this.highestTargetId=0,this.Mr=0,this.Or=new fV,this.targetCount=0,this.Nr=eg.On()}forEachTarget(e,n){return this.Fr.forEach((r,s)=>n(s)),je.resolve()}getLastRemoteSnapshotVersion(e){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return je.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),je.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new eg(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,je.resolve()}updateTargetData(e,n){return this.kn(n),je.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,je.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Fr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),je.waitFor(i).next(()=>s)}getTargetCount(e){return je.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return je.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),je.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),je.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),je.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return je.resolve(r)}containsKey(e,n){return je.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wue{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Fo(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Cmt(this),this.indexManager=new dmt,this.remoteDocumentCache=function(s){return new jmt(s)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new due(n),this.Kr=new xmt(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Emt,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Smt(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){Ke("MemoryPersistence","Starting transaction:",e);const s=new Amt(this.Lr.next());return this.referenceDelegate.$r(),r(s).next(i=>this.referenceDelegate.Ur(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Wr(e,n){return je.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Amt extends gce{constructor(e){super(),this.currentSequenceNumber=e}}class ZN{constructor(e){this.persistence=e,this.Gr=new fV,this.zr=null}static jr(e){return new ZN(e)}get Hr(){if(this.zr)return this.zr;throw Nt()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),je.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),je.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),je.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Hr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.Hr,r=>{const s=mt.fromPath(r);return this.Jr(e,s).next(i=>{i||n.removeEntry(s,zt.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return je.or([()=>je.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nmt{constructor(e){this.serializer=e}N(e,n,r,s){const i=new HN("createOrUpgrade",n);r<1&&s>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",MG,{unique:!0}),c.createObjectStore("documentMutations")}(e),EH(e),function(c){c.createObjectStore("remoteDocuments")}(e));let o=je.resolve();return r<3&&s>=3&&(r!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),EH(e)),o=o.next(()=>function(c){const u=c.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:zt.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",d)}(i))),r<4&&s>=4&&(r!==0&&(o=o.next(()=>function(c,u){return u.store("mutations").W().next(d=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",MG,{unique:!0});const h=u.store("mutations"),m=d.map(p=>h.put(p));return je.waitFor(m)})}(e,i))),o=o.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&s>=5&&(o=o.next(()=>this.Zr(i))),r<6&&s>=6&&(o=o.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(i)))),r<7&&s>=7&&(o=o.next(()=>this.ei(i))),r<8&&s>=8&&(o=o.next(()=>this.ti(e,i))),r<9&&s>=9&&(o=o.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&s>=10&&(o=o.next(()=>this.ni(i))),r<11&&s>=11&&(o=o.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(o=o.next(()=>{(function(c){const u=c.createObjectStore("documentOverlays",{keyPath:hft});u.createIndex("collectionPathOverlayIndex",fft,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",mft,{unique:!1})})(e)})),r<13&&s>=13&&(o=o.next(()=>function(c){const u=c.createObjectStore("remoteDocumentsV14",{keyPath:tft});u.createIndex("documentKeyIndex",nft),u.createIndex("collectionGroupIndex",rft)}(e)).next(()=>this.ri(e,i)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(o=o.next(()=>this.ii(e,i))),r<15&&s>=15&&(o=o.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:lft}).createIndex("sequenceNumberIndex",cft,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:uft}).createIndex("documentKeyIndex",dft,{unique:!1})}(e))),o}Xr(e){let n=0;return e.store("remoteDocuments").Y((r,s)=>{n+=PC(s)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(s=>je.forEach(s,i=>{const o=IDBKeyRange.bound([i.userId,-1],[i.userId,i.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(l=>je.forEach(l,c=>{Vt(c.userId===i.userId);const u=sp(this.serializer,c);return pue(e,i.userId,u).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const i=[];return r.Y((o,l)=>{const c=new mr(o),u=function(h){return[0,io(h)]}(c);i.push(n.get(u).next(d=>d?je.resolve():(h=>n.put({targetId:0,path:io(h),sequenceNumber:s.highestListenSequenceNumber}))(c)))}).next(()=>je.waitFor(i))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:oft});const r=n.store("collectionParents"),s=new hV,i=o=>{if(s.add(o)){const l=o.lastSegment(),c=o.popLast();return r.put({collectionId:l,parent:io(c)})}};return n.store("remoteDocuments").Y({J:!0},(o,l)=>{const c=new mr(o);return i(c.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,l,c],u)=>{const d=qu(l);return i(d.popLast())}))}ni(e){const n=e.store("targets");return n.Y((r,s)=>{const i=hw(s),o=hue(this.serializer,i);return n.put(o)})}ri(e,n){const r=n.store("remoteDocuments"),s=[];return r.Y((i,o)=>{const l=n.store("remoteDocumentsV14"),c=function(h){return h.document?new mt(mr.fromString(h.document.name).popFirst(5)):h.noDocument?mt.fromSegments(h.noDocument.path):h.unknownDocument?mt.fromSegments(h.unknownDocument.path):Nt()}(o).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};s.push(l.put(u))}).next(()=>je.waitFor(s))}ii(e,n){const r=n.store("mutations"),s=bue(this.serializer),i=new wue(ZN.jr,this.serializer.ut);return r.W().next(o=>{const l=new Map;return o.forEach(c=>{var u;let d=(u=l.get(c.userId))!==null&&u!==void 0?u:Ln();sp(this.serializer,c).keys().forEach(h=>d=d.add(h)),l.set(c.userId,d)}),je.forEach(l,(c,u)=>{const d=new Fi(u),h=JN.ct(this.serializer,d),m=i.getIndexManager(d),p=QN.ct(d,this.serializer,m,i.referenceDelegate);return new _ue(s,p,h,m).recalculateAndSaveOverlaysForDocumentKeys(new hM(n,Fo._e),c).next()})})}}function EH(t){t.createObjectStore("targetDocuments",{keyPath:ift}).createIndex("documentTargetsIndex",aft,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",sft,{unique:!0}),t.createObjectStore("targetGlobal")}const XR="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class mV{constructor(e,n,r,s,i,o,l,c,u,d,h=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.si=i,this.window=o,this.document=l,this.oi=u,this._i=d,this.ai=h,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=m=>Promise.resolve(),!mV.D())throw new He(Ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vmt(this,s),this.Ii=n+"main",this.serializer=new due(c),this.Ti=new Jc(this.Ii,this.ai,new Nmt(this.serializer)),this.qr=new fmt(this.referenceDelegate,this.serializer),this.remoteDocumentCache=bue(this.serializer),this.Kr=new imt,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,d===!1&&ii("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new He(Ne.FAILED_PRECONDITION,XR);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new Fo(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){return this.Pi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(async()=>{this.started&&await this.di()}))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>jj(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(cm(e))return Ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return W_(e).get("owner").next(n=>je.resolve(this.wi(n)))}Si(e){return jj(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=qi(n,"clientMetadata");return r.W().next(s=>{const i=this.Ci(s,18e5),o=s.filter(l=>i.indexOf(l)===-1);return je.forEach(o,l=>r.delete(l.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ei)for(const n of e)this.Ei.removeItem(this.vi(n.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?je.resolve(!0):W_(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new He(Ne.FAILED_PRECONDITION,XR);return!1}}return!(!this.networkEnabled||!this.inForeground)||jj(e).W().next(r=>this.Ci(r,5e3).find(s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,o=!this.inForeground&&s.inForeground,l=this.networkEnabled===s.networkEnabled;if(i||o&&l)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&Ke("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new hM(e,Fo._e);return this.pi(n).next(()=>this.Si(n))}),this.Ti.close(),this.Ni()}Ci(e,n){return e.filter(r=>this.Di(r.updateTimeMs,n)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>jj(e).W().next(n=>this.Ci(n,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return QN.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new hmt(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return JN.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,r){Ke("IndexedDbPersistence","Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=function(c){return c===15?gft:c===14?wce:c===13?_ce:c===12?pft:c===11?bce:void Nt()}(this.ai);let o;return this.Ti.runTransaction(e,s,i,l=>(o=new hM(l,this.Lr?this.Lr.next():Fo._e),n==="readwrite-primary"?this.fi(o).next(c=>!!c||this.gi(o)).next(c=>{if(!c)throw ii(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new He(Ne.FAILED_PRECONDITION,pce);return r(o)}).next(c=>this.yi(o).next(()=>c)):this.Li(o).next(()=>r(o)))).then(l=>(o.raiseOnCommittedEvent(),l))}Li(e){return W_(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new He(Ne.FAILED_PRECONDITION,XR)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return W_(e).put("owner",n)}static D(){return Jc.D()}pi(e){const n=W_(e);return n.get("owner").next(r=>this.wi(r)?(Ke("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):je.resolve())}Di(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(ii(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ai(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground=this.document.visibilityState==="visible")}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;Xit()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const r=((n=this.Ei)===null||n===void 0?void 0:n.getItem(this.vi(e)))!==null;return Ke("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ii("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){ii("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function W_(t){return qi(t,"owner")}function jj(t){return qi(t,"clientMetadata")}function pV(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=s}static Qi(e,n){let r=Ln(),s=Ln();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new gV(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Imt{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xue{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.zi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ji(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Imt;return this.Hi(e,n,o).next(l=>{if(i.result=l,this.$i)return this.Ji(e,n,o,l.size)})}).next(()=>i.result)}Ji(e,n,r,s){return r.documentReadCount<this.Ui?(Iy()<=rr.DEBUG&&Ke("QueryEngine","SDK will not create cache indexes for query:",ky(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),je.resolve()):(Iy()<=rr.DEBUG&&Ke("QueryEngine","Query:",ky(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Wi*s?(Iy()<=rr.DEBUG&&Ke("QueryEngine","The SDK decides to create cache indexes for query:",ky(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ao(n))):je.resolve())}zi(e,n){if(KG(n))return je.resolve(null);let r=ao(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=kC(n,null,"F"),r=ao(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ln(...i);return this.Gi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Yi(n,l);return this.Zi(n,u,o,c.readTime)?this.zi(e,kC(n,null,"F")):this.Xi(e,u,n,c)}))})))}ji(e,n,r,s){return KG(n)||s.isEqual(zt.min())?je.resolve(null):this.Gi.getDocuments(e,r).next(i=>{const o=this.Yi(n,i);return this.Zi(n,o,r,s)?je.resolve(null):(Iy()<=rr.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ky(n)),this.Xi(e,o,n,fce(s,-1)).next(l=>l))})}Yi(e,n){let r=new Vr(Lce(e));return n.forEach((s,i)=>{rE(e,i)&&(r=r.add(i))}),r}Zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Hi(e,n,r){return Iy()<=rr.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",ky(n)),this.Gi.getDocumentsMatchingQuery(e,n,Dl.min(),r)}Xi(e,n,r,s){return this.Gi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kmt{constructor(e,n,r,s){this.persistence=e,this.es=n,this.serializer=s,this.ts=new Jr(Dn),this.ns=new um(i=>Kp(i),tE),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _ue(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function Eue(t,e,n,r){return new kmt(t,e,n,r)}async function Sue(t,e){const n=_t(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=Ln();for(const u of s){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:l}))})})}function Omt(t,e){const n=_t(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const h=u.batch,m=h.keys();let p=je.resolve();return m.forEach(y=>{p=p.next(()=>d.getEntry(c,y)).next(w=>{const v=u.docVersions.get(y);Vt(v!==null),w.version.compareTo(v)<0&&(h.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),d.addEntry(w)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Ln();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function jue(t){const e=_t(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Rmt(t,e){const n=_t(t),r=e.snapshotVersion;let s=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});s=n.ts;const l=[];e.targetChanges.forEach((d,h)=>{const m=s.get(h);if(!m)return;l.push(n.qr.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.qr.addMatchingKeys(i,d.addedDocuments,h)));let p=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Ii.EMPTY_BYTE_STRING,zt.min()).withLastLimboFreeSnapshotVersion(zt.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(h,p),function(w,v,x){return w.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(m,p,d)&&l.push(n.qr.updateTargetData(i,p))});let c=Uo(),u=Ln();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(Tue(i,o,e.documentUpdates).next(d=>{c=d.us,u=d.cs})),!r.isEqual(zt.min())){const d=n.qr.getLastRemoteSnapshotVersion(i).next(h=>n.qr.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return je.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.ts=s,i))}function Tue(t,e,n){let r=Ln(),s=Ln();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Uo();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(zt.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Ke("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{us:o,cs:s}})}function Pmt(t,e){const n=_t(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function rb(t,e){const n=_t(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.qr.getTargetData(r,e).next(i=>i?(s=i,je.resolve(s)):n.qr.allocateTargetId(r).next(o=>(s=new Bd(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function sb(t,e,n){const r=_t(t),s=r.ts.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!cm(o))throw o;Ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(s.target)}function DC(t,e,n){const r=_t(t);let s=zt.min(),i=Ln();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const h=_t(c),m=h.ns.get(d);return m!==void 0?je.resolve(h.ts.get(m)):h.qr.getTargetData(u,d)}(r,o,ao(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?s:zt.min(),n?i:Ln())).next(l=>(Nue(r,Dce(e),l),{documents:l,ls:i})))}function Cue(t,e){const n=_t(t),r=_t(n.qr),s=n.ts.get(e);return s?Promise.resolve(s.target):n.persistence.runTransaction("Get target data","readonly",i=>r._t(i,e).next(o=>o?o.target:null))}function Aue(t,e){const n=_t(t),r=n.rs.get(e)||zt.min();return n.persistence.runTransaction("Get new document changes","readonly",s=>n.ss.getAllFromCollectionGroup(s,e,fce(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(Nue(n,e,s),s))}function Nue(t,e,n){let r=t.rs.get(e)||zt.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.rs.set(e,r)}async function Dmt(t,e,n,r){const s=_t(t);let i=Ln(),o=Uo();for(const u of n){const d=e.hs(u.metadata.name);u.document&&(i=i.add(d));const h=e.Ps(u);h.setReadTime(e.Is(u.metadata.readTime)),o=o.insert(d,h)}const l=s.ss.newChangeBuffer({trackRemovals:!0}),c=await rb(s,function(d){return ao(Mb(mr.fromString(`__bundle__/docs/${d}`)))}(r));return s.persistence.runTransaction("Apply bundle documents","readwrite",u=>Tue(u,l,o).next(d=>(l.apply(u),d)).next(d=>s.qr.removeMatchingKeysForTargetId(u,c.targetId).next(()=>s.qr.addMatchingKeys(u,i,c.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(u,d.us,d.cs)).next(()=>d.us)))}async function Lmt(t,e,n=Ln()){const r=await rb(t,ao(uV(e.bundledQuery))),s=_t(t);return s.persistence.runTransaction("Save named query","readwrite",i=>{const o=oi(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return s.Kr.saveNamedQuery(i,e);const l=r.withResumeToken(Ii.EMPTY_BYTE_STRING,o);return s.ts=s.ts.insert(l.targetId,l),s.qr.updateTargetData(i,l).next(()=>s.qr.removeMatchingKeysForTargetId(i,r.targetId)).next(()=>s.qr.addMatchingKeys(i,n,r.targetId)).next(()=>s.Kr.saveNamedQuery(i,e))})}function SH(t,e){return`firestore_clients_${t}_${e}`}function jH(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function eP(t,e){return`firestore_targets_${t}_${e}`}class LC{constructor(e,n,r,s){this.user=e,this.batchId=n,this.state=r,this.error=s}static Ts(e,n,r){const s=JSON.parse(r);let i,o=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return o&&s.error&&(o=typeof s.error.message=="string"&&typeof s.error.code=="string",o&&(i=new He(s.error.code,s.error.message))),o?new LC(e,n,s.state,i):(ii("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Uw{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ts(e,n){const r=JSON.parse(n);let s,i=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return i&&r.error&&(i=typeof r.error.message=="string"&&typeof r.error.code=="string",i&&(s=new He(r.error.code,r.error.message))),i?new Uw(e,r.state,s):(ii("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class MC{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const r=JSON.parse(n);let s=typeof r=="object"&&r.activeTargetIds instanceof Array,i=rV();for(let o=0;s&&o<r.activeTargetIds.length;++o)s=yce(r.activeTargetIds[o]),i=i.add(r.activeTargetIds[o]);return s?new MC(e,i):(ii("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class yV{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new yV(n.clientId,n.onlineState):(ii("SharedClientState",`Failed to parse online state: ${e}`),null)}}class jM{constructor(){this.activeTargetIds=rV()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tP{constructor(e,n,r,s,i){this.window=e,this.si=n,this.persistenceKey=r,this.Rs=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Jr(Dn),this.started=!1,this.ps=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ys=SH(this.persistenceKey,this.Rs),this.ws=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new jM),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.vs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const r of e){if(r===this.Rs)continue;const s=this.getItem(SH(this.persistenceKey,r));if(s){const i=MC.Ts(r,s);i&&(this.gs=this.gs.insert(i.clientId,i))}}this.Fs();const n=this.storage.getItem(this.Cs);if(n){const r=this.Ms(n);r&&this.xs(r)}for(const r of this.ps)this.fs(r);this.ps=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((r,s)=>{s.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,r){this.Ns(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(eP(this.persistenceKey,e));if(r){const s=Uw.Ts(e,r);s&&(n=s.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(eP(this.persistenceKey,e))}updateQueryState(e,n,r){this.ks(e,n,r)}handleUserChange(e,n,r){n.forEach(s=>{this.Bs(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Ke("SharedClientState","READ",e,n),n}setItem(e,n){Ke("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const n=e;if(n.storageArea===this.storage){if(Ke("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ys)return void ii("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Ss.test(n.key)){if(n.newValue==null){const r=this.Ks(n.key);return this.$s(r,null)}{const r=this.Us(n.key,n.newValue);if(r)return this.$s(r.clientId,r)}}else if(this.bs.test(n.key)){if(n.newValue!==null){const r=this.Ws(n.key,n.newValue);if(r)return this.Gs(r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){const r=this.zs(n.key,n.newValue);if(r)return this.js(r)}}else if(n.key===this.Cs){if(n.newValue!==null){const r=this.Ms(n.newValue);if(r)return this.xs(r)}}else if(n.key===this.ws){const r=function(i){let o=Fo._e;if(i!=null)try{const l=JSON.parse(i);Vt(typeof l=="number"),o=l}catch(l){ii("SharedClientState","Failed to read sequence number from WebStorage",l)}return o}(n.newValue);r!==Fo._e&&this.sequenceNumberHandler(r)}else if(n.key===this.vs){const r=this.Hs(n.newValue);await Promise.all(r.map(s=>this.syncEngine.Js(s)))}}}else this.ps.push(n)})}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,r){const s=new LC(this.currentUser,e,n,r),i=jH(this.persistenceKey,this.currentUser,e);this.setItem(i,s.Es())}Bs(e){const n=jH(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){const n={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(n))}ks(e,n,r){const s=eP(this.persistenceKey,e),i=new Uw(e,n,r);this.setItem(s,i.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const r=this.Ks(e);return MC.Ts(r,n)}Ws(e,n){const r=this.bs.exec(e),s=Number(r[1]),i=r[2]!==void 0?r[2]:null;return LC.Ts(new Fi(i),s,n)}zs(e,n){const r=this.Ds.exec(e),s=Number(r[1]);return Uw.Ts(s,n)}Ms(e){return yV.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);Ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const r=n?this.gs.insert(e,n):this.gs.remove(e),s=this.Os(this.gs),i=this.Os(r),o=[],l=[];return i.forEach(c=>{s.has(c)||o.push(c)}),s.forEach(c=>{i.has(c)||l.push(c)}),this.syncEngine.Xs(o,l).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=rV();return e.forEach((r,s)=>{n=n.unionWith(s.activeTargetIds)}),n}}class Iue{constructor(){this.eo=new jM,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new jM,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mmt{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tj=null;function nP(){return Tj===null?Tj=function(){return 268435456+Math.round(2147483648*Math.random())}():Tj++,"0x"+Tj.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $mt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fmt{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="WebChannelConnection";class Vmt extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${s}/databases/${i}`,this.po=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get yo(){return!1}wo(n,r,s,i,o){const l=nP(),c=this.So(n,r);Ke("RestConnection",`Sending RPC '${n}' ${l}:`,c,s);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,i,o),this.Do(n,c,u,s).then(d=>(Ke("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw au("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",c,"request:",s),d})}Co(n,r,s,i,o,l){return this.wo(n,r,s,i,o)}bo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lb}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}So(n,r){const s=$mt[n];return`${this.mo}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,s){const i=nP();return new Promise((o,l)=>{const c=new Dht;c.setWithCredentials(!0),c.listenOnce(Rht.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case QR.NO_ERROR:const d=c.getResponseJson();Ke(Aa,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case QR.TIMEOUT:Ke(Aa,`RPC '${e}' ${i} timed out`),l(new He(Ne.DEADLINE_EXCEEDED,"Request time out"));break;case QR.HTTP_ERROR:const h=c.getStatus();if(Ke(Aa,`RPC '${e}' ${i} failed with status:`,h,"response text:",c.getResponseText()),h>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const p=m==null?void 0:m.error;if(p&&p.status&&p.message){const y=function(v){const x=v.toLowerCase().replace(/_/g,"-");return Object.values(Ne).indexOf(x)>=0?x:Ne.UNKNOWN}(p.status);l(new He(y,p.message))}else l(new He(Ne.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new He(Ne.UNAVAILABLE,"Connection failed."));break;default:Nt()}}finally{Ke(Aa,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);Ke(Aa,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",u,r,15)})}vo(e,n,r){const s=nP(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=kht(),l=Oht(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");Ke(Aa,`Creating RPC '${e}' stream ${s}: ${d}`,c);const h=o.createWebChannel(d,c);let m=!1,p=!1;const y=new Fmt({co:v=>{p?Ke(Aa,`Not sending because RPC '${e}' stream ${s} is closed:`,v):(m||(Ke(Aa,`Opening RPC '${e}' stream ${s} transport.`),h.open(),m=!0),Ke(Aa,`RPC '${e}' stream ${s} sending:`,v),h.send(v))},lo:()=>h.close()}),w=(v,x,_)=>{v.listen(x,E=>{try{_(E)}catch(T){setTimeout(()=>{throw T},0)}})};return w(h,wj.EventType.OPEN,()=>{p||Ke(Aa,`RPC '${e}' stream ${s} transport opened.`)}),w(h,wj.EventType.CLOSE,()=>{p||(p=!0,Ke(Aa,`RPC '${e}' stream ${s} transport closed`),y.Ro())}),w(h,wj.EventType.ERROR,v=>{p||(p=!0,au(Aa,`RPC '${e}' stream ${s} transport errored:`,v),y.Ro(new He(Ne.UNAVAILABLE,"The operation could not be completed")))}),w(h,wj.EventType.MESSAGE,v=>{var x;if(!p){const _=v.data[0];Vt(!!_);const E=_,T=E.error||((x=E[0])===null||x===void 0?void 0:x.error);if(T){Ke(Aa,`RPC '${e}' stream ${s} received error:`,T);const N=T.status;let D=function(V){const z=hi[V];if(z!==void 0)return Jce(z)}(N),O=T.message;D===void 0&&(D=Ne.INTERNAL,O="Unknown error status: "+N+" with message "+T.message),p=!0,y.Ro(new He(D,O)),h.close()}else Ke(Aa,`RPC '${e}' stream ${s} received:`,_),y.Vo(_)}}),w(l,Pht.STAT_EVENT,v=>{v.stat===RG.PROXY?Ke(Aa,`RPC '${e}' stream ${s} detected buffering proxy`):v.stat===RG.NOPROXY&&Ke(Aa,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.Ao()},0),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kue(){return typeof window<"u"?window:null}function g1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t){return new Yft(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,n,r=1e3,s=1.5,i=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=s,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&Ke("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oue{constructor(e,n,r,s,i,o,l,c){this.si=e,this.Ko=r,this.$o=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new vV(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===Ne.RESOURCE_EXHAUSTED?(ii(n.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===Ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Uo===n&&this.s_(r,s)},r=>{e(()=>{const s=new He(Ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(s)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{r(()=>this.o_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return Ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Umt extends Oue{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=Qft(this.serializer,e),r=function(i){if(!("targetChange"in i))return zt.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?zt.min():o.readTime?oi(o.readTime):zt.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=a0(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=NC(c)?{documents:iue(i,c)}:{query:aue(i,c)},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=eue(i,o.resumeToken);const u=bM(i,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(zt.min())>0){l.readTime=nb(i,o.snapshotVersion.toTimestamp());const u=bM(i,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=Xft(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=a0(this.serializer),n.removeTarget=e,this.e_(n)}}class Bmt extends Oue{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=Zft(e.writeResults,e.commitTime),r=oi(e.commitTime);return this.listener.I_(r,n)}return Vt(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=a0(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>o0(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zmt extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new He(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.wo(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new He(Ne.UNKNOWN,s.toString())})}Co(e,n,r,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Co(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new He(Ne.UNKNOWN,i.toString())})}terminate(){this.d_=!0}}class Wmt{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ii(n),this.f_=!1):Ke("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gmt{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro(o=>{r.enqueueAndForget(async()=>{dm(this)&&(Ke("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=_t(c);u.C_.add(4),await Vb(u),u.M_.set("Unknown"),u.C_.delete(4),await lE(u)}(this))})}),this.M_=new Wmt(r,s)}}async function lE(t){if(dm(t))for(const e of t.v_)await e(!0)}async function Vb(t){for(const e of t.v_)await e(!1)}function XN(t,e){const n=_t(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),wV(n)?_V(n):Bb(n).Ho()&&bV(n,e))}function l0(t,e){const n=_t(t),r=Bb(n);n.D_.delete(e),r.Ho()&&Rue(n,e),n.D_.size===0&&(r.Ho()?r.Zo():dm(n)&&n.M_.set("Unknown"))}function bV(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(zt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bb(t).u_(e)}function Rue(t,e){t.x_.Oe(e),Bb(t).c_(e)}function _V(t){t.x_=new Wft({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Bb(t).start(),t.M_.g_()}function wV(t){return dm(t)&&!Bb(t).jo()&&t.D_.size>0}function dm(t){return _t(t).C_.size===0}function Pue(t){t.x_=void 0}async function Hmt(t){t.D_.forEach((e,n)=>{bV(t,e)})}async function qmt(t,e){Pue(t),wV(t)?(t.M_.w_(e),_V(t)):t.M_.set("Unknown")}async function Ymt(t,e,n){if(t.M_.set("Online"),e instanceof Xce&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.D_.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.D_.delete(l),s.x_.removeTarget(l))}(t,e)}catch(r){Ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $C(t,r)}else if(e instanceof p1?t.x_.$e(e):e instanceof Zce?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(zt.min()))try{const r=await jue(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.x_.it(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.D_.get(u);d&&i.D_.set(u,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const d=i.D_.get(c);if(!d)return;i.D_.set(c,d.withResumeToken(Ii.EMPTY_BYTE_STRING,d.snapshotVersion)),Rue(i,c);const h=new Bd(d.target,c,u,d.sequenceNumber);bV(i,h)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Ke("RemoteStore","Failed to raise snapshot:",r),await $C(t,r)}}async function $C(t,e,n){if(!cm(e))throw e;t.C_.add(1),await Vb(t),t.M_.set("Offline"),n||(n=()=>jue(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ke("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await lE(t)})}function Due(t,e){return e().catch(n=>$C(t,n,e))}async function Ub(t){const e=_t(t),n=Gf(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Kmt(e);)try{const s=await Pmt(e.localStore,r);if(s===null){e.b_.length===0&&n.Zo();break}r=s.batchId,Jmt(e,s)}catch(s){await $C(e,s)}Lue(e)&&Mue(e)}function Kmt(t){return dm(t)&&t.b_.length<10}function Jmt(t,e){t.b_.push(e);const n=Gf(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function Lue(t){return dm(t)&&!Gf(t).jo()&&t.b_.length>0}function Mue(t){Gf(t).start()}async function Qmt(t){Gf(t).E_()}async function Zmt(t){const e=Gf(t);for(const n of t.b_)e.P_(n.mutations)}async function Xmt(t,e,n){const r=t.b_.shift(),s=aV.from(r,e,n);await Due(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ub(t)}async function ept(t,e){e&&Gf(t).h_&&await async function(r,s){if(function(o){return Kce(o)&&o!==Ne.ABORTED}(s.code)){const i=r.b_.shift();Gf(r).Yo(),await Due(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ub(r)}}(t,e),Lue(t)&&Mue(t)}async function CH(t,e){const n=_t(t);n.asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials");const r=dm(n);n.C_.add(3),await Vb(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await lE(n)}async function TM(t,e){const n=_t(t);e?(n.C_.delete(2),await lE(n)):e||(n.C_.add(2),await Vb(n),n.M_.set("Unknown"))}function Bb(t){return t.O_||(t.O_=function(n,r,s){const i=_t(n);return i.A_(),new Umt(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ho:Hmt.bind(null,t),Io:qmt.bind(null,t),a_:Ymt.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),wV(t)?_V(t):t.M_.set("Unknown")):(await t.O_.stop(),Pue(t))})),t.O_}function Gf(t){return t.N_||(t.N_=function(n,r,s){const i=_t(n);return i.A_(),new Bmt(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ho:Qmt.bind(null,t),Io:ept.bind(null,t),T_:Zmt.bind(null,t),I_:Xmt.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await Ub(t)):(await t.N_.stop(),t.b_.length>0&&(Ke("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new xV(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new He(Ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zb(t,e){if(ii("AsyncQueue",`${e}: ${t}`),cm(t))return new He(Ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e){this.comparator=e?(n,r)=>e(n,r)||mt.comparator(n.key,r.key):(n,r)=>mt.comparator(n.key,r.key),this.keyedMap=uw(),this.sortedSet=new Jr(this.comparator)}static emptySet(e){return new Tv(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tv)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Tv;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(){this.B_=new Jr(mt.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Nt():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ib{constructor(e,n,r,s,i,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new ib(e,n,Tv.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nE(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tpt{constructor(){this.k_=void 0,this.listeners=[]}}class npt{constructor(){this.queries=new um(e=>Pce(e),nE),this.onlineState="Unknown",this.q_=new Set}}async function EV(t,e){const n=_t(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new tpt),s)try{i.k_=await n.onListen(r)}catch(o){const l=zb(o,`Initialization of query '${ky(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,i),i.listeners.push(e),e.Q_(n.onlineState),i.k_&&e.K_(i.k_)&&jV(n)}async function SV(t,e){const n=_t(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function rpt(t,e){const n=_t(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.listeners)l.K_(s)&&(r=!0);o.k_=s}}r&&jV(n)}function spt(t,e,n){const r=_t(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function jV(t){t.q_.forEach(e=>{e.next()})}class TV{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ib(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=ib.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ipt{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(e){this.serializer=e}hs(e){return td(this.serializer,e)}Ps(e){return e.metadata.exists?sue(this.serializer,e.document,!1):rs.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return oi(e)}}class apt{constructor(e,n,r){this.X_=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=$ue(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const r=mr.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,r=new NH(this.serializer);for(const s of e)if(s.metadata.queries){const i=r.hs(s.metadata.name);for(const o of s.metadata.queries){const l=(n.get(o)||Ln()).add(i);n.set(o,l)}}return n}async complete(){const e=await Dmt(this.localStore,new NH(this.serializer),this.documents,this.X_.id),n=this.ta(this.documents);for(const r of this.queries)await Lmt(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}}}function $ue(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fue{constructor(e){this.key=e}}class Vue{constructor(e){this.key=e}}class Uue{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Ln(),this.mutatedKeys=Ln(),this._a=Lce(e),this.aa=new Tv(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new AH,s=n?n.aa:this.aa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const m=s.get(d),p=rE(this.query,h)?h:null,y=!!m&&this.mutatedKeys.has(m.key),w=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;m&&p?m.data.isEqual(p.data)?y!==w&&(r.track({type:3,doc:p}),v=!0):this.ha(m,p)||(r.track({type:2,doc:p}),v=!0,(c&&this._a(p,c)>0||u&&this._a(p,u)<0)&&(l=!0)):!m&&p?(r.track({type:0,doc:p}),v=!0):m&&!p&&(r.track({type:1,doc:m}),v=!0,(c||u)&&(l=!0)),v&&(p?(o=o.add(p),i=w?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{aa:o,la:r,Zi:l,mutatedKeys:i}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((d,h)=>function(p,y){const w=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt()}};return w(p)-w(y)}(d.type,h.type)||this._a(d.doc,h.doc)),this.Pa(r),s=s!=null&&s;const l=n&&!s?this.Ia():[],c=this.oa.size===0&&this.current&&!s?1:0,u=c!==this.sa;return this.sa=c,o.length!==0||u?{snapshot:new ib(this.query,e.aa,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:l}:{Ta:l}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new AH,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Ln(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new Vue(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new Fue(r))}),n}da(e){this.ia=e.ls,this.oa=Ln();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return ib.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class opt{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lpt{constructor(e){this.key=e,this.Ra=!1}}class cpt{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new um(l=>Pce(l),nE),this.fa=new Map,this.ga=new Set,this.pa=new Jr(mt.comparator),this.ya=new Map,this.wa=new fV,this.Sa={},this.ba=new Map,this.Da=eg.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function upt(t,e){const n=kV(t);let r,s;const i=n.ma.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Aa();else{const o=await rb(n.localStore,ao(e)),l=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await CV(n,e,r,l==="current",o.resumeToken),n.isPrimaryClient&&XN(n.remoteStore,o)}return s}async function CV(t,e,n,r,s){t.va=(h,m,p)=>async function(w,v,x,_){let E=v.view.ca(x);E.Zi&&(E=await DC(w.localStore,v.query,!1).then(({documents:O})=>v.view.ca(O,E)));const T=_&&_.targetChanges.get(v.targetId),N=_&&_.targetMismatches.get(v.targetId)!=null,D=v.view.applyChanges(E,w.isPrimaryClient,T,N);return CM(w,v.targetId,D.Ta),D.snapshot}(t,h,m,p);const i=await DC(t.localStore,e,!0),o=new Uue(e,i.ls),l=o.ca(i.documents),c=aE.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(l,t.isPrimaryClient,c);CM(t,n,u.Ta);const d=new opt(e,n,o);return t.ma.set(e,d),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot}async function dpt(t,e){const n=_t(t),r=n.ma.get(e),s=n.fa.get(r.targetId);if(s.length>1)return n.fa.set(r.targetId,s.filter(i=>!nE(i,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await sb(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),l0(n.remoteStore,r.targetId),ab(n,r.targetId)}).catch(lm)):(ab(n,r.targetId),await sb(n.localStore,r.targetId,!0))}async function hpt(t,e,n){const r=OV(t);try{const s=await function(o,l){const c=_t(o),u=gs.now(),d=l.reduce((p,y)=>p.add(y.key),Ln());let h,m;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=Uo(),w=Ln();return c.ss.getEntries(p,d).next(v=>{y=v,y.forEach((x,_)=>{_.isValidDocument()||(w=w.add(x))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,y)).next(v=>{h=v;const x=[];for(const _ of l){const E=Uft(_,h.get(_.key).overlayedDocument);E!=null&&x.push(new gh(_.key,E,jce(E.value.mapValue),ps.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,x,l)}).next(v=>{m=v;const x=v.applyToLocalDocumentSet(h,w);return c.documentOverlayCache.saveOverlays(p,v.batchId,x)})}).then(()=>({batchId:m.batchId,changes:$ce(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let u=o.Sa[o.currentUser.toKey()];u||(u=new Jr(Dn)),u=u.insert(l,c),o.Sa[o.currentUser.toKey()]=u}(r,s.batchId,n),await yh(r,s.changes),await Ub(r.remoteStore)}catch(s){const i=zb(s,"Failed to persist write");n.reject(i)}}async function Bue(t,e){const n=_t(t);try{const r=await Rmt(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.ya.get(i);o&&(Vt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ra=!0:s.modifiedDocuments.size>0?Vt(o.Ra):s.removedDocuments.size>0&&(Vt(o.Ra),o.Ra=!1))}),await yh(n,r,e)}catch(r){await lm(r)}}function IH(t,e,n){const r=_t(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ma.forEach((i,o)=>{const l=o.view.Q_(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=_t(o);c.onlineState=l;let u=!1;c.queries.forEach((d,h)=>{for(const m of h.listeners)m.Q_(l)&&(u=!0)}),u&&jV(c)}(r.eventManager,e),s.length&&r.Va.a_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fpt(t,e,n){const r=_t(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.ya.get(e),i=s&&s.key;if(i){let o=new Jr(mt.comparator);o=o.insert(i,rs.newNoDocument(i,zt.min()));const l=Ln().add(i),c=new iE(zt.min(),new Map,new Jr(Dn),o,l);await Bue(r,c),r.pa=r.pa.remove(i),r.ya.delete(e),IV(r)}else await sb(r.localStore,e,!1).then(()=>ab(r,e,n)).catch(lm)}async function mpt(t,e){const n=_t(t),r=e.batch.batchId;try{const s=await Omt(n.localStore,e);NV(n,r,null),AV(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yh(n,s)}catch(s){await lm(s)}}async function ppt(t,e,n){const r=_t(t);try{const s=await function(o,l){const c=_t(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(h=>(Vt(h!==null),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);NV(r,e,n),AV(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yh(r,s)}catch(s){await lm(s)}}async function gpt(t,e){const n=_t(t);dm(n.remoteStore)||Ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const l=_t(o);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>l.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(r===-1)return void e.resolve();const s=n.ba.get(r)||[];s.push(e),n.ba.set(r,s)}catch(r){const s=zb(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}function AV(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function NV(t,e,n){const r=_t(t);let s=r.Sa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Sa[r.currentUser.toKey()]=s}}function ab(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||zue(t,r)})}function zue(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(l0(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),IV(t))}function CM(t,e,n){for(const r of n)r instanceof Fue?(t.wa.addReference(r.key,e),ypt(t,r)):r instanceof Vue?(Ke("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||zue(t,r.key)):Nt()}function ypt(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(Ke("SyncEngine","New document in limbo: "+n),t.ga.add(r),IV(t))}function IV(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new mt(mr.fromString(e)),r=t.Da.next();t.ya.set(r,new lpt(n)),t.pa=t.pa.insert(n,r),XN(t.remoteStore,new Bd(ao(Mb(n.path)),r,"TargetPurposeLimboResolution",Fo._e))}}async function yh(t,e,n){const r=_t(t),s=[],i=[],o=[];r.ma.isEmpty()||(r.ma.forEach((l,c)=>{o.push(r.va(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u!=null&&u.fromCache?"not-current":"current"),u){s.push(u);const d=gV.Qi(c.targetId,u);i.push(d)}}))}),await Promise.all(o),r.Va.a_(s),await async function(c,u){const d=_t(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>je.forEach(u,m=>je.forEach(m.ki,p=>d.persistence.referenceDelegate.addReference(h,m.targetId,p)).next(()=>je.forEach(m.qi,p=>d.persistence.referenceDelegate.removeReference(h,m.targetId,p)))))}catch(h){if(!cm(h))throw h;Ke("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const m=h.targetId;if(!h.fromCache){const p=d.ts.get(m),y=p.snapshotVersion,w=p.withLastLimboFreeSnapshotVersion(y);d.ts=d.ts.insert(m,w)}}}(r.localStore,i))}async function vpt(t,e){const n=_t(t);if(!n.currentUser.isEqual(e)){Ke("SyncEngine","User change. New user:",e.toKey());const r=await Sue(n.localStore,e);n.currentUser=e,function(i,o){i.ba.forEach(l=>{l.forEach(c=>{c.reject(new He(Ne.CANCELLED,o))})}),i.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yh(n,r._s)}}function bpt(t,e){const n=_t(t),r=n.ya.get(e);if(r&&r.Ra)return Ln().add(r.key);{let s=Ln();const i=n.fa.get(e);if(!i)return s;for(const o of i){const l=n.ma.get(o);s=s.unionWith(l.view.ua)}return s}}async function _pt(t,e){const n=_t(t),r=await DC(n.localStore,e.query,!0),s=e.view.da(r);return n.isPrimaryClient&&CM(n,e.targetId,s.Ta),s}async function wpt(t,e){const n=_t(t);return Aue(n.localStore,e).then(r=>yh(n,r))}async function xpt(t,e,n,r){const s=_t(t),i=await function(l,c){const u=_t(l),d=_t(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",h=>d.Cn(h,c).next(m=>m?u.localDocuments.getDocuments(h,m):je.resolve(null)))}(s.localStore,e);i!==null?(n==="pending"?await Ub(s.remoteStore):n==="acknowledged"||n==="rejected"?(NV(s,e,r||null),AV(s,e),function(l,c){_t(_t(l).mutationQueue).Fn(c)}(s.localStore,e)):Nt(),await yh(s,i)):Ke("SyncEngine","Cannot apply mutation batch with id: "+e)}async function Ept(t,e){const n=_t(t);if(kV(n),OV(n),e===!0&&n.Ca!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),s=await kH(n,r.toArray());n.Ca=!0,await TM(n.remoteStore,!0);for(const i of s)XN(n.remoteStore,i)}else if(e===!1&&n.Ca!==!1){const r=[];let s=Promise.resolve();n.fa.forEach((i,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):s=s.then(()=>(ab(n,o),sb(n.localStore,o,!0))),l0(n.remoteStore,o)}),await s,await kH(n,r),function(o){const l=_t(o);l.ya.forEach((c,u)=>{l0(l.remoteStore,u)}),l.wa.Vr(),l.ya=new Map,l.pa=new Jr(mt.comparator)}(n),n.Ca=!1,await TM(n.remoteStore,!1)}}async function kH(t,e,n){const r=_t(t),s=[],i=[];for(const o of e){let l;const c=r.fa.get(o);if(c&&c.length!==0){l=await rb(r.localStore,ao(c[0]));for(const u of c){const d=r.ma.get(u),h=await _pt(r,d);h.snapshot&&i.push(h.snapshot)}}else{const u=await Cue(r.localStore,o);l=await rb(r.localStore,u),await CV(r,Wue(u),o,!1,l.resumeToken)}s.push(l)}return r.Va.a_(i),s}function Wue(t){return Rce(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Spt(t){return function(n){return _t(_t(n).persistence).Bi()}(_t(t).localStore)}async function jpt(t,e,n,r){const s=_t(t);if(s.Ca)return void Ke("SyncEngine","Ignoring unexpected query state notification.");const i=s.fa.get(e);if(i&&i.length>0)switch(n){case"current":case"not-current":{const o=await Aue(s.localStore,Dce(i[0])),l=iE.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Ii.EMPTY_BYTE_STRING);await yh(s,o,l);break}case"rejected":await sb(s.localStore,e,!0),ab(s,e,r);break;default:Nt()}}async function Tpt(t,e,n){const r=kV(t);if(r.Ca){for(const s of e){if(r.fa.has(s)){Ke("SyncEngine","Adding an already active target "+s);continue}const i=await Cue(r.localStore,s),o=await rb(r.localStore,i);await CV(r,Wue(i),o.targetId,!1,o.resumeToken),XN(r.remoteStore,o)}for(const s of n)r.fa.has(s)&&await sb(r.localStore,s,!1).then(()=>{l0(r.remoteStore,s),ab(r,s)}).catch(lm)}}function kV(t){const e=_t(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bue.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bpt.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fpt.bind(null,e),e.Va.a_=rpt.bind(null,e.eventManager),e.Va.Fa=spt.bind(null,e.eventManager),e}function OV(t){const e=_t(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mpt.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ppt.bind(null,e),e}function Cpt(t,e,n){const r=_t(t);(async function(i,o,l){try{const c=await o.getMetadata();if(await function(p,y){const w=_t(p),v=oi(y.createTime);return w.persistence.runTransaction("hasNewerBundle","readonly",x=>w.Kr.getBundleMetadata(x,y.id)).then(x=>!!x&&x.createTime.compareTo(v)>=0)}(i.localStore,c))return await o.close(),l._completeWith(function(p){return{taskState:"Success",documentsLoaded:p.totalDocuments,bytesLoaded:p.totalBytes,totalDocuments:p.totalDocuments,totalBytes:p.totalBytes}}(c)),Promise.resolve(new Set);l._updateProgress($ue(c));const u=new apt(c,i.localStore,o.serializer);let d=await o.Ma();for(;d;){const m=await u.ea(d);m&&l._updateProgress(m),d=await o.Ma()}const h=await u.complete();return await yh(i,h.ra,void 0),await function(p,y){const w=_t(p);return w.persistence.runTransaction("Save bundle","readwrite",v=>w.Kr.saveBundleMetadata(v,y))}(i.localStore,c),l._completeWith(h.progress),Promise.resolve(h.na)}catch(c){return au("SyncEngine",`Loading bundle failed with ${c}`),l._failWith(c),Promise.resolve(new Set)}})(r,e,n).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}class AM{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=oE(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Eue(this.persistence,new xue,e.initialUser,this.serializer)}createPersistence(e){return new wue(ZN.jr,this.serializer)}createSharedClientState(e){return new Iue}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Gue extends AM{constructor(e,n,r){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xa.initialize(this,e),await OV(this.xa.syncEngine),await Ub(this.xa.remoteStore),await this.persistence.mi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return Eue(this.persistence,new xue,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new pmt(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new Zht(n,this.persistence);return new Qht(e.asyncQueue,r)}createPersistence(e){const n=pV(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?ko.withCacheSize(this.cacheSizeBytes):ko.DEFAULT;return new mV(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,kue(),g1(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Iue}}class Apt extends Gue{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xa.syncEngine;this.sharedClientState instanceof tP&&(this.sharedClientState.syncEngine={Ys:xpt.bind(null,n),Zs:jpt.bind(null,n),Xs:Tpt.bind(null,n),Bi:Spt.bind(null,n),Js:wpt.bind(null,n)},await this.sharedClientState.start()),await this.persistence.mi(async r=>{await Ept(this.xa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=kue();if(!tP.D(n))throw new He(Ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=pV(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new tP(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class RV{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>IH(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vpt.bind(null,this.syncEngine),await TM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new npt}()}createDatastore(e){const n=oE(e.databaseInfo.databaseId),r=function(i){return new Vmt(i)}(e.databaseInfo);return function(i,o,l,c){return new zmt(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new Gmt(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>IH(this.syncEngine,n,0),function(){return TH.D()?new TH:new Mmt}())}createSyncEngine(e,n){return function(s,i,o,l,c,u,d){const h=new cpt(s,i,o,l,c,u);return d&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=_t(n);Ke("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Vb(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OH(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):ii("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Npt{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new Bi,this.buffer=new Uint8Array,this.La=function(){return new TextDecoder("utf-8")}(),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}async getMetadata(){return this.metadata.promise}async Ma(){return await this.getMetadata(),this.ka()}async ka(){const e=await this.qa();if(e===null)return null;const n=this.La.decode(e),r=Number(n);isNaN(r)&&this.Qa(`length string (${n}) is not valid number`);const s=await this.Ka(r);return new ipt(JSON.parse(s),e.length+r)}$a(){return this.buffer.findIndex(e=>e===123)}async qa(){for(;this.$a()<0&&!await this.Ua(););if(this.buffer.length===0)return null;const e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ka(e){for(;this.buffer.length<e;)await this.Ua()&&this.Qa("Reached the end of bundle when more is expected.");const n=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ua(){const e=await this.Ba.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ipt{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new He(Ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(s,i){const o=_t(s),l=a0(o.serializer)+"/documents",c={documents:i.map(m=>i0(o.serializer,m))},u=await o.Co("BatchGetDocuments",l,c,i.length),d=new Map;u.forEach(m=>{const p=Jft(o.serializer,m);d.set(p.key.toString(),p)});const h=[];return i.forEach(m=>{const p=d.get(m.toString());Vt(!!p),h.push(p)}),h}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Fb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const s=mt.fromPath(r);this.mutations.push(new sV(s,this.precondition(s)))}),await async function(r,s){const i=_t(r),o=a0(i.serializer)+"/documents",l={writes:s.map(c=>o0(i.serializer,c))};await i.wo("Commit",o,l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Nt();n=zt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new He(Ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(zt.min())?ps.exists(!1):ps.updateTime(n):ps.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(zt.min()))throw new He(Ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ps.updateTime(n)}return ps.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kpt{constructor(e,n,r,s,i){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=i,this.Wa=r.maxAttempts,this.zo=new vV(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko(async()=>{const e=new Ipt(this.datastore),n=this.za(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(s=>{this.ja(s)}))}).catch(r=>{this.ja(r)})})}za(e){try{const n=this.updateFunction(e);return!eE(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Kce(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Opt{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Fi.UNAUTHENTICATED,this.clientId=dce.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{Ke("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(Ke("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new He(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=zb(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function y1(t,e){t.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Sue(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function NM(t,e){t.asyncQueue.verifyOperationInProgress();const n=await PV(t);Ke("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>CH(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>CH(e.remoteStore,i)),t._onlineComponents=e}function Hue(t){return t.name==="FirebaseError"?t.code===Ne.FAILED_PRECONDITION||t.code===Ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function PV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ke("FirestoreClient","Using user provided OfflineComponentProvider");try{await y1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Hue(n))throw n;au("Error using user provided cache. Falling back to memory cache: "+n),await y1(t,new AM)}}else Ke("FirestoreClient","Using default OfflineComponentProvider"),await y1(t,new AM);return t._offlineComponents}async function tI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ke("FirestoreClient","Using user provided OnlineComponentProvider"),await NM(t,t._uninitializedComponentsProvider._online)):(Ke("FirestoreClient","Using default OnlineComponentProvider"),await NM(t,new RV))),t._onlineComponents}function que(t){return PV(t).then(e=>e.persistence)}function DV(t){return PV(t).then(e=>e.localStore)}function Yue(t){return tI(t).then(e=>e.remoteStore)}function LV(t){return tI(t).then(e=>e.syncEngine)}function Rpt(t){return tI(t).then(e=>e.datastore)}async function ob(t){const e=await tI(t),n=e.eventManager;return n.onListen=upt.bind(null,e.syncEngine),n.onUnlisten=dpt.bind(null,e.syncEngine),n}function Ppt(t){return t.asyncQueue.enqueue(async()=>{const e=await que(t),n=await Yue(t);return e.setNetworkEnabled(!0),function(s){const i=_t(s);return i.C_.delete(0),lE(i)}(n)})}function Dpt(t){return t.asyncQueue.enqueue(async()=>{const e=await que(t),n=await Yue(t);return e.setNetworkEnabled(!1),async function(s){const i=_t(s);i.C_.add(0),await Vb(i),i.M_.set("Offline")}(n)})}function Lpt(t,e){const n=new Bi;return t.asyncQueue.enqueueAndForget(async()=>async function(s,i,o){try{const l=await function(u,d){const h=_t(u);return h.persistence.runTransaction("read document","readonly",m=>h.localDocuments.getDocument(m,d))}(s,i);l.isFoundDocument()?o.resolve(l):l.isNoDocument()?o.resolve(null):o.reject(new He(Ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const c=zb(l,`Failed to get document '${i} from cache`);o.reject(c)}}(await DV(t),e,n)),n.promise}function Kue(t,e,n={}){const r=new Bi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,u){const d=new eI({next:m=>{o.enqueueAndForget(()=>SV(i,h));const p=m.docs.has(l);!p&&m.fromCache?u.reject(new He(Ne.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&c&&c.source==="server"?u.reject(new He(Ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new TV(Mb(l.path),d,{includeMetadataChanges:!0,J_:!0});return EV(i,h)}(await ob(t),t.asyncQueue,e,n,r)),r.promise}function Mpt(t,e){const n=new Bi;return t.asyncQueue.enqueueAndForget(async()=>async function(s,i,o){try{const l=await DC(s,i,!0),c=new Uue(i,l.ls),u=c.ca(l.documents),d=c.applyChanges(u,!1);o.resolve(d.snapshot)}catch(l){const c=zb(l,`Failed to execute query '${i} against cache`);o.reject(c)}}(await DV(t),e,n)),n.promise}function Jue(t,e,n={}){const r=new Bi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,u){const d=new eI({next:m=>{o.enqueueAndForget(()=>SV(i,h)),m.fromCache&&c.source==="server"?u.reject(new He(Ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new TV(l,d,{includeMetadataChanges:!0,J_:!0});return EV(i,h)}(await ob(t),t.asyncQueue,e,n,r)),r.promise}function $pt(t,e){const n=new eI(e);return t.asyncQueue.enqueueAndForget(async()=>function(s,i){_t(s).q_.add(i),i.next()}(await ob(t),n)),()=>{n.Na(),t.asyncQueue.enqueueAndForget(async()=>function(s,i){_t(s).q_.delete(i)}(await ob(t),n))}}function Fpt(t,e,n,r){const s=function(o,l){let c;return c=typeof o=="string"?Qce().encode(o):o,function(d,h){return new Npt(d,h)}(function(d,h){if(d instanceof Uint8Array)return OH(d,h);if(d instanceof ArrayBuffer)return OH(new Uint8Array(d),h);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),l)}(n,oE(e));t.asyncQueue.enqueueAndForget(async()=>{Cpt(await LV(t),s,r)})}function Vpt(t,e){return t.asyncQueue.enqueue(async()=>function(r,s){const i=_t(r);return i.persistence.runTransaction("Get named query","readonly",o=>i.Kr.getNamedQuery(o,s))}(await DV(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Que(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(t,e,n){if(!n)throw new He(Ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Zue(t,e,n,r){if(e===!0&&r===!0)throw new He(Ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function PH(t){if(!mt.isDocumentKey(t))throw new He(Ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function DH(t){if(mt.isDocumentKey(t))throw new He(Ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nI(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Nt()}function _r(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new He(Ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nI(t);throw new He(Ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Xue(t,e){if(e<=0)throw new He(Ne.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new He(Ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new He(Ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Zue("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Que((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new He(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new He(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new He(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cE{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new He(Ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new He(Ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LH(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Vht;switch(r.type){case"firstParty":return new Wht(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new He(Ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=RH.get(n);r&&(Ke("ComponentProvider","Removing Datastore"),RH.delete(n),r.terminate())}(this),Promise.resolve()}}function Upt(t,e,n,r={}){var s;const i=(t=_r(t,cE))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&au("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Fi.MOCK_USER;else{l=Jit(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new He(Ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Fi(u)}t._authCredentials=new Uht(new uce(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let co=class ede{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ede(this.firestore,e,this._query)}},Ns=class tde{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Af(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tde(this.firestore,e,this._key)}},Af=class nde extends co{constructor(e,n,r){super(e,n,Mb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ns(this.firestore,null,new mt(e))}withConverter(e){return new nde(this.firestore,e,this._path)}};function rde(t,e,...n){if(t=sn(t),MV("collection","path",e),t instanceof cE){const r=mr.fromString(e,...n);return DH(r),new Af(t,null,r)}{if(!(t instanceof Ns||t instanceof Af))throw new He(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mr.fromString(e,...n));return DH(r),new Af(t.firestore,null,r)}}function Bpt(t,e){if(t=_r(t,cE),MV("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new He(Ne.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new co(t,null,function(r){return new ph(mr.emptyPath(),r)}(e))}function FC(t,e,...n){if(t=sn(t),arguments.length===1&&(e=dce.newId()),MV("doc","path",e),t instanceof cE){const r=mr.fromString(e,...n);return PH(r),new Ns(t,null,new mt(r))}{if(!(t instanceof Ns||t instanceof Af))throw new He(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mr.fromString(e,...n));return PH(r),new Ns(t.firestore,t instanceof Af?t.converter:null,new mt(r))}}function sde(t,e){return t=sn(t),e=sn(e),(t instanceof Ns||t instanceof Af)&&(e instanceof Ns||e instanceof Af)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function ide(t,e){return t=sn(t),e=sn(e),t instanceof co&&e instanceof co&&t.firestore===e.firestore&&nE(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zpt{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new vV(this,"async_queue_retry"),this.iu=()=>{const n=g1();n&&Ke("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=g1();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=g1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Bi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!cm(e))throw e;Ke("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw ii("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const s=xV.createAndSchedule(this,e,n,r,i=>this.au(i));return this.Xa.push(s),s}su(){this.eu&&Nt()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function IM(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Wpt{constructor(){this._progressObserver={},this._taskCompletionResolver=new Bi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gpt=-1;let Ys=class extends cE{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new zpt}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ade(this),this._firestoreClient.terminate()}};function Yi(t){return t._firestoreClient||ade(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ade(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,u,d){return new bft(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Que(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new Opt(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}function Hpt(t,e){lde(t=_r(t,Ys));const n=Yi(t);if(n._uninitializedComponentsProvider)throw new He(Ne.FAILED_PRECONDITION,"SDK cache is already specified.");au("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),s=new RV;return ode(n,s,new Gue(s,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function qpt(t){lde(t=_r(t,Ys));const e=Yi(t);if(e._uninitializedComponentsProvider)throw new He(Ne.FAILED_PRECONDITION,"SDK cache is already specified.");au("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new RV;return ode(e,r,new Apt(r,n.cacheSizeBytes))}function ode(t,e,n){const r=new Bi;return t.asyncQueue.enqueue(async()=>{try{await y1(t,n),await NM(t,e),r.resolve()}catch(s){const i=s;if(!Hue(i))throw i;au("Error enabling indexeddb cache. Falling back to memory cache: "+i),r.reject(i)}}).then(()=>r.promise)}function Ypt(t){if(t._initialized&&!t._terminated)throw new He(Ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Bi;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Jc.D())return Promise.resolve();const s=r+"main";await Jc.delete(s)}(pV(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function Kpt(t){return function(n){const r=new Bi;return n.asyncQueue.enqueueAndForget(async()=>gpt(await LV(n),r)),r.promise}(Yi(t=_r(t,Ys)))}function Jpt(t){return Ppt(Yi(t=_r(t,Ys)))}function Qpt(t){return Dpt(Yi(t=_r(t,Ys)))}function Zpt(t,e){const n=Yi(t=_r(t,Ys)),r=new Wpt;return Fpt(n,t._databaseId,e,r),r}function Xpt(t,e){return Vpt(Yi(t=_r(t,Ys)),e).then(n=>n?new co(t,null,n.query):null)}function lde(t){if(t._initialized||t._terminated)throw new He(Ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this._byteString=e}static fromBase64String(e){try{return new od(Ii.fromBase64String(e))}catch(n){throw new He(Ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new od(Ii.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hf=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new He(Ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ms(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xg=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new He(Ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new He(Ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Dn(this._lat,e._lat)||Dn(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const egt=/^__.*__$/;class tgt{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new gh(e,this.data,this.fieldMask,n,this.fieldTransforms):new $b(e,this.data,n,this.fieldTransforms)}}class cde{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new gh(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ude(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt()}}class sI{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new sI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:r,du:!1});return s.Au(e),s}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:r,du:!1});return s.Pu(),s}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return VC(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(ude(this.Iu)&&egt.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class ngt{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||oE(e)}pu(e,n,r,s=!1){return new sI({Iu:e,methodName:n,gu:r,path:ms.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eg(t){const e=t._freezeSettings(),n=oE(t._databaseId);return new ngt(t._databaseId,!!e.ignoreUndefinedProperties,n)}function iI(t,e,n,r,s,i={}){const o=t.pu(i.merge||i.mergeFields?2:0,e,n,s);UV("Data must be an object, but it was:",o,r);const l=fde(r,o);let c,u;if(i.merge)c=new Vo(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const m=kM(e,h,n);if(!o.contains(m))throw new He(Ne.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);pde(d,m)||d.push(m)}c=new Vo(d),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new tgt(new fa(l),c,u)}class uE extends xg{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uE}}function dde(t,e,n){return new sI({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class $V extends xg{_toFieldTransform(e){return new sE(e.path,new eb)}isEqual(e){return e instanceof $V}}class rgt extends xg{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=dde(this,e,!0),r=this.yu.map(i=>Sg(i,n)),s=new Jp(r);return new sE(e.path,s)}isEqual(e){return this===e}}class sgt extends xg{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=dde(this,e,!0),r=this.yu.map(i=>Sg(i,n)),s=new Qp(r);return new sE(e.path,s)}isEqual(e){return this===e}}class igt extends xg{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new tb(e.serializer,Bce(e.serializer,this.wu));return new sE(e.path,n)}isEqual(e){return this===e}}function FV(t,e,n,r){const s=t.pu(1,e,n);UV("Data must be an object, but it was:",s,r);const i=[],o=fa.empty();wg(r,(c,u)=>{const d=BV(e,c,n);u=sn(u);const h=s.Ru(d);if(u instanceof uE)i.push(d);else{const m=Sg(u,h);m!=null&&(i.push(d),o.set(d,m))}});const l=new Vo(i);return new cde(o,l,s.fieldTransforms)}function VV(t,e,n,r,s,i){const o=t.pu(1,e,n),l=[kM(e,r,n)],c=[s];if(i.length%2!=0)throw new He(Ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(kM(e,i[m])),c.push(i[m+1]);const u=[],d=fa.empty();for(let m=l.length-1;m>=0;--m)if(!pde(u,l[m])){const p=l[m];let y=c[m];y=sn(y);const w=o.Ru(p);if(y instanceof uE)u.push(p);else{const v=Sg(y,w);v!=null&&(u.push(p),d.set(p,v))}}const h=new Vo(u);return new cde(d,h,o.fieldTransforms)}function hde(t,e,n,r=!1){return Sg(n,t.pu(r?4:3,e))}function Sg(t,e){if(mde(t=sn(t)))return UV("Unsupported field value:",e,t),fde(t,e);if(t instanceof xg)return function(r,s){if(!ude(s.Iu))throw s.mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=Sg(l,s.Vu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Bce(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=gs.fromDate(r);return{timestampValue:nb(s.serializer,i)}}if(r instanceof gs){const i=new gs(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nb(s.serializer,i)}}if(r instanceof rI)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof od)return{bytesValue:eue(s.serializer,r._byteString)};if(r instanceof Ns){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:cV(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.mu(`Unsupported field value: ${nI(r)}`)}(t,e)}function fde(t,e){const n={};return xce(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wg(t,(r,s)=>{const i=Sg(s,e.Eu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function mde(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gs||t instanceof rI||t instanceof od||t instanceof Ns||t instanceof xg)}function UV(t,e,n){if(!mde(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=nI(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function kM(t,e,n){if((e=sn(e))instanceof Hf)return e._internalPath;if(typeof e=="string")return BV(t,e);throw VC("Field path arguments must be of type string or ",t,!1,void 0,n)}const agt=new RegExp("[~\\*/\\[\\]]");function BV(t,e,n){if(e.search(agt)>=0)throw VC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hf(...e.split("."))._internalPath}catch{throw VC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function VC(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new He(Ne.INVALID_ARGUMENT,l+t+c)}function pde(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ns(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ogt(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(aI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ogt extends c0{data(){return super.data()}}function aI(t,e){return typeof e=="string"?BV(t,e):e instanceof Hf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gde(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new He(Ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zV{}class dE extends zV{}function zh(t,e,...n){let r=[];e instanceof zV&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof WV).length,l=i.filter(c=>c instanceof oI).length;if(o>1||o>0&&l>0)throw new He(Ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class oI extends dE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new oI(e,n,r)}_apply(e){const n=this._parse(e);return vde(e._query,n),new co(e.firestore,e.converter,vM(e._query,n))}_parse(e){const n=Eg(e.firestore);return function(i,o,l,c,u,d,h){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new He(Ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){$H(h,d);const p=[];for(const y of h)p.push(MH(c,i,y));m={arrayValue:{values:p}}}else m=MH(c,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||$H(h,d),m=hde(l,o,h,d==="in"||d==="not-in");return ar.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lgt(t,e,n){const r=e,s=aI("where",t);return oI._create(s,r,n)}class WV extends zV{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new WV(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Rr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)vde(o,c),o=vM(o,c)}(e._query,n),new co(e.firestore,e.converter,vM(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class GV extends dE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new GV(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new He(Ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new He(Ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new s0(i,o)}(e._query,this._field,this._direction);return new co(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new ph(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function cgt(t,e="asc"){const n=e,r=aI("orderBy",t);return GV._create(r,n)}class lI extends dE{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new lI(e,n,r)}_apply(e){return new co(e.firestore,e.converter,kC(e._query,this._limit,this._limitType))}}function ugt(t){return Xue("limit",t),lI._create("limit",t,"F")}function dgt(t){return Xue("limitToLast",t),lI._create("limitToLast",t,"L")}class cI extends dE{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new cI(e,n,r)}_apply(e){const n=yde(e,this.type,this._docOrFields,this._inclusive);return new co(e.firestore,e.converter,function(s,i){return new ph(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,i,s.endAt)}(e._query,n))}}function hgt(...t){return cI._create("startAt",t,!0)}function fgt(...t){return cI._create("startAfter",t,!1)}class uI extends dE{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new uI(e,n,r)}_apply(e){const n=yde(e,this.type,this._docOrFields,this._inclusive);return new co(e.firestore,e.converter,function(s,i){return new ph(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,i)}(e._query,n))}}function mgt(...t){return uI._create("endBefore",t,!1)}function pgt(...t){return uI._create("endAt",t,!0)}function yde(t,e,n,r){if(n[0]=sn(n[0]),n[0]instanceof c0)return function(i,o,l,c,u){if(!c)throw new He(Ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const d=[];for(const h of jv(i))if(h.field.isKeyField())d.push(Yp(o,c.key));else{const m=c.data.field(h.field);if(qN(m))throw new He(Ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){const p=h.field.canonicalString();throw new He(Ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}d.push(m)}return new Wf(d,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=Eg(t.firestore);return function(o,l,c,u,d,h){const m=o.explicitOrderBy;if(d.length>m.length)throw new He(Ne.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let y=0;y<d.length;y++){const w=d[y];if(m[y].field.isKeyField()){if(typeof w!="string")throw new He(Ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof w}`);if(!nV(o)&&w.indexOf("/")!==-1)throw new He(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${w}' contains a slash.`);const v=o.path.child(mr.fromString(w));if(!mt.isDocumentKey(v))throw new He(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${v}' is not because it contains an odd number of segments.`);const x=new mt(v);p.push(Yp(l,x))}else{const v=hde(c,u,w);p.push(v)}}return new Wf(p,h)}(t._query,t.firestore._databaseId,s,e,n,r)}}function MH(t,e,n){if(typeof(n=sn(n))=="string"){if(n==="")throw new He(Ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nV(e)&&n.indexOf("/")!==-1)throw new He(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(mr.fromString(n));if(!mt.isDocumentKey(r))throw new He(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yp(t,new mt(r))}if(n instanceof Ns)return Yp(t,n._key);throw new He(Ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nI(n)}.`)}function $H(t,e){if(!Array.isArray(t)||t.length===0)throw new He(Ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vde(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new He(Ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new He(Ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class HV{convertValue(e,n="none"){switch(qp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Uf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Nt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return wg(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new rI(Bs(e.latitude),Bs(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=eV(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(t0(e));default:return null}}convertTimestamp(e){const n=Vf(e);return new gs(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=mr.fromString(e);Vt(uue(r));const s=new Bf(r.get(1),r.get(3)),i=new mt(r.popFirst(5));return s.isEqual(n)||ii(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ggt extends HV{constructor(e){super(),this.firestore=e}convertBytes(e){return new od(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ns(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let ih=class extends c0{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(aI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Bw=class extends ih{data(e={}){return super.data(e)}},qf=class{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new yp(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Bw(this._firestore,this._userDataWriter,r.key,r,new yp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new He(Ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new Bw(s._firestore,s._userDataWriter,l.doc.key,l.doc,new yp(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Bw(s._firestore,s._userDataWriter,l.doc.key,l.doc,new yp(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:ygt(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function ygt(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt()}}function bde(t,e){return t instanceof ih&&e instanceof ih?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof qf&&e instanceof qf&&t._firestore===e._firestore&&ide(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vgt(t){t=_r(t,Ns);const e=_r(t.firestore,Ys);return Kue(Yi(e),t._key).then(n=>qV(e,t,n))}class jg extends HV{constructor(e){super(),this.firestore=e}convertBytes(e){return new od(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ns(this.firestore,null,n)}}function bgt(t){t=_r(t,Ns);const e=_r(t.firestore,Ys),n=Yi(e),r=new jg(e);return Lpt(n,t._key).then(s=>new ih(e,r,t._key,s,new yp(s!==null&&s.hasLocalMutations,!0),t.converter))}function _gt(t){t=_r(t,Ns);const e=_r(t.firestore,Ys);return Kue(Yi(e),t._key,{source:"server"}).then(n=>qV(e,t,n))}function wgt(t){t=_r(t,co);const e=_r(t.firestore,Ys),n=Yi(e),r=new jg(e);return gde(t._query),Jue(n,t._query).then(s=>new qf(e,r,t,s))}function xgt(t){t=_r(t,co);const e=_r(t.firestore,Ys),n=Yi(e),r=new jg(e);return Mpt(n,t._query).then(s=>new qf(e,r,t,s))}function Egt(t){t=_r(t,co);const e=_r(t.firestore,Ys),n=Yi(e),r=new jg(e);return Jue(n,t._query,{source:"server"}).then(s=>new qf(e,r,t,s))}function FH(t,e,n){t=_r(t,Ns);const r=_r(t.firestore,Ys),s=dI(t.converter,e,n);return hE(r,[iI(Eg(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ps.none())])}function VH(t,e,n,...r){t=_r(t,Ns);const s=_r(t.firestore,Ys),i=Eg(s);let o;return o=typeof(e=sn(e))=="string"||e instanceof Hf?VV(i,"updateDoc",t._key,e,n,r):FV(i,"updateDoc",t._key,e),hE(s,[o.toMutation(t._key,ps.exists(!0))])}function Sgt(t){return hE(_r(t.firestore,Ys),[new Fb(t._key,ps.none())])}function jgt(t,e){const n=_r(t.firestore,Ys),r=FC(t),s=dI(t.converter,e);return hE(n,[iI(Eg(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,ps.exists(!1))]).then(()=>r)}function _de(t,...e){var n,r,s;t=sn(t);let i={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||IM(e[o])||(i=e[o],o++);const l={includeMetadataChanges:i.includeMetadataChanges};if(IM(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let c,u,d;if(t instanceof Ns)u=_r(t.firestore,Ys),d=Mb(t._key.path),c={next:h=>{e[o]&&e[o](qV(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=_r(t,co);u=_r(h.firestore,Ys),d=h._query;const m=new jg(u);c={next:p=>{e[o]&&e[o](new qf(u,m,h,p))},error:e[o+1],complete:e[o+2]},gde(t._query)}return function(m,p,y,w){const v=new eI(w),x=new TV(p,v,y);return m.asyncQueue.enqueueAndForget(async()=>EV(await ob(m),x)),()=>{v.Na(),m.asyncQueue.enqueueAndForget(async()=>SV(await ob(m),x))}}(Yi(u),d,l,c)}function Tgt(t,e){return $pt(Yi(t=_r(t,Ys)),IM(e)?e:{next:e})}function hE(t,e){return function(r,s){const i=new Bi;return r.asyncQueue.enqueueAndForget(async()=>hpt(await LV(r),s,i)),i.promise}(Yi(t),e)}function qV(t,e,n){const r=n.docs.get(e._key),s=new jg(t);return new ih(t,s,e._key,r,new yp(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cgt={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Agt=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Eg(e)}set(e,n,r){this._verifyNotCommitted();const s=ef(e,this._firestore),i=dI(s.converter,n,r),o=iI(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,ps.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=ef(e,this._firestore);let o;return o=typeof(n=sn(n))=="string"||n instanceof Hf?VV(this._dataReader,"WriteBatch.update",i._key,n,r,s):FV(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,ps.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ef(e,this._firestore);return this._mutations=this._mutations.concat(new Fb(n._key,ps.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new He(Ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function ef(t,e){if((t=sn(t)).firestore!==e)throw new He(Ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ngt=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Eg(n)}get(n){const r=ef(n,this._firestore),s=new ggt(this._firestore);return this._transaction.lookup([r._key]).then(i=>{if(!i||i.length!==1)return Nt();const o=i[0];if(o.isFoundDocument())return new c0(this._firestore,s,o.key,o,r.converter);if(o.isNoDocument())return new c0(this._firestore,s,r._key,null,r.converter);throw Nt()})}set(n,r,s){const i=ef(n,this._firestore),o=dI(i.converter,r,s),l=iI(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,s);return this._transaction.set(i._key,l),this}update(n,r,s,...i){const o=ef(n,this._firestore);let l;return l=typeof(r=sn(r))=="string"||r instanceof Hf?VV(this._dataReader,"Transaction.update",o._key,r,s,i):FV(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,l),this}delete(n){const r=ef(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=ef(e,this._firestore),r=new jg(this._firestore);return super.get(e).then(s=>new ih(this._firestore,r,n._key,s._document,new yp(!1,!1),n.converter))}};function Igt(t,e,n){t=_r(t,Ys);const r=Object.assign(Object.assign({},Cgt),n);return function(i){if(i.maxAttempts<1)throw new He(Ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,o,l){const c=new Bi;return i.asyncQueue.enqueueAndForget(async()=>{const u=await Rpt(i);new kpt(i.asyncQueue,u,l,o,c).run()}),c.promise}(Yi(t),s=>e(new Ngt(t,s)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kgt(){return new uE("deleteField")}function Ogt(){return new $V("serverTimestamp")}function Rgt(...t){return new rgt("arrayUnion",t)}function Pgt(...t){return new sgt("arrayRemove",t)}function Dgt(t){return new igt("increment",t)}(function(e,n=!0){(function(s){Lb=s})(sm),$f(new sd("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new Ys(new Bht(r.getProvider("auth-internal")),new Hht(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new He(Ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bf(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),ed(PG,"4.4.0",e),ed(PG,"4.4.0","esm2017")})();const Lgt="@firebase/firestore-compat",Mgt="0.3.23";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new He("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UH(){if(typeof Uint8Array>"u")throw new He("unimplemented","Uint8Arrays are not available in this environment.")}function BH(){if(!yft())throw new He("unimplemented","Blobs are unavailable in Firestore in this environment.")}let wde=class OM{constructor(e){this._delegate=e}static fromBase64String(e){return BH(),new OM(od.fromBase64String(e))}static fromUint8Array(e){return UH(),new OM(od.fromUint8Array(e))}toBase64(){return BH(),this._delegate.toBase64()}toUint8Array(){return UH(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(t){return $gt(t,["next","error","complete"])}function $gt(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fgt{enableIndexedDbPersistence(e,n){return Hpt(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return qpt(e._delegate)}clearIndexedDbPersistence(e){return Ypt(e._delegate)}}class xde{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Bf||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&au("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){Upt(this._delegate,e,n,r)}enableNetwork(){return Jpt(this._delegate)}disableNetwork(){return Qpt(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Zue("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Kpt(this._delegate)}onSnapshotsInSync(e){return Tgt(this._delegate,e)}get app(){if(!this._appCompat)throw new He("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new lb(this,rde(this._delegate,e))}catch(n){throw Za(n,"collection()","Firestore.collection()")}}doc(e){try{return new mc(this,FC(this._delegate,e))}catch(n){throw Za(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Qa(this,Bpt(this._delegate,e))}catch(n){throw Za(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Igt(this._delegate,n=>e(new Ede(this,n)))}batch(){return Yi(this._delegate),new Sde(new Agt(this._delegate,e=>hE(this._delegate,e)))}loadBundle(e){return Zpt(this._delegate,e)}namedQuery(e){return Xpt(this._delegate,e).then(n=>n?new Qa(this,n):null)}}class hI extends HV{constructor(e){super(),this.firestore=e}convertBytes(e){return new wde(new od(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return mc.forKey(n,this.firestore,null)}}function Vgt(t){$ht(t)}class Ede{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new hI(e)}get(e){const n=vp(e);return this._delegate.get(n).then(r=>new u0(this._firestore,new ih(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const s=vp(e);return r?(YV("Transaction.set",r),this._delegate.set(s,n,r)):this._delegate.set(s,n),this}update(e,n,r,...s){const i=vp(e);return arguments.length===2?this._delegate.update(i,n):this._delegate.update(i,n,r,...s),this}delete(e){const n=vp(e);return this._delegate.delete(n),this}}class Sde{constructor(e){this._delegate=e}set(e,n,r){const s=vp(e);return r?(YV("WriteBatch.set",r),this._delegate.set(s,n,r)):this._delegate.set(s,n),this}update(e,n,r,...s){const i=vp(e);return arguments.length===2?this._delegate.update(i,n):this._delegate.update(i,n,r,...s),this}delete(e){const n=vp(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class tg{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Bw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new d0(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=tg.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let i=s.get(n);return i||(i=new tg(e,new hI(e),n),s.set(n,i)),i}}tg.INSTANCES=new WeakMap;class mc{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new hI(e)}static forPath(e,n,r){if(e.length%2!==0)throw new He("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new mc(n,new Ns(n._delegate,r,new mt(e)))}static forKey(e,n,r){return new mc(n,new Ns(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new lb(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new lb(this.firestore,rde(this._delegate,e))}catch(n){throw Za(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=sn(e),e instanceof Ns?sde(this._delegate,e):!1}set(e,n){n=YV("DocumentReference.set",n);try{return n?FH(this._delegate,e,n):FH(this._delegate,e)}catch(r){throw Za(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?VH(this._delegate,e):VH(this._delegate,e,n,...r)}catch(s){throw Za(s,"updateDoc()","DocumentReference.update()")}}delete(){return Sgt(this._delegate)}onSnapshot(...e){const n=jde(e),r=Tde(e,s=>new u0(this.firestore,new ih(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return _de(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=bgt(this._delegate):(e==null?void 0:e.source)==="server"?n=_gt(this._delegate):n=vgt(this._delegate),n.then(r=>new u0(this.firestore,new ih(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new mc(this.firestore,e?this._delegate.withConverter(tg.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Za(t,e,n){return t.message=t.message.replace(e,n),t}function jde(t){for(const e of t)if(typeof e=="object"&&!RM(e))return e;return{}}function Tde(t,e){var n,r;let s;return RM(t[0])?s=t[0]:RM(t[1])?s=t[1]:typeof t[0]=="function"?s={next:t[0],error:t[1],complete:t[2]}:s={next:t[1],error:t[2],complete:t[3]},{next:i=>{s.next&&s.next(e(i))},error:(n=s.error)===null||n===void 0?void 0:n.bind(s),complete:(r=s.complete)===null||r===void 0?void 0:r.bind(s)}}class u0{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new mc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return bde(this._delegate,e._delegate)}}class d0 extends u0{data(e){const n=this._delegate.data(e);return this._delegate._converter||Fht(n!==void 0),n}}class Qa{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new hI(e)}where(e,n,r){try{return new Qa(this.firestore,zh(this._delegate,lgt(e,n,r)))}catch(s){throw Za(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Qa(this.firestore,zh(this._delegate,cgt(e,n)))}catch(r){throw Za(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Qa(this.firestore,zh(this._delegate,ugt(e)))}catch(n){throw Za(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Qa(this.firestore,zh(this._delegate,dgt(e)))}catch(n){throw Za(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Qa(this.firestore,zh(this._delegate,hgt(...e)))}catch(n){throw Za(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Qa(this.firestore,zh(this._delegate,fgt(...e)))}catch(n){throw Za(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Qa(this.firestore,zh(this._delegate,mgt(...e)))}catch(n){throw Za(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Qa(this.firestore,zh(this._delegate,pgt(...e)))}catch(n){throw Za(n,"endAt()","Query.endAt()")}}isEqual(e){return ide(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=xgt(this._delegate):(e==null?void 0:e.source)==="server"?n=Egt(this._delegate):n=wgt(this._delegate),n.then(r=>new PM(this.firestore,new qf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=jde(e),r=Tde(e,s=>new PM(this.firestore,new qf(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return _de(this._delegate,n,r)}withConverter(e){return new Qa(this.firestore,e?this._delegate.withConverter(tg.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Ugt{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new d0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class PM{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Qa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new d0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Ugt(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new d0(this._firestore,r))})}isEqual(e){return bde(this._delegate,e._delegate)}}class lb extends Qa{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new mc(this.firestore,e):null}doc(e){try{return e===void 0?new mc(this.firestore,FC(this._delegate)):new mc(this.firestore,FC(this._delegate,e))}catch(n){throw Za(n,"doc()","CollectionReference.doc()")}}add(e){return jgt(this._delegate,e).then(n=>new mc(this.firestore,n))}isEqual(e){return sde(this._delegate,e._delegate)}withConverter(e){return new lb(this.firestore,e?this._delegate.withConverter(tg.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function vp(t){return _r(t,Ns)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(...e){this._delegate=new Hf(...e)}static documentId(){return new KV(ms.keyField().canonicalString())}isEqual(e){return e=sn(e),e instanceof Hf?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e){this._delegate=e}static serverTimestamp(){const e=Ogt();return e._methodName="FieldValue.serverTimestamp",new op(e)}static delete(){const e=kgt();return e._methodName="FieldValue.delete",new op(e)}static arrayUnion(...e){const n=Rgt(...e);return n._methodName="FieldValue.arrayUnion",new op(n)}static arrayRemove(...e){const n=Pgt(...e);return n._methodName="FieldValue.arrayRemove",new op(n)}static increment(e){const n=Dgt(e);return n._methodName="FieldValue.increment",new op(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bgt={Firestore:xde,GeoPoint:rI,Timestamp:gs,Blob:wde,Transaction:Ede,WriteBatch:Sde,DocumentReference:mc,DocumentSnapshot:u0,Query:Qa,QueryDocumentSnapshot:d0,QuerySnapshot:PM,CollectionReference:lb,FieldPath:KV,FieldValue:op,setLogLevel:Vgt,CACHE_SIZE_UNLIMITED:Gpt};function zgt(t,e){t.INTERNAL.registerComponent(new sd("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),s=n.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},Bgt)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wgt(t){zgt(t,(e,n)=>new xde(e,n,new Fgt)),t.registerVersion(Lgt,Mgt)}Wgt(B0);let Ggt=null;const fE=()=>Ggt,Hgt=t=>is.post(Qse,t).then(e=>{if(e.status>=200||e.status<=299)return e.data;throw e.data}).catch(e=>{let n;if(e.response&&e.response.status)switch(e.response.status){case 404:n="!      ";break;case 500:n="!          ";break;case 401:n="  ";break;default:n=e[1];break}throw n}),qgt=t=>os(frt,t),Ygt=t=>os(prt,t),Kgt=t=>os(yrt,t),Jgt=t=>os(vrt,t),Qgt=(t,e)=>is.post(t,e).then(n=>{if(n.status>=200||n.status<=299)return n.data;throw n.data}).catch(n=>{var r;if(n.response&&n.response.status)switch(n.response.status){case 404:r="!      ";break;case 500:r="!          ";break;case 401:r="  ";break;default:r=n[1];break}throw r}),Zgt=t=>os(mrt,t),Xgt=t=>os(grt,t),eyt=()=>cn(Zse),tyt=t=>cn(`${Xse}/${t}`,{params:{id:t}}),nyt=()=>cn(lie),ryt=t=>os(cie,t),syt=t=>ch(uie,t),iyt=t=>Fa(die,{headers:{event:t}}),ayt=()=>cn(hie),oyt=t=>cn(`${tae}/${t}`,{param:t}),lyt=()=>cn(fie),cyt=()=>cn(mie),uyt=()=>cn(pie),dyt=t=>cn(`${gie}/${t}`,{params:{roomId:t}}),Cde=t=>os(nie,t),hyt=(t,e,n)=>os(rie,{selectedmails:t,folderId:e,activeTab:n}),fyt=()=>cn(bie),myt=t=>os(_ie,t),pyt=t=>ch(wie,t),gyt=t=>Fa(xie,{headers:{order:t}}),yyt=()=>cn(Eie),vyt=()=>cn(Sie),byt=t=>os(jie,t),_yt=t=>ch(Tie,t),wyt=t=>Fa(Cie,{headers:{customer:t}}),xyt=()=>cn(Aie),Eyt=()=>cn(Nie),Syt=()=>cn(Iie),jyt=()=>cn(kie),Tyt=()=>cn(Oie),Cyt=t=>cn(`${Rie}/${t}`,{params:{id:t}}),Ayt=()=>cn(Pie),Nyt=()=>cn($ie),Iyt=()=>cn(Vie),kyt=t=>cn(`${Uie}/${t}`,{params:{id:t}}),Oyt=()=>cn(Wie),Ryt=t=>os(Hie,t),Pyt=t=>ch(qie,t),Dyt=t=>Fa(Gie,{headers:{kanban:t}}),Lyt=()=>cn(Yie),Myt=t=>os(Jie,t),$yt=t=>ch(Qie,t),Fyt=t=>Fa(Zie,{headers:{user:t}}),Vyt=t=>os(Die,t),Uyt=t=>ch(Lie,t),Byt=t=>Fa(Mie,{headers:{job:t}}),zyt=t=>Fa(Fie,{headers:{data:t}}),Wyt=t=>ch(Bie,t),Gyt=t=>Fa(zie,{headers:{project:t}}),Hyt=()=>cn(Kie),Ade=t=>os(eie,{params:t}),qyt=t=>Fa(sie,{headers:{mail:t}}),Yyt=t=>Fa(iie,{headers:{mail:t}}),Kyt=t=>Fa(aie,{headers:{mail:t}}),Jyt=t=>cn(`${oie}/${t}`,{params:{id:t}}),Qyt=()=>cn(tie),Zyt=t=>os(yie,t),Xyt=t=>Fa(vie,{headers:{data:t}}),evt=t=>cn(`${nae}/${t}`,{params:{roomId:t}}),tvt=t=>cn(`${rae}/${t}`,{params:{roomId:t}}),nvt=t=>cn(`${Xie}/${t}`,{params:{roomId:t}}),rvt=t=>cn(`${eae}/${t}`,{params:{month:t}}),svt=t=>cn(`${sae}/${t}`,{params:{month:t}}),ivt=()=>cn(iae),avt=(t,e)=>os(`${H4}/${e}/${t}`,{params:{commentId:t,productId:e}}),ovt=(t,e,n)=>os(`${H4}/${e}/${t}/${n}`,{params:{commentId:t,productId:e,replyId:n}}),lvt=(t,e,n)=>os(`${aae}/${e}/${t}`,{params:{commentId:t,productId:e,replyText:n}}),cvt=(t,e)=>os(`${oae}/${t}`,{params:{productId:t,commentText:e}});var rP={VITE_API_BASE:"https://api.anbardaranrey.ir/api",VITE_MEDIA_BASE:"https://api.anbardaranrey.ir",VITE_SUPABASE_URL:"https://hcvdgqkhrjkdilqeovkp.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhjdmRncWtocmprZGlscWVvdmtwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxNzkzMDEsImV4cCI6MjA4MDc1NTMwMX0.e5Oeq-1rAgGqIUWp032mESHUADlOk4gtpBmR3-x0Wk4",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const uvt=fE();function*dvt({payload:{user:t}}){console.log("using the following url for registration: ");try{if(console.log("Trying to register user (within try block)"),rP.VITE_APP_DEFAULTAUTH==="firebase"){const e=yield ze(uvt.registerUser,t.email,t.password);yield xe(CO(e))}else if(rP.VITE_APP_DEFAULTAUTH==="jwt"){const e=yield ze(Qgt,"/post-jwt-register",t);yield xe(CO(e))}else if(rP.VITE_APP_DEFAULTAUTH==="fake"){const e=yield ze(Hgt,t);yield xe(CO(e))}}catch(e){console.log("There was an error registering: ",e),yield xe(bwe(e))}}function*hvt(){yield ft(Y$,dvt)}function*fvt(){yield ru([Un(hvt)])}var zw={VITE_API_BASE:"https://api.anbardaranrey.ir/api",VITE_MEDIA_BASE:"https://api.anbardaranrey.ir",VITE_SUPABASE_URL:"https://hcvdgqkhrjkdilqeovkp.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhjdmRncWtocmprZGlscWVvdmtwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxNzkzMDEsImV4cCI6MjA4MDc1NTMwMX0.e5Oeq-1rAgGqIUWp032mESHUADlOk4gtpBmR3-x0Wk4",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Nde=fE();function*mvt({payload:{user:t,history:e}}){try{if(zw.VITE_APP_DEFAULTAUTH==="firebase"){const n=yield ze(Nde.loginUser,t.email,t.password);yield xe(ov(n))}else if(zw.VITE_APP_DEFAULTAUTH==="jwt"){const n=yield ze(Zgt,{email:t.email,password:t.password});localStorage.setItem("authUser",JSON.stringify(n)),yield xe(ov(n))}else if(zw.VITE_APP_DEFAULTAUTH==="fake"){const n=yield ze(qgt,{email:t.email,password:t.password});localStorage.setItem("authUser",JSON.stringify(n)),yield xe(ov(n))}e("/dashboard")}catch(n){yield xe(iA(n))}}function*pvt({payload:{history:t}}){try{if(localStorage.removeItem("authUser"),zw.VITE_APP_DEFAULTAUTH==="firebase"){const e=yield ze(Nde.logout);yield xe(xwe(e))}t("/login")}catch(e){yield xe(iA(e))}}function*gvt({payload:{type:t,history:e}}){try{if(zw.VITE_APP_DEFAULTAUTH==="firebase"){const n=fE(),r=yield ze(n.socialLoginUser,t);e(r?"/dashboard":"/login"),localStorage.setItem("authUser",JSON.stringify(r)),yield xe(ov(r)),r&&e("/dashboard")}}catch(n){yield xe(iA(n))}}function*yvt(){yield ft(PY,mvt),yield Fit(_we,gvt),yield ft(K$,pvt)}var zH={VITE_API_BASE:"https://api.anbardaranrey.ir/api",VITE_MEDIA_BASE:"https://api.anbardaranrey.ir",VITE_SUPABASE_URL:"https://hcvdgqkhrjkdilqeovkp.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhjdmRncWtocmprZGlscWVvdmtwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxNzkzMDEsImV4cCI6MjA4MDc1NTMwMX0.e5Oeq-1rAgGqIUWp032mESHUADlOk4gtpBmR3-x0Wk4",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const vvt=fE();function*bvt({payload:{user:t,history:e}}){try{zH.VITE_APP_DEFAULTAUTH==="firebase"?(yield ze(vvt.forgetPassword,t.email))&&(yield xe(AO("Reset link are sended to your mailbox, check there first"))):zH.VITE_APP_DEFAULTAUTH==="jwt"?(yield ze(Xgt,"/jwt-forget-pwd",{email:t.email}))&&(yield xe(AO("Reset link are sended to your mailbox, check there first"))):(yield ze(Ygt,"/fake-forget-pwd",{email:t.email}))&&(yield xe(AO("Reset link are sended to your mailbox, check there first")))}catch(n){yield xe(Ewe(n))}}function*_vt(){yield ft($Y,bvt)}function*wvt(){yield ru([Un(_vt)])}var sP={VITE_API_BASE:"https://api.anbardaranrey.ir/api",VITE_MEDIA_BASE:"https://api.anbardaranrey.ir",VITE_SUPABASE_URL:"https://hcvdgqkhrjkdilqeovkp.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhjdmRncWtocmprZGlscWVvdmtwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxNzkzMDEsImV4cCI6MjA4MDc1NTMwMX0.e5Oeq-1rAgGqIUWp032mESHUADlOk4gtpBmR3-x0Wk4",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const xvt=fE();function*Evt({payload:{user:t}}){try{if(sP.VITE_APP_DEFAULTAUTH==="firebase"){const e=yield ze(xvt.editProfileAPI,t.username,t.idx);yield xe(NO(e))}else if(sP.VITE_APP_DEFAULTAUTH==="jwt"){const e=yield ze(Kgt,"/post-jwt-profile",{username:t.username,idx:t.idx});yield xe(NO(e))}else if(sP.VITE_APP_DEFAULTAUTH==="fake"){const e=yield ze(Jgt,{username:t.username,idx:t.idx});yield xe(NO(e))}}catch(e){yield xe(jwe(e))}}function*Svt(){yield ft(J$,Evt)}function*jvt(){yield ru([Un(Svt)])}function El(t,e){return document.body&&document.body.setAttribute(t,e),!0}const Tvt=(t,e)=>(document.documentElement&&document.documentElement.setAttribute(t,e),!0);function hl(t,e="toggle"){switch(e){case"add":document.body&&document.body.classList.add(t);break;case"remove":document.body&&document.body.classList.remove(t);break;default:document.body&&document.body.classList.toggle(t);break}return!0}function*Cvt({payload:t}){try{t==="horizontal"&&(document.body.removeAttribute("data-sidebar"),document.body.removeAttribute("data-sidebar-image"),document.body.removeAttribute("data-sidebar-size")),yield ze(El,"data-layout",t)}catch{}}function*Avt({payload:t}){try{yield ze(Tvt,"data-bs-theme",t)}catch{}}function*Nvt({payload:t}){try{t==="boxed"?(yield xe(xf("icon")),yield ze(El,"data-layout-size",t),yield ze(El,"data-layout-scrollable",!1)):t==="scrollable"?(yield xe(xf("default")),yield ze(El,"data-layout-scrollable",!0)):(yield xe(xf("default")),yield ze(El,"data-layout-size",t),yield ze(El,"data-layout-scrollable",!1))}catch{}}function*Ivt({payload:t}){try{yield ze(El,"data-sidebar",t)}catch{}}function*kvt({payload:t}){try{yield ze(El,"data-sidebar-image",t)}catch{}}function*Ovt({payload:t}){try{yield ze(El,"data-topbar",t)}catch{}}function*Rvt({payload:{sidebarType:t,isMobile:e}}){try{switch(t){case"compact":yield ze(El,"data-sidebar-size","small"),yield ze(hl,"sidebar-enable","remove"),yield ze(hl,"vertical-collpsed","remove");break;case"icon":yield ze(El,"data-sidebar-size",""),yield ze(El,"data-keep-enlarged","true"),yield ze(hl,"vertical-collpsed","add");break;case"condensed":yield ze(hl,"sidebar-enable","add"),window.screen.width>=992?(yield ze(hl,"vertical-collpsed","remove"),yield ze(hl,"sidebar-enable","remove"),yield ze(hl,"vertical-collpsed","add"),yield ze(hl,"sidebar-enable","add")):(yield ze(hl,"sidebar-enable","add"),yield ze(hl,"vertical-collpsed","add"));break;default:yield ze(El,"data-sidebar-size",""),yield ze(hl,"sidebar-enable","remove"),e||(yield ze(hl,"vertical-collpsed","remove"));break}}catch{}}function*Pvt(){try{yield ze(hl,"right-bar-enabled","add")}catch{}}function*Dvt(){yield ft(M$,Cvt)}function*Lvt(){yield ft($$,Nvt)}function*Mvt(){yield ft(F$,Ivt)}function*$vt(){yield ft(V$,kvt)}function*Fvt(){yield ft(U$,Rvt)}function*Vvt(){yield ft(B$,Ovt)}function*Uvt(){yield ft(z$,Pvt)}function*Bvt(){yield ft(W$,Avt)}function*zvt(){yield ru([Un(Bvt),Un(Dvt),Un(Lvt),Un(Mvt),Un($vt),Un(Fvt),Un(Uvt),Un(Vvt)])}function*Wvt(){try{const t=yield ze(eyt);yield xe(Ywe(t))}catch(t){yield xe(Kwe(t))}}function*Gvt({productId:t}){try{const e=yield ze(tyt,t);yield xe(Jwe(e))}catch(e){yield xe(Qwe(e))}}function*Hvt(){try{const t=yield ze(fyt);yield xe(Zwe(t))}catch(t){yield xe(Xwe(t))}}function*qvt(){try{const t=yield ze(yyt);yield xe(axe(t))}catch(t){yield xe(oxe(t))}}function*Yvt(){try{const t=yield ze(vyt);yield xe(lxe(t))}catch(t){yield xe(cxe(t))}}function*Kvt({payload:t}){try{const e=yield ze(_yt,t);yield xe(hxe(e)),ae.success("     ",{autoClose:2e3})}catch(e){yield xe(fxe(e)),ae.error("     ",{autoClose:2e3})}}function*Jvt({payload:t}){try{const e=yield ze(wyt,t);yield xe(mxe(e)),ae.success("    ",{autoClose:2e3})}catch(e){yield xe(pxe(e)),ae.error("   ",{autoClose:2e3})}}function*Qvt({payload:t}){try{const e=yield ze(byt,t);yield xe(uxe(e)),ae.success("    ",{autoClose:2e3})}catch(e){yield xe(dxe(e)),ae.error("  ",{autoClose:2e3})}}function*Zvt(){try{const t=yield ze(xyt);yield xe(gxe(t))}catch(t){yield xe(yxe(t))}}function*Xvt({payload:t}){try{const e=yield ze(pyt,t);yield xe(nxe(e)),ae.success("       ",{autoClose:2e3})}catch(e){yield xe(rxe(e)),ae.error("     ",{autoClose:2e3})}}function*ebt({payload:t}){try{const e=yield ze(gyt,t);yield xe(sxe(e)),ae.success("     ",{autoClose:2e3})}catch(e){yield xe(ixe(e)),ae.error("  ",{autoClose:2e3})}}function*tbt({payload:t}){try{const e=yield ze(myt,t);yield xe(exe(e)),ae.success("    ",{autoClose:2e3})}catch(e){yield xe(txe(e)),ae.error("    ",{autoClose:2e3})}}function*nbt(){try{const t=yield ze(ivt);yield xe(vxe(t))}catch(t){yield xe(bxe(t))}}function*rbt({payload:{commentId:t,productId:e}}){try{const n=yield ze(avt,t,e);yield xe(_xe(n))}catch(n){yield xe(wxe(n))}}function*sbt({payload:{commentId:t,productId:e,replyId:n}}){try{const r=yield ze(ovt,t,e,n);yield xe(xxe(r))}catch(r){yield xe(Exe(r))}}function*ibt({payload:{commentId:t,productId:e,replyText:n}}){try{const r=yield ze(lvt,t,e,n);yield xe(Sxe(r))}catch(r){yield xe(jxe(r))}}function*abt({payload:{productId:t,commentText:e}}){try{const n=yield ze(cvt,t,e);yield xe(Txe(n))}catch(n){yield xe(Cxe(n))}}function*obt(){yield ft(Cwe,Wvt),yield ft(Awe,Gvt),yield ft($we,Hvt),yield ft(Bwe,qvt),yield ft(zwe,Yvt),yield ft(Wwe,Qvt),yield ft(Gwe,Kvt),yield ft(Hwe,Jvt),yield ft(qwe,Zvt),yield ft(Fwe,tbt),yield ft(Vwe,Xvt),yield ft(Uwe,ebt),yield ft(Nwe,nbt),yield ft(Iwe,rbt),yield ft(Owe,sbt),yield ft(Pwe,ibt),yield ft(Lwe,abt)}function*lbt(){try{const t=yield ze(nyt);yield xe(Rxe(t))}catch(t){yield xe(Pxe(t))}}function*cbt({payload:t}){try{const e=yield ze(ryt,t);yield xe(Dxe(e))}catch(e){yield xe(Lxe(e))}}function*ubt({payload:t}){try{const e=yield ze(syt,t);yield xe(Mxe(e))}catch(e){yield xe($xe(e))}}function*dbt({payload:t}){try{const e=yield ze(iyt,t);yield xe(Fxe(e))}catch(e){yield xe(Vxe(e))}}function*hbt(){try{const t=yield ze(ayt);yield xe(Uxe(t))}catch(t){yield xe(Bxe(t))}}function*fbt(){yield ft(Axe,lbt),yield ft(Nxe,cbt),yield ft(Ixe,ubt),yield ft(kxe,dbt),yield ft(Oxe,hbt)}function*mbt(){try{const t=yield ze(lyt);yield xe(Kxe(t))}catch(t){yield xe(Jxe(t))}}function*pbt(){try{const t=yield ze(cyt);yield xe(Qxe(t))}catch(t){yield xe(Zxe(t))}}function*gbt(){try{const t=yield ze(uyt);yield xe(Xxe(t))}catch(t){yield xe(e0e(t))}}function*ybt({roomId:t}){try{const e=yield ze(dyt,t);yield xe(t0e(e))}catch(e){yield xe(n0e(e))}}function*vbt({message:t}){try{const e=yield ze(Zyt,t);yield xe(r0e(e))}catch(e){yield xe(s0e(e))}}function*bbt({payload:t}){try{const e=yield ze(Xyt,t);yield xe(i0e(e)),ae.success("    ",{autoClose:2e3})}catch(e){yield xe(a0e(e)),ae.error("  ",{autoClose:2e3})}}function*_bt(){yield ft(zxe,mbt),yield ft(Wxe,pbt),yield ft(Gxe,gbt),yield ft(Hxe,ybt),yield ft(qxe,vbt),yield ft(Yxe,bbt)}function*wbt(){try{const t=yield ze(Eyt);yield xe(u0e(t))}catch(t){yield xe(d0e(t))}}function*xbt(){try{const t=yield ze(Syt);yield xe(h0e(t))}catch(t){yield xe(f0e(t))}}function*Ebt({payload:t}){try{const e=yield ze(jyt,t);yield xe(m0e(e))}catch(e){yield xe(p0e(e))}}function*Sbt(){yield ft(o0e,wbt),yield ft(l0e,xbt),yield ft(c0e,Ebt)}function*jbt(){try{const t=yield ze(Tyt);yield xe(v0e(t))}catch(t){yield xe(b0e(t))}}function*Tbt({invoiceId:t}){try{const e=yield ze(Cyt,t);yield xe(_0e(e))}catch(e){yield xe(w0e(e))}}function*Cbt(){yield ft(g0e,jbt),yield ft(y0e,Tbt)}function*Abt(){try{const t=yield ze(Ayt);yield xe(A0e(t))}catch(t){yield xe(N0e(t))}}function*Nbt({payload:t}){try{const e=yield ze(Vyt,t);yield xe(I0e(e)),ae.success("     ",{autoClose:2e3})}catch(e){yield xe(k0e(e)),ae.error("   ",{autoClose:2e3})}}function*Ibt({payload:t}){try{const e=yield ze(Uyt,t);yield xe(O0e(e)),ae.success("      ",{autoClose:2e3})}catch(e){yield xe(R0e(e)),ae.error("    ",{autoClose:2e3})}}function*kbt({payload:t}){try{const e=yield ze(Byt,t);yield xe(P0e(e)),ae.success("     ",{autoClose:2e3})}catch(e){yield xe(D0e(e)),ae.error("   ",{autoClose:2e3})}}function*Obt(){try{const t=yield ze(Nyt);yield xe(L0e(t))}catch(t){yield xe(M0e(t))}}function*Rbt({payload:t}){try{const e=yield ze(zyt,t);yield xe($0e(e)),ae.success("     ",{autoClose:2e3})}catch(e){yield xe(F0e(e)),ae.error("     ",{autoClose:2e3})}}function*Pbt(){yield ft(x0e,Abt),yield ft(E0e,Nbt),yield ft(S0e,Ibt),yield ft(j0e,kbt),yield ft(T0e,Obt),yield ft(C0e,Rbt)}function*Dbt(){try{const t=yield ze(Iyt);yield xe(W0e(t))}catch(t){yield xe(K0e(t))}}function*Lbt({projectId:t}){try{const e=yield ze(kyt,t);yield xe(J0e(e))}catch(e){yield xe(Q0e(e))}}function*Mbt({payload:t}){try{const e=yield ze(Wyt,t);yield xe(G0e(e)),ae.success("       ",{autoClose:2e3})}catch(e){yield xe(H0e(e)),ae.error("     ",{autoClose:2e3})}}function*$bt({payload:t}){try{const e=yield ze(Gyt,t);yield xe(q0e(e)),ae.success("    ",{autoClose:2e3})}catch(e){yield xe(Y0e(e)),ae.error("  ",{autoClose:2e3})}}function*Fbt(){yield ft(V0e,Dbt),yield ft(U0e,Lbt),yield ft(B0e,Mbt),yield ft(z0e,$bt)}function*Vbt(){try{const t=yield ze(Oyt);yield xe(tEe(t))}catch(t){yield xe(nEe(t))}}function*Ubt({payload:t}){try{const e=yield ze(Dyt,t);yield xe(rEe(e)),ae.success("KanBan    ",{autoClose:2e3})}catch(e){yield xe(sEe(e)),ae.error(" KanBan  ",{autoClose:2e3})}}function*Bbt({payload:t}){try{const e=yield ze(Ryt,t);yield xe(iEe(e)),ae.success("KanBan    ",{autoClose:2e3})}catch(e){yield xe(aEe(e)),ae.error("KanBan    ",{autoClose:2e3})}}function*zbt({payload:t}){try{const e=yield ze(Pyt,t);yield xe(oEe(e)),ae.success("   KanBan  ",{autoClose:2e3})}catch(e){yield xe(lEe(e)),ae.error(" KanBan  ",{autoClose:2e3})}}function*Wbt(){yield ft(Z0e,Vbt),yield ft(eEe,zbt),yield ft(_J,Ubt),yield ft(X0e,Bbt)}function*Gbt({payload:t}){try{const e=yield ze(Ade,t);yield xe(XJ(e))}catch(e){yield xe(eQ(e))}}function*Hbt(){try{const t=yield ze(Qyt);yield xe(PEe(t))}catch(t){yield xe(DEe(t))}}function*qbt({payload:t}){try{const e=yield ze(Cde,t);yield xe(tQ(e))}catch(e){yield xe(nQ(e))}}function*Ybt({payload:{selectedmails:t,folderId:e,activeTab:n}}){try{const r=yield ze(hyt,t,e);yield xe(OEe(r));try{const s=yield ze(Ade,parseInt(n));yield xe(XJ(s))}catch(s){yield xe(eQ(s))}try{const s=yield ze(Cde,null);yield xe(tQ(s))}catch(s){yield xe(nQ(s))}}catch(r){yield xe(REe(r))}}function*Kbt({payload:t}){try{const e=yield ze(qyt,t);yield xe(LEe(e))}catch(e){yield xe(MEe(e))}}function*Jbt({payload:t}){try{const e=yield ze(Yyt,t);yield xe($Ee(e))}catch(e){yield xe(FEe(e))}}function*Qbt({payload:t}){try{const e=yield ze(Kyt,t);yield xe(VEe(e))}catch(e){yield xe(UEe(e))}}function*Zbt({payload:t}){try{const e=yield ze(Jyt,t);yield xe(BEe(e))}catch(e){yield xe(zEe(e))}}function*Xbt(){yield ft(SEe,Gbt),yield ft(jEe,Hbt),yield ft(TEe,qbt),yield ft(CEe,Ybt),yield ft(AEe,Kbt),yield ft(NEe,Jbt),yield ft(IEe,Qbt),yield ft(kEe,Zbt)}function*e_t(){try{const t=yield ze(Lyt);yield xe(mEe(t))}catch(t){yield xe(yEe(t))}}function*t_t(){try{const t=yield ze(Hyt);yield xe(vEe(t))}catch(t){yield xe(bEe(t))}}function*n_t({payload:t}){try{const e=yield ze($yt,t);yield xe(_Ee(e)),ae.success("     ",{autoClose:2e3})}catch(e){yield xe(wEe(e)),ae.error("     ",{autoClose:2e3})}}function*r_t({payload:t}){try{const e=yield ze(Fyt,t);yield xe(xEe(e)),ae.success("    ",{autoClose:2e3})}catch(e){yield xe(EEe(e)),ae.error("  ",{autoClose:2e3})}}function*s_t({payload:t}){try{const e=yield ze(Myt,t);yield xe(pEe(e)),ae.success("    ",{autoClose:2e3})}catch(e){yield xe(gEe(e)),ae.error("    ",{autoClose:2e3})}}function*i_t(){yield ft(cEe,e_t),yield ft(uEe,t_t),yield ft(dEe,s_t),yield ft(hEe,n_t),yield ft(fEe,r_t)}function*a_t({payload:t}){try{var e=yield ze(oyt,t);yield xe(WEe(lx,e))}catch(n){yield xe(GEe(lx,n))}}function*o_t(){yield ft(lx,a_t)}function*l_t(){yield ru([Un(o_t)])}function*c_t({payload:t}){try{var e=yield ze(rvt,t);yield xe(cQ(ux,e))}catch(n){yield xe(uQ(ux,n))}}function*u_t({payload:t}){try{var e=yield ze(svt,t);yield xe(cQ(dx,e))}catch(n){yield xe(uQ(dx,n))}}function*d_t(){yield ft(ux,c_t)}function*h_t(){yield ft(dx,u_t)}function*f_t(){yield ru([Un(d_t)],yield ru([Un(h_t)]))}function*m_t({payload:t}){try{var e=yield ze(evt,t);yield xe(HEe(cx,e))}catch(n){yield xe(qEe(cx,n))}}function*p_t(){yield ft(cx,m_t)}function*g_t(){yield ru([Un(p_t)])}function*y_t({payload:t}){try{var e=yield ze(nvt,t);yield xe(YEe(hx,e))}catch(n){yield xe(KEe(hx,n))}}function*v_t(){yield ft(hx,y_t)}function*b_t(){yield ru([Un(v_t)])}function*__t({payload:t}){try{var e=yield ze(tvt,t);yield xe(JEe(fx,e))}catch(n){yield xe(QEe(fx,n))}}function*w_t(){yield ft(fx,__t)}function*x_t(){yield ru([Un(w_t)])}function*E_t(){yield ru([Un(fvt),Un(yvt),Un(wvt),Un(jvt),Un(zvt),Un(obt),Un(fbt),Un(_bt),Un(Xbt),Un(Sbt),Un(Cbt),Un(Pbt),Un(Fbt),Un(Wbt),Un(i_t),Un(l_t),Un(f_t),Un(g_t),Un(b_t),Un(x_t)])}const Ide=Kst(),S_t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||dae,j_t=uae(Lit,S_t($rt(Ide)));Ide.run(E_t);aP.createRoot(document.getElementById("root")).render(a.jsx(oe.Fragment,{children:a.jsx(rwe,{store:j_t,children:a.jsx(Zbe,{children:a.jsx(krt,{})})})}));Ort()});export default T_t();
